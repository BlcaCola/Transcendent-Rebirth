/*
 * 超凡新生 - 弹窗/对话框科技风格
 * Modal & Dialog Tech Style
 * 统一所有弹窗的科技风格
 */

/* ========== 通用弹窗样式 ========== */

/* 弹窗覆盖层 */
.modal-overlay,
.dialog-overlay,
.retry-dialog-overlay,
.custom-confirm-overlay,
.quantity-modal-overlay,
.item-modal-overlay,
.save-migration {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

/* 弹窗容器 */
.dialog-box,
.retry-dialog,
.quantity-modal,
.custom-confirm-modal,
.item-modal,
.modal-container,
.action-config-modal,
.deep-cultivation-modal,
.preset-save-modal,
[class*="modal"]:not(.modal-overlay):not(.modal-appear) {
  background: linear-gradient(135deg, rgba(15, 21, 53, 0.98), rgba(10, 14, 39, 0.98)) !important;
  border: 2px solid var(--tech-primary) !important;
  border-radius: 4px !important;
  box-shadow: 0 0 30px rgba(0, 217, 255, 0.4), inset 0 0 20px rgba(0, 217, 255, 0.1) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;
  position: relative;
}

/* 弹窗头部 */
.dialog-title,
.modal-header,
.confirm-header,
.retry-dialog-title,
[class*="modal-header"] h3,
[class*="modal-title"] {
  color: var(--tech-primary) !important;
  text-shadow: 0 0 10px rgba(0, 217, 255, 0.3) !important;
  font-weight: 600 !important;
  margin: 0 !important;
}

/* 弹窗内容 */
.dialog-message,
.modal-content,
.confirm-content,
.retry-dialog-message,
[class*="modal-body"],
[class*="modal-content"] {
  color: rgba(0, 217, 255, 0.85) !important;
}

/* 弹窗输入框 */
.dialog-input,
[class*="modal"] input[type="text"],
[class*="modal"] input[type="number"],
[class*="modal"] input[type="email"],
[class*="modal"] input[type="password"],
[class*="modal"] textarea {
  background: linear-gradient(135deg, rgba(10, 14, 39, 0.6), rgba(15, 21, 53, 0.6)) !important;
  border: 1px solid var(--tech-border) !important;
  color: var(--tech-primary) !important;
  border-radius: 4px !important;
  padding: 8px 12px !important;
  transition: all 0.3s ease !important;
}

.dialog-input::placeholder,
[class*="modal"] input::placeholder,
[class*="modal"] textarea::placeholder {
  color: rgba(0, 217, 255, 0.3) !important;
}

.dialog-input:focus,
[class*="modal"] input:focus,
[class*="modal"] textarea:focus {
  background: linear-gradient(135deg, rgba(10, 14, 39, 0.8), rgba(15, 21, 53, 0.8)) !important;
  border-color: var(--tech-primary) !important;
  box-shadow: 0 0 15px rgba(0, 217, 255, 0.3), inset 0 0 10px rgba(0, 217, 255, 0.1) !important;
  outline: none !important;
}

/* ========== 弹窗按钮 ========== */

.btn-dialog-confirm,
.btn-confirm,
.confirm-btn:not(.cancel-btn),
[class*="modal"] .btn-confirm,
[class*="modal-footer"] button:not([class*="cancel"]):not(.secondary):not(.danger),
.action-button.confirm-button,
.preset-action-button.confirm-button {
  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15)) !important;
  border: 2px solid var(--tech-primary) !important;
  color: var(--tech-primary) !important;
  border-radius: 4px !important;
  padding: 10px 20px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
}

.btn-dialog-confirm:hover:not(:disabled),
.btn-confirm:hover:not(:disabled),
.confirm-btn:hover:not(:disabled),
[class*="modal"] .btn-confirm:hover:not(:disabled),
.action-button.confirm-button:hover,
.preset-action-button.confirm-button:hover {
  background: linear-gradient(135deg, rgba(0, 217, 255, 0.3), rgba(157, 0, 255, 0.2)) !important;
  box-shadow: 0 0 20px rgba(0, 217, 255, 0.4) !important;
  transform: translateY(-2px) !important;
}

/* 取消/关闭按钮 */
.btn-dialog-cancel,
.btn-cancel,
.cancel-btn,
.confirm-close-btn,
[class*="modal"] .btn-cancel,
[class*="modal-footer"] button[class*="cancel"],
.action-button:not(.confirm-button),
.preset-action-button:not(.confirm-button) {
  background: linear-gradient(135deg, rgba(157, 0, 255, 0.08), rgba(157, 0, 255, 0.04)) !important;
  border: 1px solid var(--tech-border) !important;
  color: rgba(0, 217, 255, 0.7) !important;
  border-radius: 4px !important;
  padding: 10px 20px !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
}

.btn-dialog-cancel:hover,
.btn-cancel:hover,
.cancel-btn:hover,
.confirm-close-btn:hover,
[class*="modal"] .btn-cancel:hover,
.action-button:hover,
.preset-action-button:hover {
  background: linear-gradient(135deg, rgba(157, 0, 255, 0.15), rgba(157, 0, 255, 0.08)) !important;
  border-color: var(--tech-secondary) !important;
  color: var(--tech-secondary) !important;
  box-shadow: 0 0 15px rgba(157, 0, 255, 0.2) !important;
}

/* 危险按钮 */
.btn-danger,
.discard-confirm,
[class*="modal"] .btn-danger,
.action-button.danger {
  background: linear-gradient(135deg, rgba(255, 0, 85, 0.15), rgba(255, 0, 85, 0.08)) !important;
  border: 1px solid var(--tech-danger) !important;
  color: var(--tech-danger) !important;
}

.btn-danger:hover:not(:disabled),
.discard-confirm:hover,
[class*="modal"] .btn-danger:hover:not(:disabled),
.action-button.danger:hover {
  background: linear-gradient(135deg, rgba(255, 0, 85, 0.25), rgba(255, 0, 85, 0.15)) !important;
  box-shadow: 0 0 20px rgba(255, 0, 85, 0.3) !important;
}

/* 按钮禁用状态 */
button:disabled,
.btn:disabled,
[class*="modal"] button:disabled {
  opacity: 0.45 !important;
  cursor: not-allowed !important;
  pointer-events: none !important;
}

/* ========== 弹窗分割线 ========== */

[class*="modal"] hr,
[class*="modal"] .divider,
.modal-header,
.confirm-header {
  border: none !important;
  border-bottom: 1px solid var(--tech-border) !important;
  background: none !important;
}

/* ========== 弹窗头部装饰线 ========== */

.modal-header::before,
.confirm-header::before,
.dialog-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--tech-primary), transparent);
  z-index: 10;
}

/* ========== 其他弹窗特定样式 ========== */

/* 关闭按钮 */
[class*="close"],
.confirm-close-btn {
  background: transparent !important;
  border: none !important;
  color: rgba(0, 217, 255, 0.6) !important;
  transition: all 0.2s ease !important;
}

[class*="close"]:hover,
.confirm-close-btn:hover {
  color: var(--tech-primary) !important;
  transform: rotate(90deg) !important;
}

/* 加载状态 */
.loading,
[class*="loading"] {
  color: var(--tech-primary) !important;
}

/* 列表项 */
[class*="modal"] li,
[class*="modal"] .list-item,
[class*="preset"] .preset-item {
  color: rgba(0, 217, 255, 0.8) !important;
  border: 1px solid var(--tech-border) !important;
  border-radius: 4px !important;
  transition: all 0.2s ease !important;
}

[class*="modal"] li:hover,
[class*="preset"] .preset-item:hover {
  background: linear-gradient(135deg, rgba(0, 217, 255, 0.05), rgba(157, 0, 255, 0.03)) !important;
  border-color: var(--tech-primary) !important;
}

/* ========== 动画效果 ========== */

@keyframes modal-appear {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

[class*="modal"]:not(.modal-overlay) {
  animation: modal-appear 0.3s ease-out !important;
}

/* ========== 响应式 ========== */

@media (max-width: 768px) {
  .modal-overlay,
  .dialog-overlay,
  .retry-dialog-overlay,
  .custom-confirm-overlay,
  .quantity-modal-overlay {
    padding: 16px !important;
  }

  [class*="modal"],
  .dialog-box,
  .retry-dialog,
  .quantity-modal,
  .custom-confirm-modal {
    max-width: 100% !important;
    width: 100% !important;
  }
}

@media (max-width: 480px) {
  .modal-overlay,
  .dialog-overlay,
  .retry-dialog-overlay,
  .custom-confirm-overlay,
  .quantity-modal-overlay {
    padding: 12px !important;
  }

  [class*="modal"],
  .dialog-box,
  .retry-dialog,
  .quantity-modal,
  .custom-confirm-modal {
    border-radius: 3px !important;
  }
}
