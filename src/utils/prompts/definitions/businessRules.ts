/**
 * @fileoverview 游戏业务逻辑规则 v2.0 (精简版)
 */

export const REALM_SYSTEM_RULES = `
# 等级体系
顺序：街头人>跑者>潜影者>雇佣猎手>战术大师>企业特使>幽网主宰>城邦执掌>传说级
阶段：试用>稳定>强化>突破>极限(罕见)
晋升：小阶段进度满自动晋升；跨阶需条件/资源/风险
压制：跨阶差=绝对碾压；同阶差2阶段=压倒性；差1可用装备/战术弥补
禁止：唯心爆发逆袭
`.trim()

export const REALM_SUPPRESSION_RULES = `
`.trim()

export const THREE_THOUSAND_DAOS_RULES = `
# 专精树体系

## 核心概念
角色可解锁多条专精路径（战术、黑客、改造、情报等），以经验推进阶段。
专精名称需符合赛博朋克语境，如：潜入、反制、战术火力、义体改造、深网控制等。

## 数据路径
路径：角色.流派.流派列表.[专精名]
操作：set解锁专精 | add经验 | add阶段突破

## 指令示例
解锁：{"action":"set","key":"角色.流派.流派列表.潜入","value":{"流派名":"潜入","描述":"以情报与隐匿取胜","阶段列表":[{"阶段名":"入门","需求经验":0},{"阶段名":"熟练","需求经验":100}],"是否解锁":true,"当前阶段":0,"当前经验":0,"总经验":0}}
增加经验：{"action":"add","key":"角色.流派.流派列表.潜入.当前经验","value":50}
`.trim()

export const NPC_RULES = `
# NPC规则（铁律）

## 动态世界
世界不以[user]为中心！NPC有独立生活轨迹，即使无玩家参与城市照常运转。
身份决定行为：公司职员执行流程、安保巡逻、黑市贩子交易、帮派争地盘。

## 等级独立（严禁参考[user]）
- ❌ 禁止生成“比玩家高/低X等级”的镜像NPC
- ❌ 禁止为剧情方便“量身定制”对手
- ✅ 根据场景合理分布：贫民区低阶居多、公司核心区高阶集中

## 多样化要求
- 名字：避免模板化，可用昵称/代号/真实姓名组合
- 性格：禁止全员同质化
- 行为：高阶不会无故关注低阶，NPC不会无条件送资源

## 技术规范
创建：一次性set完整对象 | 必需字段：名字/性别/年龄/等级/性格/外貌/背景/好感度/记忆/位置
等级更新：set整体{"名称":"跑者","阶段":"稳定"}
`.trim()

export const GRAND_CONCEPT_CONSTRAINTS = `
# 宏大概念约束
避免玄学与神秘论，所有能力必须基于科技/改造/算法/战术解释
禁止“命运注定/天启选择”等空泛叙述
能力必须具体化：接口流程/设备限制/资源消耗
`.trim()

export const SKILL_AND_SPELL_USAGE_RULES = `
# 技能消耗规则
所有主动技能消耗均为百分比，使用后必须生成消耗指令。
消耗类型：电量(常规)/带宽(黑客)/生命值(负荷)/生理耐久(禁忌改造)
消耗标准：基础3~8% | 核心10~20% | 杀招25~40% | 禁术50~80%
指令示例：{"action":"add","key":"角色.属性.电量.当前","value":-15}
`.trim()

export const CULTIVATION_DETAIL_RULES = `
# 叙事风格
环境：霓虹、金属、雨雾、噪声与屏幕光影
动作：强调速度、接口、载荷与战术效率，拒绝游戏读条式描述
度量：优先使用秒/分钟/层级/权限等现代单位
格调：冷峻、克制、技术感强，避免古风用语
`.trim()

export const STATUS_EFFECT_RULES = `
# 状态效果
路径：角色.效果（数组）
操作：push添加 | set修改 | 过期由系统清理
`.trim();

export const LOCATION_UPDATE_RULES = `
# 位置更新
触发：移动/场景变化时必须更新
格式：set 角色.位置 {描述:"城区·街区·节点",x:5000,y:5000}
坐标：中心(5000,5000)，东+x/西-x/北-y/南+y
`.trim()

export const COMMAND_PATH_CONSTRUCTION_RULES = `
# 命令路径规则
原则：逐层连接(角色.属性.阶位) | 动态拼接(社交.关系.[NPC名]) | 数组索引(角色.效果[0])
顶层：元数据/角色/社交/世界/系统
常用：add增减数值 | set设置对象 | push添加数组 | delete删除
删除物品用delete不用remove！技能消耗=上限×百分比！
`.trim();

export const TECHNIQUE_SYSTEM_RULES = `
# 技能模块系统
路径：模块存角色.背包.物品.{ID}，引用存角色.训练.训练模块
学习：同时set模块到背包+设置训练引用+设置当前模块ID
技能命名：动词+目的/效果，禁止“技能1”等占位命名
`.trim()

export const PLAYER_AUTONOMY_RULES = `
# 玩家自主权（铁律）
AI只描写当前回合发生的事，绝不替玩家做决定！
禁止：替玩家选择/说话/行动/预设意图，禁止跳过等待输入
正确：描写环境和NPC反应后停止，等待玩家回应
示例：❌"你点头答应随他前往" → ✅"干部目光落在你身上，等待回应"
`.trim();

// NSFW内容规则已移除 - 适用于国内版本

export const RATIONALITY_AUDIT_RULES = `
# 合理性审查（铁律）
玩家只能叙述自身行动/意图，结果由AI判定。
拒绝：决定结果/控制NPC/创造机遇/修改世界
反主角光环：允许失败甚至死亡，作死必有代价
识别诡辩：NPC有独立利益与风险评估
`.trim()

export const PROFESSION_MASTERY_RULES = `
# 行当与熟练度（铁律）
任何“黑客/改造/制造/医疗/爆破/情报”等技能必须满足：学习→练习→熟练。
- 无对应专精/技能/训练记录：默认不可直接成功，只能做入门或失败
- 第一次尝试算入门学习，可解锁专精为入门并获得少量经验
- 成功率与品质主要由专精阶段/经验决定，其次是装备/环境/工具
- 每次练习必须推进游戏时间；按结果增减专精经验
`.trim()

export const ANTI_SYCOPHANCY_RULES = `
# 反谄媚（高优先级）
- 不迎合用户：不要默认“你说成功就成功”，结果必须基于规则与存档数值判定。
- 不夸大/拍马：少用夸赞、附和、吹捧语气；用冷静客观的叙述。
- 不做无成本许诺：任何收益都要有代价、风险、条件与后果；不合理请求要明确拒绝或改为可行方案。
`.trim();

export const DUAL_REALM_NARRATIVE_RULES = `
# 难度控制
日常接触限制在当前等级+2级内
破格条件：公司冲突/世界级事件/长期敌对
物品品质：底层~跑者最高民用，潜影~猎手可见改装与军规
`.trim()

export const DIFFICULTY_ENHANCEMENT_RULES = `
# 难度增强
赛博都市危机四伏：资源稀缺、竞争激烈、风险无处不在
成功率：普通50-70% | 高难度20-40% | 逆天5-15% | 作死0-5%
失败有后果：受伤/负债/通缉/系统追踪
`.trim()

export const SECT_SYSTEM_RULES = `
# 组织系统
职位：合约工→正式员工→主管→部门负责人→高层
贡献：任务/情报/资金，兑换权限与资源
内部存在派系与资源竞争
`.trim()

// 战斗/制造/训练风险 精简版
export const COMBAT_ALCHEMY_RISK_RULES = `
# 判定风险规则

## 伤害等级
皮外伤-5~10%生命值 | 轻伤-15~25% | 重伤-30~50% | 濒死-60~80% | 致命-90%+

## 等级压制
跨阶差=秒杀，越阶每差一级判定-20

## 改造/制造
难度：民用20/改装35/军规50/特级70/禁忌90，失败损耗材料，大失败反噬

## 训练风险
神经过载/接口崩溃/精神失稳/系统反制

## 技能消耗（铁律）
使用主动技能必须生成消耗指令！消耗=上限×百分比
仅允许消耗：电量 / 带宽 / 生命值 / 生理耐久
禁止使用其他资源名
`.trim()

// 模块训练与晋升系统规则
export const CULTIVATION_PRACTICE_RULES = `
# 训练与晋升
常规训练1-5%/回合，深度训练5-15%效率提升
技能按熟练度阈值解锁，100%后可尝试晋升（失败可能受伤）
`.trim()

// 流派解析系统规则
export const DAO_COMPREHENSION_RULES = `
# 专精成长
专精名称需符合赛博朋克语境
经验获取：日常10~50 | 战斗30~150 | 事件100~500 | 深度训练50~200/回合
阶段：入门→熟练→精通→专家→大师→传说
`.trim()

// 训练速度系统规则
export const CULTIVATION_SPEED_RULES = `
# 训练速度（铁律）
严禁短时间跨阶！训练必须推进游戏时间。
信号强度影响速度：低0.1-0.4 | 中0.4-0.7 | 高0.7-1.0 | 极高1.0-1.5 | 饱和1.5-2.0
晋升参考：低阶小阶段3天-3周，中阶2周-6月；越高越久
`.trim()

// 六维获取规则
export const SIX_SI_ACQUISITION_RULES = `
# 素质系统
基础素质(0-10)占70%权重，改造素质(0-20)占30%权重
改造获取：装备+3/模块+2/注入耗材+2/事件+5/专精成长+1/晋升+1
`.trim()

// 组织动态生成规则
export const SECT_DYNAMIC_GENERATION_RULES = `
# 组织动态生成
延迟初始化：加入时只创建框架，黑市/权限商店首次访问时生成
路径：社交.组织.黑市.[组织名] | 社交.组织.权限商店.[组织名]
`.trim()
