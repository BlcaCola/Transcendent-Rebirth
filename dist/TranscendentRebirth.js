/*! For license information please see TranscendentRebirth.js.LICENSE.txt */
(()=>{var e={31:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},40:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.toast-container[data-v-3b7b835b] {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 20000;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n}\n.toast[data-v-3b7b835b] {\n  display: flex;\n  align-items: center;\n  padding: 12px 20px;\n  border-radius: 4px;\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.95), rgba(10, 14, 39, 0.95));\n  border: 2px solid;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);\n  color: var(--tech-primary);\n  min-width: 250px;\n  max-width: 400px;\n  margin-bottom: 8px;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  animation: toast-slide-in-3b7b835b 0.3s ease-out;\n}\n@keyframes toast-slide-in-3b7b835b {\nfrom {\n    opacity: 0;\n    transform: translateX(100px);\n}\nto {\n    opacity: 1;\n    transform: translateX(0);\n}\n}\n.toast-icon[data-v-3b7b835b] {\n  margin-right: 12px;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n}\n.toast-message[data-v-3b7b835b] {\n  word-break: break-word;\n  font-size: 0.95rem;\n  line-height: 1.4;\n  font-weight: 500;\n}\n\n/* Toast Types */\n.toast-success[data-v-3b7b835b] {\n  border-color: var(--tech-success);\n  box-shadow: 0 0 20px rgba(0, 255, 170, 0.3);\n}\n.toast-success .toast-icon[data-v-3b7b835b]::before {\n  content: '‚úì';\n  color: var(--tech-success);\n}\n.toast-error[data-v-3b7b835b] {\n  border-color: var(--tech-danger);\n  box-shadow: 0 0 20px rgba(255, 0, 85, 0.3);\n}\n.toast-error .toast-icon[data-v-3b7b835b]::before {\n  content: '‚úï';\n  color: var(--tech-danger);\n}\n.toast-warning[data-v-3b7b835b] {\n  border-color: var(--tech-warning);\n  box-shadow: 0 0 20px rgba(255, 107, 0, 0.3);\n}\n.toast-warning .toast-icon[data-v-3b7b835b]::before {\n  content: '‚ö†';\n  color: var(--tech-warning);\n}\n.toast-info[data-v-3b7b835b] {\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);\n}\n.toast-info .toast-icon[data-v-3b7b835b]::before {\n  content: '‚Ñπ';\n  color: var(--tech-primary);\n}\n.toast-loading[data-v-3b7b835b] {\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.4);\n}\n\n/* Spinner for loading */\n.spinner[data-v-3b7b835b] {\n  width: 20px;\n  height: 20px;\n  border: 3px solid rgba(0, 217, 255, 0.2);\n  border-top-color: var(--tech-primary);\n  border-radius: 50%;\n  animation: spin-3b7b835b 1s linear infinite;\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.3);\n}\n@keyframes spin-3b7b835b {\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* Transitions */\n.toast-fade-enter-active[data-v-3b7b835b],\n.toast-fade-leave-active[data-v-3b7b835b] {\n  transition: all 0.5s ease;\n}\n.toast-fade-enter-from[data-v-3b7b835b],\n.toast-fade-leave-to[data-v-3b7b835b] {\n  opacity: 0;\n  transform: translateX(100%);\n}\n@media (max-width: 768px) {\n.toast-container[data-v-3b7b835b] {\n    top: 12px;\n    right: 12px;\n    gap: 12px;\n}\n.toast[data-v-3b7b835b] {\n    min-width: 220px;\n    max-width: 85vw;\n}\n}\n",""]);const s=i},76:e=>{"use strict";e.exports=Function.prototype.call},100:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useAPIManagementStore:()=>s});var a=n(810),r=n(4061),o=n(9333),i=n(8546);const s=(0,a.nY)("apiManagement",()=>{const e=[{type:"main",apiId:"default"},{type:"memory_summary",apiId:"default"},{type:"embedding",apiId:"default"},{type:"text_optimization",apiId:"default"},{type:"cot",apiId:"default"},{type:"instruction_generation",apiId:"default"},{type:"world_generation",apiId:"default"},{type:"event_generation",apiId:"default"},{type:"sect_generation",apiId:"default"}],t=[{type:"memory_summary",mode:"raw"},{type:"text_optimization",mode:"raw"},{type:"world_generation",mode:"raw"},{type:"event_generation",mode:"raw"},{type:"sect_generation",mode:"raw"}],n=[{type:"memory_summary",enabled:!0},{type:"text_optimization",enabled:!1},{type:"world_generation",enabled:!0},{type:"event_generation",enabled:!0},{type:"sect_generation",enabled:!0},{type:"cot",enabled:!1}],a=(0,r.ref)([{id:"default",name:"ÈªòËÆ§API",provider:"openai",url:"https://api.openai.com",apiKey:"",model:"gpt-4o",temperature:.7,maxTokens:16e3,enabled:!0}]),s=(0,r.ref)([...e]),l=(0,r.ref)([...t]),c=(0,r.ref)([...n]),d=(0,r.ref)({enableSystemCoT:!1}),u=(0,r.computed)(()=>a.value.filter(e=>e.enabled)),m=(0,r.computed)(()=>{const e=s.value.find(e=>"cot"===e.type),t=s.value.find(e=>"main"===e.type),n=s.value.find(e=>"instruction_generation"===e.type);return e?.apiId&&"default"!==e.apiId||t?.apiId&&"default"!==t.apiId||n?.apiId&&"default"!==n.apiId}),p=()=>{a.value=[{id:"default",name:"ÈªòËÆ§API",provider:"openai",url:"https://api.openai.com",apiKey:"",model:"gpt-4o",temperature:.7,maxTokens:16e3,enabled:!0}],s.value=[...e],l.value=[...t],c.value=[...n],d.value={enableSystemCoT:!1}},g=r=>{r?.aiGenerationSettings&&(d.value={...d.value,...r.aiGenerationSettings}),a.value=Array.isArray(r?.apiConfigs)?r.apiConfigs:[];const o=new Set(e.map(e=>e.type)),i=new Map;e.forEach(e=>i.set(e.type,{...e}));const u=Array.isArray(r?.apiAssignments)?r.apiAssignments:[];for(const e of u){const t=e?.type,n="string"==typeof e?.apiId?e.apiId:"default";t&&o.has(t)&&i.set(t,{type:t,apiId:n})}const m=new Set((a.value||[]).map(e=>e?.id).filter(Boolean)),p=e.map(e=>{const t=i.get(e.type)||e,n=m.has(t.apiId)?t.apiId:"default";return{type:e.type,apiId:n}});s.value=p;const g=new Set(t.map(e=>e.type)),h=new Map;t.forEach(e=>h.set(e.type,{...e}));const f=Array.isArray(r?.functionModes)?r.functionModes:[];for(const e of f){const t=e?.type,n="standard"===e?.mode?"standard":"raw";t&&g.has(t)&&h.set(t,{type:t,mode:n})}l.value=t.map(e=>h.get(e.type)||e);const v=new Set(n.map(e=>e.type)),b=new Map;n.forEach(e=>b.set(e.type,{...e}));const y=Array.isArray(r?.functionEnabled)?r.functionEnabled:[];for(const e of y){const t=e?.type,n=!0===e?.enabled;t&&v.has(t)&&b.set(t,{type:t,enabled:n})}c.value=n.map(e=>b.get(e.type)||e),0===a.value.length&&a.value.push({id:"default",name:"ÈªòËÆ§API",provider:"openai",url:"https://api.openai.com",apiKey:"",model:"gpt-4o",temperature:.7,maxTokens:16e3,enabled:!0})},h=()=>({apiConfigs:a.value,apiAssignments:s.value,functionModes:l.value,functionEnabled:c.value,aiGenerationSettings:d.value}),f=e=>{try{if(!localStorage.getItem("access_token"))return void localStorage.removeItem("api_management_config");const t=h();localStorage.setItem("api_management_config",JSON.stringify(t)),e?.skipRemote||v(t)}catch(e){console.error("[APIÁÆ°ÁêÜ] ‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•:",e)}},v=async e=>{if(localStorage.getItem("access_token")&&(0,i.isBackendConfigured)())try{const t=e??h();await o.Em.put("/api/v1/user/api-config",{config:t})}catch(e){console.error("[APIÁÆ°ÁêÜ] ‰øùÂ≠òÂà∞ÂêéÁ´ØÂ§±Ë¥•:",e)}};return{apiConfigs:a,apiAssignments:s,functionModes:l,functionEnabled:c,aiGenerationSettings:d,enabledAPIs:u,shouldEnableSplitGeneration:m,loadFromStorage:()=>{try{const e=localStorage.getItem("api_management_config");if(e){const t=JSON.parse(e);g(t)}else p()}catch(e){console.error("[APIÁÆ°ÁêÜ] Âä†ËΩΩÈÖçÁΩÆÂ§±Ë¥•:",e),p()}},loadFromBackend:async()=>{if(!localStorage.getItem("access_token")||!(0,i.isBackendConfigured)())return p(),!1;try{const e=await o.Em.get("/api/v1/user/api-config");return e?.config?g(e.config):p(),f({skipRemote:!0}),!0}catch(e){return console.error("[APIÁÆ°ÁêÜ] ‰ªéÂêéÁ´ØÂä†ËΩΩÈÖçÁΩÆÂ§±Ë¥•:",e),p(),!1}},saveToStorage:f,saveToBackend:v,clearAll:async e=>{p(),localStorage.removeItem("api_management_config");const t=localStorage.getItem("access_token");if(e?.clearRemote&&t&&(0,i.isBackendConfigured)())try{await o.Em.delete("/api/v1/user/api-config")}catch(e){console.error("[APIÁÆ°ÁêÜ] Ê∏ÖÁ©∫ÂêéÁ´ØÈÖçÁΩÆÂ§±Ë¥•:",e)}},addAPI:e=>{const t={...e,id:`api_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};return a.value.push(t),f(),t.id},updateAPI:(e,t)=>{const n=a.value.findIndex(t=>t.id===e);-1!==n&&(a.value[n]={...a.value[n],...t},f())},deleteAPI:e=>{if("default"===e)throw new Error("‰∏çËÉΩÂà†Èô§ÈªòËÆ§APIÈÖçÁΩÆ");s.value.forEach(t=>{t.apiId===e&&(t.apiId="default")}),a.value=a.value.filter(t=>t.id!==e),f()},assignAPI:(e,t)=>{const n=s.value.find(t=>t.type===e);n?n.apiId=t:s.value.push({type:e,apiId:t}),f()},getAPIForType:e=>{const t=s.value.find(t=>t.type===e);if(!t)return null;return a.value.find(e=>e.id===t.apiId&&e.enabled)||a.value.find(e=>"default"===e.id)||null},toggleAPI:e=>{const t=a.value.find(t=>t.id===e);t&&(t.enabled=!t.enabled,f())},setFunctionMode:(e,t)=>{const n=l.value.find(t=>t.type===e);n?n.mode=t:l.value.push({type:e,mode:t}),f()},getFunctionMode:e=>{const t=l.value.find(t=>t.type===e);return t?.mode||"raw"},setFunctionEnabled:(e,t)=>{const n=c.value.find(t=>t.type===e);n?n.enabled=t:c.value.push({type:e,enabled:t}),f()},isFunctionEnabled:e=>{const t=c.value.find(t=>t.type===e);return t?.enabled??!0},updateAIGenerationSettings:e=>{d.value={...d.value,...e},f()},exportConfig:()=>({apiConfigs:a.value,apiAssignments:s.value,functionModes:l.value,functionEnabled:c.value,aiGenerationSettings:d.value,exportTime:(new Date).toISOString()}),importConfig:e=>{try{e.apiConfigs&&Array.isArray(e.apiConfigs)&&(a.value=e.apiConfigs),e.apiAssignments&&Array.isArray(e.apiAssignments)&&(s.value=e.apiAssignments),e.functionModes&&Array.isArray(e.functionModes)&&(l.value=e.functionModes),e.functionEnabled&&Array.isArray(e.functionEnabled)&&(c.value=e.functionEnabled),e.aiGenerationSettings&&(d.value={...d.value,...e.aiGenerationSettings}),f()}catch(e){throw console.error("[APIÁÆ°ÁêÜ] ÂØºÂÖ•ÈÖçÁΩÆÂ§±Ë¥•:",e),e}}}})},112:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.action-menu[data-v-7abf98f0] {\n  position: fixed;\n  z-index: 120;\n}\n.overlay[data-v-7abf98f0] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.2);\n  backdrop-filter: blur(2px);\n  z-index: 0;\n}\n.fab[data-v-7abf98f0] {\n  width: 48px;\n  height: 48px;\n  border-radius: 4px;\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.08));\n  backdrop-filter: blur(10px);\n  border: 2px solid var(--tech-primary);\n  color: var(--tech-primary);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.25s ease;\n  position: relative;\n  z-index: 2;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3), inset 0 0 10px rgba(0, 217, 255, 0.1);\n}\n.fab[data-v-7abf98f0]:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.12));\n  color: var(--tech-primary);\n  border-color: var(--tech-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.5), inset 0 0 15px rgba(0, 217, 255, 0.15);\n}\n.menu[data-v-7abf98f0] {\n  position: absolute;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 10px;\n  border-radius: 4px;\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.98), rgba(10, 14, 39, 0.98));\n  border: 2px solid var(--tech-primary);\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.4), inset 0 0 20px rgba(0, 217, 255, 0.1);\n  backdrop-filter: blur(14px);\n  -webkit-backdrop-filter: blur(14px);\n  z-index: 2;\n  min-width: 180px;\n  white-space: nowrap;\n}\n[data-v-7abf98f0] .action-menu-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 10px 12px;\n  border-radius: 4px;\n  border: 1px solid var(--tech-border);\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.05), rgba(157, 0, 255, 0.03));\n  color: var(--tech-primary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-align: left;\n  width: 100%;\n  text-decoration: none;\n  font-family: inherit;\n  font-size: 0.95rem;\n  box-sizing: border-box;\n  font-weight: 500;\n}\n\n/* Á°Æ‰øù <a> Ê†áÁ≠æ‰Ωú‰∏∫ËèúÂçïÈ°πÊó∂Ê†∑Âºè‰∏ÄËá¥ */\n[data-v-7abf98f0] a.action-menu-item {\n  display: flex;\n}\n[data-v-7abf98f0] .action-menu-item:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(157, 0, 255, 0.1));\n  border-color: var(--tech-primary);\n  color: var(--tech-primary);\n  transform: translateX(-2px);\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);\n}\n[data-v-7abf98f0] .action-menu-item.is-disabled {\n  opacity: 0.45;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n[data-v-7abf98f0] .action-menu-item span {\n  font-size: 0.95rem;\n  letter-spacing: 0.05em;\n}\n[data-v-7abf98f0] .action-menu-item.is-danger {\n  border-color: var(--tech-danger);\n  color: var(--tech-danger);\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.08), rgba(255, 0, 85, 0.03));\n}\n[data-v-7abf98f0] .action-menu-item.is-danger:hover {\n  border-color: var(--tech-danger);\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.15), rgba(255, 0, 85, 0.08));\n  box-shadow: 0 0 15px rgba(255, 0, 85, 0.3);\n}\n.pos-bottom-right .menu[data-v-7abf98f0] {\n  bottom: 62px;\n}\n.pos-top-right .menu[data-v-7abf98f0] {\n  top: 62px;\n}\n.menu-fade-enter-active[data-v-7abf98f0],\n.menu-fade-leave-active[data-v-7abf98f0] {\n  transition: opacity 0.18s ease;\n}\n.menu-fade-enter-from[data-v-7abf98f0],\n.menu-fade-leave-to[data-v-7abf98f0] {\n  opacity: 0;\n}\n.menu-pop-enter-active[data-v-7abf98f0],\n.menu-pop-leave-active[data-v-7abf98f0] {\n  transition: transform 0.18s ease, opacity 0.18s ease;\n}\n.menu-pop-enter-from[data-v-7abf98f0],\n.menu-pop-leave-to[data-v-7abf98f0] {\n  opacity: 0;\n  transform: translateY(6px) scale(0.98);\n}\n@media (max-width: 600px) {\n.action-menu[data-v-7abf98f0] {\n    bottom: 12px;\n    right: 12px;\n    top: auto;\n}\n.pos-top-right[data-v-7abf98f0] {\n    top: 12px;\n    bottom: auto;\n}\n.fab[data-v-7abf98f0] {\n    width: 40px;\n    height: 40px;\n    border-radius: 10px;\n}\n.pos-bottom-right .menu[data-v-7abf98f0] {\n    bottom: 52px;\n    min-width: 150px;\n}\n.pos-top-right .menu[data-v-7abf98f0] {\n    top: 52px;\n    min-width: 150px;\n}\n}\n",""]);const s=i},199:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.left-sidebar[data-v-4491be5a] {\n  width: 100%;\n  height: 100%;\n  padding: 18px;\n  box-sizing: border-box;\n  font-family: var(--font-family-sans-serif);\n  display: flex;\n  flex-direction: column;\n  background: rgba(6, 10, 20, 0.96);\n  color: #e2e8f0;\n}\n.left-sidebar.fullscreen[data-v-4491be5a] {\n  height: 100%;\n  overflow: hidden;\n}\n.menu-top[data-v-4491be5a] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n  border-bottom: 1px solid rgba(0, 240, 255, 0.2);\n}\n.menu-brand[data-v-4491be5a] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.brand-icon[data-v-4491be5a] {\n  color: #00f0ff;\n}\n.brand-text[data-v-4491be5a] {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n.brand-title[data-v-4491be5a] {\n  font-size: 0.9rem;\n  letter-spacing: 0.2em;\n  color: #00f0ff;\n  text-transform: uppercase;\n}\n.brand-sub[data-v-4491be5a] {\n  font-size: 0.7rem;\n  color: rgba(226, 232, 240, 0.7);\n  font-family: 'Courier New', monospace;\n}\n.version-chip[data-v-4491be5a] {\n  font-size: 0.7rem;\n  padding: 4px 8px;\n  border-radius: 999px;\n  background: rgba(0, 240, 255, 0.15);\n  border: 1px solid rgba(0, 240, 255, 0.4);\n  color: #00f0ff;\n}\n.menu-body[data-v-4491be5a] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px 0;\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n}\n.menu-section[data-v-4491be5a] {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.section-header[data-v-4491be5a] {\n  font-size: 0.75rem;\n  letter-spacing: 0.2em;\n  text-transform: uppercase;\n  color: rgba(0, 240, 255, 0.75);\n}\n.tile-grid[data-v-4491be5a] {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 10px;\n}\n.menu-tile[data-v-4491be5a] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 12px;\n  background: rgba(8, 12, 22, 0.8);\n  border: 1px solid rgba(0, 240, 255, 0.2);\n  border-radius: 10px;\n  color: #e2e8f0;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.8rem;\n}\n.menu-tile[data-v-4491be5a]:hover {\n  background: rgba(0, 240, 255, 0.12);\n  border-color: rgba(0, 240, 255, 0.55);\n  box-shadow: 0 0 16px rgba(0, 240, 255, 0.25);\n}\n.menu-tile[data-v-4491be5a]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n.system-toggle[data-v-4491be5a] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  width: 100%;\n  padding: 12px;\n  border-radius: 10px;\n  background: rgba(138, 43, 255, 0.15);\n  border: 1px solid rgba(138, 43, 255, 0.4);\n  color: #d9c7ff;\n  cursor: pointer;\n  font-size: 0.85rem;\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n  justify-content: space-between;\n}\n.toggle-arrow[data-v-4491be5a] {\n  transition: transform 0.2s ease;\n}\n.toggle-arrow.expanded[data-v-4491be5a] {\n  transform: rotate(180deg);\n}\n.system-grid[data-v-4491be5a] {\n  margin-top: 8px;\n}\n.admin-tile[data-v-4491be5a] {\n  border-color: rgba(255, 193, 7, 0.6);\n  color: #ffd166;\n}\n.menu-footer[data-v-4491be5a] {\n  padding-top: 12px;\n  border-top: 1px solid rgba(0, 240, 255, 0.2);\n}\n.exit-strip[data-v-4491be5a] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  padding: 12px;\n  border-radius: 12px;\n  border: 1px solid rgba(255, 45, 111, 0.6);\n  background: rgba(255, 45, 111, 0.1);\n  color: #ff2d6f;\n  cursor: pointer;\n  font-size: 0.85rem;\n}\n@media (max-width: 768px) {\n.tile-grid[data-v-4491be5a] {\n    grid-template-columns: 1fr;\n}\n}\n",""]);const s=i},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function a(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,a,o,i){if("function"!=typeof a)throw new TypeError("The listener must be a function");var s=new r(a,o||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function s(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,a,r=[];if(0===this._eventsCount)return r;for(a in e=this._events)t.call(e,a)&&r.push(n?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var r=0,o=a.length,i=new Array(o);r<o;r++)i[r]=a[r].fn;return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,a=this._events[t];return a?a.fn?1:a.length:0},s.prototype.emit=function(e,t,a,r,o,i){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,a),!0;case 4:return d.fn.call(d.context,t,a,r),!0;case 5:return d.fn.call(d.context,t,a,r,o),!0;case 6:return d.fn.call(d.context,t,a,r,o,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,a);break;case 4:d[c].fn.call(d[c].context,t,a,r);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,a,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||a&&s.context!==a||i(this,o);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||r&&!s[l].once||a&&s[l].context!==a)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new a,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},236:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var a=n(7445);async function r(e,t,n=!1,r){try{const o=await a.aiService.generateRaw({ordered_prompts:[{role:"user",content:t},{role:"user",content:e},{role:"user",content:"ÂºÄÂßã‰ªªÂä°"}],should_stream:n,usageType:r,overrides:{world_info_before:"",world_info_after:""}});return o&&"object"==typeof o&&"text"in o?o.text:"string"==typeof o?o:String(o)}catch(e){throw console.error("[TavernCore] ÁîüÊàêÂìçÂ∫îÂ§±Ë¥•:",e),e}}},272:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.video-background-container[data-v-49aadee8] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  z-index: -10;\n  pointer-events: none;\n  background-color: #1a1b26; /* ÁÆÄÂçïÁöÑÊöóËâ≤ËÉåÊôØ‰Ωú‰∏∫Â§áÁî® */\n}\n.video-background[data-v-49aadee8] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transform: translate(-50%, -50%);\n  z-index: -2;\n  filter: brightness(1.15) saturate(1.1);\n}\n.video-overlay[data-v-49aadee8] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(10, 15, 24, 0);\n  z-index: -1;\n}\n",""]);const s=i},406:(e,t,n)=>{"use strict";n.d(t,{Ps:()=>a,lS:()=>o,qh:()=>r});const a='\n# „ÄêÊï∞ÊçÆÁªìÊûÑÂÆö‰πâ„ÄëÂÆåÊï¥SaveDataÁªìÊûÑ\n\n## 1. ËßíËâ≤ÔºàV3ÔºöËßíËâ≤.*Ôºâ\n\n### 1.1 Ë∫´‰ªΩÔºàMostly Read-onlyÔºåË∑ØÂæÑÔºö`ËßíËâ≤.Ë∫´‰ªΩ`Ôºâ\n- ÂêçÂ≠ó: string (Âè™ËØª)\n- ÊÄßÂà´: "Áî∑"|"Â•≥"|"ÂÖ∂‰ªñ" (Âè™ËØª)\n- Âπ¥ÈæÑ: number (Ëá™Âä®ËÆ°ÁÆóÔºåÁ¶ÅÊîπ)\n- Âá∫ÁîüÊó•Êúü: {Âπ¥, Êúà, Êó•, Â∞èÊó∂?, ÂàÜÈíü?} (Âè™ËØª)\n- ‰∏ñÁïå: string (Âè™ËØª)\n- ÁßçÊóè: string (ÈªòËÆ§"‰∫∫Êóè")\n- Â§©ËµÑ: string (Âè™ËØª)\n- Âá∫Áîü: string|{ÂêçÁß∞, ÊèèËø∞} (Âè™ËØª)\n- ÊîπÈÄ†Ê†∏ÂøÉ: string|{ÂêçÁß∞, ÂìÅÁ∫ß, ÊèèËø∞, Â±ûÊÄß[], ËÆ≠ÁªÉÂä†Êàê} (Âè™ËØªÔºåË°®Á§∫ÊîπÈÄ†Ê†∏ÂøÉ)\n- Ê®°Âùó: [{ÂêçÁß∞, ÊèèËø∞}] (Âè™ËØª)\n- ÂàùÂßãÂÖ≠Áª¥: {‰ΩìË¥®, ËÉΩÊ∫ê, ÁÆóÊ≥ï, ËµÑÊ∫êÊÑüÁü•, È≠ÖÂäõ, ÂøÉÊô∫} (Âè™ËØªÔºå1-10ÔºåÂØπËÆ≠ÁªÉ/ÊàòÊñóÂä†ÊàêÂç†ÊØî70%)\n- ÊàêÈïøÂÖ≠Áª¥: {‰ΩìË¥®, ËÉΩÊ∫ê, ÁÆóÊ≥ï, ËµÑÊ∫êÊÑüÁü•, È≠ÖÂäõ, ÂøÉÊô∫} (ÂèØ‰øÆÊîπÔºåÁî®addÔºåÊØèÈ°π‰∏äÈôê20ÔºåÂçïÊ¨°Â¢ûÂä†1-3ÁÇπÔºåÂØπÂä†ÊàêÂç†ÊØî30%)\n  - Ëé∑ÂèñÊñπÂºèÔºöË£ÖÂ§áÂ¢ûÂπÖ„ÄÅÂ§©ËµãÊïàÊûú„ÄÅ‰ΩøÁî®ËÄóÊùê„ÄÅÊÑèÂ§ñÊú∫Áºò(ÊúÄÂ§ö+5)„ÄÅ‰∏ìÁ≤æÊèêÂçá„ÄÅÁ≠âÁ∫ßÂçáÁ∫ß\n  - Á≠â‰ª∑ÂéüÂàôÔºöÂàùÂßã1ÁÇπ ‚âà ÊàêÈïø2.33ÁÇπÊïàÊûú\n\n### 1.2 Â±ûÊÄßÔºàModifiableÔºåË∑ØÂæÑÔºö`ËßíËâ≤.Â±ûÊÄß`Ôºâ\n- Èò∂‰Ωç: {ÂêçÁß∞, Èò∂ÊÆµ, ÂΩìÂâçËøõÂ∫¶, ‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ, ÂçáÁ∫ßÊèèËø∞} (Áî®setÊõ¥Êñ∞Êï¥‰∏™ÂØπË±°ÔºåÂçáÁ∫ßÊó∂ÂøÖÈ°ªÊõ¥Êñ∞ÂçáÁ∫ßÊèèËø∞)\n- Â£∞Êúõ: number (Áî®add)\n- ÁîüÂëΩÂÄº: {ÂΩìÂâç, ‰∏äÈôê} (ÂΩìÂâçÁî®addÔºå‰∏äÈôêÂçáÁ∫ßÊó∂Áî®add)\n- ÁîµÈáè: {ÂΩìÂâç, ‰∏äÈôê} (ÂΩìÂâçÁî®addÔºå‰∏äÈôêÂçáÁ∫ßÊó∂Áî®add)\n- Â∏¶ÂÆΩ: {ÂΩìÂâç, ‰∏äÈôê} (ÂΩìÂâçÁî®addÔºå‰∏äÈôêÂçáÁ∫ßÊó∂Áî®add)\n- ÂØøÂëΩ: {ÂΩìÂâç, ‰∏äÈôê} (ÂΩìÂâçËá™Âä®Â¢ûÂä†Ôºå‰∏äÈôêÂçáÁ∫ßÊó∂Áî®add)\n\n### 1.3 ‰ΩçÁΩÆÔºàË∑ØÂæÑÔºö`ËßíËâ≤.‰ΩçÁΩÆ`Ôºâ\n- ‰ΩçÁΩÆ: {ÊèèËø∞:"Â§ßÈôÜ¬∑Âú∞ÁÇπ", x, y, ‰ø°Âè∑Âº∫Â∫¶} (Áî®setÊõ¥Êñ∞Êï¥‰∏™ÂØπË±°)\n  - ÊèèËø∞: string (ÂøÖÂ°´ÔºåÊ†ºÂºè"Â§ßÈôÜ¬∑Âå∫Âüü¬∑Âú∞ÁÇπ")\n  - x: number (Ê®™ÂùêÊ†áÔºåËåÉÂõ¥ 0-10000)\n  - y: number (Á∫µÂùêÊ†áÔºåËåÉÂõ¥ 0-10000)\n  - ‰ø°Âè∑Âº∫Â∫¶: number (ÂøÖÂ°´Ôºå1-100ÔºåÂΩ±ÂìçËÆ≠ÁªÉÈÄüÂ∫¶)\n    - 1-20: ‰ø°Âè∑Á®ÄËñÑÔºàÁõ≤Âå∫„ÄÅÂÅèËøúË°óÂå∫Ôºâ\n    - 21-40: ‰ø°Âè∑ÊôÆÈÄöÔºàÂ∏∏ËßÑÂå∫ÂüüÔºâ\n    - 41-60: ‰ø°Âè∑ÂÖÖÊ≤õÔºàÁ®≥ÂÆöÁΩëÁªúË¶ÜÁõñÔºâ\n    - 61-80: ‰ø°Âè∑ÊµìÈÉÅÔºàÊ†∏ÂøÉËäÇÁÇπÈôÑËøëÔºâ\n    - 81-100: ‰ø°Âè∑ÊûÅÁõõÔºà‰∏ªÊú∫Êû¢Á∫Ω„ÄÅÂÖ≥ÈîÆËäÇÁÇπÔºâ\n\n### 1.4 ÊïàÊûúÔºàbuff/debuffÔºåÊï∞ÁªÑÔºõË∑ØÂæÑÔºö`ËßíËâ≤.ÊïàÊûú`Ôºâ\n- ÊïàÊûú: [{Áä∂ÊÄÅÂêçÁß∞, Á±ªÂûã:"buff"|"debuff", ÁîüÊàêÊó∂Èó¥, ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü, Áä∂ÊÄÅÊèèËø∞, Âº∫Â∫¶?, Êù•Ê∫ê?}]\n  - Âè™ËÉΩÁî® push Ê∑ªÂä†ÔºõËøáÊúüÁî±Á≥ªÁªüÊ∏ÖÁêÜ\n  - **ÁîüÊàêÊó∂Èó¥Â≠óÊÆµÂøÖÂ°´**Ôºö‰ΩøÁî®ÂΩìÂâç `ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥` ÁöÑÂÆåÊï¥ÂØπË±°ÔºåÊ†ºÂºèÔºö{Âπ¥, Êúà, Êó•, Â∞èÊó∂, ÂàÜÈíü}\n  - Á§∫‰æãÔºö{"action":"push","key":"ËßíËâ≤.ÊïàÊûú","value":{"Áä∂ÊÄÅÂêçÁß∞":"ÁîµÈáèÂÖÖÁõà","Á±ªÂûã":"buff","ÁîüÊàêÊó∂Èó¥":{"Âπ¥":1000,"Êúà":3,"Êó•":15,"Â∞èÊó∂":10,"ÂàÜÈíü":30},"ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü":120,"Áä∂ÊÄÅÊèèËø∞":"ÁîµÈáèÊÅ¢Â§çÈÄüÂ∫¶ÊèêÂçá50%","Âº∫Â∫¶":50}}\n\n### 1.5 Ë£ÖÂ§áÔºàEquipmentÔºåË∑ØÂæÑÔºö`ËßíËâ≤.Ë£ÖÂ§á`Ôºâ\n- Ë£ÖÂ§á1: string|null (Ë£ÖÂ§áIDÊàñnull)\n- Ë£ÖÂ§á2: string|null\n- Ë£ÖÂ§á3: string|null\n- Ë£ÖÂ§á4: string|null\n- Ë£ÖÂ§á5: string|null\n- Ë£ÖÂ§á6: string|null\n\n\n## 2. ‰∏ìÁ≤æÔºàModifiableÔºåË∑ØÂæÑ‰∏∫ `ËßíËâ≤.ÊµÅÊ¥æ`Ôºâ\n- ÊµÅÊ¥æÂàóË°®: {ÊµÅÊ¥æÂêç: DaoDataÂØπË±°}ÔºàÂ≠óÊÆµÂêç‰øùÊåÅÂÖºÂÆπÔºåËØ≠‰πâ‰∏∫‚Äú‰∏ìÁ≤æÂàóË°®‚ÄùÔºâ\n\n### DaoDataÂØπË±°ÂøÖÈúÄÂ≠óÊÆµ\n- ÊµÅÊ¥æÂêç: string (Â¶Ç"ÊΩúË°å"„ÄÅ"Á†¥Ëß£")\n- ÊèèËø∞: string (‰∏ìÁ≤æÊèèËø∞)\n- Èò∂ÊÆµÂàóË°®: DaoStage[] (‰∏ìÁ≤æÁöÑÊâÄÊúâÈò∂ÊÆµÂÆö‰πâÔºåÊï∞ÁªÑ)\n- ÊòØÂê¶Ëß£ÈîÅ: boolean (ÊòØÂê¶Â∑≤Ëß£ÈîÅÊ≠§ÈÅì)\n- ÂΩìÂâçÈò∂ÊÆµ: number (Èò∂ÊÆµÁ¥¢ÂºïÔºå0‰∏∫"ÂÖ•Èó®")\n- ÂΩìÂâçÁªèÈ™å: number (ÂΩìÂâçÁªèÈ™åÂÄº)\n- ÊÄªÁªèÈ™å: number (ÊÄªÁ¥ØËÆ°ÁªèÈ™å)\n\n### DaoStageÂØπË±°Â≠óÊÆµ\n- Èò∂ÊÆµÂêç: string (Â¶Ç"ÂÖ•Èó®"„ÄÅ"Â∞èÊàê"„ÄÅ"Â§ßÊàê"Á≠â)\n- ÈúÄÊ±ÇÁªèÈ™å: number\n- ÊÑüÊÇüÊù°ÁõÆ?: string[] (Èò∂ÊÆµÊÑüÊÇü)\n- Á™ÅÁ†¥ÈúÄÊ±Ç?: string (Á™ÅÁ†¥Êù°‰ª∂ÊèèËø∞)\n\nË∑ØÂæÑÁ§∫‰æãÔºö\n- set `ËßíËâ≤.ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.ÊΩúË°å` {"ÊµÅÊ¥æÂêç":"ÊΩúË°å","ÊèèËø∞":"ÈöêÂåøË°åÂä®‰∏éÊ∏óÈÄèÊäÄÂ∑ß","Èò∂ÊÆµÂàóË°®":[{"Èò∂ÊÆµÂêç":"ÂÖ•Èó®","ÈúÄÊ±ÇÁªèÈ™å":100}],"ÊòØÂê¶Ëß£ÈîÅ":true,"ÂΩìÂâçÈò∂ÊÆµ":0,"ÂΩìÂâçÁªèÈ™å":0,"ÊÄªÁªèÈ™å":0}\n- add `ËßíËâ≤.ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.ÊΩúË°å.ÂΩìÂâçÁªèÈ™å` 100\n\n\n## 3. ËÉåÂåÖ‰∏éÁâ©ÂìÅ (Inventory & Items - ModifiableÔºåË∑ØÂæÑÔºö`ËßíËâ≤.ËÉåÂåÖ`)\n\n### 3.1 ËÉåÂåÖ (Inventory)\n- ‰ø°Áî®ÁÇπ: {‰ΩéÈ¢ù:number, ‰∏≠È¢ù:number, È´òÈ¢ù:number, ÊúÄÈ´òÈ¢ù:number} (Áî®addÂ¢ûÂáè)\n- Áâ©ÂìÅ: {Áâ©ÂìÅID: ItemÂØπË±°} (Áî®setÊ∑ªÂä†ÂÆåÊï¥Áâ©ÂìÅÂØπË±°ÔºåÁî®deleteÂà†Èô§)\n\n**„ÄêÁâ©ÂìÅÊìç‰ΩúÊñπÂºè„Äë**\n- Ê∑ªÂä†Êñ∞Áâ©ÂìÅ: {"action":"set", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Áâ©ÂìÅID}", "value":{ÂÆåÊï¥Áâ©ÂìÅÂØπË±°}}\n- Âà†Èô§Áâ©ÂìÅ: {"action":"delete", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Áâ©ÂìÅID}"}\n- ‰øÆÊîπÁâ©ÂìÅÊï∞Èáè: {"action":"add", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Áâ©ÂìÅID}.Êï∞Èáè", "value":Â¢ûÂáèÂÄº}\n- ‰øÆÊîπÁâ©ÂìÅÂ±ûÊÄß: {"action":"set", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Áâ©ÂìÅID}.Â±ûÊÄßÂêç", "value":"Êñ∞ÂÄº"}\n\nÁ§∫‰æãÔºö\n- Ê∑ªÂä†Áâ©ÂìÅ: {"action":"set", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.item_jade_001", "value":{"Áâ©ÂìÅID":"item_jade_001","ÂêçÁß∞":"Ë°ÄÁéâ","Á±ªÂûã":"ÂÖ∂‰ªñ","ÂìÅË¥®":{"quality":"ÁéÑ","grade":5},"Êï∞Èáè":1,"ÊèèËø∞":"‰∏ÄÂùóÊüìË°ÄÁöÑÁéâ‰Ω©"}}\n- ‰øÆÊîπÊèèËø∞: {"action":"set", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.item_jade_001.ÊèèËø∞", "value":"Áéâ‰Ω©‰∏äÁöÑË°ÄÊ∏çÂ∑≤Ë¢´‰ø°Âè∑ÂáÄÂåñ"}\n- ‰øÆÊîπ‰ΩøÁî®ÊïàÊûú: {"action":"set", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.item_jade_001.‰ΩøÁî®ÊïàÊûú", "value":"ÂèØ‰ª•Ê≥®ÂÖ•ÁîµÈáèÊøÄÊ¥ª"}\n- Â¢ûÂä†Êï∞Èáè: {"action":"add", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.item_jade_001.Êï∞Èáè", "value":1}\n\n### 3.2 Áâ©ÂìÅÁ±ªÂûã (Item Types)\n\n#### 3.2.1 Ë£ÖÂ§áÁâ©ÂìÅ\nÂÆåÊï¥ÁªìÊûÑ: {Áâ©ÂìÅID:string, ÂêçÁß∞:string, Á±ªÂûã:"Ë£ÖÂ§á", ÂìÅË¥®:{quality:"Âá°"|"ÈªÑ"|"ÁéÑ"|"Âú∞"|"Â§©"|"‰ªô"|"Á•û", grade:0-10}, Êï∞Èáè:number, ÊèèËø∞:string, Ë£ÖÂ§áÂ¢ûÂπÖ?:object, ÁâπÊÆäÊïàÊûú?:string, Â∑≤Ë£ÖÂ§á:boolean}\n\nÂ≠óÊÆµËØ¥Êòé:\n- Áâ©ÂìÅID: string (ÂøÖÂ°´ÔºåÂîØ‰∏ÄÊ†áËØÜÔºåÊ†ºÂºè: equip_Êó∂Èó¥Êà≥_ÈöèÊú∫Êï∞)\n- ÂêçÁß∞: string (ÂøÖÂ°´ÔºåË£ÖÂ§áÂêçÁß∞)\n- Á±ªÂûã: "Ë£ÖÂ§á" (ÂøÖÂ°´ÔºåÂõ∫ÂÆöÂÄº)\n- ÂìÅË¥®: object (ÂøÖÂ°´)\n  - quality: "Âá°"|"ÈªÑ"|"ÁéÑ"|"Âú∞"|"Â§©"|"‰ªô"|"Á•û" (ÂìÅË¥®Á≠âÁ∫ß)\n  - grade: number (ÂìÅÁ∫ßÔºå0-10Ôºå0=ÊÆãÁº∫Ôºå1-3=‰∏ãÂìÅÔºå4-6=‰∏≠ÂìÅÔºå7-9=‰∏äÂìÅÔºå10=ÊûÅÂìÅ)\n- Êï∞Èáè: number (ÂøÖÂ°´ÔºåÈÄöÂ∏∏‰∏∫1ÔºåË£ÖÂ§á‰∏çÂèØÂè†Âä†)\n- ÊèèËø∞: string (ÂøÖÂ°´ÔºåË£ÖÂ§áÊèèËø∞)\n- Ë£ÖÂ§áÂ¢ûÂπÖ: object (ÂèØÈÄâÔºåÂ±ûÊÄßÂä†ÊàêÂØπË±°)\n  - Ê†ºÂºè: {"ÊàêÈïøÂÖ≠Áª¥": {"‰ΩìË¥®": 2, "ËÉΩÊ∫ê": 1}, "ÁîüÂëΩÂÄº‰∏äÈôê": 50, "ÁîµÈáè‰∏äÈôê": 30}\n  - ÊàêÈïøÂÖ≠Áª¥: object (ÂèØÈÄâÔºåÂÖ≠Áª¥Âä†Êàê)\n  - ÁîüÂëΩÂÄº‰∏äÈôê: number (ÂèØÈÄâ)\n  - ÁîµÈáè‰∏äÈôê: number (ÂèØÈÄâ)\n  - Â∏¶ÂÆΩ‰∏äÈôê: number (ÂèØÈÄâ)\n- ÁâπÊÆäÊïàÊûú: string (ÂèØÈÄâÔºåÊèèËø∞Ë£ÖÂ§áÁöÑÁâπÊÆäËÉΩÂäõ)\n  - Á§∫‰æã: "ÊîªÂáªÊó∂Êúâ10%Âá†ÁéáËß¶ÂèëÁÅ´ÁÑ∞‰º§ÂÆ≥"\n- Â∑≤Ë£ÖÂ§á: boolean (ÂøÖÂ°´Ôºåtrue=Â∑≤Ë£ÖÂ§áÔºåfalse=Êú™Ë£ÖÂ§á)\n\n#### 3.2.2 Ê®°ÂùóÁâ©ÂìÅÔºàÁ±ªÂûãÂ≠óÊÆµ‰∏∫"Ê®°Âùó"Ôºâ\nÂÆåÊï¥ÁªìÊûÑ: {Áâ©ÂìÅID:string, ÂêçÁß∞:string, Á±ªÂûã:"Ê®°Âùó", ÂìÅË¥®:{quality:"Âá°"|"ÈªÑ"|"ÁéÑ"|"Âú∞"|"Â§©"|"‰ªô"|"Á•û", grade:0-10}, Êï∞Èáè:number, ÊèèËø∞:string, Ê®°ÂùóÊïàÊûú:string, Ê®°ÂùóÊäÄËÉΩ:array, ËÆ≠ÁªÉËøõÂ∫¶:number, Â∑≤Ëß£ÈîÅÊäÄËÉΩ:array, Â∑≤Ë£ÖÂ§á:boolean}\n\nÂ≠óÊÆµËØ¥Êòé:\n- Áâ©ÂìÅID: string (ÂøÖÂ°´ÔºåÂîØ‰∏ÄÊ†áËØÜÔºåÊ†ºÂºè: module_Êó∂Èó¥Êà≥_ÈöèÊú∫Êï∞)\n- ÂêçÁß∞: string (ÂøÖÂ°´ÔºåÊ®°ÂùóÂêçÁß∞)\n- Á±ªÂûã: "Ê®°Âùó" (ÂøÖÂ°´ÔºåÂõ∫ÂÆöÂÄºÔºåË°®Á§∫Ê®°Âùó)\n- ÂìÅË¥®: object (ÂøÖÂ°´ÔºåÂêåË£ÖÂ§á)\n- Êï∞Èáè: number (ÂøÖÂ°´ÔºåÈÄöÂ∏∏‰∏∫1ÔºåÊ®°Âùó‰∏çÂèØÂè†Âä†)\n- ÊèèËø∞: string (ÂøÖÂ°´ÔºåÊ®°ÂùóÊèèËø∞)\n- Ê®°ÂùóÊïàÊûú: string (ÂøÖÂ°´ÔºåÊèèËø∞Ê®°ÂùóÊïàÊûú)\n  - Á§∫‰æã: "ËÆ≠ÁªÉÊïàÁéáÊèêÂçá300%ÔºåÂØπÂπ≤Êâ∞Á±ªÊåá‰ª§ÂÆåÂÖ®ÂÖçÁñ´ÔºåÂπ∂ÂèØÂèçÂêëËøΩË∏™Ê∫êÂ§¥"\n- Ê®°ÂùóÊäÄËÉΩ: array (ÂøÖÂ°´ÔºåÊäÄËÉΩÂàóË°®Ôºå‰∏çÂèØ‰∏∫Á©∫ÔºõËá≥Â∞ë1‰∏™Ôºå‰∏îÁ¨¨1‰∏™ÊäÄËÉΩÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç=0)\n  - ÂÖÉÁ¥†Ê†ºÂºè: {ÊäÄËÉΩÂêçÁß∞:string, ÊäÄËÉΩÊèèËø∞:string, ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç:number, Ê∂àËÄó?:string}\n- Ê∂àËÄóÊ†ºÂºèÔºöÂè™ÂÖÅËÆ∏ ÁîµÈáè/Â∏¶ÂÆΩ/ÁîüÂëΩÂÄº/ÂØøÂëΩ ÂõõÁßçËµÑÊ∫êÔºåÂøÖÈ°ªÁî®ÁôæÂàÜÊØîÔºõÂØøÂëΩÁî®Êó∂ÈïøÊèèËø∞Â¶Ç"ÂØøÂëΩ5Âπ¥"\n  - ÂèØÁªÑÂêàÊ∂àËÄóÔºöÂ¶Ç"ÁîµÈáè20%+Â∏¶ÂÆΩ10%"„ÄÅ"ÁîüÂëΩÂÄº30%+ÁîµÈáè15%"\n  - Á§∫‰æã: [{"ÊäÄËÉΩÂêçÁß∞":"‰ø°Âè∑Êé•ÂÖ•","ÊäÄËÉΩÊèèËø∞":"Êé•ÂÖ•Â±ÄÂüüÁΩëÂπ∂Âª∫Á´ãÂÆâÂÖ®ÈÄöÈÅìÔºåÂº∫ÂåñÈò≤Êä§","ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç":0,"Ê∂àËÄó":"ÁîµÈáè5%"},{"ÊäÄËÉΩÂêçÁß∞":"ËøúÁ®ãÂéãÂà∂","ÊäÄËÉΩÊèèËø∞":"‰ª•Â∏¶ÂÆΩÈîÅÂÆöÁõÆÊ†áÔºåÁü≠Ë∑ùÂéãÂà∂ÂØπÊñπË°åÂä®","ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç":30,"Ê∂àËÄó":"ÁîµÈáè12%+Â∏¶ÂÆΩ8%"},{"ÊäÄËÉΩÂêçÁß∞":"ÈªëÂ¢ôÂÜ≤Âáª","ÊäÄËÉΩÊèèËø∞":"ÂáùËÅöÈ´òÂº∫Â∫¶Êï∞ÊçÆÂÜ≤ÂáªÔºåÁõ¥ÂáªÂØπÊñπÊ†∏ÂøÉ","ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç":70,"Ê∂àËÄó":"Â∏¶ÂÆΩ30%"}]\n- ËÆ≠ÁªÉËøõÂ∫¶: number (ÂøÖÂ°´Ôºå0-100ÔºåË°®Á§∫ËÆ≠ÁªÉÁôæÂàÜÊØî)\n- Â∑≤Ëß£ÈîÅÊäÄËÉΩ: array (ÂøÖÂ°´ÔºåÂ∑≤Ëß£ÈîÅÁöÑÊäÄËÉΩÂêçÁß∞ÂàóË°®ÔºåÂèØ‰ª•‰∏∫Á©∫Êï∞ÁªÑ[])\n  - Á§∫‰æã: ["Âü∫Á°ÄÁ™ÅËøõ", "ÊàòÊúØË∑ÉËøÅ"]\n- Â∑≤Ë£ÖÂ§á: boolean (ÂøÖÂ°´Ôºåtrue=Ê≠£Âú®ËÆ≠ÁªÉÔºåfalse=Êú™ËÆ≠ÁªÉ)\n\nÈáçË¶Å: ËÆ≠ÁªÉËøõÂ∫¶ÂíåÂ∑≤Ëß£ÈîÅÊäÄËÉΩÂ≠òÂÇ®Âú®ËÉåÂåÖÁâ©ÂìÅ‰∏≠ÔºåÁî®add/set‰øÆÊîπ\nÁ§∫‰æã: {"action":"add", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.module_001.ËÆ≠ÁªÉËøõÂ∫¶", "value":10}\n\n#### 3.2.3 Ê∂àËÄóÂìÅ‰∏éÊùêÊñô\nÂÆåÊï¥ÁªìÊûÑ: {Áâ©ÂìÅID:string, ÂêçÁß∞:string, Á±ªÂûã:"‰∏πËçØ"|"ÊùêÊñô"|"ÂÖ∂‰ªñ", ÂìÅË¥®:{quality:"Âá°"|"ÈªÑ"|"ÁéÑ"|"Âú∞"|"Â§©"|"‰ªô"|"Á•û", grade:0-10}, Êï∞Èáè:number, ÊèèËø∞:string, ‰ΩøÁî®ÊïàÊûú?:string}ÔºàÁ±ªÂûãÂ≠óÊÆµ‰∏∫ÂÖºÂÆπ‰øùÁïôÔºâ\n\nÂ≠óÊÆµËØ¥Êòé:\n- Áâ©ÂìÅID: string (ÂøÖÂ°´ÔºåÂîØ‰∏ÄÊ†áËØÜÔºåÊ†ºÂºè: item_Êó∂Èó¥Êà≥_ÈöèÊú∫Êï∞)\n- ÂêçÁß∞: string (ÂøÖÂ°´ÔºåÁâ©ÂìÅÂêçÁß∞)\n- Á±ªÂûã: "‰∏πËçØ"|"ÊùêÊñô"|"ÂÖ∂‰ªñ" (ÂøÖÂ°´)\n  - ‰∏πËçØ: ÂèØÁõ¥Êé•‰ΩøÁî®ÁöÑÊ∂àËÄóÂìÅÔºåÂ¶ÇÂõûÂ§çÂâÇ„ÄÅÂ¢ûÁõäÂâÇÁ≠â\n  - ÊùêÊñô: Áî®‰∫éÂà∂ÈÄ†„ÄÅÊîπË£ÖÁ≠âÁöÑÂéüÊùêÊñô\n  - ÂÖ∂‰ªñ: ‰ªªÂä°Áâ©ÂìÅ„ÄÅÊî∂ËóèÂìÅÁ≠âÊùÇÈ°π\n- ÂìÅË¥®: object (ÂøÖÂ°´ÔºåÂêåË£ÖÂ§á)\n- Êï∞Èáè: number (ÂøÖÂ°´ÔºåÂèØÂè†Âä†)\n- ÊèèËø∞: string (ÂøÖÂ°´ÔºåÁâ©ÂìÅÊèèËø∞)\n- ‰ΩøÁî®ÊïàÊûú: string (ÂèØÈÄâÔºåÊèèËø∞Áâ©ÂìÅÁöÑ‰ΩøÁî®ÊïàÊûúÔºõÊ∂àËÄóÂìÅÁ±ªÂª∫ËÆÆÂ°´ÂÜôÔºåÊùêÊñôÁ±ªÈÄöÂ∏∏Ê≤°Êúâ)\n  - Á§∫‰æã: "ÊÅ¢Â§ç500ÁÇπÁîüÂëΩÂÄºÔºåÂπ∂Âú®1Â∞èÊó∂ÂÜÖÊèêÂçáÁîüÂëΩÊÅ¢Â§çÈÄüÂ∫¶50%"\n\n### 3.3 ËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÊ®°ÂùóÔºàÂΩìÂâçËÆ≠ÁªÉÂºïÁî®Ôºâ\n**„Äê‰∏•Á¶Å‰øÆÊîπ„ÄëÊ≠§Â≠óÊÆµÂè™Â≠òÂÇ®ÂºïÁî®Ôºå‰∏çÂ≠òÂÇ®‰ªª‰ΩïÊï∞ÊçÆÔºÅ**\n- Áâ©ÂìÅID: string (ÊåáÂêëËÉåÂåÖ‰∏≠ÁöÑÊ®°ÂùóID)\n- ÂêçÁß∞: string\n\n**„ÄêÂÖ≥ÈîÆËßÑÂàô„ÄëËÆ≠ÁªÉÊ®°ÂùóÁöÑ‰ΩçÁΩÆÂíå‰øÆÊîπÊñπÂºèÔºö**\n- [ÈîôËØØ] ÈîôËØØÔºö‰øÆÊîπ"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}"‰ª•Â§ñÁöÑ‰ΩçÁΩÆÊù•‚Äú‰º™ÈÄ†ËøõÂ∫¶‚Äù\n- [Ê≠£Á°Æ] Ê≠£Á°ÆÔºö‰øÆÊîπ"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}"Â≠óÊÆµ\n- ËÆ≠ÁªÉËøõÂ∫¶Â≠òÂÇ®‰ΩçÁΩÆÔºöËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}.ËÆ≠ÁªÉËøõÂ∫¶\n- Â∑≤Ëß£ÈîÅÊäÄËÉΩÂ≠òÂÇ®‰ΩçÁΩÆÔºöËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}.Â∑≤Ëß£ÈîÅÊäÄËÉΩ\n- Ê®°ÂùóÊäÄËÉΩÂàóË°®Â≠òÂÇ®‰ΩçÁΩÆÔºöËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}.Ê®°ÂùóÊäÄËÉΩ\n\nÁ§∫‰æãÊìç‰ΩúÔºö\n- Â¢ûÂä†ËÆ≠ÁªÉËøõÂ∫¶: {"action":"add", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.module_001.ËÆ≠ÁªÉËøõÂ∫¶", "value":10}\n- Ëß£ÈîÅÊñ∞ÊäÄËÉΩ: {"action":"push", "key":"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.module_001.Â∑≤Ëß£ÈîÅÊäÄËÉΩ", "value":"ÊàòÊúØË∑ÉËøÅ"}\n\n### 3.4 ËßíËâ≤.ÊäÄËÉΩ.ÊéåÊè°ÊäÄËÉΩÔºàÂè™ËØªÔºâ\n**„ÄêÂÆåÂÖ®Âè™ËØª„ÄëÊ≠§Â≠óÊÆµÁî±Á≥ªÁªüËá™Âä®ËÆ°ÁÆóÔºåAI‰∏•Á¶ÅÈÄöËøátavern_commands‰øÆÊîπÔºÅ**\n- [{ÊäÄËÉΩÂêçÁß∞, ÊäÄËÉΩÊèèËø∞, Êù•Ê∫ê, Ê∂àËÄó, ÁÜüÁªÉÂ∫¶, ‰ΩøÁî®Ê¨°Êï∞}]\n\n**„ÄêÂÖ≥ÈîÆËßÑÂàô„ÄëÊéåÊè°ÊäÄËÉΩÁöÑ‰ΩçÁΩÆÂíåÊù•Ê∫êÔºö**\n- [ÈîôËØØ] ÈîôËØØÔºöÁõ¥Êé• set/push "ËßíËâ≤.ÊäÄËÉΩ.ÊéåÊè°ÊäÄËÉΩ" Êï∞ÁªÑ\n- [ÈîôËØØ] ÈîôËØØÔºö‰øÆÊîπ "ËßíËâ≤.ÊäÄËÉΩ.ÊéåÊè°ÊäÄËÉΩ" ‰∏≠ÁöÑÊäÄËÉΩÂêçÁß∞/ÊèèËø∞/Êù•Ê∫ê/Ê∂àËÄó\n\n**„ÄêÊï∞ÊçÆÊù•Ê∫ê„ÄëÊéåÊè°ÊäÄËÉΩ‰ªéÂì™ÈáåÊù•Ôºö**\n- Á≥ªÁªüËá™Âä®‰ªé"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}.Â∑≤Ëß£ÈîÅÊäÄËÉΩ"‰∏≠ÊèêÂèñ\n- ÂΩìÊ®°ÂùóË£ÖÂ§áÂêéÔºåÂ∑≤Ëß£ÈîÅÁöÑÊäÄËÉΩ‰ºöËá™Âä®Âá∫Áé∞Âú®"ËßíËâ≤.ÊäÄËÉΩ.ÊéåÊè°ÊäÄËÉΩ"‰∏≠\n- ÊäÄËÉΩÁöÑÂü∫Á°Ä‰ø°ÊÅØÔºàÂêçÁß∞„ÄÅÊèèËø∞„ÄÅÊ∂àËÄóÔºâÊù•Ëá™"ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}.Ê®°ÂùóÊäÄËÉΩ"Êï∞ÁªÑ\n\n\n## 4. ÂÖ≥Á≥ªÔºàNPCÊ°£Ê°àÂ≠óÂÖ∏ÔºåÂèØ‰øÆÊîπÔºåË∑ØÂæÑÔºö`Á§æ‰∫§.ÂÖ≥Á≥ª`Ôºâ\n\n### üö® „ÄêÊúÄÈ´ò‰ºòÂÖàÁ∫ß„ÄëNPC ÂàõÂª∫ËßÑÂàô üö®\n**Êñ∞Â¢û NPC ÂøÖÈ°ª‰∏ÄÊ¨°ÊÄßÂàõÂª∫ÂÆåÊï¥ÂØπË±°Ôºå‰∏çËÉΩÂàÜÊ≠•Ê∑ªÂä†ÔºÅ**\n\n- **[Ê≠£Á°Æ]** ‰ΩøÁî® set Êìç‰ΩúÂàõÂª∫ÂÆåÊï¥ÁöÑ NPC ÂØπË±°ÔºåÂåÖÂê´ÊâÄÊúâÂøÖÈúÄÂ≠óÊÆµ\n- **[ÈîôËØØ]** ÂÖàÂàõÂª∫Á©∫ÂØπË±°ÔºåÂÜçÈÄê‰∏™Ê∑ªÂä†Â≠óÊÆµ\n- **[ÈîôËØØ]** Âè™Ê∑ªÂä†ÈÉ®ÂàÜÂ≠óÊÆµÔºåÁº∫Â∞ëÂøÖÈúÄÂ≠óÊÆµ\n- **[Âº∫Âà∂]** NPCÂØπË±°ÈáåÂøÖÈ°ªÂåÖÂê´ `ÂêçÂ≠ó` Â≠óÊÆµÔºå‰∏î‰∏éË∑ØÂæÑ‰∏≠ÁöÑNPCÂêç‰∏ÄËá¥\n\n### ‚úÖ „ÄêNPCÊï∞ÈáèÂæàÂ§öÊó∂ÁöÑ"ÊúÄÂ∞èÂèØÁî®Â≠óÊÆµ"„Äë\nÂΩìÂÖ≥Á≥ªÊï∞ÊçÆÂæàÂ§ö„ÄÅ‰∏ä‰∏ãÊñáÁ¥ßÂº†Êó∂ÔºåÂÖÅËÆ∏Á≤æÁÆÄÊèèËø∞ÊÄßÂ≠óÊÆµÔºå‰ΩÜ **‰ª•‰∏ãÂ≠óÊÆµÁªù‰∏çËÉΩÁº∫Â§±**ÔºàÂê¶ÂàôÂâçÁ´ØÂèØËÉΩÊó†Ê≥ïÂ±ïÁ§∫/Á≥ªÁªü‰ºöÊ∏ÖÁêÜ‰∏∫Êó†ÊïàÊï∞ÊçÆÔºâÔºö\n- `ÂêçÂ≠ó`„ÄÅ`ÊÄßÂà´`„ÄÅ`Âá∫ÁîüÊó•Êúü`„ÄÅ`Èò∂‰Ωç`„ÄÅ`‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª`„ÄÅ`Â•ΩÊÑüÂ∫¶`\n- `ÂΩìÂâç‰ΩçÁΩÆ.ÊèèËø∞`„ÄÅ`ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ`„ÄÅ`ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï`\n- `ËÆ∞ÂøÜ`ÔºàÊï∞ÁªÑÔºåÂèØ‰∏∫Á©∫Êï∞ÁªÑÔºâ„ÄÅ`ËÉåÂåÖ`„ÄÅ`ÂÆûÊó∂ÂÖ≥Ê≥®`\n\n**Á§∫‰æã - Ê≠£Á°ÆÂÅöÊ≥ïÔºö**\n```json\n{"action":"set", "key":"Á§æ‰∫§.ÂÖ≥Á≥ª.Âº†‰∏â", "value":{"ÂêçÂ≠ó":"Âº†‰∏â","ÊÄßÂà´":"Áî∑","Âπ¥ÈæÑ":25,"Âá∫ÁîüÊó•Êúü":{"Âπ¥":975,"Êúà":3,"Êó•":15},"ÁßçÊóè":"‰∫∫Êóè","Âá∫Áîü":"Ë°óÂå∫Â±ÖÊ∞ë","Â§ñË≤åÊèèËø∞":"...","ÊÄßÊ†ºÁâπÂæÅ":["..."],"Èò∂‰Ωç":{"ÂêçÁß∞":"Ê†∏ÂøÉÁ∫ß","Èò∂ÊÆµ":"ÂàùÊúü"},"ÊîπÈÄ†Ê†∏ÂøÉ":{"ÂêçÁß∞":"ÂêàÈáëÊ†∏ÂøÉ","ÂìÅÁ∫ß":"‰∏≠ÂìÅ"},"Ê®°Âùó":[],"ÂàùÂßãÂÖ≠Áª¥":{"‰ΩìË¥®":5,"ËÉΩÊ∫ê":6,"ÁÆóÊ≥ï":5,"ËµÑÊ∫êÊÑüÁü•":4,"È≠ÖÂäõ":5,"ÂøÉÊô∫":6},"‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª":"ÈôåÁîü‰∫∫","Â•ΩÊÑüÂ∫¶":0,"‰∫∫Ê†ºÂ∫ïÁ∫ø":["..."],"ËÆ∞ÂøÜ":[],"ËÆ∞ÂøÜÊÄªÁªì":[],"ÂΩìÂâç‰ΩçÁΩÆ":{"ÊèèËø∞":"...","x":5000,"y":5000},"ÂäøÂäõÂΩíÂ±û":"Êó†","ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ":"...","ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï":"...","ËÉåÂåÖ":{"‰ø°Áî®ÁÇπ":{"‰ΩéÈ¢ù":0,"‰∏≠È¢ù":0,"È´òÈ¢ù":0,"ÊúÄÈ´òÈ¢ù":0},"Áâ©ÂìÅ":{}},"ÂÆûÊó∂ÂÖ≥Ê≥®":false}}\n```\n\n**Á§∫‰æã - ÈîôËØØÂÅöÊ≥ïÔºà‰∏•Á¶ÅÔºâÔºö**\n```\n‚ùå ÈîôËØØÔºöÂÖàÂàõÂª∫Á©∫ÂØπË±°\n{"action":"set", "key":"Á§æ‰∫§.ÂÖ≥Á≥ª.Âº†‰∏â", "value":{}}\n‚ùå ÈîôËØØÔºöÂÜçÊ∑ªÂä†Â≠óÊÆµ\n{"action":"set", "key":"Á§æ‰∫§.ÂÖ≥Á≥ª.Âº†‰∏â.ÂêçÂ≠ó", "value":"Âº†‰∏â"}\n```\n\n---\n\n### NPC Êï∞ÊçÆÁªìÊûÑ\n- {NPCÂêçÂ≠ó: NPCÊ°£Ê°àÂØπË±°}\n  - ÂêçÂ≠ó: string\n  - ÊÄßÂà´: "Áî∑"|"Â•≥"|"ÂÖ∂‰ªñ"\n  - Âπ¥ÈæÑ: number (Ëá™Âä®ËÆ°ÁÆó)\n  - Âá∫ÁîüÊó•Êúü: {Âπ¥, Êúà, Êó•}\n  - ÁßçÊóè: string\n  - Âá∫Áîü: string\n  - Â§ñË≤åÊèèËø∞: string\n  - ÊÄßÊ†ºÁâπÂæÅ: [string]\n  - Èò∂‰Ωç: {ÂêçÁß∞, Èò∂ÊÆµ, ÂΩìÂâçËøõÂ∫¶?, ‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ?, ÂçáÁ∫ßÊèèËø∞?} (Áî®setÊõ¥Êñ∞Êï¥‰∏™ÂØπË±°)\n  - ÊîπÈÄ†Ê†∏ÂøÉ: {ÂêçÁß∞, ÂìÅÁ∫ß}\n  - Ê®°Âùó: [{ÂêçÁß∞, ÊèèËø∞}]\n  - ÂàùÂßãÂÖ≠Áª¥: {‰ΩìË¥®, ËÉΩÊ∫ê, ÁÆóÊ≥ï, ËµÑÊ∫êÊÑüÁü•, È≠ÖÂäõ, ÂøÉÊô∫}\n  - ‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª: string\n  - Â•ΩÊÑüÂ∫¶: number (-100~100ÔºåÁî®add)\n  - ‰∫∫Ê†ºÂ∫ïÁ∫ø: [string]\n  - ËÆ∞ÂøÜ: [string] (Áî®pushÊ∑ªÂä†„ÄÇÈÅµÂæ™„ÄêËÆ∞ÂøÜÁîüÊàêÈìÅÂæã„ÄëÔºöÁÆÄÊ¥Å„ÄÅ‰∏çÈáçÂ§ç„ÄÅÁªìÊûÑÂåñÊëòË¶Å)\n  - ËÆ∞ÂøÜÊÄªÁªì: [string]\n  - ÂΩìÂâç‰ΩçÁΩÆ: {ÊèèËø∞, x, y}\n  - ÂäøÂäõÂΩíÂ±û: string\n  - ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ: string (Áî®setÂÆûÊó∂Êõ¥Êñ∞)\n  - ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï: string (Áî®setÂÆûÊó∂Êõ¥Êñ∞)\n  - ËÉåÂåÖ: {‰ø°Áî®ÁÇπ, Áâ©ÂìÅ}\n  - ÁßÅÂØÜ‰ø°ÊÅØ?: PrivacyProfile (NSFWÔºõ‰ªÖÂΩì Á≥ªÁªü.nsfwMode=true ‰∏î ÊÄßÂà´Á¨¶Âêà Á≥ªÁªü.nsfwGenderFilter ÊâçÁîüÊàêÔºõË∑ØÂæÑÔºöÁ§æ‰∫§.ÂÖ≥Á≥ª.{NPCÂêçÂ≠ó}.ÁßÅÂØÜ‰ø°ÊÅØ)\n  - ÂÆûÊó∂ÂÖ≥Ê≥®: boolean\n\n### NSFWÔºöPrivacyProfileÔºàÁßÅÂØÜ‰ø°ÊÅØÊ®°ÂùóÔºåË∑ØÂæÑÔºöÁ§æ‰∫§.ÂÖ≥Á≥ª.{NPCÂêçÂ≠ó}.ÁßÅÂØÜ‰ø°ÊÅØÔºâ\n- ÊòØÂê¶‰∏∫Â§ÑÂ•≥: boolean\n- Ë∫´‰ΩìÈÉ®‰Ωç: [BodyPartDevelopment] (Êï∞ÁªÑÔºõÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÊòØÂØπË±°)\n- ÊÄßÊ†ºÂÄæÂêë: string\n- ÊÄßÂèñÂêë: string\n- ÊÄßÁôñÂ•Ω: [string]\n- ÊÄßÊ∏¥ÊúõÁ®ãÂ∫¶: number (0-100)\n- ÂΩìÂâçÊÄßÁä∂ÊÄÅ: string\n- ‰ΩìÊ∂≤ÂàÜÊ≥åÁä∂ÊÄÅ: string\n- ÊÄß‰∫§ÊÄªÊ¨°Êï∞: number\n- ÊÄß‰º¥‰æ£ÂêçÂçï: [string]\n- ÊúÄËøë‰∏ÄÊ¨°ÊÄßË°å‰∏∫Êó∂Èó¥: string\n- ÁâπÊÆä‰ΩìË¥®: [string]\n\n**ÈáçË¶ÅÔºö‰øÆÊîπNPCÁßÅÂØÜ‰ø°ÊÅØÊó∂ÂøÖÈ°ª‰ΩøÁî®ÂÆåÊï¥Ë∑ØÂæÑ**\nÁ§∫‰æãÔºö\n- ‰øÆÊîπNPCË∫´‰ΩìÈÉ®‰ΩçÔºàÈîôËØØÔºâÔºö‚ùå {"action":"set","key":"Ë∫´‰Ωì.ÈÉ®‰ΩçÂºÄÂèë.Èò¥ÈÅì.ÊïèÊÑüÂ∫¶","value":80}\n- ‰øÆÊîπNPCË∫´‰ΩìÈÉ®‰ΩçÔºàÊ≠£Á°ÆÔºâÔºö‚úÖ {"action":"set","key":"Á§æ‰∫§.ÂÖ≥Á≥ª.ÊùéÂ™öÂ®ò.ÁßÅÂØÜ‰ø°ÊÅØ.Ë∫´‰ΩìÈÉ®‰Ωç[0].ÊïèÊÑüÂ∫¶","value":80}\n- Ê∑ªÂä†NPCË∫´‰ΩìÈÉ®‰ΩçÔºö‚úÖ {"action":"push","key":"Á§æ‰∫§.ÂÖ≥Á≥ª.ÊùéÂ™öÂ®ò.ÁßÅÂØÜ‰ø°ÊÅØ.Ë∫´‰ΩìÈÉ®‰Ωç","value":{"ÈÉ®‰ΩçÂêçÁß∞":"Èò¥ÈÅì","ÊïèÊÑüÂ∫¶":70,"ÂºÄÂèëÂ∫¶":60,"ÁâπÂæÅÊèèËø∞":"..."}}\n\n### NSFWÔºöBodyPartDevelopmentÔºàË∫´‰ΩìÈÉ®‰ΩçÂºÄÂèëÊù°ÁõÆÔºâ\n- ÈÉ®‰ΩçÂêçÁß∞: string (Â¶ÇÔºöËÉ∏ÈÉ®/Â∞èÁ©¥/ËèäÁ©¥/Âò¥Âîá/ËÄ≥ÊúµÁ≠â)\n- ÊïèÊÑüÂ∫¶: number (0-100)\n- ÂºÄÂèëÂ∫¶: number (0-100ÔºõÁªü‰∏Ä‰ΩøÁî®"ÂºÄÂèëÂ∫¶"Â≠óÊÆµÂêç)\n- ÁâπÊÆäÂç∞ËÆ∞?: string\n- ÁâπÂæÅÊèèËø∞: string\n\n\n## 5. ËÆ∞ÂøÜ (Player Memory - Read-only, DO NOT MODIFY)\n**Ê†∏ÂøÉËßÑÂàô**: AI‰∏•Á¶ÅÈÄöËøá `tavern_commands` ‰øÆÊîπ‰ªª‰ΩïËÆ∞ÂøÜÂ≠óÊÆµ„ÄÇËÆ∞ÂøÜÁî±Á≥ªÁªüÊ†πÊçÆÂìçÂ∫îJSON‰∏≠ÁöÑ `mid_term_memory` Â≠óÊÆµËá™Âä®Â§ÑÁêÜ„ÄÇ\n\n**Êï∞ÊçÆÁªìÊûÑ (‰ªÖ‰æõÂèÇËÄÉ)**:\n- Áü≠ÊúüËÆ∞ÂøÜ: [string]\n- ‰∏≠ÊúüËÆ∞ÂøÜ: [string]\n- ÈïøÊúüËÆ∞ÂøÜ: [string]\n\n\n## 6. ‰∏ñÁïåÔºàWorld - ModifiableÔºõËÅîÊú∫Ê®°ÂºèÈÄöÂ∏∏Âè™ËØªÔºâ\n- Âú∞Âõæ: {continents[], factions[], features[]}\n- Â§ßÈôÜ‰ø°ÊÅØ: [{ÂêçÁß∞, ÊèèËø∞, Âú∞ÁêÜÁâπÂæÅ, ...}] (Âè™ËØª,Áî±‰∏ñÁïåÁîüÊàêÂô®ÂàõÂª∫)\n- ÂäøÂäõ‰ø°ÊÅØ: [{...}] (ÂèØ‰øÆÊîπ,‰∏ñÁïå‰∏≠ÁöÑÁªÑÁªá„ÄÅÈõÜÂõ¢Á≠â)\n  - id: string|number (ÂèØÈÄâ)\n  - ÂêçÁß∞: string\n  - Á±ªÂûã: "‰ºÅ‰∏öÈõÜÂõ¢"|"ÈªëÂüüÁªÑÁªá"|"ÂÆ∂ÊóèÈõÜÂõ¢"|...\n  - Á≠âÁ∫ß: "Ë∂ÖÁ∫ß"|"‰∏ÄÊµÅ"|"‰∫åÊµÅ"|"‰∏âÊµÅ"\n  - ‰ΩçÁΩÆ: string | {x, y}\n  - ÊèèËø∞: string\n  - ÁâπËâ≤: [string]\n  - ‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª: "ÊïåÂØπ"|"‰∏≠Á´ã"|"ÂèãÂ•Ω" (Áî®set‰øÆÊîπ)\n  - Â£∞ÊúõÂÄº: number (Áî®add‰øÆÊîπ)\n  - ÂèØÂê¶Âä†ÂÖ•: boolean\n  - Âä†ÂÖ•Êù°‰ª∂: [string]\n  - Âä†ÂÖ•Â•ΩÂ§Ñ: [string]\n  - ÊàêÂëòÊï∞Èáè: { ÊÄªÊï∞, ÊåâÈò∂‰Ωç, ÊåâËÅå‰Ωç } (Áî®set‰øÆÊîπÊï¥‰∏™ÂØπË±°)\n    - ÊÄªÊï∞: number\n    - ÊåâÈò∂‰Ωç: { "Ë°óÂå∫Á∫ß": number, "Âå∫ÂüüÁ∫ß": number, ... }\n    - ÊåâËÅå‰Ωç: { "Â§ñÂõ¥ÊàêÂëò": number, "ÂÜÖÈÉ®ÊàêÂëò": number, ... }\n  - È¢ÜÂØºÂ±Ç: { È¶ñÈ¢Ü, È¶ñÈ¢ÜÁ≠âÁ∫ß, ÂâØÈ¶ñÈ¢Ü?, È°æÈóÆÊï∞Èáè?, ÊúÄÂº∫Á≠âÁ∫ß, ÁªºÂêàÊàòÂäõ? } (Áî®set‰øÆÊîπ)\n    - È¶ñÈ¢Ü: string (ÂèØËÉΩÂõ†‰∏∫ÂâßÊÉÖÊõ¥Êç¢)\n    - È¶ñÈ¢ÜÁ≠âÁ∫ß: string (‰æãÂ¶Ç: "Ê†∏ÂøÉÁ∫ßÂêéÊúü",ÂèØËÉΩÁ™ÅÁ†¥)\n    - ÁªºÂêàÊàòÂäõ: number (1-100)\n  - ÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ: { ÊéßÂà∂Âå∫Âüü, ÂΩ±ÂìçËåÉÂõ¥, ÊàòÁï•‰ª∑ÂÄº } (Áî®set‰øÆÊîπ)\n    - ÊéßÂà∂Âå∫Âüü: [string]\n    - ÂΩ±ÂìçËåÉÂõ¥: string\n    - ÊàòÁï•‰ª∑ÂÄº: number (1-10)\n\n  ÈáçË¶ÅÔºö‰øÆÊîπÂäøÂäõ‰ø°ÊÅØÊó∂‰ΩøÁî®Ë∑ØÂæÑ: ‰∏ñÁïå.‰ø°ÊÅØ.ÂäøÂäõ‰ø°ÊÅØ[Á¥¢Âºï].Â≠óÊÆµÂêç\n  Á§∫‰æã-‰øÆÊîπÈ¶ñÈ¢Ü: {"action":"set", "key":"‰∏ñÁïå.‰ø°ÊÅØ.ÂäøÂäõ‰ø°ÊÅØ[0].È¢ÜÂØºÂ±Ç.È¶ñÈ¢Ü", "value":"Êñ∞È¶ñÈ¢ÜÂêçÂ≠ó"}\n  Á§∫‰æã-Â¢ûÂä†Â£∞Êúõ: {"action":"add", "key":"‰∏ñÁïå.‰ø°ÊÅØ.ÂäøÂäõ‰ø°ÊÅØ[2].Â£∞ÊúõÂÄº", "value":50}\n  Á§∫‰æã-ÊîπÂèòÂÖ≥Á≥ª: {"action":"set", "key":"‰∏ñÁïå.‰ø°ÊÅØ.ÂäøÂäõ‰ø°ÊÅØ[1].‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª", "value":"ÂèãÂ•Ω"}\n  Á§∫‰æã-Êõ¥Êñ∞ÊàêÂëò: {"action":"set", "key":"‰∏ñÁïå.‰ø°ÊÅØ.ÂäøÂäõ‰ø°ÊÅØ[0].ÊàêÂëòÊï∞Èáè", "value":{"ÊÄªÊï∞":500,"ÊåâÈò∂‰Ωç":{"Ë°óÂå∫Á∫ß":300,"Âå∫ÂüüÁ∫ß":150},"ÊåâËÅå‰Ωç":{"Â§ñÂõ¥ÊàêÂëò":400,"ÂÜÖÈÉ®ÊàêÂëò":100}}}\n\n- Âú∞ÁÇπ‰ø°ÊÅØ: [{ÂêçÁß∞, Á±ªÂûã, ‰ΩçÁΩÆ, coordinates, ...}] (ÂèØ‰øÆÊîπ,Áî®‰∫éÊ∑ªÂä†Êñ∞ÂèëÁé∞ÁöÑÂú∞ÁÇπ)\n  ÈáçË¶ÅÔºöÊ∑ªÂä†Êñ∞Âú∞ÁÇπ‰ΩøÁî®pushÊìç‰Ωú\n  Á§∫‰æã-Ê∑ªÂä†Âú∞ÁÇπ: {"action":"push", "key":"‰∏ñÁïå.‰ø°ÊÅØ.Âú∞ÁÇπ‰ø°ÊÅØ", "value":{"ÂêçÁß∞":"xxÁßòÂ¢É","Á±ªÂûã":"ÁßòÂ¢É","‰ΩçÁΩÆ":"‰∏úÁéÑÂ§ßÈôÜ¬∑ÂåóÈÉ®","coordinates":{"x":7500,"y":3000},"ÊèèËø∞":"...","ÂÆâÂÖ®Á≠âÁ∫ß":"Âç±Èô©","ÂºÄÊîæÁä∂ÊÄÅ":"Êú™ÂèëÁé∞"}}\n\n\n## 7. Êó∂Èó¥ÔºàGameTimeÔºåË∑ØÂæÑÔºöÂÖÉÊï∞ÊçÆ.Êó∂Èó¥Ôºâ\n\n### 7.1 Êó∂Èó¥\n- Âπ¥: number\n- Êúà: number (1-12)\n- Êó•: number (1-30)\n- Â∞èÊó∂: number (0-23)\n- ÂàÜÈíü: number (0-59) (Áî®addÊé®ËøõÔºåËá™Âä®Ëøõ‰Ωç)\n\n### 7.2 ÁªÑÁªáÁ≥ªÁªüÔºàË∑ØÂæÑÔºöÁ§æ‰∫§.ÁªÑÁªáÔºâ\n**Ê≥®ÊÑè**: Á§æ‰∫§.ÁªÑÁªá ÊòØ V3 ÁªìÊûÑÁöÑÁªÑÁªáÁ≥ªÁªüÔºåÂºÄÂ±ÄÊó∂Áé©ÂÆ∂Êú™Âä†ÂÖ•ÁªÑÁªáÊó∂Â∫î‰∏∫ nullÔºà‰∏çË¶ÅËÆæÁΩÆ‰∏∫Á©∫ÂØπË±° {}Ôºâ„ÄÇ\nAI ÂºÄÂ±ÄÂàùÂßãÂåñÊó∂**‰∏çË¶Å‰øÆÊîπ** Á§æ‰∫§.ÁªÑÁªáÔºå‰øùÊåÅ‰∏∫ null Âç≥ÂèØ„ÄÇÁé©ÂÆ∂Âä†ÂÖ•ÁªÑÁªáÂêéÁî±Á≥ªÁªüËá™Âä®Â°´ÂÖÖ„ÄÇ\n\n\n## 8. ‰∫ã‰ª∂ÔºàEvent System - ModifiableÔºåË∑ØÂæÑÔºöÁ§æ‰∫§.‰∫ã‰ª∂Ôºâ\n- ÈÖçÁΩÆ: {ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂, ÊúÄÂ∞èÈó¥ÈöîÂπ¥, ÊúÄÂ§ßÈó¥ÈöîÂπ¥, ‰∫ã‰ª∂ÊèêÁ§∫ËØç}\n- ‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥: GameTime|nullÔºàÁî±Á≥ªÁªüË∞ÉÂ∫¶ÂÜôÂÖ•ÔºõAIÂè™ËØªÔºâ\n- ‰∫ã‰ª∂ËÆ∞ÂΩï: [‰∫ã‰ª∂ÂØπË±°]ÔºàÁî®pushÊ∑ªÂä†Êñ∞‰∫ã‰ª∂ÔºåÊåâÊó∂Èó¥È°∫Â∫èËøΩÂä†Ôºâ\n\n### 8.1 ‰∫ã‰ª∂ÂØπË±°ÁªìÊûÑ (GameEvent)\n- ‰∫ã‰ª∂ID: string (ÂîØ‰∏ÄID, Ê†ºÂºè: event_Êó∂Èó¥Êà≥_ÈöèÊú∫Êï∞)\n- ‰∫ã‰ª∂ÂêçÁß∞: string\n- ‰∫ã‰ª∂Á±ªÂûã: string (‰æã: "ÁªÑÁªáÂÜ≤Á™Å"/"‰∏ñÁïåÂèòÈù©"/"Á®ÄÊúâËµÑÊ∫êÂá∫Áé∞"/"Á¶ÅÂå∫Áé∞‰∏ñ"/"‰∫∫Áâ©È£éÊ≥¢")\n- ‰∫ã‰ª∂ÊèèËø∞: stringÔºàÂ∞ΩÈáèÂåÖÂê´Âú∞ÁÇπ„ÄÅÊ∂âÂèäÂäøÂäõ/‰∫∫Áâ©„ÄÅÁõ¥Êé•ÂêéÊûúÔºâ\n- ÂΩ±ÂìçÁ≠âÁ∫ß?: "ËΩªÂæÆ"|"‰∏≠Á≠â"|"ÈáçÂ§ß"|"ÁÅæÈöæ"\n- ÂΩ±ÂìçËåÉÂõ¥?: stringÔºà‰æã: "‰∏úÁéÑÂ§ßÈôÜÂåóÂ¢É"Ôºâ\n- Áõ∏ÂÖ≥‰∫∫Áâ©?: string[]\n- Áõ∏ÂÖ≥ÂäøÂäõ?: string[]\n- ‰∫ã‰ª∂Êù•Ê∫ê: "ÈöèÊú∫"|"Áé©ÂÆ∂ÂΩ±Âìç"|"Á≥ªÁªü"\n- ÂèëÁîüÊó∂Èó¥: {Âπ¥, Êúà, Êó•, Â∞èÊó∂, ÂàÜÈíü}ÔºàÂøÖÂ°´Ôºõ‰ΩøÁî®ÂΩìÂâç ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥Ôºâ\n\nÊåá‰ª§Á§∫‰æãÔºö\n- push Á§æ‰∫§.‰∫ã‰ª∂.‰∫ã‰ª∂ËÆ∞ÂΩï {‰∫ã‰ª∂ÂØπË±°}\n\n\n## 9. Á≥ªÁªüÈÖçÁΩÆ (System Config - Read-only)\n- nsfwMode: boolean\n- nsfwGenderFilter: "all"|"female"|"male"\n\n'.trim();function r(e){return e.split("\n").filter(e=>!/nsfw|ÁßÅÂØÜ‰ø°ÊÅØ|Ë∫´‰ΩìÈÉ®‰ΩçÂºÄÂèë|privacy/i.test(e)).join("\n").trim()}function o(e){return e?a:r(a)}'\n# „ÄêÊï∞ÊçÆÁªìÊûÑÂÆö‰πâ„ÄëV4ÔºàËµõÂçöÊúãÂÖã‰∏ªÈ¢òÔºâ\n\n## 1. ËßíËâ≤ÔºàË∑ØÂæÑÔºöËßíËâ≤.*Ôºâ\n- Ê°£Ê°à: {ÂßìÂêç, ÊÄßÂà´, Âπ¥ÈæÑ, Âá∫ÁîüÊó•Êúü, ÊâÄÂ±û‰∏ñÁïå, ÊóèÁæ§, ËÉåÊôØ, Â§©Ëµã[], Âü∫Á°ÄÁ¥†Ë¥®, ÊîπÈÄ†Á¥†Ë¥®}\n- ËÉΩÂäõ: {Á≠âÁ∫ß{Áß∞Âè∑, Èò∂ÊÆµ, ËøõÂ∫¶, ÊôãÂçáÈúÄÊ±Ç, ÊôãÂçáËØ¥Êòé}, ÁÉ≠Â∫¶}\n- ËµÑÊ∫ê: {ÁîüÂëΩÂÄº{ÂΩìÂâç,‰∏äÈôê}, ÁîµÈáè{ÂΩìÂâç,‰∏äÈôê}, Â∏¶ÂÆΩ{ÂΩìÂâç,‰∏äÈôê}, ÁîüÁêÜËÄê‰πÖ{ÂΩìÂâç,‰∏äÈôê}}\n- ‰ΩçÁΩÆ: {ÊèèËø∞:"ÂüéÂå∫¬∑Ë°óÂå∫¬∑ËäÇÁÇπ", x, y, ‰ø°Âè∑Âº∫Â∫¶}\n- Áä∂ÊÄÅÊïàÊûú: [{Áä∂ÊÄÅÂêçÁß∞, Á±ªÂûã, ÁîüÊàêÊó∂Èó¥, ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü, Áä∂ÊÄÅÊèèËø∞, Âº∫Â∫¶?, Êù•Ê∫ê?}]\n- ËÉåÂåÖ: {‰ø°Áî®ÁÇπ:number, Áâ©ÂìÅ:{Áâ©ÂìÅID:Áâ©ÂìÅÂØπË±°}}\n- Ë£ÖÂ§á / ÊäÄËÉΩÊ†ë / ËÆ≠ÁªÉ / ‰∏ìÁ≤æÊ†ë / ÊäÄËÉΩ: ÁªìÊûÑÂåñÂØπË±°ÔºàÁî±Á≥ªÁªüÂÆö‰πâÔºâ\n- Ë∫´‰Ωì: ‰øùÁïôNSFWÊâ©Â±ïÂ≠óÊÆµÔºàËµõÂçöÂåñÂèôËø∞Ôºâ\n\n## 2. Á§æ‰∫§ÔºàË∑ØÂæÑÔºöÁ§æ‰∫§.*Ôºâ\n- ÂÖ≥Á≥ª: {NPCÂêç: NPCÂØπË±°}\n- ÁªÑÁªá: ÁªÑÁªá‰ø°ÊÅØ\n- ËÆ∞ÂøÜ: {Áü≠ÊúüËÆ∞ÂøÜ, ‰∏≠ÊúüËÆ∞ÂøÜ, ÈïøÊúüËÆ∞ÂøÜ, ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ}\n- ‰∫ã‰ª∂: {ÈÖçÁΩÆ, ‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥, ‰∫ã‰ª∂ËÆ∞ÂΩï}\n\n## 3. ‰∏ñÁïåÔºàË∑ØÂæÑÔºö‰∏ñÁïå.*Ôºâ\n- ‰ø°ÊÅØ: {‰∏ñÁïåÂêçÁß∞, Âå∫Âüü‰ø°ÊÅØ, ÂÖ¨Âè∏ÂäøÂäõ, ËäÇÁÇπ‰ø°ÊÅØ, ÁîüÊàêÊó∂Èó¥, ‰∏ñÁïåËÉåÊôØ, ‰∏ñÁïåÁ∫™ÂÖÉ, ÁâπÊÆäËÆæÂÆö}\n\n## 4. Á≥ªÁªüÔºàË∑ØÂæÑÔºöÁ≥ªÁªü.*Ôºâ\n- ÈÖçÁΩÆ: {ËßÑÂàô, ÊèêÁ§∫, nsfwMode, nsfwGenderFilter}\n- ÂéÜÂè≤: {Âèô‰∫ã}\n- ËÅîÊú∫ / ËÆæÁΩÆ: ‰øùÁïô\n'.trim()},414:e=>{"use strict";e.exports=Math.round},453:(e,t,n)=>{"use strict";var a,r=n(9612),o=n(9383),i=n(1237),s=n(9290),l=n(9538),c=n(8068),d=n(9675),u=n(5345),m=n(1514),p=n(8968),g=n(6188),h=n(8002),f=n(5880),v=n(414),b=n(3093),y=Function,x=function(e){try{return y('"use strict"; return ('+e+").constructor;")()}catch(e){}},k=n(5795),w=n(655),E=function(){throw new d},N=k?function(){try{return E}catch(e){try{return k(arguments,"callee").get}catch(e){return E}}}():E,S=n(4039)(),_=n(3628),V=n(1064),C=n(8648),A=n(1002),D=n(76),T={},B="undefined"!=typeof Uint8Array&&_?_(Uint8Array):a,I={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?a:ArrayBuffer,"%ArrayIteratorPrototype%":S&&_?_([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":"undefined"==typeof Atomics?a:Atomics,"%BigInt%":"undefined"==typeof BigInt?a:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?a:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?a:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float16Array%":"undefined"==typeof Float16Array?a:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?a:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?a:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?a:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":T,"%Int8Array%":"undefined"==typeof Int8Array?a:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?a:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&_?_(_([][Symbol.iterator]())):a,"%JSON%":"object"==typeof JSON?JSON:a,"%Map%":"undefined"==typeof Map?a:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S&&_?_((new Map)[Symbol.iterator]()):a,"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":k,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?a:Promise,"%Proxy%":"undefined"==typeof Proxy?a:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?a:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?a:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S&&_?_((new Set)[Symbol.iterator]()):a,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&_?_(""[Symbol.iterator]()):a,"%Symbol%":S?Symbol:a,"%SyntaxError%":c,"%ThrowTypeError%":N,"%TypedArray%":B,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?a:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?a:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?a:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?a:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?a:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?a:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?a:WeakSet,"%Function.prototype.call%":D,"%Function.prototype.apply%":A,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":V,"%Math.abs%":m,"%Math.floor%":p,"%Math.max%":g,"%Math.min%":h,"%Math.pow%":f,"%Math.round%":v,"%Math.sign%":b,"%Reflect.getPrototypeOf%":C};if(_)try{null.error}catch(e){var M=_(_(e));I["%Error.prototype%"]=M}var z=function e(t){var n;if("%AsyncFunction%"===t)n=x("async function () {}");else if("%GeneratorFunction%"===t)n=x("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=x("async function* () {}");else if("%AsyncGenerator%"===t){var a=e("%AsyncGeneratorFunction%");a&&(n=a.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&_&&(n=_(r.prototype))}return I[t]=n,n},P={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=n(6743),$=n(9957),O=R.call(D,Array.prototype.concat),L=R.call(A,Array.prototype.splice),F=R.call(D,String.prototype.replace),j=R.call(D,String.prototype.slice),U=R.call(D,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,H=function(e,t){var n,a=e;if($(P,a)&&(a="%"+(n=P[a])[0]+"%"),$(I,a)){var r=I[a];if(r===T&&(r=z(a)),void 0===r&&!t)throw new d("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:a,value:r}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new d('"allowMissing" argument must be a boolean');if(null===U(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=j(e,0,1),n=j(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var a=[];return F(e,q,function(e,t,n,r){a[a.length]=n?F(r,G,"$1"):t||e}),a}(e),a=n.length>0?n[0]:"",r=H("%"+a+"%",t),o=r.name,i=r.value,s=!1,l=r.alias;l&&(a=l[0],L(n,O([0,1],l)));for(var u=1,m=!0;u<n.length;u+=1){var p=n[u],g=j(p,0,1),h=j(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===h||"'"===h||"`"===h)&&g!==h)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&m||(s=!0),$(I,o="%"+(a+="."+p)+"%"))i=I[o];else if(null!=i){if(!(p in i)){if(!t)throw new d("base intrinsic for "+e+" exists, but the property is not available.");return}if(k&&u+1>=n.length){var f=k(i,p);i=(m=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:i[p]}else m=$(i,p),i=i[p];m&&!s&&(I[o]=i)}}return i}},507:(e,t,n)=>{"use strict";var a=n(453),r=n(6556),o=n(8859),i=n(9675),s=a("%Map%",!0),l=r("Map.prototype.get",!0),c=r("Map.prototype.set",!0),d=r("Map.prototype.has",!0),u=r("Map.prototype.delete",!0),m=r("Map.prototype.size",!0);e.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+o(e))},delete:function(t){if(e){var n=u(e,t);return 0===m(e)&&(e=void 0),n}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&d(e,t)},set:function(t,n){e||(e=new s),c(e,t,n)}};return t}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},602:(e,t,n)=>{"use strict";n.d(t,{P2:()=>g});const a=(e,t)=>t.some(t=>e instanceof t);let r,o;const i=new WeakMap,s=new WeakMap,l=new WeakMap;let c={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){c=e(c)}function u(e){return"function"==typeof e?(t=e,(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),m(this.request)}:function(...e){return m(t.apply(p(this),e))}):(e instanceof IDBTransaction&&function(e){if(i.has(e))return;const t=new Promise((t,n)=>{const a=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),a()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});i.set(e,t)}(e),a(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,c):e);var t}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const a=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(m(e.result)),a()},o=()=>{n(e.error),a()};e.addEventListener("success",r),e.addEventListener("error",o)});return l.set(t,e),t}(e);if(s.has(e))return s.get(e);const t=u(e);return t!==e&&(s.set(e,t),l.set(t,e)),t}const p=e=>l.get(e);function g(e,t,{blocked:n,upgrade:a,blocking:r,terminated:o}={}){const i=indexedDB.open(e,t),s=m(i);return a&&i.addEventListener("upgradeneeded",e=>{a(m(i.result),e.oldVersion,e.newVersion,m(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const h=["get","getKey","getAll","getAllKeys","count"],f=["put","add","delete","clear"],v=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(v.get(t))return v.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,r=f.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!r&&!h.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,r?"readwrite":"readonly");let i=o.store;return a&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),r&&o.done]))[0]};return v.set(t,o),o}d(e=>({...e,get:(t,n,a)=>b(t,n)||e.get(t,n,a),has:(t,n)=>!!b(t,n)||e.has(t,n)}));const y=["continue","continuePrimaryKey","advance"],x={},k=new WeakMap,w=new WeakMap,E={get(e,t){if(!y.includes(t))return e[t];let n=x[t];return n||(n=x[t]=function(...e){k.set(this,w.get(this)[t](...e))}),n}};async function*N(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,E);for(w.set(n,t),l.set(n,p(t));t;)yield n,t=await(k.get(n)||t.continue()),k.delete(n)}function S(e,t){return t===Symbol.asyncIterator&&a(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&a(e,[IDBIndex,IDBObjectStore])}d(e=>({...e,get:(t,n,a)=>S(t,n)?N:e.get(t,n,a),has:(t,n)=>S(t,n)||e.has(t,n)}))},631:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.sect-contribution[data-v-0933afe0] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n.player-info-bar[data-v-0933afe0] {\n  display: flex;\n  gap: 1.5rem;\n  padding: 0.75rem 1rem;\n  background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(168, 85, 247, 0.05));\n  border-radius: 8px;\n  border: 1px solid rgba(147, 51, 234, 0.2);\n}\n.info-item[data-v-0933afe0] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.info-item.highlight[data-v-0933afe0] {\n  padding: 0.25rem 0.75rem;\n  background: rgba(245, 158, 11, 0.1);\n  border-radius: 6px;\n  border: 1px solid rgba(245, 158, 11, 0.2);\n}\n.info-label[data-v-0933afe0] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.info-value[data-v-0933afe0] {\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n.info-value.position[data-v-0933afe0] { color: #9333ea;\n}\n.info-value.contribution[data-v-0933afe0] { color: #f59e0b; font-size: 1.1rem;\n}\n.exchange-tabs[data-v-0933afe0] {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.tab-btn[data-v-0933afe0] {\n  display: flex;\n  align-items: center;\n  gap: 0.35rem;\n  padding: 0.5rem 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text-secondary);\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.tab-btn[data-v-0933afe0]:hover {\n  border-color: rgba(245, 158, 11, 0.3);\n  color: var(--color-text);\n}\n.tab-btn.active[data-v-0933afe0] {\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05));\n  border-color: rgba(245, 158, 11, 0.4);\n  color: #f59e0b;\n}\n.exchange-list[data-v-0933afe0] {\n  flex: 1;\n  overflow-y: auto;\n}\n.empty-state[data-v-0933afe0] {\n  text-align: center;\n  padding: 2rem;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-0933afe0] {\n  opacity: 0.5;\n  margin-bottom: 0.5rem;\n}\n.empty-text[data-v-0933afe0] {\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n}\n.empty-hint[data-v-0933afe0] {\n  font-size: 0.8rem;\n  opacity: 0.7;\n  margin-bottom: 1rem;\n}\n.ask-btn[data-v-0933afe0] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.6rem 1rem;\n  background: linear-gradient(135deg, #f59e0b, #d97706);\n  border: none;\n  border-radius: 6px;\n  color: white;\n  font-size: 0.85rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.ask-btn[data-v-0933afe0]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);\n}\n.items-grid[data-v-0933afe0] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 0.75rem;\n}\n.item-card[data-v-0933afe0] {\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  transition: all 0.2s ease;\n}\n.item-card[data-v-0933afe0]:hover {\n  border-color: rgba(245, 158, 11, 0.3);\n}\n.item-card.can-afford[data-v-0933afe0] {\n  border-color: rgba(34, 197, 94, 0.3);\n}\n.item-card.out-of-stock[data-v-0933afe0] {\n  opacity: 0.5;\n}\n.item-header[data-v-0933afe0] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.item-icon[data-v-0933afe0] {\n  font-size: 1.5rem;\n}\n.item-info[data-v-0933afe0] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.15rem;\n}\n.item-name[data-v-0933afe0] {\n  font-weight: 600;\n  font-size: 0.9rem;\n  color: var(--color-text);\n}\n.item-quality[data-v-0933afe0] {\n  font-size: 0.7rem;\n  padding: 0.1rem 0.35rem;\n  border-radius: 4px;\n  font-weight: 500;\n  width: fit-content;\n}\n.quality-common[data-v-0933afe0] { background: rgba(156, 163, 175, 0.2); color: #6b7280;\n}\n.quality-yellow[data-v-0933afe0] { background: rgba(245, 158, 11, 0.2); color: #f59e0b;\n}\n.quality-xuan[data-v-0933afe0] { background: rgba(139, 92, 246, 0.2); color: #8b5cf6;\n}\n.quality-earth[data-v-0933afe0] { background: rgba(59, 130, 246, 0.2); color: #3b82f6;\n}\n.quality-heaven[data-v-0933afe0] { background: rgba(239, 68, 68, 0.2); color: #ef4444;\n}\n.item-desc[data-v-0933afe0] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  margin: 0 0 0.5rem 0;\n  line-height: 1.4;\n}\n.item-footer[data-v-0933afe0] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n.item-cost[data-v-0933afe0] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: #f59e0b;\n}\n.item-stock[data-v-0933afe0] {\n  display: flex;\n  align-items: center;\n  gap: 0.2rem;\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n}\n.exchange-btn[data-v-0933afe0] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.35rem;\n  padding: 0.5rem;\n  background: linear-gradient(135deg, #f59e0b, #d97706);\n  border: none;\n  border-radius: 5px;\n  color: white;\n  font-size: 0.8rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.exchange-btn[data-v-0933afe0]:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);\n}\n.exchange-btn[data-v-0933afe0]:disabled {\n  background: #6b7280;\n  cursor: not-allowed;\n}\n.contribution-tips[data-v-0933afe0] {\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.tips-title[data-v-0933afe0] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.tips-list[data-v-0933afe0] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.tip-item[data-v-0933afe0] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  padding: 0.25rem 0.5rem;\n  background: var(--color-background);\n  border-radius: 4px;\n}\n.exchange-notice[data-v-0933afe0] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 6px;\n  font-size: 0.75rem;\n  color: #3b82f6;\n}\n",""]);const s=i},651:(e,t,n)=>{"use strict";n.d(t,{applyEquipmentBonus:()=>i,removeEquipmentBonus:()=>s});var a=n(2224);function r(e){const t=e;return t.ËßíËâ≤?.Â±ûÊÄß&&"object"==typeof t.ËßíËâ≤.Â±ûÊÄß||(t.ËßíËâ≤=t.ËßíËâ≤&&"object"==typeof t.ËßíËâ≤?t.ËßíËâ≤:{},t.ËßíËâ≤.Â±ûÊÄß={Èò∂‰Ωç:{ÂêçÁß∞:"Ë°óÂ§¥Êñ∞‰∫∫",Èò∂ÊÆµ:"",ÂΩìÂâçËøõÂ∫¶:0,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:100,ÂçáÁ∫ßÊèèËø∞:""},Â£∞Êúõ:0,ÁîüÂëΩÂÄº:{ÂΩìÂâç:100,‰∏äÈôê:100},ÁîµÈáè:{ÂΩìÂâç:50,‰∏äÈôê:50},Â∏¶ÂÆΩ:{ÂΩìÂâç:10,‰∏äÈôê:10},ÂØøÂëΩ:{ÂΩìÂâç:18,‰∏äÈôê:80}}),t.ËßíËâ≤.Â±ûÊÄß}function o(e){const t=e;return t.ËßíËâ≤?.Ë∫´‰ªΩ&&"object"==typeof t.ËßíËâ≤.Ë∫´‰ªΩ||(t.ËßíËâ≤=t.ËßíËâ≤&&"object"==typeof t.ËßíËâ≤?t.ËßíËâ≤:{},t.ËßíËâ≤.Ë∫´‰ªΩ={ÊàêÈïøÂÖ≠Áª¥:{‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0}}),{character:t.ËßíËâ≤.Ë∫´‰ªΩ}}function i(e,t){try{const n=r(e),{character:i}=o(e),s=e?.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ,l=s?.[t];if(!l||"Ë£ÖÂ§á"!==l.Á±ªÂûã)return console.warn(`[Ë£ÖÂ§áÂ¢ûÂπÖ] Áâ©ÂìÅ ${t} ‰∏çÊòØË£ÖÂ§áÁ±ªÂûã`),!1;const c=l.Ë£ÖÂ§áÂ¢ûÂπÖ;if(!c)return console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] Ë£ÖÂ§á ${l.ÂêçÁß∞} Ê≤°ÊúâÂ±ûÊÄßÂä†Êàê`),!0;if(console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÂºÄÂßãÂ∫îÁî®Ë£ÖÂ§á ${l.ÂêçÁß∞} ÁöÑÂ±ûÊÄßÂä†Êàê:`,c),c.ÁîüÂëΩÂÄº‰∏äÈôê&&"number"==typeof c.ÁîüÂëΩÂÄº‰∏äÈôê){const e=(0,a.get)(n,"ÁîüÂëΩÂÄº",{ÂΩìÂâç:100,‰∏äÈôê:100}),t=e.‰∏äÈôê+c.ÁîüÂëΩÂÄº‰∏äÈôê;(0,a.set)(n,"ÁîüÂëΩÂÄº.‰∏äÈôê",t),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÁîüÂëΩÂÄº‰∏äÈôê: ${e.‰∏äÈôê} -> ${t} (+${c.ÁîüÂëΩÂÄº‰∏äÈôê})`)}if(c.ÁîµÈáè‰∏äÈôê&&"number"==typeof c.ÁîµÈáè‰∏äÈôê){const e=(0,a.get)(n,"ÁîµÈáè",{ÂΩìÂâç:50,‰∏äÈôê:50}),t=e.‰∏äÈôê+c.ÁîµÈáè‰∏äÈôê;(0,a.set)(n,"ÁîµÈáè.‰∏äÈôê",t),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÁîµÈáè‰∏äÈôê: ${e.‰∏äÈôê} -> ${t} (+${c.ÁîµÈáè‰∏äÈôê})`)}if(c.Â∏¶ÂÆΩ‰∏äÈôê&&"number"==typeof c.Â∏¶ÂÆΩ‰∏äÈôê){const e=(0,a.get)(n,"Â∏¶ÂÆΩ",{ÂΩìÂâç:10,‰∏äÈôê:10}),t=e.‰∏äÈôê+c.Â∏¶ÂÆΩ‰∏äÈôê;(0,a.set)(n,"Â∏¶ÂÆΩ.‰∏äÈôê",t),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] Â∏¶ÂÆΩ‰∏äÈôê: ${e.‰∏äÈôê} -> ${t} (+${c.Â∏¶ÂÆΩ‰∏äÈôê})`)}return c.ÊàêÈïøÂÖ≠Áª¥&&["‰ΩìË¥®","ËÉΩÊ∫ê","ÁÆóÊ≥ï","ËµÑÊ∫êÊÑüÁü•","È≠ÖÂäõ","ÂøÉÊô∫"].forEach(e=>{const t=c.ÊàêÈïøÂÖ≠Áª¥?.[e];if(t&&"number"==typeof t){const n=(0,a.get)(i,`ÊàêÈïøÂÖ≠Áª¥.${e}`,0),r=n+t;(0,a.set)(i,`ÊàêÈïøÂÖ≠Áª¥.${e}`,r),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÊàêÈïøÂÖ≠Áª¥.${e}: ${n} -> ${r} (+${t})`)}}),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ‚úÖ ÊàêÂäüÂ∫îÁî®Ë£ÖÂ§á ${l.ÂêçÁß∞} ÁöÑÂ±ûÊÄßÂä†Êàê`),!0}catch(e){return console.error("[Ë£ÖÂ§áÂ¢ûÂπÖ] Â∫îÁî®Ë£ÖÂ§áÂä†ÊàêÂ§±Ë¥•:",e),!1}}function s(e,t){try{const n=r(e),{character:i}=o(e),s=e?.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ,l=s?.[t];if(!l||"Ë£ÖÂ§á"!==l.Á±ªÂûã)return console.warn(`[Ë£ÖÂ§áÂ¢ûÂπÖ] Áâ©ÂìÅ ${t} ‰∏çÊòØË£ÖÂ§áÁ±ªÂûã`),!1;const c=l.Ë£ÖÂ§áÂ¢ûÂπÖ;if(!c)return console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] Ë£ÖÂ§á ${l.ÂêçÁß∞} Ê≤°ÊúâÂ±ûÊÄßÂä†Êàê`),!0;if(console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÂºÄÂßãÁßªÈô§Ë£ÖÂ§á ${l.ÂêçÁß∞} ÁöÑÂ±ûÊÄßÂä†Êàê:`,c),c.ÁîüÂëΩÂÄº‰∏äÈôê&&"number"==typeof c.ÁîüÂëΩÂÄº‰∏äÈôê){const e=(0,a.get)(n,"ÁîüÂëΩÂÄº",{ÂΩìÂâç:100,‰∏äÈôê:100}),t=Math.max(1,e.‰∏äÈôê-c.ÁîüÂëΩÂÄº‰∏äÈôê);(0,a.set)(n,"ÁîüÂëΩÂÄº.‰∏äÈôê",t),e.ÂΩìÂâç>t&&((0,a.set)(n,"ÁîüÂëΩÂÄº.ÂΩìÂâç",t),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÁîüÂëΩÂÄºÂΩìÂâçÂÄºË∂ÖËøáÊñ∞‰∏äÈôêÔºåÂ∑≤Ë∞ÉÊï¥: ${e.ÂΩìÂâç} -> ${t}`)),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÁîüÂëΩÂÄº‰∏äÈôê: ${e.‰∏äÈôê} -> ${t} (-${c.ÁîüÂëΩÂÄº‰∏äÈôê})`)}if(c.ÁîµÈáè‰∏äÈôê&&"number"==typeof c.ÁîµÈáè‰∏äÈôê){const e=(0,a.get)(n,"ÁîµÈáè",{ÂΩìÂâç:50,‰∏äÈôê:50}),t=Math.max(1,e.‰∏äÈôê-c.ÁîµÈáè‰∏äÈôê);(0,a.set)(n,"ÁîµÈáè.‰∏äÈôê",t),e.ÂΩìÂâç>t&&((0,a.set)(n,"ÁîµÈáè.ÂΩìÂâç",t),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÁîµÈáèÂΩìÂâçÂÄºË∂ÖËøáÊñ∞‰∏äÈôêÔºåÂ∑≤Ë∞ÉÊï¥: ${e.ÂΩìÂâç} -> ${t}`)),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÁîµÈáè‰∏äÈôê: ${e.‰∏äÈôê} -> ${t} (-${c.ÁîµÈáè‰∏äÈôê})`)}if(c.Â∏¶ÂÆΩ‰∏äÈôê&&"number"==typeof c.Â∏¶ÂÆΩ‰∏äÈôê){const e=(0,a.get)(n,"Â∏¶ÂÆΩ",{ÂΩìÂâç:10,‰∏äÈôê:10}),t=Math.max(1,e.‰∏äÈôê-c.Â∏¶ÂÆΩ‰∏äÈôê);(0,a.set)(n,"Â∏¶ÂÆΩ.‰∏äÈôê",t),e.ÂΩìÂâç>t&&((0,a.set)(n,"Â∏¶ÂÆΩ.ÂΩìÂâç",t),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] Â∏¶ÂÆΩÂΩìÂâçÂÄºË∂ÖËøáÊñ∞‰∏äÈôêÔºåÂ∑≤Ë∞ÉÊï¥: ${e.ÂΩìÂâç} -> ${t}`)),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] Â∏¶ÂÆΩ‰∏äÈôê: ${e.‰∏äÈôê} -> ${t} (-${c.Â∏¶ÂÆΩ‰∏äÈôê})`)}return c.ÊàêÈïøÂÖ≠Áª¥&&["‰ΩìË¥®","ËÉΩÊ∫ê","ÁÆóÊ≥ï","ËµÑÊ∫êÊÑüÁü•","È≠ÖÂäõ","ÂøÉÊô∫"].forEach(e=>{const t=c.ÊàêÈïøÂÖ≠Áª¥?.[e];if(t&&"number"==typeof t){const n=(0,a.get)(i,`ÊàêÈïøÂÖ≠Áª¥.${e}`,0),r=Math.max(0,n-t);(0,a.set)(i,`ÊàêÈïøÂÖ≠Áª¥.${e}`,r),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ÊàêÈïøÂÖ≠Áª¥.${e}: ${n} -> ${r} (-${t})`)}}),console.log(`[Ë£ÖÂ§áÂ¢ûÂπÖ] ‚úÖ ÊàêÂäüÁßªÈô§Ë£ÖÂ§á ${l.ÂêçÁß∞} ÁöÑÂ±ûÊÄßÂä†Êàê`),!0}catch(e){return console.error("[Ë£ÖÂ§áÂ¢ûÂπÖ] ÁßªÈô§Ë£ÖÂ§áÂä†ÊàêÂ§±Ë¥•:",e),!1}}},655:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},660:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 viewBox=%270 0 12 12%27%3E%3Cpath fill=%27%23374151%27 d=%27M6 9L1 4h10z%27/%3E%3C/svg%3E"},758:(e,t,n)=>{"use strict";function a(e,t,n,a){const r=[a];let o=!1,i=!1;for(let n=t;n<e.length;n++){const a=e[n];if(o){if(i){i=!1;continue}if("\\"===a){i=!0;continue}'"'===a&&(o=!1)}else if('"'!==a){if("{"===a)r.push("}");else if("["===a)r.push("]");else if("}"===a||"]"===a){if(a!==r[r.length-1])return null;if(r.pop(),0===r.length)return e.slice(t,n+1).trim()}}else o=!0}return null}function r(e){const t=function(e){if(!e)return null;const t=/```(?:json)?\s*([\s\S]*?)\s*```/gi;for(const n of e.matchAll(t)){const e=(n[1]||"").trim();if(e&&(e.includes("{")||e.includes("[")))return e}const n=[];for(let t=0;t<e.length;t++){const a=e[t];"{"===a&&n.push({index:t,opener:"{",closer:"}"}),"["===a&&n.push({index:t,opener:"[",closer:"]"})}for(const t of n){const n=a(e,t.index,t.opener,t.closer);if(n)return n}return null}(e);if(!t)throw new Error("Êú™ÊâæÂà∞ÂèØËß£ÊûêÁöÑ JSON ÁâáÊÆµ");return JSON.parse(t)}n.d(t,{p:()=>r})},810:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>b,nY:()=>T});var a=n(4061);const r="undefined"!=typeof window;let o;const i=e=>o=e,s=Symbol();function l(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var c;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(c||(c={}));const d=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function u(e,t,n){const a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){f(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function m(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function p(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(n)}}const g="object"==typeof navigator?navigator:{userAgent:""},h=(()=>/Macintosh/.test(g.userAgent)&&/AppleWebKit/.test(g.userAgent)&&!/Safari/.test(g.userAgent))(),f=r?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!h?function(e,t="download",n){const a=document.createElement("a");a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?m(a.href)?u(e,t,n):(a.target="_blank",p(a)):p(a)):(a.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){p(a)},0))}:"msSaveOrOpenBlob"in g?function(e,t="download",n){if("string"==typeof e)if(m(e))u(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout(function(){p(t)})}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return u(e,t,n);const r="application/octet-stream"===e.type,o=/constructor/i.test(String(d.HTMLElement))||"safari"in d,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||r&&o||h)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw a=null,new Error("Wrong reader.result type");e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location.assign(e),a=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);a?a.location.assign(t):location.href=t,a=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}:()=>{},{assign:v}=Object;function b(){const e=(0,a.effectScope)(!0),t=e.run(()=>(0,a.ref)({}));let n=[],r=[];const o=(0,a.markRaw)({install(e){i(o),o._a=e,e.provide(s,o),e.config.globalProperties.$pinia=o,r.forEach(e=>n.push(e)),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const y=()=>{};function x(e,t,n,r=y){e.add(t);const o=()=>{e.delete(t)&&r()};return!n&&(0,a.getCurrentScope)()&&(0,a.onScopeDispose)(o),o}function k(e,...t){e.forEach(e=>{e(...t)})}const w=e=>e(),E=Symbol(),N=Symbol();function S(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];l(o)&&l(r)&&e.hasOwnProperty(n)&&!(0,a.isRef)(r)&&!(0,a.isReactive)(r)?e[n]=S(o,r):e[n]=r}return e}const _=Symbol();function V(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,_)}const{assign:C}=Object;function A(e){return!(!(0,a.isRef)(e)||!e.effect)}function D(e,t,n={},r,o,s){let l;const d=C({actions:{}},n),u={deep:!0};let m,p,g,h=new Set,f=new Set;const v=r.state.value[e];let b;function _(t){let n;m=p=!1,"function"==typeof t?(t(r.state.value[e]),n={type:c.patchFunction,storeId:e,events:g}):(S(r.state.value[e],t),n={type:c.patchObject,payload:t,storeId:e,events:g});const o=b=Symbol();(0,a.nextTick)().then(()=>{b===o&&(m=!0)}),p=!0,k(h,n,r.state.value[e])}s||v||(r.state.value[e]={}),(0,a.ref)({});const D=s?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{C(e,t)})}:y,T=(t,n="")=>{if(E in t)return t[N]=n,t;const a=function(){i(r);const n=Array.from(arguments),o=new Set,s=new Set;let l;k(f,{args:n,name:a[N],store:I,after:function(e){o.add(e)},onError:function(e){s.add(e)}});try{l=t.apply(this&&this.$id===e?this:I,n)}catch(e){throw k(s,e),e}return l instanceof Promise?l.then(e=>(k(o,e),e)).catch(e=>(k(s,e),Promise.reject(e))):(k(o,l),l)};return a[E]=!0,a[N]=n,a},B={_p:r,$id:e,$onAction:x.bind(null,f),$patch:_,$reset:D,$subscribe(t,n={}){const o=x(h,t,n.detached,()=>i()),i=l.run(()=>(0,a.watch)(()=>r.state.value[e],a=>{("sync"===n.flush?p:m)&&t({storeId:e,type:c.direct,events:g},a)},C({},u,n)));return o},$dispose:function(){l.stop(),h.clear(),f.clear(),r._s.delete(e)}},I=(0,a.reactive)(B);r._s.set(e,I);const M=(r._a&&r._a.runWithContext||w)(()=>r._e.run(()=>(l=(0,a.effectScope)()).run(()=>t({action:T}))));for(const t in M){const n=M[t];if((0,a.isRef)(n)&&!A(n)||(0,a.isReactive)(n))s||(v&&V(n)&&((0,a.isRef)(n)?n.value=v[t]:S(n,v[t])),r.state.value[e][t]=n);else if("function"==typeof n){const e=T(n,t);M[t]=e,d.actions[t]=n}}return C(I,M),C((0,a.toRaw)(I),M),Object.defineProperty(I,"$state",{get:()=>r.state.value[e],set:e=>{_(t=>{C(t,e)})}}),r._p.forEach(e=>{C(I,l.run(()=>e({store:I,app:r._a,pinia:r,options:d})))}),v&&s&&n.hydrate&&n.hydrate(I.$state,v),m=!0,p=!0,I}function T(e,t,n){let r;const l="function"==typeof t;function c(n,c){const d=(0,a.hasInjectionContext)();return(n=n||(d?(0,a.inject)(s,null):null))&&i(n),(n=o)._s.has(e)||(l?D(e,t,r,n):function(e,t,n){const{state:r,actions:o,getters:s}=t,l=n.state.value[e];let c;c=D(e,function(){l||(n.state.value[e]=r?r():{});const t=(0,a.toRefs)(n.state.value[e]);return C(t,o,Object.keys(s||{}).reduce((t,r)=>(t[r]=(0,a.markRaw)((0,a.computed)(()=>{i(n);const t=n._s.get(e);return s[r].call(t,t)})),t),{}))},t,n,0,!0)}(e,r,n)),n._s.get(e)}return r=l?n:t,c.$id=e,c}},840:(e,t,n)=>{"use strict";n.d(t,{IJ:()=>p,p$:()=>m,q5:()=>u});var a=n(406),r=n(1513),o=n(8651);const i='\n## ËæìÂá∫Ê†ºÂºèÔºàÊúÄÈ´ò‰ºòÂÖàÁ∫ßÔºâ\n\n‰ªÖËæìÂá∫‰∏Ä‰∏™ JSON ÂØπË±°ÔºàÂèØÁî® ```json ‰ª£Á†ÅÂõ¥Ê†èÂåÖË£πÔºâÔºõ‰∏çË¶ÅËæìÂá∫‰ªª‰ΩïËß£ÈáäÊÄßÊñáÂ≠ó/Ê†áÁ≠æ„ÄÇ\n\nJSONÁªìÊûÑÔºö\n```json\n{\n  "text": "1200-2500Â≠óÂºÄÂ±ÄÂèô‰∫ãÔºàÊ≤âÊµ∏Âºè„ÄÅÁ¶ÅÊ≠¢ÂåÖÂê´‰ªª‰ΩïÊ∏∏ÊàèÊï∞ÊçÆ/JSON/Ê†áÁ≠æÔºâ",\n  "mid_term_memory": "50-100Â≠óÊëòË¶ÅÔºàÂøÖÂ°´Ôºå‰∏çËÉΩ‰∏∫Á©∫Ôºâ",\n  "tavern_commands": [\n    {"action":"set","key":"ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥","value":{"Âπ¥":1050,"Êúà":1,"Êó•":1,"Â∞èÊó∂":8,"ÂàÜÈíü":0}},\n    {"action":"set","key":"ËßíËâ≤.‰ΩçÁΩÆ","value":{"ÊèèËø∞":"Â§ßÈôÜ¬∑Âú∞ÁÇπ","x":5000,"y":5000}},\n    {"action":"set","key":"ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ","value":{"‰ΩéÈ¢ù":100,"‰∏≠È¢ù":0,"È´òÈ¢ù":0,"ÊúÄÈ´òÈ¢ù":0}}\n  ],\n  "action_options": ["ÈÄâÈ°π1","ÈÄâÈ°π2","ÈÄâÈ°π3","ÈÄâÈ°π4","ÈÄâÈ°π5"]\n}\n```\n\nË¶ÅÊ±ÇÔºö\n- text Âè™ÂÜôÊïÖ‰∫ãÊ≠£ÊñáÔºõ‰∏çË¶ÅÂ§πÂ∏¶ÂëΩ‰ª§„ÄÅÊï∞ÊçÆ„ÄÅÂèòÈáèÂêç\n- tavern_commands ÂøÖÈ°ªÊòØÊï∞ÁªÑÔºõÁî® {action,key,value} Ê†ºÂºè\n- action_options ÂøÖÈ°ªËæìÂá∫5‰∏™‰∏î‰∏çËÉΩ‰∏∫Á©∫\n- ‰∏•Á¶ÅËæìÂá∫ `<thinking>` / ÊÄùÁª¥Èìæ / Êé®ÁêÜËøáÁ®ã\n'.trim(),s='\n## ÂàùÂßãÂåñÂëΩ‰ª§Ôºàtavern_commandsÔºâ\n\nÊåâÈ°∫Â∫èÊâßË°åÔºö\n\n1. **Êó∂Èó¥** - ËÆæÁΩÆ `ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥`ÔºõÂπ∂ËÆæÁΩÆ `ËßíËâ≤.Ë∫´‰ªΩ.Âá∫ÁîüÊó•Êúü`ÔºàÂá∫ÁîüÂπ¥ = ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥.Âπ¥ - ÂºÄÂ±ÄÂπ¥ÈæÑÔºâ\n2. **‰ΩçÁΩÆ** - ËÆæÁΩÆ `ËßíËâ≤.‰ΩçÁΩÆ`ÔºåÂøÖÈ°ªÂåÖÂê´ {ÊèèËø∞, x, y}Ôºå‰ªéÂèØÁî®Âú∞ÁÇπÈÄâÊã©\n3. **ÁÉ≠Â∫¶** - ËÆæÁΩÆ `ËßíËâ≤.Â±ûÊÄß.Â£∞Êúõ`ÔºàÊôÆÈÄö0-10, ÂüéÂå∫10-50, È´òÂ±Ç50-100Ôºâ\n4. **ÈöèÊú∫È°π** - Ëã•‚Äú‰πâ‰ΩìÂÄæÂêë/ËÉåÊôØ‚Äù‰∏∫"ÈöèÊú∫"ÔºåÁî® `set` ÂÜôÂÖ• `ËßíËâ≤.Ë∫´‰ªΩ.ÊîπÈÄ†Ê†∏ÂøÉ` / `ËßíËâ≤.Ë∫´‰ªΩ.Âá∫Áîü` ÁöÑÂÖ∑‰ΩìÂÜÖÂÆπ\n5. **ËµÑÊ∫ê** - ËÆæÁΩÆ `ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ` ‰∏é `ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Áâ©ÂìÅID}`ÔºõÊäÄËÉΩÊ®°ÂùóÂè™‰Ωú‰∏∫‚ÄúÁâ©ÂìÅ.Á±ªÂûã=Ê®°Âùó‚ÄùËøõÂÖ•ËÉåÂåÖ\n6. **NPC** - ‰ªÖÂàõÂª∫ÊñáÊú¨‰∏≠ÊòéÁ°ÆÊèêÂà∞ÁöÑÈáçË¶Å‰∫∫Áâ©Ôºà0-3‰∏™ÔºâÔºåÂÜôÂÖ• `Á§æ‰∫§.ÂÖ≥Á≥ª.{npcKey}`\n7. **‰∏ìÁ≤æ** - Ëã•Â§©Ëµã/Ê®°ÂùóÂΩ±Âìç‰∏ìÁ≤æÔºåÂÜôÂÖ• `ËßíËâ≤.ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.{‰∏ìÁ≤æÂêç}`ÔºàÂÆåÊï¥ÂØπË±°Ôºâ\n\nÁ∫¶ÊùüÔºö\n- ÊâÄÊúâ key ÂøÖÈ°ª‰ª• `ÂÖÉÊï∞ÊçÆ/ËßíËâ≤/Á§æ‰∫§/‰∏ñÁïå/Á≥ªÁªü` ÂºÄÂ§¥ÔºàÁü≠Ë∑ØÂæÑÔºâ\n'.trim(),l='\n## Âèô‰∫ãË¶ÅÊ±Ç‰∏éÊñáÈ£éËÆæÂÆö\n\n### ÊñáÈ£éÂü∫Ë∞É\n- **ËµõÂçöÊúãÂÖãÁé∞ÂÆûÈ£é**: ÂÜ∑Â≥ª„ÄÅÂéãËø´ÊÑüÂº∫ÔºåÂº∫Ë∞ÉÊäÄÊúØ„ÄÅÁß©Â∫è‰∏éÁîüÂ≠òÂéãÂäõ„ÄÇ\n- **Ê≤âÊµ∏Âºè‰ΩìÈ™å**: ‰æßÈáçÁéØÂ¢ÉÂô™Â£∞„ÄÅÂÖâÂΩ±„ÄÅËÆæÂ§áË¥üËΩΩ„ÄÅ‰∫∫‰ΩìÊÑüÁü•ÔºåËÄåÈùûÁΩóÂàóÊï∞ÊçÆ„ÄÇ\n- **Á¶ÅÊ≠¢Ê∏∏ÊàèÊúØËØ≠**: ÊñáÊú¨‰∏≠‰∏•Á¶ÅÂá∫Áé∞"Áé©ÂÆ∂"„ÄÅ"Ëé∑Âæó"„ÄÅ"ÂçáÁ∫ß"Á≠âÂá∫ÊàèËØçÊ±á„ÄÇ\n\n### ÈÄªËæë‰∏éÈöæÂ∫¶\n- **ÊàêÈïøËâ∞Èöæ**: ËÆ≠ÁªÉ‰∏éÊîπÈÄ†ÈúÄË¶Å‰ª£‰ª∑„ÄÅÊó∂Èó¥‰∏éÈ£éÈô©Ôºå‰∏•Á¶Å‚ÄúÁû¨Èó¥ÊèêÂçá‚Äù„ÄÇ\n- **Êó∂Èó¥ÊÑüÁü•**: ÂøÖÈ°ª‰ΩìÁé∞Êó∂Èó¥ÊµÅÈÄù‰∏éËµÑÊ∫êÊ∂àËÄó„ÄÇ\n- **Á≠âÁ∫ß‰∏•Ë∞®**: Âè™ÊúâÁªèËøáËÆ≠ÁªÉ‰∏éÂÆûÊàòÁßØÁ¥ØÊâçËÉΩÊôãÂçá„ÄÇ\n\n### ËßíËâ≤Â°ëÈÄ†\n- **Âπ¥ÈæÑ**: Ë°å‰∏∫‰∏æÊ≠¢‰∏éÂπ¥ÈæÑËÆ§Áü•ÂåπÈÖç„ÄÇ\n- **‰∏ÄËá¥ÊÄß**: ËÉåÊôØÂÜ≥ÂÆöËßÜÈáé‰∏éËµ∑ÁÇπÔºåÂøÖÈ°ª‰∏éÈÄâÊã©‰∏ÄËá¥„ÄÇ\n'.trim(),c="\n## ÂàùÂßãËµÑÊ∫êÊéßÂà∂Ôºà‰∏•Ê†ºÊâßË°åÔºâ\n\n### ‰ø°Áî®ÁÇπ (Âü∫‰∫éËÉåÊôØ)\n- **Â∫ïÂ±Ç/ÊµÅÊµ™**: 0-100\n- **ÊôÆÈÄö/ÈõáÂëò**: 100-500\n- **ÂÖ¨Âè∏‰ΩìÁ≥ª**: 800-2000\n- **È´òÂç±È´òËñ™**: 2000-5000\n\n### Áâ©ÂìÅ‰∏éË£ÖÂ§á\n- **Êï∞ÈáèÈôêÂà∂**: 1-5‰ª∂ÔºåÂÆÅÁº∫ÊØãÊª•„ÄÇ\n- **ÂìÅË¥®ÈôêÂà∂**: ÂàùÂßãÁâ©ÂìÅ‰ª•**Ê∞ëÁî®/ÊîπË£Ö**‰∏∫‰∏ª„ÄÇ‰∏•Á¶ÅÂºÄÂ±ÄÁõ¥Êé•Áªô‰∫à‚ÄúÁ¶ÅÂøå‚ÄùË£ÖÂ§á„ÄÇ\n- **ÊäÄËÉΩÊ®°Âùó**: 0-2‰∏™ÔºåÂ§öÊï∞ÂºÄÂ±Ä‰∏çÂ∫îËá™Â∏¶È´òÈò∂Ê®°Âùó„ÄÇ\n\n### NPC‰∏éÂÖ≥Á≥ª\n- **Êï∞Èáè**: 0-3‰∏™ÔºàÈáçË¶Å‰∫∫Áâ©Ôºâ„ÄÇ\n- **ÂÖ≥Á≥ª**: ÂàùÂßãÂ•ΩÊÑüÂ∫¶‰∏çÂÆúËøáÈ´òÔºå‰ΩìÁé∞Áé∞ÂÆûÂÖ≥Á≥ªÊàêÊú¨„ÄÇ\n\n### Á≠âÁ∫ßÂà§ÂÆö\n- **Ë°óÂ§¥‰∫∫**: ÁªùÂ§ßÂ§öÊï∞ÂºÄÂ±ÄÂ∫î‰∏∫Ë°óÂ§¥‰∫∫ÔºàËøõÂ∫¶0Ôºâ„ÄÇ\n- **Ë∑ëËÄÖ**: ‰ªÖÂΩìËÉåÊôØÂêàÁêÜÊó∂ÂÖÅËÆ∏ËøõÂÖ•‰ΩéÈò∂Ë∑ëËÄÖ„ÄÇ\n".trim(),d=`\n# ËßíËâ≤ÂàùÂßãÂåñ‰ªªÂä°\n\n${i}\n\n---\n\n${s}\n\n---\n\n${l}\n\n---\n\n${c}\n\n---\n\n# Êï∞ÊçÆÁªìÊûÑ\n${a.Ps}\n`.trim();function u(e){return e?d:(0,a.qh)(d)}function m(e,t){const{name:n,gender:a,race:r,age:o,world:i,talentTier:s,origin:l,spiritRoot:c,talents:d,attributes:u,difficultyPrompt:m}=e,p=n||"Êú™ÂëΩÂêç",g=a||"Êú™Áü•",h=r||"Êú™Áü•",f="number"==typeof o?o:Number(o||0),v=i?.name||i?.ÂêçÁß∞||("string"==typeof i?i:"Êú™ÈÄâÊã©‰∏ñÁïå"),b=i?.era||i?.Á∫™ÂÖÉ||"",y=i?.description||i?.ÊèèËø∞||"",x=s?.name||s?.ÂêçÁß∞||("string"==typeof s?s:"Êú™ÈÄâÊã©"),k=s?.description||s?.ÊèèËø∞||"",w="object"==typeof l&&null!==l,E="object"==typeof c&&null!==c,N=(d||[]).length>0?(d||[]).map(e=>`- ${e?.name||e?.ÂêçÁß∞||"Êú™ÂëΩÂêç"}: ${e?.description||e?.ÊèèËø∞||""}`.trim()).join("\n"):"Êó†",S=Object.entries(u||{}).map(([e,t])=>`${e}:${t}`).join(", "),_=t?.availableContinents?.map(e=>`- ${e.name||e.ÂêçÁß∞}`).join("\n")||"(Êú™ÁîüÊàê)",V=t?.availableLocations?.slice(0,8).map(e=>`- ${e.name||e.ÂêçÁß∞} (${e.type||e.Á±ªÂûã})`).join("\n")||"(Êú™ÁîüÊàê)";return`\n# Áé©ÂÆ∂ËßíËâ≤Êï∞ÊçÆ\n\n## Âü∫Á°Ä‰ø°ÊÅØ\nÂßìÂêç: ${p} | ÊÄßÂà´: ${g} | ÁßçÊóè: ${h} | Âπ¥ÈæÑ: ${f}Â≤Å\n\n## ‰∏ñÁïå\n${v}${b?` (${b})`:""}\n${y}\n\n## Â§©ËµÑ\n${x}${k?`: ${k}`:""}\n\n## Âá∫Ë∫´\n${w?l.name||l.ÂêçÁß∞||"Êú™ÈÄâÊã©":l??"Êú™ÈÄâÊã©"}: ${w?l.description||l.ÊèèËø∞||"":"(ÈöèÊú∫ÔºåÈúÄAIÁîüÊàê)"}\n\n## ÊîπÈÄ†Ê†∏ÂøÉ\n${E?`${c.name||c.ÂêçÁß∞||"Êú™ÈÄâÊã©"} (${c.tier||c.ÂìÅÁ∫ß||"Êú™Áü•"})`:c??"Êú™ÈÄâÊã©"}: ${E?c.description||c.ÊèèËø∞||"":"(ÈöèÊú∫ÔºåÈúÄAIÁîüÊàê)"}\n\n## Â§©Ëµã\n${N}\n\n## ÂàùÂßãÂÖ≠Áª¥\n${S||"Êú™ËÆæÁΩÆ"}\n\n---\n\n## ÂèØÁî®Âú∞ÁÇπ\n**Â§ßÈôÜ**:\n${_}\n\n**Âú∞ÁÇπ**:\n${V}\n\n‚ö†Ô∏è ‰ΩçÁΩÆÂøÖÈ°ª‰ªé‰∏äËø∞Âú∞ÁÇπÈÄâÊã©ÔºåÂùêÊ†áËåÉÂõ¥: x:0-10000, y:0-10000\n\n---\n\n## ÈöæÂ∫¶ËÆæÁΩÆ\n${m||"„ÄêÈöæÂ∫¶Ê®°ÂºèÔºöÊôÆÈÄö„Äë\n- ‰∏ñÁïåÈÅµÂæ™Ê≠£Â∏∏ËµõÂçöËßÑÂàôÔºåÈ£éÈô©‰∏éËµÑÊ∫êÂπ∂Â≠ò"}\n\n---\n\n## Á≥ªÁªüËÆæÁΩÆ\n${t?.systemSettings?.nsfwMode?`- **NSFWÊ®°Âºè**: Â∑≤ÂºÄÂêØ\n- **ÁßÅÂØÜ‰ø°ÊÅØÁîüÊàêËåÉÂõ¥**: ${"all"===t?.systemSettings?.nsfwGenderFilter?"ÊâÄÊúâNPC":"female"===t?.systemSettings?.nsfwGenderFilter?"‰ªÖÂ•≥ÊÄßNPC":"‰ªÖÁî∑ÊÄßNPC"}\n‚ö†Ô∏è ÂàõÂª∫NPCÊó∂ÔºåËã•NPCÊÄßÂà´Á¨¶Âêà‰∏äËø∞ËåÉÂõ¥ÔºåÂøÖÈ°ªÁîüÊàêÂÆåÊï¥ÁöÑ"ÁßÅÂØÜ‰ø°ÊÅØ(PrivacyProfile)"Â≠óÊÆµ`:"- **NSFWÊ®°Âºè**: Â∑≤ÂÖ≥Èó≠Ôºà‰∏çÁîüÊàêÁßÅÂØÜ‰ø°ÊÅØÔºâ"}\n\n---\n\n## ËæìÂá∫Ë¶ÅÊ±Ç\n‰∏•Ê†ºÈÅµÂæ™Á≥ªÁªüÁöÑJSONËæìÂá∫ËßÑÂàôÔºö\n- ‰∏çË¶ÅËæìÂá∫ \`<thinking>\` / ÊÄùÁª¥Èìæ / ‰ªª‰ΩïÊé®ÁêÜËøáÁ®ãÊ†áÁ≠æ\n- Ê≠£ÊñáÂÜôÂÖ• JSON ÁöÑ "text" Â≠óÊÆµÔºà‰∏çË¶ÅÂÜçËæìÂá∫ "<narrative>" Á≠âÊ†áÁ≠æÔºâ\n- Ë°åÂä®ÈÄâÈ°πÂÜôÂÖ• JSON ÁöÑ "action_options" Â≠óÊÆµÔºà5‰∏™Ôºâ\n`.trim()}async function p(){const e=`${await(0,r.q)([])}\n\n---\n\n# ÂΩìÂâç‰ªªÂä°ÔºöËßíËâ≤ÂàùÂßãÂåñ\n\n‰Ω†Áé∞Âú®ÈúÄË¶ÅÊâßË°åËßíËâ≤ÂàùÂßãÂåñ‰ªªÂä°„ÄÇÁî®Êà∑Â∞ÜÊèê‰æõËßíËâ≤ÁöÑÂü∫Á°Ä‰ø°ÊÅØÔºàÂßìÂêç„ÄÅÊÄßÂà´„ÄÅÂπ¥ÈæÑ„ÄÅÂ§©Ëµã„ÄÅÊîπÈÄ†Ê†∏ÂøÉ„ÄÅÂá∫Ë∫´Á≠âÔºâÔºå‰Ω†ÈúÄË¶ÅÔºö\n1. Ê†πÊçÆÁî®Êà∑ÈÄâÊã©ÁîüÊàê1200-2500Â≠óÁöÑÂºÄÂ±ÄÂèô‰∫ã\n2. ÈÄöËøátavern_commandsËÆæÁΩÆÂàùÂßãÊï∞ÊçÆÔºàÊó∂Èó¥„ÄÅ‰ΩçÁΩÆ„ÄÅËµÑÊ∫ê„ÄÅNPCÁ≠âÔºâ\n3. ËæìÂá∫5‰∏™Ë°åÂä®ÈÄâÈ°π\n\n**Á´ãÂç≥ÊâßË°å‰ªªÂä°ÔºåËæìÂá∫JSONÊ†ºÂºèÁöÑËßíËâ≤ÂàùÂßãÂåñÊï∞ÊçÆ„ÄÇ**\n\n---\n\n${i}\n\n---\n\n${s}\n\n---\n\n${l}\n\n---\n\n${c}\n`.trim();return(0,o.isTavernEnv)()?e:(0,a.qh)(e)}'\n# ‰ªªÂä°ÔºöÁîüÊàêÂ±ÇÁ∫ßÂú∞ÁÇπÂêç\n\nËæìÂÖ•: INPUT_PLACEHOLDER\nËæìÂá∫: {"location_name": "Âå∫Âüü¬∑Âª∫Á≠ë¬∑Âú∫ÊâÄ"}\n\nË¶ÅÊ±Ç:\n1. 2-3Â±ÇÁ∫ßÔºåÁî®"¬∑"ÂàÜÈöî\n2. ‰ΩìÁé∞‰∏ñÁïåÁâπÁÇπ\n3. Âè™ËøîÂõûJSON\n'.trim()},870:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n.hexagon-chart-container[data-v-d76e40b0] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* ÊµÖËâ≤‰∏ªÈ¢ò - ÈáëËæâ‰ªôÂÖâ */\n.grid-line[data-v-d76e40b0] {\n  fill: none;\n  stroke: var(--color-primary);\n  stroke-width: 1;\n  opacity: 0.2;\n}\n.data-polygon[data-v-d76e40b0] {\n  fill: url(#goldGradient);\n  stroke: var(--color-primary);\n  stroke-width: 2.5;\n  filter: drop-shadow(0 0 8px rgba(218, 165, 32, 0.3));\n  transition: all 0.3s ease;\n}\n.data-polygon[data-v-d76e40b0]:hover {\n  filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.5));\n}\n.data-point[data-v-d76e40b0] {\n  fill: var(--color-accent);\n  stroke: rgba(255, 255, 255, 0.9);\n  stroke-width: 2;\n  filter: drop-shadow(0 0 4px rgba(255, 140, 0, 0.4));\n}\n.data-value-text[data-v-d76e40b0] {\n  fill: var(--color-text);\n  font-size: 12px;\n  font-weight: bold;\n  font-family: var(--font-family-serif);\n  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);\n}\n.label-text[data-v-d76e40b0] {\n  fill: var(--color-primary);\n  font-size: 13px;\n  font-weight: 600;\n  font-family: var(--font-family-serif);\n  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.9);\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò - Â§úÁ©∫ÊòüËæ∞ */\n[data-theme="dark"] .grid-line[data-v-d76e40b0] {\n  stroke: #64b5f6;\n  opacity: 0.4;\n}\n[data-theme="dark"] .data-polygon[data-v-d76e40b0] {\n  fill: url(#darkGradient);\n  stroke: #64b5f6;\n}\n[data-theme="dark"] .data-point[data-v-d76e40b0] {\n  fill: #ba68c8;\n  stroke: rgba(30, 30, 60, 0.8);\n}\n[data-theme="dark"] .data-value-text[data-v-d76e40b0] {\n  fill: #e1e4e8;\n}\n[data-theme="dark"] .label-text[data-v-d76e40b0] {\n  fill: #64b5f6;\n}\n',""]);const s=i},876:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var a=n(4061);const r=localStorage.getItem("language"),o="zh"===r||"en"===r?r:"zh";r||localStorage.setItem("language","zh");const i=(0,a.ref)(o),s={Êñ∞Â¢û:"Add",Á°ÆËÆ§:"Confirm",ÂèñÊ∂à:"Cancel",‰øùÂ≠ò:"Save",Âà†Èô§:"Delete",ÁºñËæë:"Edit",ÂÖ≥Èó≠:"Close",ÊêúÁ¥¢:"Search",Âä†ËΩΩ‰∏≠:"Loading",ÈáçÁΩÆ:"Reset",ËøîÂõû:"Back",‰∏ã‰∏ÄÊ≠•:"Next",‰∏ä‰∏ÄÊ≠•:"Previous",ÂÆåÊàê:"Finish",ËÆæÁΩÆ:"Settings",Êèê‰∫§:"Submit",Âà∑Êñ∞:"Refresh",ÂØºÂá∫:"Export",ÂØºÂÖ•:"Import",Ê∏ÖÁ©∫:"Clear",Ê∑ªÂä†:"Add",ÁßªÈô§:"Remove",Êõ¥Êñ∞:"Update",Êü•Áúã:"View",‰∏ãËΩΩ:"Download",‰∏ä‰º†:"Upload",Â§çÂà∂:"Copy",Á≤òË¥¥:"Paste",Ââ™Âàá:"Cut",ÂÖ®ÈÄâ:"Select All",Â±ïÂºÄ:"Expand",Êî∂Ëµ∑:"Collapse",ËØ¶ÊÉÖ:"Details",Â∏ÆÂä©:"Help",ÂÖ≥‰∫é:"About",Ë∑≥Ëøá:"Skip",ÈáçËØï:"Retry",‰∏ñÁïå‰ø°ÊÅØ:"World Info",Áî®Êà∑Âêç:"Username",ÂØÜÁ†Å:"Password",Á°ÆËÆ§ÂØÜÁ†Å:"Confirm Password",ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÁî®Êà∑Âêç:"Enter username",ËØ∑ËæìÂÖ•ÊÇ®ÁöÑË∫´‰ªΩÂØÜÁ†Å:"Enter password",ËØ∑ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å:"Re-enter password",Ê≥®ÂÜåË¥¶Âè∑:"Register","ÁôªÂΩï/Ê≥®ÂÜå":"Login",Ê≥®ÂÜå:"Register",ÁôªÂÖ•:"Login","Â∑≤ÊúâÁî®Êà∑ÂêçÔºüÁ´ãÂç≥ÁôªÂÖ•":"Have account? Login","Ê≤°ÊúâË¥¶Âè∑ÔºüÁ´ãÂç≥Ê≥®ÂÜå":"New? Register","Ê≥®ÂÜåÊñ∞Áî®Êà∑ÂêçÔºåË∏èÂÖ•ÈúìËôπ‰πãË∑Ø„ÄÇ":"Register to begin the neon journey","ÁôªÂΩïË¥¶Êà∑Ôºå‰ª•‰æøÂêåÊ≠•‰∫ëÁ´ØÊï∞ÊçÆ„ÄÇ":"Login to sync progress",Ê≠£ÂºèÁâà:"Release","ÈúìËôπÈïøË∑Ø ¬∑ ÈÄÜË°åÈ´òÂ¢ô":"Neon Long Road",ÂçïÊú∫Èó≠ÂÖ≥:"Offline",ËÑ±ÁΩëÈùô‰øÆ¬∑ÂøÉÊó†ÊóÅÈ™õ:"Offline Focus","Áã¨Â±ÖËäÇÁÇπÔºå‰∏ìÂøÉÊâìÁ£®Ê†∏ÂøÉÂçèËÆÆ":"Focus on core protocols","ÊâÄÊúâËøõÂ∫¶Êú¨Âú∞Â≠òÂÇ®ÔºåÊñ≠ÁΩë‰∫¶ÂèØË°åÂä®":"All progress saved locally",ËÅîÊú∫ÂÖ±‰øÆ:"Online",Êú™ÂºÄÊîæ:"Coming Soon","ÂäüËÉΩÁ†îÂèë‰∏≠ÔºåÊï¨ËØ∑ÊúüÂæÖ":"Under development","ÂΩìÂâçÁâàÊú¨Â∑≤Â∞ÅÈîÅËÅîÊú∫ÂÖ•Âè£Ôºå‰∏çÂΩ±ÂìçÂçïÊú∫Èó≠ÂÖ≥‰ΩìÈ™å":"Online locked",Â∑≤ÊéàÊùÉ:"Authorized",Êú™ÊéàÊùÉ:"Unauthorized",ËßíËâ≤‰ø°ÊÅØ:"Character",ËÆ≠ÁªÉÁä∂ÊÄÅ:"Training",Ê†∏ÂøÉÊï∞ÂÄº:"Vitals",ÁîüÂëΩÂÄº:"HP",ÁîµÈáè:"Power",Â∏¶ÂÆΩ:"Bandwidth",ÂØøÂÖÉ:"Lifespan",Èò∂‰ΩçÁä∂ÊÄÅ:"Tier",Èò∂‰ΩçËøõÂ∫¶:"Progress",‰ø°Âè∑Âº∫Â∫¶:"Signal Strength",ËÆ≠ÁªÉ:"Training",ËÆ≠ÁªÉ‰∏≠:"Training",Ê®°Âùó:"Module",Ê®°ÂùóÂ∫ì:"Module Library",Ê®°ÂùóÊäÄËÉΩ:"Module Skills",ÈúìËôπÁ∫™ÂÖÉ:"Neon Era",Á≠âÁ∫ß:"Level",Êñ∞Êâã:"Rookie",ÁîµÈáè:"Power",Â∏¶ÂÆΩ:"Bandwidth",ÊîπÈÄ†Ê†∏ÂøÉ:"Augmentation Core",Êú∫‰Ωì:"Body Frame",Á≠âÁ∫ßËøõÂ∫¶:"Level Progress",Á≠âÂæÖ‰ªªÂä°:"Awaiting task",ËÆ≠ÁªÉÊ®°Âùó:"Training Module",Â∞öÊú™ËÆ≠ÁªÉÊ®°Âùó:"No training module equipped",Ê®°ÂùóÊïàÊûú:"Module Effects","ËÆ≠ÁªÉÂä†ÊàêÔºö":"Training Bonus:",Ê≠§Ê®°ÂùóÊó†ÁâπÊÆäÊïàÊûú:"No special effects",Ê®°ÂùóËøõÂ∫¶:"Module Progress",Â§©Ëµã‰∏éÊîπÈÄ†Ê†∏ÂøÉ:"Talents & Augmentation Core",ÊîπÈÄ†Ê†∏ÂøÉÂ±ûÊÄß:"Core Attributes",ÊîπÈÄ†Ê†∏ÂøÉÁ±ªÂûã:"Core Type",ÊîπÈÄ†Ê†∏ÂøÉÂìÅÁ∫ß:"Core Grade",ËÆ≠ÁªÉÈÄüÂ∫¶:"Training Speed",Âü∫Á°ÄÁ∫ß:"Basic",ÊîπËâØÁ∫ß:"Enhanced",Á≤æËâØÁ∫ß:"Refined",È´òÁ∫ß:"Advanced",È°∂Á∫ß:"Elite",Á•ûËØùÁ∫ß:"Mythic",ÊöÇÊó†Â§©ËµãÊ®°Âùó:"No talent modules",ËØ∑ÈÄâÊã©ËßíËâ≤ÂºÄÂêØÈúìËôπÊóÖÁ®ã:"Select a character to begin your neon journey",ËÆ≠ÁªÉÊó∂Èó¥:"Training Time",ÁôªÂÖ•ÁªàÁ´Ø:"Sign in to terminal",Â∞öÊú™ÂºÄÂßãË°åÂä®:"No activity started","ÂºÄÂßãÊÇ®ÁöÑËÅîÊú∫ÊóÖÁ®ãÔºåÂ≠òÊ°£Â∞ÜËá™Âä®ÂêåÊ≠•Âà∞‰∫ëÁ´Ø":"Start your online journey; saves sync to cloud",Ê∑±Â∫¶ËÆ≠ÁªÉ:"Deep Training",ÂΩìÂâçËÆ≠ÁªÉËøõÂ∫¶:"Current Training Progress","Ê®°ÂùóÊïàÊûú:":"Module Effects:","Ê®°ÂùóÊäÄËÉΩ:":"Module Skills:","ËÆ≠ÁªÉÈÄüÂ∫¶: +{0}%":"Training Speed: +{0}%",ÈÄâÊã©ËÆ≠ÁªÉÂ§©Êï∞:"Select Training Days",AIÂ∞ÜÊ†πÊçÆËÆ≠ÁªÉÂ§©Êï∞ÁîüÊàêËØ¶ÁªÜÁöÑËÆ≠ÁªÉËøáÁ®ãÂíåÁªìÊûú:"AI will generate detailed training results based on days",ÂºÄÂßãËÆ≠ÁªÉ:"Start Training",ÂÅúÊ≠¢ËÆ≠ÁªÉ:"Stop Training",ÊöÇÊó†Ê®°Âùó:"No modules",ÁªÑÁªáÊ¶ÇËßà:"Organization Overview",ÁªÑÁªáÊàêÂëò:"Organization Members",ÁªÑÁªáËµÑÊñôÂ∫ì:"Organization Library","Ê≠£Âú®ËØªÂèñÁªÑÁªá‰ø°ÊÅØ...":"Loading organization data...",ÊöÇÊó†ÁªÑÁªá‰ø°ÊÅØ:"No organization data",ÁªÑÁªáÁ±ªÂûã:"Organization Type",ÁªÑÁªáÁ≠âÁ∫ß:"Organization Level",ÁªÑÁªáÈ¢ÜÂØº:"Organization Leaders",ÁªÑÁªáÊèèËø∞:"Organization Description",ÁªÑÁªáÁâπËâ≤:"Organization Traits",ÊàëÁöÑÁªÑÁªáË∫´‰ªΩ:"My organization role",ÈÄÄÂá∫ÁªÑÁªá:"Leave organization",ÁªÑÁªáÂäøÂäõ:"Organization Factions",ÁªÑÁªáËµÑÊñô:"Organization Archive",ÈÄâÊã©‰∏Ä‰∏™ÁªÑÁªáÊü•ÁúãËØ¶ÁªÜ‰ø°ÊÅØ:"Select an organization to view details",ÂüéÈÇ¶‰∏≠ÁöÑÁªÑÁªáÂäøÂäõÁ≠â‰Ω†Êé¢Á¥¢:"Organization factions across the city await","ÊèêÂçáÁ≠âÁ∫ßÔºöÁ≠âÁ∫ßË∂äÈ´òÔºåÂà§ÂÆöÂü∫Á°ÄÂä†ÊàêË∂äÂ§ßÔºàN1+5ÔºåN2+12...Ôºâ":"Higher level grants larger base bonuses (N1+5, N2+12...)","ÊèêÂçáÊàêÈïøÔºöÊàêÈïøÂÖ≠Áª¥ÂèØÊèêÂçáÔºå‰ΩÜÊùÉÈáç‰ªÖ20%":"Growth attributes can improve, weight only 20%","Â≠¶‰π†Ê®°ÂùóÔºöÈ´òÂìÅË¥®Ê®°ÂùóÂíåÊäÄËÉΩÁÜüÁªÉÂ∫¶Êèê‰æõÊòæËëóÂä†Êàê":"Modules and skill proficiency provide strong bonuses","Ë£ÖÂ§áË£ÖÁΩÆÔºöÂêàÈÄÇÁöÑË£ÖÂ§áËÉΩÂ§ßÂπÖÊèêÂçáÂà§ÂÆöÂÄº":"Proper gear greatly boosts checks","Á≠âÁ∫ßÂéãÂà∂ÔºöÈ´òÁ≠âÁ∫ßÂØπ‰ΩéÁ≠âÁ∫ßÊúâÊòéÊòæ‰ºòÂäøÔºå‰ΩÜ‰∏çÊòØÁªùÂØπ":"Higher level has advantage, not absolute","ÈúìËôπÊóÖÁ®ãÂ∞öÊú™ÁïôÂ≠òÔºåÂàõÂª∫Â≠òÊ°£ËÆ∞ÂΩïËøõÁ®ã":"No neon journey saved yet; create a save to record progress",Ë°åËÄÖ:"Runner",ÈúìËôπ‰∏ñÁïå:"Neon World",ËçØÂâÇ:"Serum","Ê®°ÂùóÊïàÊûú:":"Module Effects:","Ê®°ÂùóÊäÄËÉΩ:":"Module Skills:",‰ø°Áî®ÁÇπÂÇ®Â§á:"Credits Reserve",Ê®°ÂùóÊï∞Èáè:"Module Count",Ë£ÖÂ§áÊï∞Èáè:"Gear Count",ÁªÑÁªá‰ø°ÊÅØ:"Organization Info",ËÆ≠ÁªÉÊÑüÊÇü:"Training Insights",ËÆ≠ÁªÉ‰ΩìÁ≥ª:"Training System","ËÆ≠ÁªÉÈÄüÂ∫¶:":"Training Speed:",Âè™ÊúâÊ®°ÂùóÊâçËÉΩËÆ≠ÁªÉ:"Only modules can be trained","ÂÖàÂ§©Â±ûÊÄßÂä†ÊùÉ + Á≠âÁ∫ßÂä†Êàê + ÊäÄËâ∫Âä†Êàê":"Base attributes + level bonus + skill bonus","‰ø°Âè∑Âº∫Â∫¶ÂΩ±ÂìçÔºàËÆ≠ÁªÉ/Âà∂ÈÄ†/ÊàòÊñóÔºâÔºåÊé¢Á¥¢Á§æ‰∫§‰∏çÂèóÂΩ±Âìç":"Signal strength affects training/crafting/combat; exploration/social unaffected","Âà§ÂÆöÂÄº‰∏éÈöæÂ∫¶ÂØπÊØîÔºåÂÆåÂÖ®Âü∫‰∫éÂ±ûÊÄß„ÄÅÁ≠âÁ∫ßÂíåÂä†Êàê":"Check value vs difficulty based on attributes, level, bonuses",ËÆ≠ÁªÉÂà§ÂÆö:"Training Check","ÂÜ≥ÂÆöÁîüÂëΩÂÄº‰∏äÈôê„ÄÅÊÅ¢Â§çÈÄüÂ∫¶„ÄÅÂØøÂëΩ‰∏äÈôê„ÄÇÂΩ±Âìç‰ΩìËÉΩËÆ≠ÁªÉ‰∏éÊäóÊâìÂáªËÉΩÂäõ„ÄÇ":"Affects HP cap, recovery, lifespan; impacts physical training and resistance.","ÂÜ≥ÂÆöÁîµÈáè‰∏äÈôê„ÄÅÂÖÖËÉΩÊïàÁéá„ÄÇÂΩ±ÂìçËÆ≠ÁªÉÈÄüÂ∫¶„ÄÅÊ®°ÂùóÂ®ÅÂäõ„ÄÇ":"Affects power cap and charging efficiency; impacts training speed and module power.","ÂÜ≥ÂÆöÂ∏¶ÂÆΩ‰∏äÈôê„ÄÅÂ≠¶‰π†ÊïàÁéá„ÄÇÂΩ±ÂìçÊ®°ÂùóÈ¢ÜÊÇü„ÄÅÊäÄËÉΩÊéåÊè°ÈÄüÂ∫¶„ÄÇ":"Affects bandwidth cap and learning efficiency; impacts module mastery.","ÂÜ≥ÂÆöÂêÑÁßçÊ¶ÇÁéá„ÄÅÁâ©ÂìÅÊéâËêΩÂìÅË¥®„ÄÇÂΩ±ÂìçËµÑÊ∫êËé∑Âèñ‰∏éÂÖ≥ÈîÆ‰∫∫ËÑâ„ÄÇ":"Affects odds and loot quality; impacts resources and key contacts.","ÂÜ≥ÂÆöÂàùÂßãÂ•ΩÊÑüÂ∫¶„ÄÅÁ§æ‰∫§Âä†Êàê„ÄÇÂΩ±ÂìçNPC‰∫íÂä®„ÄÅÁªÑÁªáÂ£∞ÊúõËé∑Âèñ„ÄÇ":"Affects initial affinity and social bonus; impacts NPC interaction and faction reputation.","ÂÜ≥ÂÆöÁ≤æÁ•ûÊäóÊÄß„ÄÅÊÑèÂøóÂäõ„ÄÇÂΩ±ÂìçËøáËΩΩÂ§±ÊéßÊäµÊäó„ÄÅÂÖ≥ÈîÆÊäâÊã©„ÄÇ":"Affects mental resistance and willpower; impacts overload control and decisions.","‰ø°Âè∑Âº∫Â∫¶È´ò - ËÆ≠ÁªÉÊïàÁéáÊûÅ‰Ω≥":"Signal strength high - training efficiency excellent","‰ø°Âè∑Âº∫Â∫¶ËâØÂ•Ω - ËÆ≠ÁªÉÊïàÁéáËæÉÈ´ò":"Signal strength good - training efficiency high","‰ø°Âè∑Âº∫Â∫¶‰∏≠Á≠â - ËÆ≠ÁªÉÊïàÁéáÊ≠£Â∏∏":"Signal strength medium - training efficiency normal","‰ø°Âè∑ÂÅèÂº± - ËÆ≠ÁªÉÊïàÁéáÂèóÈôê":"Signal weak - training efficiency limited","‰ø°Âè∑ÊûØÁ´≠ - Èöæ‰ª•ËÆ≠ÁªÉ":"Signal depleted - training difficult",Â£∞Êúõ:"Reputation",Â§©ËµãÁ•ûÈÄö:"Talents",Áä∂ÊÄÅÊïàÊûú:"Effects",Á±çÁ±çÊó†Âêç:"Unknown","Á≠âÂæÖ‰ªªÂä°ÔºåÊé•ÂÖ•ÁΩëÁªú":"Awaiting tasks, linking network",ÊöÇÊó†Â§©ËµãÁ•ûÈÄö:"No talents yet",Ê∏ÖÂáÄÊó†‰∏∫:"Clear and tranquil",Â¢û:"Buff",Âáè:"Debuff",ËØ∑ÈÄâÊã©ËßíËâ≤ÂºÄÂêØÈúìËôπ‰πãÊóÖ:"Select character to begin",Êó∂:"h",ÂàÜ:"m",ÂàÜÈíü:"min",Ëá™ÂÆö‰πâÂ§©Ëµã:"Custom Talent","Â§©Ëµã„Ää":'Talent "',"„ÄãÁöÑËØ¶ÁªÜÊèèËø∞ÊöÇÊú™ÂºÄÊîæÔºåËØ∑ÊúüÂæÖÂêéÁª≠Êõ¥Êñ∞„ÄÇ":'" details coming soon.',ÊÅ∂ÂêçÊò≠ÂΩ∞:"Notorious",Ëá≠ÂêçËøúÊâ¨:"Infamous",Â£∞ÂêçÁãºËóâ:"Disreputable",ÊÅ∂ÂêçÂú®Â§ñ:"Bad Reputation",Â∞èÊúâÊÅ∂Âêç:"Slightly Notorious",‰º†ËØ¥‰∫∫Áâ©:"Legendary",ÂêçÊª°Â§©‰∏ã:"World-Renowned",Â®ÅÈúáÂõõÊñπ:"Awe-Inspiring",ÂêçÂä®‰∏ÄÊñπ:"Locally Famous",Â£∞ÂêçËøúÊí≠:"Well-Known",Â∞èÊúâÂêçÊ∞î:"Slightly Famous",Ê∏∏ÊàèËèúÂçï:"Functions",ËÆ≠ÁªÉÁÆ°ÁêÜ:"Training",ËÉåÂåÖÁâ©ÂìÅ:"Inventory",Êü•ÁúãÈÅìÂÖ∑Ë£ÖÂ§á:"Items",‰∫∫Áâ©ËØ¶ÊÉÖ:"Character",Êü•ÁúãÈò∂‰Ωç:"View tier",ËÆ≠ÁªÉÊ®°Âùó:"Modules",Ê®°ÂùóËÆ≠ÁªÉÊäÄËÉΩ:"Module Skills",‰∏ìÁ≤æÁΩëÁªú:"Specialization Network",ËÆ≠ÁªÉÂ§öÁ∫ø‰∏ìÁ≤æ:"Multi-track training",Á∫¢Â∞ò‰øó‰∫ã:"Worldly Affairs",‰∫∫Áâ©ÂÖ≥Á≥ª:"Relationships",‰∫∫ÊÉÖ‰∏ñÊïÖÁΩëÁªú:"Social network",ÁªÑÁªá‰ø°ÊÅØ:"Organization",Èó®Ê¥æÂäøÂäõËØ¶ÊÉÖ:"Factions",‰ªªÂä°Êó•Âøó:"Quests",ÂΩìÂâç‰ªªÂä°ËøõÂ∫¶:"Current quests",‰∏ñÁïåÊé¢Á¥¢:"Exploration",‰∏ñÁïåÂú∞Âõæ:"World Map",‰∫ã‰ª∂Êé¢Á¥¢:"Events",‰∏ñÁïå‰∫ã‰ª∂:"World Events",‰∏ñÁïåÂèòÈù©‰∏éÂç±Êú∫:"World upheavals",Âù§ËàÜÂõæÂøó:"Explore",ËÆ∞ÂøÜ‰∏≠ÂøÉ:"Memory",ÈáçË¶Å‰∫ã‰ª∂ÂõûÈ°æ:"Events",Ê∏∏ÊàèÂèòÈáè:"Variables",Êü•ÁúãÊ∏∏ÊàèÊï∞ÊçÆ:"Game data",Á≥ªÁªüËÆæÁΩÆ:"Settings",ÂÅèÂ•ΩËÆæÁΩÆ:"Preferences",‰øùÂ≠òÊ∏∏Êàè:"Save",‰øùÂ≠òÂΩìÂâçËøõÂ∫¶:"Save progress",ÈÄÄÂá∫Ê∏∏Êàè:"Exit",ËøîÂõû‰∏ªËèúÂçï:"Menu",ËÆ∫ÈÅì‰∫§Âèã:"Online Play",‰∏éÂêå‰º¥‰∫§ÊµÅ:"Chat with friends",ÈÄÄÂá∫ÂΩìÂâçÊ∏∏Êàè:"Exit current game","ËÅîÊú∫ÂäüËÉΩÂºÄÂèë‰∏≠...":"Online feature is under development...","ÊÇ®ÊÉ≥Â¶Ç‰ΩïÈÄÄÂá∫ÂΩìÂâçÊ∏∏ÊàèÔºü":"How would you like to exit the current game?",‰øùÂ≠òÂπ∂ÈÄÄÂá∫:"Save and Exit",‰∏ç‰øùÂ≠òÁõ¥Êé•ÈÄÄÂá∫:"Exit Without Saving",Ê∏∏ÊàèÂ∑≤‰øùÂ≠ò:"Game Saved","Ê∏∏Êàè‰øùÂ≠òÂ§±Ë¥•Ôºå‰ΩÜ‰ªç‰ºöÁªßÁª≠ÈÄÄÂá∫„ÄÇ":"Save failed, but will still exit.",Ê∏∏ÊàèËøõÂ∫¶Êú™‰øùÂ≠ò:"Game progress not saved.",characterStatus:"Character Status",cultivationStatus:"Cultivation Status",qi:"Qi",spiritual:"Spiritual",consciousness:"Consciousness",lifespan:"Lifespan",realmStatus:"Realm Status",Ê∏∏ÊàèËÆæÁΩÆ:"Settings",Ëá™ÂÆö‰πâÊÇ®ÁöÑÊ∏∏Êàè‰ΩìÈ™å:"Customize experience",ÊòæÁ§∫ËÆæÁΩÆ:"Display",ËØ≠Ë®ÄËÆæÁΩÆ:"Language",ÈÄâÊã©ÁïåÈù¢ËØ≠Ë®Ä:"Select language",‰∏ªÈ¢òÊ®°Âºè:"Theme",ÈÄâÊã©Êòé‰∫ÆÊàñÊöóÈªë‰∏ªÈ¢ò:"Choose theme",Êòé‰∫Æ:"Light",ÊöóÈªë:"Dark",Ë∑üÈöèÁ≥ªÁªü:"Auto",ÁïåÈù¢Áº©Êîæ:"UI Scale",Ë∞ÉÊï¥UIÁïåÈù¢Â§ßÂ∞è:"Adjust size",ÊñáÂ≠óÂ§ßÂ∞è:"Font Size",Ë∞ÉÊï¥Ê∏∏ÊàèÊñáÂ≠óÊòæÁ§∫Â§ßÂ∞è:"Adjust text",Â∞è:"Small",‰∏≠:"Medium",Â§ß:"Large",Âø´ÈÄüÂä®Áîª:"Fast Animations",Âä†ÈÄüÁïåÈù¢Âä®ÁîªÂíåËøáÊ∏°ÊïàÊûú:"Speed up transitions",ÊòæÁ§∫ÊèêÁ§∫:"Show Hints",ÊòæÁ§∫Ê∏∏ÊàèÊìç‰ΩúÊèêÁ§∫:"Display hints",È´òÁ∫ßËÆæÁΩÆ:"Advanced",Ë∞ÉËØïÊ®°Âºè:"Debug Mode",ÂºÄÂêØÂºÄÂèëËÄÖË∞ÉËØïÂäüËÉΩ:"Dev tools",Êï∞ÊçÆÁÆ°ÁêÜ:"Data",ÂØºÂá∫Êï∞ÊçÆ:"Export",ÂØºÂá∫Ê∏∏ÊàèÂ≠òÊ°£:"Export save",ÂØºÂÖ•Êï∞ÊçÆ:"Import",ÂØºÂÖ•Ê∏∏ÊàèÂ≠òÊ°£:"Import save",Ê∏ÖÁ©∫Êï∞ÊçÆ:"Clear Data",Ê∏ÖÁ©∫ÊâÄÊúâÊ∏∏ÊàèÊï∞ÊçÆ:"Clear all",Ê∏ÖÁêÜÁºìÂ≠ò:"Clear Cache",Ê∏ÖÈô§Ê∏∏Êàè‰∏¥Êó∂Êï∞ÊçÆÂíåÁºìÂ≠ò:"Clear cache",Ê∏ÖÁêÜ:"Clear",ÂØºÂá∫ËÆæÁΩÆ:"Export Settings",Â§á‰ªΩÂΩìÂâçËÆæÁΩÆÈÖçÁΩÆ:"Backup settings",‰∏≠Êñá:"Chinese",ÊòæÁ§∫Êìç‰ΩúÊèêÁ§∫ÂíåÂ∏ÆÂä©‰ø°ÊÅØ:"Display operation hints and help",Ë°åÂä®ÈÄâÈ°π:"Action Options",AIÁîüÊàêÂèØÈÄâÁöÑË°åÂä®Âª∫ËÆÆ:"AI-generated action suggestions",Ê∏∏ÊàèÊó∂Èó¥Êé®ËøõÊó∂Ëá™Âä®ÂèëÁîüÂΩ±Âìç‰∏ñÁïåÁöÑ‰∫ã‰ª∂:"World events occur as time passes","‰∫ã‰ª∂Èó¥ÈöîÂπ¥ÔºàÊúÄÂ∞èÔºâ":"Min interval (years)","ÈöèÊú∫‰∫ã‰ª∂ÊúÄÁü≠Èó¥ÈöîÔºàÂπ¥Ôºâ":"Shortest interval (years)","‰∫ã‰ª∂Èó¥ÈöîÂπ¥ÔºàÊúÄÂ§ßÔºâ":"Max interval (years)","ÈöèÊú∫‰∫ã‰ª∂ÊúÄÈïøÈó¥ÈöîÔºàÂπ¥Ôºâ":"Longest interval (years)",Ëá™ÂÆö‰πâ‰∫ã‰ª∂ÊèêÁ§∫ËØç:"Custom Event Prompt","‰∏∫‰∏ñÁïå‰∫ã‰ª∂ÁîüÊàêÊ∑ªÂä†Ëá™ÂÆö‰πâÊåá‰ª§ÔºàÂèØÈÄâÔºâ":"Add custom event instructions (optional)","‰æãÂ¶ÇÔºöÊõ¥ÂÅèÂêëÁªÑÁªáÂÜ≤Á™Å„ÄÅÁßòÂ¢ÉÁé∞‰∏ñ„ÄÅÂ•ΩÂèãÈÅ≠ÈÅáÔºåÂπ∂Â∞ΩÈáèËÆ©‰∫ã‰ª∂ÂΩ±ÂìçÁé©ÂÆ∂...":"e.g.: Focus on organization conflicts, secret zones, friends, and impact the player...",‰∏ãÊ¨°‰∫ã‰ª∂:"Next Event",ÈáçÊñ∞ÊäΩÂèñ‰∏ã‰∏ÄÊ¨°‰∏ñÁïå‰∫ã‰ª∂ÁöÑËß¶ÂèëÊó∂Èó¥:"Resample next world event time",ÈáçÊñ∞ÊäΩÂèñ:"Resample",Á≥ªÁªü‰ªªÂä°Á±ªÂûã:"System Quest Type",ÈÄâÊã©AIÁîüÊàê‰ªªÂä°ÁöÑÈ£éÊ†ºÁ±ªÂûã:"Select AI quest style",ËÆ≠ÁªÉËæÖÂä©Á≥ªÁªü:"Training System",Âêå‰º¥ÂÖªÊàêÁ≥ªÁªü:"Companion System",ÁªÑÁªáÂèëÂ±ïÁ≥ªÁªü:"Organization Development System",Êé¢Á¥¢ÂÜíÈô©Á≥ªÁªü:"Exploration System",ÊàòÊñóÊåëÊàòÁ≥ªÁªü:"Combat System",ËµÑÊ∫êÊî∂ÈõÜÁ≥ªÁªü:"Resource Collection System",Ëá™ÂÆö‰πâ‰ªªÂä°ÊèêÁ§∫ËØç:"Custom Quest Prompt","‰∏∫AI‰ªªÂä°ÁîüÊàêÊ∑ªÂä†Ëá™ÂÆö‰πâÊåá‰ª§ÔºàÂèØÈÄâÔºåÁïôÁ©∫‰ΩøÁî®ÈªòËÆ§Ôºâ":"Add custom instructions (optional)","‰æãÂ¶ÇÔºöÁîüÊàêÊõ¥Â§öÊàòÊñóÁ±ª‰ªªÂä°ÔºåÂ•ñÂä±ÂÅèÂêë‰ø°Áî®ÁÇπ...":"e.g.: More combat quests, credit rewards...",Ëá™ÂÆö‰πâË°åÂä®ÈÄâÈ°πÊèêÁ§∫ËØç:"Custom Action Prompt","ÊåáÂØºAIÁîüÊàêÁâπÂÆöÈ£éÊ†ºÁöÑË°åÂä®ÈÄâÈ°πÔºàÂèØÈÄâÔºåÁïôÁ©∫‰ΩøÁî®ÈªòËÆ§Ôºâ":"Guide AI action style (optional)","‰æãÂ¶ÇÔºöÂ§öÁîüÊàêËÆ≠ÁªÉÂíåÊé¢Á¥¢Á±ªÈÄâÈ°πÔºåÂáèÂ∞ëÊàòÊñóÈÄâÈ°π...":"e.g.: More training options, less combat...","üîû ÂêØÁî®Êàê‰∫∫ÂÜÖÂÆπÔºàÁßÅÂØÜ‰ø°ÊÅØÔºâ":"üîû Enable Adult Content","ÁîüÊàêÂíåÊòæÁ§∫NPCÁöÑÁßÅÂØÜ‰ø°ÊÅØÊ®°ÂùóÔºàÂåÖÂê´Êàê‰∫∫ÂêëÂÜÖÂÆπÔºåÈªòËÆ§ÂºÄÂêØÔºâ":"Generate NPC private info (adult content)","üë• ÁßÅÂØÜ‰ø°ÊÅØÁîüÊàêËåÉÂõ¥":"üë• Private Info Scope",ÈÄâÊã©‰∏∫Âì™‰∫õÊÄßÂà´ÁöÑNPCÁîüÊàêÁßÅÂØÜ‰ø°ÊÅØ:"Select NPC gender for private info",ÊâÄÊúâNPC:"All NPCs","üîß È´òÁ∫ßËÆæÁΩÆ":"üîß Advanced",ÂêØÁî®ÂºÄÂèëËÄÖË∞ÉËØï‰ø°ÊÅØÂíåËØ¶ÁªÜÊó•Âøó:"Enable debug logs",ÊéßÂà∂Âè∞Ë∞ÉËØï:"Console Debug",Âú®ÊµèËßàÂô®ÊéßÂà∂Âè∞ÊòæÁ§∫ËØ¶ÁªÜË∞ÉËØï‰ø°ÊÅØ:"Show console debug info",ÊÄßËÉΩÁõëÊéß:"Performance Monitor",ÁõëÊéßÁªÑ‰ª∂ÊÄßËÉΩÂíåÂä†ËΩΩÊó∂Èó¥:"Monitor performance",ÂØºÂÖ•ËÆæÁΩÆ:"Import Settings",‰ªéÊñá‰ª∂ÊÅ¢Â§çËÆæÁΩÆÈÖçÁΩÆ:"Restore from file",ËØ≠Ë®ÄËÆæÁΩÆÂ∑≤Êõ¥Êñ∞:"Language updated",ËÆæÁΩÆÈù¢Êùø:"Settings Panel","Âä†ËΩΩËÆæÁΩÆÂ§±Ë¥•ÔºåÂ∞Ü‰ΩøÁî®ÈªòËÆ§ËÆæÁΩÆ":"Failed to load settings, using defaults",ËÆæÁΩÆÂ∑≤‰øùÂ≠òÂπ∂Â∫îÁî®:"Settings saved",‰øùÂ≠òËÆæÁΩÆÂ§±Ë¥•:"Failed to save settings",ËÆæÁΩÆÈ™åËØÅÂ§±Ë¥•:"Settings validation failed",ÈáçÁΩÆËÆæÁΩÆ:"Reset Settings","Á°ÆÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâËÆæÁΩÆ‰∏∫ÈªòËÆ§ÂÄºÂêóÔºüËøôÂ∞ÜÊ∏ÖÈô§ÊâÄÊúâËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇ":"Reset all settings to default?",Á°ÆËÆ§ÈáçÁΩÆ:"Confirm Reset",ËÆæÁΩÆÂ∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ÂÄº:"Settings reset to default","Á°ÆÂÆöË¶ÅÊ∏ÖÁêÜÁºìÂ≠òÂêóÔºüËøôÂ∞ÜÂà†Èô§‰∏¥Êó∂Êï∞ÊçÆ‰ΩÜ‰∏ç‰ºöÂΩ±ÂìçÂ≠òÊ°£„ÄÇ":"Clear cache? Temporary data only.",Á°ÆËÆ§Ê∏ÖÁêÜ:"Confirm Clear",Â∑≤Ê∏ÖÁêÜ:"Cleared",È°πÁºìÂ≠òÊï∞ÊçÆ:" cache items",Ê∏ÖÁêÜÁºìÂ≠òÂ§±Ë¥•:"Failed to clear cache","Ë∂ÖÂá°Êñ∞Áîü v1.0.0":"Transcendent Rebirth v1.0.0","Ë∂ÖÂá°Êñ∞Áîü-ËÆæÁΩÆÂ§á‰ªΩ-":"TranscendentRebirth-Settings-",ËÆæÁΩÆÂ∑≤ÂØºÂá∫:"Settings exported",ÂØºÂá∫ËÆæÁΩÆÂ§±Ë¥•:"Export failed",ËÆæÁΩÆÂØºÂÖ•ÊàêÂäüÂπ∂Â∫îÁî®:"Settings imported",Êó†ÊïàÁöÑËÆæÁΩÆÊñá‰ª∂Ê†ºÂºè:"Invalid settings file","ÂØºÂÖ•ËÆæÁΩÆÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•Êñá‰ª∂Ê†ºÂºè":"Import failed, check format",ÊéàÊùÉÈ™åËØÅÊàêÂäü:"Authorization verified",Ê∏ÖÈô§ÊéàÊùÉÈ™åËØÅ:"Clear Authorization","Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÂΩìÂâçÁöÑÊéàÊùÉÈ™åËØÅ‰ø°ÊÅØÂêóÔºüÊ∏ÖÈô§ÂêéÈúÄË¶ÅÈáçÊñ∞È™åËØÅ„ÄÇ":"Clear authorization? Re-verification required.",ÊéàÊùÉÈ™åËØÅ‰ø°ÊÅØÂ∑≤Ê∏ÖÈô§:"Authorization cleared",ËØ∑ÂÖàÂÆåÊàêÊéàÊùÉÈ™åËØÅ:"Complete authorization first",ËßíËâ≤ÂàõÂª∫:"Character Creation",ÂàõÂª∫Êñ∞ËßíËâ≤:"Create Character",ËßíËâ≤ÂêçÁß∞:"Name",ËØ∑ËæìÂÖ•ËßíËâ≤ÂêçÁß∞:"Enter name",ÈÄâÊã©‰∏ñÁïå:"Select World",ÈÄâÊã©Âá∫Ë∫´:"Select Origin",ÈÄâÊã©Â§©Ëµã:"Select Talent",ÈÄâÊã©ÊîπÈÄ†Ê†∏ÂøÉ:"Select Spirit Root",ÂàÜÈÖçÂ±ûÊÄß:"Allocate Attributes",È¢ÑËßà:"Preview",ÂºÄÂßãÈúìËôπ‰πãÊóÖ:"Begin Journey",‰∏ñÁïåÈÄâÊã©:"World",Â§©ËµãÈÄâÊã©:"Talent",Âá∫Ë∫´ÈÄâÊã©:"Origin",ÊîπÈÄ†Ê†∏ÂøÉÈÄâÊã©:"Spirit Root",Â±ûÊÄßÂàÜÈÖç:"Attributes",ËßíËâ≤È¢ÑËßà:"Preview",ÂçïÊú∫Ê®°Âºè:"Offline",ËÅîÊú∫Ê®°Âºè:"Online",ËøîÂõû:"Back to Menu",ÂºÄÂêØË∂ÖÂá°Êñ∞Áîü:"Begin",Ââ©‰ΩôÊäÄËÉΩÁÇπ:"Points",ËøõÂÖ•Ë∂ÖÂá°Êñ∞Áîü:"Begin Cultivation","üìÇ Âä†ËΩΩÈ¢ÑËÆæ":"üìÇ Load Preset","üóëÔ∏è Ê∏ÖÈô§Ëá™ÂÆö‰πâ":"üóëÔ∏è Clear Custom","‚òÅÔ∏è Ê∏ÖÈô§‰∫ëÁ´Ø":"‚òÅÔ∏è Clear Cloud",Ê¨°ÂÖÉÈÄâÊã©:"Select World",ÂàùÂßã‰∫∫ËÆæ:"Choose Talent Tier",Âá∫Ë∫´ËÆæÁΩÆ:"Select Origin",Âü∫Á°ÄËÆæÂÆö:"Select Spirit Root",Â§©ËµãÈÄâÊã©:"Select Talents",Â±ûÊÄßÂä†ÁÇπ:"Allocate Attributes",ÊúÄÁªàÈ¢ÑËßà:"Preview Character","Ê≠£Âú®Êé®ÊºîËØ∏Â§©‰∏áÁïå...":"Loading worlds...",Ëá¥ÂëΩÈîôËØØ:"Error",Ëá™ÂÆö‰πâ‰∏ñÁïå:"Custom World",AIÊé®Êºî:"AI Generate",ÊöÇÊó†Êú¨Âú∞‰∏ñÁïåÊï∞ÊçÆ:"No local worlds",ÊöÇÊó†‰∫ëÁ´Ø‰∏ñÁïåÊï∞ÊçÆ:"No cloud worlds",ËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•ÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò:"Check network","ËØ∑Êã©‰∏Ä‰∏™‰∏ñÁïåÔºå‰ª•ÂºÄÂêØ‰Ω†ÁöÑÊïÖ‰∫ã„ÄÇ":"Select a world",‰∏ñÁïåÂêçÁß∞:"World Name",Êó∂‰ª£ËÉåÊôØ:"Era",‰∏ñÁïåÊèèËø∞:"Description","‰æãÂ¶ÇÔºö‰πùÈúÑÁïå":"e.g.: Nine Heavens","‰æãÂ¶ÇÔºöÈúìËôπÁ∫™ÂÖÉ":"e.g.: Neon Era","ÊèèËø∞Ëøô‰∏™‰∏ñÁïåÁöÑËÉåÊôØÊïÖ‰∫ã„ÄÅËÆ≠ÁªÉ‰ΩìÁ≥ªÁâπÁÇπÁ≠â...":"Describe the world...",‰∏ñÁïåÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫:"World name required",'Ëá™ÂÆö‰πâ‰∏ñÁïå "{0}" Â∑≤ÊàêÂäü‰øùÂ≠òÔºÅ':'World "{0}" saved!',"‰∏ñÁïåÊé®Êºî‰∏≠ÔºåËØ∑Á®çÂÄô...":"AI generating...",AIÊé®ÊºîÂ§±Ë¥•:"AI failed","AIÊé®ÊºîÁªìÊûúÊ†ºÂºèÈîôËØØÔºåÊó†Ê≥ïËß£Êûê":"Invalid AI response",AIÊé®ÊºîÁªìÊûúÁº∫Â∞ë‰∏ñÁïåÂêçÁß∞:"Missing world name",'AIÊé®ÊºîÂÆåÊàêÔºÅ‰∏ñÁïå "{0}" Â∑≤ÁîüÊàê':'World "{0}" generated!',"AIÊé®ÊºîÂ§±Ë¥•: {0}":"AI failed: {0}",‰∏ñÁïåËßÑÊ®°ÈÖçÁΩÆ:"World Config",‰∏ªË¶ÅÂäøÂäõ:"Major Factions",Âú∞ÁÇπÊÄªÊï∞:"Total Locations",ÁßòÂ¢ÉÊï∞Èáè:"Secret Realms",Â§ßÈôÜÊï∞Èáè:"Continents","Êé®Ëçê: 3-8":"Recommended: 3-8","Êé®Ëçê: 8-15":"Recommended: 8-15","Êé®Ëçê: 3-10":"Recommended: 3-10","ËåÉÂõ¥: 3-7":"Range: 3-7","È´òÁ∫ßÈÄâÈ°πÔºàÂú∞ÂõæÊäÄÊúØÂèÇÊï∞Ôºâ":"Advanced Options",Âú∞ÂõæÂÆΩÂ∫¶:"Map Width",Âú∞ÂõæÈ´òÂ∫¶:"Map Height","Êé®Ëçê: 3600":"Recommended: 3600","Êé®Ëçê: 2400":"Recommended: 2400",ÁªèÂ∫¶ËåÉÂõ¥:"Longitude Range",Á∫¨Â∫¶ËåÉÂõ¥:"Latitude Range",ÊúÄÂ∞èÁªèÂ∫¶:"Min Lng",ÊúÄÂ§ßÁªèÂ∫¶:"Max Lng",ÊúÄÂ∞èÁ∫¨Â∫¶:"Min Lat",ÊúÄÂ§ßÁ∫¨Â∫¶:"Max Lat",ÈöèÊú∫:"Random",Â∑≤ÈöèÊú∫ÁîüÊàê‰∏ñÁïåÈÖçÁΩÆ:"Config randomized",Â∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ÈÖçÁΩÆ:"Config reset",ÈÖçÁΩÆËøáÈ´òË≠¶Âëä:"Config Warning","ÂΩìÂâçÈÖçÁΩÆÂèØËÉΩÂØºËá¥ÁîüÊàêÂ§±Ë¥•ÔºåÂª∫ËÆÆË∞ÉÊï¥Ëá≥ÂêàÁêÜËåÉÂõ¥":"Config too high",ÁºñËæëÊ≠§È°π:"Edit",Âà†Èô§Ê≠§È°π:"Delete",ÁºñËæë‰∏ñÁïå:"Edit World",'‰∏ñÁïå "{0}" Â∑≤Êõ¥Êñ∞ÔºÅ':'World "{0}" updated!',"Êõ¥Êñ∞‰∏ñÁïåÂ§±Ë¥•ÔºÅ":"Update failed!","ÊÑüÂ∫îÁ≥ªÁªüÔºåÊµãÁÆóÂ§©ËµÑ...":"Loading talent tiers...",Á≥ªÁªüÁ¥ä‰π±:"Error",Ëá™ÂÆö‰πâÂ§©ËµÑ:"Custom Tier",Â§©ËµÑÂêçÁß∞:"Tier Name",Â§©ËµÑÊèèËø∞:"Description",ÊäÄËÉΩÁÇπ:"Points",ËæâÂÖâÈ¢úËâ≤:"Glow Color","‰æãÂ¶ÇÔºöÂá°‰∫∫":"e.g.: Mortal","ÊèèËø∞Ê≠§Â§©ËµÑÁöÑÁâπÁÇπ...":"Describe this tier...","‰æãÂ¶ÇÔºö10":"e.g.: 10","‰æãÂ¶ÇÔºö#808080":"e.g.: #808080",Â§©ËµÑÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫:"Tier name required",ÊäÄËÉΩÁÇπÂøÖÈ°ªÊòØÈùûË¥üÊï∞:"Points must be non-negative",'Ëá™ÂÆö‰πâÂ§©ËµÑ "{0}" Â∑≤‰øùÂ≠òÔºÅ':'Tier "{0}" saved!',"‰øùÂ≠òËá™ÂÆö‰πâÂ§©ËµÑÂ§±Ë¥•ÔºÅ":"Save failed!",'AIÊé®ÊºîÂÆåÊàêÔºÅÂ§©ËµÑ "{0}" Â∑≤ÁîüÊàê':'Tier "{0}" generated!',"ËØ∑ÈÄâÊã©‰Ω†ÁöÑÂ§©ËµÑÁ≠âÁ∫ßÔºåËøôÂ∞ÜÂÜ≥ÂÆö‰Ω†ÁöÑËµ∑ÁÇπ„ÄÇ":"Select your talent tier",ÁºñËæëÂ§©ËµÑ:"Edit Tier",'Â§©ËµÑ "{0}" Â∑≤Êõ¥Êñ∞ÔºÅ':'Tier "{0}" updated!',"Êõ¥Êñ∞Â§©ËµÑÂ§±Ë¥•ÔºÅ":"Update failed!","ËøΩÊ∫ØËøáÂæÄÔºåÊé¢ÂØªÂá∫Ë∫´...":"Loading origins...",Âõ†Êûú‰∏çÊòé:"Error",Ëá™ÂÆö‰πâÂá∫Ë∫´:"Custom Origin",ÈöèÊú∫Âá∫Ë∫´:"Random Origin","0 ÁÇπ":"0 pts",Âá∫Ë∫´ÂêçÁß∞:"Origin Name",Âá∫Ë∫´ÊèèËø∞:"Description","‰æãÂ¶ÇÔºöÂ±±ÈáéÈÅóÂ≠§":"e.g.: Orphan","ÊèèËø∞Ê≠§Âá∫Ë∫´ÁöÑËÉåÊôØÊïÖ‰∫ãÂíåÊàêÈïøÁªèÂéÜ...":"Describe this origin...",Âá∫Ë∫´ÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫:"Origin name required",Âá∫Ë∫´ÊèèËø∞‰∏çÂèØ‰∏∫Á©∫:"Description required",'Ëá™ÂÆö‰πâÂá∫Ë∫´ "{0}" Â∑≤‰øùÂ≠òÔºÅ':'Origin "{0}" saved!',"‰øùÂ≠òËá™ÂÆö‰πâÂá∫Ë∫´Â§±Ë¥•ÔºÅ":"Save failed!","ËØ∑ÂÖàÈÄâÊã©‰∏ÄÊñπÂ§ßÂçÉ‰∏ñÁïåÔºåÊñπÂèØÊé®ÊºîÂá∫Ë∫´„ÄÇ":"Select world first",'AIÊé®ÊºîÂÆåÊàêÔºÅÂá∫Ë∫´ "{0}" Â∑≤ÁîüÊàê':'Origin "{0}" generated!',"Á≥ªÁªüÊó†Â∏∏ÔºåÈÄ†ÂåñÂºÑ‰∫∫„ÄÇÈÄâÊã©Ê≠§È°πÔºå‰Ω†ÁöÑÂá∫Ë∫´Â∞ÜÂÆåÂÖ®ÈöèÊú∫ÁîüÊàê„ÄÇÊòØÁîü‰∫éÂ∏ùÁéã‰πãÂÆ∂ÔºåÊàñ‰∏∫Â±±ÈáéÈÅóÂ≠§ÔºåÁöÜÂú®Á≥ªÁªü‰∏ÄÂøµ‰πãÈó¥„ÄÇ":"Random origin description","Ë∫´‰∏ñÂ¶ÇË∞úÔºåËøáÂæÄ‰∏ÄÁâáÁ©∫ÁôΩ„ÄÇ":"Unknown origin","Ê∂àËÄóÊäÄËÉΩÁÇπ: {0}":"Cost: {0} pts","ËØ∑ÈÄâÊã©‰∏ÄÂ§ÑÂá∫Ë∫´ÔºåÊàñÂê¨Â§©Áî±ÂëΩ„ÄÇ":"Select an origin","ÊäÄËÉΩÁÇπ‰∏çË∂≥ÔºåÊó†Ê≥ïÈÄâÊã©Ê≠§Âá∫Ë∫´„ÄÇ":"Insufficient points",ÁºñËæëÂá∫Ë∫´:"Edit Origin",'Âá∫Ë∫´ "{0}" Â∑≤Êõ¥Êñ∞ÔºÅ':'Origin "{0}" updated!',"Êõ¥Êñ∞Âá∫Ë∫´Â§±Ë¥•ÔºÅ":"Update failed!","Á≥ªÁªüÊâ´ÊèèÔºåÊé¢Êü•ÊîπÈÄ†Ê†∏ÂøÉ...":"Scanning augmentation cores...",È´òÁ∫ßËá™ÂÆö‰πâ:"Advanced Custom",È¢ÑËÆæÊîπÈÄ†Ê†∏ÂøÉ:"Preset Roots",ÁªÑÂêàÈÄâÊã©:"Custom Combo",ÈöèÊú∫ÊîπÈÄ†:"Random Augmentation",ÊîπÈÄ†Ê†∏ÂøÉÂêçÁß∞:"Root Name",ÂìÅÁ∫ß:"Grade",ÊîπÈÄ†Ê†∏ÂøÉÊèèËø∞:"Description",ËÆ≠ÁªÉÂÄçÁéá:"Multiplier",Ê∂àËÄóÊäÄËÉΩÁÇπ:"Cost",ÁâπÊÆäÊïàÊûú:"Special Effects","‰æãÂ¶ÇÔºöÊ∑∑Ê≤åÊîπÈÄ†Ê†∏ÂøÉ":"e.g.: Chaos Root","ÊèèËø∞Ëøô‰∏™ÊîπÈÄ†Ê†∏ÂøÉÁöÑÁâπÊÄßÂíåËÉåÊôØÊïÖ‰∫ã...":"Describe this root...","‰æãÂ¶ÇÔºö1.5":"e.g.: 1.5","ÊïàÊûúÊèèËø∞ÔºåÂ¶ÇÔºöÁîµÁ£ÅÊ®°ÂùóËæìÂá∫+80%":"e.g.: Electromagnetic module +80%",ÊîπÈÄ†Ê†∏ÂøÉÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫:"Root name required",ËØ∑ÈÄâÊã©ÂìÅÁ∫ß:"Select grade",ÊîπÈÄ†Ê†∏ÂøÉÊèèËø∞‰∏çÂèØ‰∏∫Á©∫:"Description required",ËÆ≠ÁªÉÂÄçÁéáÂøÖÈ°ª‰∏∫Êï∞Â≠ó:"Multiplier must be number",Ê∂àËÄóÁÇπÊï∞ÂøÖÈ°ª‰∏∫Êï∞Â≠ó:"Cost must be number",'Ëá™ÂÆö‰πâÊîπÈÄ†Ê†∏ÂøÉ "{0}" Â∑≤‰øùÂ≠òÔºÅ':'Root "{0}" saved!',"‰øùÂ≠òËá™ÂÆö‰πâÊîπÈÄ†Ê†∏ÂøÉÂ§±Ë¥•ÔºÅ":"Save failed!",'AIÊé®ÊºîÂÆåÊàêÔºÅÊîπÈÄ†Ê†∏ÂøÉ "{0}" Â∑≤ÁîüÊàê':'Root "{0}" generated!',ÊîπÈÄ†Ê†∏ÂøÉÁ±ªÂûã:"Root Type",ÊîπÈÄ†Ê†∏ÂøÉÂìÅÁ∫ß:"Grade",ÁÅ´:"Fire",Ê∞¥:"Water",Êú®:"Wood",Èáë:"Metal",Âúü:"Earth",È£é:"Wind",Èõ∑:"Thunder",ÂÜ∞:"Ice",ÂÖâ:"Light",Êöó:"Dark",Á©∫Èó¥:"Space",Êó∂Èó¥:"Time",Ê∞ëÁî®:"Civilian",ÊîπË£Ö:"Modified",ÂÜõËßÑ:"Mil-Spec",ÁâπÁ∫ß:"Elite",Á¶ÅÂøå:"Forbidden",‰∏ãÂìÅ:"Low",‰∏≠ÂìÅ:"Middle",‰∏äÂìÅ:"High",ÊûÅÂìÅ:"Supreme",ÁâπÊÆä:"Special",ËØ∑ÈÄâÊã©ÊîπÈÄ†Ê†∏ÂøÉÁ±ªÂûã:"Select root type",ËØ∑ÈÄâÊã©ÊîπÈÄ†Ê†∏ÂøÉÂìÅÁ∫ß:"Select grade",Á°ÆËÆ§ÈÄâÊã©:"Confirm",ËØ∑ÂÆåÊï¥ÈÄâÊã©ÊîπÈÄ†Ê†∏ÂøÉÁ±ªÂûãÂíåÂìÅÁ∫ß:"Complete selection",ÈÄâÊã©ÁöÑÊîπÈÄ†Ê†∏ÂøÉÈÖçÁΩÆÊó†Êïà:"Invalid config",'Ëá™ÂÆö‰πâÊîπÈÄ†Ê†∏ÂøÉ "{0}" Â∑≤ÂàõÂª∫ÔºÅ':'Root "{0}" created!',"ËÆ≠ÁªÉÂÄçÁéá:":"Multiplier:","Ê∂àËÄóÊäÄËÉΩÁÇπ:":"Cost:","ËØ∑ÈÄâÊã©‰∏ÄÁßçÊîπÈÄ†Ê†∏ÂøÉÔºåÊàñ‰∫§ÁªôÈöèÊú∫„ÄÇ":"Select an augmentation core","Ë∑ØÂæÑ‰∫îÂçÅÔºåÂçèËÆÆÂõõ‰πùÔºåÂèòÈáèÂÖ∂‰∏Ä„ÄÇÈÄâÊã©Ê≠§È°πÔºå‰Ω†ÁöÑÊîπÈÄ†Ê†∏ÂøÉÂ∞ÜÂÆåÂÖ®ÈöèÊú∫ÁîüÊàêÔºåÂèØËÉΩ‰∏ÄÊ≠•ÁôªÈ°∂Ôºå‰∫¶ÂèØËÉΩÂπ≥Â∫∏Êó†Â•á„ÄÇ":"Random core description","ÊîπÈÄ†Ê†∏ÂøÉ‰ø°ÊÅØ‰∏çÊòé„ÄÇ":"Unknown root","ÊäÄËÉΩÁÇπ‰∏çË∂≥ÔºåÊó†Ê≥ïÈÄâÊã©Ê≠§ÊîπÈÄ†Ê†∏ÂøÉ„ÄÇ":"Insufficient points",ÁºñËæëÊîπÈÄ†Ê†∏ÂøÉ:"Edit Root",'ÊîπÈÄ†Ê†∏ÂøÉ "{0}" Â∑≤Êõ¥Êñ∞ÔºÅ':'Root "{0}" updated!',"Êõ¥Êñ∞ÊîπÈÄ†Ê†∏ÂøÉÂ§±Ë¥•ÔºÅ":"Update failed!","‰∫éÊó∂ÂÖâÈïøÊ≤≥‰∏≠ÊêúÂØªÂ§©Ëµã...":"Loading talents...",Â§©ËµãÂêçÁß∞:"Talent Name",Â§©ËµãÊèèËø∞:"Description",ÊäÄËÉΩÁÇπÊ∂àËÄó:"Cost","‰æãÂ¶ÇÔºöÈÅìÂøÉÂ§©Êàê":"e.g.: Dao Heart","ÊèèËø∞Ê≠§Â§©ËµãÁöÑÊú¨Ë¥®...":"Describe this talent...",Â§©ËµãÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫:"Talent name required",Â§©ËµãÊèèËø∞‰∏çÂèØ‰∏∫Á©∫:"Description required",ÊäÄËÉΩÁÇπÊ∂àËÄóÂøÖÈ°ªÂ°´ÂÜô:"Cost required",ÊäÄËÉΩÁÇπÊ∂àËÄó‰∏çËÉΩ‰∏∫Ë¥üÊï∞:"Cost cannot be negative",'Ëá™ÂÆö‰πâÂ§©Ëµã "{0}" Â∑≤‰øùÂ≠òÔºÅ':'Talent "{0}" saved!',"‰øùÂ≠òËá™ÂÆö‰πâÂ§©ËµãÂ§±Ë¥•ÔºÅ":"Save failed!",'AIÊé®ÊºîÂÆåÊàêÔºÅÂ§©Ëµã "{0}" Â∑≤ÁîüÊàê':'Talent "{0}" generated!',"ËØ∑ÈÄâÊã©Â§©Ëµã„ÄÇ":"Select talents","Ê≠§Â§©Ëµã‰πãÊô¶Ê∂©ÈöæÊáÇÔºåÈúÄËá™Ë°åÈ¢ÜÊÇü„ÄÇ":"Unknown talent",ÁºñËæëÂ§©Ëµã:"Edit Talent",'Â§©Ëµã "{0}" Â∑≤Êõ¥Êñ∞ÔºÅ':'Talent "{0}" updated!',ÂàùÂßãÂÖ≠Áª¥ÂàÜÈÖç:"Attribute Allocation","Ââ©‰ΩôÊäÄËÉΩÁÇπ:":"Remaining Points:",‰ΩìË¥®:"Constitution",ËÉΩÊ∫ê:"Energy",ÁÆóÊ≥ï:"Logic",ËµÑÊ∫êÊÑüÁü•:"Resource Sense",È≠ÖÂäõ:"Charm",ÂøÉÊô∫:"Mind","ÂÜ≥ÂÆöÁîüÂëΩÂÄº‰∏äÈôê„ÄÅÊÅ¢Â§çÈÄüÂ∫¶„ÄÅÂØøÂëΩ‰∏äÈôê„ÄÇÂΩ±Âìç‰ΩìËÉΩËÆ≠ÁªÉ‰∏éÊäóÊâìÂáªËÉΩÂäõ„ÄÇ":"Affects vitality and lifespan","ÂÜ≥ÂÆöÁîµÈáè‰∏äÈôê„ÄÅÂÖÖËÉΩÊïàÁéá„ÄÇÂΩ±ÂìçËÆ≠ÁªÉÈÄüÂ∫¶„ÄÅÊ®°ÂùóÂ®ÅÂäõ„ÄÇ":"Affects power capacity","ÂÜ≥ÂÆöÂ∏¶ÂÆΩ‰∏äÈôê„ÄÅÂ≠¶‰π†ÊïàÁéá„ÄÇÂΩ±ÂìçÊ®°ÂùóÈ¢ÜÊÇü„ÄÅÊäÄËÉΩÊéåÊè°ÈÄüÂ∫¶„ÄÇ":"Affects learning speed","ÂÜ≥ÂÆöÂêÑÁßçÊ¶ÇÁéá„ÄÅÁâ©ÂìÅÊéâËêΩÂìÅË¥®„ÄÇÂΩ±ÂìçËµÑÊ∫êËé∑Âèñ„ÄÅÂÖ≥ÈîÆ‰∫∫ËÑâ„ÄÇ":"Affects luck and drops","ÂÜ≥ÂÆöÂàùÂßãÂ•ΩÊÑüÂ∫¶„ÄÅÁ§æ‰∫§Âä†Êàê„ÄÇÂΩ±ÂìçNPC‰∫íÂä®„ÄÅÁªÑÁªáÂ£∞ÊúõËé∑Âèñ„ÄÇ":"Affects social interactions","ÂÜ≥ÂÆöÁ≤æÁ•ûÊäóÊÄß„ÄÅÊÑèÂøóÂäõ„ÄÇÂΩ±ÂìçËøáËΩΩÂ§±ÊéßÊäµÊäó„ÄÅÂÖ≥ÈîÆÊäâÊã©„ÄÇ":"Affects willpower","üé≤ ÈöèÊú∫":"üé≤ Random","‚öñÔ∏è ÂùáË°°":"‚öñÔ∏è Balance",ÊúÄÁªàÈ¢ÑËßà:"Final Preview","ËØ∑Á°ÆËÆ§‰Ω†ÁöÑÈÄâÊã©ÔºåÊ≠§‰∏∫Ë∏èÂÖ•Ë∂ÖÂá°Êñ∞ÁîüÁöÑÊúÄÂêé‰∏ÄÊ≠•„ÄÇ":"Confirm your choices","Áî®Êà∑Âêç:":"Name:","Ê≠£Âú®‰ªéÈÖíÈ¶ÜËé∑Âèñ...":"Loading from tavern...","ÁßçÊóè:":"Race:",‰∫∫Êóè:"Human",ÊÄßÂà´:"Gender",Áî∑:"Male",Â•≥:"Female",ÂèåÊÄß:"Hermaphrodite",ÂàùÂßãÂπ¥ÈæÑ:"Starting Age",ÂºÄÂ±ÄÊ®°Âºè:"Start Mode",ÊµÅÂºèÂºÄÂ±Ä:"Streaming Start",ÈùûÊµÅÂºèÂºÄÂ±Ä:"Non-Streaming Start","ÊµÅÂºèÂºÄÂ±ÄÔºöÊõ¥Âø´ÔºåÂèØËÉΩË¢´‰∏≠Êñ≠":"Streaming: Faster, may be interrupted","ÈùûÊµÅÂºèÂºÄÂ±ÄÔºö‰∏ÄÊ¨°ÊÄßÁîüÊàêÂÆåÊï¥ÂÜÖÂÆπÔºåÊõ¥Á®≥ÂÆöÂèØÈù†":"Non-Streaming: Complete generation, more stable",Â≤Å:" years old",ÊâÄÈÄâ‰∏ñÁïå:"Selected World",Êú™ÈÄâÊã©:"Not selected",ÊöÇÊó†ÊèèËø∞:"No description",Êú™ÈÄâÊã©‰ªª‰ΩïÂ§©Ëµã:"No talents selected",ÂëΩÊ†ºÂ§©ÂÆö:"Fate Determined","ËÅîÊú∫Ê®°Âºè‰∏ãÔºåËßíËâ≤ÁöÑÂàùÂßãÂëΩÊ†ºÂ∞ÜÁî±ÊâÄÈÄâ‰∏ñÁïåÁöÑÁ≥ªÁªüÊ≥ïÂàôÂú®‰∫ëÁ´ØÁîüÊàêÔºå‰ª•Á°Æ‰øùÂÖ¨Âπ≥‰∏éÂπ≥Ë°°„ÄÇ":"Online mode description",Âä†ËΩΩÂ≠òÊ°£:"Continue Journey",ÈÄâÊã©‰∏Ä‰∏™Â≠òÊ°£ËøõÂÖ•:"Select a character",ËßíËâ≤ÂàóË°®:"Characters",‰∏™ËßíËâ≤:" characters",Â≠òÊ°£ÁÆ°ÁêÜ:"Save Management",ÂØºÂá∫Â≠òÊ°£:"Export Saves",ÂØºÂÖ•Â≠òÊ°£:"Import Saves",ÂØºÂá∫ÈÄâ‰∏≠ËßíËâ≤ÁöÑÂ≠òÊ°£:"Export saves",ÂêëÈÄâ‰∏≠ËßíËâ≤ÂØºÂÖ•Â≠òÊ°£:"Import saves",Êú™ÊâæÂà∞‰ªª‰ΩïÂ≠òÊ°£:"No Characters","Â∞öÊú™ÂàõÂª∫‰ªª‰ΩïÂ≠òÊ°£ÔºåËØ∑ËøîÂõû‰∏ªÈ°µÂºÄÂêØ‰Ω†ÁöÑÂÜíÈô©‰πãÊóÖ":"Create a character first",Ë∏èÂÖ•Ë∂ÖÂá°Êñ∞Áîü:"Begin Journey",ÂØºÂÖ•ËßíËâ≤:"Import Character",ËØ∑ÈÄâÊã©Â∑¶‰æßËßíËâ≤Êü•ÁúãÂ≠òÊ°£ËØ¶ÊÉÖ:"Select a character","Ê≠£Âú®Âä†ËΩΩÂ≠òÊ°£...":"Loading saves...",ÊâãÂä®Â≠òÊ°£:"Manual Saves",Â≠òÊ°£ÈÄöËøáÊ∏∏ÊàèÂÜÖ‰øùÂ≠òÂäüËÉΩÂàõÂª∫:"Created via in-game save",Á©∫Â≠òÊ°£ÊßΩ:"Empty Slot",ÈÄöËøáÊ∏∏ÊàèÂÜÖ‰øùÂ≠òÂàõÂª∫:"Create via in-game save",ÈáçÂëΩÂêç:"Rename","‰∏äÊ¨°ÂØπËØùÂ≠òÊ°£‰∏çÂèØÂà†Èô§ÔºàÁî®‰∫éÂõûÊªöÔºâ":"Cannot delete last save","Êó∂Èó¥ÁÇπÂ≠òÊ°£‰∏çÂèØÂà†Èô§ÔºàÂÆöÊó∂Ëá™Âä®Ë¶ÜÁõñÔºâ":"Cannot delete time save","Êó†Ê≥ïÂà†Èô§ÔºöËá≥Â∞ëÈúÄË¶Å‰øùÁïô‰∏Ä‰∏™ÊâãÂä®Â≠òÊ°£":"Must keep one save",Âà†Èô§Â≠òÊ°£:"Delete Save",‰∫ëÁ´ØÂ≠òÊ°£:"Cloud Save",ÂæÖÂêåÊ≠•:"Pending",Â∑≤ÂêåÊ≠•:"Synced",ËøõÂÖ•Ê∏∏Êàè:"Enter Game",ÂêåÊ≠•‰∫ëÁ´Ø:"Sync Cloud",Â∞öÊú™ÂºÄÂßãËÆ≠ÁªÉ:"Not started",ÂºÄÂßãÊ∏∏Êàè:"Start Game",Âà†Èô§ËßíËâ≤:"Delete Character",'Á°ÆÂÆöË¶ÅÂΩªÂ∫ïÂà†Èô§ËßíËâ≤"{0}"ÂèäÂÖ∂ÊâÄÊúâËÆ≠ÁªÉËÆ∞ÂΩïÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ':'Delete character "{0}"?',Êó†Ê≥ïÂà†Èô§Â≠òÊ°£:"Cannot Delete","Êó†Ê≥ïÂà†Èô§ËØ•Â≠òÊ°£ÔºöËßíËâ≤Ëá≥Â∞ëÈúÄË¶Å‰øùÁïô‰∏Ä‰∏™Â≠òÊ°£„ÄÇÂ¶ÇÈúÄÂà†Èô§ÔºåËØ∑ÂÖàÂàõÂª∫ÂÖ∂‰ªñÂ≠òÊ°£ÊàñÂà†Èô§Êï¥‰∏™ËßíËâ≤„ÄÇ":"Must keep one save",'Á°ÆÂÆöË¶ÅÂà†Èô§ËßíËâ≤"{0}"ÁöÑ"{1}"ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ':'Delete save "{1}"?',ÈáçÂëΩÂêçÂ≠òÊ°£:"Rename Save","ËØ∑ËæìÂÖ•Êñ∞ÁöÑÂ≠òÊ°£ÂêçÁß∞Ôºö":"Enter new name:",ÈáçÂëΩÂêçÂ§±Ë¥•:"Rename Failed","Â≠òÊ°£ÂêçÁß∞Â∑≤Â≠òÂú®ÔºåËØ∑‰ΩøÁî®ÂÖ∂‰ªñÂêçÁß∞„ÄÇ":"Name exists",ÈúÄË¶ÅÁôªÂΩï:"Login Required",ËØ∑ÂÖàÁôªÂΩï‰ª•ÁÆ°ÁêÜËÅîÊú∫ËßíËâ≤Â≠òÊ°£:"Login to manage online saves",ÁôªÂÖ•ÈÅìÁ±ç:"Login",ÂàõÂª∫Êñ∞Â≠òÊ°£:"Create Save","ÊòØÂê¶Âú®„Äê{0}„Äë‰ΩçÁΩÆÂàõÂª∫Êñ∞ÁöÑÂ≠òÊ°£ÂºÄÂßãÊ∏∏ÊàèÔºü":'Create save at "{0}"?',ÂºÄÂêØÊñ∞ÂæÅÁ®ã:"New Journey",'ÊòØÂê¶Âú®Â≠òÊ°£‰Ωç "{0}" ÂºÄÂßã‰∏ÄÊÆµÊñ∞ÁöÑÊóÖÁ®ãÔºü':'Start at "{0}"?','ËßíËâ≤ "{0}" Â∑≤ÂØºÂá∫':'Character "{0}" exported',ÂØºÂá∫ËßíËâ≤Â§±Ë¥•:"Export failed",ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ËßíËâ≤:"Select a character first",ËØ•ËßíËâ≤Ê≤°ÊúâÂèØÂØºÂá∫ÁöÑÂ≠òÊ°£:"No saves to export",Â≠òÊ°£Â∑≤ÂØºÂá∫:"Saves exported",ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ËßíËâ≤‰ª•ÂØºÂÖ•Â≠òÊ°£:"Select character first","Êñá‰ª∂Ê†ºÂºèÊó†ÊïàÔºåËØ∑ÈÄâÊã©‰∏Ä‰∏™Â≠òÊ°£Êñá‰ª∂„ÄÇ":"Invalid save file",'Á°ÆÂÆöË¶ÅÂ∞Ü {0} ‰∏™Â≠òÊ°£ÂØºÂÖ•Âà∞ËßíËâ≤ "{1}" ÂêóÔºüÂêåÂêçÂ≠òÊ°£Â∞ÜË¢´Ë¶ÜÁõñ„ÄÇ':'Import {0} saves to "{1}"?','ÊàêÂäü‰∏∫ËßíËâ≤ "{0}" ÂØºÂÖ• {1} ‰∏™Â≠òÊ°£':"Imported {0} saves","ÂØºÂÖ•Â≠òÊ°£Â§±Ë¥•: {0}":"Import failed: {0}","Êñá‰ª∂Ê†ºÂºèÊó†ÊïàÔºåËØ∑ÈÄâÊã©‰∏Ä‰∏™ËßíËâ≤Êñá‰ª∂„ÄÇ":"Invalid character file",'Á°ÆÂÆöË¶ÅÂØºÂÖ•ËßíËâ≤ "{0}" ÂêóÔºü':'Import character "{0}"?','ÊàêÂäüÂØºÂÖ•ËßíËâ≤ "{0}"':'Character "{0}" imported',"ÂØºÂÖ•ËßíËâ≤Â§±Ë¥•: {0}":"Import failed: {0}","Â§ÑÁêÜÂØºÂÖ•Êñá‰ª∂Â§±Ë¥•: {0}":"File processing failed: {0}",Âü∫Á°Ä‰ø°ÊÅØ:"Basic Info",ÊöÇÊó†Â§©Ëµã:"No talents","ËØ∑ÊèèËø∞‰Ω†ÊÉ≥ÁîüÊàê‰ªÄ‰πàÂÜÖÂÆπÔºö":"Describe what to generate:","‰æãÂ¶ÇÔºöÁîüÊàê‰∏Ä‰∏™Á≠âÁ¶ªÂ≠êÂ±ûÊÄßÁöÑÊ®°ÂùóÔºåÈÄÇÂêàË°óÂ§¥ÊàòÊñó...":"e.g.: Plasma module for street combat...","ËØ∑ËæìÂÖ•ÂÖëÊç¢Á†Å‰ª•ÂàõÂª∫ËÅîÊú∫‰∏ñÁïåËøõË°åAIÊé®Êºî„ÄÇ":"Enter redemption code for AI generation",ËØ∑ËæìÂÖ•ÂÖëÊç¢Á†Å:"Enter code","È™åËØÅ‰∏≠...":"Verifying...","ÂÖëÊç¢Á†Å‰∏çÂèØ‰∏∫Á©∫„ÄÇ":"Code required","ÂÖëÊç¢Á†ÅÈ™åËØÅÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÂêéÈáçËØï„ÄÇ":"Verification failed",Ëá™ÂÆö‰πâAIÊé®Êºî:"Custom AI Generation",'ÊèèËø∞‰Ω†Â∏åÊúõÁöÑ‰∏ñÁïåÈ£éÊ†º„ÄÅÊó∂‰ª£ËÉåÊôØÊàñÁâπËâ≤ËÆæÂÆöÔºàÂèØÂê´ÂØπËØùÔºå‰ΩøÁî®‰∏≠ÊñáÂºïÂè∑""ÔºåÊØèÂè•‰ªÖ‰∏ÄÂØπÔºâ':"Describe world style","ÊèêÁ§∫ËØç (ÂèØÈÄâ)":"Prompt (optional)","‰æãÂ¶ÇÔºöÁé∞‰ª£ÈÉΩÂ∏ÇËµõÂçö‰∏ñÁïåÔºåËÉΩÊ∫êÂ§çËãèÔºåÁßëÊäÄ‰∏éÊîπÈÄ†Âπ∂Â≠ò...":"e.g.: Modern cyber world...",Âª∫ËÆÆÊèêÁ§∫ËØç:"Suggested Prompts","Êú¨ËÅîÊú∫Ë∞®ÈÅµÁ≥ªÁªüÂçèËÆÆÔºö‰∏çÂ≠òÂÇ®‰ªª‰ΩïÂØπËØùËÆ∞ÂΩï":"No chat logs stored","‰ªÖ‰øùÁïôÊ†∏ÂøÉÂ±ûÊÄß„ÄÅÈò∂‰ΩçËøõÂ∫¶Á≠âËÆ≠ÁªÉË¶ÅÁ¥†ÔºåÁ°Æ‰øùÈöêÁßÅÂÆâÂÖ®":"Only training data saved",‰ªÖÂ•≥ÊÄß:"Female Only",‰ªÖÁî∑ÊÄß:"Male Only",ÊâÄÊúâÊÄßÂà´:"All Genders","ÈúìËôπÂàùÂêØÔºåÁ≥ªÁªü‰∏äÁ∫ø":"Neon systems online","Ê≠£Âú®Âä†ËΩΩËµõÂçö‰∏ñÁïå...":"Loading cyber world...",ËøûÊé•‰∏ªÊéß:"Connecting to core system",Âä†ËΩΩËßíËâ≤Êï∞ÊçÆ:"Loading character data",ËØªÂèñÂ≠òÊ°£‰ø°ÊÅØ:"Reading save data","ÊèêÁ§∫ÔºöËØ∑Âú®Â∑¶‰æßËèúÂçïÈÄâÊã©ËßíËâ≤Âπ∂Âä†ËΩΩÂ≠òÊ°£":"Tip: Select character and load save from left menu",ÊàêÂäü:"Success",Â§±Ë¥•:"Failed",ÈîôËØØ:"Error",Ë≠¶Âëä:"Warning",‰ø°ÊÅØ:"Info",ËøõË°å‰∏≠:"In Progress",Â∑≤ÂÆåÊàê:"Completed",Êú™ÂºÄÂßã:"Not Started",Â∑≤ÂèñÊ∂à:"Cancelled",ÂÖ®ÈÉ®:"All",Êó†:"None",Á©∫:"Empty",ÊöÇÊó†Êï∞ÊçÆ:"No Data",ÊöÇÊó†:"None",ËØ∑ËæìÂÖ•:"Enter",ËØ∑ÈÄâÊã©:"Select",Á°ÆÂÆöË¶Å:"Confirm",Êìç‰ΩúÊàêÂäü:"Success",Êìç‰ΩúÂ§±Ë¥•:"Failed",‰øùÂ≠òÊàêÂäü:"Saved",‰øùÂ≠òÂ§±Ë¥•:"Save Failed",Âà†Èô§ÊàêÂäü:"Deleted",Âà†Èô§Â§±Ë¥•:"Delete Failed",Âä†ËΩΩÂ§±Ë¥•:"Load Failed",ÁΩëÁªúÈîôËØØ:"Network Error",Êú™Áü•ÈîôËØØ:"Unknown Error",Ë∂ÖÂá°Êñ∞Áîü:"Transcendent Rebirth",Âá°‰∫∫:"Mortal",ÂàùÂßãÂú∞:"Starting Point",ËµõÂçöÂπ¥:"Cyber Path",Âπ¥:"Year",Êúà:"Month",Êó•:"Day",ÂÖÉÂπ¥:"Year 1",‰ªªÂä°:"Quests",ÂØªÊâæÊú∫Áºò:"Seek Opportunity","Êé®Êºî‰∏≠...":"Generating...",ÁªÑÁªá:"Organization",Â•áÈÅá:"Adventure",Êó•Â∏∏:"Daily",Á≥ªÁªü‰ªªÂä°:"System Quest",ÈÅì‰æ£ÂüπÂÖª:"Companion",Èò∂‰ΩçÊèêÂçá:"Tier Upgrade",Êî∂ÈõÜËµÑÊ∫ê:"Collect",ÊàòÊñóÊåëÊàò:"Combat",‰ªªÂä°Á≥ªÁªüÈÖçÁΩÆ:"Quest Config",ÈªòËÆ§‰ªªÂä°Êï∞Èáè:"Default Quest Count",Ëá™Âä®Âà∑Êñ∞:"Auto Refresh",Ëá™Âä®Âà∑Êñ∞‰ªªÂä°:"Auto refresh quests",ÂÆåÊàê‰ªªÂä°ÂêéËá™Âä®ÁîüÊàêÊñ∞‰ªªÂä°:"Auto generate after completion",‰ªªÂä°Ê±†‰∏≠‰øùÊåÅÁöÑÊú™ÂÆåÊàê‰ªªÂä°Êï∞Èáè:"Unfinished quest count in pool",‰øùÂ≠òÈÖçÁΩÆ:"Save Config",Âà†Èô§‰ªªÂä°:"Delete Quest","‰∏∫AI‰ªªÂä°ÁîüÊàêÊ∑ªÂä†Ëá™ÂÆö‰πâÊåá‰ª§ÔºàÂèØÈÄâÔºâ":"Add custom instructions (optional)",ÂäøÂäõÁªÑÁªá:"Factions","ÊêúÁ¥¢ÁªÑÁªá...":"Search organizations...","Ê≠£Âú®ËØªÂèñÁªÑÁªá‰ø°ÊÅØ...":"Loading organizations...",ÊöÇÊó†ÁªÑÁªá‰ø°ÊÅØ:"No organization info",‰∏ñÁïå‰ø°ÊÅØÂ∞ÜÁî±AIÊ†πÊçÆÊ∏∏ÊàèËøõÁ®ãÁîüÊàê:"World info generated by AI",Ë∞ÉËØï‰ø°ÊÅØ:"Debug Info",‰ªéÈÖíÈ¶ÜÂêåÊ≠•Êï∞ÊçÆ:"Sync from Tavern",Âº∫Âà∂Âà∑Êñ∞:"Force Refresh",ÊàêÂëòÁªüËÆ°:"Member Stats",ÊÄª‰∫∫Êï∞:"Total Members",‰∫∫:" members",Èò∂‰ΩçÂàÜÂ∏É:"Tier Distribution",ËÅå‰ΩçÂàÜÂ∏É:"Position Distribution",ÁªÑÁªáÁ±ªÂûã:"Organization Type",ÁªÑÁªáÁ≠âÁ∫ß:"Organization Level",ÊâÄÂú®Â§ßÊ¥≤:"Continent",‰∏ªË¶ÅËµÑÊ∫ê:"Main Resources",ÁªÑÁªáÈ¢ÜÂØº:"Leadership",È¶ñÈ¢Ü:"Leader",ÂâØÈ¶ñÈ¢Ü:"Deputy Leader",ÊúÄÈ´òÈò∂‰Ωç:"Highest Tier",ÁªºÂêàÊàòÂäõ:"Overall Power",ÁªÑÁªáÊèèËø∞:"Description",ÁªÑÁªáÁâπËâ≤:"Specialties",ÂÖ≥Á≥ªÁä∂ÊÄÅ:"Relations",‰∏é‰Ω†ÁöÑÂÖ≥Á≥ª:"Your Relation",Â£∞ÊúõÂÄº:"Reputation",ÂäøÂäõËåÉÂõ¥:"Territory",ÂΩ±ÂìçËåÉÂõ¥:"Influence",ÊéßÂà∂Âå∫Âüü:"Controlled Areas",ÊàòÁï•‰ª∑ÂÄº:"Strategic Value",Âä†ÂÖ•Êù°‰ª∂:"Join Requirements",Âä†ÂÖ•Â•ΩÂ§Ñ:"Benefits",Áî≥ËØ∑Âä†ÂÖ•:"Apply",ÊàëÁöÑÁªÑÁªáË∫´‰ªΩ:"My Organization Status",ËÅå‰Ωç:"Position",Ë¥°ÁåÆÁÇπ:"Contribution",Âä†ÂÖ•Êó∂Èó¥:"Join Date",ÁªÑÁªáÂäüËÉΩ:"Organization Actions",ÁªÑÁªá‰ªªÂä°:"Organization Quests",Ë¥°ÁåÆÂÖëÊç¢:"Contribution Exchange",Ê®°ÂùóÂ∫ì:"Module Library",ÁªÑÁªáÊàêÂëò:"Organization Members","ÊêúÁ¥¢‰∫∫Áâ©...":"Search people...","Ê≠£Âú®ËØªÂèñ‰∫∫ÈôÖÂÖ≥Á≥ª...":"Loading relationships...",Â∞öÊú™Âª∫Á´ã‰∫∫ÈôÖÂÖ≥Á≥ª:"No relationships yet",Âú®Ê∏∏Êàè‰∏≠‰∏éÊõ¥Â§ö‰∫∫Áâ©‰∫íÂä®Âª∫Á´ãÂÖ≥Á≥ª:"Interact to build relationships",ÂèñÊ∂àÂÖ≥Ê≥®:"Unfollow",Ê∑ªÂä†ÂÖ≥Ê≥®:"Follow",Âà†Èô§‰∫∫Áâ©:"Delete NPC","Èò∂‰Ωç:":"Tier:",Â•ΩÊÑü:"Favor",Âü∫Á°ÄÊ°£Ê°à:"Profile",Â§ñË≤å‰∏éÊÄßÊ†º:"Appearance",ÊÄßÊ†ºÁâπÂæÅ:"Personality",Â§©ËµãËÉΩÂäõ:"Talents",ÊúÄËøëËÆ∞ÂøÜ:"Recent Memories",‰∫∫Ê†ºÂ∫ïÁ∫ø:"Bottom Line","Ëß¶ÁäØ‰∫∫Ê†ºÂ∫ïÁ∫øÂ∞ÜÂØºËá¥Â•ΩÊÑüÂ∫¶Êñ≠Â¥ñÂºè‰∏ãË∑åÔºà-30 ~ -60ÔºâÔºåÂÖ≥Á≥ªÁ†¥Ë£Ç‰∏îÊûÅÈöæ‰øÆÂ§ç":"Violating bottom line causes severe favor loss","ÂΩìÂâçÁä∂ÊÄÅÔºàÂÆûÊó∂Ôºâ":"Current Status",Â§ñË≤åÁä∂ÊÄÅ:"Appearance",ÂÜÖÂøÉÊÉ≥Ê≥ï:"Thoughts",ÁßÅÂØÜ‰ø°ÊÅØ:"Private Info",Áä∂ÊÄÅ‰∏éÊ¨≤Êúõ:"Status & Desire",ÊÄßÁä∂ÊÄÅ:"Sexual Status",ÊÄßÊ∏¥Êúõ:"Desire",Ë¥ûÊ¥Å:"Virginity",Â§ÑÂ•≥:"Virgin",ÈùûÂ§Ñ:"Non-virgin",Â§ÑÁî∑:"Virgin",ÊÄßÊ†ºÂÄæÂêë:"Personality",ÊÄßÂèñÂêë:"Orientation",ÂºÇÊÄßÊÅã:"Heterosexual",ÊÄß‰º¥‰æ£ÂêçÂçï:"Partners",ÊÄßÁªèÈ™åÁªüËÆ°:"Experience",ÊÄß‰∫§ÊÄªÊ¨°Êï∞:"Total Times",Ê¨°:" times",ÊÄß‰º¥‰æ£Êï∞Èáè:"Partner Count","ÊúÄËøë‰∏ÄÊ¨°Ôºö":"Last Time:",Ë∫´‰ΩìÈÉ®‰ΩçÂºÄÂèë:"Body Development",ÈÉ®‰ΩçÂêçÁß∞:"Part",ÁâπÊÆäÊ†áËÆ∞:"Mark",ÁâπÂæÅÊèèËø∞:"Description",ÊïèÊÑüÂ∫¶:"Sensitivity",ÂºÄÂèëÂ∫¶:"Development",‰ΩìÊ∂≤Áä∂ÊÄÅ:"Fluid Status",ÁôñÂ•Ω‰∏é‰ΩìË¥®:"Fetishes & Traits",ÊÄßÁôñÂ•Ω:"Fetishes",ÁâπÊÆä‰ΩìË¥®:"Special Traits",ËÆ∞ÂøÜÊ°£Ê°à:"Memory Archive",ËÆ∞ÂøÜ:"Memory",Êù°:" items","ÊÄªÁªì‰∏≠...":"Summarizing...",‰∏ä‰∏ÄÈ°µ:"Previous",‰∏ã‰∏ÄÈ°µ:"Next",Ê≠§‰∫∫ÊöÇÊó†ËÆ∞ÂøÜ:"No memories","ÂéüÂßãÊï∞ÊçÆ (JSON)":"Raw Data (JSON)",ËÉåÂåÖ:"Inventory",‰ΩéÈ¢ù‰ø°Áî®ÁÇπ:"Low Credits",‰∏≠È¢ù‰ø°Áî®ÁÇπ:"Mid Credits",È´òÈ¢ù‰ø°Áî®ÁÇπ:"High Credits",ÊúÄÈ´òÈ¢ù‰ø°Áî®ÁÇπ:"Top Credits",‰∫§Êòì:"Trade",Á¥¢Ë¶Å:"Request",ÂÅ∑Á™É:"Steal",Â∑≤ÁßªÈô§ÂõæÁâá:"Image removed",Êú¨Ê¨°ÂØπËØùÊó†ÂèòÊõ¥ËÆ∞ÂΩï:"No changes in this conversation",ÂàáÊç¢Ê®°Âùó:"Switch Module",ÂΩìÂâçÊ≠£Âú®ËÆ≠ÁªÉ:"Currently training",Á°ÆÂÆöË¶ÅÂàáÊç¢Âà∞:"Switch to",Âêó:"",Âç∏‰∏ãÊ®°Âùó:"Unequip Module",Á°ÆÂÆöË¶ÅÂç∏‰∏ã:"Confirm unequip",Á°ÆÂÆöÂç∏‰∏ã:"Confirm",Â≠òÊ°£:"Saves",ÂΩìÂâçËøõÂ∫¶:"Current Progress",‰∏äÊ¨°ÂØπËØù:"Last Conversation",Êó∂Èó¥ÁÇπÂ≠òÊ°£:"Time Save","ÊØèÊ¨°ÂØπËØùÂâçËá™Âä®Â§á‰ªΩÔºåÂèØÁî®‰∫éÂõûÈÄÄÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ":"Auto backup before conversation","ÊåâËÆæÂÆöÊó∂Èó¥Èó¥ÈöîËá™Âä®Ë¶ÜÁõñ‰øùÂ≠òÔºåÈò≤Ê≠¢ÈïøÊó∂Èó¥Ê∏∏Áé©Êï∞ÊçÆ‰∏¢Â§±":"Auto save at intervals",ÂàõÂª∫Êó∂Èó¥:"Created",ÊúÄÂêé‰øùÂ≠ò:"Last Saved",Â≠òÊ°£ÂàóË°®:"Save List",Êñ∞Âª∫Â≠òÊ°£:"New Save","ÊóÖÁ®ãÂ∞öÊú™ÁïôÂ≠òÔºåÂàõÂª∫Â≠òÊ°£ËÆ∞ÂΩïÊóÖÈÄî":"No saves yet, create one",ÂºÄÂßãÊ∏∏ÊàèÂêéÂèØ‰ª•ÂàõÂª∫Â≠òÊ°£:"You can create saves after starting the game",ËØªÂèñÂ≠òÊ°£:"Load",ÂõûÊªö:"Rollback",Ë¶ÜÁõñ:"Overwrite",Ëá™Âä®Â≠òÊ°£ËÆæÁΩÆ:"Auto Save Settings",ÂØπËØùÂâçËá™Âä®Â§á‰ªΩ:"Backup Before Chat",Â≠òÊ°£Èó¥Èöî:"Save Interval",Â≠òÊ°£Êìç‰Ωú:"Save Operations",Â§á‰ªΩÊâÄÊúâÂ≠òÊ°£Âà∞Êñá‰ª∂:"Backup all saves",‰ªéÊñá‰ª∂ÊÅ¢Â§çÂ≠òÊ°£:"Restore from file",Ê∏ÖÁ©∫Â≠òÊ°£:"Clear Saves",Âà†Èô§ÊâÄÊúâÂ≠òÊ°£Êï∞ÊçÆ:"Delete all saves","Âä†ËΩΩÊµÅÊ¥æÊï∞ÊçÆ‰∏≠...":"Loading path data...",Â∑≤Ëß£ÈîÅÊµÅÊ¥æ:"Unlocked Paths",ÊÄªËß£ÊûêÁªèÈ™å:"Total Insight",È´òÈò∂ÊÆµÊµÅÊ¥æ:"High Stage Paths",Â∞öÊú™Ëß£ÈîÅ‰ªª‰ΩïÊµÅÊ¥æ:"No paths unlocked","ÈÄöËøáÊú∫Áºò„ÄÅÈ°øÊÇüÂíåËÆ≠ÁªÉÊù•Ëß£ÈîÅÊñ∞ÁöÑÊµÅÊ¥æ":"Unlock through training",ÊµÅÊ¥æËß£Êûê:"Path Insight","Êó†ÈáèÊµÅÊ¥æÔºåÁî±ÂøÉËÄåÁîü":"Infinite paths from heart",ÊÑüÊÇüÁªüËÆ°:"Stats",Á™ÅÁ†¥ÊâÄÈúÄ:"Required",Ê∑±ÂÖ•ÊÑüÊÇüÊ≠§ÈÅì:"Deepen insight",ÂÆö‰ΩçÂà∞Áé©ÂÆ∂‰ΩçÁΩÆ:"Locate Player",ÂÖ®Â±èÊòæÁ§∫:"Fullscreen",Ë∞ÉËØïÂú∞ÂõæÊï∞ÊçÆ:"Debug Map",Âõæ‰æã:"Legend",ÂüéÈïáÂùäÂ∏Ç:"Towns",Ê¥ûÂ§©Á¶èÂú∞:"Blessed Lands",Â•áÁèçÂºÇÂú∞:"Treasure Lands",Âá∂Èô©‰πãÂú∞:"Dangerous Areas",ÂÖ∂‰ªñÁâπÊÆä:"Special",Â§ßÊ¥≤:"Continent",ÂÆâÂÖ®Á≠âÁ∫ß:"Safety Level",Ê∞îÂÄôÁ±ªÂûã:"Climate",Âú∞ÂΩ¢ÁâπÂæÅ:"Terrain",Â§©ÁÑ∂Â±èÈöú:"Barriers",Áü≠ÊúüËÆ∞ÂøÜ:"Short-term Memory","ËÑëÊµ∑‰∏≠‰∏ÄÁâáÊ∏ÖÂáÄÔºåÂ∞öÊú™Áïô‰∏ã‰øÆË°åÁóïËøπ...":"Mind is clear, no cultivation traces yet...","APIËøûÊé•‰∏≠...":"Sensing the Heavenly Dao...",Â≠ó:"chars","Â¶ÇÊûúÈïøÊó∂Èó¥Êó†ÂìçÂ∫îÔºåÁÇπÂáªÊ≠§Â§ÑÈáçÁΩÆÁä∂ÊÄÅ":"If no response for a long time, click here to reset state",ÂõûÊªöÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ:"Rollback to state before last conversation",Êü•ÁúãÊú¨Ê¨°ÂØπËØùÁöÑÂèòÊõ¥Êó•Âøó:"View change log for this conversation","ÈùôÂæÖ‰∏ñÁïåÂèòÂåñ...":"Awaiting the changes of fate...",ÊúÄËøëÊìç‰Ωú:"Recent Actions",Ê∏ÖÁ©∫ËÆ∞ÂΩï:"Clear records",Êí§ÂõûÂπ∂ÊÅ¢Â§ç:"Undo and restore",Âà†Èô§Ê≠§Âä®‰Ωú:"Delete this action","ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈÄâÊã©ÊàñË°åÂä®...":"Enter your choice or action...","ËØ∑ÂÖàÈÄâÊã©ËßíËâ≤...":"Please select a character first...",ÊµÅÂºè:"Stream",Âø´Êç∑Ë°åÂä®:"Quick Actions",ËÆ≠ÁªÉÊó∂Èó¥:"Training Time","Ëá™ÂÆö‰πâÔºö":"Custom:",Â§©:"days",ÈÄâÈ°π:"Options",‰∏ä‰º†ÂõæÁâá:"Upload image",ÁßªÈô§ÂõæÁâá:"Remove image","Âä†ËΩΩËßíËâ≤Êï∞ÊçÆ..":"Loading character data...",Êó†Ê≥ïÂä†ËΩΩËßíËâ≤Êï∞ÊçÆ:"Unable to load character data",ÁÇπÂáªÊü•ÁúãËØ¶ÊÉÖ:"Click for details",Èò∂‰ΩçËøõÂ∫¶:"Tier Progress",Á≠âÂæÖÊú∫Áºò:"Waiting for Opportunity",ÁîüÂëΩÁä∂ÊÄÅ:"Vitals",ËßíËâ≤ËÉåÊôØ:"Background",Âπ¥ÈæÑ:"Age",Â§©Ëµã‰∏éÊîπÈÄ†Ê†∏ÂøÉ:"Talents & Spirit Root",Â§©ËµÑÁ≠âÁ∫ß:"Talent Tier",ÊîπÈÄ†Ê†∏ÂøÉÂ±ûÊÄß:"Spirit Root Attributes",Â§©ËµãÁâπË¥®:"Talents",ÂÖ≠Áª¥Â±ûÊÄß:"Six Attributes",ÊúÄÁªàÂÖ≠Áª¥:"Final Attributes",ÊàêÈïøÂÖ≠Áª¥:"Acquired Attributes",Â∞öÊú™ËÆ≠ÁªÉÊ®°Âùó:"No module being trained",ÂìÅ:"Grade",Èò∂:"Rank","Ê≠§Ê®°ÂùóÊú∫Âà∂Â§çÊùÇÔºåÈöèËÆ≠ÁªÉÂä†Ê∑±ÊñπÂèØÂèëÊå•ÂÖ∂ÊïàËÉΩ„ÄÇ":"This module is complex. Its potential is unlocked through training.",Ê®°ÂùóÊïàÊûú:"Module Effects","ËÆ≠ÁªÉÂä†ÊàêÔºö":"Training Bonus:","Ê®°ÂùóÊïàÊûú:":"Module Effects:","ËÆ≠ÁªÉÈÄüÂ∫¶:":"Training Speed:","Ê®°ÂùóÊäÄËÉΩ:":"Module Skills:",‰∏™:"",ÊâÄÊúâÊäÄËÉΩ:"All Skills",ÁÜüÁªÉÂ∫¶:"Proficiency",Êú™Ëß£ÈîÅÊäÄËÉΩ:"Locked Skills",Â∞öÊú™Ëß£ÈîÅÊµÅÊ¥æ:"No paths unlocked",Â∑≤Ëß£:"Unlocked",Êù°ÊµÅÊ¥æ:" Paths",Á¨¨:"Stage ",Èò∂ÊÆµ:"",ËøòÊúâ:" and ","Êù°ÊµÅÊ¥æ..":" more paths...",ÂΩìÂâçÁªèÈ™å:"Current EXP",ÊÄªÁªèÈ™å:"Total EXP",‰∫∫ÈôÖÂÖ≥Á≥ª:"Relationships",ÊöÇÊó†‰∫∫ÈôÖÂÖ≥Á≥ª:"No relationships yet",Âπ≥ÂùáÂ•ΩÊÑü:"Avg. Favorability",ËÉåÂåÖÊ¶ÇËßà:"Inventory Overview",Áâ©ÂìÅÊÄªÊï∞:"Total Items",Ê≥ïÂÆùÊï∞Èáè:"Artifacts",Ê®°ÂùóÊï∞Èáè:"Modules",‰ø°Áî®ÁÇπÂÇ®Â§á:"Spirit Stones",Ë¥°ÁåÆÂÄº:"Contribution",ÂÖ≥Á≥ª:"Relation",Â∑≤Ëß£ÈîÅ:"Unlocked",Ëß£ÈîÅÊù°‰ª∂:"Unlock Condition",ÊäÄËÉΩÊù•Ê∫ê:"Skill Source",ÊäÄËÉΩÊèèËø∞:"Description",ÂΩìÂâçÈò∂ÊÆµ:"Current Stage",ËÆ≠ÁªÉÊÑüÊÇü:"Training Insights",ËÆ≠ÁªÉÈÄüÂ∫¶:"Training Speed",ËØ¶ÁªÜ‰ø°ÊÅØ:"Detailed Info","Âü∫Á°ÄÂÄçÁéá:":"Base Multiplier:",ÈáéÊÄßÊú¨ËÉΩ:"Wild Instinct",Ëá™ÁÑ∂Áä∂ÊÄÅ:"Natural State",Á≠âÂæÖËßâÈÜí:"Awaiting Awakening",Ëá™Âä®Ëß£ÈîÅ:"Auto Unlock",ÈúÄË¶ÅÁÜüÁªÉÂ∫¶:"Requires Proficiency",Ê®°ÂùóÊäÄËÉΩ:"Module Skill",Ê®°Âùó:"Module",ÈÄöËøáÊ®°ÂùóËÆ≠ÁªÉÊéåÊè°:"Mastered through training",ÊéåÊè°ÊäÄËÉΩ:"Mastered Skill",Êú™Áü•Â§©Ëµã:"Unknown Talent",'Á°ÆÂÆöË¶ÅÁßªÈô§Áä∂ÊÄÅÊïàÊûú"{0}"ÂêóÔºü':'Are you sure you want to remove the status effect "{0}"?',ËßíËâ≤ËØ¶ÊÉÖÈù¢Êùø:"Character Details Panel",Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®:"Save data does not exist","Â∑≤ÁßªÈô§Áä∂ÊÄÅÊïàÊûú: {0}":"Removed status effect: {0}","Êú™ÊâæÂà∞Áä∂ÊÄÅÊïàÊûú: {0}":"Status effect not found: {0}","ÁßªÈô§Áä∂ÊÄÅÊïàÊûúÂ§±Ë¥•:":"Failed to remove status effect:",ÂàùÂßãÈò∂ÊÆµ:"Initial Stage","Ê≠§ÊµÅÊ¥æÂ∑≤Ëß£ÈîÅÔºå‰ΩÜÂ∞öÊú™ÂºÄÂßãËÆ≠ÁªÉ":"This path is unlocked, but training has not yet begun",Êú™Èó®:"Uninitiated","Á¨¨{0}Èò∂ÊÆµ":"Stage {0}","Ê≠§ÈÅìÊ∑±Â••Êô¶Ê∂©ÈöæÊáÇÔºåÈúÄÊåÅ‰πã‰ª•ÊÅíÊñπËÉΩÊúâÊâÄÊàêÂ∞±":"This Dao is profound and requires perseverance to achieve mastery",Â∑≤ÊéåÊè°:"Mastered",ËÆ≠ÁªÉÂÆåÊàê:"Training Complete",ÈÄöËøáÊ®°ÂùóËÆ≠ÁªÉËé∑ÂæóÁöÑÊäÄËÉΩ:"Skill obtained through module training",Ê®°ÂùóËÆ≠ÁªÉ:"Module Training",Êú™Ëß£ÈîÅ:"Locked",Ê®°Âùó‰º†Êâø:"Module Inheritance","Â∑≤ÂêåÊ≠•ÊúÄÊñ∞Êï∞ÊçÆÂà∞ gameStateStore":"Synced latest data to gameStateStore",Âà∑Êñ∞Êï∞ÊçÆÂ§±Ë¥•:"Failed to refresh data","ÁªÑ‰ª∂ÊåÇËΩΩÔºåÂêåÊ≠•Êï∞ÊçÆ":"Component mounted, syncing data",Èù¢ÊùøÊøÄÊ¥ª:"Panel activated",ÂæÖÂÆö:"Undetermined","Âá∫Ë∫´ËÉåÊôØ: {0}":"Origin: {0}",ÂêåÊ≠•‰∏≠:"Syncing",Â∑≤Ëé∑Âèñ:"Synced",ÊöÇ‰∏çÂèØÁî®:"Unavailable",‰∫ëÁ´ØÂäüËÉΩÊöÇÊú™ÂºÄÊîæ:"Cloud feature not available yet",Ëé∑ÂèñÊõ¥Êñ∞:"Fetch Cloud","Ê≠£Âú®ÂêåÊ≠•‰∫ëÁ´ØÊï∞ÊçÆ...":"Syncing cloud data...",‰∫ëÁ´ØÊï∞ÊçÆÂ∑≤Ëé∑Âèñ:"Cloud data synced",Ëé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆ:"Fetch cloud data","‰∫ëÁ´ØÊï∞ÊçÆÂ∑≤Ëé∑ÂèñÔºåÊó†ÈúÄÈáçÂ§çÊìç‰Ωú":"Cloud data already synced","Ê≠£Âú®Ëé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆ...":"Fetching cloud data...","ÂêåÊ≠•ÊàêÂäüÔºÅÊñ∞Â¢û {0} È°π‰∫ëÁ´ØÊï∞ÊçÆ":"Sync successful! Added {0} cloud items",ÊâÄÊúâ‰∫ëÁ´ØÊï∞ÊçÆÂ∑≤ÊòØÊúÄÊñ∞:"All cloud data is up to date",ÂêåÊ≠•ÊàêÂäü:"Sync successful",ÂêåÊ≠•Â§±Ë¥•:"Sync failed","ÂêåÊ≠•Â§±Ë¥•: {0}":"Sync failed: {0}",Â≠òÂÇ®‰∏≠:"Storing",Â∑≤Â≠òÂÇ®:"Stored",Â≠òÂÇ®È¢ÑËÆæ:"Store Preset",ËØ∑ÂÆåÊàêÊâÄÊúâÊ≠•È™§ÂêéÂÜç‰øùÂ≠òÈ¢ÑËÆæ:"Complete all steps before saving preset","Ê≠£Âú®Â≠òÂÇ®È¢ÑËÆæ...":"Storing preset...",È¢ÑËÆæÂ∑≤Â≠òÂÇ®:"Preset stored",‰øùÂ≠òÂΩìÂâçÈÄâÊã©‰∏∫È¢ÑËÆæ:"Save current selection as preset","È¢ÑËÆæÂ∑≤Â≠òÂÇ®ÔºåÊó†ÈúÄÈáçÂ§çÊìç‰Ωú":"Preset already stored","Ê≠£Âú®‰øùÂ≠òÈ¢ÑËÆæ...":"Saving preset...","È¢ÑËÆæ„Äå{0}„Äç‰øùÂ≠òÊàêÂäüÔºÅ":'Preset "{0}" saved successfully!',È¢ÑËÆæ‰øùÂ≠òÊàêÂäü:"Preset saved successfully","Â≠òÂÇ®Â§±Ë¥•: {0}":"Storage failed: {0}",Â∑≤Âä†ËΩΩ:"Loaded",Âä†ËΩΩÈ¢ÑËÆæ:"Load Preset","Ê≠£Âú®Âä†ËΩΩÈ¢ÑËÆæ...":"Loading preset...",È¢ÑËÆæÂ∑≤Âä†ËΩΩ:"Preset loaded","È¢ÑËÆæÂ∑≤Âä†ËΩΩÔºåÊó†ÈúÄÈáçÂ§çÊìç‰Ωú":"Preset already loaded","È¢ÑËÆæ„Äå{0}„ÄçÂä†ËΩΩÊàêÂäüÔºÅ":'Preset "{0}" loaded successfully!',Âä†ËΩΩÊàêÂäü:"Load successful","Âä†ËΩΩÂ§±Ë¥•: {0}":"Load failed: {0}",Â≠òÊ°£Êï∞ÊçÆÂºÇÂ∏∏:"Save Data Error","Á≥ªÁªüÊ£ÄÊµãÂà∞ÊÇ®ÁöÑÂ≠òÊ°£Êñá‰ª∂Â≠òÂú®‰∏•ÈáçÁªìÊûÑÈóÆÈ¢òÔºåÂèØËÉΩÂØºËá¥Ê∏∏ÊàèÊó†Ê≥ïÊ≠£Â∏∏ËøêË°å„ÄÇËøôÈÄöÂ∏∏ÊòØÁî±‰∫éÁâàÊú¨Êõ¥Êñ∞ÊàñÊï∞ÊçÆÊçüÂùèÂØºËá¥ÁöÑ„ÄÇ":"System detected serious structural issues in your save file that may prevent the game from running properly. This is usually caused by version updates or data corruption.","ÂÖ∑‰ΩìÈóÆÈ¢òÂ¶Ç‰∏ãÔºö":"Specific issues:","Êàë‰ª¨Âª∫ËÆÆÊÇ®Á´ãÂç≥‰øÆÂ§çÊ≠§ÈóÆÈ¢ò„ÄÇ‰øÆÂ§çËøáÁ®ãÂ∞ÜÂ∞ùËØïÂú®‰øùÁïôÊÇ®Ê†∏ÂøÉËøõÂ∫¶ÁöÑÂâçÊèê‰∏ãÔºå‰øÆÊ≠£Â≠òÊ°£ÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ":"We recommend fixing this issue immediately. The repair process will attempt to correct the save data structure while preserving your core progress.","Ê≥®ÊÑèÔºö‰øÆÂ§ç‰∏ªË¶ÅÈíàÂØπÁªìÊûÑÊÄßÈóÆÈ¢òÔºåÊó†Ê≥ïÊÅ¢Â§çÂ∑≤ÊçüÂùèÊàñ‰∏¢Â§±ÁöÑÊï∞ÊçÆ„ÄÇÂª∫ËÆÆÊÇ®Âú®‰øÆÂ§çÂâçÂ§á‰ªΩÂ≠òÊ°£„ÄÇ":"Note: Repair mainly targets structural issues and cannot recover corrupted or lost data. It is recommended to backup your save before repair.",‰øÆÂ§çÂ≠òÊ°£Âπ∂ÁªßÁª≠:"Repair Save and Continue","Êàë‰ª¨Âª∫ËÆÆÊÇ®Á´ãÂç≥‰øÆÂ§çÊ≠§ÈóÆÈ¢ò„ÄÇ‰øÆÂ§çËøáÁ®ãÂ∞ÜÊ†πÊçÆÊÇ®Áé∞ÊúâÁöÑËßíËâ≤Âü∫Á°Ä‰ø°ÊÅØÔºåÈáçÊñ∞ÁîüÊàê‰∏Ä‰ªΩÂÅ•Â∫∑ÁöÑÂàùÂßãÂ≠òÊ°£Êï∞ÊçÆ„ÄÇ":"We recommend fixing this issue immediately. The repair process will regenerate healthy initial save data based on your existing character information.","Ê≥®ÊÑèÔºöËøôÂ∞Ü‰ºöÈáçÁΩÆÊÇ®ÁöÑÊ∏∏ÊàèËøõÂ∫¶ÔºàÂ¶ÇÈò∂‰Ωç„ÄÅËÉåÂåÖÁâ©ÂìÅÁ≠âÔºâÔºå‰ΩÜËßíËâ≤Ê†∏ÂøÉËÆæÂÆöÔºàÂ¶ÇÂßìÂêç„ÄÅÂ§©Ëµã„ÄÅÊîπÈÄ†Ê†∏ÂøÉÔºâÂ∞Ü‰øùÁïô„ÄÇ":"Note: This will reset your game progress (such as tier, inventory items, etc.), but character core settings (such as name, talents, spirit root) will be retained.",ÈáçÊñ∞ÂàùÂßãÂåñÂπ∂‰øÆÂ§ç:"Reinitialize and Repair",Ê∑±Â∫¶ËÆ≠ÁªÉ:"Deep Training",ÂΩìÂâçËÆ≠ÁªÉËøõÂ∫¶:"Current Progress","ËÆ≠ÁªÉÈÄüÂ∫¶: +{0}%":"Training Speed: +{0}%",ÈÄâÊã©ËÆ≠ÁªÉÂ§©Êï∞:"Select Training Days",AIÂ∞ÜÊ†πÊçÆËÆ≠ÁªÉÂ§©Êï∞ÁîüÊàêËØ¶ÁªÜÁöÑËÆ≠ÁªÉËøáÁ®ãÂíåÁªìÊûú:"AI will generate detailed training process and results based on days",ËæìÂÖ•Â§©Êï∞:"Enter days","1Â§©":"1 day","7Â§©":"7 days","30Â§©":"30 days","90Â§©":"90 days","180Â§©":"180 days","365Â§©":"365 days",ÂºÄÂßãËÆ≠ÁªÉ:"Begin Training",ÊéàÊùÉÈ™åËØÅ:"Authorization","Ê¨¢Ëøé‰ΩøÁî®ÊéàÊùÉÁ≥ªÁªüÂø´ÈÄüÂÖ•Èó®ÂäüËÉΩ„ÄÇËØ∑ËæìÂÖ•ÊÇ®ÁöÑÂÖëÊç¢Á†ÅÂíåÊú∫Âô®Á†ÅËøõË°åÈ™åËØÅ„ÄÇ":"Welcome to the authorization system. Please enter your redemption code and machine code for verification.","Â∫îÁî® ID":"App ID",ËØ∑ËæìÂÖ•Â∫îÁî®ID:"Enter App ID",ÂÖëÊç¢Á†Å:"Redemption Code",Êú∫Âô®Á†Å:"Machine Code",Ëá™Âä®ÁîüÊàêÊàñÊâãÂä®ËæìÂÖ•:"Auto-generate or manual input",ÁîüÊàêÊú∫Âô®Á†Å:"Generate machine code",‰ΩøÁî®Áªü‰∏ÄÊú∫Âô®Á†ÅÁ≥ªÁªüËá™Âä®ÁîüÊàê:"Auto-generate using unified machine code system",ÁªëÂÆöÁ±ªÂûã:"Binding Type",‰ªÖÊú∫Âô®Á†Å:"Machine Code Only",‰ªÖIP:"IP Only",ÂèåÈáçÁªëÂÆö:"Dual Binding",È™åËØÅÊéàÊùÉ:"Verify Authorization","È™åËØÅÊàêÂäüÔºÅÊéàÊùÉÂ∑≤ÊøÄÊ¥ª":"Verification successful! Authorization activated","È™åËØÅÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ËæìÂÖ•‰ø°ÊÅØ":"Verification failed, please check input","ÁΩëÁªúËØ∑Ê±ÇÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÊúçÂä°Âô®ËøûÊé•":"Network request failed, please check server connection",Êú∫Âô®Á†ÅÁîüÊàêÂ§±Ë¥•:"Machine code generation failed",AIÁîüÊàêÂ§±Ë¥•:"AI Generation Failed",ÁîüÊàêËøáÁ®ãÈÅáÂà∞ÈóÆÈ¢ò:"Problem encountered during generation",ÂèñÊ∂àÂàõÂª∫:"Cancel Creation",ÁªßÁª≠ÈáçËØï:"Retry",ÈÄâÊã©Êï∞Èáè:"Select Quantity","ÂèØÁî®Êï∞ÈáèÔºö{0}":"Available: {0}","1‰∏™":"1 item","5‰∏™":"5 items","10‰∏™":"10 items",ËæìÂÖ•Êï∞ÂÄº:"Enter Value",Êï∞ÂÄº:"Value",Ê∏ÖÈô§Ëá™ÂÆö‰πâ:"Clear Custom",Ê∏ÖÈô§‰∫ëÁ´Ø:"Clear Cloud",Ê∏ÖÈô§Ëá™ÂÆö‰πâÂíåAIÁîüÊàêÁöÑÊï∞ÊçÆ:"Clear custom and AI-generated data",Ê∏ÖÈô§‰ªé‰∫ëÁ´ØËé∑ÂèñÁöÑÊï∞ÊçÆ:"Clear cloud data",Ê∏ÖÈô§Ëá™ÂÆö‰πâÊï∞ÊçÆ:"Clear Custom Data","Á°ÆÂÆöË¶ÅÊ∏ÖÈô§Ëá™ÂÆö‰πâÊï∞ÊçÆÂêóÔºüËøôÂ∞ÜÊ∏ÖÈô§ÊâÄÊúâËá™ÂÆö‰πâÂíåAIÁîüÊàêÁöÑÊï∞ÊçÆÔºå‰øùÁïôÊú¨Âú∞Âü∫Á°ÄÊï∞ÊçÆÂíå‰∫ëÁ´ØÊï∞ÊçÆ„ÄÇÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ":"Are you sure you want to clear custom data? This will clear all custom and AI-generated data, keeping local base data and cloud data. This action cannot be undone!",Á°ÆËÆ§Ê∏ÖÈô§:"Confirm Clear","Â∑≤Ê∏ÖÈô§{0} È°πËá™ÂÆö‰πâÊï∞ÊçÆÔºå‰øùÁïôÊú¨Âú∞Âü∫Á°ÄÊï∞ÊçÆÂíå‰∫ëÁ´ØÊï∞ÊçÆ":"Cleared {0} custom items, keeping local base data and cloud data",Ê∏ÖÈô§‰∫ëÁ´ØÊï∞ÊçÆ:"Clear Cloud Data","Á°ÆÂÆöË¶ÅÊ∏ÖÈô§‰∫ëÁ´ØÊï∞ÊçÆÂêóÔºüËøôÂ∞ÜÊ∏ÖÈô§‰ªé‰∫ëÁ´ØËé∑ÂèñÁöÑÊï∞ÊçÆÔºå‰øùÁïôÊú¨Âú∞Âü∫Á°ÄÊï∞ÊçÆÂíåËá™ÂÆö‰πâÊï∞ÊçÆ„ÄÇÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ":"Are you sure you want to clear cloud data? This will clear data fetched from cloud, keeping local base data and custom data. This action cannot be undone!","Â∑≤Ê∏ÖÈô§{0} È°π‰∫ëÁ´ØÊï∞ÊçÆÔºå‰øùÁïôÊú¨Âú∞Êï∞ÊçÆÂíåËá™ÂÆö‰πâÊï∞ÊçÆ":"Cleared {0} cloud items, keeping local data and custom data",‰øùÂ≠òÈ¢ÑËÆæ:"Save Preset",È¢ÑËÆæÂêçÁß∞:"Preset Name","ËØ∑ËæìÂÖ•È¢ÑËÆæÂêçÁß∞ÔºàÂ¶ÇÔºöÂâë‰øÆÈ¢ÑËÆæ„ÄÅÊ≤ªÊÑàÁ≥ªÈ¢ÑËÆæÁ≠âÔºâ":"Enter preset name (e.g., Sword Cultivator Preset, Healer Preset, etc.)",È¢ÑËÆæÊèèËø∞:"Preset Description","ËæìÂÖ•Ê≠§È¢ÑËÆæÁöÑÊèèËø∞‰ø°ÊÅØ...":"Enter preset description...","‰øùÂ≠òÊó∂Èó¥Ôºö":"Save Time:","‰øùÂ≠ò‰∏≠...":"Saving...",ÂØºÂá∫È¢ÑËÆæ:"Export Presets","Ê≠£Âú®Âä†ËΩΩÈ¢ÑËÆæÂàóË°®...":"Loading preset list...",ÊöÇÊó†ÂèØÂØºÂá∫ÁöÑÈ¢ÑËÆæ:"No presets to export",ËØ∑ÂÖà‰øùÂ≠ò‰∏Ä‰∫õÈ¢ÑËÆæÂêéÂÜçËøõË°åÂØºÂá∫:"Please save some presets before exporting",ÂØºÂá∫ÂÖ®ÈÉ®È¢ÑËÆæ:"Export All Presets","ÂØºÂá∫ÊâÄÊúâ {0} ‰∏™È¢ÑËÆæ":"Export all {0} presets",ÂØºÂá∫ÈÄâ‰∏≠È¢ÑËÆæ:"Export Selected Presets",ÈÄâÊã©Ë¶ÅÂØºÂá∫ÁöÑÈ¢ÑËÆæ:"Select presets to export","ÂÖ®ÈÄâ/ÂèñÊ∂àÂÖ®ÈÄâ":"Select All/Deselect All","Â∑≤ÈÄâÊã© {0} ‰∏™":"Selected {0}",Êú™ÂëΩÂêçÈ¢ÑËÆæ:"Unnamed Preset",‰ªäÂ§©:"Today",Êò®Â§©:"Yesterday","{0}Â§©Ââç":"{0} days ago","ÂØºÂá∫Êï∞ÈáèÔºö":"Export Count:","{0} ‰∏™È¢ÑËÆæ":"{0} presets","Êñá‰ª∂Ê†ºÂºèÔºö":"File Format:",JSON:"JSON","ÂØºÂá∫Êó∂Èó¥Ôºö":"Export Time:","ÂØºÂá∫‰∏≠...":"Exporting...","ÊàêÂäüÂØºÂá∫ {0} ‰∏™È¢ÑËÆæÔºÅ":"Successfully exported {0} presets!","ÂØºÂá∫Â§±Ë¥•: {0}":"Export failed: {0}",ÂØºÂÖ•È¢ÑËÆæ:"Import Presets","ÊãñÊîæJSONÊñá‰ª∂Âà∞Ê≠§Â§ÑÔºåÊàñÁÇπÂáªÈÄâÊã©Êñá‰ª∂":"Drag and drop JSON file here, or click to select",ÈÄâÊã©Êñá‰ª∂:"Select File",‰ªÖÊîØÊåÅÈÄöËøáÊú¨Â∫îÁî®ÂØºÂá∫ÁöÑÈ¢ÑËÆæJSONÊñá‰ª∂:"Only supports preset JSON files exported by this app",ËØ∑ÈÄâÊã©JSONÊ†ºÂºèÁöÑÊñá‰ª∂:"Please select a JSON file","Êñá‰ª∂Â§ßÂ∞èË∂ÖËøáÈôêÂà∂ÔºàÊúÄÂ§ß10MBÔºâ":"File size exceeds limit (max 10MB)",ÂêàÂπ∂Ê®°Âºè:"Merge Mode","Â∞ÜÂØºÂÖ•ÁöÑÈ¢ÑËÆæÊ∑ªÂä†Âà∞Áé∞ÊúâÈ¢ÑËÆæ‰∏≠ÔºàÊé®ËçêÔºâ":"Add imported presets to existing presets (recommended)",ÊõøÊç¢Ê®°Âºè:"Replace Mode","Â∞ÜÊ∏ÖÈô§ÊâÄÊúâÁé∞ÊúâÈ¢ÑËÆæÔºå‰ªÖ‰øùÁïôÂØºÂÖ•ÁöÑÈ¢ÑËÆæ":"Clear all existing presets and keep only imported presets","ÊõøÊç¢Ê®°ÂºèÂ∞ÜÂà†Èô§ÊâÄÊúâÁé∞ÊúâÈ¢ÑËÆæÔºÅ\n\nÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºåÁ°ÆÂÆöË¶ÅÁªßÁª≠ÂêóÔºü":"Replace mode will delete all existing presets!\n\nThis action cannot be undone, are you sure you want to continue?","Ê≠£Âú®ÂØºÂÖ•È¢ÑËÆæ...":"Importing presets...","ÊàêÂäüÂØºÂÖ• {0} ‰∏™È¢ÑËÆæÔºÅ":"Successfully imported {0} presets!",ÈÉ®ÂàÜÈ¢ÑËÆæÂØºÂÖ•ÊàêÂäü:"Some presets imported successfully","ÊàêÂäü: {0} ‰∏™ÔºåÂ§±Ë¥•: {1} ‰∏™":"Success: {0}, Failed: {1}",È¢ÑËÆæÂØºÂÖ•Â§±Ë¥•:"Preset import failed","ÂØºÂÖ•Â§±Ë¥•: {0}":"Import failed: {0}",ÂºÄÂßãÂØºÂÖ•:"Start Import",ÊöÇÊó†‰øùÂ≠òÁöÑÈ¢ÑËÆæ:"No saved presets","ÂÆåÊàêËßíËâ≤ÂàõÂª∫Âêé,ÂèØ‰ª•‰øùÂ≠ò‰∏∫È¢ÑËÆæ‰ª•‰æøÂø´ÈÄüÂºÄÂßãÊñ∞Ê∏∏Êàè":"After completing character creation, you can save as preset for quick new game start","Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™È¢ÑËÆæÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄ„ÄÇ":"Are you sure you want to delete this preset? This action cannot be undone.",È¢ÑËÆæÂ∑≤Âà†Èô§:"Preset deleted","ÊêúÁ¥¢...":"Search...","ÊêúÁ¥¢Áâ©ÂìÅ...":"Search items...",ÂÖ®ÈÉ®Áâ©ÂìÅ:"All Items",ÈªòËÆ§ÊéíÂ∫è:"Default Sort",ÂìÅË¥®ÊéíÂ∫è:"Sort by Quality",ÂêçÁß∞ÊéíÂ∫è:"Sort by Name",‰ªéÈÖíÈ¶ÜÂêåÊ≠•ÊúÄÊñ∞Êï∞ÊçÆ:"Sync latest data from Tavern","Ë£ÖÂ§áÂ¢ûÂπÖ:":"Equipment Bonus:","ÁâπÊÆäÊïàÊûú:":"Special Effects:",Âç∏‰∏ã:"Unequip",‰∏¢ÂºÉ:"Discard",ÂÅúÊ≠¢ËÆ≠ÁªÉ:"Stop Training",ËÆ≠ÁªÉ:"Train",‰ΩøÁî®:"Use",Á©∫Á©∫Â¶Ç‰πü:"Empty",ÊöÇÊó†Ë£ÖÂ§á:"No Equipment",ÊöÇÊó†Ê®°Âùó:"No Modules",ÊöÇÊó†ÂÖ∂‰ªñÁâ©ÂìÅ:"No Other Items","ÊöÇÊó†{0}":"No {0}",ÂèØ‰ª•ËØïËØïÊêúÁ¥¢ÂÖ∂‰ªñÂàÜÁ±ª:"Try searching other categories","Ê®°ÂùóÊïàÊûú:":"Module Effects:","ËÆ≠ÁªÉÈÄüÂ∫¶:":"Training Speed:","Â±ûÊÄßÂä†Êàê:":"Attribute Bonus:","ÁâπÊÆäËÉΩÂäõ:":"Special Abilities:","Ê®°ÂùóÊäÄËÉΩ:":"Module Skills:","ÈúÄË¶Å:":"Requires:","Ê∂àËÄó:":"Cost:",ÈÄâÊã©Áâ©ÂìÅÊü•ÁúãËØ¶ÊÉÖ:"Select an item to view details",Áâ©ÂìÅ:"Items",Ë£ÖÂ§á:"Equipment",‰ø°Áî®ÁÇπ:"Credits",Ë£ÖÂ§á1:"Equipment 1",Ë£ÖÂ§á2:"Equipment 2",Ë£ÖÂ§á3:"Equipment 3",Ë£ÖÂ§á4:"Equipment 4",Ë£ÖÂ§á5:"Equipment 5",Ë£ÖÂ§á6:"Equipment 6",Âç∏‰∏ãË£ÖÂ§á:"Unequip",Ë£ÖÂ§áÊï∞ÊçÆÁº∫Â§±:"Equipment data missing",Á©∫ÊßΩ‰Ωç:"Empty Slot",ÂèØË£ÖÂ§áË£ÖÂ§á:"Equipment can be worn","Â¢ûÂπÖÊïàÊûúÔºö":"Bonus Effects:","ÁâπÊÆäÊïàÊûúÔºö":"Special Effects:","ÂÖëÊç¢‰∏∫{0}‰ø°Áî®ÁÇπ (100:1)":"Exchange for {0} Spirit Stone (100:1)","‚Üë ÂÖëÊç¢":"‚Üë Exchange","ÂàÜËß£‰∏∫{0}‰ø°Áî®ÁÇπ (1:100)":"Decompose into {0} Spirit Stone (1:100)","‚Üì ÂàÜËß£":"‚Üì Decompose",‰ΩøÁî®Áâ©ÂìÅ:"Use Item",‰ΩøÁî®Êï∞Èáè:"Quantity to Use",Á°ÆÂÆö‰ΩøÁî®:"Confirm Use",ÊöÇÊó†ÁâπÊÆäÊïàÊûú:"No special effects",ËØ•Áâ©ÂìÅÊó†Ê≥ïÁõ¥Êé•‰ΩøÁî®:"This item cannot be used directly",‰ΩøÁî®Áâ©ÂìÅÊàêÂäü:"Item used successfully",‰ΩøÁî®Áâ©ÂìÅÂ§±Ë¥•:"Failed to use item",‰∏¢ÂºÉÁâ©ÂìÅ:"Discard Item",‰∏¢ÂºÉÊï∞Èáè:"Quantity to Discard",Á°ÆÂÆö‰∏¢ÂºÉ:"Confirm Discard","Ê≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ":"This action cannot be undone!","Á°ÆÂÆöË¶Å‰∏¢ÂºÉ {0}{1} ÂêóÔºü\n\nÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ":"Are you sure you want to discard {0}{1}?\n\nThis action cannot be undone!","Â∑≤‰∏¢ÂºÉ„Ää{0}„Äã":'Discarded "{0}"',"Â∑≤‰∏¢ÂºÉ {0} ‰∏™„Ää{1}„Äã":'Discarded {0} of "{1}"',‰∏¢ÂºÉÁâ©ÂìÅÂ§±Ë¥•:"Failed to discard item",Âè™ÊúâË£ÖÂ§áÊâçËÉΩÁ©øÊà¥:"Only equipment can be worn","Ë£ÖÂ§áÊìç‰ΩúÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï":"Equipment operation failed, please try again later",Âè™ÊúâÊ®°ÂùóÊâçËÉΩËÆ≠ÁªÉ:"Only modules can be trained",ÊÆãÁº∫:"Broken",ËÉåÂåÖÊï∞ÊçÆ‰∏çÂ≠òÂú®ÊàñÊ†ºÂºè‰∏çÊ≠£Á°Æ:"Inventory data does not exist or is in the wrong format",ËÉåÂåÖÈù¢Êùø:"Inventory Panel",Áâ©ÂìÅÁßªÈô§ÊàêÂäü:"Item removed successfully","Â∞ùËØïÊõ¥Êñ∞‰∏Ä‰∏™‰∏çÂ≠òÂú®‰∫éËÉåÂåÖÁöÑÁâ©ÂìÅ: {0}":"Attempting to update an item that does not exist in the inventory: {0}",Áâ©ÂìÅÊõ¥Êñ∞ÊàêÂäü:"Item updated successfully",Ë£ÖÂ§áÊ†èÊï∞ÊçÆ‰∏çÂ≠òÂú®:"Equipment data does not exist",ËÉåÂåÖÊï∞ÊçÆ‰∏çÂ≠òÂú®:"Inventory data does not exist","Âç∏‰∏ã‰∫Ü„Ää{0}„ÄãË£ÖÂ§á":'Unequipped "{0}"',"Â∑≤Âç∏‰∏ã„Ää{0}„Äã":'Unequipped "{0}"',Ë£ÖÂ§áÂç∏‰∏ãÊàêÂäü:"Unequip successful",Âç∏‰∏ãË£ÖÂ§áÂ§±Ë¥•:"Failed to unequip","[ËÉåÂåÖÈù¢Êùø-Ë≠¶Âëä] Áâ©ÂìÅÁº∫Â∞ëÂìÅË¥®Êï∞ÊçÆ:":"[InventoryPanel-Warning] Item is missing quality data:",ÊâãÂä®Âà∑Êñ∞ÈÖíÈ¶ÜÊï∞ÊçÆ:"Manually refresh Tavern data","Â≠òÊ°£Êï∞ÊçÆ (SaveData)":"Save Data",Áé©ÂÆ∂ËßíËâ≤Áä∂ÊÄÅ:"Player Status",Ë£ÖÂ§áÊ†è:"Equipment",Ê∏∏ÊàèÊó∂Èó¥:"Game Time",‰ªªÂä°Á≥ªÁªü:"Quest System",Á≥ªÁªü:"System",Âèô‰∫ãÂéÜÂè≤:"Narrative History",ËßíËâ≤Êï∞ÊçÆ:"Character Data",ËÆ∞ÂøÜÊï∞ÊçÆ:"Memory Data",Ê∏∏ÊàèÁâàÊú¨:"Game Version",Êû∂ÊûÑÊ®°Âºè:"Architecture","PiniaÂÜÖÂ≠ò + DBÊåÅ‰πÖÂåñ":"Pinia Memory + DB Persistence","Â≠òÊ°£Êï∞ÊçÆ(‰øÆÊîπÊ∏∏ÊàèÊï∞ÊçÆ)":"Save Data (Modify Game Data)",Ê†∏ÂøÉÊï∞ÊçÆ:"Core Data",Ëá™ÂÆö‰πâÈÄâÈ°π:"Custom Options",ÂéüÂßãÊï∞ÊçÆ:"Raw Data",ËØ∑ÂÖàÂä†ËΩΩÊ∏∏ÊàèÂ≠òÊ°£:"Please load a game save first","Êï∞ÊçÆÂ∑≤‰ªéPinia StoreÂà∑Êñ∞":"Data refreshed from Pinia Store","Êï∞ÊçÆÂà∑Êñ∞Â§±Ë¥•: ":"Data refresh failed: ",Êï∞ÊçÆÂØºÂá∫ÊàêÂäü:"Data exported successfully",Êï∞ÊçÆÂØºÂá∫Â§±Ë¥•:"Data export failed","Êñ∞Êû∂ÊûÑ‰∏ã‰∏çÊîØÊåÅÁõ¥Êé•Ê∑ªÂä†ÂèòÈáèÔºåËØ∑ÈÄöËøáÊ∏∏ÊàèÊìç‰Ωú‰øÆÊîπÊï∞ÊçÆ":"Directly adding variables is not supported in the new architecture. Please modify data through game actions.",Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø:"Copied to clipboard",Â§çÂà∂Â§±Ë¥•:"Copy failed","Êñ∞Êû∂ÊûÑ‰∏ã‰∏çÊîØÊåÅÁõ¥Êé•Âà†Èô§ÂèòÈáèÔºåËØ∑ÈÄöËøáÊ∏∏ÊàèÊìç‰Ωú‰øÆÊîπÊï∞ÊçÆ":"Directly deleting variables is not supported in the new architecture. Please modify data through game actions.",Ê≤°ÊúâË¶Å‰øùÂ≠òÁöÑÊï∞ÊçÆ:"No data to save","‚úÖ Â∑≤ÊàêÂäüÊõ¥Êñ∞ ":"‚úÖ Successfully updated ","‰øùÂ≠òÂ§±Ë¥•: ":"Save failed: ","Âü∫Êú¨ÁªüËÆ°:":"Basic Stats:",Ê∏∏ÊàèÂ∑≤Âä†ËΩΩ:"Game Loaded",ËßíËâ≤Âêç:"Character Name","Ê†∏ÂøÉÊï∞ÊçÆÈîÆÂêç:":"Core Data Keys:","Ëá™ÂÆö‰πâÈÄâÈ°πÈîÆÂêç:":"Custom Option Keys:","ÂÆåÊï¥SaveData:":"Full SaveData:",Ë∞ÉËØï‰ø°ÊÅØÂ∑≤ËæìÂá∫Âà∞ÊéßÂà∂Âè∞:"Debug info has been output to the console","AIÂ§ÑÁêÜ‰∏≠ÔºåËØ∑Á®çÂÄô...":"AI is processing, please wait...","ËßíËâ≤Â∑≤Ê≠ª‰∫°ÔºåÊó†Ê≥ïÁªßÁª≠„ÄÇ":"Character has died, cannot continue.","ËßíËâ≤Âõ†ÁîüÂëΩÂÄºËÄóÂ∞ΩËÄåÊ≠ª‰∫°„ÄÇ":"Character has died due to Qi exhaustion.","ËßíËâ≤Âõ†ÂØøÂÖÉËÄóÂ∞ΩËÄåÊ≠ª‰∫°„ÄÇ":"Character has died due to lifespan depletion.",Â§©Êú∫Â∑≤Êòæ:"Heavenly secrets revealed","AIÂìçÂ∫îÊ†ºÂºè‰∏çÊ≠£Á°ÆÔºåÊ≠£Âú®ÈáçËØï...":"AI response format is incorrect, retrying...","AIÂìçÂ∫îÊ†ºÂºèÈîôËØØÔºåÂ§öÊ¨°ÈáçËØïÂ§±Ë¥•":"AI response format error, and multiple retries failed",AIÂ§ÑÁêÜÂ§±Ë¥•:"AI processing failed",AIÂ§ÑÁêÜÁä∂ÊÄÅÂ∑≤ÈáçÁΩÆ:"AI processing state has been reset",'Â≠òÊ°£ "{0}" ÊàêÂäü':'Save "{0}" successful',Â≠òÊ°£Â§±Ë¥•:"Save failed",'Â∑≤Â§á‰ªΩÂà∞"‰∏äÊ¨°ÂØπËØù"':'Backed up to "Last Conversation"',Â§á‰ªΩÂ§±Ë¥•:"Backup failed",Âü∫Á°ÄËÆ≠ÁªÉ:"Basic Training",ÁÇº‰Ωì:"Body Tempering",ÊâìÂùê:"Meditation",Êé¢Á¥¢ËçíÈáé:"Explore Wilderness",Âüé‰∏≠Èó≤ÈÄõ:"Stroll in Town",ÊãúËÆøÂèã‰∫∫:"Visit Friend",Áªì‰∫§Êñ∞Âèã:"Make New Friend",‰ºëÊÅØ:"Rest",Êü•ÁúãÁä∂ÊÄÅ:"Check Status",Êé¢Á¥¢:"Exploration",Á§æ‰∫§:"Social",ÂÖ∂‰ªñ:"Other","Âê∏Êî∂ËÉΩÈáèÔºåÊèêÂçáÈò∂‰ΩçËøõÂ∫¶„ÄÇ":"Absorb energy to enhance tier progress.","Èî§ÁÇºËÇâË∫´ÔºåÂº∫Âåñ‰ΩìÈ≠Ñ„ÄÇ":"Temper the body to strengthen physique.","Á®≥ÂÆöÂøÉÊô∫ÔºåÊèêÂçáÂ∏¶ÂÆΩ„ÄÇ":"Stabilize mind to enhance bandwidth.","Êé¢Á¥¢ËçíÈáéÔºåÂØªÊâæÊú∫Áºò„ÄÇ":"Explore the wilderness to find opportunities.",ÈôÑËøëÂå∫Âüü:"Nearby Area",ËøúÊñπÂå∫Âüü:"Far Area",Âç±Èô©Âå∫Âüü:"Dangerous Area","Âú®Âüé‰∏≠Ê∏∏Ëç°ÔºåÊâìÊé¢Ê∂àÊÅØ„ÄÇ":"Wander in town to gather information.",ÂùäÂ∏Ç:"Market",ÈÖíÊ•º:"Tavern",ÂïÜÈì∫:"Shop","ÊãúËÆø‰∏Ä‰ΩçÁÜü‰∫∫„ÄÇ":"Visit an acquaintance.",ÈöèÊú∫ÊãúËÆø:"Random Visit",‰∫≤ÂØÜÂ•ΩÂèã:"Close Friend","‰∏ªÂä®Áªì‰∫§Êñ∞ÊúãÂèã„ÄÇ":"Actively make new friends.","‰ºëÊÅØÊÅ¢Â§çÁ≤æÂäõ„ÄÇ":"Rest to recover energy.","Êü•ÁúãÂΩìÂâçËØ¶ÁªÜÁä∂ÊÄÅ„ÄÇ":"Check current detailed status.",ÂÖ∂‰ªñËÆ∞ÂΩï:"Other Records",ËÆ∞ÂøÜÁ≥ªÁªüËÆæÁΩÆ:"Memory System Settings","üìñ ÂØºÂá∫‰∏∫Â∞èËØ¥":"üìñ Export as Novel","Â∞ÜÂÆåÊï¥ÁöÑÊ∏∏ÊàèÂØπËØùÂéÜÂè≤ÔºàÂü∫‰∫éÂèô‰∫ãÂéÜÂè≤ÔºâÂØºÂá∫‰∏∫Â∞èËØ¥Ê†ºÂºèÔºåÊñπ‰æøÈòÖËØªÂíåÂàÜ‰∫´„ÄÇ":"Export complete game dialogue history (based on narrative history) as novel format for easy reading and sharing.","‚öôÔ∏è ËÆ∞ÂøÜÁ≥ªÁªüÈÖçÁΩÆ":"‚öôÔ∏è Memory System Configuration","üß™ ÊµãËØï":"üß™ Test",Ê∑ªÂä†ÊµãËØï‰∏≠ÊúüËÆ∞ÂøÜ:"Add Test Medium-Term Memory",ÊµãËØï:"Test",Ê®°ÂùóÂ∫ì:"Module Library","Áü≠ÊúüËÆ∞ÂøÜ‰∏äÈôêÔºàÊù°ÔºâÔºö":"Short-Term Memory Limit (items):",ÈªòËÆ§:"Default","‰∏≠ÊúüËÆ∞ÂøÜËΩ¨ÂåñÈòàÂÄºÔºàÊù°ÔºâÔºö":"Medium-Term Memory Conversion Threshold (items):","‰∏≠ÊúüËÆ∞ÂøÜËææÂà∞Ê≠§Êï∞ÈáèÊó∂ÔºåËΩ¨Âåñ‰∏∫ÈïøÊúüËÆ∞ÂøÜ„ÄÇÈªòËÆ§Ôºö25":"When medium-term memories reach this amount, they are converted to long-term memories. Default: 25","‰∏≠ÊúüËÆ∞ÂøÜ‰øùÁïôÊï∞ÈáèÔºàÊù°ÔºâÔºö":"Medium-Term Memory Retention Count (items):","ËΩ¨Âåñ‰∏∫ÈïøÊúüËÆ∞ÂøÜÊó∂Ôºå‰øùÁïôÊúÄÊñ∞ÁöÑËøô‰πàÂ§öÊù°‰∏≠ÊúüËÆ∞ÂøÜ„ÄÇÈªòËÆ§Ôºö8":"When converting to long-term memory, retain this many of the latest medium-term memories. Default: 8",ÂêØÁî®Ëá™Âä®ËÆ∞ÂøÜËΩ¨Âåñ:"Enable Automatic Memory Conversion","ÂêØÁî®ÂêéÔºåËá™Âä®Â∞Ü‰∏≠ÊúüËÆ∞ÂøÜËΩ¨Âåñ‰∏∫ÈïøÊúüËÆ∞ÂøÜ„ÄÇÁ¶ÅÁî®Âàô‰∏çËΩ¨Âåñ„ÄÇ":"When enabled, automatically converts medium-term memories to long-term memories. If disabled, no conversion occurs.","Ëá™ÂÆö‰πâ‰∏≠ÊúüËÆ∞ÂøÜÊ†ºÂºèÔºö":"Custom Medium-Term Memory Format:","ÁïôÁ©∫‰ΩøÁî®ÈªòËÆ§Ê†ºÂºè„ÄÇÂèØËá™ÂÆö‰πâAIÊèêÁ§∫ËØçÊù•ÊéßÂà∂ËÆ∞ÂøÜÁöÑÁîüÊàêÊ†ºÂºè...":"Leave blank for default format. You can customize the AI prompt to control the generation format of memories...","Ëá™ÂÆö‰πâ‰∏≠ÊúüËÆ∞ÂøÜÁöÑAIÊèêÁ§∫ËØçÊ†ºÂºè„ÄÇÁïôÁ©∫‰ΩøÁî®Á≥ªÁªüÈªòËÆ§„ÄÇ":"Customize the AI prompt format for medium-term memories. Leave blank to use the system default.","Ëá™ÂÆö‰πâÈïøÊúüËÆ∞ÂøÜÊ†ºÂºèÔºö":"Custom Long-Term Memory Format:","Ëá™ÂÆö‰πâÈïøÊúüËÆ∞ÂøÜÁöÑAIÊèêÁ§∫ËØçÊ†ºÂºè„ÄÇÁïôÁ©∫‰ΩøÁî®Á≥ªÁªüÈªòËÆ§„ÄÇ":"Customize the AI prompt format for long-term memories. Leave blank to use the system default.","üíæ ‰øùÂ≠òÈÖçÁΩÆ":"üíæ Save Configuration",ÈáçÁΩÆ‰∏∫ÈªòËÆ§:"Reset to Default","ÂΩìÂâç‰∏≠ÊúüËÆ∞ÂøÜÔºö":"Current Medium-Term Memories:","ËææÂà∞{count}Êù°Êó∂Â∞ÜËá™Âä®Ëß¶ÂèëÊÄªÁªì":"(Summary will be triggered automatically upon reaching {count} items)",manualSummaryRequirement:"At least {count} medium-term memories are required to summarize",ÊâãÂä®Ëß¶ÂèëAIÊÄªÁªì:"Manually trigger AI summary","üìù ÊâãÂä®ÊÄªÁªì‰∏≠ÊúüËÆ∞ÂøÜ":"üìù Manually Summarize Medium-Term Memories","Ê≠£Âú®ËØªÂèñËÆ∞ÂøÜ...":"Reading memories...","Á¨¨ {currentPage} / {totalPages} È°µÔºåÂÖ± {total} Êù°ËÆ∞ÂøÜ":"Page {currentPage} / {totalPages}, {total} memories in total",firstPage:"First Page",previousPage:"Previous Page",nextPage:"Next Page",lastPage:"Last Page",page:"Page",go:"Go",deleteThisMemory:"Delete this memory",all:"All",shortTerm:"Short-Term",mediumTerm:"Medium-Term",longTerm:"Long-Term",noCultivationInsights:"Mind is as clear as a mirror, no cultivation insights recorded yet","ÊöÇÊó†{type}ËÆ∞ÂøÜ":"No {type} memories yet",mediumTermMemory:"Medium-Term Memory",longTermMemory:"Long-Term Memory",unknown:"Unknown",convertedAt:"Converted at {time}",archivedAt:"Archived at {time}",memoriesReorganized:"Memories have been reorganized, old memories have been converted",clearMemories:"Clear Memories",confirmClearMemories:"Are you sure you want to clear all memories? This action cannot be undone and will also clear the tavern data.",confirmClear:"Confirm Clear",memoriesCleared:"Memories have been cleared and synced to the tavern",clearMemoriesFailed:"Failed to clear memories, please try again",insufficientMemoriesForSummary:"Insufficient medium-term memories, at least {minRequired} items are required to summarize",deleteMemory:"Delete Memory",confirmDeleteMemory:"Are you sure you want to delete this {type}? This action cannot be undone.\n\nContent: {content}...",delete:"Delete",memoryNotFound:"Could not find the memory to delete",memoryDeleted:"Deleted {type}",deleteFailed:"Delete failed: {error}",cultivator:"Cultivator",cultivationWorld:"Cultivation World",noNarrativeHistoryToExport:"No narrative history to export",novelTitle:"„ÄäThe Cultivation Path of {characterName}„Äã",worldArchive:"World Archive",exportTime:"Export Time",totalParagraphs:"Total Paragraphs",iSaid:"I said",chapter:"Chapter",narrativeHistoryExported:"Successfully exported {count} narrative history entries",exportFailed:"Export failed, please check the console",testMemoryAdded:"‚úÖ Test memory added! Current medium-term memories: {count} items",addTestMemoryFailed:"Failed to add test memory",Á≥ªÁªüÂèóÈòª:"System Obstructed",ÈöêËóèËØ¶ÊÉÖ:"Hide Details",ÂèòÊõ¥Êó•Âøó:"Change Log","Êú¨Ê¨°Êìç‰ΩúÊ≤°Êúâ‰∫ßÁîüÂèØËßÅÁöÑÁä∂ÊÄÅÂèòÊõ¥„ÄÇ":"No visible state changes from this operation.",Âà§ÂÆöËßÑÂàôËØ¥Êòé:"Judgement Rules",Âà§ÂÆöËÆ°ÁÆóÂÖ¨Âºè:"Judgement Formula",Âà§ÂÆöÂÄº:"Judgement Value",Âà§ÂÆöÁªìÊûú:"Judgement Results",Âà§ÂÆöËßÑÂàô:"Judgement Rules","Âà§ÂÆöÂÄº ‚â• ÈöæÂ∫¶+30":"Value ‚â• Difficulty+30","Âà§ÂÆöÂÄº ‚â• ÈöæÂ∫¶+15ÔºåË∂ÖÈ¢ùÂÆåÊàê":"Value ‚â• Difficulty+15, exceeded","Âà§ÂÆöÂÄº ‚â• ÈöæÂ∫¶ÔºåËææÊàêÁõÆÊ†á":"Value ‚â• Difficulty, achieved","Âà§ÂÆöÂÄº < ÈöæÂ∫¶ÔºåÊú™ËææÊàê":"Value < Difficulty, failed","Âà§ÂÆöÂÄºËøú‰Ωé‰∫éÈöæÂ∫¶ÔºàÈöæÂ∫¶-15‰ª•‰∏ãÔºâ":"Value far below difficulty (below difficulty-15)",Âà§ÂÆöÁ±ªÂûã‰∏éÂ±ûÊÄßÈÖçÊØî:"Judgement Types & Attributes",ÊàòÊñóÂà§ÂÆö:"Combat Judgement","‰ΩìË¥®50% + ËÉΩÊ∫ê30% + ËµÑÊ∫êÊÑüÁü•20%":"Physique 50% + Energy 30% + Resource Sense 20%",ËÆ≠ÁªÉÂà§ÂÆö:"Training Judgement","ÁÆóÊ≥ï50% + ËÉΩÊ∫ê30% + ÂøÉÊô∫20%":"Algorithm 50% + Energy 30% + Mind 20%",ÊäÄËâ∫Âà§ÂÆö:"Skill Judgement","ÁÆóÊ≥ï50% + ‰ΩìË¥®30% + ËÉΩÊ∫ê20%":"Algorithm 50% + Physique 30% + Energy 20%",Á§æ‰∫§Âà§ÂÆö:"Social Judgement","È≠ÖÂäõ50% + ÁÆóÊ≥ï30% + ÂøÉÊô∫20%":"Charm 50% + Algorithm 30% + Mind 20%",Êé¢Á¥¢Âà§ÂÆö:"Exploration Judgement","ËµÑÊ∫êÊÑüÁü•50% + ËÉΩÊ∫ê30% + ÁÆóÊ≥ï20%":"Resource Sense 50% + Energy 30% + Algorithm 20%",ÂÖ≠Áª¥Â±ûÊÄßËØ¥Êòé:"Six Attributes",ÊèêÂçáÂà§ÂÆöÊàêÂäüÁéá:"Improve Success Rate","ÂàùÂßãÂÖ≠Áª¥ÔºöÂ§©ËµãÂÜ≥ÂÆö‰∏äÈôêÔºåÊó†Ê≥ïÊîπÂèò‰ΩÜÂΩ±ÂìçÊúÄÂ§ß":"Innate Attributes: Talent determines limits, unchangeable but most impactful","ÊèêÂçáÈò∂‰ΩçÔºöÈò∂‰ΩçË∂äÈ´òÔºåÂà§ÂÆöÂü∫Á°ÄÂä†ÊàêË∂äÂ§ßÔºàË°óÂå∫Á∫ß+5ÔºåÂå∫ÂüüÁ∫ß+12...Ôºâ":"Raise Rank: Higher rank gives greater base bonus (Street +5, District +12...)","ËÆ≠ÁªÉÊàêÈïøÔºöÊàêÈïøÂÖ≠Áª¥ÂèØÊèêÂçáÔºå‰ΩÜÊùÉÈáç‰ªÖ20%":"Train growth: Acquired attributes can improve, weight 20%","Âä†ËΩΩÊ®°ÂùóÔºöÈ´òÂìÅË¥®Ê®°ÂùóÂíåÊäÄËÉΩÁÜüÁªÉÂ∫¶Êèê‰æõÊòæËëóÂä†Êàê":"Load modules: High-quality modules and proficiency provide significant bonuses","Ë£ÖÂ§áÈÉ®‰ª∂ÔºöÂêàÈÄÇÁöÑË£ÖÂ§áËÉΩÂ§ßÂπÖÊèêÂçáÂà§ÂÆöÂÄº":"Equip gear: Proper equipment greatly increases judgement value","Áä∂ÊÄÅÊïàÊûúÔºöbuffÂ¢ûÂº∫Âà§ÂÆöÔºåÊ≥®ÊÑèÈÅøÂÖçdebuff":"Status Effects: Buffs enhance judgement, avoid debuffs","Èò∂‰ΩçÂéãÂà∂ÔºöÈ´òÈò∂‰ΩçÂØπ‰ΩéÈò∂‰ΩçÊúâÊòéÊòæ‰ºòÂäøÔºå‰ΩÜ‰∏çÊòØÁªùÂØπ":"Rank Suppression: Higher rank has advantage, but not absolute",ÈÄ†Êàê‰º§ÂÆ≥:"Damage Dealt",Ââ©‰ΩôÁîüÂëΩÂÄº:"Remaining HP",Á≥ªÁªüÊèêÁ§∫:"System Notice","Ê†πÊçÆÂà§ÂÆöÁ±ªÂûãÂä†ÊùÉÔºàÊàòÊñóÔºö‰ΩìË¥®50%+ËÉΩÊ∫ê30%+ËµÑÊ∫êÊÑüÁü•20%ÔºåËÆ≠ÁªÉÔºöÁÆóÊ≥ï50%+ËÉΩÊ∫ê30%+ÂøÉÊô∫20%Ôºâ":"Weighted by judgement type (Combat: Physique 50%+Energy 30%+Resource Sense 20%, Training: Algorithm 50%+Energy 30%+Mind 20%)","ÂØπÂ∫îÊàêÈïøÂÖ≠Áª¥Âä†ÊùÉ √∑ 5":"Corresponding acquired attributes weighted √∑ 5","Ë°óÂå∫Á∫ß5 | Âå∫ÂüüÁ∫ß12 | ÂüéÂ∏ÇÁ∫ß20 | Ê†∏ÂøÉÁ∫ß30...ÔºàÈò∂ÊÆµÔºöÂàùÊúü+0Ôºå‰∏≠Êúü+2ÔºåÂêéÊúü+4ÔºåÂúÜÊª°+6Ôºâ":"Street 5 | District 12 | City 20 | Core 30... (Stage: Early +0, Mid +2, Late +4, Perfect +6)",Ë£ÖÂ§áÊèê‰æõÁöÑÂä†Êàê:"Equipment bonuses","Ê®°ÂùóÂìÅË¥®+ÁÜüÁªÉÂ∫¶":"Module quality + proficiency","buff/debuffÊïàÊûú":"Buff/debuff effects","Âà§ÂÆöÂÄº‰∏éÈöæÂ∫¶ÂØπÊØîÔºåÂÆåÂÖ®Âü∫‰∫éÂ±ûÊÄß„ÄÅÈò∂‰ΩçÂíåÂä†Êàê":"Judgement value vs difficulty, based on attributes, tier and bonuses"};function l(){return{t:(e,t)=>{let n="zh"===i.value?e:s[e]||e;if(t)for(const e in t)n=n.replace(`{${e}}`,String(t[e]));return n},currentLanguage:i,setLanguage:e=>{i.value=e,localStorage.setItem("language",e)}}}},920:(e,t,n)=>{"use strict";var a=n(9675),r=n(8859),o=n(4803),i=n(507),s=n(2271)||i||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+r(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=s()),e.set(t,n)}};return t}},1002:e=>{"use strict";e.exports=Function.prototype.apply},1021:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.raw-data-section[data-v-2cab0dce] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-2cab0dce] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-2cab0dce] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.raw-data-content[data-v-2cab0dce] {\n  flex: 1;\n  overflow: hidden;\n}\n.data-display[data-v-2cab0dce] {\n  height: 100%;\n  overflow: hidden;\n}\n.code-pre[data-v-2cab0dce] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  height: 100%;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.empty-state[data-v-2cab0dce] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n\n/* ÊâãÊú∫Á´ØÈÄÇÈÖç */\n@media (max-width: 640px) {\n.raw-data-section[data-v-2cab0dce] {\n    padding: 0.75rem;\n}\n.section-title[data-v-2cab0dce] {\n    font-size: 1rem;\n    text-align: center;\n}\n.code-pre[data-v-2cab0dce] {\n    font-size: 0.75rem;\n    padding: 0.5rem;\n}\n.empty-state[data-v-2cab0dce] {\n    padding: 2rem 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.raw-data-section[data-v-2cab0dce] {\n    padding: 0.5rem;\n}\n.section-title[data-v-2cab0dce] {\n    font-size: 0.9rem;\n}\n.code-pre[data-v-2cab0dce] {\n    font-size: 0.7rem;\n    padding: 0.4rem;\n}\n}\n",""]);const s=i},1039:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.sect-panel[data-v-e874c8ec] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n}\n.panel-content[data-v-e874c8ec] {\n  flex: 1;\n  overflow: hidden;\n}\n.sect-container[data-v-e874c8ec] {\n  height: 100%;\n  display: flex;\n  background: var(--color-surface);\n  overflow: hidden;\n}\n.sect-list[data-v-e874c8ec] {\n  width: 280px; /* Á™Ñ‰∏ÄÁÇπ */\n  border-right: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n}\n.list-header[data-v-e874c8ec] {\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.panel-title[data-v-e874c8ec] {\n  margin: 0 0 1rem 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-primary);\n  text-align: center;\n}\n.search-bar[data-v-e874c8ec] {\n  position: relative;\n  display: flex;\n  align-items: center;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 0.5rem;\n}\n.search-bar svg[data-v-e874c8ec] {\n  color: var(--color-text-secondary);\n  margin-right: 0.5rem;\n}\n.search-input[data-v-e874c8ec] {\n  flex: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: var(--color-text);\n  font-size: 0.875rem;\n}\n.list-content[data-v-e874c8ec] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.loading-state[data-v-e874c8ec], .empty-state[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-e874c8ec] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.empty-text[data-v-e874c8ec] {\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.empty-hint[data-v-e874c8ec] {\n  font-size: 0.8rem;\n  opacity: 0.8;\n}\n.empty-actions[data-v-e874c8ec] {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.empty-action-btn[data-v-e874c8ec] {\n  padding: 0.4rem 0.75rem;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.15s ease;\n  font-size: 0.85rem;\n}\n.empty-action-btn[data-v-e874c8ec]:hover {\n  transform: translateY(-1px);\n  border-color: var(--color-primary);\n}\n.empty-action-btn.primary[data-v-e874c8ec] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: #fff;\n}\n.empty-action-btn.primary[data-v-e874c8ec]:hover {\n  filter: brightness(1.05);\n}\n.empty-prompt-hint[data-v-e874c8ec] {\n  margin-top: 0.75rem;\n  font-size: 0.8rem;\n  opacity: 0.8;\n}\n.empty-prompt-hint code[data-v-e874c8ec] {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;\n  padding: 0.1rem 0.35rem;\n  border-radius: 6px;\n  background: rgba(99, 102, 241, 0.12);\n  border: 1px solid rgba(99, 102, 241, 0.2);\n}\n.sect-list-content[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.sect-card[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.sect-card[data-v-e874c8ec]:hover {\n  border-color: #9333ea;\n  box-shadow: 0 2px 8px rgba(147, 51, 234, 0.1);\n  transform: translateY(-1px);\n}\n.sect-card.selected[data-v-e874c8ec] {\n  background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(168, 85, 247, 0.1));\n  border-color: #9333ea;\n  box-shadow: 0 4px 12px rgba(147, 51, 234, 0.15);\n}\n.sect-card.can-join[data-v-e874c8ec] {\n  border-left: 3px solid #22c55e;\n}\n.sect-icon[data-v-e874c8ec] {\n  position: relative;\n  margin-right: 0.75rem;\n  flex-shrink: 0;\n}\n.sect-emoji[data-v-e874c8ec] {\n  font-size: 2rem;\n  display: block;\n}\n.sect-level[data-v-e874c8ec] {\n  position: absolute;\n  bottom: -2px;\n  right: -2px;\n  padding: 1px 4px;\n  border-radius: 8px;\n  font-size: 0.6rem;\n  font-weight: 700;\n  color: white;\n}\n.level-‰∏ÄÊµÅ[data-v-e874c8ec] { background: #ef4444;\n}\n.level-‰∫åÊµÅ[data-v-e874c8ec] { background: #f59e0b;\n}\n.level-‰∏âÊµÅ[data-v-e874c8ec] { background: #3b82f6;\n}\n.level-Êú´ÊµÅ[data-v-e874c8ec] { background: #6b7280;\n}\n.sect-info[data-v-e874c8ec] {\n  flex: 1;\n  min-width: 0;\n}\n.sect-name[data-v-e874c8ec] {\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.25rem;\n  font-size: 1rem;\n}\n.sect-meta[data-v-e874c8ec] {\n  margin-bottom: 0.5rem;\n}\n.sect-type[data-v-e874c8ec] {\n  background: rgba(147, 51, 234, 0.1);\n  color: #9333ea;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.sect-stats[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.member-count[data-v-e874c8ec] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-weight: 500;\n}\n\\n/* .power-rating removed */\\n.arrow-icon[data-v-e874c8ec] {\n  color: var(--color-border-hover);\n  transition: transform 0.2s;\n}\n.sect-card.selected .arrow-icon[data-v-e874c8ec] {\n  transform: rotate(90deg);\n  color: #9333ea;\n}\n.sect-detail[data-v-e874c8ec] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n.detail-content[data-v-e874c8ec] {\n  height: 100%;\n  padding: 1rem;\n  overflow-y: auto;\n}\n.detail-header[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.detail-icon[data-v-e874c8ec] {\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #9333ea, #7c3aed);\n  flex-shrink: 0;\n  box-shadow: 0 4px 16px rgba(147, 51, 234, 0.3);\n}\n.sect-emoji-large[data-v-e874c8ec] {\n  font-size: 2rem;\n}\n.detail-info[data-v-e874c8ec] {\n  flex: 1;\n}\n.detail-name[data-v-e874c8ec] {\n  margin: 0 0 0.5rem 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.detail-badges[data-v-e874c8ec] {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.type-badge[data-v-e874c8ec], .level-badge[data-v-e874c8ec] {\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.type-badge.type-righteous[data-v-e874c8ec] { background: rgba(59, 130, 246, 0.1); color: #3b82f6;\n}\n.type-badge.type-demonic[data-v-e874c8ec] { background: rgba(239, 68, 68, 0.1); color: #ef4444;\n}\n.type-badge.type-neutral[data-v-e874c8ec] { background: rgba(107, 114, 128, 0.1); color: #6b7280;\n}\n.type-badge.type-merchant[data-v-e874c8ec] { background: rgba(245, 158, 11, 0.1); color: #f59e0b;\n}\n.type-badge.type-family[data-v-e874c8ec] { background: rgba(34, 197, 94, 0.1); color: #22c55e;\n}\n.type-badge.type-alliance[data-v-e874c8ec] { background: rgba(168, 85, 247, 0.1); color: #a855f7;\n}\n.level-badge[data-v-e874c8ec] { background: rgba(168, 85, 247, 0.1); color: #a855f7;\n}\n.detail-body[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.detail-section[data-v-e874c8ec] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n}\n.section-title[data-v-e874c8ec] {\n  margin: 0 0 1rem 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;            /* ÂõæÊ†á‰∏éÊ†áÈ¢òÂêå‰∏ÄË°å */\n  align-items: center;      /* ÂûÇÁõ¥Â±Ö‰∏≠ÂØπÈΩê */\n  gap: 8px;                 /* ÂõæÊ†á‰∏éÊñáÂ≠óÈó¥Ë∑ù */\n}\n.section-title svg[data-v-e874c8ec] {\n  flex-shrink: 0;           /* Èò≤Ê≠¢ÂõæÊ†áË¢´ÂéãÁº©Êç¢Ë°å */\n}\n.info-grid[data-v-e874c8ec] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n  margin-bottom: 1rem;\n}\n.info-item[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.info-label[data-v-e874c8ec] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-value[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.sect-description[data-v-e874c8ec] {\n  margin-top: 1rem;\n}\n.desc-title[data-v-e874c8ec] {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.desc-text[data-v-e874c8ec] {\n  margin: 0;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: var(--color-text-secondary);\n}\n.sect-specialties[data-v-e874c8ec] {\n  margin-top: 1rem;\n}\n.specialties-title[data-v-e874c8ec] {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.specialties-tags[data-v-e874c8ec] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.specialty-tag[data-v-e874c8ec] {\n  background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(147, 51, 234, 0.1));\n  color: #9333ea;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(147, 51, 234, 0.2);\n}\n.member-overview[data-v-e874c8ec] {\n  text-align: center;\n  margin-bottom: 1.5rem;\n}\n.total-members[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.25rem;\n}\n.total-number[data-v-e874c8ec] {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #9333ea;\n}\n.total-label[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.member-breakdown[data-v-e874c8ec] {\n  margin-bottom: 1.5rem;\n}\n.breakdown-title[data-v-e874c8ec] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.realm-stats[data-v-e874c8ec], .position-stats[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.realm-stat[data-v-e874c8ec], .position-stat[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.realm-name[data-v-e874c8ec], .position-name[data-v-e874c8ec] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  min-width: 60px;\n}\n.realm-bar[data-v-e874c8ec], .position-bar[data-v-e874c8ec] {\n  flex: 1;\n  height: 6px;\n  background: var(--color-border);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.realm-fill[data-v-e874c8ec] {\n  height: 100%;\n  background: linear-gradient(90deg, #9333ea, #7c3aed);\n  transition: width 0.3s ease;\n}\n.position-fill[data-v-e874c8ec] {\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n  transition: width 0.3s ease;\n}\n.realm-count[data-v-e874c8ec], .position-count[data-v-e874c8ec] {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: var(--color-text);\n  min-width: 30px;\n  text-align: right;\n}\n.relationship-info[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.relationship-item[data-v-e874c8ec] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.relationship-label[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.relationship-value[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.reputation-value[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.reputation-level[data-v-e874c8ec] {\n  font-size: 0.75rem;\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n}\n.reputation-legendary[data-v-e874c8ec] {\n  color: #f59e0b;\n}\n.reputation-legendary .reputation-level[data-v-e874c8ec] {\n  background: rgba(245, 158, 11, 0.1);\n  color: #f59e0b;\n  border: 1px solid rgba(245, 158, 11, 0.2);\n}\n.reputation-excellent[data-v-e874c8ec] {\n  color: #8b5cf6;\n}\n.reputation-excellent .reputation-level[data-v-e874c8ec] {\n  background: rgba(139, 92, 246, 0.1);\n  color: #8b5cf6;\n  border: 1px solid rgba(139, 92, 246, 0.2);\n}\n.reputation-good[data-v-e874c8ec] {\n  color: #3b82f6;\n}\n.reputation-good .reputation-level[data-v-e874c8ec] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.reputation-fair[data-v-e874c8ec] {\n  color: #22c55e;\n}\n.reputation-fair .reputation-level[data-v-e874c8ec] {\n  background: rgba(34, 197, 94, 0.1);\n  color: #22c55e;\n  border: 1px solid rgba(34, 197, 94, 0.2);\n}\n.reputation-low[data-v-e874c8ec] {\n  color: #6b7280;\n}\n.reputation-low .reputation-level[data-v-e874c8ec] {\n  background: rgba(107, 114, 128, 0.1);\n  color: #6b7280;\n  border: 1px solid rgba(107, 114, 128, 0.2);\n}\n.reputation-none[data-v-e874c8ec] {\n  color: var(--color-text-secondary);\n}\n.reputation-none .reputation-level[data-v-e874c8ec] {\n  background: rgba(var(--color-text-secondary-rgb), 0.1);\n  color: var(--color-text-secondary);\n  border: 1px solid rgba(var(--color-text-secondary-rgb), 0.2);\n}\n.join-requirements[data-v-e874c8ec] {\n  margin-bottom: 1rem;\n}\n.requirements-list[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.requirement-item[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.requirement-icon[data-v-e874c8ec] {\n  color: #22c55e;\n}\n.requirement-text[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.no-requirements[data-v-e874c8ec] {\n  text-align: center;\n  padding: 1rem;\n  color: var(--color-text-secondary);\n}\n.join-benefits[data-v-e874c8ec] {\n  margin-bottom: 1rem;\n}\n.benefits-title[data-v-e874c8ec] {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.benefits-list[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.benefit-item[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.benefit-icon[data-v-e874c8ec] {\n  color: #3b82f6;\n}\n.benefit-text[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.join-actions[data-v-e874c8ec] {\n  text-align: center;\n}\n.join-btn[data-v-e874c8ec] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: linear-gradient(135deg, #22c55e, #16a34a);\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-size: 0.875rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.join-btn[data-v-e874c8ec]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);\n}\n.current-member-info[data-v-e874c8ec] {\n  margin-bottom: 1.5rem;\n}\n.member-status[data-v-e874c8ec] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n}\n.member-actions[data-v-e874c8ec] {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 0.75rem;\n}\n.leave-btn[data-v-e874c8ec] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  background: linear-gradient(135deg, #ef4444, #dc2626);\n  border: none;\n  border-radius: 6px;\n  color: white;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.leave-btn[data-v-e874c8ec]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\n}\n.status-item[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.status-label[data-v-e874c8ec] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.status-value[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.status-value.position[data-v-e874c8ec] {\n  color: #9333ea;\n}\n.status-value.contribution[data-v-e874c8ec] {\n  color: #f59e0b;\n}\n.status-value.reputation[data-v-e874c8ec] {\n  color: #3b82f6;\n}\n.sect-actions[data-v-e874c8ec] {\n  margin-top: 1rem;\n}\n.actions-title[data-v-e874c8ec] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.action-buttons[data-v-e874c8ec] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 0.5rem;\n}\n.sect-action-btn[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 0.75rem 0.5rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.75rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-align: center;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.sect-action-btn[data-v-e874c8ec]:hover {\n  border-color: #9333ea;\n  background: rgba(147, 51, 234, 0.05);\n}\n.no-selection[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.placeholder-icon[data-v-e874c8ec] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.placeholder-text[data-v-e874c8ec] {\n  font-size: 1rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.placeholder-hint[data-v-e874c8ec] {\n  font-size: 0.85rem;\n  opacity: 0.8;\n}\n\n/* ÂäøÂäõËåÉÂõ¥Áõ∏ÂÖ≥Ê†∑Âºè */\n.territory-info[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n/* ÊàêÂëòÁªüËÆ°Ê†∑Âºè */\n.member-stats[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.total-members[data-v-e874c8ec] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.1);\n}\n.total-label[data-v-e874c8ec] {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.total-value[data-v-e874c8ec] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.distribution-title[data-v-e874c8ec] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.realm-stats[data-v-e874c8ec], .position-stats[data-v-e874c8ec] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  gap: 0.5rem;\n  max-height: none; /* ÂÖÅËÆ∏ÂÆåÊï¥ÊòæÁ§∫ */\n}\n.realm-item[data-v-e874c8ec], .position-item[data-v-e874c8ec] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.realm-item[data-v-e874c8ec]:hover, .position-item[data-v-e874c8ec]:hover {\n  background: var(--color-surface);\n  border-color: rgba(var(--color-primary-rgb), 0.2);\n}\n.realm-name[data-v-e874c8ec], .position-name[data-v-e874c8ec] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.realm-count[data-v-e874c8ec], .position-count[data-v-e874c8ec] {\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n\n/* ÁªÑÁªáÈ¢ÜÂØºÂ±ÇÊ†∑Âºè */\n.leadership-info[data-v-e874c8ec] {\n  margin-top: 1.5rem;\n  padding: 1rem;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.1);\n}\n.leadership-title[data-v-e874c8ec] {\n  margin: 0 0 1rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.leader-grid[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-bottom: 1rem;\n}\n.leader-item[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.leader-item.primary-leader[data-v-e874c8ec] {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.05));\n  border-color: rgba(var(--color-primary-rgb), 0.3);\n}\n.leader-role[data-v-e874c8ec] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.1);\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  min-width: 3rem;\n  text-align: center;\n}\n.leader-name[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.leader-realm[data-v-e874c8ec] {\n  font-size: 0.75rem;\n  color: var(--color-accent);\n  background: rgba(var(--color-accent-rgb), 0.1);\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n  margin-left: auto;\n}\n.sect-strength[data-v-e874c8ec] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  background: rgba(var(--color-success-rgb), 0.05);\n  border-radius: 6px;\n  border: 1px solid rgba(var(--color-success-rgb), 0.1);\n}\n.strength-item[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.25rem;\n}\n.strength-label[data-v-e874c8ec] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.strength-value[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.strength-value.peak-power[data-v-e874c8ec] {\n  color: var(--color-accent);\n  text-shadow: 0 0 4px rgba(var(--color-accent-rgb), 0.3);\n}\n.strength-value.power-rating[data-v-e874c8ec] {\n  color: var(--color-primary);\n  font-weight: 700;\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.05));\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.power-level[data-v-e874c8ec] {\n  font-size: 0.75rem;\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n}\n.power-legendary[data-v-e874c8ec] {\n  color: #dc2626 !important;\n  border-color: rgba(220, 38, 38, 0.3) !important;\n  background: linear-gradient(135deg, rgba(220, 38, 38, 0.1), rgba(239, 68, 68, 0.05)) !important;\n}\n.power-legendary .power-level[data-v-e874c8ec] {\n  background: rgba(220, 38, 38, 0.1);\n  color: #dc2626;\n  border: 1px solid rgba(220, 38, 38, 0.2);\n}\n.power-supreme[data-v-e874c8ec] {\n  color: #7c3aed !important;\n  border-color: rgba(124, 58, 237, 0.3) !important;\n  background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(139, 92, 246, 0.05)) !important;\n}\n.power-supreme .power-level[data-v-e874c8ec] {\n  background: rgba(124, 58, 237, 0.1);\n  color: #7c3aed;\n  border: 1px solid rgba(124, 58, 237, 0.2);\n}\n.power-strong[data-v-e874c8ec] {\n  color: #2563eb !important;\n  border-color: rgba(37, 99, 235, 0.3) !important;\n  background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(59, 130, 246, 0.05)) !important;\n}\n.power-strong .power-level[data-v-e874c8ec] {\n  background: rgba(37, 99, 235, 0.1);\n  color: #2563eb;\n  border: 1px solid rgba(37, 99, 235, 0.2);\n}\n.power-good[data-v-e874c8ec] {\n  color: #059669 !important;\n  border-color: rgba(5, 150, 105, 0.3) !important;\n  background: linear-gradient(135deg, rgba(5, 150, 105, 0.1), rgba(16, 185, 129, 0.05)) !important;\n}\n.power-good .power-level[data-v-e874c8ec] {\n  background: rgba(5, 150, 105, 0.1);\n  color: #059669;\n  border: 1px solid rgba(5, 150, 105, 0.2);\n}\n.power-average[data-v-e874c8ec] {\n  color: #d97706 !important;\n  border-color: rgba(217, 119, 6, 0.3) !important;\n  background: linear-gradient(135deg, rgba(217, 119, 6, 0.1), rgba(245, 158, 11, 0.05)) !important;\n}\n.power-average .power-level[data-v-e874c8ec] {\n  background: rgba(217, 119, 6, 0.1);\n  color: #d97706;\n  border: 1px solid rgba(217, 119, 6, 0.2);\n}\n.power-weak[data-v-e874c8ec] {\n  color: #6b7280 !important;\n  border-color: rgba(107, 114, 128, 0.3) !important;\n  background: linear-gradient(135deg, rgba(107, 114, 128, 0.1), rgba(156, 163, 175, 0.05)) !important;\n}\n.power-weak .power-level[data-v-e874c8ec] {\n  background: rgba(107, 114, 128, 0.1);\n  color: #6b7280;\n  border: 1px solid rgba(107, 114, 128, 0.2);\n}\n.power-poor[data-v-e874c8ec] {\n  color: var(--color-text-secondary) !important;\n  border-color: rgba(var(--color-text-secondary-rgb), 0.3) !important;\n  background: linear-gradient(135deg, rgba(var(--color-text-secondary-rgb), 0.1), rgba(var(--color-text-secondary-rgb), 0.05)) !important;\n}\n.power-poor .power-level[data-v-e874c8ec] {\n  background: rgba(var(--color-text-secondary-rgb), 0.1);\n  color: var(--color-text-secondary);\n  border: 1px solid rgba(var(--color-text-secondary-rgb), 0.2);\n}\n.influence-description[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  line-height: 1.5;\n}\n.controlled-areas[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.areas-list[data-v-e874c8ec] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.area-tag[data-v-e874c8ec] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.1));\n  color: #3b82f6;\n  padding: 0.25rem 0.5rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.strategic-value[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.value-display[data-v-e874c8ec] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.value-bar[data-v-e874c8ec] {\n  flex: 1;\n  height: 8px;\n  background: var(--color-border);\n  border-radius: 4px;\n  overflow: hidden;\n}\n.value-fill[data-v-e874c8ec] {\n  height: 100%;\n  background: linear-gradient(90deg, #22c55e, #16a34a);\n  transition: width 0.3s ease;\n}\n.value-text[data-v-e874c8ec] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n  min-width: 40px;\n}\n\n/* ÂõûÈÄÄÊòæÁ§∫Ê†∑Âºè */\n.fallback-leadership[data-v-e874c8ec] {\n  padding: 1rem;\n  background: rgba(var(--color-warning-rgb), 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(var(--color-warning-rgb), 0.1);\n}\n.leadership-description[data-v-e874c8ec] {\n  margin: 0 0 1rem 0;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: var(--color-text-secondary);\n}\n\n/* Êï∞ÊçÆÁº∫Â§±ÊèêÁ§∫Ê†∑Âºè */\n.missing-data-notice[data-v-e874c8ec] {\n  background: rgba(var(--color-warning-rgb), 0.05);\n  border: 1px solid rgba(var(--color-warning-rgb), 0.2);\n  border-radius: 8px;\n  padding: 1rem;\n  margin-top: 1rem;\n}\n.notice-title[data-v-e874c8ec] {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-warning);\n}\n.notice-content[data-v-e874c8ec] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.notice-text[data-v-e874c8ec] {\n  margin: 0;\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.notice-hint[data-v-e874c8ec] {\n  margin: 0;\n  font-size: 0.8rem;\n  color: var(--color-text-tertiary);\n  opacity: 0.8;\n}\n.animate-spin[data-v-e874c8ec] {\n  animation: spin-e874c8ec 1s linear infinite;\n}\n@keyframes spin-e874c8ec {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n@media (max-width: 640px) {\n.sect-panel[data-v-e874c8ec] {\n    padding: 0;\n}\n.panel-content[data-v-e874c8ec] {\n    padding: 0;\n}\n.sect-container[data-v-e874c8ec] {\n    flex-direction: column;\n    border-radius: 0;\n    border: none;\n}\n.sect-list[data-v-e874c8ec] {\n    width: 100%;\n    height: 30vh;\n    min-height: 250px;\n    max-height: 350px;\n    border-right: none;\n    border-bottom: 1px solid var(--color-border);\n}\n.list-header[data-v-e874c8ec] {\n    padding: 1rem;\n    position: sticky;\n    top: 0;\n    z-index: 100;\n    background: var(--color-surface);\n}\n.panel-title[data-v-e874c8ec] {\n    font-size: 1.1rem;\n    margin-bottom: 0.75rem;\n}\n.search-bar[data-v-e874c8ec] {\n    padding: 0.5rem;\n}\n.search-input[data-v-e874c8ec] {\n    font-size: 0.9rem;\n}\n.list-content[data-v-e874c8ec] {\n    padding: 0.5rem;\n}\n.sect-card[data-v-e874c8ec] {\n    padding: 0.75rem;\n    margin-bottom: 0.5rem;\n}\n.sect-name[data-v-e874c8ec] {\n    font-size: 0.95rem;\n}\n.sect-type[data-v-e874c8ec] {\n    font-size: 0.7rem;\n    padding: 1px 6px;\n}\n\n  /* .power-rating removed */\n.sect-detail[data-v-e874c8ec] {\n    flex: 1;\n    min-height: 0;\n    overflow-y: auto;\n}\n.detail-content[data-v-e874c8ec] {\n    padding: 0.75rem;\n    height: auto;\n}\n.detail-header[data-v-e874c8ec] {\n    margin-bottom: 1rem;\n    padding-bottom: 0.5rem;\n}\n.detail-icon[data-v-e874c8ec] {\n    width: 40px;\n    height: 40px;\n}\n.sect-emoji-large[data-v-e874c8ec] {\n    font-size: 1.25rem;\n}\n.detail-name[data-v-e874c8ec] {\n    font-size: 1rem;\n}\n.info-grid[data-v-e874c8ec] {\n    grid-template-columns: 1fr;\n    gap: 0.5rem;\n}\n.member-status[data-v-e874c8ec] {\n    grid-template-columns: 1fr;\n    gap: 0.5rem;\n}\n.action-buttons[data-v-e874c8ec] {\n    grid-template-columns: repeat(2, 1fr);\n    gap: 0.4rem;\n}\n.sect-action-btn[data-v-e874c8ec] {\n    padding: 0.6rem 0.4rem;\n    font-size: 0.75rem;\n    justify-content: center;\n    white-space: normal; /* ÂÖÅËÆ∏ÊñáÊú¨Êç¢Ë°å */\n    height: 100%; /* Á°Æ‰øùÊåâÈíÆÂú®Êç¢Ë°åÂêéÈ´òÂ∫¶‰∏ÄËá¥ */\n}\n.detail-section[data-v-e874c8ec] {\n    padding: 0.6rem;\n    margin-bottom: 0.75rem;\n}\n.section-title[data-v-e874c8ec] {\n    font-size: 0.8rem;\n    margin-bottom: 0.5rem;\n    padding-bottom: 0.4rem;\n}\n.realm-stats[data-v-e874c8ec], .position-stats[data-v-e874c8ec] {\n    grid-template-columns: 1fr;\n    gap: 0.5rem;\n}\n.leader-grid[data-v-e874c8ec] {\n    gap: 0.5rem;\n}\n.leader-item[data-v-e874c8ec] {\n    padding: 0.5rem;\n}\n.leader-role[data-v-e874c8ec] {\n    font-size: 0.7rem;\n    padding: 0.2rem 0.4rem;\n    min-width: 2.5rem;\n}\n.leader-name[data-v-e874c8ec] {\n    font-size: 0.8rem;\n}\n.leader-realm[data-v-e874c8ec] {\n    font-size: 0.7rem;\n}\n}\n",""]);const s=i},1040:(e,t,n)=>{"use strict";function a(){const e=document;return document.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null}function r(){try{return window.self!==window.top}catch{return!0}}async function o(e){const t=e||document.documentElement;if(!t)throw new Error("No element to request fullscreen.");if("function"!=typeof t.requestFullscreen)if("function"!=typeof t.webkitRequestFullscreen)if("function"!=typeof t.mozRequestFullScreen){if("function"!=typeof t.msRequestFullscreen)throw new Error("Fullscreen API not supported in this browser/environment.");await t.msRequestFullscreen()}else await t.mozRequestFullScreen();else await t.webkitRequestFullscreen();else await t.requestFullscreen()}async function i(){const e=document;if("function"!=typeof document.exitFullscreen)if("function"!=typeof e.webkitExitFullscreen)if("function"!=typeof e.mozCancelFullScreen){if("function"!=typeof e.msExitFullscreen)throw new Error("Exit fullscreen not supported in this browser/environment.");await e.msExitFullscreen()}else await e.mozCancelFullScreen();else await e.webkitExitFullscreen();else await document.exitFullscreen()}function s(e){const t=e,n=String(t?.name||""),a=String(t?.message||""),o=("undefined"!=typeof navigator?navigator.userAgent:"").toLowerCase(),i=/iphone|ipad|ipod/.test(o),s=o.includes("safari")&&!o.includes("crios")&&!o.includes("fxios")&&!o.includes("edgios");return"TypeError"===n?"ÂΩìÂâçÊµèËßàÂô®/ÁéØÂ¢É‰∏çÊîØÊåÅÂÖ®Â±è APIÔºàiOS Safari ÁΩëÈ°µÈÄöÂ∏∏Êó†Ê≥ïÂÖ®Â±èÔºõÂµåÂÖ•ÂºèWebView‰πüÂèØËÉΩÁ¶ÅÁî®Ôºâ„ÄÇ":a.toLowerCase().includes("not supported")||a.toLowerCase().includes("not supported in this browser")?r()?'ÂµåÂÖ•ÁéØÂ¢ÉÂèØËÉΩ‰∏çÊîØÊåÅÊàñÊú™ÂÖÅËÆ∏ÂÖ®Â±èÔºàÈúÄË¶Å allowfullscreen / allow="fullscreen"Ôºâ„ÄÇÂª∫ËÆÆÂú®ÊµèËßàÂô®Êñ∞Ê†áÁ≠æÊâìÂºÄÂÜçÂÖ®Â±è„ÄÇ':i&&s?"iOS Safari ÁΩëÈ°µÈÄöÂ∏∏Êó†Ê≥ïËøõÂÖ•ÂÖ®Â±èÔºàÈô§ËßÜÈ¢ëÊí≠ÊîæÂô®Ôºâ„ÄÇÂª∫ËÆÆ‰ΩøÁî®ÂÖ∂‰ªñÊµèËßàÂô®Êàñ‰ª•‚ÄúÊ∑ªÂä†Âà∞‰∏ªÂ±èÂπï/PWA‚ÄùÊñπÂºèÊâìÂºÄ„ÄÇ":"ÂΩìÂâçÊµèËßàÂô®/ÁéØÂ¢É‰∏çÊîØÊåÅÂÖ®Â±è API„ÄÇ":"NotAllowedError"===n||"SecurityError"===n?r()?'ÂΩìÂâç‰∏∫ÂµåÂÖ•ÁéØÂ¢ÉÔºåiframe ÂèØËÉΩÊú™ÂÖÅËÆ∏ÂÖ®Â±èÔºàÈúÄË¶Å allowfullscreen / allow="fullscreen"Ôºâ„ÄÇÂª∫ËÆÆÂú®ÊµèËßàÂô®Êñ∞Ê†áÁ≠æÊâìÂºÄÂÜçÂÖ®Â±è„ÄÇ':"ÊµèËßàÂô®ÈòªÊ≠¢ËøõÂÖ•ÂÖ®Â±èÔºöÈúÄË¶ÅÁî®Êà∑ÊâãÂäøËß¶ÂèëÔºåÊàñÁ´ôÁÇπÊùÉÈôêÁ≠ñÁï•Á¶ÅÊ≠¢„ÄÇ":a.toLowerCase().includes("fullscreen")?`ÂÖ®Â±èÂ§±Ë¥•Ôºö${a}`:"Êó†Ê≥ïËøõÂÖ•ÂÖ®Â±èÊ®°ÂºèÔºàÂèØËÉΩË¢´ÊµèËßàÂô®ÊàñÂµåÂÖ•ÁéØÂ¢ÉÈôêÂà∂Ôºâ„ÄÇ"}n.d(t,{Eh:()=>i,Kn:()=>a,lh:()=>o,zp:()=>s})},1064:(e,t,n)=>{"use strict";var a=n(9612);e.exports=a.getPrototypeOf||null},1083:(e,t,n)=>{"use strict";n.d(t,{A:()=>yt});var a={};function r(e,t){return function(){return e.apply(t,arguments)}}n.r(a),n.d(a,{hasBrowserEnv:()=>pe,hasStandardBrowserEnv:()=>he,hasStandardBrowserWebWorkerEnv:()=>fe,navigator:()=>ge,origin:()=>ve});const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,{iterator:s,toStringTag:l}=Symbol,c=(d=Object.create(null),e=>{const t=o.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),m=e=>t=>typeof t===e,{isArray:p}=Array,g=m("undefined");function h(e){return null!==e&&!g(e)&&null!==e.constructor&&!g(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const f=u("ArrayBuffer"),v=m("string"),b=m("function"),y=m("number"),x=e=>null!==e&&"object"==typeof e,k=e=>{if("object"!==c(e))return!1;const t=i(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||l in e||s in e)},w=u("Date"),E=u("File"),N=u("Blob"),S=u("FileList"),_=u("URLSearchParams"),[V,C,A,D]=["ReadableStream","Request","Response","Headers"].map(u);function T(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let a,r;if("object"!=typeof e&&(e=[e]),p(e))for(a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else{if(h(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let i;for(a=0;a<o;a++)i=r[a],t.call(null,e[i],i,e)}}function B(e,t){if(h(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,M=e=>!g(e)&&e!==I,z=(P="undefined"!=typeof Uint8Array&&i(Uint8Array),e=>P&&e instanceof P);var P;const R=u("HTMLFormElement"),$=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),O=u("RegExp"),L=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};T(n,(n,r)=>{let o;!1!==(o=t(n,r,e))&&(a[r]=o||n)}),Object.defineProperties(e,a)},F=u("AsyncFunction"),j=(U="function"==typeof setImmediate,q=b(I.postMessage),U?setImmediate:q?(G=`axios@${Math.random()}`,H=[],I.addEventListener("message",({source:e,data:t})=>{e===I&&t===G&&H.length&&H.shift()()},!1),e=>{H.push(e),I.postMessage(G,"*")}):e=>setTimeout(e));var U,q,G,H;const Y="undefined"!=typeof queueMicrotask?queueMicrotask.bind(I):"undefined"!=typeof process&&process.nextTick||j,W={isArray:p,isArrayBuffer:f,isBuffer:h,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||b(e.append)&&("formdata"===(t=c(e))||"object"===t&&b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:v,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:x,isPlainObject:k,isEmptyObject:e=>{if(!x(e)||h(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:V,isRequest:C,isResponse:A,isHeaders:D,isUndefined:g,isDate:w,isFile:E,isBlob:N,isRegExp:O,isFunction:b,isStream:e=>x(e)&&b(e.pipe),isURLSearchParams:_,isTypedArray:z,isFileList:S,forEach:T,merge:function e(){const{caseless:t,skipUndefined:n}=M(this)&&this||{},a={},r=(r,o)=>{const i=t&&B(a,o)||o;k(a[i])&&k(r)?a[i]=e(a[i],r):k(r)?a[i]=e({},r):p(r)?a[i]=r.slice():n&&g(r)||(a[i]=r)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&T(arguments[e],r);return a},extend:(e,t,n,{allOwnKeys:a}={})=>(T(t,(t,a)=>{n&&b(t)?e[a]=r(t,n):e[a]=t},{allOwnKeys:a}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,o,s;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],a&&!a(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&i(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!y(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[s]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:R,hasOwnProperty:$,hasOwnProp:$,reduceDescriptors:L,freezeMethods:e=>{L(e,(t,n)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];b(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return p(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:B,global:I,isContextDefined:M,isSpecCompliantForm:function(e){return!!(e&&b(e.append)&&"FormData"===e[l]&&e[s])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(x(e)){if(t.indexOf(e)>=0)return;if(h(e))return e;if(!("toJSON"in e)){t[a]=e;const r=p(e)?[]:{};return T(e,(e,t)=>{const o=n(e,a+1);!g(o)&&(r[t]=o)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:F,isThenable:e=>e&&(x(e)||b(e))&&b(e.then)&&b(e.catch),setImmediate:j,asap:Y,isIterable:e=>null!=e&&b(e[s])};function X(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}W.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const J=X.prototype,K={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{K[e]={value:e}}),Object.defineProperties(X,K),Object.defineProperty(J,"isAxiosError",{value:!0}),X.from=(e,t,n,a,r,o)=>{const i=Object.create(J);W.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return X.call(i,s,l,n,a,r),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const Z=X;function Q(e){return W.isPlainObject(e)||W.isArray(e)}function ee(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function te(e,t,n){return e?e.concat(t).map(function(e,t){return e=ee(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const ne=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)}),ae=function(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!W.isUndefined(t[e])})).metaTokens,r=n.visitor||c,o=n.dots,i=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(W.isBoolean(e))return e.toString();if(!s&&W.isBlob(e))throw new Z("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let s=e;if(e&&!r&&"object"==typeof e)if(W.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some(Q)}(e)||(W.isFileList(e)||W.endsWith(n,"[]"))&&(s=W.toArray(e)))return n=ee(n),s.forEach(function(e,a){!W.isUndefined(e)&&null!==e&&t.append(!0===i?te([n],a,o):null===i?n:n+"[]",l(e))}),!1;return!!Q(e)||(t.append(te(r,n,o),l(e)),!1)}const d=[],u=Object.assign(ne,{defaultVisitor:c,convertValue:l,isVisitable:Q});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!W.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),W.forEach(n,function(n,o){!0===(!(W.isUndefined(n)||null===n)&&r.call(t,n,W.isString(o)?o.trim():o,a,u))&&e(n,a?a.concat(o):[o])}),d.pop()}}(e),t};function re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function oe(e,t){this._pairs=[],e&&ae(e,this,t)}const ie=oe.prototype;ie.append=function(e,t){this._pairs.push([e,t])},ie.toString=function(e){const t=e?function(t){return e.call(this,t,re)}:re;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const se=oe;function le(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ce(e,t,n){if(!t)return e;const a=n&&n.encode||le;W.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(o=r?r(t,n):W.isURLSearchParams(t)?t.toString():new se(t,n).toString(a),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const de=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(t){null!==t&&e(t)})}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},me={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:se,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},pe="undefined"!=typeof window&&"undefined"!=typeof document,ge="object"==typeof navigator&&navigator||void 0,he=pe&&(!ge||["ReactNative","NativeScript","NS"].indexOf(ge.product)<0),fe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ve=pe&&window.location.href||"http://localhost",be={...a,...me},ye=function(e){function t(e,n,a,r){let o=e[r++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),s=r>=e.length;return o=!o&&W.isArray(a)?a.length:o,s?(W.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!i):(a[o]&&W.isObject(a[o])||(a[o]=[]),t(e,n,a[o],r)&&W.isArray(a[o])&&(a[o]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let o;for(a=0;a<r;a++)o=n[a],t[o]=e[o];return t}(a[o])),!i)}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,(e,a)=>{t(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null},xe={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=W.isObject(e);if(r&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return a?JSON.stringify(ye(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ae(e,new be.classes.URLSearchParams,{visitor:function(e,t,n,a){return be.isNode&&W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((o=W.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ae(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e){if(W.isString(e))try{return(0,JSON.parse)(e),W.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||xe.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(e){if(n){if("SyntaxError"===e.name)throw Z.from(e,Z.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{xe.headers[e]={}});const ke=xe,we=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ee=Symbol("internals");function Ne(e){return e&&String(e).trim().toLowerCase()}function Se(e){return!1===e||null==e?e:W.isArray(e)?e.map(Se):String(e)}function _e(e,t,n,a,r){return W.isFunction(a)?a.call(this,t,n):(r&&(t=n),W.isString(t)?W.isString(a)?-1!==t.indexOf(a):W.isRegExp(a)?a.test(t):void 0:void 0)}class Ve{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Ne(t);if(!r)throw new Error("header name must be a non-empty string");const o=W.findKey(a,r);(!o||void 0===a[o]||!0===n||void 0===n&&!1!==a[o])&&(a[o||t]=Se(e))}const o=(e,t)=>W.forEach(e,(e,n)=>r(e,n,t));if(W.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(W.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&we[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(W.isObject(e)&&W.isIterable(e)){let n,a,r={};for(const t of e){if(!W.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?W.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Ne(e)){const n=W.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(W.isFunction(t))return t.call(this,e,n);if(W.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ne(e)){const n=W.findKey(this,e);return!(!n||void 0===this[n]||t&&!_e(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Ne(e)){const r=W.findKey(n,e);!r||t&&!_e(0,n[r],r,t)||(delete n[r],a=!0)}}return W.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!_e(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return W.forEach(this,(a,r)=>{const o=W.findKey(n,r);if(o)return t[o]=Se(a),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();i!==r&&delete t[r],t[i]=Se(a),n[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return W.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&W.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[Ee]=this[Ee]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Ne(e);t[a]||(function(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return W.isArray(e)?e.forEach(a):a(e),this}}Ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(Ve.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),W.freezeMethods(Ve);const Ce=Ve;function Ae(e,t){const n=this||ke,a=t||n,r=Ce.from(a.headers);let o=a.data;return W.forEach(e,function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function De(e){return!(!e||!e.__CANCEL__)}function Te(e,t,n){Z.call(this,null==e?"canceled":e,Z.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(Te,Z,{__CANCEL__:!0});const Be=Te;function Ie(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Me=(e,t,n=3)=>{let a=0;const r=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,o=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=a[i];r||(r=l),n[o]=s,a[o]=l;let d=i,u=0;for(;d!==o;)u+=n[d++],d%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-r<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(e,t){let n,a,r=0,o=1e3/t;const i=(t,o=Date.now())=>{r=o,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-r;s>=o?i(e,t):(n=e,a||(a=setTimeout(()=>{a=null,i(n)},o-s)))},()=>n&&i(n)]}(n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,s=o-a,l=r(s);a=o,e({loaded:o,total:i,progress:i?o/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&o<=i?(i-o)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},ze=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Pe=e=>(...t)=>W.asap(()=>e(...t)),Re=be.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,be.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,$e=be.hasStandardBrowserEnv?{write(e,t,n,a,r,o){const i=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),W.isString(a)&&i.push("path="+a),W.isString(r)&&i.push("domain="+r),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Oe(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Le=e=>e instanceof Ce?{...e}:e;function Fe(e,t){t=t||{};const n={};function a(e,t,n,a){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:a},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function r(e,t,n,r){return W.isUndefined(t)?W.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function o(e,t){if(!W.isUndefined(t))return a(void 0,t)}function i(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function s(n,r,o){return o in t?a(n,r):o in e?a(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>r(Le(e),Le(t),0,!0)};return W.forEach(Object.keys({...e,...t}),function(a){const o=l[a]||r,i=o(e[a],t[a],a);W.isUndefined(i)&&o!==s||(n[a]=i)}),n}const je=e=>{const t=Fe({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:s}=t;if(t.headers=i=Ce.from(i),t.url=ce(Oe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),W.isFormData(n))if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&i.set(e,n)})}if(be.hasStandardBrowserEnv&&(a&&W.isFunction(a)&&(a=a(t)),a||!1!==a&&Re(t.url))){const e=r&&o&&$e.read(o);e&&i.set(r,e)}return t},Ue="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=je(e);let r=a.data;const o=Ce.from(a.headers).normalize();let i,s,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=a;function g(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let h=new XMLHttpRequest;function f(){if(!h)return;const a=Ce.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Ie(function(e){t(e),g()},function(e){n(e),g()},{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:a,config:e,request:h}),h=null}h.open(a.method.toUpperCase(),a.url,!0),h.timeout=a.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(n(new Z("Request aborted",Z.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new Z(a,Z.ERR_NETWORK,e,h);r.event=t||null,n(r),h=null},h.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||ue;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new Z(t,r.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,h)),h=null},void 0===r&&o.setContentType(null),"setRequestHeader"in h&&W.forEach(o.toJSON(),function(e,t){h.setRequestHeader(t,e)}),W.isUndefined(a.withCredentials)||(h.withCredentials=!!a.withCredentials),u&&"json"!==u&&(h.responseType=a.responseType),p&&([l,d]=Me(p,!0),h.addEventListener("progress",l)),m&&h.upload&&([s,c]=Me(m),h.upload.addEventListener("progress",s),h.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{h&&(n(!t||t.type?new Be(null,e,h):t),h.abort(),h=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);v&&-1===be.protocols.indexOf(v)?n(new Z("Unsupported protocol "+v+":",Z.ERR_BAD_REQUEST,e)):h.send(r||null)})},qe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof Z?t:new Be(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,r(new Z(`timeout ${t} of ms exceeded`,Z.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:s}=a;return s.unsubscribe=()=>W.asap(i),s}},Ge=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},He=(e,t,n,a)=>{const r=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*Ge(n,t)}(e,t);let o,i=0,s=e=>{o||(o=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return s(),void e.close();let o=a.byteLength;if(n){let e=i+=o;n(e)}e.enqueue(new Uint8Array(a))}catch(e){throw s(e),e}},cancel:e=>(s(e),r.return())},{highWaterMark:2})},{isFunction:Ye}=W,We=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:Xe,TextEncoder:Je}=W.global,Ke=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Ze=e=>{e=W.merge.call({skipUndefined:!0},We,e);const{fetch:t,Request:n,Response:a}=e,r=t?Ye(t):"function"==typeof fetch,o=Ye(n),i=Ye(a);if(!r)return!1;const s=r&&Ye(Xe),l=r&&("function"==typeof Je?(c=new Je,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=o&&s&&Ke(()=>{let e=!1;const t=new n(be.origin,{body:new Xe,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&s&&Ke(()=>W.isReadableStream(new a("").body)),m={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new Z(`Response type '${e}' is not supported`,Z.ERR_NOT_SUPPORT,n)})});return async e=>{let{url:r,method:i,data:s,signal:c,cancelToken:p,timeout:g,onDownloadProgress:h,onUploadProgress:f,responseType:v,headers:b,withCredentials:y="same-origin",fetchOptions:x}=je(e),k=t||fetch;v=v?(v+"").toLowerCase():"text";let w=qe([c,p&&p.toAbortSignal()],g),E=null;const N=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let S;try{if(f&&d&&"get"!==i&&"head"!==i&&0!==(S=await(async(e,t)=>{const a=W.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e)){const t=new n(be.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return W.isArrayBufferView(e)||W.isArrayBuffer(e)?e.byteLength:(W.isURLSearchParams(e)&&(e+=""),W.isString(e)?(await l(e)).byteLength:void 0)})(t):a})(b,s))){let e,t=new n(r,{method:"POST",body:s,duplex:"half"});if(W.isFormData(s)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=ze(S,Me(Pe(f)));s=He(t.body,65536,e,n)}}W.isString(y)||(y=y?"include":"omit");const t=o&&"credentials"in n.prototype,c={...x,signal:w,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:s,duplex:"half",credentials:t?y:void 0};E=o&&new n(r,c);let p=await(o?k(E,x):k(r,c));const g=u&&("stream"===v||"response"===v);if(u&&(h||g&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=p[t]});const t=W.toFiniteNumber(p.headers.get("content-length")),[n,r]=h&&ze(t,Me(Pe(h),!0))||[];p=new a(He(p.body,65536,n,()=>{r&&r(),N&&N()}),e)}v=v||"text";let _=await m[W.findKey(m,v)||"text"](p,e);return!g&&N&&N(),await new Promise((t,n)=>{Ie(t,n,{data:_,headers:Ce.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:E})})}catch(t){if(N&&N(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new Z("Network Error",Z.ERR_NETWORK,e,E),{cause:t.cause||t});throw Z.from(t,t&&t.code,e,E)}}},Qe=new Map,et=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,o=[a,r,n];let i,s,l=o.length,c=Qe;for(;l--;)i=o[l],s=c.get(i),void 0===s&&c.set(i,s=l?new Map:Ze(t)),c=s;return s},tt=(et(),{http:null,xhr:Ue,fetch:{get:et}});W.forEach(tt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const nt=e=>`- ${e}`,at=e=>W.isFunction(e)||null===e||!1===e,rt=(e,t)=>{e=W.isArray(e)?e:[e];const{length:n}=e;let a,r;const o={};for(let i=0;i<n;i++){let n;if(a=e[i],r=a,!at(a)&&(r=tt[(n=String(a)).toLowerCase()],void 0===r))throw new Z(`Unknown adapter '${n}'`);if(r&&(W.isFunction(r)||(r=r.get(t))))break;o[n||"#"+i]=r}if(!r){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let t=n?e.length>1?"since :\n"+e.map(nt).join("\n"):" "+nt(e[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function ot(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Be(null,e)}function it(e){return ot(e),e.headers=Ce.from(e.headers),e.data=Ae.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rt(e.adapter||ke.adapter,e)(e).then(function(t){return ot(e),t.data=Ae.call(e,e.transformResponse,t),t.headers=Ce.from(t.headers),t},function(t){return De(t)||(ot(e),t&&t.response&&(t.response.data=Ae.call(e,e.transformResponse,t.response),t.response.headers=Ce.from(t.response.headers))),Promise.reject(t)})}const st="1.12.2",lt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ct={};lt.transitional=function(e,t,n){function a(e,t){return"[Axios v"+st+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,o)=>{if(!1===e)throw new Z(a(r," has been removed"+(t?" in "+t:"")),Z.ERR_DEPRECATED);return t&&!ct[r]&&(ct[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},lt.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const dt={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const o=a[r],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new Z("option "+o+" must be "+n,Z.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Z("Unknown option "+o,Z.ERR_BAD_OPTION)}},validators:lt},ut=dt.validators;class mt{constructor(e){this.defaults=e||{},this.interceptors={request:new de,response:new de}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Fe(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&dt.assertOptions(n,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),null!=a&&(W.isFunction(a)?t.paramsSerializer={serialize:a}:dt.assertOptions(a,{encode:ut.function,serialize:ut.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),dt.assertOptions(t,{baseUrl:ut.spelling("baseURL"),withXsrfToken:ut.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&W.merge(r.common,r[t.method]);r&&W.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Ce.concat(o,r);const i=[];let s=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!s){const e=[it.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(e){t.call(this,e);break}}try{c=it.call(this,m)}catch(e){return Promise.reject(e)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ce(Oe((e=Fe(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(e){mt.prototype[e]=function(t,n){return this.request(Fe(n||{},{method:e,url:t,data:(n||{}).data}))}}),W.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(Fe(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}mt.prototype[e]=t(),mt.prototype[e+"Form"]=t(!0)});const pt=mt;class gt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new Be(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new gt(function(t){e=t}),cancel:e}}}const ht=gt,ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ft).forEach(([e,t])=>{ft[t]=e});const vt=ft,bt=function e(t){const n=new pt(t),a=r(pt.prototype.request,n);return W.extend(a,pt.prototype,n,{allOwnKeys:!0}),W.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(Fe(t,n))},a}(ke);bt.Axios=pt,bt.CanceledError=Be,bt.CancelToken=ht,bt.isCancel=De,bt.VERSION=st,bt.toFormData=ae,bt.AxiosError=Z,bt.Cancel=bt.CanceledError,bt.all=function(e){return Promise.all(e)},bt.spread=function(e){return function(t){return e.apply(null,t)}},bt.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},bt.mergeConfig=Fe,bt.AxiosHeaders=Ce,bt.formToJSON=e=>ye(W.isHTMLForm(e)?new FormData(e):e),bt.getAdapter=rt,bt.HttpStatusCode=vt,bt.default=bt;const yt=bt},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1153:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.overlay[data-v-a2196f8c] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  z-index: 2000;\n}\n.modal[data-v-a2196f8c] {\n  width: min(980px, 100%);\n  max-height: 85vh;\n  overflow: hidden;\n  border-radius: 14px;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  background: rgba(15, 23, 42, 0.92);\n  box-shadow: 0 25px 60px rgba(0, 0, 0, 0.55);\n  color: #e2e8f0;\n  display: flex;\n  flex-direction: column;\n}\n.header[data-v-a2196f8c] {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: 1rem;\n  padding: 1rem 1.25rem;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n}\n.title h3[data-v-a2196f8c] {\n  margin: 0;\n  font-size: 1.2rem;\n}\n.subtitle[data-v-a2196f8c] {\n  margin: 0.35rem 0 0;\n  color: rgba(148, 163, 184, 0.95);\n  font-size: 0.92rem;\n}\n.icon-btn[data-v-a2196f8c] {\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  background: rgba(30, 41, 59, 0.55);\n  color: #e2e8f0;\n  width: 34px;\n  height: 34px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.1rem;\n}\n.body[data-v-a2196f8c] {\n  display: grid;\n  grid-template-columns: 340px 1fr;\n  gap: 0;\n  min-height: 0;\n  flex: 1;\n}\n.left[data-v-a2196f8c] {\n  border-right: 1px solid rgba(255, 255, 255, 0.08);\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n}\n.left-actions[data-v-a2196f8c] {\n  padding: 0.9rem 0.9rem 0.75rem;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n}\n.rule-list[data-v-a2196f8c] {\n  padding: 0.75rem;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  overflow: auto;\n  min-height: 0;\n}\n.rule-item[data-v-a2196f8c] {\n  border: 1px solid rgba(255, 255, 255, 0.10);\n  background: rgba(30, 41, 59, 0.40);\n  border-radius: 12px;\n  padding: 10px 10px;\n  cursor: pointer;\n  text-align: left;\n  color: inherit;\n}\n.rule-item.active[data-v-a2196f8c] {\n  border-color: rgba(147, 197, 253, 0.28);\n  background: rgba(51, 65, 85, 0.45);\n}\n.rule-row[data-v-a2196f8c] {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  margin-bottom: 6px;\n}\n.rule-badge[data-v-a2196f8c] {\n  font-size: 0.75rem;\n  padding: 2px 8px;\n  border-radius: 999px;\n  border: 1px solid rgba(34, 197, 94, 0.30);\n  color: rgba(34, 197, 94, 0.95);\n}\n.rule-badge.off[data-v-a2196f8c] {\n  border-color: rgba(148, 163, 184, 0.25);\n  color: rgba(148, 163, 184, 0.95);\n}\n.rule-mode[data-v-a2196f8c] {\n  font-size: 0.75rem;\n  color: rgba(148, 163, 184, 0.95);\n}\n.rule-pattern[data-v-a2196f8c] {\n  font-size: 0.9rem;\n  color: #e2e8f0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.rule-repl[data-v-a2196f8c] {\n  margin-top: 4px;\n  font-size: 0.82rem;\n  color: rgba(148, 163, 184, 0.95);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.right[data-v-a2196f8c] {\n  padding: 1rem 1.25rem;\n  overflow: auto;\n  min-height: 0;\n}\n.editor[data-v-a2196f8c] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.editor-row[data-v-a2196f8c] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.editor-row-vertical[data-v-a2196f8c] {\n  align-items: flex-start;\n  flex-direction: column;\n}\n.label[data-v-a2196f8c] {\n  width: 90px;\n  color: rgba(148, 163, 184, 0.95);\n  font-size: 0.9rem;\n}\n.select[data-v-a2196f8c] {\n  width: 220px;\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  background: rgba(30, 41, 59, 0.55);\n  color: #e2e8f0;\n  padding: 10px 12px;\n}\n.textarea[data-v-a2196f8c] {\n  width: 100%;\n  border-radius: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  background: rgba(30, 41, 59, 0.40);\n  color: #e2e8f0;\n  padding: 10px 12px;\n  resize: vertical;\n}\n.hint[data-v-a2196f8c] {\n  margin-top: 8px;\n  color: rgba(148, 163, 184, 0.95);\n  font-size: 0.9rem;\n}\n.hint code[data-v-a2196f8c] {\n  padding: 1px 6px;\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  border-radius: 6px;\n  background: rgba(30, 41, 59, 0.6);\n}\n.options[data-v-a2196f8c] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12px 16px;\n  padding: 0.5rem 0;\n}\n.opt[data-v-a2196f8c] {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  color: rgba(226, 232, 240, 0.95);\n}\n.opt.disabled[data-v-a2196f8c] {\n  opacity: 0.6;\n}\n.error[data-v-a2196f8c] {\n  padding: 10px 12px;\n  border-radius: 12px;\n  border: 1px solid rgba(239, 68, 68, 0.25);\n  background: rgba(127, 29, 29, 0.25);\n  color: rgba(254, 202, 202, 0.95);\n}\n.editor-actions[data-v-a2196f8c] {\n  display: flex;\n  gap: 10px;\n  padding-top: 6px;\n}\n.footer[data-v-a2196f8c] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  padding: 1rem 1.25rem;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n}\n.btn[data-v-a2196f8c] {\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  background: rgba(30, 41, 59, 0.55);\n  color: #e2e8f0;\n  padding: 10px 12px;\n  border-radius: 12px;\n  cursor: pointer;\n}\n.btn[data-v-a2196f8c]:hover {\n  background: rgba(51, 65, 85, 0.75);\n}\n.btn[data-v-a2196f8c]:disabled {\n  opacity: 0.55;\n  cursor: not-allowed;\n}\n.btn-secondary[data-v-a2196f8c] {\n  background: rgba(30, 41, 59, 0.40);\n}\n.btn-danger[data-v-a2196f8c] {\n  border-color: rgba(239, 68, 68, 0.25);\n}\n.btn-danger[data-v-a2196f8c]:hover {\n  background: rgba(127, 29, 29, 0.35);\n  border-color: rgba(239, 68, 68, 0.45);\n}\n.empty[data-v-a2196f8c] {\n  color: rgba(148, 163, 184, 0.95);\n  padding: 2rem 1rem;\n}\n@media (max-width: 900px) {\n.body[data-v-a2196f8c] {\n    grid-template-columns: 1fr;\n}\n.left[data-v-a2196f8c] {\n    border-right: none;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n}\n}\n",""]);const s=i},1184:(e,t,n)=>{"use strict";n.d(t,{useGameStateStore:()=>l});var a=n(810),r=n(2224),o=n(8651),i=n(6585),s=n(4530);const l=(0,a.nY)("gameState",{state:()=>({saveMeta:null,onlineState:null,userSettings:null,character:null,attributes:null,location:null,inventory:null,equipment:null,relationships:null,worldInfo:null,factionSystem:null,factionMemberInfo:null,memory:null,gameTime:null,narrativeHistory:[],isGameLoaded:!1,protocolSystem:null,eventSystem:{ÈÖçÁΩÆ:{ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""},‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥:null,‰∫ã‰ª∂ËÆ∞ÂΩï:[]},trainingProgram:null,training:null,programSystem:null,skillState:null,effects:[],masteredSkills:null,systemConfig:null,body:null,bodyPartDevelopment:null,timeBasedSaveEnabled:!1,timeBasedSaveInterval:10,lastTimeBasedSave:null,conversationAutoSaveEnabled:!0}),actions:{async loadGame(e,t){console.log(`[GameState] Loading game for character ${e}, slot ${t}`);const{useCharacterStore:a}=await Promise.resolve().then(n.bind(n,4582)),r=a();if(!r.rootState.ËßíËâ≤ÂàóË°®[e])return void console.error(`[GameState] Character ${e} not found`);const o=await r.loadSaveData(e,t);o?(this.loadFromSaveData(o),console.log("[GameState] Game loaded successfully")):console.error(`[GameState] No save data found for character ${e}, slot ${t}`)},async saveGame(){if(!this.isGameLoaded)return void console.warn("[GameState] Game not loaded, skipping save.");console.log("[GameState] Saving game state...");const{useCharacterStore:e}=await Promise.resolve().then(n.bind(n,4582)),t=e();await t.saveCurrentGame(),console.log("[GameState] Game saved successfully")},loadFromSaveData(e){const t=(0,s.kY)(e)?(0,s.OP)(e):(0,s.ru)(e)?e:(0,s.jj)(e).migrated,n=e=>JSON.parse(JSON.stringify(e));this.saveMeta=t?.ÂÖÉÊï∞ÊçÆ?n(t.ÂÖÉÊï∞ÊçÆ):null,this.onlineState=t?.Á≥ªÁªü?.ËÅîÊú∫?n(t.Á≥ªÁªü.ËÅîÊú∫):null,this.userSettings=t?.Á≥ªÁªü?.ËÆæÁΩÆ?n(t.Á≥ªÁªü.ËÆæÁΩÆ):null;const a=(e,t)=>{if(!e||"object"!=typeof e)return;const n=e[t];if(null!=n)if("string"!=typeof n){if("object"==typeof n){const a=String(n.quality??n.ÂìÅË¥®??n.ÂìÅÈò∂??"");if(!a)return;e[t]=a.endsWith("ÂìÅ")?a:`${a}ÂìÅ`}}else n&&!n.endsWith("ÂìÅ")&&(e[t]=`${n}ÂìÅ`)},r=t?.ËßíËâ≤?.Ë∫´‰ªΩ?n(t.ËßíËâ≤.Ë∫´‰ªΩ):null,l=t?.ËßíËâ≤?.Â±ûÊÄß?n(t.ËßíËâ≤.Â±ûÊÄß):null,c=t?.ËßíËâ≤?.‰ΩçÁΩÆ?n(t.ËßíËâ≤.‰ΩçÁΩÆ):null;c&&"ËÅîÊú∫"===this.onlineState?.Ê®°Âºè&&(delete c.x,delete c.y);const d=t?.ËßíËâ≤?.ËÉåÂåÖ?n(t.ËßíËâ≤.ËÉåÂåÖ):null,u=t?.ËßíËâ≤?.Ë£ÖÂ§á?n(t.ËßíËâ≤.Ë£ÖÂ§á):null,m=t?.Á§æ‰∫§?.ÂÖ≥Á≥ª?n(t.Á§æ‰∫§.ÂÖ≥Á≥ª):null,p=t?.‰∏ñÁïå?.‰ø°ÊÅØ?n(t.‰∏ñÁïå.‰ø°ÊÅØ):null,g=t?.Á§æ‰∫§?.ÁªÑÁªá?n(t.Á§æ‰∫§.ÁªÑÁªá):null,h=t?.Á§æ‰∫§?.ÁªÑÁªá?.ÊàêÂëò‰ø°ÊÅØ?n(t.Á§æ‰∫§.ÁªÑÁªá.ÊàêÂëò‰ø°ÊÅØ):null,f=t?.Á§æ‰∫§?.ËÆ∞ÂøÜ?n(t.Á§æ‰∫§.ËÆ∞ÂøÜ):null,v=t?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥?n(t.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥):null,b=Array.isArray(t?.Á≥ªÁªü?.ÂéÜÂè≤?.Âèô‰∫ã)?n(t.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã):[],y=t?.ËßíËâ≤?.ÊµÅÊ¥æ?n(t.ËßíËâ≤.ÊµÅÊ¥æ):null,x=t?.Á§æ‰∫§?.‰∫ã‰ª∂?n(t.Á§æ‰∫§.‰∫ã‰ª∂):null,k=t?.ËßíËâ≤?.ËÆ≠ÁªÉ?n(t.ËßíËâ≤.ËÆ≠ÁªÉ):null,w=t?.ËßíËâ≤?.Á®ãÂ∫è?n(t.ËßíËâ≤.Á®ãÂ∫è):null,E=t?.ËßíËâ≤?.ÊäÄËÉΩ?n(t.ËßíËâ≤.ÊäÄËÉΩ):null,N=Array.isArray(t?.ËßíËâ≤?.ÊïàÊûú)?n(t.ËßíËâ≤.ÊïàÊûú):[],S=t?.Á≥ªÁªü?.ÈÖçÁΩÆ?n(t.Á≥ªÁªü.ÈÖçÁΩÆ):null,_=t?.ËßíËâ≤?.Ë∫´‰Ωì?n(t.ËßíËâ≤.Ë∫´‰Ωì):null;let V=_&&"object"==typeof _&&_.ÈÉ®‰ΩçÂºÄÂèë?n(_.ÈÉ®‰ΩçÂºÄÂèë):null;if(this.character=r,this.attributes=l,this.location=c,this.character?.ÊîπÈÄ†Ê†∏ÂøÉ&&"object"==typeof this.character.ÊîπÈÄ†Ê†∏ÂøÉ&&a(this.character.ÊîπÈÄ†Ê†∏ÂøÉ,"tier"),this.attributes?.Èò∂‰Ωç&&"object"==typeof this.attributes.Èò∂‰Ωç&&(a(this.attributes.Èò∂‰Ωç,"ÂìÅË¥®"),a(this.attributes.Èò∂‰Ωç,"ÂìÅÈò∂")),this.inventory=d,this.equipment=u,this.relationships=m,this.worldInfo=p,this.factionSystem=g,this.factionMemberInfo=h,this.memory=f,this.gameTime=v,this.narrativeHistory=b,this.protocolSystem=y?n(y):null,this.eventSystem=x?n(x):{ÈÖçÁΩÆ:{ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""},‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥:null,‰∫ã‰ª∂ËÆ∞ÂΩï:[]},this.training=k?n(k):null,this.trainingProgram=this.training?.ËÆ≠ÁªÉÁ®ãÂ∫è??null,this.programSystem=w?n(w):null,this.skillState=E?n(E):null,this.masteredSkills=this.skillState?.ÊéåÊè°ÊäÄËÉΩ?n(this.skillState.ÊéåÊè°ÊäÄËÉΩ):n(t?.Á≥ªÁªü?.ÁºìÂ≠ò?.ÊéåÊè°ÊäÄËÉΩ??[]),this.effects=Array.isArray(N)?n(N):[],this.systemConfig=S?n(S):null,(0,o.isTavernEnv)()&&this.systemConfig&&(this.systemConfig=(0,i.Md)(this.systemConfig)),(0,o.isTavernEnv)()){const e=_&&"object"==typeof _?n(_):{};void 0===e.ÈÉ®‰Ωç&&(e.ÈÉ®‰Ωç={}),void 0===e.ÈÉ®‰ΩçÂºÄÂèë&&(e.ÈÉ®‰ΩçÂºÄÂèë=V??{}),V=e.ÈÉ®‰ΩçÂºÄÂèë??V,this.body=e}else this.body=_&&"object"==typeof _?n(_):null;this.bodyPartDevelopment=V?n(V):null,this.skillState||(this.skillState={ÊéåÊè°ÊäÄËÉΩ:this.masteredSkills??[],Ë£ÖÂ§áÊ†è:[],ÂÜ∑Âç¥:{}}),this.training||(this.training={ËÆ≠ÁªÉÁ®ãÂ∫è:this.trainingProgram??null}),this.isGameLoaded=!0},toSaveData(){const e=[];if(this.character||e.push("character"),this.attributes||e.push("attributes"),this.location||e.push("location"),this.inventory||e.push("inventory"),this.relationships||e.push("relationships"),this.memory||e.push("memory"),this.gameTime||e.push("gameTime"),this.equipment||e.push("equipment"),e.length>0)return console.error("[gameStateStore.toSaveData] Â≠òÊ°£Êï∞ÊçÆ‰∏çÂÆåÊï¥ÔºåÁº∫Â∞ë‰ª•‰∏ãÂ≠óÊÆµ:",e.join(", ")),console.error("[gameStateStore.toSaveData] ËÅîÊú∫Áä∂ÊÄÅ:",this.onlineState),console.error("[gameStateStore.toSaveData] Ê∏∏ÊàèÊòØÂê¶Â∑≤Âä†ËΩΩ:",this.isGameLoaded),null;const t=e=>JSON.parse(JSON.stringify(e)),n=function(e){const t={},n=e?.Áâ©ÂìÅ||{};return Object.values(n).forEach(e=>{if("Á®ãÂ∫è"!==e?.Á±ªÂûã)return;const n=e.Áâ©ÂìÅID;n&&(t[n]={ÁÜüÁªÉÂ∫¶:Number(e.ËÆ≠ÁªÉËøõÂ∫¶??e.ÁÜüÁªÉÂ∫¶??0),Â∑≤Ëß£ÈîÅÊäÄËÉΩ:Array.isArray(e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ)?e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ:[]})}),t}(this.inventory),a=this.trainingProgram?.Áâ©ÂìÅID??null,r={...this.programSystem||{},ÂΩìÂâçÁ®ãÂ∫èID:this.programSystem?.ÂΩìÂâçÁ®ãÂ∫èID??a,Á®ãÂ∫èËøõÂ∫¶:this.programSystem?.Á®ãÂ∫èËøõÂ∫¶??n,Á®ãÂ∫èÂ•óË£Ö:this.programSystem?.Á®ãÂ∫èÂ•óË£Ö??{‰∏ª‰øÆ:null,ËæÖ‰øÆ:[]}},i={...this.skillState||{},ÊéåÊè°ÊäÄËÉΩ:this.skillState?.ÊéåÊè°ÊäÄËÉΩ??this.masteredSkills??[],Ë£ÖÂ§áÊ†è:this.skillState?.Ë£ÖÂ§áÊ†è??[],ÂÜ∑Âç¥:this.skillState?.ÂÜ∑Âç¥??{}},s={...this.training||{},ËÆ≠ÁªÉÁ®ãÂ∫è:this.training?.ËÆ≠ÁªÉÁ®ãÂ∫è??this.trainingProgram??null},l=(new Date).toISOString(),c={...this.saveMeta||{},ÁâàÊú¨Âè∑:3,Â≠òÊ°£ID:this.saveMeta?.Â≠òÊ°£ID??`save_${Date.now()}`,Â≠òÊ°£Âêç:this.saveMeta?.Â≠òÊ°£Âêç??"Ëá™Âä®Â≠òÊ°£",Ê∏∏ÊàèÁâàÊú¨:this.saveMeta?.Ê∏∏ÊàèÁâàÊú¨,ÂàõÂª∫Êó∂Èó¥:this.saveMeta?.ÂàõÂª∫Êó∂Èó¥??l,Êõ¥Êñ∞Êó∂Èó¥:l,Ê∏∏ÊàèÊó∂ÈïøÁßí:Number(this.saveMeta?.Ê∏∏ÊàèÊó∂ÈïøÁßí??0),Êó∂Èó¥:this.gameTime},d=this.protocolSystem&&"object"==typeof this.protocolSystem&&this.protocolSystem.ÊµÅÊ¥æÂàóË°®?this.protocolSystem:{ÊµÅÊ¥æÂàóË°®:{}},u=this.factionSystem||this.factionMemberInfo?{...this.factionSystem||{},...this.factionMemberInfo?{ÊàêÂëò‰ø°ÊÅØ:this.factionMemberInfo}:{}}:null,m=this.userSettings??{timeBasedSaveEnabled:this.timeBasedSaveEnabled,timeBasedSaveInterval:this.timeBasedSaveInterval,conversationAutoSaveEnabled:this.conversationAutoSaveEnabled},p=this.onlineState??{Ê®°Âºè:"ÂçïÊú∫",ÊàøÈó¥ID:null,Áé©ÂÆ∂ID:null,Âè™ËØªË∑ØÂæÑ:["‰∏ñÁïå"],‰∏ñÁïåÊõùÂÖâ:!1,ÂÜ≤Á™ÅÁ≠ñÁï•:"ÊúçÂä°Âô®"},g=t(this.location);g&&"ËÅîÊú∫"===p?.Ê®°Âºè&&(delete g.x,delete g.y);const h=(()=>{const e=this.body&&"object"==typeof this.body?t(this.body):{};return this.bodyPartDevelopment&&"object"==typeof this.bodyPartDevelopment&&(e.ÈÉ®‰ΩçÂºÄÂèë=t(this.bodyPartDevelopment)),(0,o.isTavernEnv)()&&(void 0===e.ÈÉ®‰Ωç&&(e.ÈÉ®‰Ωç={}),void 0===e.ÈÉ®‰ΩçÂºÄÂèë&&(e.ÈÉ®‰ΩçÂºÄÂèë={})),Object.keys(e).length>0?e:void 0})(),f={ÂÖÉÊï∞ÊçÆ:c,ËßíËâ≤:{Ë∫´‰ªΩ:this.character,Â±ûÊÄß:this.attributes,‰ΩçÁΩÆ:g,ÊïàÊûú:this.effects??[],Ë∫´‰Ωì:h,ËÉåÂåÖ:this.inventory,Ë£ÖÂ§á:this.equipment,Á®ãÂ∫è:r,ËÆ≠ÁªÉ:s,ÊµÅÊ¥æ:d,ÊäÄËÉΩ:i},Á§æ‰∫§:{ÂÖ≥Á≥ª:this.relationships??{},ÁªÑÁªá:u,‰∫ã‰ª∂:this.eventSystem,ËÆ∞ÂøÜ:this.memory},‰∏ñÁïå:{‰ø°ÊÅØ:this.worldInfo??{},Áä∂ÊÄÅ:{}},Á≥ªÁªü:{ÈÖçÁΩÆ:this.systemConfig??{},ËÆæÁΩÆ:m,ÁºìÂ≠ò:{ÊéåÊè°ÊäÄËÉΩ:this.masteredSkills??i?.ÊéåÊè°ÊäÄËÉΩ??[]},ÂéÜÂè≤:{Âèô‰∫ã:this.narrativeHistory||[]},Êâ©Â±ï:{},ËÅîÊú∫:p}};return t(f)},updatePlayerStatus(e){this.attributes&&(this.attributes={...this.attributes,...e})},updateLocation(e){this.location&&(this.location={...this.location,...e})},updateInventory(e){this.inventory&&(this.inventory={...this.inventory,...e})},updateRelationship(e,t){this.relationships&&this.relationships[e]&&(this.relationships[e]={...this.relationships[e],...t})},advanceGameTime(e){if(this.gameTime){if(this.gameTime.ÂàÜÈíü+=e,this.gameTime.ÂàÜÈíü>=60){const e=Math.floor(this.gameTime.ÂàÜÈíü/60);this.gameTime.ÂàÜÈíü=this.gameTime.ÂàÜÈíü%60,this.gameTime.Â∞èÊó∂+=e}if(this.gameTime.Â∞èÊó∂>=24){const e=Math.floor(this.gameTime.Â∞èÊó∂/24);this.gameTime.Â∞èÊó∂=this.gameTime.Â∞èÊó∂%24,this.gameTime.Êó•+=e}if(this.gameTime.Êó•>30){const e=Math.floor((this.gameTime.Êó•-1)/30);this.gameTime.Êó•=(this.gameTime.Êó•-1)%30+1,this.gameTime.Êúà+=e}if(this.gameTime.Êúà>12){const e=Math.floor((this.gameTime.Êúà-1)/12);this.gameTime.Êúà=(this.gameTime.Êúà-1)%12+1,this.gameTime.Âπ¥+=e}}},resetState(){this.saveMeta=null,this.onlineState=null,this.userSettings=null,this.character=null,this.attributes=null,this.location=null,this.inventory=null,this.equipment=null,this.relationships=null,this.worldInfo=null,this.factionSystem=null,this.factionMemberInfo=null,this.memory=null,this.gameTime=null,this.narrativeHistory=[],this.isGameLoaded=!1,this.protocolSystem=null,this.eventSystem={ÈÖçÁΩÆ:{ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""},‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥:null,‰∫ã‰ª∂ËÆ∞ÂΩï:[]},this.trainingProgram=null,this.training=null,this.programSystem=null,this.skillState=null,this.effects=[],this.masteredSkills=null,this.systemConfig=null,this.body=null,this.bodyPartDevelopment=null,console.log("[GameState] State has been reset")},async saveAfterConversation(){if(!this.isGameLoaded)return void console.warn("[GameState] Game not loaded, skipping save");console.log("[GameState] Saving after conversation...");const{useCharacterStore:e}=await Promise.resolve().then(n.bind(n,4582)),t=e();await t.saveCurrentGame(),await this.checkAndCreateTimeBasedSave()},async checkAndCreateTimeBasedSave(){if(!this.timeBasedSaveEnabled)return;const e=Date.now(),t=60*this.timeBasedSaveInterval*1e3;if(this.lastTimeBasedSave&&e-this.lastTimeBasedSave<t)return;console.log("[GameState] Updating time-based save slot...");const{useCharacterStore:a}=await Promise.resolve().then(n.bind(n,4582)),r=a();await r.saveToSlot("Êó∂Èó¥ÁÇπÂ≠òÊ°£"),this.lastTimeBasedSave=e,console.log("[GameState] Time-based save slot updated: Êó∂Èó¥ÁÇπÂ≠òÊ°£")},async saveBeforeExit(){this.isGameLoaded&&(console.log("[GameState] Saving before exit..."),await this.saveGame())},setTimeBasedSaveInterval(e){e<1?console.warn("[GameState] Invalid interval, must be at least 1 minute"):(this.timeBasedSaveInterval=e,console.log(`[GameState] Time-based save interval set to ${e} minutes`))},setTimeBasedSaveEnabled(e){this.timeBasedSaveEnabled=e,console.log("[GameState] Time-based save "+(e?"enabled":"disabled"))},setConversationAutoSaveEnabled(e){this.conversationAutoSaveEnabled=e,console.log("[GameState] Conversation auto save "+(e?"enabled":"disabled"))},getCurrentSaveData(){return this.toSaveData()},updateState(e,t){console.log(`[ËØäÊñ≠-updateState] ÂºÄÂßãÊõ¥Êñ∞Ë∑ØÂæÑ: ${e}`),console.log("[ËØäÊñ≠-updateState] Ë¶ÅËÆæÁΩÆÁöÑÂÄº:",t);const n=e.split("."),a=n[0];if(console.log("[ËØäÊñ≠-updateState] rootKey:",a),console.log("[ËØäÊñ≠-updateState] Ë∑ØÂæÑÈÉ®ÂàÜ:",n),1===n.length)return this[a]=t,void console.log("[ËØäÊñ≠-updateState] È°∂Â±ÇÂ±ûÊÄßÁõ¥Êé•ËÆæÁΩÆÂÆåÊàê");const o=this[a];if(console.log("[ËØäÊñ≠-updateState] ÂΩìÂâçrootKeyÁöÑÂÄº:",o),o&&"object"==typeof o){const i=(0,r.cloneDeep)(o);console.log("[ËØäÊñ≠-updateState] Ê∑±Êã∑Ë¥ùÂêéÁöÑclonedRoot:",i);const s=n.slice(1).join(".");console.log("[ËØäÊñ≠-updateState] ÂµåÂ•óË∑ØÂæÑ:",s),console.log("[ËØäÊñ≠-updateState] setÂâçÁöÑvalueÁ±ªÂûã:",typeof t,"value:",t),(0,r.set)(i,s,t),console.log("[ËØäÊñ≠-updateState] lodash setÂêéÁöÑclonedRoot:",i),console.log("[ËØäÊñ≠-updateState] setÂêéÊ£ÄÊü•ÂÆûÈôÖÂÄº:",(0,r.get)(i,s)),this.$patch({[a]:i}),console.log("[ËØäÊñ≠-updateState] Â∑≤ÈÄöËøá$patchÊõ¥Êñ∞rootÂØπË±°"),console.log(`[gameStateStore] ‚úÖ Â∑≤Êõ¥Êñ∞ ${e} = ${JSON.stringify(t).substring(0,100)}`)}else console.log("[ËØäÊñ≠-updateState] currentRoot‰∏çÊòØÂØπË±°ÔºåÁõ¥Êé•ËÆæÁΩÆ"),(0,r.set)(this,e,t)},addToShortTermMemory(e){this.memory||(this.memory={Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]}),Array.isArray(this.memory.Áü≠ÊúüËÆ∞ÂøÜ)||(this.memory.Áü≠ÊúüËÆ∞ÂøÜ=[]),Array.isArray(this.memory.‰∏≠ÊúüËÆ∞ÂøÜ)||(this.memory.‰∏≠ÊúüËÆ∞ÂøÜ=[]),Array.isArray(this.memory.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ)||(this.memory.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ=[]);const t=this.gameTime,n=t?.ÂàÜÈíü??0,a=t?`„ÄêÈúìËôπÁ∫™ÂÖÉ${t.Âπ¥}Âπ¥${t.Êúà}Êúà${t.Êó•}Êó• ${String(t.Â∞èÊó∂).padStart(2,"0")}:${String(n).padStart(2,"0")}„Äë`:"„ÄêÊú™Áü•Êó∂Èó¥„Äë",r=e.startsWith("„ÄêÈúìËôπÁ∫™ÂÖÉ")||e.startsWith("„ÄêÊú™Áü•Êó∂Èó¥„Äë")||e.startsWith("„Äê‰ªôÈÅì")||e.startsWith("„Äê‰ªôÂéÜ")?e:`${a}${e}`;this.memory.Áü≠ÊúüËÆ∞ÂøÜ.unshift(r),this.memory.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ.unshift(r);const o=(()=>{try{const e=localStorage.getItem("memory-settings");return e&&JSON.parse(e).maxShortTerm||3}catch{return 3}})();for(;this.memory.Áü≠ÊúüËÆ∞ÂøÜ.length>o;){this.memory.Áü≠ÊúüËÆ∞ÂøÜ.pop();const e=this.memory.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ.pop();e&&!this.memory.‰∏≠ÊúüËÆ∞ÂøÜ.includes(e)&&(this.memory.‰∏≠ÊúüËÆ∞ÂøÜ.push(e),console.log("[gameStateStore] ‚úÖ Áü≠ÊúüËÆ∞ÂøÜÊ∫¢Âá∫ÔºåÂ∑≤ËΩ¨ÁßªÂà∞‰∏≠ÊúüËÆ∞ÂøÜ"))}console.log("[gameStateStore] ‚úÖ Â∑≤Ê∑ªÂä†Âà∞Áü≠ÊúüËÆ∞ÂøÜ",r.substring(0,50)+"...")}}})},1208:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o),s=n(4417),l=n.n(s),c=new URL(n(6623),n.b),d=i()(r()),u=l()(c);d.push([e.id,`@font-face {\n  font-family: 'PangMenZhengDaoTitle';\n  src: url(${u}) format('truetype');\n  font-weight: 400;\n  font-style: normal;\n  font-display: swap;\n}\n\n/* --- Design Tokens (The Alchemist's Formula) --- */\n:root {\n  /* --- Light Theme Colors (Áé∞‰ª£Ê∑±ÈÇÉÁâà) --- */\n  --color-background: #c8c3b8; /* Êõ¥Ê∑±ÁöÑÂü∫Â∫ïËâ≤ÔºåÂ¢ûÂä†Â±ÇÊ¨° */\n  --color-background-transparent: rgba(200, 195, 184, 0.92);\n  --color-surface: #d8d4c9; /* Èù¢ÊùøËâ≤ÔºåÊØîËÉåÊôØÁ®ç‰∫Æ */\n  --color-surface-transparent: rgba(216, 212, 201, 0.88);\n  --color-surface-light: #cec9bd; /* Êõ¥Ê∑±‰∏ÄÊ°£ÂÅöÂ±ÇÊ¨° */\n  /* Derived/interactive states (light) */\n  --color-surface-hover: #e0dcd2; /* ÊÇ¨ÊµÆÊó∂ÁöÑÊüîÂíåËâ≤ */\n  --color-primary: #1e4a9a; /* Êõ¥Ê∑±ÁöÑ‰∏ªËâ≤Ë∞É */\n  --color-primary-rgb: 30, 74, 154;\n  --color-primary-hover: #163d82;\n  --color-primary-active: #0f2f6a;\n  /* Lighten variant used by some components */\n  --color-primary-light: rgba(30, 74, 154, 0.15);\n  --color-accent: #2e8b57; /* Áø†ÁéâÁªø - ËµõÂçöÈ£éÊ†º */\n  --color-accent-hover: #267349;\n  --color-accent-light: rgba(46, 139, 87, 0.18);\n  --color-text: #1a1a1a;\n  --color-text-secondary: #4a4a4a; /* Êõ¥Ê∑±ÔºåÊèêÈ´òÂØπÊØîÂ∫¶ */\n  --color-text-muted: #5a5a5a; /* Êõ¥Ê∑±ÔºåÊèêÈ´òÂØπÊØîÂ∫¶ */\n  --color-white-soft: #f1eee7; /* ÊüîÂíåÁöÑÁôΩËâ≤ */\n  --color-border: rgba(0, 0, 0, 0.15); /* Êõ¥ÊòéÊòæÁöÑËæπÊ°Ü */\n  --color-border-hover: rgba(0, 0, 0, 0.28);\n  --color-success: #2e8b32; /* Êõ¥Ê∑±ÁöÑÁªøËâ≤ÔºåÊèêÈ´òÂèØËØªÊÄß */\n  --color-success-hover: #267529;\n  --color-warning: #e68a00; /* Êõ¥Ê∑±ÁöÑÊ©ôËâ≤ */\n  --color-warning-hover: #cc7a00;\n  --color-error: #dc2626; /* Êõ¥Ê∑±ÁöÑÁ∫¢Ëâ≤ */\n  --color-error-hover: #c22050;\n  --color-info: #2196f3;\n  --color-info-hover: #1e88e5;\n  /* Keep danger alias for components that expect it */\n  --color-danger: var(--color-error);\n  --color-danger-hover: #e53935;\n  /* Generic hover background alias used in components */\n  --color-hover: var(--color-surface-hover);\n  /* Code block background used in data views */\n  --color-code-bg: #0f172a0f; /* subtle deep slate with opacity */\n  /* Global scrollbar tokens (light) ‚Äì hide track, show only thumb */\n  --scrollbar-track-color: transparent;\n  --scrollbar-thumb-color: rgba(0, 0, 0, 0.35);\n  --scrollbar-thumb-hover-color: rgba(0, 0, 0, 0.5);\n\n  /* Vital colors (light theme) */\n  --vital-health: #ff2929;   /* ÁîüÂëΩÂÄº/ÂÅ•Â∫∑Ôºà‰∏é --color-error ‰øùÊåÅ‰∏ÄËá¥Ôºâ */\n  --vital-lingqi: #3b82f6;   /* ÁîµÈáè(Áªü‰∏ÄËìù) */\n  --vital-spirit: #ffeb00;   /* Â∏¶ÂÆΩ(ÈáëËâ≤) */\n  --vital-lifespan: #c253ff; /* ÂØøÂÖÉ(Á¥´Ëâ≤) */\n\n  /* Derived RGB triplets for rgba() usage (light) */\n  --color-background-rgb: 200, 195, 184;\n  --color-surface-rgb: 216, 212, 201;\n  --color-accent-rgb: 46, 139, 87;\n  --color-border-rgb: 0, 0, 0;\n  --color-success-rgb: 46, 139, 50;\n  --color-warning-rgb: 230, 138, 0;\n  --color-error-rgb: 220, 38, 38;\n  --color-info-rgb: 33, 150, 243;\n\n  /* UIÁº©ÊîæÂèòÈáè */\n  --ui-scale: 1;\n  --base-font-size: 1rem;\n\n  /* Â≠ó‰Ωì‰∏éËøáÊ∏° */\n  --font-family-serif: 'PangMenZhengDaoTitle', 'SimSun', 'NSimSun', 'STSong', 'ÂÆã‰Ωì', 'Noto Serif SC', 'KaiTi', 'STKaiti', serif;\n  --font-family-sans-serif: 'PangMenZhengDaoTitle', 'SimSun', 'NSimSun', 'STSong', 'ÂÆã‰Ωì', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  --transition-fast: all 0.2s ease-in-out;\n}\n\n/* --- ÊöóËâ≤‰∏ªÈ¢òÁÅµËÑâ: "ÊùæÁÉüÁéÑÂ¢®" (ÈÄöËøá data-theme Â±ûÊÄßÊøÄÊ¥ª) --- */\n:root[data-theme='dark'] {\n  /* --- Dark Theme Colors --- */\n  --color-background: rgb(30, 41, 59);\n  --color-background-transparent: rgba(26, 27, 38, 0.85);\n  --color-surface: #232e40;\n  --color-surface-transparent: rgba(41, 51, 72, 0.6);\n  --color-surface-light: #414868;\n  /* Derived/interactive states (dark) */\n  --color-surface-hover: #33415f;\n  --color-primary: #82a3f5;\n  --color-primary-rgb: 130, 163, 245;\n  --color-primary-hover: #6f93f2;\n  --color-primary-active: #597ee6;\n  --color-primary-light: rgba(130, 163, 245, 0.18);\n  --color-accent: #7dd3a0; /* Áø†ÁéâÁªø - ÊöóËâ≤‰∏ªÈ¢ò */\n  --color-accent-hover: #6bc48e;\n  --color-accent-light: rgba(125, 211, 160, 0.15);\n  --color-text: #f7f7f5; /* ÊüîÂíåÁöÑÊöñÁôΩËâ≤Ôºå‰∏çÈÇ£‰πàÂà∫Áúº */\n  --color-text-secondary: #d0d0d0;\n  --color-text-muted: #b9b9b9; /* Â¢ûÂº∫ÂØπÊØîÂ∫¶ */\n  --color-white-soft: #f7f7f5; /* ÊöóËâ≤‰∏ªÈ¢ò‰∏ãÁöÑÊüîÂíåÁôΩËâ≤ */\n  --color-border: rgba(173, 216, 230, 0.5);\n  --color-border-hover: rgba(173, 216, 230, 0.8);\n  --color-success: #9ece6a;\n  --color-success-hover: #88b85b;\n  --color-warning: #ffd500;\n  --color-warning-hover: #e6c200;\n  --color-error: #ff2f49; /* ÊöóËâ≤‰∏ãÊõ¥Á∫¢‰∏Ä‰∫õ */\n  --color-error-hover: #e64470;\n  --color-info: #77cdfe;\n  --color-info-hover: #66bff4;\n  --color-danger: var(--color-error);\n  --color-danger-hover: #e66a81;\n  --color-hover: var(--color-surface-hover);\n  --color-code-bg: rgba(20, 26, 43, 0.6);\n  /* Global scrollbar tokens (dark) ‚Äì hide track, show only thumb */\n  --scrollbar-track-color: transparent;\n  --scrollbar-thumb-color: rgba(255, 255, 255, 0.35);\n  --scrollbar-thumb-hover-color: rgba(255, 255, 255, 0.5);\n\n  /* Vital colors (dark theme) */\n  --vital-health: #ff2f49;   /* ÁîüÂëΩÂÄº/ÂÅ•Â∫∑ÔºàÊöóËâ≤Ôºå‰∏é --color-error ‰øùÊåÅ‰∏ÄËá¥Ôºâ */\n  --vital-lingqi: #3b82f6;   /* ÁîµÈáè(Áªü‰∏ÄËìù) */\n  --vital-spirit: #ffeb00;   /* Â∏¶ÂÆΩ(ÈáëËâ≤) */\n  --vital-lifespan: #c253ff; /* ÂØøÂÖÉ(Á¥´Ëâ≤) */\n\n  /* Derived RGB triplets for rgba() usage (dark) */\n  --color-background-rgb: 26, 27, 38;\n  --color-surface-rgb: 41, 51, 72;\n  --color-accent-rgb: 125, 211, 160;\n  --color-border-rgb: 173, 216, 230;\n  --color-success-rgb: 158, 206, 106;\n  --color-warning-rgb: 255, 213, 0;\n  --color-error-rgb: 255, 47, 73;\n  --color-info-rgb: 119, 205, 254;\n}\n\n/* --- Base Styles --- */\nhtml,\nbody {\n  /* È´òÂ∫¶Â∞ÜÁî± App.vue ‰∏≠ÁöÑËÑöÊú¨Âä®ÊÄÅËÆæÁΩÆÔºåÊ≠§Â§Ñ‰∏çÂ∫îÊúâ height Êàñ min-height */\n  margin: 0;\n  padding: 0;\n  /* ÁßªÈô§ overflow: hidden; Â∫îÁî®ÂÜÖÊªöÂä®Áî± #app ÊéßÂà∂ */\n  font-family: var(--font-family-serif);\n  /* ÈÄèÊòéËÉåÊôØ‰ª•ÊòæÁ§∫ËßÜÈ¢ëËÉåÊôØÔºàVideoBackgroundÁªÑ‰ª∂‰ΩøÁî®z-index:-10Ôºâ */\n  background-color: transparent;\n  color: var(--color-text);\n  /* ÊåâÁ≥ªÁªüËßÑËåÉÔºåÂéªÈô§ÊâÄÊúâÊñáÂ≠óÈò¥ÂΩ±Ôºå‰øùÊåÅÊ∏ÖÊô∞„ÄÇ */\n  text-shadow: none;\n  /* Á°Æ‰øùÂú®iframe‰∏≠‰πüËÉΩÊ≠£Á°ÆÂ°´ÂÖÖ */\n  width: 100%;\n  height: 100%;\n}\n\n#app {\n  position: absolute; /* ‰ΩøÁî®ÁªùÂØπÂÆö‰ΩçÂº∫Âà∂ÊíëÊª°body */\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  overflow: auto; /* Â∫îÁî®ÂÜÖÁöÑÊªöÂä®Áî±appËá™Ë∫´ÁÆ°ÁêÜ */\n  /* Â∫îÁî®UIÁº©ÊîæÔºå‰ΩøÁî®zoomÂ±ûÊÄßÔºàChrome, SafariÁ≠âÊîØÊåÅÔºâ */\n  zoom: var(--ui-scale);\n  /* Â∫îÁî®Âü∫Á°ÄÂ≠ó‰ΩìÂ§ßÂ∞è */\n  font-size: var(--base-font-size);\n  /* ÈÄèÊòéËÉåÊôØ‰ª•ÊòæÁ§∫ËßÜÈ¢ëËÉåÊôØ */\n  background-color: transparent;\n}\n\n#app-container {\n  width: 100%;\n  height: 100%;\n  min-height: 100%;\n  /* ÈÄèÊòéËÉåÊôØ‰ª•ÊòæÁ§∫ËßÜÈ¢ëËÉåÊôØ */\n  background-color: transparent;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow-x: hidden;\n  position: relative;\n}\n\n/* --- Reusable Button Class (The Master's Touch) --- */\n.btn {\n  display: inline-block;\n  padding: 0.75rem 1.5rem;\n  border: 1px solid var(--color-primary);\n  border-radius: 8px;\n  background-color: transparent;\n  color: var(--color-primary);\n  font-family: var(--font-family-serif);\n  font-size: 1rem;\n  font-weight: bold;\n  text-align: center;\n  text-decoration: none;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  user-select: none; /* Prevent text selection on click */\n  position: relative;\n  overflow: hidden;\n}\n\n/* --- Button States (Guaranteed Visual Feedback) --- */\n.btn:hover {\n  background-color: var(--color-primary);\n  color: #fff;\n  box-shadow: 0 0 15px rgba(200, 160, 100, 0.5);\n}\n\n.btn:active {\n  transform: scale(0.98);\n  background-color: var(--color-primary-active);\n  border-color: var(--color-primary-active);\n  box-shadow: none;\n}\n\n.btn:focus-visible {\n  outline: 2px solid var(--color-primary-hover);\n  outline-offset: 2px;\n}\n\n/* --- Disabled Button State --- */\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background-color: transparent;\n  color: var(--color-border);\n  border-color: var(--color-border);\n  box-shadow: none;\n}\n\n/* --- ÁßªÈô§ÊµÅÂÖâÁâπÊïà --- */\n\n/* --- Button Variants --- */\n.btn.btn-secondary {\n  border-color: var(--color-border);\n  color: var(--color-text);\n}\n\n.btn.btn-secondary:hover {\n  background-color: var(--color-surface);\n  border-color: var(--color-text);\n}\n\n.btn.btn-complete {\n  border-color: var(--color-accent); /* ÈùíÁéâËâ≤ */\n  color: var(--color-accent);\n  animation: pulse-glow 2s ease-in-out infinite;\n}\n\n.btn.btn-complete:hover {\n  background-color: var(--color-accent);\n  color: #fff;\n  box-shadow: 0 0 20px rgba(111, 179, 184, 0.5);\n}\n\n@keyframes pulse-glow {\n  0%,\n  100% {\n    box-shadow: 0 0 10px rgba(111, 179, 184, 0.3);\n  }\n  50% {\n    box-shadow: 0 0 20px rgba(111, 179, 184, 0.6);\n  }\n}\n\n/* --- ÂÖ®Â±ÄÊªöÂä®Êù°ÁæéÂåñ (ÂÖºÂÆπ WebKit & Firefox) --- */\n/* WebKit browsers (Chrome, Safari, Edge) */\n#app::-webkit-scrollbar {\n  width: 10px; /* Á®çÂæÆÂä†ÂÆΩ‰ª•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÁÇπÂáªÂå∫Âüü */\n  height: 10px;\n}\n\n#app::-webkit-scrollbar-track {\n  background: var(--scrollbar-track-color);\n}\n\n#app::-webkit-scrollbar-thumb {\n  background-color: var(--scrollbar-thumb-color);\n  border-radius: 5px;\n  border: 2px solid transparent;\n  background-clip: content-box;\n  transition: background-color 0.3s ease-in-out;\n}\n\n#app::-webkit-scrollbar-thumb:hover {\n  background-color: var(--scrollbar-thumb-hover-color);\n}\n\n/* Firefox */\n#app {\n  scrollbar-width: thin;\n  scrollbar-color: var(--scrollbar-thumb-color) var(--scrollbar-track-color);\n}\n\n/* --- ÈÄöÁî®Ê≥ïÂô®Ê†∑ÂºèÔºöÂç°Áâá/Èù¢Êùø (ÊµÆÁ©∫ÊúØ) --- */\n.card-panel {\n  background: var(--color-surface);\n  border: 2px solid var(--color-primary); /* ÂùöÂõ∫„ÄÅÈÜíÁõÆÁöÑ‰∏ªËâ≤ËæπÊ°Ü */\n  border-radius: 12px;\n  box-shadow: none; /* ÁßªÈô§ÊâÄÊúâÈò¥ÂΩ± */\n  transition: border-color 0.3s ease;\n}\n\n.card-panel:hover {\n  border-color: var(--color-primary-hover); /* ÊÇ¨ÊµÆÊó∂ËæπÊ°ÜÈ¢úËâ≤Âèò‰∫Æ */\n  transform: none; /* ÁßªÈô§ÊÇ¨ÊµÆÊó∂ÁöÑ‰ΩçÁßª */\n}\n\n/* --- Êñ∞Â¢ûÊ†∑ÂºèÔºö‰∏ñÁïåÊé®ÊºîÂä®Áîª (for Login Button) --- */\n.btn.is-loading .btn-text {\n  opacity: 0; /* Hide original text */\n}\n\n.btn.is-loading::before,\n.btn.is-loading::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 20px;\n  height: 20px;\n  margin-top: -10px;\n  margin-left: -10px;\n  border-radius: 50%;\n  border: 2px solid var(--color-primary);\n  animation-duration: 1.5s;\n  animation-iteration-count: infinite;\n  animation-timing-function: ease-in-out;\n}\n\n.btn.is-loading::before {\n  border-style: solid solid dashed dashed;\n  animation-name: spin-left;\n}\n\n.btn.is-loading::after {\n  border-style: dashed dashed solid solid;\n  animation-name: spin-right;\n}\n\n@keyframes spin-left {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n@keyframes spin-right {\n  from { transform: rotate(360deg); }\n  to { transform: rotate(0deg); }\n}\n\n/* --- Êñ∞Â¢ûÊ†∑ÂºèÔºöÂºÄÂ§©ËæüÂú∞ (for MainGame Empty State) --- */\n.genesis-prompt {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding: 2rem;\n  text-align: center;\n  background: radial-gradient(ellipse at center, var(--color-surface-light) 0%, var(--color-background) 70%);\n}\n\n.genesis-title {\n  font-family: var(--font-family-serif);\n  font-size: 2.5rem;\n  color: var(--color-primary);\n  margin-bottom: 1rem;\n  text-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.3);\n}\n\n.genesis-subtitle {\n  font-size: 1.2rem;\n  color: var(--color-text-secondary);\n  max-width: 500px;\n  margin-bottom: 3rem;\n}\n\n.genesis-cta {\n  padding: 1.2rem 2.5rem;\n  font-size: 1.5rem;\n  border-width: 2px;\n  animation: pulse-glow 2.5s ease-in-out infinite;\n}\n\n/* --- Êñ∞Â¢ûÊ†∑ÂºèÔºöË∑ØÂæÑÈÄâÊã©ÁïåÈù¢ --- */\n.mode-selection-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  max-height: 800px; /* ÈôêÂà∂ÊúÄÂ§ßÈ´òÂ∫¶ÈÄÇÂ∫îiframe */\n  overflow-y: auto;\n  color: var(--color-text);\n  display: flex;\n  flex-direction: column;\n  align-items: center; /* Ê∞¥Âπ≥Â±Ö‰∏≠ */\n  justify-content: center; /* ÂûÇÁõ¥Â±Ö‰∏≠ */\n  padding: 1rem 0; /* ÂáèÂ∞èÂÜÖÈÉ®ÂûÇÁõ¥ËæπË∑ù */\n  box-sizing: border-box; /* Á°Æ‰øù padding ‰∏ç‰ºöÂØºËá¥Ê∫¢Âá∫ */\n  background: transparent; /* ÈÄèÊòéËÉåÊôØ‰ª•ÊòæÁ§∫ËßÜÈ¢ë */\n}\n\n.video-background {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transform: translate(-50%, -50%);\n  z-index: -2;\n}\n\n.video-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5); /* ÈªòËÆ§ÈÅÆÁΩ©ÔºåÊöóËâ≤‰∏ªÈ¢ò‰∏ãÂèØË∞ÉÊï¥ */\n  z-index: -1;\n}\n\n:root[data-theme='dark'] .video-overlay {\n    background-color: rgba(10, 15, 24, 0.4); /* Èôç‰ΩéÈÅÆÁΩ©ÈÄèÊòéÂ∫¶ÔºåËÆ©ËÉåÊôØÊõ¥‰∫Æ */\n}\n\n.selection-content {\n  position: relative;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 1.5rem;\n  background: var(--color-surface-light);\n  border-radius: 16px;\n  border: 1px solid var(--color-border);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  width: 90%;\n  max-width: 1000px;\n  max-height: calc(100% - 2rem); /* Á°Æ‰øù‰∏çË∂ÖÂá∫ÂÆπÂô® */\n  overflow-y: auto; /* ÂÖÅËÆ∏ÂÜÖÂÆπÊªöÂä® */\n  /* ÁßªÈô§ marginÔºåÁî±Áà∂ÂÆπÂô®ÁöÑ padding ÊéßÂà∂Èó¥Ë∑ù */\n}\n\n.main-title {\n  font-family: var(--font-family-serif);\n  font-size: 3rem;\n  font-weight: 500;\n  margin-bottom: 2.5rem;\n  letter-spacing: 0.2em;\n  text-shadow: 0 0 15px rgba(var(--color-primary-rgb), 0.4);\n}\n\n.paths-container {\n  display: flex;\n  justify-content: center;\n  gap: 3rem;\n  width: 100%;\n}\n\n.path-card {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 2rem;\n  border-radius: 1rem;\n  border: 2px solid var(--color-primary);\n  background: var(--color-surface);\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  position: relative;\n  overflow: hidden;\n}\n\n.path-card:hover {\n  transform: translateY(-10px);\n  background: rgba(var(--color-primary-rgb), 0.4);\n}\n\n.path-card .path-icon {\n    font-size: 4rem;\n    margin-bottom: 1rem;\n    color: var(--color-primary);\n    transition: var(--transition-fast);\n}\n\n.path-card:hover .path-icon {\n    color: var(--color-accent);\n    transform: scale(1.1);\n}\n\n.path-title {\n  font-family: var(--font-family-serif);\n  font-size: 1.75rem;\n  margin-bottom: 0.75rem;\n}\n\n.path-description {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  text-align: center;\n  max-width: 300px;\n}\n\n.bottom-actions {\n  position: fixed;\n  z-index: 100; /* Ensure it's on top of everything */\n  bottom: 2rem;\n  right: 2rem;\n  display: flex;\n  gap: 1rem;\n}\n\n.action-btn {\n  width: 48px;\n  height: 48px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5rem;\n  border: 1px solid var(--color-border);\n  background-color: var(--color-surface);\n  color: var(--color-text-secondary);\n  border-radius: 50%;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  backdrop-filter: blur(5px);\n}\n\n.action-btn:hover {\n  background-color: var(--color-surface-light);\n  color: var(--color-text);\n  border-color: var(--color-border-hover);\n  transform: scale(1.1);\n}\n\n/* --- ÈÄöÁî®Ê≥ïÂô®Ê†∑ÂºèÔºöÊ®°ÊÄÅÂØπËØùÊ°Ü/ÂºπÁ™ó (È°ªÂº•Ëä•Â≠ê) --- */\n.modal-dialog {\n  background-color: var(--color-surface);\n  color: var(--color-text); /* ÊòæÂºèËÆæÁΩÆÊñáÂ≠óÈ¢úËâ≤ÔºåÈò≤Ê≠¢ÁªßÊâøÈóÆÈ¢ò */\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n}\n\n:root[data-theme='dark'] .modal-dialog {\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\n}\n\n/* --- ÂÖ®Â±ÄÊìç‰ΩúÊåâÈíÆÊ†∑Âºè (Êñ∞Áâà) --- */\n.global-actions {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n  display: flex;\n  gap: 12px;\n  pointer-events: auto;\n}\n\n.theme-toggle,\n.fullscreen-toggle {\n  --color: #555560;\n  --size: 24px;\n  width: 48px;\n  height: 48px;\n  border: none;\n  border-radius: 12px;\n  background: rgba(230, 226, 217, 0.92); /* ‰ΩøÁî®Êõ¥ÊüîÂíåÁöÑËÉåÊôØËâ≤ */\n  backdrop-filter: blur(10px);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\n  color: var(--color);\n  font-size: var(--size);\n  user-select: none;\n  fill: var(--color);\n}\n\n.theme-toggle:hover,\n.fullscreen-toggle:hover {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.18);\n  background: rgba(220, 216, 207, 0.95); /* ÊÇ¨ÊµÆÊó∂Á®çÊ∑± */\n}\n\n.theme-toggle:active,\n.fullscreen-toggle:active {\n  transform: translateY(0);\n}\n\n/* ‰∏ªÈ¢òÂàáÊç¢ÂõæÊ†á */\n.theme-toggle .moon {\n  position: absolute;\n  animation: keyframes-fill .5s;\n  width: 24px;\n  height: 24px;\n}\n\n.theme-toggle .sun {\n  position: absolute;\n  display: none;\n  animation: keyframes-fill .5s;\n  width: 24px;\n  height: 24px;\n}\n\n.theme-toggle input:checked ~ .moon {\n  display: none;\n}\n\n.theme-toggle input:checked ~ .sun {\n  display: block;\n}\n\n/* ÂÖ®Â±èÂàáÊç¢ÂõæÊ†á */\n.fullscreen-toggle .expand {\n  position: absolute;\n  animation: fullscreen-fill .5s;\n  width: 24px;\n  height: 24px;\n}\n\n.fullscreen-toggle .compress {\n  position: absolute;\n  display: none;\n  animation: fullscreen-fill .5s;\n  width: 24px;\n  height: 24px;\n}\n\n.fullscreen-toggle input:checked ~ .expand {\n  display: none;\n}\n\n.fullscreen-toggle input:checked ~ .compress {\n  display: block;\n}\n\n/* ÈöêËóècheckbox */\n.theme-toggle input,\n.fullscreen-toggle input {\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n}\n\n/* Âä®ÁîªÊïàÊûú */\n@keyframes keyframes-fill {\n  0% {\n    transform: rotate(-360deg) scale(0);\n    opacity: 0;\n  }\n  75% {\n    transform: rotate(25deg);\n  }\n  100% {\n    transform: rotate(0deg) scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes fullscreen-fill {\n  0% {\n    transform: scale(0);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n/* ÊöóËâ≤‰∏ªÈ¢òÈÄÇÈÖç */\n[data-theme="dark"] .theme-toggle,\n[data-theme="dark"] .fullscreen-toggle {\n  background: rgba(41, 51, 72, 0.9);\n  --color: #82A3F5;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n[data-theme="dark"] .theme-toggle:hover,\n[data-theme="dark"] .fullscreen-toggle:hover {\n  background: rgba(41, 51, 72, 0.95);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);\n}\n\n/* --- App Root & Transitions --- */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n/* #app-container Ê†∑ÂºèÂ∑≤Âú®‰∏äÊñπÂÆö‰πâÔºåÊ≠§Â§ÑÂêàÂπ∂ */\n\n/* --- Author Modal Styles --- */\n.author-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n}\n\n.author-modal {\n  background: var(--color-surface);\n  padding: 1.5rem 2rem;\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n  width: 90%;\n  max-width: 500px;\n  color: var(--color-text);\n}\n\n.author-modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 1rem;\n  margin-bottom: 1rem;\n}\n\n.author-modal-header h3 {\n  margin: 0;\n  font-size: 1.4rem;\n  font-family: var(--font-family-serif);\n}\n\n.author-modal-body p {\n  margin: 0.8rem 0;\n  font-size: 1rem;\n  line-height: 1.6;\n}\n\n.author-modal-body a {\n  color: var(--color-primary);\n  text-decoration: none;\n  word-break: break-all;\n}\n\n.author-modal-body a:hover {\n  text-decoration: underline;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 2rem;\n  color: var(--color-text-muted);\n  cursor: pointer;\n  line-height: 1;\n  padding: 0;\n}\n\n.close-btn:hover {\n  color: var(--color-text);\n}\n`,""]);const m=d},1211:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var a=n(810),r=n(4061),o=n(7445),i=n(8651),s=n(9333),l=n(7527);function c(e){if(null===e||"object"!=typeof e)return!1;const t=e;return Array.isArray(t.worlds)&&Array.isArray(t.talentTiers)&&Array.isArray(t.origins)&&Array.isArray(t.spiritRoots)&&Array.isArray(t.talents)}const d=(0,a.nY)("characterCreation",()=>{const e=(0,r.ref)("single"),t=(0,r.ref)(!1),a=(0,r.ref)(null),d=(0,r.ref)({worlds:[],talentTiers:[],origins:[],spiritRoots:[],talents:[]}),u=(0,r.ref)({gender:"Áî∑",character_name:"Êó†ÂêçËÄÖ",race:"‰∫∫Êóè",world_id:"",talent_tier_id:"",current_age:16,root_bone:0,spirituality:0,comprehension:0,fortune:0,charm:0,temperament:0,origin_id:null,spirit_root_id:null,selected_talent_ids:[]}),m=(0,r.ref)(1),p=(0,r.ref)(!0),g=(0,r.ref)(null),h=(0,r.ref)(!0),f=(0,r.ref)("generate"),v=(0,r.ref)({majorFactionsCount:5,totalLocations:12,secretRealmsCount:5,continentCount:4,generateOnlyContinents:!0}),b=(0,r.ref)("ÊôÆÈÄö"),y={ÁÆÄÂçï:"„ÄêÈöæÂ∫¶Ê®°ÂºèÔºöÁÆÄÂçï„Äë\n- ‰∏ñÁïåÂØπ‰∏ªËßíËæÉ‰∏∫ÂèãÂñÑÔºåÊú∫ÁºòÈ¢ëÁπÅÂá∫Áé∞\n- Êïå‰∫∫ÂÆûÂäõÊôÆÈÅçËæÉÂº±ÔºåÊàòÊñóÂÆπÊòìËé∑ËÉú\n  - ËµÑÊ∫êËé∑ÂèñÂÆπÊòìÔºåËÆ≠ÁªÉËøõÂ∫¶ËæÉÂø´\n  - ÊôãÂçáÁì∂È¢àÁöÑÈöæÂ∫¶Èôç‰Ωé\n- NPCÂØπ‰∏ªËßíÊÄÅÂ∫¶ÂèãÂ•ΩÔºåÂÆπÊòìËé∑ÂæóÂ∏ÆÂä©",ÊôÆÈÄö:"„ÄêÈöæÂ∫¶Ê®°ÂºèÔºöÊôÆÈÄö„Äë\n  - ‰∏ñÁïåÈÅµÂæ™Ê≠£Â∏∏ÂüéÈÇ¶ËßÑÂàôÔºåÊú∫‰ºö‰∏éÂç±Èô©Âπ∂Â≠ò\n- Êïå‰∫∫ÂÆûÂäõ‰∏é‰∏ªËßíÁõ∏ÂΩìÔºåÊàòÊñóÈúÄË¶ÅÁ≠ñÁï•\n  - ËµÑÊ∫êËé∑ÂèñÈúÄË¶ÅÂä™ÂäõÔºåËÆ≠ÁªÉËøõÂ∫¶Ê≠£Â∏∏\n  - ÊôãÂçáÁì∂È¢àÈúÄË¶ÅÁßØÁ¥ØÂíåÊú∫‰ºö\n- NPCÊÄÅÂ∫¶‰∏≠Á´ãÔºåÈúÄË¶ÅÂª∫Á´ãÂÖ≥Á≥ª",Âõ∞Èöæ:"„ÄêÈöæÂ∫¶Ê®°ÂºèÔºöÂõ∞Èöæ„Äë\n- ‰∏ñÁïåÂÖÖÊª°Âç±Èô©ÔºåÊú∫ÁºòÁ®ÄÂ∞ë‰∏îÁ´û‰∫âÊøÄÁÉà\n- Êïå‰∫∫ÂÆûÂäõÊôÆÈÅçËæÉÂº∫ÔºåÊàòÊñóÈúÄË¶ÅË∞®ÊÖé\n  - ËµÑÊ∫êÁ®ÄÁº∫ÔºåËÆ≠ÁªÉËøõÂ∫¶ÁºìÊÖ¢\n  - ÊôãÂçáÁì∂È¢àÂõ∞ÈöæÈáçÈáçÔºåÈúÄË¶ÅÁâπÊÆäÊú∫‰ºö\n- NPCÂØπ‰∏ªËßíÊÄÅÂ∫¶ÂÜ∑Ê∑°ÔºåÈúÄË¶Å‰ªòÂá∫‰ª£‰ª∑Ëé∑ÂæóÂ∏ÆÂä©",Âô©Ê¢¶:"„ÄêÈöæÂ∫¶Ê®°ÂºèÔºöÂô©Ê¢¶„Äë\n- ‰∏ñÁïåÊûÅÂ∫¶Âç±Èô©ÔºåÂ§ÑÂ§ÑÊòØÈô∑Èò±ÂíåÊïå‰∫∫\n- Êïå‰∫∫ÂÆûÂäõËøúË∂Ö‰∏ªËßíÔºåÊàòÊñó‰πùÊ≠ª‰∏ÄÁîü\n  - ËµÑÊ∫êÊûÅÂ∫¶Á®ÄÁº∫ÔºåËÆ≠ÁªÉ‰∏æÊ≠•Áª¥Ëâ∞\n  - ÊôãÂçáÁì∂È¢àÂá†‰πé‰∏çÂèØËÉΩÔºåÈúÄË¶ÅÊûÅÁ´ØÊú∫‰ºö\n- NPCÂØπ‰∏ªËßíÂÖÖÊª°ÊïåÊÑèÔºå‰ø°‰ªªÈöæ‰ª•Âª∫Á´ã\n- Ê≠ª‰∫°È£éÈô©ÊûÅÈ´òÔºåÊØè‰∏ÄÊ≠•ÈÉΩÈúÄË∞®ÊÖé"},x=(0,r.computed)(()=>y[b.value]);try{const e=o.aiService.getConfig();h.value=!1!==e.streaming,f.value="generateRaw"===e.initMode?"generateRaw":"generate"}catch{}try{const e=localStorage.getItem("dad_creation_useStreamingStart");null!==e&&(h.value="false"!==e);const t=localStorage.getItem("dad_creation_generateMode");"generate"!==t&&"generateRaw"!==t||(f.value=t)}catch{}try{const e=localStorage.getItem("dad_start_config");e&&(e=>{if(!e||"object"!=typeof e)return;const t=e,n=t.ai&&"object"==typeof t.ai?t.ai:t,a=n.streaming??n.useStreamingStart;"boolean"==typeof a&&(h.value=a);const r=n.initMode??n.generateMode;"generate"!==r&&"generateRaw"!==r||(f.value=r);const o=t.world&&"object"==typeof t.world?t.world:t.worldGenerationConfig&&"object"==typeof t.worldGenerationConfig?t.worldGenerationConfig:null,i=(e,t,n)=>{const a=Number(e);if(!Number.isFinite(a))return null;const r=Math.floor(a);return Math.min(n,Math.max(t,r))};if(o){const e={...v.value},t=i(o.majorFactionsCount,1,30),n=i(o.totalLocations,1,60),a=i(o.secretRealmsCount,0,30),r=i(o.continentCount,1,12);null!==t&&(e.majorFactionsCount=t),null!==n&&(e.totalLocations=n),null!==a&&(e.secretRealmsCount=a),null!==r&&(e.continentCount=r),v.value=e}const s=t.character&&"object"==typeof t.character?t.character:null;if(s){const e={...u.value},t="string"==typeof s.character_name?s.character_name.trim():null,n="string"==typeof s.gender?s.gender.trim():null,a="string"==typeof s.race?s.race.trim():null,r=i(s.current_age,1,3e3);t&&(e.character_name=t),n&&(e.gender=n),a&&(e.race=a),null!==r&&(e.current_age=r),u.value=e}})(JSON.parse(e))}catch{}(0,r.watch)(h,e=>{try{localStorage.setItem("dad_creation_useStreamingStart",String(e))}catch{}}),(0,r.watch)(f,e=>{try{localStorage.setItem("dad_creation_generateMode",e)}catch{}});const k=(0,r.computed)(()=>7),w=(0,r.computed)(()=>({root_bone:u.value.root_bone,spirituality:u.value.spirituality,comprehension:u.value.comprehension,fortune:u.value.fortune,charm:u.value.charm,temperament:u.value.temperament})),E=(0,r.computed)(()=>d.value.worlds.find(e=>e.id===u.value.world_id)||null),N=(0,r.computed)(()=>d.value.talentTiers.find(e=>e.id===u.value.talent_tier_id)||null),S=(0,r.computed)(()=>d.value.origins.find(e=>e.id===u.value.origin_id)||null),_=(0,r.computed)(()=>d.value.spiritRoots.find(e=>e.id===u.value.spirit_root_id)||null),V=(0,r.computed)(()=>d.value.talents.filter(e=>u.value.selected_talent_ids.includes(e.id))),C=(0,r.computed)(()=>{let e=0;return V.value.some(e=>"Èú∏ÁéãË°ÄËÑâ"===e.name)&&(e+=1,console.log('[ÊäÄËÉΩÁÇπËÆ°ÁÆó] Ê£ÄÊµãÂà∞ "Èú∏ÁéãË°ÄËÑâ" Â§©Ëµã, Â¢ûÂä† 1 ÊäÄËÉΩÁÇπ')),e}),A=(0,r.computed)(()=>{if(!N.value)return 0;let e=N.value.total_points;console.log("[ÊäÄËÉΩÁÇπËÆ°ÁÆó] ÂàùÂßãÊäÄËÉΩÁÇπ:",e),e+=C.value,S.value&&(console.log("[ÊäÄËÉΩÁÇπËÆ°ÁÆó] Âá∫ÁîüÊ∂àËÄó:",S.value.talent_cost),e-=S.value.talent_cost),_.value&&(console.log("[ÊäÄËÉΩÁÇπËÆ°ÁÆó] ÊîπÈÄ†Ê†∏ÂøÉÊ∂àËÄó:",_.value.talent_cost),e-=_.value.talent_cost);const t=V.value.reduce((e,t)=>e+t.talent_cost,0);console.log("[ÊäÄËÉΩÁÇπËÆ°ÁÆó] Â∑≤ÈÄâÂ§©ËµãÊï∞Èáè:",V.value.length),console.log("[ÊäÄËÉΩÁÇπËÆ°ÁÆó] Â∑≤ÈÄâÂ§©ËµãÂàóË°®:",V.value.map(e=>({ÂêçÁß∞:e.name,Ê∂àËÄó:e.talent_cost}))),console.log("[ÊäÄËÉΩÁÇπËÆ°ÁÆó] Â§©ËµãÊÄªÊ∂àËÄó:",t),e-=t;const n=Object.values(w.value).reduce((e,t)=>e+t,0);return console.log("[ÊäÄËÉΩÁÇπËÆ°ÁÆó] ÂàùÂßãÂÖ≠Áª¥ÊÄªÂíå:",n),e-=n,console.log("[ÊäÄËÉΩÁÇπËÆ°ÁÆó] ÊúÄÁªàÂâ©‰Ωô:",e),e}),D=(0,r.computed)(()=>{if(!N.value)return 0;const e=N.value.total_points-A.value;return Math.max(0,e)});async function T(){const e={worlds:d.value.worlds.filter(e=>"cloud"===e.source),talentTiers:d.value.talentTiers.filter(e=>"cloud"===e.source),origins:d.value.origins.filter(e=>"cloud"===e.source),spiritRoots:d.value.spiritRoots.filter(e=>"cloud"===e.source),talents:d.value.talents.filter(e=>"cloud"===e.source)},{saveData:t}=await Promise.resolve().then(n.bind(n,5099));await t("customCreationData",e),console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëËá™ÂÆö‰πâÂàõ‰∏ñÊï∞ÊçÆÂ∑≤‰øùÂ≠òÂà∞Êï∞ÊçÆÂ∫ìÔºÅ")}function B(e){d.value.worlds.unshift({...e,source:"cloud"}),T()}function I(e){d.value.talentTiers.unshift({...e,source:"cloud"}),T()}function M(e){d.value.origins.unshift({...e,source:"cloud"}),T()}function z(e){d.value.spiritRoots.unshift({...e,source:"cloud"}),T()}function P(e){d.value.talents.unshift({...e,source:"cloud"}),T()}async function R(e,t){const a=d.value[e].findIndex(e=>e.id===t);if(a>-1){const r=d.value[e][a];if(d.value[e].splice(a,1),console.log(`„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂ∑≤Âà†Èô§ ${e} È°πÁõÆÔºåID: ${t}ÔºåÊù•Ê∫ê: ${r.source}`),await T(),"cloud"===r.source){console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂà†Èô§‰∫ëÁ´ØÊï∞ÊçÆÔºåÂº∫Âà∂ÂêåÊ≠•ÈÖíÈ¶ÜÂÖ®Â±ÄÂèòÈáè");try{const a=(0,i.getTavernHelper)();if(a){console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊñπÊ°à1ÔºöÂÆåÂÖ®ÈáçÁΩÆ DAD_creationData");const r={worlds:d.value.worlds.filter(e=>"cloud"===e.source),talentTiers:d.value.talentTiers.filter(e=>"cloud"===e.source),origins:d.value.origins.filter(e=>"cloud"===e.source),spiritRoots:d.value.spiritRoots.filter(e=>"cloud"===e.source),talents:d.value.talents.filter(e=>"cloud"===e.source)};console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂáÜÂ§á‰øùÂ≠òÁöÑÊñ∞Êï∞ÊçÆ:",JSON.stringify(r,null,2));try{await a.deleteVariable("DAD_creationData",{type:"global"}),console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂ∑≤Âà†Èô§ÊóßÁöÑ DAD_creationData")}catch(e){console.warn("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂà†Èô§ÊóßÂèòÈáèÂ§±Ë¥•ÔºàÂèØËÉΩ‰∏çÂ≠òÂú®Ôºâ:",e)}const{deepCleanForClone:o}=await Promise.resolve().then(n.bind(n,3098)),i=o({DAD_creationData:r});await a.insertOrAssignVariables(i,{type:"global"}),console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂ∑≤ÈáçÊñ∞ÂàõÂª∫ DAD_creationData");const s=(await a.getVariables({type:"global"})).DAD_creationData;if(console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÈ™åËØÅÔºöÊõ¥Êñ∞ÂêéÁöÑ DAD_creationData:",JSON.stringify(s,null,2)),s&&c(s)){const n=s[e].filter(e=>e.id===t);0===n.length?console.log(`„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‚úÖ È™åËØÅÊàêÂäüÔºö${e} È°πÁõÆ ID: ${t} Â∑≤‰ªéÈÖíÈ¶ÜÂÖ®Â±ÄÂèòÈáè‰∏≠Âà†Èô§`):(console.error(`„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‚ùå È™åËØÅÂ§±Ë¥•Ôºö${e} È°πÁõÆ ID: ${t} ‰ªçÂú®ÈÖíÈ¶ÜÂÖ®Â±ÄÂèòÈáè‰∏≠`),console.error("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂâ©‰ΩôÈ°πÁõÆ:",n))}else console.error("„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‚ùå È™åËØÅÂ§±Ë¥•ÔºöDAD_creationData Ê†ºÂºèÊó†Êïà")}else console.error("„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‚ùå ÈÖíÈ¶ÜÂä©Êâã‰∏çÂèØÁî®")}catch(e){console.error("„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‚ùå ÂêåÊ≠•ÈÖíÈ¶ÜÂÖ®Â±ÄÂèòÈáèÂ§±Ë¥•:",e)}}}else console.warn(`„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂà†Èô§Â§±Ë¥•ÔºöÊú™ÊâæÂà∞ ${e} È°πÁõÆÔºåID: ${t}`)}function $(e,t,n){const a=d.value[e].findIndex(e=>e.id===t);if(a>-1){const r=d.value[e][a];return d.value[e][a]={...r,...n},console.log(`„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂ∑≤Êõ¥Êñ∞ ${e} È°πÁõÆÔºåID: ${t}`),T(),!0}return!1}async function O(){const e=await async function(){let e="Êó†ÂêçËÄÖ";try{e=await(0,i.getCurrentCharacterName)()||"Êó†ÂêçËÄÖ"}catch(t){console.warn("Ëé∑ÂèñÁî®Êà∑ÂêçÂ≠óÂ§±Ë¥•:",t),e="Êó†ÂêçËÄÖ"}return{gender:"Áî∑",character_name:e,race:"‰∫∫Êóè",world_id:"",talent_tier_id:"",current_age:16,root_bone:0,spirituality:0,comprehension:0,fortune:0,charm:0,temperament:0,origin_id:null,spirit_root_id:null,selected_talent_ids:[]}}();u.value=e,m.value=1}return{mode:e,isLoading:t,error:a,creationData:d,characterPayload:u,currentStep:m,isLocalCreation:p,initialGameMessage:g,worldGenerationConfig:v,useStreamingStart:h,generateMode:f,gameDifficulty:b,currentDifficultyPrompt:x,totalSteps:k,attributes:w,selectedWorld:E,selectedTalentTier:N,selectedOrigin:S,selectedSpiritRoot:_,selectedTalents:V,remainingTalentPoints:A,totalTalentCost:D,bonusTalentPoints:C,initializeStore:async function(r){t.value=!0,a.value=null,e.value=r;try{const e=await(0,i.getCurrentCharacterName)();u.value.character_name=e||"Êó†ÂêçËÄÖ",console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂ∑≤Ëé∑ÂèñÁî®Êà∑Áî®Êà∑Âêç:",u.value.character_name)}catch(e){console.warn("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëËé∑ÂèñÁî®Êà∑Áî®Êà∑ÂêçÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§Âêç",e),u.value.character_name="Êó†ÂêçËÄÖ"}try{if("single"===r){console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂàùÂßãÂåñÁ©øË∂äÂºÇ‰∏ñÁïåÔºåÂä†ËΩΩÊú¨Âú∞Êï∞ÊçÆÂíåËá™ÂÆö‰πâÊï∞ÊçÆÔºÅ");const e=l.eQ.map(e=>({...e,source:"local"})),t=l.VQ.map(e=>({...e,source:"local"})),a=l.yM.map(e=>({...e,source:"local"})),r=l.Gr.map(e=>({...e,source:"local"})),o=l.qS.map(e=>({...e,source:"local"}));let i={worlds:[],talentTiers:[],origins:[],spiritRoots:[],talents:[]};try{const{loadFromIndexedDB:e}=await Promise.resolve().then(n.bind(n,5099)),t=await e("customCreationData");t&&c(t)&&(i=t,console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊàêÂäüÂä†ËΩΩËá™ÂÆö‰πâÊï∞ÊçÆ:",{worlds:i.worlds.length,talentTiers:i.talentTiers.length,origins:i.origins.length,spiritRoots:i.spiritRoots.length,talents:i.talents.length}))}catch(e){console.warn("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂä†ËΩΩËá™ÂÆö‰πâÊï∞ÊçÆÂ§±Ë¥•Ôºå‰ªÖ‰ΩøÁî®Êú¨Âú∞Êï∞ÊçÆ:",e)}const s=i.worlds.map(e=>({...e,source:"cloud"})),u=i.talentTiers.map(e=>({...e,source:"cloud"})),m=i.origins.map(e=>({...e,source:"cloud"})),p=i.spiritRoots.map(e=>({...e,source:"cloud"})),g=i.talents.map(e=>({...e,source:"cloud"})),h=(e,t)=>{const n=new Map;return e.forEach(e=>n.set(e.id,e)),t.forEach(e=>n.set(e.id,e)),Array.from(n.values())};d.value.worlds=h(e,s),d.value.talentTiers=h(t,u),d.value.origins=h(a,m),d.value.spiritRoots=h(r,p),d.value.talents=h(o,g)}else{console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂàùÂßãÂåñËÅîÊú∫Ê®°ÂºèÔºå‰ªéÂêéÁ´ØËé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆÔºÅ");const{isBackendConfigured:e}=await Promise.resolve().then(n.bind(n,8546)),{verifyStoredToken:t}=await Promise.resolve().then(n.bind(n,9333));if(e())if(await t())try{console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂêéÁ´ØÂ∑≤ÈÖçÁΩÆ‰∏î token ÊúâÊïàÔºåÂºÄÂßãËØ∑Ê±Ç‰∫ëÁ´ØÊï∞ÊçÆ...");const[e,t,n,a,r]=await Promise.all([(0,s.w2)(),(0,s.yZ)(),(0,s.Uy)(),(0,s.xJ)(),(0,s.Qc)()]);console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊàêÂäüËé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆ:",{worlds:e.length,talentTiers:t.length,origins:n.length,spiritRoots:a.length,talents:r.length}),d.value.worlds=e.map(e=>({...e,source:"cloud"})),d.value.talentTiers=t.map(e=>({...e,source:"cloud"})),d.value.origins=n.map(e=>({...e,source:"cloud"})),d.value.spiritRoots=a.map(e=>({...e,source:"cloud"})),d.value.talents=r.map(e=>({...e,source:"cloud"}))}catch(e){console.error("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëËé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆÂ§±Ë¥•ÔºåÂõûÈÄÄÂà∞Êú¨Âú∞Êï∞ÊçÆ:",e),d.value.worlds=l.eQ.map(e=>({...e,source:"local"})),d.value.talentTiers=l.VQ.map(e=>({...e,source:"local"})),d.value.origins=l.yM.map(e=>({...e,source:"local"})),d.value.spiritRoots=l.Gr.map(e=>({...e,source:"local"})),d.value.talents=l.qS.map(e=>({...e,source:"local"}))}else console.warn("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëËÅîÊú∫Ê®°Âºè token Êó†ÊïàÔºåÂõûÈÄÄÂà∞Êú¨Âú∞Êï∞ÊçÆ"),d.value.worlds=l.eQ.map(e=>({...e,source:"local"})),d.value.talentTiers=l.VQ.map(e=>({...e,source:"local"})),d.value.origins=l.yM.map(e=>({...e,source:"local"})),d.value.spiritRoots=l.Gr.map(e=>({...e,source:"local"})),d.value.talents=l.qS.map(e=>({...e,source:"local"})),a.value="ËÅîÊú∫Ê®°ÂºèÈúÄË¶ÅÂÖàÁôªÂΩï";else console.warn("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂêéÁ´ØÊú™ÈÖçÁΩÆÔºå‰ΩøÁî®Êú¨Âú∞Êï∞ÊçÆÔºÅ"),d.value.worlds=l.eQ.map(e=>({...e,source:"local"})),d.value.talentTiers=l.VQ.map(e=>({...e,source:"local"})),d.value.origins=l.yM.map(e=>({...e,source:"local"})),d.value.spiritRoots=l.Gr.map(e=>({...e,source:"local"})),d.value.talents=l.qS.map(e=>({...e,source:"local"}))}}catch(e){console.error("Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:",e),a.value="Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",d.value.talentTiers=l.VQ.map(e=>({...e,source:"local"})),d.value.origins=l.yM.map(e=>({...e,source:"local"})),d.value.spiritRoots=l.Gr.map(e=>({...e,source:"local"})),d.value.talents=l.qS.map(e=>({...e,source:"local"}))}finally{t.value=!1}},fetchCloudWorlds:async function(){console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊ≠£Âú®‰ªé‰∫ëÁ´ØËé∑Âèñ‰∏ñÁïåÂàóË°®..."),t.value=!0,a.value=null;try{const e=await(0,s.w2)();console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊàêÂäüËé∑ÂèñÊõ¥Êñ∞‰∏ñÁïåÊï∞ÊçÆ",e);const t=e.map(e=>({...e,source:"cloud"})),n=(l.eQ.map(e=>({...e,source:"local"})),new Map);t.forEach(e=>n.set(e.id,e)),d.value.worlds=Array.from(n.values()),console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‰∏ñÁïåÂàóË°®Â∑≤Êõ¥Êñ∞:",d.value.worlds.length,"‰∏™‰∏ñÁïå"),console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‰∫ëÁ´Ø‰∏ñÁïå",d.value.worlds.filter(e=>"cloud"===e.source))}catch(e){console.error("„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‰ªé‰∫ëÁ´ØËé∑Âèñ‰∏ñÁïåÂàóË°®Â§±Ë¥•:",e),a.value=`Ëé∑ÂèñÊõ¥Êñ∞‰∏ñÁïåÂàóË°®Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`;const t=l.eQ.map(e=>({...e,source:"local"}));d.value.worlds=t,console.warn("„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‰∫ëÁ´ØÊï∞ÊçÆËé∑ÂèñÂ§±Ë¥•ÔºåÂ∑≤Êèê‰æõÊú¨Âú∞Â§áÈÄâÊï∞ÊçÆ")}finally{t.value=!1}},fetchAllCloudData:async function(){console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊ≠£Âú®‰ªé‰∫ëÁ´ØËé∑ÂèñÂÆåÊï¥Âàõ‰∏ñÊï∞ÊçÆ..."),t.value=!0,a.value=null;try{const[e,t,n,a,r]=await Promise.all([(0,s.w2)(),(0,s.yZ)(),(0,s.Uy)(),(0,s.xJ)(),(0,s.Qc)()]);console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊàêÂäüËé∑ÂèñÊâÄÊúâ‰∫ëÁ´ØÊï∞ÊçÆ"),console.log("- ‰∏ñÁïå:",e.length,"‰∏™"),console.log("- Â§©ËµÑÁ≠âÁ∫ß:",t.length,"‰∏™"),console.log("- Âá∫Ë∫´:",n.length,"‰∏™"),console.log("- ÊîπÈÄ†Ê†∏ÂøÉ:",a.length,"‰∏™"),console.log("- Â§©Ëµã:",r.length,"‰∏™");const o={worlds:d.value.worlds.length,talentTiers:d.value.talentTiers.length,origins:d.value.origins.length,spiritRoots:d.value.spiritRoots.length,talents:d.value.talents.length},i=(e,t)=>(e||[]).filter(Boolean).map(e=>({...t,...e,source:"cloud"})),l=i(e,{id:0,name:"",era:"",description:""}),c=i(t,{id:0,name:"Êú™Áü•Â§©ËµÑ",description:"",total_points:20,rarity:1,color:"#FFFFFF"}),u=i(n,{id:0,name:"",description:"",talent_cost:0,attribute_modifiers:{},rarity:0}),m=i(a,{id:0,name:"",tier:"",description:"",base_multiplier:0,talent_cost:0}),p=i(r,{id:0,name:"",description:"",talent_cost:0,rarity:0}),g=d.value.worlds,h=d.value.talentTiers,f=d.value.origins,v=d.value.spiritRoots,b=d.value.talents,y=(e,t)=>{const n=[],a=new Set(e.map(e=>e.name));let r=Math.max(...e.map(e=>e.id),0);return t.forEach(e=>{if(!a.has(e.name)){r++;const t={...e,id:r};n.push(t),a.add(t.name)}}),n},x=(e,t)=>{t.length>0&&e.push(...t)};x(d.value.worlds,y(g,l)),x(d.value.talentTiers,y(h,c)),x(d.value.origins,y(f,u)),x(d.value.spiritRoots,y(v,m)),x(d.value.talents,y(b,p)),console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊâÄÊúâ‰∫ëÁ´ØÊï∞ÊçÆÂêàÂπ∂ÂÆåÊàê"),console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÊúÄÁªàÊï∞ÊçÆÈ™åËØÅ"),console.log("- ‰∏ñÁïå (‰∫ëÁ´Ø):",d.value.worlds.filter(e=>"cloud"===e.source).length),console.log("- Â§©ËµÑ (‰∫ëÁ´Ø):",d.value.talentTiers.filter(e=>"cloud"===e.source).length),console.log("- Âá∫Ë∫´ (‰∫ëÁ´Ø):",d.value.origins.filter(e=>"cloud"===e.source).length),console.log("- ÊîπÈÄ†Ê†∏ÂøÉ (‰∫ëÁ´Ø):",d.value.spiritRoots.filter(e=>"cloud"===e.source).length),console.log("- Â§©Ëµã (‰∫ëÁ´Ø):",d.value.talents.filter(e=>"cloud"===e.source).length),console.log("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂ§©ËµÑÊï∞ÊçÆÁ§∫‰æã",d.value.talentTiers.slice(0,3).map(e=>({name:e.name,source:e.source})));const k={worlds:d.value.worlds.length,talentTiers:d.value.talentTiers.length,origins:d.value.origins.length,spiritRoots:d.value.spiritRoots.length,talents:d.value.talents.length},w=k.worlds-o.worlds+(k.talentTiers-o.talentTiers)+(k.origins-o.origins)+(k.spiritRoots-o.spiritRoots)+(k.talents-o.talents);return console.log(`„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëÂêåÊ≠•ÂÆåÊàêÔºåÊñ∞Â¢û ${w} È°πÊï∞ÊçÆ„ÄÇ`),await T(),w}catch(e){console.error("„ÄêÂàõ‰∏ñÁ•ûÊÆø„ÄëËé∑ÂèñÊõ¥Êñ∞Âàõ‰∏ñÊï∞ÊçÆÂ§±Ë¥•",e),a.value=`Ëé∑ÂèñÊõ¥Êñ∞Âàõ‰∏ñÊï∞ÊçÆÂ§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`;const t=l.eQ.map(e=>({...e,source:"local"})),n=l.VQ.map(e=>({...e,source:"local"})),r=l.yM.map(e=>({...e,source:"local"})),o=l.Gr.map(e=>({...e,source:"local"})),i=l.qS.map(e=>({...e,source:"local"}));return d.value.worlds=t,d.value.talentTiers=n,d.value.origins=r,d.value.spiritRoots=o,d.value.talents=i,console.warn("„ÄêÂàõ‰∏ñÁ•ûÊÆø„Äë‰∫ëÁ´ØÊï∞ÊçÆËé∑ÂèñÂ§±Ë¥•ÔºåÂ∑≤Êèê‰æõÊú¨Âú∞Â§áÈÄâÊï∞ÊçÆ"),0}finally{t.value=!1}},addWorld:B,addTalentTier:I,addOrigin:M,addSpiritRoot:z,addTalent:P,addGeneratedData:function(e,t){switch(e){case"world":B(t);break;case"talent_tier":I(t);break;case"origin":M(t);break;case"spirit_root":z(t);break;case"talent":P(t);break;default:console.warn(`Unknown data type for addGeneratedData: ${e}`)}},removeWorld:async e=>await R("worlds",e),removeTalentTier:async e=>await R("talentTiers",e),removeOrigin:async e=>await R("origins",e),removeSpiritRoot:async e=>await R("spiritRoots",e),removeTalent:async e=>await R("talents",e),updateWorld:(e,t)=>$("worlds",e,t),updateTalentTier:(e,t)=>$("talentTiers",e,t),updateOrigin:(e,t)=>$("origins",e,t),updateSpiritRoot:(e,t)=>$("spiritRoots",e,t),updateTalent:(e,t)=>$("talents",e,t),getItemById:(e,t)=>d.value[e].find(e=>e.id===t)||null,selectWorld:function(e){u.value.world_id=e},selectTalentTier:function(e){u.value.talent_tier_id=e,u.value.origin_id=null,u.value.spirit_root_id=null,u.value.selected_talent_ids=[],u.value.root_bone=0,u.value.spirituality=0,u.value.comprehension=0,u.value.fortune=0,u.value.charm=0,u.value.temperament=0},selectOrigin:function(e){u.value.origin_id=e},selectSpiritRoot:function(e){u.value.spirit_root_id=e},toggleTalent:function(e){const t=u.value.selected_talent_ids.indexOf(e);t>-1?u.value.selected_talent_ids.splice(t,1):u.value.selected_talent_ids.push(e)},setAttribute:function(e,t){e in u.value&&(u.value[e]=t)},resetCharacter:O,nextStep:function(){m.value<7&&m.value++},prevStep:function(){m.value>1&&m.value--},goToStep:function(e){e>=1&&e<=7&&(m.value=e)},setMode:function(t){e.value=t,p.value="single"===t},toggleLocalCreation:function(){p.value=!p.value},setInitialGameMessage:function(e){g.value=e},setWorldGenerationConfig:function(e){v.value={...v.value,...e}},resetOnExit:async function(){await O(),e.value="single",p.value=!0},startLocalCreation:async function(){await O(),p.value=!0,e.value="single"},startCloudCreation:async function(){await O(),p.value=!1,e.value="cloud"},persistCustomData:T,setAIGeneratedSpiritRoot:function(e){if(!e||"object"!=typeof e||!e.name)return;let t=d.value.spiritRoots.find(t=>t.name===e.name);if(!t){const n=Math.max(...d.value.spiritRoots.map(e=>e.id),0)+1;z({...e,id:n}),t=d.value.spiritRoots.find(t=>t.name===e.name),console.log(`[Âàõ‰∏ñÁ•ûÊÆø] AIÁîüÊàê‰∫ÜÊñ∞ÁöÑÊîπÈÄ†Ê†∏ÂøÉ "${e.name}" Âπ∂Â∑≤Ê∑ªÂä†Âà∞ÂàóË°®‰∏≠ (ID: ${n})`)}t&&(u.value.spirit_root_id=t.id,console.log(`[Âàõ‰∏ñÁ•ûÊÆø] Â∑≤Â∞ÜÁé©ÂÆ∂ÈÄâÊã©ÁöÑÊîπÈÄ†Ê†∏ÂøÉÊõ¥Êñ∞‰∏∫AIÁîüÊàêÁöÑÁªìÊûú: "${t.name}"`))},setAIGeneratedOrigin:function(e){if(!e||"object"!=typeof e||!e.name)return;let t=d.value.origins.find(t=>t.name===e.name);if(!t){const n=Math.max(...d.value.origins.map(e=>e.id),0)+1;M({...e,id:n}),t=d.value.origins.find(t=>t.name===e.name),console.log(`[Âàõ‰∏ñÁ•ûÊÆø] AIÁîüÊàê‰∫ÜÊñ∞ÁöÑÂá∫Ë∫´ "${e.name}" Âπ∂Â∑≤Ê∑ªÂä†Âà∞ÂàóË°®‰∏≠ (ID: ${n})`)}t&&(u.value.origin_id=t.id,console.log(`[Âàõ‰∏ñÁ•ûÊÆø] Â∑≤Â∞ÜÁé©ÂÆ∂ÈÄâÊã©ÁöÑÂá∫Ë∫´Êõ¥Êñ∞‰∏∫AIÁîüÊàêÁöÑÁªìÊûú: "${t.name}"`))}}})},1237:e=>{"use strict";e.exports=EvalError},1270:function(e,t,n){var a;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof n.g&&n.g;r.global!==r&&r.window!==r&&r.self;var o,i=2147483647,s=36,l=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,p=String.fromCharCode;function g(e){throw new RangeError(u[e])}function h(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function f(e,t){var n=e.split("@"),a="";return n.length>1&&(a=n[0]+"@",e=n[1]),a+h((e=e.replace(d,".")).split("."),t).join(".")}function v(e){for(var t,n,a=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),r--):a.push(t);return a}function b(e){return h(e,function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)}).join("")}function y(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:s}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,n){var a=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;a+=s)e=m(e/35);return m(a+36*e/(e+38))}function w(e){var t,n,a,r,o,l,c,d,u,p,h=[],f=e.length,v=0,x=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)e.charCodeAt(a)>=128&&g("not-basic"),h.push(e.charCodeAt(a));for(r=n>0?n+1:0;r<f;){for(o=v,l=1,c=s;r>=f&&g("invalid-input"),((d=y(e.charCodeAt(r++)))>=s||d>m((i-v)/l))&&g("overflow"),v+=d*l,!(d<(u=c<=w?1:c>=w+26?26:c-w));c+=s)l>m(i/(p=s-u))&&g("overflow"),l*=p;w=k(v-o,t=h.length+1,0==o),m(v/t)>i-x&&g("overflow"),x+=m(v/t),v%=t,h.splice(v++,0,x)}return b(h)}function E(e){var t,n,a,r,o,l,c,d,u,h,f,b,y,w,E,N=[];for(b=(e=v(e)).length,t=128,n=0,o=72,l=0;l<b;++l)(f=e[l])<128&&N.push(p(f));for(a=r=N.length,r&&N.push("-");a<b;){for(c=i,l=0;l<b;++l)(f=e[l])>=t&&f<c&&(c=f);for(c-t>m((i-n)/(y=a+1))&&g("overflow"),n+=(c-t)*y,t=c,l=0;l<b;++l)if((f=e[l])<t&&++n>i&&g("overflow"),f==t){for(d=n,u=s;!(d<(h=u<=o?1:u>=o+26?26:u-o));u+=s)E=d-h,w=s-h,N.push(p(x(h+E%w,0))),d=m(E/w);N.push(p(x(d,0))),o=k(n,y,a==r),n=0,++a}++n,++t}return N.join("")}o={version:"1.4.1",ucs2:{decode:v,encode:b},decode:w,encode:E,toASCII:function(e){return f(e,function(e){return c.test(e)?"xn--"+E(e):e})},toUnicode:function(e){return f(e,function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e})}},void 0===(a=function(){return o}.call(t,n,t,e))||(e.exports=a)}()},1333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var a in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},1393:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.data-clear-container[data-v-5b396b26] {\n  display: flex;\n  align-items: center;\n}\n.clear-buttons[data-v-5b396b26] {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n.clear-button[data-v-5b396b26] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.5rem 0.8rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 80px;\n  white-space: nowrap;\n}\n.clear-button[data-v-5b396b26]:hover:not(:disabled) {\n  background: rgba(var(--color-danger-rgb), 0.1);\n  border-color: var(--color-danger);\n  color: var(--color-danger);\n}\n.clear-button[data-v-5b396b26]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n.clear-icon[data-v-5b396b26] {\n  font-size: 1em;\n  flex-shrink: 0;\n}\n.clear-text[data-v-5b396b26] {\n  font-weight: 500;\n}\n\n/* ‰∏çÂêåÁ±ªÂûãÊåâÈíÆÁöÑÁâπÂÆöÊ†∑Âºè */\n.clear-button.extra[data-v-5b396b26]:hover:not(:disabled) {\n  background: rgba(255, 165, 0, 0.2);\n  border-color: orange;\n  color: orange;\n}\n.clear-button.sync[data-v-5b396b26]:hover:not(:disabled) {\n  background: rgba(135, 206, 235, 0.2);\n  border-color: skyblue;\n  color: skyblue;\n}\n",""]);const s=i},1412:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]])},1419:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var a=n(4061),r=n(4717),o=n(1783);const i={class:"tree-node"},s={key:0,class:"arrow"},l={key:1,class:"arrow"},c={class:"key"},d={key:2,class:"value"},u={class:"action-buttons"},m=["disabled"],p=["disabled"],g={key:0,class:"node-children"},h=(0,a.defineComponent)({__name:"TreeNode",props:{nodeKey:{},value:{},path:{},readOnly:{type:Boolean,default:!1}},emits:["delete-item","edit-item"],setup(e,{emit:t}){const h=(0,a.defineAsyncComponent)(()=>Promise.resolve().then(n.bind(n,1419))),f=e,v=t,b=(0,a.ref)(!1),y=(0,a.computed)(()=>"object"==typeof f.value&&null!==f.value),x=(0,a.computed)(()=>null===f.value?"null":"string"==typeof f.value&&f.value.length>100?`"${f.value.substring(0,100)}..."`:JSON.stringify(f.value)),k=(0,a.computed)(()=>{const e=f.path,t=e.startsWith("ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.")&&4===e.split(".").length,n=e.startsWith("Á§æ‰∫§.ÂÖ≥Á≥ª.")&&3===e.split(".").length;return t||n}),w=()=>{y.value&&(b.value=!b.value)},E=()=>{f.readOnly||v("delete-item",f.path)},N=()=>{f.readOnly||v("edit-item",f.path,f.value)};return(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",i,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["node-line",{"is-object":y.value}]),onClick:w},[y.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",s,(0,a.toDisplayString)(b.value?"‚ñº":"‚ñ∂"),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",l)),(0,a.createElementVNode)("span",c,(0,a.toDisplayString)(e.nodeKey)+":",1),y.value?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("span",d,(0,a.toDisplayString)(x.value),1)),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("button",{onClick:(0,a.withModifiers)(N,["stop"]),class:"edit-btn",title:"ÁºñËæëÊ≠§È°π",disabled:e.readOnly},[(0,a.createVNode)((0,a.unref)(r.A),{size:14})],8,m),k.value?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:(0,a.withModifiers)(E,["stop"]),class:"delete-btn",title:"Âà†Èô§Ê≠§È°π",disabled:e.readOnly},[(0,a.createVNode)((0,a.unref)(o.A),{size:14})],8,p)):(0,a.createCommentVNode)("v-if",!0)])],2),y.value&&b.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",g,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.value,(n,r)=>((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(h),{key:r,"node-key":r,value:n,path:`${e.path}.${r}`,"read-only":e.readOnly,onDeleteItem:t[0]||(t[0]=e=>v("delete-item",e)),onEditItem:t[1]||(t[1]=(e,t)=>v("edit-item",e,t))},null,8,["node-key","value","path","read-only"]))),128))])):(0,a.createCommentVNode)("v-if",!0)]))}});var f=n(5072),v=n.n(f),b=n(7825),y=n.n(b),x=n(7659),k=n.n(x),w=n(5056),E=n.n(w),N=n(540),S=n.n(N),_=n(1113),V=n.n(_),C=n(1489),A={};A.styleTagTransform=V(),A.setAttributes=E(),A.insert=k().bind(null,"head"),A.domAPI=y(),A.insertStyleElement=S(),v()(C.A,A),C.A&&C.A.locals&&C.A.locals;const D=(0,n(6262).A)(h,[["__scopeId","data-v-ee632ce2"]])},1489:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.tree-node[data-v-ee632ce2] {\n  padding-left: 20px;\n  position: relative;\n}\n.node-line[data-v-ee632ce2] {\n  display: flex;\n  align-items: center;\n  padding: 4px 0;\n  cursor: default;\n  position: relative;\n}\n.node-line.is-object[data-v-ee632ce2] {\n  cursor: pointer;\n}\n.arrow[data-v-ee632ce2] {\n  width: 20px;\n  text-align: center;\n  margin-left: -20px;\n  color: #888;\n  font-size: 0.7rem;\n}\n.key[data-v-ee632ce2] {\n  color: #9cdcfe; /* ËìùËâ≤ÔºåÈÄÇÂêàÈîÆ */\n  margin-right: 8px;\n  font-weight: bold;\n}\n.value[data-v-ee632ce2] {\n  color: #ce9178; /* Ê©ôËâ≤ÔºåÈÄÇÂêàÂ≠óÁ¨¶‰∏≤ÂÄº */\n}\n.node-children[data-v-ee632ce2] {\n  border-left: 1px solid #444;\n}\n.action-buttons[data-v-ee632ce2] {\n  margin-left: auto;\n  display: none; /* ÈªòËÆ§ÈöêËóè */\n  gap: 4px;\n}\n.node-line:hover .action-buttons[data-v-ee632ce2] {\n  display: flex; /* ÊÇ¨ÂÅúÊó∂ÊòæÁ§∫ */\n}\n.edit-btn[data-v-ee632ce2],\n.delete-btn[data-v-ee632ce2] {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 2px 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n.edit-btn[data-v-ee632ce2]:disabled,\n.delete-btn[data-v-ee632ce2]:disabled {\n  opacity: 0.35;\n  cursor: not-allowed;\n}\n.edit-btn[data-v-ee632ce2] {\n  color: #4a9eff;\n}\n.edit-btn[data-v-ee632ce2]:hover {\n  background: rgba(74, 158, 255, 0.2);\n  color: #6eb3ff;\n}\n.edit-btn[data-v-ee632ce2]:disabled:hover {\n  background: none;\n  color: #4a9eff;\n}\n.delete-btn[data-v-ee632ce2] {\n  color: #ff5555;\n}\n.delete-btn[data-v-ee632ce2]:hover {\n  background: rgba(255, 85, 85, 0.2);\n  color: #ff8080;\n}\n.delete-btn[data-v-ee632ce2]:disabled:hover {\n  background: none;\n  color: #ff5555;\n}\n",""]);const s=i},1513:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var a=n(7203),r=n(406),o=n(8651);async function i(e,t){const[n,i,s,l,c]=await Promise.all([(0,a.XH)("coreOutputRules"),(0,a.XH)("businessRules"),(0,a.XH)("dataDefinitions"),(0,a.XH)("textFormatRules"),(0,a.XH)("worldStandards")]),d=[n,i,(0,o.isTavernEnv)()?s:(0,r.qh)(s),l,c];if(e.includes("actionOptions")){const e=(await(0,a.XH)("actionOptions")).trim(),n=t?`**Áî®Êà∑Ëá™ÂÆö‰πâË¶ÅÊ±Ç**Ôºö${t}\n\nËØ∑‰∏•Ê†ºÊåâÁÖß‰ª•‰∏äËá™ÂÆö‰πâË¶ÅÊ±ÇÁîüÊàêË°åÂä®ÈÄâÈ°π„ÄÇ`:"ÔºàÊó†ÁâπÊÆäË¶ÅÊ±ÇÔºåÊåâÈªòËÆ§ËßÑÂàôÁîüÊàêÔºâ";e&&d.push(e.replace("{{CUSTOM_ACTION_PROMPT}}",n))}if(e.includes("eventSystem")){const e=(await(0,a.XH)("eventSystemRules")).trim();e&&d.push(e)}return d.map(e=>e.trim()).filter(Boolean).join("\n\n---\n\n")}},1514:e=>{"use strict";e.exports=Math.abs},1530:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 viewBox=%270 0 12 12%27%3E%3Cpath fill=%27%23e5e7eb%27 d=%27M6 9L1 4h10z%27/%3E%3C/svg%3E"},1548:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* È°∂Ê†èÂä®‰ΩúÁªü‰∏ÄÂ§ÑÁêÜÔºåÁßªÈô§Êú¨Âú∞Â∑•ÂÖ∑Ê†è */\n/* ÂÆπÂô®Á∫¶ÊùüÈò≤Ê≠¢Ê∫¢Âá∫ */\n.memory-center-panel[data-v-0131582e] {\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  container-type: inline-size;\n  margin: 0;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.25rem;\n}\n\n/* ÂØºÂá∫Âå∫ÂüüÊ†∑Âºè */\n.export-section[data-v-0131582e] {\n  padding: 1.25rem 1.5rem;\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(37, 99, 235, 0.08) 100%);\n  border: 1.5px solid rgba(59, 130, 246, 0.15);\n  border-radius: 14px;\n  display: flex;\n  align-items: center;\n  gap: 1.25rem;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08);\n}\n.export-btn-main[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 600;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  white-space: nowrap;\n  box-shadow: 0 4px 14px rgba(59, 130, 246, 0.25);\n  letter-spacing: 0.3px;\n}\n.export-btn-main[data-v-0131582e]:hover {\n  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);\n  transform: translateY(-3px);\n  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.35);\n}\n.export-hint[data-v-0131582e] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n  opacity: 0.85;\n}\n.filter-section[data-v-0131582e] {\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  background: rgba(var(--color-surface-rgb), 0.6);\n  border: 1px solid rgba(var(--color-border-rgb), 0.2);\n  border-radius: 16px;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n}\n.filter-tabs[data-v-0131582e] {\n  display: flex;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n  overflow: hidden;\n  box-sizing: border-box;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 0;\n  padding: 0.75rem;\n}\n.filter-tabs .filter-tab[data-v-0131582e] {\n  flex: 0 0 auto;\n  margin: 0;\n}\n.filter-tabs .settings-toggle-btn[data-v-0131582e] {\n  margin-left: auto;\n}\n.filter-tab[data-v-0131582e] {\n  flex-shrink: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 150px;\n  margin: 0;\n  padding: 0.7rem 1.2rem;\n  border: 1.5px solid rgba(100, 116, 139, 0.2);\n  background: rgba(255, 255, 255, 0.95);\n  color: #475569;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  box-sizing: border-box;\n  font-size: 0.875rem;\n  font-weight: 600;\n  min-height: 42px;\n  position: relative;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n  letter-spacing: 0.3px;\n}\n.filter-tab[data-v-0131582e]:hover {\n  background: rgba(241, 245, 249, 1);\n  border-color: rgba(59, 130, 246, 0.35);\n  color: #1e293b;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);\n}\n.filter-tab.active[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\n  border-color: transparent;\n  color: white;\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);\n  transform: translateY(-1px);\n}\n.filter-tab .tab-icon[data-v-0131582e] {\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.filter-tab .tab-name[data-v-0131582e] {\n  font-weight: 500;\n  letter-spacing: 0.2px;\n}\n.filter-tab .tab-count[data-v-0131582e] {\n  background: rgba(100, 116, 139, 0.12);\n  color: #64748b;\n  padding: 0.2rem 0.5rem;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 700;\n  min-width: 20px;\n  text-align: center;\n  line-height: 1;\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);\n}\n.filter-tab.active .tab-count[data-v-0131582e] {\n  background: rgba(255, 255, 255, 0.3);\n  color: white;\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.panel-content[data-v-0131582e] {\n  width: 100%;\n  max-width: 100%;\n  height: calc(100% - 80px);\n  overflow-y: auto;\n  overflow-x: hidden;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n/* ËÆæÁΩÆÁïåÈù¢Ê†∑Âºè */\n.settings-section[data-v-0131582e] {\n  margin: 0;\n  padding: 0;\n  background: rgba(var(--color-surface-rgb), 0.95);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  animation: fadeIn-0131582e 0.3s ease-in-out;\n  max-width: 100%;\n  width: 100%;\n  height: 100%;\n  max-height: calc(100% - 80px);\n  box-sizing: border-box;\n  overflow: hidden;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n}\n.settings-header[data-v-0131582e] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0;\n  padding: 1rem 1rem 0.5rem 1rem;\n  border-bottom: 1px solid var(--color-border);\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  flex-shrink: 0;\n}\n.header-actions[data-v-0131582e] {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n.export-btn[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: white;\n  border: none;\n  padding: 0.4rem 0.8rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s;\n  white-space: nowrap;\n  margin-right: 0.5rem;\n}\n.export-btn[data-v-0131582e]:hover {\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n.test-btn[data-v-0131582e] {\n  background: linear-gradient(135deg, #10b981, #059669);\n  color: white;\n  border: none;\n  padding: 0.4rem 0.8rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s;\n  white-space: nowrap;\n}\n.test-btn[data-v-0131582e]:hover {\n  background: linear-gradient(135deg, #059669, #047857);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);\n}\n.settings-title[data-v-0131582e] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.settings-close-btn[data-v-0131582e] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-size: 1.2rem;\n  padding: 0.2rem;\n  border-radius: 4px;\n  transition: var(--transition-fast);\n  flex-shrink: 0;\n}\n.settings-close-btn[data-v-0131582e]:hover {\n  background: rgba(var(--color-danger-rgb), 0.1);\n  color: var(--color-danger);\n}\n.settings-content[data-v-0131582e] {\n  display: block;\n  max-width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  box-sizing: border-box;\n  flex: 1;\n  min-height: 0;\n  padding: 1rem;\n  scrollbar-width: thin;\n  scrollbar-color: transparent transparent;\n}\n.settings-content[data-v-0131582e]::-webkit-scrollbar {\n  width: 8px;\n}\n.settings-content[data-v-0131582e]::-webkit-scrollbar-track {\n  background: transparent;\n  border-radius: 4px;\n}\n.settings-content[data-v-0131582e]::-webkit-scrollbar-thumb {\n  background: transparent;\n  border-radius: 4px;\n}\n.settings-content[data-v-0131582e]::-webkit-scrollbar-thumb:hover {\n  background: transparent;\n}\n.setting-item[data-v-0131582e] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  max-width: 100%;\n  overflow: visible;\n  box-sizing: border-box;\n  margin-bottom: 1.5rem;\n}\n.setting-label[data-v-0131582e] {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n}\n.setting-input[data-v-0131582e] {\n  padding: 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 0.875rem;\n  width: 100px;\n  max-width: 120px;\n  transition: var(--transition-fast);\n  box-sizing: border-box;\n}\n.setting-input[data-v-0131582e]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);\n}\n.setting-textarea[data-v-0131582e] {\n  padding: 0.75rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 0.875rem;\n  width: 100%;\n  max-width: 100%;\n  transition: var(--transition-fast);\n  box-sizing: border-box;\n  resize: vertical;\n  min-height: 100px;\n  font-family: monospace;\n  line-height: 1.4;\n}\n.setting-textarea[data-v-0131582e]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);\n}\n.setting-textarea[data-v-0131582e]::placeholder {\n  color: var(--color-text-secondary);\n  opacity: 0.7;\n}\n.setting-checkbox[data-v-0131582e] {\n  margin-right: 0.5rem;\n  accent-color: var(--color-primary);\n  flex-shrink: 0;\n}\n.setting-hint[data-v-0131582e] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  opacity: 0.8;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n}\n.settings-actions[data-v-0131582e] {\n  display: flex;\n  gap: 0.75rem;\n  margin-top: 2rem;\n  flex-wrap: wrap;\n  max-width: 100%;\n  overflow: visible;\n  box-sizing: border-box;\n}\n\n/* ÊâãÂä®ÊÄªÁªìÂå∫Âüü */\n.manual-summary-section[data-v-0131582e] {\n  margin-top: 1.5rem;\n  padding: 1rem;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.summary-info[data-v-0131582e] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  margin-bottom: 0.75rem;\n}\n.info-text[data-v-0131582e] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.info-hint[data-v-0131582e] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n/* ÈÄöÁî®Êìç‰ΩúÊåâÈíÆÂü∫Ê†∑ÂºèÔºåÁ°Æ‰øùÊúâÊ∏ÖÊô∞ËæπÊ°Ü */\n.action-btn[data-v-0131582e] {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: var(--transition-fast);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n  background: var(--color-surface);\n  color: var(--color-text);\n}\n@keyframes fadeIn-0131582e {\nfrom {\n    opacity: 0;\n    transform: translateY(-10px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.action-btn.success[data-v-0131582e] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  border: 1px solid rgba(var(--color-success-rgb), 0.3);\n  color: var(--color-success);\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: var(--transition-fast);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n}\n.action-btn.success[data-v-0131582e]:hover {\n  background: rgba(var(--color-success-rgb), 0.2);\n  border-color: var(--color-success);\n}\n\n/* ‰ø°ÊÅØÊåâÈíÆÔºåÁî®‰∫é‚ÄúÈáçÁΩÆÈªòËÆ§‚ÄùÁ≠âÊìç‰Ωú */\n.action-btn.info[data-v-0131582e] {\n  background: rgba(var(--color-info-rgb), 0.1);\n  border: 1px solid rgba(var(--color-info-rgb), 0.3);\n  color: var(--color-info);\n}\n.action-btn.info[data-v-0131582e]:hover {\n  background: rgba(var(--color-info-rgb), 0.2);\n  border-color: var(--color-info);\n}\n.settings-toggle-btn[data-v-0131582e] {\n  background: rgba(var(--color-surface-rgb), 0.9);\n  border: 1.5px solid rgba(var(--color-border-rgb), 0.4);\n  padding: 0.65rem;\n  border-radius: 10px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  width: 42px;\n  height: 42px;\n  box-sizing: border-box;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n}\n.settings-toggle-btn[data-v-0131582e]:hover,\n.settings-toggle-btn.active[data-v-0131582e] {\n  background: rgba(59, 130, 246, 0.12);\n  border-color: rgba(59, 130, 246, 0.5);\n  color: #3b82f6;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);\n}\n\n/* ËÆ∞ÂøÜÂç°ÁâáÁâπÂÆöÊ†∑Âºè */\n.memory-list[data-v-0131582e] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.memory-card[data-v-0131582e] {\n  padding: 1.25rem 1.5rem;\n  background: var(--color-surface);\n  border: 1.5px solid rgba(var(--color-border-rgb), 0.5);\n  border-radius: 12px;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n  word-wrap: break-word;\n  word-break: break-word;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n}\n.memory-card[data-v-0131582e]:hover {\n  background: var(--color-surface-light);\n  border-color: rgba(59, 130, 246, 0.35);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.12);\n}\n.memory-header[data-v-0131582e] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.75rem;\n  border-bottom: 1px solid rgba(var(--color-border-rgb), 0.15);\n}\n.memory-actions[data-v-0131582e] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.delete-memory-btn[data-v-0131582e] {\n  background: transparent;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.2s ease;\n  opacity: 0.6;\n}\n.delete-memory-btn[data-v-0131582e]:hover {\n  opacity: 1;\n  background: rgba(220, 38, 38, 0.1);\n  border-color: #dc2626;\n  transform: scale(1.1);\n}\n.memory-type-badge[data-v-0131582e] {\n  padding: 0.35rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  border: 1.5px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text-secondary);\n  letter-spacing: 0.3px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);\n}\n.badge-short[data-v-0131582e] {\n  border-color: rgba(var(--color-warning-rgb), 0.3);\n  background: rgba(var(--color-warning-rgb), 0.1);\n  color: var(--color-warning);\n}\n.badge-medium[data-v-0131582e] {\n  border-color: rgba(var(--color-success-rgb), 0.3);\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n}\n.badge-long[data-v-0131582e] {\n  border-color: rgba(var(--color-info-rgb), 0.3);\n  background: rgba(var(--color-info-rgb), 0.1);\n  color: var(--color-info);\n}\n.memory-time[data-v-0131582e] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.memory-content[data-v-0131582e] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  line-height: 1.5;\n  margin-bottom: 0.5rem;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n.memory-title[data-v-0131582e] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  margin-bottom: 0.75rem;\n  text-align: center;\n  padding: 0.5rem;\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.05));\n  border-radius: 6px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n}\n.memory-section[data-v-0131582e] {\n  display: flex;\n  align-items: center;\n  margin: 0.75rem 0 0.5rem 0;\n  padding: 0.5rem 0;\n  border-bottom: 1px solid rgba(var(--color-border-rgb), 0.3);\n}\n.memory-icon[data-v-0131582e] {\n  font-size: 1.2rem;\n  margin-right: 0.5rem;\n}\n.memory-section-title[data-v-0131582e] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.memory-item[data-v-0131582e] {\n  margin: 0.3rem 0;\n  padding-left: 1rem;\n  color: var(--color-text);\n  line-height: 1.4;\n  position: relative;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n.memory-item[data-v-0131582e]::before {\n  content: \'\';\n  position: absolute;\n  left: 0.25rem;\n  top: 0.6rem;\n  width: 3px;\n  height: 3px;\n  background: var(--color-accent);\n  border-radius: 50%;\n}\n.memory-importance[data-v-0131582e] {\n  font-size: 0.75rem;\n  color: var(--color-accent);\n  font-weight: 500;\n  padding: 0.25rem 0.5rem;\n  background: rgba(var(--color-accent-rgb), 0.1);\n  border-radius: 4px;\n  border: 1px solid rgba(var(--color-accent-rgb), 0.3);\n  display: inline-block;\n}\n.empty-hint[data-v-0131582e] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  opacity: 0.7;\n}\n\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\n@media (max-width: 640px) {\n.memory-center-panel[data-v-0131582e] {\n    gap: 0.75rem;\n    width: 100%;\n    max-width: 100%;\n    overflow: hidden;\n}\n.header-actions .btn-text[data-v-0131582e] {\n    display: none;\n}\n.filter-tabs[data-v-0131582e] {\n    gap: 0.3rem;\n}\n.filter-tab[data-v-0131582e] {\n    max-width: 120px;\n    font-size: 0.8rem;\n}\n.memory-status[data-v-0131582e] {\n    gap: 0.5rem;\n    padding: 0.6rem;\n    flex-direction: column;\n}\n.status-item[data-v-0131582e] {\n    min-width: 80px;\n    flex: 1 1 100px;\n    width: 100%;\n    max-width: 100%;\n}\n.status-text[data-v-0131582e] {\n    font-size: 0.7rem;\n    min-width: 2.5rem;\n}\n.memory-card[data-v-0131582e] {\n    padding: 0.8rem;\n}\n.memory-content[data-v-0131582e] {\n    font-size: 0.8rem;\n}\n.memory-header[data-v-0131582e] {\n    flex-direction: column;\n    gap: 0.5rem;\n    align-items: flex-start;\n}\n.memory-type-badge[data-v-0131582e] {\n    align-self: flex-start;\n}\n.memory-time[data-v-0131582e] {\n    align-self: flex-end;\n    font-size: 0.7rem;\n}\n}\n@media (max-width: 480px) {\n.memory-center-panel[data-v-0131582e] {\n    gap: 0.5rem;\n}\n.filter-tabs[data-v-0131582e] {\n    gap: 0.2rem;\n}\n.filter-tab[data-v-0131582e] {\n    max-width: 100px;\n    font-size: 0.75rem;\n    padding: 0.4rem 0.6rem;\n}\n.memory-status[data-v-0131582e] {\n    padding: 0.5rem;\n}\n.status-item[data-v-0131582e] {\n    gap: 0.3rem;\n}\n.status-label[data-v-0131582e] {\n    font-size: 0.7rem;\n    min-width: 1.5rem;\n}\n.status-bar[data-v-0131582e] {\n    height: 4px;\n}\n.status-text[data-v-0131582e] {\n    font-size: 0.65rem;\n    min-width: 2rem;\n}\n.memory-card[data-v-0131582e] {\n    padding: 0.6rem;\n}\n.memory-content[data-v-0131582e] {\n    font-size: 0.75rem;\n}\n.memory-section-title[data-v-0131582e] {\n    font-size: 0.8rem;\n}\n.memory-item[data-v-0131582e] {\n    font-size: 0.75rem;\n    padding-left: 0.8rem;\n}\n}\n\n/* ÂàÜÈ°µÊéßÂà∂Ê†∑Âºè */\n.pagination-controls[data-v-0131582e] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1.25rem;\n  padding: 1.25rem 1.5rem;\n  background: rgba(var(--color-surface-rgb), 0.6);\n  border: 1.5px solid rgba(var(--color-border-rgb), 0.2);\n  border-radius: 12px;\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n  backdrop-filter: blur(8px);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);\n}\n.pagination-controls.bottom[data-v-0131582e] {\n  margin-top: 1.25rem;\n  margin-bottom: 0;\n}\n.pagination-info[data-v-0131582e] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n}\n.pagination-buttons[data-v-0131582e] {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n.page-btn[data-v-0131582e] {\n  background: var(--color-surface);\n  border: 1.5px solid rgba(var(--color-border-rgb), 0.4);\n  border-radius: 8px;\n  padding: 0.6rem 0.85rem;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  color: var(--color-text);\n  min-width: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);\n}\n.page-btn[data-v-0131582e]:hover:not(:disabled) {\n  background: var(--color-surface-light);\n  border-color: rgba(59, 130, 246, 0.5);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 10px rgba(59, 130, 246, 0.15);\n}\n.page-btn[data-v-0131582e]:disabled {\n  opacity: 0.35;\n  cursor: not-allowed;\n  filter: grayscale(0.3);\n}\n.pagination-jump[data-v-0131582e] {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n.jump-input[data-v-0131582e] {\n  width: 75px;\n  padding: 0.6rem 0.75rem;\n  border: 1.5px solid rgba(var(--color-border-rgb), 0.4);\n  border-radius: 8px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 0.875rem;\n  text-align: center;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);\n  font-weight: 500;\n}\n.jump-input[data-v-0131582e]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);\n}\n.jump-btn[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  padding: 0.6rem 1.25rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 600;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  white-space: nowrap;\n  box-shadow: 0 2px 6px rgba(59, 130, 246, 0.2);\n  letter-spacing: 0.3px;\n}\n.jump-btn[data-v-0131582e]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 14px rgba(59, 130, 246, 0.3);\n  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);\n}\n.vector-toolbar[data-v-0131582e] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.75rem;\n  padding: 0.75rem 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.vector-status[data-v-0131582e] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n  font-size: 0.9rem;\n  color: var(--color-text);\n}\n.status-subtext[data-v-0131582e] {\n  flex-basis: 100%;\n  margin-left: 1.5rem;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.status-subtext.warning[data-v-0131582e] {\n  color: var(--color-warning);\n}\n.status-dot[data-v-0131582e] {\n  width: 10px;\n  height: 10px;\n  border-radius: 999px;\n  background: var(--color-warning);\n  box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.15);\n}\n.status-dot.enabled[data-v-0131582e] {\n  background: var(--color-success);\n  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.15);\n}\n.vector-actions[data-v-0131582e] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.vector-content[data-v-0131582e] {\n  padding: 1rem;\n}\n.vector-stats[data-v-0131582e] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.75rem 1rem;\n  margin-bottom: 0.75rem;\n  padding: 0.75rem;\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  background: var(--color-surface);\n}\n.stats-item[data-v-0131582e] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: var(--color-text);\n}\n.stats-label[data-v-0131582e] {\n  opacity: 0.7;\n}\n.stats-value[data-v-0131582e] {\n  font-weight: 600;\n}\n.vector-list[data-v-0131582e] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-top: 0.75rem;\n}\n.vector-card[data-v-0131582e] {\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 0.75rem;\n  background: var(--color-surface);\n}\n.vector-card-header[data-v-0131582e] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.vector-badges[data-v-0131582e] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.vector-badge[data-v-0131582e] {\n  font-size: 0.8rem;\n  padding: 0.2rem 0.5rem;\n  border-radius: 999px;\n  background: rgba(var(--color-primary-rgb), 0.12);\n  color: var(--color-primary);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n}\n.vector-badge.secondary[data-v-0131582e] {\n  background: rgba(148, 163, 184, 0.12);\n  color: var(--color-text);\n  border: 1px solid rgba(148, 163, 184, 0.2);\n}\n.vector-time[data-v-0131582e] {\n  font-size: 0.8rem;\n  opacity: 0.75;\n}\n.vector-tags[data-v-0131582e] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.35rem;\n  margin-bottom: 0.5rem;\n}\n.vector-tag[data-v-0131582e] {\n  font-size: 0.8rem;\n  padding: 0.15rem 0.45rem;\n  border-radius: 8px;\n  background: rgba(59, 130, 246, 0.12);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  color: var(--color-text);\n}\n.vector-text[data-v-0131582e] {\n  white-space: pre-wrap;\n  line-height: 1.6;\n  color: var(--color-text);\n}\n@media (max-width: 640px) {\n.pagination-controls[data-v-0131582e] {\n    flex-direction: column;\n    gap: 0.75rem;\n}\n.pagination-info[data-v-0131582e] {\n    width: 100%;\n    text-align: center;\n}\n.pagination-buttons[data-v-0131582e] {\n    width: 100%;\n    justify-content: center;\n}\n.pagination-jump[data-v-0131582e] {\n    width: 100%;\n    justify-content: center;\n}\n}\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .filter-tab[data-v-0131582e] {\n  background: rgba(255, 255, 255, 0.9);\n  border-color: rgba(59, 130, 246, 0.2);\n  color: #475569;\n}\n[data-theme="light"] .filter-tab[data-v-0131582e]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.4);\n  color: #1e293b;\n}\n[data-theme="light"] .filter-tab.active[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  border-color: #3b82f6;\n  color: white;\n}\n[data-theme="light"] .settings-toggle-btn[data-v-0131582e] {\n  background: rgba(255, 255, 255, 0.9);\n  border-color: rgba(59, 130, 246, 0.2);\n  color: #475569;\n}\n[data-theme="light"] .settings-toggle-btn[data-v-0131582e]:hover,\n[data-theme="light"] .settings-toggle-btn.active[data-v-0131582e] {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n  color: #2563eb;\n}\n[data-theme="light"] .memory-card[data-v-0131582e] {\n  background: rgba(255, 255, 255, 0.9);\n  border-color: rgba(59, 130, 246, 0.15);\n}\n[data-theme="light"] .memory-card[data-v-0131582e]:hover {\n  border-color: rgba(59, 130, 246, 0.3);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);\n}\n[data-theme="light"] .export-btn-main[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: white;\n}\n[data-theme="light"] .export-btn-main[data-v-0131582e]:hover {\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\n}\n\n/* ========== Ê∑±Ëâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="dark"] .filter-tab[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.9);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #cbd5e1;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n}\n[data-theme="dark"] .filter-tab[data-v-0131582e]:hover {\n  background: rgba(51, 65, 85, 0.95);\n  border-color: rgba(59, 130, 246, 0.5);\n  color: #f1f5f9;\n}\n[data-theme="dark"] .filter-tab.active[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  border-color: transparent;\n  color: white;\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);\n}\n[data-theme="dark"] .filter-tab .tab-count[data-v-0131582e] {\n  background: rgba(59, 130, 246, 0.25);\n  color: #93c5fd;\n}\n[data-theme="dark"] .filter-tab.active .tab-count[data-v-0131582e] {\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n}\n[data-theme="dark"] .settings-toggle-btn[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.9);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #94a3b8;\n}\n[data-theme="dark"] .settings-toggle-btn[data-v-0131582e]:hover,\n[data-theme="dark"] .settings-toggle-btn.active[data-v-0131582e] {\n  background: rgba(59, 130, 246, 0.2);\n  border-color: #3b82f6;\n  color: #93c5fd;\n}\n[data-theme="dark"] .memory-card[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.9);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="dark"] .memory-card[data-v-0131582e]:hover {\n  border-color: rgba(59, 130, 246, 0.4);\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15);\n}\n[data-theme="dark"] .export-section[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.7);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="dark"] .export-btn-main[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n[data-theme="dark"] .export-btn-main[data-v-0131582e]:hover {\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\n  box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);\n}\n[data-theme="dark"] .pagination-controls[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.7);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="dark"] .page-btn[data-v-0131582e] {\n  background: rgba(51, 65, 85, 0.9);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #e2e8f0;\n}\n[data-theme="dark"] .page-btn[data-v-0131582e]:hover:not(:disabled) {\n  background: rgba(59, 130, 246, 0.2);\n  border-color: #3b82f6;\n}\n[data-theme="dark"] .jump-input[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.9);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #e2e8f0;\n}\n[data-theme="dark"] .jump-btn[data-v-0131582e] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n}\n[data-theme="dark"] .settings-section[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.95);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="dark"] .settings-header[data-v-0131582e] {\n  border-bottom-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="dark"] .vector-card[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.9);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="dark"] .vector-stats[data-v-0131582e] {\n  background: rgba(30, 41, 59, 0.9);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n',""]);const s=i},1601:e=>{"use strict";e.exports=function(e){return e[1]}},1606:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"/* Áªü‰∏ÄÁöÑÊ∏∏ÊàèÈù¢Êùø‰∏ªÈ¢òÊ†∑Âºè */\n\n/* === Èù¢ÊùøÂü∫Á°ÄÂÆπÂô® === */\n.game-panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: rgba(5, 7, 15, 0.7);\n  overflow: hidden;\n  gap: 0.75rem;\n  position: relative;\n  font-family: var(--font-family-sans-serif);\n}\n\n/* === Èù¢ÊùøÂ§¥ÈÉ® === */\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: rgba(8, 12, 22, 0.9);\n  border: 1px solid rgba(0, 240, 255, 0.25);\n  border-radius: 10px;\n  flex-shrink: 0;\n  backdrop-filter: blur(10px);\n  margin: 0.5rem;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.header-icon {\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 2.5rem;\n  height: 2.5rem;\n  background: rgba(0, 240, 255, 0.15);\n  border-radius: 50%;\n  border: 1px solid rgba(0, 240, 255, 0.3);\n}\n\n.header-info {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.panel-title {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #e6faff;\n  /* Èò≤Ê≠¢Ê†áÈ¢òÂú®Á¥ßÂáëÂ∏ÉÂ±Ä‰∏≠ÊíëÁ†¥Â∏ÉÂ±Ä */\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.panel-subtitle {\n  font-size: 0.875rem;\n  color: rgba(226, 232, 240, 0.7);\n}\n\n.header-actions {\n  display: flex;\n  gap: 0.5rem;\n  /* ÂÖÅËÆ∏ÊåâÈíÆËá™Âä®Êç¢Ë°åÔºåÈÅøÂÖçÊ∫¢Âá∫ */\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  max-width: 100%;\n}\n\n/* === Âä®‰ΩúÊåâÈíÆ === */\n.action-btn {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid rgba(0, 240, 255, 0.35);\n  border-radius: 6px;\n  background: rgba(6, 10, 20, 0.85);\n  color: #00f0ff;\n  font-size: 0.875rem;\n  /* Ë°å‰∏∫ÔºöÈªòËÆ§‰∏çÊç¢Ë°åÔºå‰ΩÜÂÆπÂô®ÂèØÂ§öË°åÊòæÁ§∫ */\n  white-space: nowrap;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  /* ÂÖÅËÆ∏Âú®ÈúÄË¶ÅÊó∂Êî∂Áº©ÔºåÈÅøÂÖçÂÆπÂô®Ë¢´ÊíëÁ†¥ */\n  flex: 0 1 auto;\n  max-width: 100%;\n}\n\n.action-btn:hover {\n  background: rgba(0, 240, 255, 0.12);\n  border-color: rgba(0, 240, 255, 0.7);\n  transform: translateY(-1px);\n  box-shadow: 0 0 16px rgba(0, 240, 255, 0.25);\n}\n\n.action-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n.action-btn.primary {\n  background: rgba(0, 240, 255, 0.25);\n  color: #e6faff;\n  border-color: rgba(0, 240, 255, 0.8);\n}\n\n.action-btn.primary:hover {\n  background: var(--color-primary-hover);\n  border-color: var(--color-primary-hover);\n}\n\n.action-btn.secondary {\n  background: rgba(138, 43, 255, 0.25);\n  color: #f5ebff;\n  border-color: rgba(138, 43, 255, 0.8);\n}\n\n.action-btn.secondary:hover {\n  background: var(--color-accent-hover);\n  border-color: var(--color-accent-hover);\n}\n\n.action-btn.danger {\n  border-color: var(--color-error);\n  color: var(--color-error);\n}\n\n.action-btn.danger:hover {\n  background: rgba(var(--color-error-rgb), 0.05);\n  border-color: var(--color-danger);\n  color: var(--color-danger);\n}\n\n.btn-icon {\n  flex-shrink: 0;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.btn-text {\n  font-weight: 500;\n}\n\n/* === ÂÜÖÂÆπÂå∫Âüü === */\n.panel-content {\n  flex: 1;\n  overflow-y: auto;\n  margin: 0 0.5rem 0.5rem 0.5rem;\n  scrollbar-width: thin;\n  scrollbar-color: var(--scrollbar-thumb) transparent;\n}\n\n.panel-content::-webkit-scrollbar {\n  width: 6px;\n}\n\n.panel-content::-webkit-scrollbar-track {\n  background: rgba(var(--color-border-rgb), 0.1);\n  border-radius: 3px;\n}\n\n.panel-content::-webkit-scrollbar-thumb {\n  background: var(--scrollbar-thumb);\n  border-radius: 3px;\n  opacity: 0.6;\n}\n\n.panel-content::-webkit-scrollbar-thumb:hover {\n  opacity: 0.8;\n}\n\n/* === Á≠õÈÄâÊ†áÁ≠æ === */\n.filter-section {\n  padding: 0.5rem 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  flex-shrink: 0;\n  margin: 0 0.5rem;\n}\n\n.filter-tabs {\n  display: flex;\n  gap: 0.5rem;\n  overflow-x: auto;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n.filter-tabs::-webkit-scrollbar {\n  display: none;\n}\n\n.filter-tab {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid var(--color-border);\n  border-radius: 1.5rem;\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  font-size: 0.875rem;\n  white-space: nowrap;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  flex-shrink: 0;\n}\n\n.filter-tab:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n}\n\n.filter-tab.active {\n  background: var(--color-primary);\n  color: var(--color-background);\n  border-color: var(--color-primary);\n}\n\n.tab-icon {\n  font-size: 1rem;\n}\n\n.tab-name {\n  font-weight: 500;\n}\n\n.tab-count {\n  font-size: 0.75rem;\n  background: rgba(255, 255, 255, 0.2);\n  padding: 0.125rem 0.375rem;\n  border-radius: 0.75rem;\n  font-weight: 600;\n}\n\n.filter-tab.active .tab-count {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n/* === ÁΩëÊ†ºÂ∏ÉÂ±Ä === */\n.items-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  gap: 0.75rem;\n  padding: 0.5rem;\n}\n\n.currency-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 0.75rem;\n}\n\n/* === Âç°ÁâáÊ†∑Âºè === */\n.item-card, .currency-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: var(--transition-fast);\n  position: relative;\n}\n\n.item-card:hover, .currency-item:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.1);\n}\n\n/* === Áä∂ÊÄÅÊåáÁ§∫ === */\n.loading-state, .empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n\n.loading-spinner, .empty-icon {\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n}\n\n.loading-text, .empty-text {\n  font-size: 1rem;\n  margin: 0;\n}\n\n/* === ËØ¶ÊÉÖÂå∫Âüü === */\n.detail-section {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n  margin-top: 1rem;\n}\n\n.detail-header {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n\n.detail-title {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin: 0;\n}\n\n.detail-content {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.info-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 0.5rem;\n}\n\n.info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem;\n  background: var(--color-surface-light);\n  border-radius: 4px;\n  font-size: 0.875rem;\n}\n\n.info-label {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n\n.info-value {\n  color: var(--color-text);\n  font-weight: 600;\n}\n\n/* === ÂàóË°®Ê†∑Âºè === */\n.list-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.list-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  cursor: pointer;\n  transition: var(--transition-fast);\n}\n\n.list-item:hover {\n  background: var(--color-surface-light);\n  border-color: var(--color-border-hover);\n  transform: translateX(2px);\n}\n\n.list-item-content {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  flex: 1;\n}\n\n.list-item-title {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n.list-item-subtitle {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n/* === ËøõÂ∫¶Êù° === */\n.progress-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.progress-bar {\n  height: 6px;\n  background: rgba(var(--color-border-rgb), 0.3);\n  border-radius: 3px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: var(--color-primary);\n  border-radius: 3px;\n  transition: width 0.3s ease;\n}\n\n.progress-text {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n\n/* === ÂàÜÂâ≤Á∫ø === */\n.section-divider {\n  height: 1px;\n  background: var(--color-border);\n  margin: 1rem 0;\n}\n\n/* === ÂìçÂ∫îÂºèÈÄÇÈÖç === */\n@media (max-width: 640px) {\n  .game-panel {\n    gap: 0.5rem;\n  }\n\n  .panel-header {\n    padding: 0.5rem 0.75rem;\n    margin: 0.25rem;\n    /* Â∞èÂ±èÊó∂Â§¥ÈÉ®ÂÜÖÂÆπÁ∫µÂêëÊéíÂàóÔºåÈÅøÂÖçÂ∑¶Âè≥Êå§Âéã */\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem 0.5rem;\n  }\n\n  .filter-section {\n    padding: 0.5rem;\n    margin: 0 0.25rem;\n  }\n\n  .panel-content {\n    margin: 0 0.25rem 0.25rem 0.25rem;\n  }\n\n  .header-left {\n    min-width: 0;\n    flex: 1 1 auto;\n  }\n\n  .header-actions .btn-text {\n    display: none;\n  }\n\n  .header-actions {\n    /* Â§¥ÈÉ®Êìç‰ΩúÊåâÈíÆÁã¨Âç†‰∏ÄË°åÂπ∂ÂèØÊç¢Ë°å */\n    width: 100%;\n    justify-content: flex-start;\n    gap: 0.375rem;\n  }\n\n  .action-btn {\n    /* ÁßªÂä®Á´ØÊõ¥Á¥ßÂáëÁöÑÊåâÈíÆÂ∞∫ÂØ∏ */\n    padding: 0.4rem 0.6rem;\n    font-size: 0.8125rem;\n    /* ÁßªÂä®Á´ØËß¶Êë∏‰ºòÂåñ */\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n    min-height: 36px;\n    min-width: 36px; /* Á°Æ‰øùÊåâÈíÆÊúâË∂≥Â§üÂÆΩÂ∫¶ÊòæÁ§∫ÂõæÊ†á */\n  }\n\n  .items-grid {\n    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n    gap: 0.5rem;\n  }\n\n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n\n  /* ËØ¶ÊÉÖÂå∫ÂüüÊåâÈíÆÂú®Á™ÑÂ±èÂ†ÜÂè†ÔºåÈÅøÂÖçÊ∫¢Âá∫ */\n  .details-actions {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n  }\n\n  .details-actions .action-btn,\n  .details-actions .dialog-btn,\n  .details-actions .operation-btn,\n  .details-actions .card-btn {\n    flex: 1 1 100%;\n    max-width: 100%;\n  }\n\n  /* ÁßªÂä®Á´ØÂàóË°®È°πËß¶Êë∏‰ºòÂåñ */\n  .list-item,\n  .item-card,\n  .currency-item,\n  .filter-tab {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n  }\n\n  /* ÁßªÂä®Á´ØÊñáÊú¨Ëá™Âä®Êç¢Ë°å */\n  .panel-title,\n  .list-item-title,\n  .detail-title {\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    hyphens: auto;\n  }\n}\n\n/* === ‰∏≠Á≠âÂ±èÂπïÈÄÇÈÖç (Âπ≥Êùø) === */\n@media (min-width: 641px) and (max-width: 1024px) {\n  .game-panel {\n    gap: 0.65rem;\n  }\n\n  .panel-header {\n    padding: 0.625rem 0.875rem;\n  }\n\n  .action-btn {\n    padding: 0.45rem 0.7rem;\n    font-size: 0.85rem;\n  }\n\n  .items-grid {\n    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  }\n\n  .info-grid {\n    grid-template-columns: 1fr 1fr;\n  }\n}\n\n/* === ÁâπÊÆäÁä∂ÊÄÅÊ†∑Âºè === */\n.success-indicator {\n  color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.1);\n  border-color: rgba(var(--color-success-rgb), 0.3);\n}\n\n.warning-indicator {\n  color: var(--color-warning);\n  background: rgba(var(--color-warning-rgb), 0.1);\n  border-color: rgba(var(--color-warning-rgb), 0.3);\n}\n\n.error-indicator {\n  color: var(--color-error);\n  background: rgba(var(--color-error-rgb), 0.1);\n  border-color: rgba(var(--color-error-rgb), 0.3);\n}\n\n.info-indicator {\n  color: var(--color-info);\n  background: rgba(var(--color-info-rgb), 0.1);\n  border-color: rgba(var(--color-info-rgb), 0.3);\n}\n\n/* === Âä®ÁîªÊïàÊûú === */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.fade-in-up {\n  animation: fadeInUp 0.3s ease-out;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n.pulse {\n  animation: pulse 2s infinite;\n}\n",""]);const s=i},1651:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o),s=n(4417),l=n.n(s),c=new URL(n(660),n.b),d=new URL(n(1530),n.b),u=i()(r()),m=l()(c),p=l()(d);u.push([e.id,`\n.save-panel[data-v-af2a013c] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: var(--color-background);\n  overflow: hidden;\n  padding: 1rem;\n  gap: 1rem;\n  position: relative;\n}\n\n/* Â∑•ÂÖ∑Ê†èÁßªÈô§ÔºöÁªü‰∏ÄÂà∞È°∂Ê†èÂä®‰Ωú */\n\n/* Â§¥ÈÉ® */\n.panel-header[data-v-af2a013c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: white;\n  border-radius: 0.75rem;\n  border: 1px solid #bae6fd;\n  flex-shrink: 0;\n}\n.header-left[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.header-icon[data-v-af2a013c] {\n  font-size: 1.5rem;\n}\n.header-info[data-v-af2a013c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.panel-title[data-v-af2a013c] {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #0369a1;\n}\n.save-subtitle[data-v-af2a013c] {\n  font-size: 0.875rem;\n  color: #0284c7;\n}\n.header-actions[data-v-af2a013c] {\n  display: flex;\n  gap: 0.5rem;\n}\n.action-btn[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 1px solid #bae6fd;\n  border-radius: 0.5rem;\n  background: white;\n  color: #0369a1;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.875rem;\n}\n.action-btn[data-v-af2a013c]:hover {\n  background: #f0f9ff;\n  border-color: #0284c7;\n}\n.action-btn.primary[data-v-af2a013c] {\n  background: #0284c7;\n  border-color: #0284c7;\n  color: white;\n}\n.action-btn.primary[data-v-af2a013c]:hover {\n  background: #0369a1;\n}\n.action-btn[data-v-af2a013c]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.animate-spin[data-v-af2a013c] {\n  animation: spin-af2a013c 1s linear infinite;\n}\n@keyframes spin-af2a013c {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* Â≠òÊ°£ÂÆπÂô® */\n.saves-container[data-v-af2a013c] {\n  flex: 1;\n  overflow-y: auto;\n  min-height: 0;\n  padding: 0 0.5rem 3rem 0.5rem;\n\n  /* ÊªöÂä®Êù°Ê†∑Âºè */\n  scrollbar-width: thin;\n  scrollbar-color: transparent transparent;\n}\n.saves-container[data-v-af2a013c]::-webkit-scrollbar {\n  width: 8px;\n}\n.saves-container[data-v-af2a013c]::-webkit-scrollbar-track {\n  background: transparent;\n  border-radius: 4px;\n}\n.saves-container[data-v-af2a013c]::-webkit-scrollbar-thumb {\n  background: transparent;\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n.saves-container[data-v-af2a013c]::-webkit-scrollbar-thumb:hover {\n  background: transparent;\n}\n\n/* Âå∫ÂùóÊ†∑Âºè */\n.current-save-section[data-v-af2a013c],\n.saves-section[data-v-af2a013c],\n.operations-section[data-v-af2a013c] {\n  margin-bottom: 1.5rem;\n  background: white;\n  border-radius: 0.75rem;\n  border: 1px solid #bae6fd;\n  overflow: hidden;\n}\n.section-header[data-v-af2a013c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.25rem;\n  background: #f0f9ff;\n  border-bottom: 1px solid #bae6fd;\n}\n.header-actions[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.section-title[data-v-af2a013c] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #0369a1;\n}\n.saves-count[data-v-af2a013c] {\n  font-size: 0.875rem;\n  color: #0c4a6e;\n  background: white;\n  padding: 0.25rem 0.75rem;\n  border-radius: 0.5rem;\n  font-weight: 600;\n  border: 1px solid #bae6fd;\n}\n.saves-count.online-badge[data-v-af2a013c] {\n  background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);\n  color: #065f46;\n  border-color: #a7f3d0;\n}\n\n/* ÂΩìÂâçÂ≠òÊ°£Âç°Áâá */\n.current-save-card[data-v-af2a013c] {\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.save-preview[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.save-preview.small[data-v-af2a013c] {\n  gap: 0.75rem;\n}\n.preview-avatar[data-v-af2a013c] {\n  width: 3rem;\n  height: 3rem;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #0284c7, #0369a1);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 1.25rem;\n}\n.preview-avatar.small[data-v-af2a013c] {\n  width: 2.5rem;\n  height: 2.5rem;\n  font-size: 1rem;\n}\n.preview-info[data-v-af2a013c] {\n  flex: 1;\n}\n.character-name[data-v-af2a013c] {\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #0369a1;\n  margin-bottom: 0.25rem;\n}\n.save-name[data-v-af2a013c] {\n  font-size: 1rem;\n  font-weight: 700;\n  color: #1e40af;\n  margin-bottom: 0.15rem;\n}\n.character-name-small[data-v-af2a013c] {\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: #64748b;\n  margin-bottom: 0.15rem;\n}\n.character-details[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.detail-separator[data-v-af2a013c] {\n  color: #cbd5e1;\n}\n.save-time[data-v-af2a013c] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n\n/* ÁâπÊÆäÂ≠òÊ°£ËØ¥ÊòéÊèêÁ§∫ */\n.save-hint[data-v-af2a013c] {\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  margin-top: 0.25rem;\n  display: inline-block;\n  font-weight: 500;\n}\n.save-hint.auto[data-v-af2a013c] {\n  background: rgba(16, 185, 129, 0.1);\n  color: #059669;\n  border: 1px solid rgba(16, 185, 129, 0.2);\n}\n.save-hint.last[data-v-af2a013c] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #2563eb;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n/* ÂΩìÂâçËøõÂ∫¶ÁöÑÁâπÊÆäÂ≠òÊ°£ËØ¥Êòé */\n.current-save-hint[data-v-af2a013c] {\n  font-size: 0.875rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 6px;\n  margin-top: 0.75rem;\n  display: block;\n  font-weight: 500;\n  line-height: 1.5;\n}\n.current-save-hint.auto[data-v-af2a013c] {\n  background: rgba(16, 185, 129, 0.1);\n  color: #059669;\n  border-left: 3px solid #10b981;\n}\n.current-save-hint.last[data-v-af2a013c] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #2563eb;\n  border-left: 3px solid #3b82f6;\n}\n.save-stats[data-v-af2a013c] {\n  display: flex;\n  gap: 2rem;\n}\n.stat-item[data-v-af2a013c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.stat-label[data-v-af2a013c] {\n  font-size: 0.75rem;\n  color: #64748b;\n  font-weight: 500;\n}\n.stat-value[data-v-af2a013c] {\n  font-size: 0.875rem;\n  color: #0369a1;\n  font-weight: 600;\n}\n\n/* Â≠òÊ°£ÂàóË°® */\n.loading-state[data-v-af2a013c],\n.empty-state[data-v-af2a013c] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n}\n.loading-spinner[data-v-af2a013c],\n.empty-icon[data-v-af2a013c] {\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n}\n.loading-text[data-v-af2a013c],\n.empty-text[data-v-af2a013c] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: #0369a1;\n  margin-bottom: 0.5rem;\n}\n.empty-hint[data-v-af2a013c] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.saves-list[data-v-af2a013c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  padding: 1rem;\n}\n.save-card[data-v-af2a013c] {\n  border: 1px solid #e0f2fe;\n  border-radius: 0.5rem;\n  background: #f8fafc;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.save-card[data-v-af2a013c]:hover {\n  background: #f0f9ff;\n  border-color: #bae6fd;\n  transform: translateY(-1px);\n}\n.save-card.active[data-v-af2a013c] {\n  background: #e0f2fe;\n  border-color: #0284c7;\n}\n.card-header[data-v-af2a013c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  border-bottom: 1px solid #e0f2fe;\n}\n.card-actions[data-v-af2a013c] {\n  display: flex;\n  gap: 0.5rem;\n}\n.card-btn[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 2rem;\n  height: 2rem;\n  border: 1px solid #bae6fd;\n  border-radius: 0.375rem;\n  background: white;\n  color: #0284c7;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.card-btn[data-v-af2a013c]:hover {\n  background: #f0f9ff;\n  border-color: #0284c7;\n}\n.card-btn[data-v-af2a013c]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.card-btn.primary[data-v-af2a013c] {\n  color: #10b981;\n  border-color: #d1fae5;\n}\n.card-btn.primary[data-v-af2a013c]:hover {\n  background: #f0fdf4;\n  border-color: #10b981;\n}\n.card-btn.danger[data-v-af2a013c] {\n  color: #ef4444;\n  border-color: #fecaca;\n}\n.card-btn.danger[data-v-af2a013c]:hover {\n  background: #fef2f2;\n  border-color: #ef4444;\n}\n.card-btn.warning[data-v-af2a013c] {\n  color: #f59e0b;\n  border-color: #fef3c7;\n}\n.card-btn.warning[data-v-af2a013c]:hover {\n  background: #fffbeb;\n  border-color: #f59e0b;\n}\n.card-btn.info[data-v-af2a013c] {\n  color: #0284c7;\n  border-color: #bae6fd;\n}\n.card-btn.info[data-v-af2a013c]:hover {\n  background: #f0f9ff;\n  border-color: #0284c7;\n}\n\n/* Êñ∞Âª∫Â≠òÊ°£ÊåâÈíÆ */\n.new-save-btn[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 2rem;\n  height: 2rem;\n  border: 1px solid #10b981;\n  border-radius: 0.375rem;\n  background: white;\n  color: #10b981;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.new-save-btn[data-v-af2a013c]:hover {\n  background: #f0fdf4;\n  border-color: #059669;\n  color: #059669;\n}\n.new-save-btn[data-v-af2a013c]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.card-content[data-v-af2a013c] {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.save-details[data-v-af2a013c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.detail-row[data-v-af2a013c] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.875rem;\n}\n.detail-label[data-v-af2a013c] {\n  color: #64748b;\n}\n.detail-value[data-v-af2a013c] {\n  color: #0369a1;\n  font-weight: 500;\n}\n\n/* Êìç‰ΩúÂàóË°® */\n.operations-list[data-v-af2a013c] {\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.operation-btn[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border-radius: 0.5rem;\n}\n.operation-btn[data-v-af2a013c]:hover {\n  background: #f0f9ff;\n}\n.operation-btn.primary[data-v-af2a013c] {\n  background: linear-gradient(135deg, #0369a1 0%, #0284c7 100%);\n  color: white;\n}\n.operation-btn.primary[data-v-af2a013c]:hover {\n  background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(3, 105, 161, 0.3);\n}\n.operation-btn.primary .btn-title[data-v-af2a013c],\n.operation-btn.primary .btn-desc[data-v-af2a013c] {\n  color: white;\n}\n.operation-btn.danger[data-v-af2a013c]:hover {\n  background: #fef2f2;\n  color: #ef4444;\n}\n.operation-btn[data-v-af2a013c]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.btn-content[data-v-af2a013c] {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 0.25rem;\n}\n.btn-title[data-v-af2a013c] {\n  font-weight: 500;\n  color: #0369a1;\n}\n.btn-desc[data-v-af2a013c] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.operation-btn.danger .btn-title[data-v-af2a013c] {\n  color: #ef4444;\n}\n\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\n@media (max-width: 640px) {\n.save-stats[data-v-af2a013c] {\n    gap: 1rem;\n}\n.card-header[data-v-af2a013c] {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: stretch;\n}\n.save-preview[data-v-af2a013c] {\n    justify-content: center;\n}\n.card-actions[data-v-af2a013c] {\n    justify-content: center;\n}\n.header-actions .btn-text[data-v-af2a013c] {\n    display: none;\n}\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò */\n[data-theme='dark'] .save-panel[data-v-af2a013c] {\n  background: var(--color-background);\n}\n[data-theme='dark'] .panel-header[data-v-af2a013c],\n[data-theme='dark'] .current-save-section[data-v-af2a013c],\n[data-theme='dark'] .saves-section[data-v-af2a013c],\n[data-theme='dark'] .operations-section[data-v-af2a013c] {\n  background: #1e293b;\n  border-color: #475569;\n}\n\n/* Â≠òÊ°£ÂêçÂõæÊ†áÊ†∑Âºè */\n.auto-save-icon[data-v-af2a013c],\n.last-save-icon[data-v-af2a013c] {\n  display: inline-block;\n  margin-right: 0.25rem;\n  vertical-align: middle;\n}\n.auto-save-icon[data-v-af2a013c] {\n  color: #10b981;\n}\n.last-save-icon[data-v-af2a013c] {\n  color: #3b82f6;\n}\n[data-theme='dark'] .section-header[data-v-af2a013c] {\n  background: #334155;\n  border-bottom-color: #475569;\n}\n[data-theme='dark'] .panel-title[data-v-af2a013c],\n[data-theme='dark'] .section-title[data-v-af2a013c],\n[data-theme='dark'] .character-name[data-v-af2a013c],\n[data-theme='dark'] .save-name[data-v-af2a013c] {\n  color: #0ea5e9;\n}\n[data-theme='dark'] .character-name-small[data-v-af2a013c] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .save-subtitle[data-v-af2a013c],\n[data-theme='dark'] .saves-count[data-v-af2a013c] {\n  color: #38bdf8;\n}\n[data-theme='dark'] .saves-count.online-badge[data-v-af2a013c] {\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(5, 150, 105, 0.2) 100%);\n  color: #6ee7b7;\n  border-color: rgba(16, 185, 129, 0.4);\n}\n[data-theme='dark'] .action-btn[data-v-af2a013c],\n[data-theme='dark'] .card-btn[data-v-af2a013c] {\n  background: #374151;\n  border-color: #475569;\n  color: #0ea5e9;\n}\n[data-theme='dark'] .action-btn[data-v-af2a013c]:hover,\n[data-theme='dark'] .card-btn[data-v-af2a013c]:hover {\n  background: #4b5563;\n}\n[data-theme='dark'] .card-btn.primary[data-v-af2a013c] {\n  color: #10b981;\n  border-color: #065f46;\n}\n[data-theme='dark'] .card-btn.primary[data-v-af2a013c]:hover {\n  background: #065f46;\n}\n[data-theme='dark'] .card-btn.warning[data-v-af2a013c] {\n  color: #f59e0b;\n  border-color: #78350f;\n}\n[data-theme='dark'] .card-btn.warning[data-v-af2a013c]:hover {\n  background: #78350f;\n}\n[data-theme='dark'] .card-btn.info[data-v-af2a013c] {\n  color: #0ea5e9;\n  border-color: #0c4a6e;\n}\n[data-theme='dark'] .card-btn.info[data-v-af2a013c]:hover {\n  background: #0c4a6e;\n}\n[data-theme='dark'] .new-save-btn[data-v-af2a013c] {\n  background: #374151;\n  border-color: #10b981;\n  color: #10b981;\n}\n[data-theme='dark'] .new-save-btn[data-v-af2a013c]:hover {\n  background: #065f46;\n  border-color: #059669;\n}\n[data-theme='dark'] .save-card[data-v-af2a013c] {\n  background: #374151;\n  border-color: #4b5563;\n}\n[data-theme='dark'] .save-card[data-v-af2a013c]:hover {\n  background: #4b5563;\n}\n[data-theme='dark'] .save-card.active[data-v-af2a013c] {\n  background: #1e40af;\n  border-color: #0ea5e9;\n}\n[data-theme='dark'] .operation-btn[data-v-af2a013c]:hover {\n  background: #374151;\n}\n[data-theme='dark'] .btn-title[data-v-af2a013c] {\n  color: #e5e7eb;\n}\n\n/* Ëá™Âä®Â≠òÊ°£ËÆæÁΩÆ */\n.auto-save-settings-section[data-v-af2a013c] {\n  margin-bottom: 1.5rem;\n  background: white;\n  border-radius: 0.75rem;\n  border: 1px solid #bae6fd;\n  overflow: hidden;\n}\n.settings-list[data-v-af2a013c] {\n  padding: 0.5rem;\n}\n.setting-item[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-radius: 0.5rem;\n  transition: background 0.2s ease;\n}\n.setting-item[data-v-af2a013c]:hover {\n  background: #f8fafc;\n}\n.setting-info[data-v-af2a013c] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.setting-name[data-v-af2a013c] {\n  font-weight: 500;\n  color: #1e293b;\n}\n.setting-desc[data-v-af2a013c] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.setting-control[data-v-af2a013c] {\n  display: flex;\n  align-items: center;\n}\n\n/* ÂºÄÂÖ≥Ê†∑Âºè */\n.setting-switch[data-v-af2a013c] {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 24px;\n}\n.setting-switch input[data-v-af2a013c] {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n.switch-slider[data-v-af2a013c] {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #cbd5e1;\n  transition: 0.2s;\n  border-radius: 24px;\n}\n.switch-slider[data-v-af2a013c]:before {\n  position: absolute;\n  content: '';\n  height: 18px;\n  width: 18px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  transition: 0.2s;\n  border-radius: 50%;\n}\ninput:checked + .switch-slider[data-v-af2a013c] {\n  background-color: #3b82f6;\n}\ninput:checked + .switch-slider[data-v-af2a013c]:before {\n  transform: translateX(20px);\n}\n\n/* ‰∏ãÊãâÈÄâÊã©Ê°ÜÊ†∑Âºè */\n.setting-select[data-v-af2a013c] {\n  padding: 0.5rem 2rem 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  background-color: white;\n  background-image: url(${m});\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  background-size: 12px;\n  color: #374151;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: border-color 0.2s ease;\n  appearance: none;\n  min-width: 120px;\n}\n.setting-select[data-v-af2a013c]:hover {\n  border-color: #94a3b8;\n}\n.setting-select[data-v-af2a013c]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n[data-theme='dark'] .auto-save-settings-section[data-v-af2a013c] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme='dark'] .setting-item[data-v-af2a013c]:hover {\n  background: #334155;\n}\n[data-theme='dark'] .setting-name[data-v-af2a013c] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .setting-desc[data-v-af2a013c] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .switch-slider[data-v-af2a013c] {\n  background-color: #4b5563;\n}\n[data-theme='dark'] .setting-select[data-v-af2a013c] {\n  background-color: #374151;\n  border-color: #4b5563;\n  color: #e5e7eb;\n  background-image: url(${p});\n}\n.interval-input[data-v-af2a013c] {\n  width: 60px;\n  padding: 0.5rem;\n  border-radius: 8px;\n  border: 1px solid #d1d5db;\n  text-align: center;\n  margin-right: 0.5rem;\n}\n.unit-label[data-v-af2a013c] {\n  color: #64748b;\n}\n[data-theme='dark'] .interval-input[data-v-af2a013c] {\n  background-color: #374151;\n  border-color: #4b5563;\n  color: #e5e7eb;\n}\n[data-theme='dark'] .unit-label[data-v-af2a013c] {\n  color: #94a3b8;\n}\n`,""]);const g=u},1703:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.data-type-selector[data-v-2d9375b2] {\n  padding: 1rem;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 0.75rem;\n  border-bottom: 1px solid var(--color-border);\n}\n\n/* ÊâãÊú∫Á´ØÈÄÇÈÖç */\n@media (max-width: 640px) {\n.data-type-selector[data-v-2d9375b2] {\n    grid-template-columns: 1fr 1fr;\n    gap: 0.5rem;\n    padding: 0.75rem;\n}\n}\n@media (max-width: 480px) {\n.data-type-selector[data-v-2d9375b2] {\n    gap: 0.4rem;\n    padding: 0.5rem;\n}\n}\n.type-btn[data-v-2d9375b2] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  position: relative;\n  overflow: visible;\n  width: 100%;\n  justify-content: flex-start;\n  color: var(--color-text);\n  background: var(--color-background);\n}\n.type-btn[data-v-2d9375b2]:hover {\n  border-color: var(--color-primary);\n  background: var(--color-primary-light);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.15);\n}\n.type-btn.active[data-v-2d9375b2] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.type-btn.active[data-v-2d9375b2]:hover,\n.type-btn.active[data-v-2d9375b2]:focus,\n.type-btn.active[data-v-2d9375b2]:focus-visible {\n  background: var(--color-primary-hover);\n  color: white;\n  border-color: var(--color-primary-hover);\n  transform: translateY(-1px);\n  box-shadow: 0 6px 16px rgba(var(--color-primary-rgb), 0.25);\n}\n.type-btn svg[data-v-2d9375b2] {\n  color: inherit;\n}\n.type-btn[data-v-2d9375b2]:focus {\n  outline: none;\n}\n.type-btn[data-v-2d9375b2]:focus-visible {\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.25);\n  border-color: var(--color-primary);\n}\n.type-btn[data-v-2d9375b2]:active {\n  transform: translateY(0);\n  box-shadow: none;\n}\n.count-badge[data-v-2d9375b2] {\n  position: absolute;\n  top: -0.5rem;\n  right: -0.5rem;\n  background: var(--color-accent);\n  color: white;\n  font-size: 0.75rem;\n  padding: 0.125rem 0.375rem;\n  border-radius: 10px;\n  min-width: 1.25rem;\n  text-align: center;\n  z-index: 2;\n}\n\n/* ÊâãÊú∫Á´ØÊåâÈíÆÈÄÇÈÖç */\n@media (max-width: 640px) {\n.type-btn[data-v-2d9375b2] {\n    padding: 0.4rem 0.6rem;\n    font-size: 0.8rem;\n    gap: 0.3rem;\n}\n.count-badge[data-v-2d9375b2] {\n    font-size: 0.7rem;\n    padding: 0.1rem 0.3rem;\n    min-width: 1rem;\n}\n}\n@media (max-width: 480px) {\n.type-btn[data-v-2d9375b2] {\n    padding: 0.35rem 0.5rem;\n    font-size: 0.75rem;\n    gap: 0.25rem;\n}\n.count-badge[data-v-2d9375b2] {\n    font-size: 0.65rem;\n    padding: 0.08rem 0.25rem;\n    min-width: 0.9rem;\n}\n}\n",""]);const s=i},1743:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.login-container[data-v-75e6a06a] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: radial-gradient(1200px 600px at 10% 10%, rgba(0, 240, 255, 0.08), transparent 60%),\n    radial-gradient(900px 500px at 90% 20%, rgba(138, 43, 255, 0.08), transparent 55%),\n    linear-gradient(160deg, #05070f 0%, #0b0f1a 45%, #0a1122 100%);\n  position: relative;\n  overflow: hidden;\n}\n.login-container[data-v-75e6a06a]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image:\n    linear-gradient(0deg, transparent 24%, rgba(0, 240, 255, 0.03) 25%, rgba(0, 240, 255, 0.03) 26%, transparent 27%, transparent 74%, rgba(0, 240, 255, 0.03) 75%, rgba(0, 240, 255, 0.03) 76%, transparent 77%, transparent),\n    linear-gradient(90deg, transparent 24%, rgba(0, 240, 255, 0.03) 25%, rgba(0, 240, 255, 0.03) 26%, transparent 27%, transparent 74%, rgba(0, 240, 255, 0.03) 75%, rgba(0, 240, 255, 0.03) 76%, transparent 77%, transparent);\n  background-size: 48px 48px;\n  pointer-events: none;\n  z-index: 0;\n}\n.login-container[data-v-75e6a06a]::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.04), transparent 35%, transparent 65%, rgba(255, 255, 255, 0.03));\n  mix-blend-mode: screen;\n  opacity: 0.35;\n  pointer-events: none;\n}\n.login-panel[data-v-75e6a06a] {\n  width: 100%;\n  max-width: 400px;\n  padding: 2.5rem;\n  background: linear-gradient(135deg, rgba(8, 12, 22, 0.96), rgba(10, 14, 28, 0.92));\n  border: 1px solid rgba(0, 240, 255, 0.5);\n  border-radius: 10px;\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.55), 0 0 30px rgba(0, 240, 255, 0.25);\n  position: relative;\n  z-index: 1;\n  clip-path: polygon(0 0, 96% 0, 100% 8%, 100% 100%, 4% 100%, 0 92%);\n}\n.login-panel[data-v-75e6a06a]::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  border: 1px solid rgba(138, 43, 255, 0.4);\n  border-radius: 10px;\n  pointer-events: none;\n  clip-path: polygon(0 0, 96% 0, 100% 8%, 100% 100%, 4% 100%, 0 92%);\n}\n.login-status[data-v-75e6a06a] {\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  font-size: 0.7rem;\n  letter-spacing: 0.12em;\n  text-transform: uppercase;\n  color: rgba(0, 240, 255, 0.75);\n  margin-bottom: 1.25rem;\n}\n.status-dot[data-v-75e6a06a] {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #ff2d6f;\n  box-shadow: 0 0 10px rgba(255, 45, 111, 0.8);\n}\n.status-dot.online[data-v-75e6a06a] {\n  background: #00f0ff;\n  box-shadow: 0 0 12px rgba(0, 240, 255, 0.9);\n}\n.status-divider[data-v-75e6a06a] {\n  width: 1px;\n  height: 12px;\n  background: rgba(0, 240, 255, 0.3);\n}\n.status-mode[data-v-75e6a06a] {\n  color: rgba(255, 122, 0, 0.85);\n}\n.title[data-v-75e6a06a] {\n  text-align: center;\n  font-family: var(--font-family-serif);\n  font-size: 1.9rem;\n  color: #00f0ff;\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n  text-shadow: 0 0 25px rgba(0, 240, 255, 0.6);\n}\n.subtitle[data-v-75e6a06a] {\n  text-align: center;\n  color: rgba(138, 43, 255, 0.7);\n  margin-bottom: 2rem;\n}\n.form-group[data-v-75e6a06a] {\n  margin-bottom: 1.5rem;\n}\n.form-group label[data-v-75e6a06a] {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: rgba(0, 240, 255, 0.9);\n  font-size: 0.9rem;\n}\n.form-group input[data-v-75e6a06a] {\n  width: 100%;\n  padding: 0.8rem 1rem;\n  background: linear-gradient(135deg, rgba(6, 9, 18, 0.8), rgba(12, 16, 32, 0.85));\n  border: 1px solid rgba(0, 240, 255, 0.35);\n  border-radius: 6px;\n  color: #00f0ff;\n  font-size: 1rem;\n  box-sizing: border-box;\n  transition: all 0.3s ease;\n}\n.form-group input[data-v-75e6a06a]::placeholder {\n  color: rgba(0, 217, 255, 0.3);\n}\n.form-group input[data-v-75e6a06a]:focus {\n  outline: none;\n  border-color: rgba(0, 240, 255, 0.9);\n  box-shadow: 0 0 18px rgba(0, 240, 255, 0.35), inset 0 0 12px rgba(0, 240, 255, 0.15);\n  background: linear-gradient(135deg, rgba(6, 9, 18, 0.95), rgba(14, 18, 38, 0.95));\n}\n.email-input-row[data-v-75e6a06a] {\n  display: flex;\n  gap: 0.5rem;\n}\n.email-input-row input[data-v-75e6a06a] {\n  flex: 1;\n}\n.btn-small[data-v-75e6a06a] {\n  padding: 0.8rem 1rem;\n  white-space: nowrap;\n  flex-shrink: 0;\n  min-width: 100px;\n  border: 1px solid rgba(0, 240, 255, 0.8);\n  background: linear-gradient(135deg, rgba(0, 240, 255, 0.12), rgba(138, 43, 255, 0.12));\n  color: #00f0ff;\n  border-radius: 6px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 0 15px rgba(0, 240, 255, 0.2);\n}\n.btn-small[data-v-75e6a06a]:hover:not(:disabled) {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15));\n  box-shadow: 0 0 25px rgba(0, 217, 255, 0.4);\n}\n.btn-small[data-v-75e6a06a]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.turnstile-group[data-v-75e6a06a] {\n  margin-top: 0.25rem;\n}\n.turnstile-container[data-v-75e6a06a] {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 72px;\n}\n.error-message[data-v-75e6a06a] {\n    color: var(--tech-danger);\n    text-align: center;\n    margin-bottom: 1rem;\n    animation: fadeIn-75e6a06a 0.3s ease;\n    background: linear-gradient(135deg, rgba(255, 0, 85, 0.1), rgba(255, 0, 85, 0.05));\n    border: 1px solid rgba(255, 0, 85, 0.3);\n    padding: 0.75rem;\n    border-radius: 4px;\n}\n.success-message[data-v-75e6a06a] {\n    color: var(--tech-success);\n    text-align: center;\n    margin-bottom: 1rem;\n    animation: fadeIn-75e6a06a 0.3s ease;\n    background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 255, 136, 0.05));\n    border: 1px solid rgba(0, 255, 136, 0.3);\n    padding: 0.75rem;\n    border-radius: 4px;\n}\n.form-actions[data-v-75e6a06a] {\n    display: flex;\n    justify-content: space-between;\n    gap: 1rem;\n    margin-top: 2rem;\n}\n.form-footer[data-v-75e6a06a] {\n    text-align: center;\n    margin-top: 1.5rem;\n    padding-top: 1.5rem;\n    border-top: 1px solid var(--tech-border);\n}\n.link[data-v-75e6a06a] {\n    color: var(--tech-primary);\n    text-decoration: none;\n    transition: all 0.3s ease;\n    font-weight: 500;\n}\n.link[data-v-75e6a06a]:hover {\n    color: #fff;\n    text-shadow: 0 0 10px rgba(0, 217, 255, 0.8);\n}\n.admin-login-toggle[data-v-75e6a06a] {\n    margin-top: 1rem;\n}\n.admin-checkbox[data-v-75e6a06a] {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.5rem;\n    cursor: pointer;\n    color: rgba(0, 217, 255, 0.7);\n    font-size: 0.9rem;\n    transition: all 0.3s ease;\n}\n.admin-checkbox input[type=\"checkbox\"][data-v-75e6a06a] {\n    width: 16px;\n    height: 16px;\n    cursor: pointer;\n    accent-color: var(--tech-warning);\n}\n.admin-checkbox[data-v-75e6a06a]:hover {\n    color: var(--tech-warning);\n}\n.btn[data-v-75e6a06a] {\n  padding: 0.8rem 1.5rem;\n  border-radius: 6px;\n  border: 1px solid rgba(0, 240, 255, 0.8);\n  background: linear-gradient(135deg, rgba(0, 240, 255, 0.18), rgba(138, 43, 255, 0.12));\n  color: #00f0ff;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-weight: 600;\n  box-shadow: 0 0 18px rgba(0, 240, 255, 0.25);\n}\n.btn[data-v-75e6a06a]:hover:not(:disabled) {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.25), rgba(157, 0, 255, 0.15));\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.4);\n}\n.btn[data-v-75e6a06a]:disabled {\n  opacity: 0.55;\n  cursor: not-allowed;\n}\n.btn-secondary[data-v-75e6a06a] {\n  border-color: var(--tech-secondary);\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.1), rgba(157, 0, 255, 0.05));\n  color: var(--tech-secondary);\n  box-shadow: 0 0 15px rgba(157, 0, 255, 0.2);\n}\n.btn-secondary[data-v-75e6a06a]:hover:not(:disabled) {\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.2), rgba(157, 0, 255, 0.1));\n  box-shadow: 0 0 25px rgba(157, 0, 255, 0.4);\n}\n.btn.is-loading[data-v-75e6a06a] {\n  opacity: 0.7;\n  pointer-events: none;\n}\n.btn-text[data-v-75e6a06a] {\n  display: inline-block;\n}\n@keyframes fadeIn-75e6a06a {\nfrom { opacity: 0; transform: translateY(-10px);\n}\nto { opacity: 1; transform: translateY(0);\n}\n}\n",""]);const s=i},1783:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},2119:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.quantity-modal-overlay[data-v-acfc5546] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000; /* Á°Æ‰øùÂú®ÊúÄ‰∏äÂ±Ç */\n  backdrop-filter: blur(4px);\n}\n.quantity-modal[data-v-acfc5546] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-primary-border);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 400px;\n  color: var(--color-text);\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: modal-appear-acfc5546 0.3s ease-out;\n  overflow: hidden;\n}\n@keyframes modal-appear-acfc5546 {\nfrom {\n    opacity: 0;\n    transform: scale(0.9) translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n}\n}\n.modal-header[data-v-acfc5546] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px 16px 24px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-primary-light);\n}\n.modal-header h3[data-v-acfc5546] {\n  margin: 0;\n  color: var(--color-text);\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n.close-btn[data-v-acfc5546] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 12px;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.close-btn[data-v-acfc5546]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  border-color: var(--color-primary);\n}\n.modal-body[data-v-acfc5546] {\n  padding: 24px;\n}\n.item-info[data-v-acfc5546] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 24px;\n  padding: 16px;\n  background: var(--color-surface-light);\n  border-radius: 8px;\n}\n.item-icon[data-v-acfc5546] {\n  font-size: 32px;\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-background);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n}\n.item-details[data-v-acfc5546] {\n  flex: 1;\n}\n.item-name[data-v-acfc5546] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 4px;\n}\n.item-type[data-v-acfc5546] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 4px;\n}\n.available-quantity[data-v-acfc5546] {\n  font-size: 0.85rem;\n  color: var(--color-primary);\n  font-weight: 500;\n}\n.quantity-selector[data-v-acfc5546] {\n  margin-bottom: 20px;\n}\n.quantity-selector label[data-v-acfc5546] {\n  display: block;\n  margin-bottom: 12px;\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.quantity-controls[data-v-acfc5546] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.quantity-btn[data-v-acfc5546] {\n  background: var(--color-surface-hover);\n  border: 1px solid var(--color-border);\n  color: var(--color-text);\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n.quantity-btn[data-v-acfc5546]:hover:not(:disabled) {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.quantity-btn[data-v-acfc5546]:disabled {\n  background: var(--color-surface-light);\n  color: var(--color-text-muted);\n  cursor: not-allowed;\n}\n.quantity-input[data-v-acfc5546] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  color: var(--color-text);\n  padding: 8px 12px;\n  border-radius: 8px;\n  width: 100px;\n  text-align: center;\n  font-size: 1rem;\n  font-weight: 600;\n  transition: all 0.2s ease;\n}\n.quantity-input[data-v-acfc5546]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);\n}\n.quantity-shortcuts[data-v-acfc5546] {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n  margin-top: 16px;\n}\n.preset-btn[data-v-acfc5546] {\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  color: var(--color-text-secondary);\n  padding: 6px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  transition: all 0.2s ease;\n}\n.preset-btn[data-v-acfc5546]:hover:not(:disabled) {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  border-color: var(--color-border-hover);\n}\n.preset-btn[data-v-acfc5546]:disabled {\n  background: var(--color-surface);\n  color: var(--color-text-muted);\n  cursor: not-allowed;\n}\n.modal-footer[data-v-acfc5546] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding: 16px 24px 24px 24px;\n  border-top: 1px solid var(--color-border);\n}\n.cancel-btn[data-v-acfc5546], .confirm-btn[data-v-acfc5546] {\n  padding: 10px 20px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 80px;\n}\n.cancel-btn[data-v-acfc5546] {\n  background: var(--color-surface-hover);\n  color: var(--color-text-secondary);\n}\n.cancel-btn[data-v-acfc5546]:hover {\n  background: var(--color-surface-light);\n  color: var(--color-text);\n}\n.confirm-btn[data-v-acfc5546] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.confirm-btn[data-v-acfc5546]:hover:not(:disabled) {\n  background: var(--color-primary-hover);\n}\n.confirm-btn[data-v-acfc5546]:disabled {\n  background: var(--color-surface-light);\n  border-color: var(--color-border);\n  color: var(--color-text-muted);\n  cursor: not-allowed;\n}\n.discard-confirm[data-v-acfc5546] {\n  background: var(--color-danger) !important;\n  border-color: var(--color-danger) !important;\n}\n.discard-confirm[data-v-acfc5546]:hover:not(:disabled) {\n  background: var(--color-danger-hover) !important;\n}\n.item-description[data-v-acfc5546] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-top: 4px;\n  font-style: italic;\n}\n",""]);const s=i},2143:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r9});var a=n(3992),r=n(4061),o=n(602);const i="videos",s=(0,o.P2)("video-cache-db",1,{upgrade(e){e.objectStoreNames.contains(i)||e.createObjectStore(i)}}),l={class:"video-background-container"},c=(0,r.defineComponent)({__name:"VideoBackground",props:{src:{default:"https://raw.githubusercontent.com/BlcaCola/Transcendent-Rebirth/main/video/video.mp4"}},setup(e){const t=e,n=(0,r.ref)(),a=async e=>{if(!n.value&&(console.warn("[VideoBackground] videoÂÖÉÁ¥†Êú™ÂáÜÂ§áÂ•ΩÔºåÂª∂ËøüÈáçËØï"),await new Promise(e=>setTimeout(e,100)),!n.value))return void console.error("[VideoBackground] videoÂÖÉÁ¥†‰ªçÊú™ÂáÜÂ§áÂ•ΩÔºåÊîæÂºÉÂä†ËΩΩ");n.value.src&&n.value.src.startsWith("blob:")&&(console.log(`[VideoBackground] ÈáäÊîæÊóßÁöÑ Object URL: ${n.value.src}`),URL.revokeObjectURL(n.value.src));try{const t=await async function(e){try{const t=await s;return await t.get(i,e)}catch(t){return void console.error(`[videoCache] Error getting video for key ${e}:`,t)}}(e);if(t){console.log(`[VideoBackground] ‰ªéIndexedDBÂä†ËΩΩËßÜÈ¢ë: ${e}`);const a=URL.createObjectURL(t);console.log(`[VideoBackground] ÂàõÂª∫Êñ∞ÁöÑ Object URL: ${a}`),n.value&&(n.value.src=a)}else{console.log(`[VideoBackground] Â∞ùËØï‰ªéÁΩëÁªúÂä†ËΩΩËßÜÈ¢ë: ${e}`);const t=await fetch(e);if(!t.ok)throw new Error(`ÁΩëÁªúÂìçÂ∫îÈîôËØØ: ${t.statusText}`);const a=await t.blob();await async function(e,t){try{const n=(await s).transaction(i,"readwrite");await n.store.put(t,e),await n.done}catch(t){throw console.error(`[videoCache] Error setting video for key ${e}:`,t),t}}(e,a),console.log(`[VideoBackground] ËßÜÈ¢ëÂ∑≤ÊàêÂäüÂ≠òÂÖ•ÁºìÂ≠ò: ${e}`);const r=URL.createObjectURL(a);console.log(`[VideoBackground] ÂàõÂª∫Êñ∞ÁöÑ Object URL: ${r}`),n.value&&(n.value.src=r)}n.value&&n.value.load()}catch(t){console.warn("[VideoBackground] Âä†ËΩΩÊàñÁºìÂ≠òËßÜÈ¢ëÂ§±Ë¥•:",t),console.log("[VideoBackground] ÂèØËÉΩÊòØË∑®ÂüüÔºàCORSÔºâÈóÆÈ¢òÔºåÊó†Ê≥ïÁºìÂ≠ò„ÄÇÊ≠£Âú®ÂõûÈÄÄÂà∞Áõ¥Êé•Êí≠ÊîæÊ®°Âºè..."),n.value&&(n.value.src=e,n.value.load())}const t=async()=>{if(n.value)try{await n.value.play(),console.log("[VideoBackground] ËßÜÈ¢ëÊí≠ÊîæÊàêÂäü")}catch{console.log("[VideoBackground] Ëá™Âä®Êí≠ÊîæÂ§±Ë¥•ÔºåÁ≠âÂæÖÁî®Êà∑‰∫§‰∫í");const e=async()=>{if(n.value)try{await n.value.play(),console.log("[VideoBackground] Áî®Êà∑‰∫§‰∫íÂêéËßÜÈ¢ëÊí≠ÊîæÊàêÂäü"),document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("touchstart",e)}catch(e){console.warn("[VideoBackground] Âç≥‰ΩøÁî®Êà∑‰∫§‰∫íÂêé‰ªçÊó†Ê≥ïÊí≠Êîæ:",e)}};document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}};n.value&&n.value.readyState>=3?await t():n.value&&n.value.addEventListener("canplay",t,{once:!0})};(0,r.onMounted)(async()=>{await a(t.src)}),(0,r.watch)(()=>t.src,async e=>{e&&await a(e)}),(0,r.onUnmounted)(()=>{n.value&&(n.value.pause(),n.value.src.startsWith("blob:")&&(console.log(`[VideoBackground] ÁªÑ‰ª∂Âç∏ËΩΩÔºåÈáäÊîæ Object URL: ${n.value.src}`),URL.revokeObjectURL(n.value.src)))});const o=()=>{console.log("[VideoBackground] ÂºÄÂßãÂä†ËΩΩËßÜÈ¢ë")},c=()=>{console.log("[VideoBackground] ËßÜÈ¢ëÂèØ‰ª•ÊµÅÁïÖÊí≠Êîæ")},d=e=>{console.error("[VideoBackground] ËßÜÈ¢ëÊí≠ÊîæÈîôËØØ:",e)};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.createElementVNode)("video",{ref_key:"videoRef",ref:n,autoplay:"",muted:"",loop:"",playsinline:"",class:"video-background",onLoadstart:o,onCanplaythrough:c,onError:d},null,544),t[0]||(t[0]=(0,r.createElementVNode)("div",{class:"video-overlay"},null,-1))]))}});var d=n(5072),u=n.n(d),m=n(7825),p=n.n(m),g=n(7659),h=n.n(g),f=n(5056),v=n.n(f),b=n(540),y=n.n(b),x=n(1113),k=n.n(x),w=n(272),E={};E.styleTagTransform=k(),E.setAttributes=v(),E.insert=h().bind(null,"head"),E.domAPI=p(),E.insertStyleElement=y(),u()(w.A,E),w.A&&w.A.locals&&w.A.locals;var N=n(6262);const S=(0,N.A)(c,[["__scopeId","data-v-49aadee8"]]);var _=n(9596);const V=(0,_.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),C=(0,_.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var A=n(9173),D=n(8546),T=n(9333);const B={class:"mode-selection-container"},I={class:"bottom-left-section"},M={class:"left-bottom-content"},z={class:"info-group"},P={class:"version-tag"},R={class:"bottom-right-section"},$={class:"gate-container"},O={class:"gate-icon"},L={class:"gate-info"},F={class:"gate-title"},j={class:"gate-icon"},U={class:"gate-info"},q={class:"gate-title"},G=(0,r.defineComponent)({__name:"ModeSelection",emits:["start-creation","show-character-list","go-to-login"],setup(e,{emit:t}){const n=(0,r.ref)(!1),a=(0,r.ref)(null),o=(0,r.computed)(()=>n.value?a.value??"ÂêåÊ≠•‰∏≠":"");(0,r.onMounted)(async()=>{if((0,D.isBackendConfigured)()){const e=await(0,D.d9)();e&&(n.value=!0,a.value=e)}});const i=t,s=(0,A.useUIStore)(),l=async()=>{await(0,T.verifyStoredToken)()?i("start-creation","single"):s.showRetryDialog({title:"ËØ∑ÂÖàÁôªÂΩï",message:"ÂºÄÂßãÊ∏∏ÊàèÈúÄË¶ÅÂÖàÁôªÂΩïË¥¶Âè∑ÔºåÊòØÂê¶ÂâçÂæÄÁôªÂΩïÔºü",confirmText:"ÂâçÂæÄÁôªÂΩï",cancelText:"ÂèñÊ∂à",onConfirm:()=>{i("go-to-login")},onCancel:()=>{}})},c=async()=>{i("show-character-list")};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",B,[(0,r.createVNode)(S),(0,r.createCommentVNode)(" Â∑¶‰∏äËßíÔºöÊ†áÈ¢ò "),t[4]||(t[4]=(0,r.createElementVNode)("div",{class:"top-left-section"},[(0,r.createElementVNode)("h1",{class:"main-title"},"Ë∂ÖÂá°Êñ∞Áîü"),(0,r.createElementVNode)("p",{class:"sub-title"},"ÂÖ≥‰∫éÊàëÁ©øË∂äÂà∞ÂºÇ‰∏ñÁïåÂºÄÂêØÁ¨¨‰∫å‰∫∫ÁîüÁöÑÊïÖ‰∫ã")],-1)),(0,r.createCommentVNode)(" Â∑¶‰∏ãËßíÔºöÂäüËÉΩÊåâÈíÆ„ÄÅÂ∑≤ËøûÊé•„ÄÅÁâàÊú¨Âè∑ "),(0,r.createElementVNode)("div",I,[(0,r.createElementVNode)("div",M,[(0,r.createElementVNode)("div",z,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["status-indicator",n.value?"online":"offline"])},[t[0]||(t[0]=(0,r.createElementVNode)("span",{class:"status-dot"},null,-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(n.value?"Â∑≤ËøûÊé•":"Á¶ªÁ∫ø"),1)],2),(0,r.createElementVNode)("div",P,"V"+(0,r.toDisplayString)(o.value),1)])])]),(0,r.createCommentVNode)(" Âè≥‰∏ãËßíÔºöÊ®°ÂºèÈÄâÊã©Âç°Áâá "),(0,r.createElementVNode)("div",R,[(0,r.createElementVNode)("div",$,[(0,r.createCommentVNode)(" ÂçïÊú∫Ê®°Âºè "),(0,r.createElementVNode)("div",{class:"gate-card",onClick:l},[(0,r.createElementVNode)("div",O,[t[1]||(t[1]=(0,r.createElementVNode)("div",{class:"icon-bg"},null,-1)),(0,r.createVNode)((0,r.unref)(V),{size:36,"stroke-width":1.5})]),(0,r.createElementVNode)("div",L,[(0,r.createElementVNode)("h2",F,(0,r.toDisplayString)(e.$t("ÂºÄÂßãÊ∏∏Êàè")),1),t[2]||(t[2]=(0,r.createElementVNode)("div",{class:"gate-tags"},[(0,r.createElementVNode)("span",{class:"tag-local"},"ÂÆâÂÖ®Â≠òÂÇ®"),(0,r.createElementVNode)("span",{class:"tag-offline"},"ÈöêÁßÅ‰øùÈöú")],-1))])]),(0,r.createCommentVNode)(" ËÅîÊú∫Ê®°ÂºèÂ∑≤ÁßªÈô§ "),(0,r.createCommentVNode)(" Âä†ËΩΩÂ≠òÊ°£ "),(0,r.createElementVNode)("div",{class:"gate-card load-archive",onClick:c},[(0,r.createElementVNode)("div",j,[t[3]||(t[3]=(0,r.createElementVNode)("div",{class:"icon-bg"},null,-1)),(0,r.createVNode)((0,r.unref)(C),{size:36,"stroke-width":1.5})]),(0,r.createElementVNode)("div",U,[(0,r.createElementVNode)("h2",q,(0,r.toDisplayString)(e.$t("Âä†ËΩΩÂ≠òÊ°£")),1)])])])])]))}});var H=n(9433),Y={};Y.styleTagTransform=k(),Y.setAttributes=v(),Y.insert=h().bind(null,"head"),Y.domAPI=p(),Y.insertStyleElement=y(),u()(H.A,Y),H.A&&H.A.locals&&H.A.locals;const W=(0,N.A)(G,[["__scopeId","data-v-2f096032"]]);var X=n(4270),J=n(1211),K=n(876);const Z=["disabled","title"],Q={key:0,class:"sync-icon"},ee={key:1,class:"sync-icon"},te={key:2,class:"sync-icon"},ne={class:"sync-text"},ae=(0,r.defineComponent)({__name:"CloudDataSync",props:{size:{},variant:{}},emits:["syncCompleted","syncStarted"],setup(e,{emit:t}){const n=t,a=(0,J.N)(),o=(0,A.useUIStore)(),{t:i}=(0,K.s)(),s=(0,r.ref)(!1),l=(0,r.ref)(!1),c=(0,r.computed)(()=>!o.isBackendConfiguredComputed);async function d(){if(s.value||l.value)return void(l.value&&X.o.info(i("‰∫ëÁ´ØÊï∞ÊçÆÂ∑≤Ëé∑ÂèñÔºåÊó†ÈúÄÈáçÂ§çÊìç‰Ωú")));s.value=!0,n("syncStarted");const e="cloud-sync-toast";X.o.loading(i("Ê≠£Âú®Ëé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆ..."),{id:e});try{const t=await a.fetchAllCloudData();t>0?(X.o.success(i("ÂêåÊ≠•ÊàêÂäüÔºÅÊñ∞Â¢û {0} È°π‰∫ëÁ´ØÊï∞ÊçÆ").replace("{0}",String(t)),{id:e}),l.value=!0):(X.o.info(i("ÊâÄÊúâ‰∫ëÁ´ØÊï∞ÊçÆÂ∑≤ÊòØÊúÄÊñ∞"),{id:e}),l.value=!0),n("syncCompleted",{success:!0,newItemsCount:t,message:i("ÂêåÊ≠•ÊàêÂäü")})}catch(t){console.error("[‰∫ëÁ´ØÂêåÊ≠•ÁªÑ‰ª∂] ÂêåÊ≠•‰∫ëÁ´ØÊï∞ÊçÆÂ§±Ë¥•:",t);const a=t instanceof Error?t.message:i("ÂêåÊ≠•Â§±Ë¥•");X.o.error(i("ÂêåÊ≠•Â§±Ë¥•: {0}").replace("{0}",a),{id:e}),n("syncCompleted",{success:!1,newItemsCount:0,message:a})}finally{s.value=!1}}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{onClick:d,class:(0,r.normalizeClass)(["cloud-sync-button",{synced:l.value,disabled:c.value}]),disabled:c.value||s.value,title:c.value?i("‰∫ëÁ´ØÂäüËÉΩÊöÇÊú™ÂºÄÊîæ"):s.value?i("Ê≠£Âú®ÂêåÊ≠•‰∫ëÁ´ØÊï∞ÊçÆ..."):l.value?i("‰∫ëÁ´ØÊï∞ÊçÆÂ∑≤Ëé∑Âèñ"):i("Ëé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆ")},[s.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",Q,"‚è≥")):l.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",ee,"‚úÖ")):((0,r.openBlock)(),(0,r.createElementBlock)("span",te,"‚òÅÔ∏è")),(0,r.createElementVNode)("span",ne,(0,r.toDisplayString)(c.value?i("ÊöÇ‰∏çÂèØÁî®"):s.value?i("ÂêåÊ≠•‰∏≠"):l.value?i("Â∑≤Ëé∑Âèñ"):i("Ëé∑ÂèñÊõ¥Êñ∞")),1)],10,Z))}});var re=n(7631),oe={};oe.styleTagTransform=k(),oe.setAttributes=v(),oe.insert=h().bind(null,"head"),oe.domAPI=p(),oe.insertStyleElement=y(),u()(re.A,oe),re.A&&re.A.locals&&re.A.locals;const ie=(0,N.A)(ae,[["__scopeId","data-v-e5d5209c"]]);var se=n(8651),le=n(7527);const ce={class:"data-clear-container"},de={class:"clear-buttons"},ue=["disabled"],me=(0,r.defineComponent)({__name:"DataClearButtons",props:{variant:{},size:{}},emits:["dataCleared"],setup(e,{emit:t}){const n=t,a=(0,J.N)(),o=(0,A.useUIStore)(),i=(0,r.computed)(()=>{const e=Math.max(...le.eQ.map(e=>e.id)),t=Math.max(...le.VQ.map(e=>e.id)),n=Math.max(...le.yM.map(e=>e.id)),r=Math.max(...le.Gr.map(e=>e.id)),o=Math.max(...le.qS.map(e=>e.id));return a.creationData.worlds.some(t=>"cloud"===t.source||t.id>e)||a.creationData.talentTiers.some(e=>"cloud"===e.source||e.id>t)||a.creationData.origins.some(e=>"cloud"===e.source||e.id>n)||a.creationData.spiritRoots.some(e=>"cloud"===e.source||e.id>r)||a.creationData.talents.some(e=>"cloud"===e.source||e.id>o)});async function s(){i.value&&o.showRetryDialog({title:"Ê∏ÖÈô§Ëá™ÂÆö‰πâÊï∞ÊçÆ",message:"Á°ÆÂÆöË¶ÅÊ∏ÖÈô§Ëá™ÂÆö‰πâÊï∞ÊçÆÂêóÔºüËøôÂ∞ÜÊ∏ÖÈô§ÊâÄÊúâËá™ÂÆö‰πâÂíåAIÁîüÊàêÁöÑÊï∞ÊçÆÔºå‰øùÁïôÊú¨Âú∞Âü∫Á°ÄÊï∞ÊçÆÂíå‰∫ëÁ´ØÊï∞ÊçÆ„ÄÇÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ",confirmText:"Á°ÆËÆ§Ê∏ÖÈô§",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{const e=a.creationData.worlds.length,t=a.creationData.talentTiers.length,r=a.creationData.origins.length,o=a.creationData.spiritRoots.length,i=a.creationData.talents.length,s=Math.max(...le.eQ.map(e=>e.id)),l=Math.max(...le.VQ.map(e=>e.id)),c=Math.max(...le.yM.map(e=>e.id)),d=Math.max(...le.Gr.map(e=>e.id)),u=Math.max(...le.qS.map(e=>e.id));a.creationData.worlds=a.creationData.worlds.filter(e=>"local"===e.source||e.id<=s),a.creationData.talentTiers=a.creationData.talentTiers.filter(e=>"local"===e.source||e.id<=l),a.creationData.origins=a.creationData.origins.filter(e=>"local"===e.source||e.id<=c),a.creationData.spiritRoots=a.creationData.spiritRoots.filter(e=>"local"===e.source||e.id<=d),a.creationData.talents=a.creationData.talents.filter(e=>"local"===e.source||e.id<=u);const m=e-a.creationData.worlds.length+(t-a.creationData.talentTiers.length)+(r-a.creationData.origins.length)+(o-a.creationData.spiritRoots.length)+(i-a.creationData.talents.length);a.resetCharacter(),await async function(){try{const e=(0,se.getTavernHelper)();if(!e)return void console.warn("ÈÖíÈ¶ÜÂä©Êâã‰∏çÂèØÁî®ÔºåË∑≥ËøáÊ∏ÖÁêÜÈÖíÈ¶ÜËá™ÂÆö‰πâÊï∞ÊçÆ");await e.deleteVariable("DAD_creationData",{type:"global"}),console.log("Â∑≤Ê∏ÖÁêÜÈÖíÈ¶ÜÂÖ®Â±ÄÂèòÈáè DAD_creationData");const t=await e.getVariables({type:"global"}),n=Object.keys(t).filter(e=>e.includes("DAD_")||e.includes("custom")||e.includes("Ëá™ÂÆö‰πâ"));n.length>0&&(await Promise.all(n.map(t=>e.deleteVariable(t,{type:"global"}))),console.log(`Â∑≤Ê∏ÖÁêÜ ${n.length} ‰∏™Ëá™ÂÆö‰πâÊï∞ÊçÆÁõ∏ÂÖ≥ÁöÑÈÖíÈ¶ÜÂèòÈáè:`,n))}catch(e){console.error("Ê∏ÖÁêÜÈÖíÈ¶ÜËá™ÂÆö‰πâÊï∞ÊçÆÊó∂Âá∫Èîô:",e)}}(),await a.persistCustomData(),X.o.success(`Â∑≤Ê∏ÖÈô§${m} È°πËá™ÂÆö‰πâÊï∞ÊçÆÔºå‰øùÁïôÊú¨Âú∞Âü∫Á°ÄÊï∞ÊçÆÂíå‰∫ëÁ´ØÊï∞ÊçÆ`),n("dataCleared","custom",m)},onCancel:()=>{}})}return(0,r.computed)(()=>a.creationData.worlds.some(e=>"cloud"===e.source)||a.creationData.talentTiers.some(e=>"cloud"===e.source)||a.creationData.origins.some(e=>"cloud"===e.source)||a.creationData.spiritRoots.some(e=>"cloud"===e.source)||a.creationData.talents.some(e=>"cloud"===e.source)),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",ce,[(0,r.createElementVNode)("div",de,[(0,r.createCommentVNode)(" Ê∏ÖÈô§Ëá™ÂÆö‰πâÊï∞ÊçÆÔºàËá™ÂÆö‰πâ+AIÁîüÊàêÔºâÔºå‰øùÁïôÊú¨Âú∞Âü∫Á°Ä+‰∫ëÁ´ØÊï∞ÊçÆ "),(0,r.createElementVNode)("button",{onClick:s,class:"clear-button custom",disabled:!i.value,title:"Ê∏ÖÈô§Ëá™ÂÆö‰πâÂíåAIÁîüÊàêÁöÑÊï∞ÊçÆ"},t[0]||(t[0]=[(0,r.createElementVNode)("span",{class:"clear-icon"},"üóëÔ∏è",-1),(0,r.createElementVNode)("span",{class:"clear-text"},"Ê∏ÖÈô§Ëá™ÂÆö‰πâ",-1)]),8,ue),(0,r.createCommentVNode)(" Ê∏ÖÈô§‰∫ëÁ´ØÊï∞ÊçÆÔºå‰øùÁïôÊú¨Âú∞Âü∫Á°Ä+Ëá™ÂÆö‰πâÊï∞ÊçÆ "),(0,r.createCommentVNode)(" üî• ÊöÇÊó∂ÈöêËóèÔºöÂêéÁ´ØÊú™‰∏äÁ∫ø "),(0,r.createCommentVNode)("v-if",!0)])]))}});var pe=n(1393),ge={};ge.styleTagTransform=k(),ge.setAttributes=v(),ge.insert=h().bind(null,"head"),ge.domAPI=p(),ge.insertStyleElement=y(),u()(pe.A,ge),pe.A&&pe.A.locals&&pe.A.locals;const he=(0,N.A)(me,[["__scopeId","data-v-5b396b26"]]),fe={class:"modal-container"},ve={class:"modal-content"},be={class:"form-group"},ye={class:"char-count"},xe={class:"form-group"},ke={class:"char-count"},we={key:0,class:"preset-preview"},Ee={class:"preview-tags"},Ne={key:0,class:"info-tag"},Se={key:1,class:"info-tag"},_e={key:2,class:"info-tag"},Ve={key:3,class:"info-tag"},Ce={key:4,class:"info-tag talent-tag"},Ae={class:"preset-info"},De={class:"info-item"},Te={class:"info-value"},Be={class:"modal-footer"},Ie=["disabled"],Me={key:0},ze={key:1},Pe=(0,r.defineComponent)({__name:"PresetSaveModal",props:{visible:{type:Boolean},characterData:{}},emits:["close","submit"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)(""),i=(0,r.ref)(""),s=(0,r.ref)(""),l=(0,r.ref)(!1);let c=null;function d(){const e=new Date;s.value=e.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function u(){l.value||a("close")}function m(){o.value.trim()&&!l.value&&(l.value=!0,setTimeout(()=>{a("submit",{presetName:o.value.trim(),presetDescription:i.value.trim(),characterData:n.characterData}),l.value=!1},300))}return(0,r.onMounted)(()=>{d(),c=window.setInterval(d,1e3)}),(0,r.onUnmounted)(()=>{null!==c&&clearInterval(c)}),(0,r.watch)(()=>n.visible,e=>{e&&(o.value="",i.value="",d(),setTimeout(()=>{const e=document.querySelector(".form-input");e?.focus()},100))}),(e,t)=>e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,r.withModifiers)(u,["self"])},[(0,r.createElementVNode)("div",fe,[(0,r.createCommentVNode)(" Header "),(0,r.createElementVNode)("div",{class:"modal-header"},[t[2]||(t[2]=(0,r.createElementVNode)("h2",{class:"modal-title"},"üíæ ‰øùÂ≠òÈ¢ÑËÆæ",-1)),(0,r.createElementVNode)("button",{class:"modal-close",onClick:u},"√ó")]),(0,r.createCommentVNode)(" Content "),(0,r.createElementVNode)("div",ve,[(0,r.createElementVNode)("div",be,[t[3]||(t[3]=(0,r.createElementVNode)("label",{class:"form-label"},[(0,r.createTextVNode)("È¢ÑËÆæÂêçÁß∞ "),(0,r.createElementVNode)("span",{class:"required"},"*")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),type:"text",class:"form-input",placeholder:"ËØ∑ËæìÂÖ•È¢ÑËÆæÂêçÁß∞ÔºàÂ¶ÇÔºöÂâë‰øÆÈ¢ÑËÆæ„ÄÅÊ≤ªÊÑàÁ≥ªÈ¢ÑËÆæÁ≠âÔºâ",onKeyup:(0,r.withKeys)(m,["enter"]),maxlength:"50",autofocus:""},null,544),[[r.vModelText,o.value]]),(0,r.createElementVNode)("div",ye,(0,r.toDisplayString)(o.value.length)+"/50",1)]),(0,r.createElementVNode)("div",xe,[t[4]||(t[4]=(0,r.createElementVNode)("label",{class:"form-label"},[(0,r.createTextVNode)("È¢ÑËÆæÊèèËø∞ "),(0,r.createElementVNode)("span",{class:"optional"},"ÔºàÂèØÈÄâÔºâ")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),class:"form-textarea",placeholder:"ËæìÂÖ•Ê≠§È¢ÑËÆæÁöÑÊèèËø∞‰ø°ÊÅØ...",maxlength:"200",rows:"4"},null,512),[[r.vModelText,i.value]]),(0,r.createElementVNode)("div",ke,(0,r.toDisplayString)(i.value.length)+"/200",1)]),(0,r.createCommentVNode)(" È¢ÑËÆæÂÜÖÂÆπÈ¢ÑËßà "),e.characterData?((0,r.openBlock)(),(0,r.createElementBlock)("div",we,[t[5]||(t[5]=(0,r.createElementVNode)("div",{class:"preview-header"},"üìã È¢ÑËÆæÂÜÖÂÆπÈ¢ÑËßà",-1)),(0,r.createElementVNode)("div",Ee,[e.characterData.world?((0,r.openBlock)(),(0,r.createElementBlock)("span",Ne,(0,r.toDisplayString)(e.characterData.world.name),1)):(0,r.createCommentVNode)("v-if",!0),e.characterData.talentTier?((0,r.openBlock)(),(0,r.createElementBlock)("span",Se,(0,r.toDisplayString)(e.characterData.talentTier.name),1)):(0,r.createCommentVNode)("v-if",!0),e.characterData.origin?((0,r.openBlock)(),(0,r.createElementBlock)("span",_e,(0,r.toDisplayString)(e.characterData.origin.name),1)):(0,r.createCommentVNode)("v-if",!0),e.characterData.spiritRoot?((0,r.openBlock)(),(0,r.createElementBlock)("span",Ve,(0,r.toDisplayString)(e.characterData.spiritRoot.name),1)):(0,r.createCommentVNode)("v-if",!0),e.characterData.talents&&e.characterData.talents.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",Ce,(0,r.toDisplayString)(e.characterData.talents.length)+" ‰∏™Â§©Ëµã ",1)):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",Ae,[(0,r.createElementVNode)("div",De,[t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"info-label"},"üìÖ ‰øùÂ≠òÊó∂Èó¥Ôºö",-1)),(0,r.createElementVNode)("span",Te,(0,r.toDisplayString)(s.value),1)])])]),(0,r.createCommentVNode)(" Footer "),(0,r.createElementVNode)("div",Be,[(0,r.createElementVNode)("button",{class:"btn btn-cancel",onClick:u},"ÂèñÊ∂à"),(0,r.createElementVNode)("button",{class:"btn btn-confirm",onClick:m,disabled:!o.value.trim()||l.value},[l.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",Me,"üí´ ‰øùÂ≠ò‰∏≠...")):((0,r.openBlock)(),(0,r.createElementBlock)("span",ze,"‚ú® ‰øùÂ≠òÈ¢ÑËÆæ"))],8,Ie)])])])):(0,r.createCommentVNode)("v-if",!0)}});var Re=n(4178),$e={};$e.styleTagTransform=k(),$e.setAttributes=v(),$e.insert=h().bind(null,"head"),$e.domAPI=p(),$e.insertStyleElement=y(),u()(Re.A,$e),Re.A&&Re.A.locals&&Re.A.locals;const Oe=(0,N.A)(Pe,[["__scopeId","data-v-431f1334"]]),Le=["disabled","title"],Fe={key:0,class:"sync-icon"},je={key:1,class:"sync-icon"},Ue={key:2,class:"sync-icon"},qe={class:"sync-text"},Ge=(0,r.defineComponent)({__name:"StorePreSeting",props:{size:{},variant:{},currentStep:{},totalSteps:{},characterData:{}},emits:["storeCompleted","storeStarted"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)(!1),i=(0,r.ref)(!1),s=(0,r.ref)(!1),{t:l}=(0,K.s)(),c=(0,r.computed)(()=>void 0===n.currentStep||void 0===n.totalSteps||n.currentStep===n.totalSteps);function d(){o.value||i.value||!c.value?i.value?X.o.info(l("È¢ÑËÆæÂ∑≤Â≠òÂÇ®ÔºåÊó†ÈúÄÈáçÂ§çÊìç‰Ωú")):c.value||X.o.warning(l("ËØ∑ÂÆåÊàêÊâÄÊúâÊ≠•È™§ÂêéÂÜç‰øùÂ≠òÈ¢ÑËÆæ")):(s.value=!0,a("storeStarted"))}async function u(e){o.value=!0,s.value=!1;const t={name:e.presetName,description:e.presetDescription,savedAt:(new Date).toISOString()};i.value=!0,a("storeCompleted",{success:!0,message:l("È¢ÑËÆæ‰øùÂ≠òÊàêÂäü"),presetData:t}),o.value=!1}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("button",{onClick:d,class:(0,r.normalizeClass)(["cloud-sync-button",{synced:i.value}]),disabled:o.value||!c.value,title:c.value?o.value?l("Ê≠£Âú®Â≠òÂÇ®È¢ÑËÆæ..."):i.value?l("È¢ÑËÆæÂ∑≤Â≠òÂÇ®"):l("‰øùÂ≠òÂΩìÂâçÈÄâÊã©‰∏∫È¢ÑËÆæ"):l("ËØ∑ÂÆåÊàêÊâÄÊúâÊ≠•È™§ÂêéÂÜç‰øùÂ≠òÈ¢ÑËÆæ")},[o.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",Fe,"‚è≥")):i.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",je,"‚úÖ")):((0,r.openBlock)(),(0,r.createElementBlock)("span",Ue,"üíæ")),(0,r.createElementVNode)("span",qe,(0,r.toDisplayString)(o.value?l("Â≠òÂÇ®‰∏≠"):i.value?l("Â∑≤Â≠òÂÇ®"):l("Â≠òÂÇ®È¢ÑËÆæ")),1)],10,Le),(0,r.createCommentVNode)(" È¢ÑËÆæ‰øùÂ≠òÂØπËØùÊ°Ü "),(0,r.createVNode)(Oe,{visible:s.value,"character-data":n.characterData,onClose:t[0]||(t[0]=e=>s.value=!1),onSubmit:u},null,8,["visible","character-data"])]))}});var He=n(2497),Ye={};Ye.styleTagTransform=k(),Ye.setAttributes=v(),Ye.insert=h().bind(null,"head"),Ye.domAPI=p(),Ye.insertStyleElement=y(),u()(He.A,Ye),He.A&&He.A.locals&&He.A.locals;const We=(0,N.A)(Ge,[["__scopeId","data-v-5cceb5b0"]]);var Xe=n(5735);const Je={class:"modal-container"},Ke={class:"modal-content"},Ze={key:0,class:"loading-state"},Qe={key:1,class:"empty-state"},et={key:2},tt={class:"export-options"},nt={class:"option-label"},at={class:"option-text"},rt={class:"option-desc"},ot={class:"option-label"},it={key:0,class:"presets-list"},st={class:"list-header"},lt={class:"checkbox-label"},ct=["checked"],dt={class:"selected-count"},ut={class:"preset-items"},mt=["value"],pt={class:"preset-info"},gt={class:"preset-header"},ht={class:"preset-name"},ft={class:"preset-date"},vt={key:0,class:"preset-description"},bt={key:1,class:"preset-tags"},yt={key:0,class:"info-tag name-tag"},xt={key:1,class:"info-tag age-tag"},kt={key:2,class:"info-tag"},wt={key:3,class:"info-tag"},Et={class:"export-info"},Nt={class:"info-item"},St={class:"info-value"},_t={class:"info-item"},Vt={class:"info-value"},Ct={class:"modal-footer"},At=["disabled"],Dt={key:0},Tt={key:1},Bt=(0,r.defineComponent)({__name:"PresetExportModal",props:{visible:{type:Boolean}},emits:["close","exported"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)([]),i=(0,r.ref)("all"),s=(0,r.ref)([]),l=(0,r.ref)(!1),c=(0,r.ref)(!1),d=(0,r.ref)("");let u=null;const m=(0,r.computed)(()=>o.value.length>0&&s.value.length===o.value.length),p=(0,r.computed)(()=>0!==o.value.length&&("all"===i.value||s.value.length>0));function g(){const e=new Date;d.value=e.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function h(e){const t=new Date(e),n=(new Date).getTime()-t.getTime(),a=Math.floor(n/864e5);return 0===a?"‰ªäÂ§©":1===a?"Êò®Â§©":a<7?`${a}Â§©Ââç`:t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}function f(){m.value?s.value=[]:s.value=o.value.map(e=>e.id)}function v(){return"all"===i.value?o.value.length:s.value.length}function b(){c.value||a("close")}async function y(){if(!p.value||c.value)return;c.value=!0;const e="export-preset-toast";X.o.loading("Ê≠£Âú®ÂØºÂá∫È¢ÑËÆæ...",{id:e});try{const t="all"===i.value?void 0:s.value;await(0,Xe.VW)(t);const n=v();X.o.success(`ÊàêÂäüÂØºÂá∫ ${n} ‰∏™È¢ÑËÆæÔºÅ`,{id:e}),a("exported"),a("close")}catch(t){console.error("[È¢ÑËÆæÂØºÂá∫ÂØπËØùÊ°Ü] ÂØºÂá∫Â§±Ë¥•:",t);const n=t instanceof Error?t.message:"ÂØºÂá∫Â§±Ë¥•";X.o.error(`ÂØºÂá∫Â§±Ë¥•: ${n}`,{id:e})}finally{c.value=!1}}return(0,r.onMounted)(()=>{g(),u=window.setInterval(g,1e3)}),(0,r.onUnmounted)(()=>{null!==u&&clearInterval(u)}),(0,r.watch)(()=>n.visible,async e=>{e&&(i.value="all",s.value=[],await async function(){l.value=!0;try{console.log("[È¢ÑËÆæÂØºÂá∫ÂØπËØùÊ°Ü] ÂºÄÂßãÂä†ËΩΩÈ¢ÑËÆæÂàóË°®");const e=await(0,Xe.Vd)();o.value=e,console.log("[È¢ÑËÆæÂØºÂá∫ÂØπËØùÊ°Ü] ÊàêÂäüÂä†ËΩΩ",o.value.length,"‰∏™È¢ÑËÆæ")}catch(e){console.error("[È¢ÑËÆæÂØºÂá∫ÂØπËØùÊ°Ü] Âä†ËΩΩÈ¢ÑËÆæÂàóË°®Â§±Ë¥•:",e),X.o.error("Âä†ËΩΩÈ¢ÑËÆæÂàóË°®Â§±Ë¥•"),o.value=[]}finally{l.value=!1}}())}),(e,t)=>e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,r.withModifiers)(b,["self"])},[(0,r.createElementVNode)("div",Je,[(0,r.createCommentVNode)(" Header "),(0,r.createElementVNode)("div",{class:"modal-header"},[t[3]||(t[3]=(0,r.createElementVNode)("h2",{class:"modal-title"},"üì§ ÂØºÂá∫È¢ÑËÆæ",-1)),(0,r.createElementVNode)("button",{class:"modal-close",onClick:b},"√ó")]),(0,r.createCommentVNode)(" Content "),(0,r.createElementVNode)("div",Ke,[l.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ze,t[4]||(t[4]=[(0,r.createElementVNode)("div",{class:"spinner"},null,-1),(0,r.createElementVNode)("p",null,"Ê≠£Âú®Âä†ËΩΩÈ¢ÑËÆæÂàóË°®...",-1)]))):0===o.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Qe,t[5]||(t[5]=[(0,r.createElementVNode)("div",{class:"empty-icon"},"üì≠",-1),(0,r.createElementVNode)("p",null,"ÊöÇÊó†ÂèØÂØºÂá∫ÁöÑÈ¢ÑËÆæ",-1),(0,r.createElementVNode)("p",{class:"empty-hint"},"ËØ∑ÂÖà‰øùÂ≠ò‰∏Ä‰∫õÈ¢ÑËÆæÂêéÂÜçËøõË°åÂØºÂá∫",-1)]))):((0,r.openBlock)(),(0,r.createElementBlock)("div",et,[(0,r.createCommentVNode)(" ÂØºÂá∫Ê®°ÂºèÈÄâÊã© "),(0,r.createElementVNode)("div",tt,[(0,r.createElementVNode)("label",nt,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),value:"all",class:"radio-input"},null,512),[[r.vModelRadio,i.value]]),(0,r.createElementVNode)("span",at,[t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"option-title"},"ÂØºÂá∫ÂÖ®ÈÉ®È¢ÑËÆæ",-1)),(0,r.createElementVNode)("span",rt,"ÂØºÂá∫ÊâÄÊúâ "+(0,r.toDisplayString)(o.value.length)+" ‰∏™È¢ÑËÆæ",1)])]),(0,r.createElementVNode)("label",ot,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),value:"selected",class:"radio-input"},null,512),[[r.vModelRadio,i.value]]),t[7]||(t[7]=(0,r.createElementVNode)("span",{class:"option-text"},[(0,r.createElementVNode)("span",{class:"option-title"},"ÂØºÂá∫ÈÄâ‰∏≠È¢ÑËÆæ"),(0,r.createElementVNode)("span",{class:"option-desc"},"ÈÄâÊã©Ë¶ÅÂØºÂá∫ÁöÑÈ¢ÑËÆæ")],-1))])]),(0,r.createCommentVNode)(" È¢ÑËÆæÂàóË°® (‰ªÖÂú®ÈÄâ‰∏≠Ê®°Âºè‰∏ãÊòæÁ§∫) "),"selected"===i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",it,[(0,r.createElementVNode)("div",st,[(0,r.createElementVNode)("label",lt,[(0,r.createElementVNode)("input",{type:"checkbox",checked:m.value,onChange:f,class:"checkbox-input"},null,40,ct),t[8]||(t[8]=(0,r.createElementVNode)("span",null,"ÂÖ®ÈÄâ/ÂèñÊ∂àÂÖ®ÈÄâ",-1))]),(0,r.createElementVNode)("span",dt,"Â∑≤ÈÄâÊã© "+(0,r.toDisplayString)(s.value.length)+" ‰∏™",1)]),(0,r.createElementVNode)("div",ut,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("label",{key:e.id,class:(0,r.normalizeClass)(["preset-item",{selected:s.value.includes(e.id)}])},[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[2]||(t[2]=e=>s.value=e),class:"checkbox-input"},null,8,mt),[[r.vModelCheckbox,s.value]]),(0,r.createElementVNode)("div",pt,[(0,r.createElementVNode)("div",gt,[(0,r.createElementVNode)("h3",ht,(0,r.toDisplayString)(e.name||"Êú™ÂëΩÂêçÈ¢ÑËÆæ"),1),(0,r.createElementVNode)("span",ft,(0,r.toDisplayString)(h(e.savedAt)),1)]),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("p",vt,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)("v-if",!0),e.data?((0,r.openBlock)(),(0,r.createElementBlock)("div",bt,[e.data.character_name?((0,r.openBlock)(),(0,r.createElementBlock)("span",yt,(0,r.toDisplayString)(e.data.character_name),1)):(0,r.createCommentVNode)("v-if",!0),e.data.current_age?((0,r.openBlock)(),(0,r.createElementBlock)("span",xt,(0,r.toDisplayString)(e.data.current_age)+"Â≤Å",1)):(0,r.createCommentVNode)("v-if",!0),e.data.world?((0,r.openBlock)(),(0,r.createElementBlock)("span",kt,(0,r.toDisplayString)(e.data.world.name),1)):(0,r.createCommentVNode)("v-if",!0),e.data.talentTier?((0,r.openBlock)(),(0,r.createElementBlock)("span",wt,(0,r.toDisplayString)(e.data.talentTier.name),1)):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0)])],2))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÂØºÂá∫‰ø°ÊÅØ "),(0,r.createElementVNode)("div",Et,[(0,r.createElementVNode)("div",Nt,[t[9]||(t[9]=(0,r.createElementVNode)("span",{class:"info-label"},"üì¶ ÂØºÂá∫Êï∞ÈáèÔºö",-1)),(0,r.createElementVNode)("span",St,(0,r.toDisplayString)(v())+" ‰∏™È¢ÑËÆæ",1)]),t[11]||(t[11]=(0,r.createElementVNode)("div",{class:"info-item"},[(0,r.createElementVNode)("span",{class:"info-label"},"üìÑ Êñá‰ª∂Ê†ºÂºèÔºö"),(0,r.createElementVNode)("span",{class:"info-value"},"JSON")],-1)),(0,r.createElementVNode)("div",_t,[t[10]||(t[10]=(0,r.createElementVNode)("span",{class:"info-label"},"üìÖ ÂØºÂá∫Êó∂Èó¥Ôºö",-1)),(0,r.createElementVNode)("span",Vt,(0,r.toDisplayString)(d.value),1)])])]))]),(0,r.createCommentVNode)(" Footer "),(0,r.createElementVNode)("div",Ct,[(0,r.createElementVNode)("button",{class:"btn btn-cancel",onClick:b},"ÂèñÊ∂à"),(0,r.createElementVNode)("button",{class:"btn btn-confirm",onClick:y,disabled:!p.value||c.value},[c.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",Dt,"‚è≥ ÂØºÂá∫‰∏≠...")):((0,r.openBlock)(),(0,r.createElementBlock)("span",Tt,"üì• ÂØºÂá∫È¢ÑËÆæ"))],8,At)])])])):(0,r.createCommentVNode)("v-if",!0)}});var It=n(7457),Mt={};Mt.styleTagTransform=k(),Mt.setAttributes=v(),Mt.insert=h().bind(null,"head"),Mt.domAPI=p(),Mt.insertStyleElement=y(),u()(It.A,Mt),It.A&&It.A.locals&&It.A.locals;const zt=(0,N.A)(Bt,[["__scopeId","data-v-3e075713"]]),Pt={class:"modal-container"},Rt={class:"modal-content"},$t={key:0,class:"file-info"},Ot={class:"file-header"},Lt={class:"file-name"},Ft={class:"file-size"},jt={key:1,class:"import-options"},Ut={class:"option-label"},qt={class:"option-label"},Gt={class:"result-icon"},Ht={class:"result-content"},Yt={class:"result-message"},Wt={key:0,class:"result-details"},Xt={key:0,class:"detail-item success"},Jt={key:1,class:"detail-item error"},Kt={class:"modal-footer"},Zt=["disabled"],Qt={key:0},en={key:1},tn=(0,r.defineComponent)({__name:"PresetImportModal",props:{visible:{type:Boolean}},emits:["close","imported"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)(null),i=(0,r.ref)(null),s=(0,r.ref)("merge"),l=(0,r.ref)(!1),c=(0,r.ref)(!1),d=(0,r.ref)(null);function u(){o.value?.click()}function m(e){const t=e.target,n=t.files?.[0];n&&g(n)}function p(e){c.value=!1;const t=e.dataTransfer?.files[0];t&&g(t)}function g(e){e.name.endsWith(".json")||"application/json"===e.type?e.size>10485760?X.o.error("Êñá‰ª∂Â§ßÂ∞èË∂ÖËøáÈôêÂà∂ÔºàÊúÄÂ§ß10MBÔºâ"):(i.value=e,d.value=null):X.o.error("ËØ∑ÈÄâÊã©JSONÊ†ºÂºèÁöÑÊñá‰ª∂")}function h(){i.value=null,d.value=null,o.value&&(o.value.value="")}function f(){l.value||a("close")}async function v(){if(!i.value||l.value)return;if("replace"===s.value&&!window.confirm("ÊõøÊç¢Ê®°ÂºèÂ∞ÜÂà†Èô§ÊâÄÊúâÁé∞ÊúâÈ¢ÑËÆæÔºÅ\n\nÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºåÁ°ÆÂÆöË¶ÅÁªßÁª≠ÂêóÔºü"))return;l.value=!0;const e="import-preset-toast";X.o.loading("Ê≠£Âú®ÂØºÂÖ•È¢ÑËÆæ...",{id:e});try{const t=await(0,Xe.Ge)(i.value,s.value);console.log("[È¢ÑËÆæÂØºÂÖ•ÂØπËØùÊ°Ü] ÂØºÂÖ•ÂÆåÊàê:",t),t.success>0&&0===t.failed?(d.value={type:"success",message:`ÊàêÂäüÂØºÂÖ• ${t.success} ‰∏™È¢ÑËÆæÔºÅ`,details:t},X.o.success(`ÊàêÂäüÂØºÂÖ• ${t.success} ‰∏™È¢ÑËÆæÔºÅ`,{id:e})):t.success>0&&t.failed>0?(d.value={type:"warning",message:"ÈÉ®ÂàÜÈ¢ÑËÆæÂØºÂÖ•ÊàêÂäü",details:t},X.o.warning(`ÊàêÂäü: ${t.success} ‰∏™ÔºåÂ§±Ë¥•: ${t.failed} ‰∏™`,{id:e})):(d.value={type:"error",message:"È¢ÑËÆæÂØºÂÖ•Â§±Ë¥•",details:t},X.o.error("È¢ÑËÆæÂØºÂÖ•Â§±Ë¥•",{id:e})),a("imported",t)}catch(t){console.error("[È¢ÑËÆæÂØºÂÖ•ÂØπËØùÊ°Ü] ÂØºÂÖ•Â§±Ë¥•:",t);const n=t instanceof Error?t.message:"ÂØºÂÖ•Â§±Ë¥•";d.value={type:"error",message:`ÂØºÂÖ•Â§±Ë¥•: ${n}`},X.o.error(`ÂØºÂÖ•Â§±Ë¥•: ${n}`,{id:e})}finally{l.value=!1}}return(0,r.watch)(()=>n.visible,e=>{e&&(i.value=null,s.value="merge",d.value=null,c.value=!1)}),(e,t)=>{return e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,r.withModifiers)(f,["self"])},[(0,r.createElementVNode)("div",Pt,[(0,r.createCommentVNode)(" Header "),(0,r.createElementVNode)("div",{class:"modal-header"},[t[4]||(t[4]=(0,r.createElementVNode)("h2",{class:"modal-title"},"üì• ÂØºÂÖ•È¢ÑËÆæ",-1)),(0,r.createElementVNode)("button",{class:"modal-close",onClick:f},"√ó")]),(0,r.createCommentVNode)(" Content "),(0,r.createElementVNode)("div",Rt,[(0,r.createCommentVNode)(" Êñá‰ª∂ÈÄâÊã©Âå∫Âüü "),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["upload-area",{"drag-over":c.value}]),onDrop:(0,r.withModifiers)(p,["prevent"]),onDragover:t[0]||(t[0]=(0,r.withModifiers)(e=>c.value=!0,["prevent"])),onDragleave:t[1]||(t[1]=(0,r.withModifiers)(e=>c.value=!1,["prevent"]))},[(0,r.createElementVNode)("input",{ref_key:"fileInputRef",ref:o,type:"file",accept:".json,application/json",onChange:m,class:"file-input"},null,544),(0,r.createElementVNode)("div",{class:"upload-content"},[t[5]||(t[5]=(0,r.createElementVNode)("div",{class:"upload-icon"},"üìÅ",-1)),t[6]||(t[6]=(0,r.createElementVNode)("p",{class:"upload-text"},"ÊãñÊîæJSONÊñá‰ª∂Âà∞Ê≠§Â§ÑÔºåÊàñÁÇπÂáªÈÄâÊã©Êñá‰ª∂",-1)),(0,r.createElementVNode)("button",{class:"btn-select",onClick:u},"ÈÄâÊã©Êñá‰ª∂"),t[7]||(t[7]=(0,r.createElementVNode)("p",{class:"upload-hint"},"‰ªÖÊîØÊåÅÈÄöËøáÊú¨Â∫îÁî®ÂØºÂá∫ÁöÑÈ¢ÑËÆæJSONÊñá‰ª∂",-1))])],34),(0,r.createCommentVNode)(" Â∑≤ÈÄâÊã©Êñá‰ª∂‰ø°ÊÅØ "),i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",$t,[(0,r.createElementVNode)("div",Ot,[t[8]||(t[8]=(0,r.createElementVNode)("span",{class:"file-icon"},"üìÑ",-1)),(0,r.createElementVNode)("span",Lt,(0,r.toDisplayString)(i.value.name),1),(0,r.createElementVNode)("span",Ft,(0,r.toDisplayString)((n=i.value.size,n<1024?`${n} B`:n<1048576?`${(n/1024).toFixed(2)} KB`:`${(n/1048576).toFixed(2)} MB`)),1),(0,r.createElementVNode)("button",{class:"btn-remove",onClick:h},"√ó")])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÂØºÂÖ•ÈÄâÈ°π "),i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",jt,[(0,r.createElementVNode)("label",Ut,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=e=>s.value=e),value:"merge",class:"radio-input"},null,512),[[r.vModelRadio,s.value]]),t[9]||(t[9]=(0,r.createElementVNode)("span",{class:"option-text"},[(0,r.createElementVNode)("span",{class:"option-title"},"ÂêàÂπ∂Ê®°Âºè"),(0,r.createElementVNode)("span",{class:"option-desc"},"Â∞ÜÂØºÂÖ•ÁöÑÈ¢ÑËÆæÊ∑ªÂä†Âà∞Áé∞ÊúâÈ¢ÑËÆæ‰∏≠ÔºàÊé®ËçêÔºâ")],-1))]),(0,r.createElementVNode)("label",qt,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio","onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),value:"replace",class:"radio-input"},null,512),[[r.vModelRadio,s.value]]),t[10]||(t[10]=(0,r.createElementVNode)("span",{class:"option-text"},[(0,r.createElementVNode)("span",{class:"option-title"},"ÊõøÊç¢Ê®°Âºè"),(0,r.createElementVNode)("span",{class:"option-desc warning"},"Â∞ÜÊ∏ÖÈô§ÊâÄÊúâÁé∞ÊúâÈ¢ÑËÆæÔºå‰ªÖ‰øùÁïôÂØºÂÖ•ÁöÑÈ¢ÑËÆæ")],-1))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÂØºÂÖ•ÁªìÊûú "),d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:(0,r.normalizeClass)(["import-result",d.value.type])},[(0,r.createElementVNode)("div",Gt,(0,r.toDisplayString)("success"===d.value.type?"‚úÖ":"warning"===d.value.type?"‚ö†Ô∏è":"‚ùå"),1),(0,r.createElementVNode)("div",Ht,[(0,r.createElementVNode)("p",Yt,(0,r.toDisplayString)(d.value.message),1),d.value.details?((0,r.openBlock)(),(0,r.createElementBlock)("div",Wt,[d.value.details.success>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",Xt," ÊàêÂäüÂØºÂÖ•: "+(0,r.toDisplayString)(d.value.details.success)+" ‰∏™ ",1)):(0,r.createCommentVNode)("v-if",!0),d.value.details.failed>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",Jt," ÂØºÂÖ•Â§±Ë¥•: "+(0,r.toDisplayString)(d.value.details.failed)+" ‰∏™ ",1)):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0)])],2)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" Footer "),(0,r.createElementVNode)("div",Kt,[(0,r.createElementVNode)("button",{class:"btn btn-cancel",onClick:f},(0,r.toDisplayString)(d.value?"ÂÖ≥Èó≠":"ÂèñÊ∂à"),1),d.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"btn btn-confirm",onClick:v,disabled:!i.value||l.value},[l.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",Qt,"‚è≥ ÂØºÂÖ•‰∏≠...")):((0,r.openBlock)(),(0,r.createElementBlock)("span",en,"üì§ ÂºÄÂßãÂØºÂÖ•"))],8,Zt))])])])):(0,r.createCommentVNode)("v-if",!0);var n}}});var nn=n(9531),an={};an.styleTagTransform=k(),an.setAttributes=v(),an.insert=h().bind(null,"head"),an.domAPI=p(),an.insertStyleElement=y(),u()(nn.A,an),nn.A&&nn.A.locals&&nn.A.locals;const rn=(0,N.A)(tn,[["__scopeId","data-v-3fadd167"]]),on={class:"modal-container"},sn={class:"modal-header"},ln={class:"title-section"},cn={key:0,class:"preset-count"},dn={class:"header-actions"},un={class:"modal-content"},mn={key:0,class:"loading-state"},pn={key:1,class:"empty-state"},gn={key:2,class:"presets-list"},hn=["onClick"],fn={class:"preset-header"},vn={class:"preset-name"},bn={class:"preset-actions"},yn={class:"preset-date"},xn=["onClick"],kn={key:0,class:"preset-description"},wn={key:1,class:"preset-info"},En={key:0,class:"info-tag name-tag"},Nn={key:1,class:"info-tag age-tag"},Sn={key:2,class:"info-tag"},_n={key:3,class:"info-tag"},Vn={key:4,class:"info-tag"},Cn={key:5,class:"info-tag"},An={class:"modal-footer"},Dn=["disabled"],Tn={key:0},Bn={key:1},In=(0,r.defineComponent)({__name:"PresetLoadModal",props:{visible:{type:Boolean}},emits:["close","select"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)([]),i=(0,r.ref)(null),s=(0,r.ref)(!1),l=(0,r.ref)(!1),c=(0,r.ref)(!1),d=(0,r.ref)(!1);async function u(){s.value=!0;try{console.log("[È¢ÑËÆæÂä†ËΩΩÂØπËØùÊ°Ü] ÂºÄÂßãÂä†ËΩΩÈ¢ÑËÆæÂàóË°®");const e=await(0,Xe.Vd)();o.value=e,console.log("[È¢ÑËÆæÂä†ËΩΩÂØπËØùÊ°Ü] ÊàêÂäüÂä†ËΩΩ",o.value.length,"‰∏™È¢ÑËÆæ",o.value)}catch(e){console.error("[È¢ÑËÆæÂä†ËΩΩÂØπËØùÊ°Ü] Âä†ËΩΩÈ¢ÑËÆæÂàóË°®Â§±Ë¥•:",e),X.o.error("Âä†ËΩΩÈ¢ÑËÆæÂàóË°®Â§±Ë¥•"),o.value=[]}finally{s.value=!1}}function m(e){const t=new Date(e),n=(new Date).getTime()-t.getTime(),a=Math.floor(n/864e5);return 0===a?"‰ªäÂ§©":1===a?"Êò®Â§©":a<7?`${a}Â§©Ââç`:t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}function p(){l.value||a("close")}function g(){i.value&&!l.value&&(l.value=!0,setTimeout(()=>{i.value&&a("select",i.value),l.value=!1},300))}function h(){console.log("[È¢ÑËÆæÂä†ËΩΩÂØπËØùÊ°Ü] È¢ÑËÆæÂ∑≤ÂØºÂá∫"),u()}async function f(e){console.log("[È¢ÑËÆæÂä†ËΩΩÂØπËØùÊ°Ü] È¢ÑËÆæÂØºÂÖ•ÂÆåÊàê:",e),await u()}return(0,r.watch)(()=>n.visible,async e=>{e&&(i.value=null,await u())}),(e,t)=>e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,r.withModifiers)(p,["self"])},[(0,r.createElementVNode)("div",on,[(0,r.createCommentVNode)(" Header "),(0,r.createElementVNode)("div",sn,[(0,r.createElementVNode)("div",ln,[t[4]||(t[4]=(0,r.createElementVNode)("h2",{class:"modal-title"},"üìÇ Âä†ËΩΩÈ¢ÑËÆæ",-1)),!s.value&&o.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",cn,(0,r.toDisplayString)(o.value.length)+" ‰∏™",1)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",dn,[(0,r.createElementVNode)("button",{class:"btn-action import",onClick:t[0]||(t[0]=e=>d.value=!0)},t[5]||(t[5]=[(0,r.createElementVNode)("span",{class:"btn-icon"},"üì•",-1),(0,r.createElementVNode)("span",{class:"btn-text"},"ÂØºÂÖ•",-1)])),(0,r.createElementVNode)("button",{class:"btn-action export",onClick:t[1]||(t[1]=e=>c.value=!0)},t[6]||(t[6]=[(0,r.createElementVNode)("span",{class:"btn-icon"},"üì§",-1),(0,r.createElementVNode)("span",{class:"btn-text"},"ÂØºÂá∫",-1)])),(0,r.createElementVNode)("button",{class:"modal-close",onClick:p},"√ó")])]),(0,r.createCommentVNode)(" Content "),(0,r.createElementVNode)("div",un,[s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",mn,t[7]||(t[7]=[(0,r.createElementVNode)("div",{class:"spinner"},null,-1),(0,r.createElementVNode)("p",null,"Ê≠£Âú®Âä†ËΩΩÈ¢ÑËÆæÂàóË°®...",-1)]))):0===o.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",pn,t[8]||(t[8]=[(0,r.createElementVNode)("div",{class:"empty-icon"},"üì≠",-1),(0,r.createElementVNode)("p",null,"ÊöÇÊó†‰øùÂ≠òÁöÑÈ¢ÑËÆæ",-1),(0,r.createElementVNode)("p",{class:"empty-hint"},"ÂÆåÊàêËßíËâ≤ÂàõÂª∫Âêé,ÂèØ‰ª•‰øùÂ≠ò‰∏∫È¢ÑËÆæ‰ª•‰æøÂø´ÈÄüÂºÄÂßãÊñ∞Ê∏∏Êàè",-1)]))):((0,r.openBlock)(),(0,r.createElementBlock)("div",gn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["preset-item",{selected:i.value?.id===e.id}]),onClick:t=>i.value=e},[(0,r.createElementVNode)("div",fn,[(0,r.createElementVNode)("h3",vn,(0,r.toDisplayString)(e.name||"Êú™ÂëΩÂêçÈ¢ÑËÆæ"),1),(0,r.createElementVNode)("div",bn,[(0,r.createElementVNode)("span",yn,(0,r.toDisplayString)(m(e.savedAt)),1),(0,r.createElementVNode)("button",{class:"btn-delete",onClick:(0,r.withModifiers)(t=>async function(e){if(window.confirm("Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™È¢ÑËÆæÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄ„ÄÇ"))try{await(0,Xe.BC)(e),X.o.success("È¢ÑËÆæÂ∑≤Âà†Èô§"),await u(),i.value?.id===e&&(i.value=null)}catch(e){console.error("[È¢ÑËÆæÂä†ËΩΩÂØπËØùÊ°Ü] Âà†Èô§È¢ÑËÆæÂ§±Ë¥•:",e),X.o.error("Âà†Èô§È¢ÑËÆæÂ§±Ë¥•")}}(e.id),["stop"])},"√ó",8,xn)])]),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("p",kn,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)("v-if",!0),e.data?((0,r.openBlock)(),(0,r.createElementBlock)("div",wn,[e.data.character_name?((0,r.openBlock)(),(0,r.createElementBlock)("span",En,(0,r.toDisplayString)(e.data.character_name),1)):(0,r.createCommentVNode)("v-if",!0),e.data.current_age?((0,r.openBlock)(),(0,r.createElementBlock)("span",Nn,(0,r.toDisplayString)(e.data.current_age)+"Â≤Å",1)):(0,r.createCommentVNode)("v-if",!0),e.data.world?((0,r.openBlock)(),(0,r.createElementBlock)("span",Sn,(0,r.toDisplayString)(e.data.world.name),1)):(0,r.createCommentVNode)("v-if",!0),e.data.talentTier?((0,r.openBlock)(),(0,r.createElementBlock)("span",_n,(0,r.toDisplayString)(e.data.talentTier.name),1)):(0,r.createCommentVNode)("v-if",!0),e.data.origin?((0,r.openBlock)(),(0,r.createElementBlock)("span",Vn,(0,r.toDisplayString)(e.data.origin.name),1)):(0,r.createCommentVNode)("v-if",!0),e.data.spiritRoot?((0,r.openBlock)(),(0,r.createElementBlock)("span",Cn,(0,r.toDisplayString)(e.data.spiritRoot.name),1)):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0)],10,hn))),128))]))]),(0,r.createCommentVNode)(" Footer "),(0,r.createElementVNode)("div",An,[(0,r.createElementVNode)("button",{class:"btn btn-cancel",onClick:p},"ÂèñÊ∂à"),(0,r.createElementVNode)("button",{class:"btn btn-confirm",onClick:g,disabled:!i.value||l.value},[l.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",Tn,"‚è≥ Âä†ËΩΩ‰∏≠...")):((0,r.openBlock)(),(0,r.createElementBlock)("span",Bn,"‚ú® Âä†ËΩΩÈ¢ÑËÆæ"))],8,Dn)])]),(0,r.createCommentVNode)(" ÂØºÂá∫È¢ÑËÆæÂØπËØùÊ°Ü "),(0,r.createVNode)(zt,{visible:c.value,onClose:t[2]||(t[2]=e=>c.value=!1),onExported:h},null,8,["visible"]),(0,r.createCommentVNode)(" ÂØºÂÖ•È¢ÑËÆæÂØπËØùÊ°Ü "),(0,r.createVNode)(rn,{visible:d.value,onClose:t[3]||(t[3]=e=>d.value=!1),onImported:f},null,8,["visible"])])):(0,r.createCommentVNode)("v-if",!0)}});var Mn=n(8139),zn={};zn.styleTagTransform=k(),zn.setAttributes=v(),zn.insert=h().bind(null,"head"),zn.domAPI=p(),zn.insertStyleElement=y(),u()(Mn.A,zn),Mn.A&&Mn.A.locals&&Mn.A.locals;const Pn=(0,N.A)(In,[["__scopeId","data-v-a2b6e2a4"]]),Rn=["disabled","title"],$n={key:0,class:"sync-icon"},On={key:1,class:"sync-icon"},Ln={key:2,class:"sync-icon"},Fn={class:"sync-text"},jn=(0,r.defineComponent)({__name:"LoadingPreSeting",props:{size:{},variant:{}},emits:["loadCompleted","loadStarted"],setup(e,{emit:t}){const n=t,a=(0,r.ref)(!1),o=(0,r.ref)(!1),i=(0,r.ref)(!1);function s(){a.value||o.value?o.value&&X.o.info("È¢ÑËÆæÂ∑≤Âä†ËΩΩÔºåÊó†ÈúÄÈáçÂ§çÊìç‰Ωú"):(i.value=!0,n("loadStarted"))}async function l(e){a.value=!0,i.value=!1;const t="load-preset-toast";X.o.loading("Ê≠£Âú®Âä†ËΩΩÈ¢ÑËÆæ...",{id:t});try{console.log("[Âä†ËΩΩÈ¢ÑËÆæÁªÑ‰ª∂] ÈÄâ‰∏≠ÁöÑÈ¢ÑËÆæ:",e),await new Promise(e=>setTimeout(e,800)),X.o.success(`È¢ÑËÆæ„Äå${e.name}„ÄçÂä†ËΩΩÊàêÂäüÔºÅ`,{id:t}),o.value=!0,n("loadCompleted",{success:!0,message:"Âä†ËΩΩÊàêÂäü",presetData:e})}catch(e){console.error("[Âä†ËΩΩÈ¢ÑËÆæÁªÑ‰ª∂] Âä†ËΩΩÂ§±Ë¥•:",e);const a=e instanceof Error?e.message:"Âä†ËΩΩÂ§±Ë¥•";X.o.error(`Âä†ËΩΩÂ§±Ë¥•: ${a}`,{id:t}),n("loadCompleted",{success:!1,message:a})}finally{a.value=!1}}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("button",{onClick:s,class:(0,r.normalizeClass)(["cloud-sync-button",{synced:o.value}]),disabled:a.value,title:a.value?"Ê≠£Âú®Âä†ËΩΩÈ¢ÑËÆæ...":o.value?"È¢ÑËÆæÂ∑≤Âä†ËΩΩ":"Âä†ËΩΩÈ¢ÑËÆæ"},[a.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",$n,"‚è≥")):o.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",On,"‚úÖ")):((0,r.openBlock)(),(0,r.createElementBlock)("span",Ln,"üìÇ")),(0,r.createElementVNode)("span",Fn,(0,r.toDisplayString)(a.value?"Âä†ËΩΩ‰∏≠":o.value?"Â∑≤Âä†ËΩΩ":"Âä†ËΩΩÈ¢ÑËÆæ"),1)],10,Rn),(0,r.createCommentVNode)(" È¢ÑËÆæÂä†ËΩΩÂØπËØùÊ°Ü "),(0,r.createVNode)(Pn,{visible:i.value,onClose:t[0]||(t[0]=e=>i.value=!1),onSelect:l},null,8,["visible"])]))}});var Un=n(8233),qn={};qn.styleTagTransform=k(),qn.setAttributes=v(),qn.insert=h().bind(null,"head"),qn.domAPI=p(),qn.insertStyleElement=y(),u()(Un.A,qn),Un.A&&Un.A.locals&&Un.A.locals;const Gn=(0,N.A)(jn,[["__scopeId","data-v-1f7f5d72"]]);var Hn=n(4717),Yn=n(1783),Wn=n(9037);const Xn={class:"modal-dialog"},Jn={class:"modal-title"},Kn={class:"form-fields"},Zn=["for"],Qn=["id","onUpdate:modelValue","placeholder","type"],ea=["id","onUpdate:modelValue","placeholder"],ta=["id","onUpdate:modelValue"],na=["value"],aa={class:"dynamic-list-container"},ra={class:"list-header"},oa=["onClick"],ia={key:0,class:"list-items"},sa={class:"item-inputs"},la=["onUpdate:modelValue"],ca=["value"],da=["onUpdate:modelValue","placeholder"],ua=["onUpdate:modelValue","placeholder"],ma=["onUpdate:modelValue","placeholder"],pa=["onClick"],ga={key:1,class:"empty-list"},ha={key:0,class:"error-messages"},fa={class:"modal-actions"},va=(0,r.defineComponent)({__name:"CustomCreationModal",props:{visible:{type:Boolean},title:{},fields:{},validationFn:{type:Function},initialData:{}},emits:["close","submit"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)({}),i=(0,r.ref)([]),s=(0,r.computed)(()=>n.fields.filter(e=>!e.condition||e.condition(o.value)));function l(){a("close")}function c(){i.value=[];const e=n.validationFn(o.value);e.valid?(a("submit",{...o.value}),l()):i.value=e.errors}return(0,r.watch)(()=>[n.fields,n.initialData],([e,t])=>{const n={};e.forEach(e=>{const a=t?.[e.key];"select"===e.type?n[e.key]=a??e.options?.[0]?.value??"":"dynamic-list"===e.type?n[e.key]=Array.isArray(a)?JSON.parse(JSON.stringify(a)):[]:n[e.key]=a??""}),o.value=n},{immediate:!0,deep:!0}),(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(r.Transition,{name:"modal-fade"},{default:(0,r.withCtx)(()=>[e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,r.withModifiers)(l,["self"])},[(0,r.createElementVNode)("div",Xn,[(0,r.createElementVNode)("h2",Jn,(0,r.toDisplayString)(e.title),1),(0,r.createElementVNode)("div",Kn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t.key,class:"form-group"},[(0,r.createElementVNode)("label",{for:t.key},(0,r.toDisplayString)(t.label),9,Zn),"text"===t.type||"color"===t.type||"number"===t.type?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:0,id:t.key,"onUpdate:modelValue":e=>o.value[t.key]=e,placeholder:t.placeholder,type:t.type},null,8,Qn)),[[r.vModelDynamic,o.value[t.key]]]):"textarea"===t.type?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("textarea",{key:1,id:t.key,"onUpdate:modelValue":e=>o.value[t.key]=e,placeholder:t.placeholder,rows:"5"},null,8,ea)),[[r.vModelText,o.value[t.key]]]):"select"===t.type?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("select",{key:2,id:t.key,"onUpdate:modelValue":e=>o.value[t.key]=e},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.options,e=>((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e.value,value:e.value},(0,r.toDisplayString)(e.label),9,na))),128))],8,ta)),[[r.vModelSelect,o.value[t.key]]]):"dynamic-list"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:3},[(0,r.createCommentVNode)(" Âä®ÊÄÅÂàóË°®Â≠óÊÆµ "),(0,r.createElementVNode)("div",aa,[(0,r.createElementVNode)("div",ra,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(t.label),1),(0,r.createElementVNode)("button",{onClick:e=>function(e){const t=o.value[e.key];Array.isArray(t)||(o.value[e.key]=[]);const n={};e.columns.forEach(e=>{"select"===e.type&&e.options?n[e.key]=e.options[0]?.value||"":n[e.key]=""}),o.value[e.key].push(n)}(t),class:"add-btn",type:"button"},"+ "+(0,r.toDisplayString)(e.$t("Ê∑ªÂä†")),9,oa)]),Array.isArray(o.value[t.key])&&o.value[t.key].length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",ia,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.value[t.key],(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:"list-item"},[(0,r.createElementVNode)("div",sa,["select"===t.columns[0].type?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("select",{key:0,"onUpdate:modelValue":n=>e[t.columns[0].key]=n,class:"item-input"},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.columns[0].options,e=>((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e.value,value:e.value},(0,r.toDisplayString)(e.label),9,ca))),128))],8,la)),[[r.vModelSelect,e[t.columns[0].key]]]):(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:1,"onUpdate:modelValue":n=>e[t.columns[0].key]=n,placeholder:t.columns[0].placeholder,class:"item-input"},null,8,da)),[[r.vModelText,e[t.columns[0].key]]]),t.columns[1]?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:2,"onUpdate:modelValue":n=>e[t.columns[1].key]=n,placeholder:t.columns[1].placeholder,class:"item-input"},null,8,ua)),[[r.vModelText,e[t.columns[1].key]]]):(0,r.createCommentVNode)("v-if",!0),t.columns[2]?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:3,"onUpdate:modelValue":n=>e[t.columns[2].key]=n,placeholder:t.columns[2].placeholder,class:"item-input",type:"number",step:"0.1"},null,8,ma)),[[r.vModelText,e[t.columns[2].key]]]):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("button",{onClick:e=>function(e,t){const n=o.value[e.key];Array.isArray(n)&&n.splice(t,1)}(t,n),class:"remove-btn",type:"button"},"√ó",8,pa)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",ga,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ÊöÇÊó†Êï∞ÊçÆ")),1)]))])],2112)):(0,r.createCommentVNode)("v-if",!0)]))),128))]),i.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",ha,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("p",{key:t},"* "+(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",fa,[(0,r.createElementVNode)("button",{onClick:l,class:"btn btn-secondary"},(0,r.toDisplayString)(e.$t("ÂÖ≥Èó≠")),1),(0,r.createElementVNode)("button",{onClick:c,class:"btn"},(0,r.toDisplayString)(e.$t("Á°ÆËÆ§")),1)])])])):(0,r.createCommentVNode)("v-if",!0)]),_:1}))}});var ba=n(5609),ya={};ya.styleTagTransform=k(),ya.setAttributes=v(),ya.insert=h().bind(null,"head"),ya.domAPI=p(),ya.insertStyleElement=y(),u()(ba.A,ya),ba.A&&ba.A.locals&&ba.A.locals;const xa=(0,N.A)(va,[["__scopeId","data-v-6ec25edf"]]),ka={class:"modal-content"},wa={class:"modal-header"},Ea={class:"modal-body"},Na={class:"hint"},Sa=["placeholder","onKeydown"],_a={class:"modal-footer"},Va=["disabled"],Ca=(0,r.defineComponent)({__name:"AIPromptModal",props:{visible:{type:Boolean}},emits:["close","submit"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)("");function i(){a("close")}function s(){const e=o.value.trim();e&&(a("submit",e),i())}return(0,r.watch)(()=>n.visible,e=>{e&&(o.value="")}),(e,t)=>e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,r.withModifiers)(i,["self"])},[(0,r.createElementVNode)("div",ka,[(0,r.createElementVNode)("div",wa,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("AIÂ∏Æ‰Ω†ÂàõÂª∫")),1),(0,r.createElementVNode)("button",{class:"close-btn",onClick:i},"√ó")]),(0,r.createElementVNode)("div",Ea,[(0,r.createElementVNode)("p",Na,(0,r.toDisplayString)(e.$t("ËØ∑ÊèèËø∞‰Ω†ÊÉ≥ÁîüÊàê‰ªÄ‰πàÂÜÖÂÆπÔºö")),1),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),class:"prompt-input",placeholder:e.$t("‰æãÂ¶ÇÔºöÁîüÊàê‰∏Ä‰∏™Á≠âÁ¶ªÂ≠êÂ±ûÊÄßÁöÑÊ®°ÂùóÔºåÈÄÇÂêàË°óÂ§¥ÊàòÊñó..."),rows:"6",onKeydown:(0,r.withKeys)((0,r.withModifiers)(s,["ctrl"]),["enter"])},null,40,Sa),[[r.vModelText,o.value]])]),(0,r.createElementVNode)("div",_a,[(0,r.createElementVNode)("button",{class:"cancel-btn",onClick:i},(0,r.toDisplayString)(e.$t("ÂèñÊ∂à")),1),(0,r.createElementVNode)("button",{class:"submit-btn",onClick:s,disabled:!o.value.trim()},(0,r.toDisplayString)(e.$t("ÂºÄÂßãÂàõÂª∫")),9,Va)])])])):(0,r.createCommentVNode)("v-if",!0)}});var Aa=n(8794),Da={};Da.styleTagTransform=k(),Da.setAttributes=v(),Da.insert=h().bind(null,"head"),Da.domAPI=p(),Da.insertStyleElement=y(),u()(Aa.A,Da),Aa.A&&Aa.A.locals&&Aa.A.locals;const Ta=(0,N.A)(Ca,[["__scopeId","data-v-9bd0bd00"]]);var Ba=n(236);const Ia='**Á´ãÂç≥ÊâßË°å‰ªªÂä°ÔºåËæìÂá∫JSONÊ†ºÂºèÁöÑÊï∞ÊçÆ„ÄÇÁ¶ÅÊ≠¢ËæìÂá∫Á°ÆËÆ§Ê∂àÊÅØÊàñÁ∫ØÊñáÊú¨ÔºÅ**\n\n‰Ω†ÊòØ‰∏ì‰∏öÁöÑ‰∏ñÁïåËßÇÂÜÖÂÆπÁîüÊàêÂô®ÔºåÊ†πÊçÆÁî®Êà∑Êèê‰æõÁöÑ‰∏ªÈ¢òÁîüÊàêÂØπÂ∫îÈ£éÊ†ºÁöÑÂÜÖÂÆπ„ÄÇ\n\n„Äê‰∏ñÁïåËßÇÊ†∏ÂøÉÁêÜÂøµ„Äë\n- ËµõÂçöÊúãÂÖãÁé∞ÂÆû‰∏ª‰πâÔºöÁßëÊäÄ„ÄÅÈò∂Â±Ç„ÄÅËµÑÊ∫ê‰∏éÁß©Â∫èÂÜ≤Á™Å\n- ‰∏•Ê†ºÊåâÁÖßÁî®Êà∑ÁöÑÈÄâÊã©Âíå‰∏ñÁïåËÆæÂÆöÊù•ÁîüÊàêÂÜÖÂÆπ\n- Â¶ÇÊûúÁî®Êà∑ÊåáÂÆö‰∫ÜÁâπÂÆöÈ£éÊ†ºÔºàËøëÊú™Êù•„ÄÅÂèç‰πåÊâòÈÇ¶„ÄÅÁ°¨ÁßëÂπªÁ≠âÔºâÔºåÂøÖÈ°ªÂÆåÂÖ®ÈÅµÂæ™ËØ•È£éÊ†º\n- ‰∏çË¶ÅÈ¢ÑËÆæÂõ∫ÂÆöÂâßÊÉÖÊñπÂêëÔºåËÆ©Áî®Êà∑Ëá™Â∑±ÂÜ≥ÂÆöÊïÖ‰∫ãËµ∞Âêë\n\n„ÄêËæìÂá∫Ê†ºÂºèÁ§∫‰æã„Äë\n```json\n{\n  "name": "Á§∫‰æãÂêçÁß∞",\n  "description": "Á§∫‰æãÊèèËø∞",\n  "ÂÖ∂‰ªñÂ≠óÊÆµ": "Ê†πÊçÆÂÖ∑‰Ωì‰ªªÂä°Ë¶ÅÊ±Ç"\n}\n```\n\n„ÄêËæìÂá∫Ë¶ÅÊ±Ç„Äë\n1. ÊâÄÊúâÊï∞ÂÄºÂ≠óÊÆµÂøÖÈ°ªÊòØÊï∞Â≠óÁ±ªÂûãÔºà‰∏çË¶ÅÁî®Â≠óÁ¨¶‰∏≤Ôºâ\n2. ÂøÖÈ°ª‰ΩøÁî®```json‰ª£Á†ÅÂùóÂåÖË£π\n3. ‰∏çÂæóÊ∑ªÂä†‰ªª‰ΩïÈ¢ùÂ§ñÁöÑËß£ÈáäËØ¥ÊòéÊñáÂ≠ó\n4. ‚ùå Á¶ÅÊ≠¢ËæìÂá∫Á°ÆËÆ§Ê∂àÊÅØÔºàÂ¶Ç"Ê≥ïÂàôÂ∑≤ÂàªÂÖ•Â§©ËΩ®"„ÄÅ"ÊòéÁôΩ‰∫Ü"„ÄÅ"Êî∂Âà∞"Á≠âÔºâ\n5. ‚ùå Á¶ÅÊ≠¢ËæìÂá∫Á∫ØÊñáÊú¨ÔºåÂøÖÈ°ªÊòØJSONÊ†ºÂºè\n',Ma=`${Ia}\n\n„Äê‰ªªÂä°„ÄëÁîüÊàê‰∏ñÁïåËÆæÂÆö\n\n„ÄêÂ≠óÊÆµ„Äëname(2-6Â≠ó)/description(200-400Â≠ó)/era(5-10Â≠ó)\n`,za=`${Ia}\n\n„Äê‰ªªÂä°„ÄëÁîüÊàêËµÑË¥®Á≠âÁ∫ß\n\n„ÄêÂøÖÂ°´Â≠óÊÆµ„Äë\n- name: ËµÑË¥®ÂêçÁß∞\n- description: ÊèèËø∞ÊñáÂ≠óÔºà50-150Â≠óÔºâ\n- total_points: ÊÄªÁÇπÊï∞ÔºàÊï∞Â≠óÁ±ªÂûãÔºåËåÉÂõ¥10-50Ôºâ\n- rarity: Á®ÄÊúâÂ∫¶ÔºàÊï∞Â≠óÁ±ªÂûãÔºåËåÉÂõ¥1-5Ôºâ\n- color: È¢úËâ≤ÔºàÂçÅÂÖ≠ËøõÂà∂Ê†ºÂºèÔºâ\n`,Pa=`${Ia}\n\n„Äê‰ªªÂä°„ÄëÁîüÊàêËÉåÊôØË∫´‰ªΩ\n\n„ÄêÂ≠óÊÆµË¶ÅÊ±Ç„Äë\n-- name (Â≠óÁ¨¶‰∏≤): 4-6Â≠óÁöÑË∫´‰ªΩÂêçÁß∞\n-- description (Â≠óÁ¨¶‰∏≤): 100-300Â≠óÁöÑËÉåÊôØÊïÖ‰∫ã\n-- talent_cost (Êï∞Â≠ó): 0-10‰πãÈó¥ÁöÑÊï¥Êï∞\n-- rarity (Êï∞Â≠ó): 1-5‰πãÈó¥ÁöÑÊï¥Êï∞\n-- attribute_modifiers (ÂØπË±°): Âü∫Á°ÄÁ¥†Ë¥®Âä†ÊàêÔºåÊÄªÂíå‰∏çË∂ÖËøá5ÁÇπ\n-- effects (Êï∞ÁªÑ): 1-2‰∏™Áã¨ÁâπÊïàÊûúÁöÑÊñáÂ≠óÊèèËø∞\n\n„ÄêËæìÂá∫Á§∫‰æã„Äë\n\`\`\`json\n{\n  "name": "Ë°óÂ§¥ÂºÉÂ≠ê",\n  "description": "Ëá™ÂπºÂú®Ë¥´Ê∞ëÂå∫ÈïøÂ§ßÔºåÈù†Êú¨ËÉΩ‰∏éÂÖ≥Á≥ªÊ±ÇÁîü...",\n  "talent_cost": 2,\n  "rarity": 3,\n  "attribute_modifiers": {\n    "‰ΩìÊ†º": 2,\n    "ÂèçÂ∫î": -1,\n    "Êô∫ËØÜ": 0,\n    "Âπ∏Ëøê": 1,\n    "È≠ÖÂäõ": -1,\n    "ÊÑèÂøó": 1\n  },\n  "effects": ["Ë°óÂ§¥Áõ¥ËßâÔºöÂú®Ê∑∑‰π±ÁéØÂ¢É‰∏≠ÊÑüÁü•ÂäõÊèêÂçá", "ÁÅ∞Âå∫ÈÄöË°åÔºöÊõ¥ÂÆπÊòìÊé•Ëß¶ÈªëÂ∏Ç"]\n}\n\`\`\`\n`,Ra=`${Ia}\n\n„Äê‰ªªÂä°„ÄëÁîüÊàê‰πâ‰ΩìÂÄæÂêëÔºàÂ¶ÇÁ•ûÁªèÈÄÇÈÖç„ÄÅÊîπÈÄ†ÂÖºÂÆπÁ≠âÔºâ\n\n„ÄêÂ≠óÊÆµË¶ÅÊ±Ç„Äë\n-- name (Â≠óÁ¨¶‰∏≤): ÂÄæÂêëÂêçÁß∞Ôºå‰∏çÂê´Á≠âÁ∫ßÂâçÁºÄ\n-- tier (Â≠óÁ¨¶‰∏≤): Á≠âÁ∫ßÔºåÂèØÈÄâÂÄºÔºöÂü∫Á°Ä„ÄÅÂ¢ûÂº∫„ÄÅÂÜõËßÑ„ÄÅÂéüÂûã„ÄÅÁ¶ÅÂøå\n-- description (Â≠óÁ¨¶‰∏≤): 50-200Â≠óÁöÑÊèèËø∞\n-- cultivation_speed (Â≠óÁ¨¶‰∏≤): ÊàêÈïøÈÄüÂ∫¶ÔºåÊ†ºÂºè‰∏∫"Êï∞Â≠óx"\n- special_effects (Êï∞ÁªÑ): 1-3‰∏™ÁâπÊÆäÊïàÊûú\n- base_multiplier (Êï∞Â≠ó): Âü∫Á°ÄÂÄçÁéáÔºåÁ∫ØÊï∞Â≠ó\n- talent_cost (Êï∞Â≠ó): 3-30‰πãÈó¥ÁöÑÊï¥Êï∞\n- rarity (Êï∞Â≠ó): 1-5‰πãÈó¥ÁöÑÊï¥Êï∞\n\n„ÄêËæìÂá∫Á§∫‰æã„Äë\n\`\`\`json\n{\n  "name": "Á•ûÁªè‰ΩéÂª∂Ëøü",\n  "tier": "Â¢ûÂº∫",\n  "description": "Á•ûÁªè‰ø°Âè∑‰º†ÂØºÊïàÁéáÊûÅÈ´òÔºåÂèçÂ∫î‰∏éÂæÆÊìçÂç†‰ºò...",\n  "cultivation_speed": "1.8x",\n  "special_effects": ["ÂèçÂ∫îÈÄüÂ∫¶ÊèêÂçá", "Âä®‰ΩúËØØÂ∑ÆÈôç‰Ωé", "Êìç‰ΩúÁ®≥ÂÆö"],\n  "base_multiplier": 1.8,\n  "talent_cost": 15,\n  "rarity": 4\n}\n\`\`\`\n`,$a=`${Ia}\n\n„Äê‰ªªÂä°„ÄëÁîüÊàê‰∏ìÈïø\n\n„ÄêÂ≠óÊÆµË¶ÅÊ±Ç„Äë\n-- name (Â≠óÁ¨¶‰∏≤): 4-6Â≠óÁöÑ‰∏ìÈïøÂêçÁß∞\n-- description (Â≠óÁ¨¶‰∏≤): 30-100Â≠óÁöÑ‰∏ìÈïøÊèèËø∞\n\n„ÄêËæìÂá∫Á§∫‰æã„Äë\n\`\`\`json\n{\n  "name": "ËÆ∞ÂøÜÁºìÂ≠ò",\n  "description": "ÂØπÂ§çÊùÇ‰ø°ÊÅØÁöÑËÆ∞ÂøÜ‰∏éË∞ÉÁî®ÊïàÁéáÊòæËëóÊèêÂçá"\n}\n\`\`\`\n`;var Oa=n(758);const La={class:"world-selection-container"},Fa={key:0,class:"loading-state"},ja={key:1,class:"error-state"},Ua={key:2,class:"world-layout"},qa={class:"left-panel"},Ga={class:"top-actions-container"},Ha={class:"action-name"},Ya={class:"action-name"},Wa={class:"list-container"},Xa={key:0,class:"no-worlds-message"},Ja={class:"no-worlds-text"},Ka={key:0,class:"no-worlds-hint"},Za=["onClick","onMouseover"],Qa={class:"item-content"},er={class:"item-name"},tr={key:0,class:"action-buttons"},nr=["onClick","title"],ar=["onClick","title"],rr={class:"details-container"},or={key:0,class:"world-details"},ir={class:"details-header"},sr={class:"details-title"},lr=["title"],cr={class:"btn-text"},dr={class:"era"},ur={class:"map-options"},mr={class:"map-options-header"},pr={class:"difficulty-section"},gr={class:"difficulty-label"},hr={class:"difficulty-options"},fr=["value"],vr={class:"difficulty-name"},br={class:"difficulty-desc"},yr={class:"continents-only-section"},xr={class:"continents-only-toggle"},kr={class:"toggle-label"},wr={class:"toggle-hint"},Er={key:0,class:"config-warning"},Nr={class:"warning-text"},Sr={class:"warning-title"},_r={class:"warning-desc"},Vr={class:"map-options-grid"},Cr={class:"option-item"},Ar={class:"option-label"},Dr=["disabled"],Tr={class:"config-hint"},Br={class:"option-item"},Ir={class:"option-label"},Mr=["disabled"],zr={class:"config-hint"},Pr={class:"option-item"},Rr={class:"option-label"},$r=["disabled"],Or={class:"config-hint"},Lr={class:"option-item"},Fr={class:"option-label"},jr=["title"],Ur={class:"config-hint"},qr={class:"map-options-actions"},Gr={class:"description-scroll"},Hr={key:1,class:"placeholder"},Yr=(0,r.defineComponent)({__name:"Step1_WorldSelection",emits:["ai-generate"],setup(e,{emit:t}){const n=t,a=(0,J.N)(),o=(0,r.ref)(null),i=(0,r.ref)(!1),s=(0,r.ref)(!1),l=(0,r.ref)(!1),c=(0,r.ref)(!1),d=(0,r.ref)(null),u=[{value:"ÁÆÄÂçï",label:"ÁÆÄÂçï",desc:"Êú∫ÁºòÈ¢ëÁπÅÔºåÊïå‰∫∫ËæÉÂº±"},{value:"ÊôÆÈÄö",label:"ÊôÆÈÄö",desc:"Êú∫Áºò‰∏éÂç±Èô©Âπ∂Â≠ò"},{value:"Âõ∞Èöæ",label:"Âõ∞Èöæ",desc:"Êú∫ÁºòÁ®ÄÂ∞ëÔºåÊïå‰∫∫ËæÉÂº∫"},{value:"Âô©Ê¢¶",label:"Âô©Ê¢¶",desc:"‰πùÊ≠ª‰∏ÄÁîüÔºå‰∏æÊ≠•Áª¥Ëâ∞"}],m=(0,r.ref)((()=>{const e=a.worldGenerationConfig;return e&&e.majorFactionsCount?(console.log("[‰∏ñÁïåÈÖçÁΩÆ] ‰ªéstoreÊÅ¢Â§çÂ∑≤‰øùÂ≠òÁöÑÈÖçÁΩÆ:",e),{majorFactionsCount:e.majorFactionsCount,totalLocations:e.totalLocations,secretRealmsCount:e.secretRealmsCount,continentCount:e.continentCount,generateOnlyContinents:void 0===e.generateOnlyContinents||e.generateOnlyContinents}):(console.log("[‰∏ñÁïåÈÖçÁΩÆ] ‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆ"),{majorFactionsCount:5,totalLocations:12,secretRealmsCount:5,continentCount:4,generateOnlyContinents:!0})})());(0,r.watch)(m,e=>{a.setWorldGenerationConfig(e),console.log("[‰∏ñÁïåÈÖçÁΩÆ] ÈÖçÁΩÆÂ∑≤Êõ¥Êñ∞Âπ∂‰øùÂ≠ò:",e)},{deep:!0});const p=(0,r.computed)(()=>{const e=a.creationData.worlds;if(console.log("„Äê‰∏ñÁïåÈÄâÊã©„ÄëÊâÄÊúâ‰∏ñÁïåÊï∞ÊçÆ:",e),console.log("„Äê‰∏ñÁïåÈÄâÊã©„ÄëÂΩìÂâçÊ®°Âºè:",a.isLocalCreation?"Êú¨Âú∞":"ËÅîÊú∫"),a.isLocalCreation){const t=e.filter(e=>"local"===e.source||"cloud"===e.source);return console.log("„Äê‰∏ñÁïåÈÄâÊã©„ÄëÁ©øË∂äÂºÇ‰∏ñÁïåÂèØÁî®‰∏ñÁïåÂàóË°®:",t),t}{const t=e.filter(e=>"cloud"===e.source);if(console.log("„Äê‰∏ñÁïåÈÄâÊã©„ÄëËÅîÊú∫Ê®°Âºè‰∫ëÁ´Ø‰∏ñÁïåÂàóË°®:",t),console.log("„Äê‰∏ñÁïåÈÄâÊã©„Äë‰∫ëÁ´Ø‰∏ñÁïåÊï∞Èáè:",t.length),0===t.length){console.warn("„Äê‰∏ñÁïåÈÄâÊã©„ÄëË≠¶ÂëäÔºöËÅîÊú∫Ê®°Âºè‰∏ãÊ≤°Êúâ‰∫ëÁ´Ø‰∏ñÁïåÊï∞ÊçÆÔºåÂõûÈÄÄÂà∞Êú¨Âú∞Êï∞ÊçÆÔºÅ");const t=e.filter(e=>"local"===e.source);return console.log("„Äê‰∏ñÁïåÈÄâÊã©„ÄëÂõûÈÄÄ‰ΩøÁî®Êú¨Âú∞‰∏ñÁïå:",t),t}return t}}),g=[{key:"name",label:"‰∏ñÁïåÂêçÁß∞",type:"text",placeholder:"‰æãÂ¶ÇÔºöÈúìËôπÁü©ÈòµÂüé"},{key:"era",label:"Êó∂‰ª£ËÉåÊôØ",type:"text",placeholder:"‰æãÂ¶ÇÔºöËµõÂçöËµÑÊú¨ÁªüÊ≤ª"},{key:"description",label:"‰∏ñÁïåÊèèËø∞",type:"textarea",placeholder:"ÊèèËø∞Ëøô‰∏™‰∏ñÁïåÁöÑËÉåÊôØÊïÖ‰∫ã„ÄÅÁßëÊäÄÁîüÊÄÅ‰∏éËßÑÂàô‰ΩìÁ≥ª..."}];function h(e){const t={};return e.name?.trim()||(t.name="‰∏ñÁïåÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫"),{valid:0===Object.keys(t).length,errors:Object.values(t)}}async function f(e){const t={id:Date.now(),name:e.name,era:e.era,description:e.description,source:"local"};try{a.addWorld(t),y(t),i.value=!1,X.o.success(`Ëá™ÂÆö‰πâ‰∏ñÁïå "${t.name}" Â∑≤ÊàêÂäü‰øùÂ≠òÔºÅ`)}catch(e){console.error("‰øùÂ≠òËá™ÂÆö‰πâ‰∏ñÁïåÂ§±Ë¥•:",e),X.o.error("‰øùÂ≠òËá™ÂÆö‰πâ‰∏ñÁïåÂ§±Ë¥•ÔºÅ")}}function v(){a.isLocalCreation?c.value=!0:n("ai-generate")}async function b(e){const t="ai-generate-world";X.o.loading("‰∏ñÁïåÊé®Êºî‰∏≠ÔºåËØ∑Á®çÂÄô...",{id:t});try{const n=await(0,Ba.e)(e,Ma,!1,"world_generation");if(!n)return void X.o.error("AIÊé®ÊºîÂ§±Ë¥•",{id:t});let r;console.log("„ÄêAIÊé®Êºî-‰∏ñÁïå„ÄëÂÆåÊï¥ÂìçÂ∫î:",n);try{r=(0,Oa.p)(n)}catch(e){return console.error("„ÄêAIÊé®Êºî-‰∏ñÁïå„ÄëJSONËß£ÊûêÂ§±Ë¥•:",e),void X.o.error("AIÊé®ÊºîÁªìÊûúÊ†ºÂºèÈîôËØØÔºåÊó†Ê≥ïËß£Êûê",{id:t})}if(!r.name)return void X.o.error("AIÊé®ÊºîÁªìÊûúÁº∫Â∞ë‰∏ñÁïåÂêçÁß∞",{id:t});const o={id:Date.now(),name:r.name||r.ÂêçÁß∞||"Êú™ÂëΩÂêç‰∏ñÁïå",era:r.era||r.Êó∂‰ª£ËÉåÊôØ||"",description:r.description||r.ÊèèËø∞||r.‰∏ñÁïåÊèèËø∞||"",source:"local"};a.addWorld(o),y(o),c.value=!1,X.o.success(`AIÊé®ÊºîÂÆåÊàêÔºÅ‰∏ñÁïå "${o.name}" Â∑≤ÁîüÊàê`,{id:t})}catch(e){console.error("„ÄêAIÊé®Êºî-‰∏ñÁïå„ÄëÂ§±Ë¥•:",e),X.o.error(`AIÊé®ÊºîÂ§±Ë¥•: ${e.message}`,{id:t})}}function y(e){a.selectWorld(e.id),a.setWorldGenerationConfig(m.value)}function x(){const e=[3,4,5,6,7],t=[8,10,12,15,18],n=[3,4,5,6,8],r=[3,4,5,6];m.value={majorFactionsCount:e[Math.floor(Math.random()*e.length)],totalLocations:t[Math.floor(Math.random()*t.length)],secretRealmsCount:n[Math.floor(Math.random()*n.length)],continentCount:r[Math.floor(Math.random()*r.length)],generateOnlyContinents:m.value.generateOnlyContinents},a.setWorldGenerationConfig(m.value),X.o.info("Â∑≤ÈöèÊú∫ÁîüÊàê‰∏ñÁïåÈÖçÁΩÆ")}function k(){m.value={majorFactionsCount:5,totalLocations:12,secretRealmsCount:5,continentCount:4,generateOnlyContinents:!0},a.setWorldGenerationConfig(m.value),X.o.info("Â∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ÈÖçÁΩÆ")}const w=(0,r.computed)(()=>m.value.majorFactionsCount>8||m.value.totalLocations>15||m.value.secretRealmsCount>10);async function E(e){if(!d.value)return;const t={name:e.name,era:e.era,description:e.description};try{a.updateWorld(d.value.id,t)?(l.value=!1,d.value=null,X.o.success(`‰∏ñÁïå "${t.name}" Â∑≤Êõ¥Êñ∞ÔºÅ`)):X.o.error("Êõ¥Êñ∞‰∏ñÁïåÂ§±Ë¥•ÔºÅ")}catch(e){console.error("Êõ¥Êñ∞‰∏ñÁïåÂ§±Ë¥•:",e),X.o.error("Êõ¥Êñ∞‰∏ñÁïåÂ§±Ë¥•ÔºÅ")}}const N=(0,r.computed)(()=>d.value?{name:d.value.name,era:d.value.era,description:d.value.description}:{});return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",La,[(0,r.unref)(a).isLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",Fa,(0,r.toDisplayString)(e.$t("Ê≠£Âú®Êé®ÊºîËØ∏Â§©‰∏áÁïå...")),1)):(0,r.unref)(a).error?((0,r.openBlock)(),(0,r.createElementBlock)("div",ja,(0,r.toDisplayString)(e.$t("Ëá¥ÂëΩÈîôËØØ"))+"Ôºö"+(0,r.toDisplayString)((0,r.unref)(a).error),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ua,[(0,r.createCommentVNode)(" Â∑¶‰æßÈù¢ÊùøÔºö‰∏ñÁïåÂàóË°® "),(0,r.createElementVNode)("div",qa,[(0,r.createCommentVNode)(" È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ "),(0,r.createElementVNode)("div",Ga,[(0,r.unref)(a).isLocalCreation?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=e=>i.value=!0),class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",Ha,(0,r.toDisplayString)(e.$t("Ëá™ÂÆö‰πâ‰∏ñÁïå")),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{onClick:v,class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",Ya,(0,r.toDisplayString)(e.$t("AIÂ∏Æ‰Ω†ÂàõÂª∫")),1)])]),(0,r.createElementVNode)("div",Wa,[0===p.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Xa,[t[11]||(t[11]=(0,r.createElementVNode)("div",{class:"no-worlds-icon"},"üåå",-1)),(0,r.createElementVNode)("div",Ja,(0,r.toDisplayString)((0,r.unref)(a).isLocalCreation?e.$t("ÊöÇÊó†Êú¨Âú∞‰∏ñÁïåÊï∞ÊçÆ"):e.$t("ÊöÇÊó†‰∫ëÁ´Ø‰∏ñÁïåÊï∞ÊçÆ")),1),(0,r.unref)(a).isLocalCreation?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ka,(0,r.toDisplayString)(e.$t("ËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•ÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò")),1))])):((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:1},(0,r.renderList)(p.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t.id,class:(0,r.normalizeClass)(["list-item",{selected:(0,r.unref)(a).characterPayload.world_id===t.id}]),onClick:e=>y(t),onMouseover:e=>o.value=t},[(0,r.createElementVNode)("div",Qa,[(0,r.createElementVNode)("span",er,(0,r.toDisplayString)(t.name),1)]),"cloud"===t.source?((0,r.openBlock)(),(0,r.createElementBlock)("div",tr,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>function(e){d.value=e,l.value=!0}(t),["stop"]),class:"edit-btn",title:e.$t("ÁºñËæëÊ≠§È°π")},[(0,r.createVNode)((0,r.unref)(Hn.A),{size:14})],8,nr),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>async function(e){try{await a.removeWorld(e),console.log(`„Äê‰∏ñÁïåÈÄâÊã©„ÄëÊàêÂäüÂà†Èô§‰∏ñÁïå ID: ${e}`)}catch(t){console.error(`„Äê‰∏ñÁïåÈÄâÊã©„ÄëÂà†Èô§‰∏ñÁïåÂ§±Ë¥• ID: ${e}`,t)}}(t.id),["stop"]),class:"delete-btn",title:e.$t("Âà†Èô§Ê≠§È°π")},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:14})],8,ar)])):(0,r.createCommentVNode)("v-if",!0)],42,Za))),128))])]),(0,r.createCommentVNode)(" Âè≥‰æßÈù¢ÊùøÔºö‰∏ñÁïåËØ¶ÊÉÖ + Âú∞ÂõæÁîüÊàêÈÄâÈ°π "),(0,r.createElementVNode)("div",rr,[o.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",or,[(0,r.createElementVNode)("div",ir,[(0,r.createElementVNode)("h2",sr,(0,r.toDisplayString)(o.value.name),1),(0,r.createElementVNode)("button",{class:"map-settings-btn",onClick:t[1]||(t[1]=e=>s.value=!s.value),title:e.$t("Âú∞ÂõæÁîüÊàêÈÄâÈ°π")},[(0,r.createVNode)((0,r.unref)(Wn.A),{size:16}),(0,r.createElementVNode)("span",cr,(0,r.toDisplayString)(e.$t("ËÆæÁΩÆ")),1)],8,lr)]),(0,r.createElementVNode)("p",dr,"„Äê"+(0,r.toDisplayString)(o.value.era||e.$t("Êó∂‰ª£Êú™Áü•"))+"„Äë",1),(0,r.createCommentVNode)(" Âú∞ÂõæÁîüÊàêÈÄâÈ°πÔºàÁßªÂÖ•Âè≥‰æßËØ¶ÊÉÖÂÜÖÔºåÈÅøÂÖçÊï¥‰ΩìÈ´òÂ∫¶Ê∫¢Âá∫Ôºâ "),(0,r.withDirectives)((0,r.createElementVNode)("div",ur,[(0,r.createElementVNode)("div",mr,(0,r.toDisplayString)(e.$t("‰∏ñÁïåËßÑÊ®°ÈÖçÁΩÆ")),1),(0,r.createCommentVNode)(" Ê∏∏ÊàèÈöæÂ∫¶ÈÄâÊã© "),(0,r.createElementVNode)("div",pr,[(0,r.createElementVNode)("div",gr,(0,r.toDisplayString)(e.$t("Ê∏∏ÊàèÈöæÂ∫¶")),1),(0,r.createElementVNode)("div",hr,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u,e=>(0,r.createElementVNode)("label",{key:e.value,class:(0,r.normalizeClass)(["difficulty-option",{selected:(0,r.unref)(a).gameDifficulty===e.value}])},[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio",value:e.value,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,r.unref)(a).gameDifficulty=e),class:"difficulty-radio"},null,8,fr),[[r.vModelRadio,(0,r.unref)(a).gameDifficulty]]),(0,r.createElementVNode)("span",vr,(0,r.toDisplayString)(e.label),1),(0,r.createElementVNode)("span",br,(0,r.toDisplayString)(e.desc),1)],2)),64))])]),(0,r.createCommentVNode)(" ‰ªÖÁîüÊàêÂ§ßÈôÜÂºÄÂÖ≥ "),(0,r.createElementVNode)("div",yr,[(0,r.createElementVNode)("label",xr,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>m.value.generateOnlyContinents=e),class:"toggle-checkbox"},null,512),[[r.vModelCheckbox,m.value.generateOnlyContinents]]),(0,r.createElementVNode)("span",kr,(0,r.toDisplayString)(e.$t("‰ªÖÁîüÊàêÂ§ßÈôÜÔºàÂºÄÂ±Ä‰ºòÂåñÔºâ")),1)]),(0,r.createElementVNode)("div",wr,(0,r.toDisplayString)(m.value.generateOnlyContinents?e.$t("ÂºÄÂ±ÄÂè™ÁîüÊàêÂ§ßÈôÜÔºåÂäøÂäõÂíåÂú∞ÁÇπÂèØÂú®Ê∏∏Êàè‰∏≠Âä®ÊÄÅÁîüÊàêÔºåÂáèÂ∞ëtokenÊ∂àËÄó"):e.$t("ÂºÄÂ±ÄÁîüÊàêÂÆåÊï¥‰∏ñÁïåÔºàÂåÖÊã¨ÂäøÂäõ„ÄÅÂú∞ÁÇπÂíåÁßòÂ¢ÉÔºâ")),1)]),(0,r.createCommentVNode)(" ÈÖçÁΩÆË≠¶ÂëäÊèêÁ§∫ "),w.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Er,[t[12]||(t[12]=(0,r.createElementVNode)("div",{class:"warning-icon"},"‚ö†Ô∏è",-1)),(0,r.createElementVNode)("div",Nr,[(0,r.createElementVNode)("div",Sr,(0,r.toDisplayString)(e.$t("ÈÖçÁΩÆËøáÈ´òË≠¶Âëä")),1),(0,r.createElementVNode)("div",_r,(0,r.toDisplayString)(e.$t("ÂΩìÂâçÈÖçÁΩÆÂèØËÉΩÂØºËá¥ÁîüÊàêÂ§±Ë¥•ÔºåÂª∫ËÆÆË∞ÉÊï¥Ëá≥ÂêàÁêÜËåÉÂõ¥")),1)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Ê†∏ÂøÉÊ∏∏ÊàèÈÖçÁΩÆ "),(0,r.createElementVNode)("div",Vr,[(0,r.createElementVNode)("label",Cr,[(0,r.createElementVNode)("span",Ar,(0,r.toDisplayString)(e.$t("‰∏ªË¶ÅÂäøÂäõ")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",min:"1",max:"20",step:"1","onUpdate:modelValue":t[4]||(t[4]=e=>m.value.majorFactionsCount=e),class:(0,r.normalizeClass)({"config-risky":m.value.majorFactionsCount>8}),disabled:m.value.generateOnlyContinents},null,10,Dr),[[r.vModelText,m.value.majorFactionsCount,void 0,{number:!0}]]),(0,r.createElementVNode)("span",Tr,(0,r.toDisplayString)(e.$t("Êé®Ëçê: 3-8")),1)]),(0,r.createElementVNode)("label",Br,[(0,r.createElementVNode)("span",Ir,(0,r.toDisplayString)(e.$t("Âú∞ÁÇπÊÄªÊï∞")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",min:"5",max:"100",step:"1","onUpdate:modelValue":t[5]||(t[5]=e=>m.value.totalLocations=e),class:(0,r.normalizeClass)({"config-risky":m.value.totalLocations>15}),disabled:m.value.generateOnlyContinents},null,10,Mr),[[r.vModelText,m.value.totalLocations,void 0,{number:!0}]]),(0,r.createElementVNode)("span",zr,(0,r.toDisplayString)(e.$t("Êé®Ëçê: 8-15")),1)]),(0,r.createElementVNode)("label",Pr,[(0,r.createElementVNode)("span",Rr,(0,r.toDisplayString)(e.$t("ÁßòÂ¢ÉÊï∞Èáè")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",min:"0",max:"30",step:"1","onUpdate:modelValue":t[6]||(t[6]=e=>m.value.secretRealmsCount=e),class:(0,r.normalizeClass)({"config-risky":m.value.secretRealmsCount>10}),disabled:m.value.generateOnlyContinents},null,10,$r),[[r.vModelText,m.value.secretRealmsCount,void 0,{number:!0}]]),(0,r.createElementVNode)("span",Or,(0,r.toDisplayString)(e.$t("Êé®Ëçê: 3-10")),1)]),(0,r.createElementVNode)("label",Lr,[(0,r.createElementVNode)("span",Fr,(0,r.toDisplayString)(e.$t("Â§ßÈôÜÊï∞Èáè")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",min:"3",max:"7",step:"1","onUpdate:modelValue":t[7]||(t[7]=e=>m.value.continentCount=e),title:e.$t("Â§ßÈôÜÊï∞ÈáèÂÜ≥ÂÆö‰∏ñÁïåÁöÑÂÆèËßÇÊ†ºÂ±ÄÔºå3-7ÁâáÂ§ßÈôÜÂΩ¢Êàê‰∏çÂêåÁöÑÂú∞ÁºòÊîøÊ≤ªÁªìÊûÑ")},null,8,jr),[[r.vModelText,m.value.continentCount,void 0,{number:!0}]]),(0,r.createElementVNode)("span",Ur,(0,r.toDisplayString)(e.$t("ËåÉÂõ¥: 3-7")),1)])]),(0,r.createElementVNode)("div",qr,[(0,r.createElementVNode)("button",{class:"opt-btn",onClick:x},(0,r.toDisplayString)(e.$t("ÈöèÊú∫")),1),(0,r.createElementVNode)("button",{class:"opt-btn",onClick:k},(0,r.toDisplayString)(e.$t("ÈáçÁΩÆ")),1)])],512),[[r.vShow,s.value]]),(0,r.withDirectives)((0,r.createElementVNode)("div",Gr,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(o.value.description||e.$t("Ê≠§Áïå‰∏ÄÁâáÊ∑∑Ê≤åÔºåÂ∞öÊó†ÊèèËø∞„ÄÇ")),1)],512),[[r.vShow,!s.value]])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Hr,(0,r.toDisplayString)(e.$t("ËØ∑Êã©‰∏Ä‰∏™‰∏ñÁïåÔºå‰ª•ÂºÄÂêØ‰Ω†ÁöÑÊïÖ‰∫ã„ÄÇ")),1))])])),(0,r.createVNode)(xa,{visible:i.value,title:e.$t("Ëá™ÂÆö‰πâ‰∏ñÁïå"),fields:g,validationFn:h,onClose:t[8]||(t[8]=e=>i.value=!1),onSubmit:f},null,8,["visible","title"]),(0,r.createCommentVNode)(" ÁºñËæëÊ®°ÊÄÅÊ°Ü "),(0,r.createVNode)(xa,{visible:l.value,title:e.$t("ÁºñËæë‰∏ñÁïå"),fields:g,validationFn:h,initialData:N.value,onClose:t[9]||(t[9]=e=>{l.value=!1,d.value=null}),onSubmit:E},null,8,["visible","title","initialData"]),(0,r.createCommentVNode)(" AIÊé®ÊºîËæìÂÖ•ÂºπÁ™ó "),(0,r.createVNode)(Ta,{visible:c.value,onClose:t[10]||(t[10]=e=>c.value=!1),onSubmit:b},null,8,["visible"])]))}});var Wr=n(9053),Xr={};Xr.styleTagTransform=k(),Xr.setAttributes=v(),Xr.insert=h().bind(null,"head"),Xr.domAPI=p(),Xr.insertStyleElement=y(),u()(Wr.A,Xr),Wr.A&&Wr.A.locals&&Wr.A.locals;const Jr=(0,N.A)(Yr,[["__scopeId","data-v-703cbee6"]]),Kr={class:"talent-tier-selection"},Zr={key:0,class:"loading-state"},Qr={key:1,class:"error-state"},eo={key:2,class:"tier-layout"},to={class:"tier-left-panel"},no={class:"top-actions-container"},ao={class:"action-name"},ro={class:"action-name"},oo={class:"tiers-list-container"},io=["onClick","onMouseover"],so={class:"item-content"},lo={class:"tier-name"},co={class:"tier-points"},uo={key:0,class:"action-buttons"},mo=["onClick","title"],po=["onClick","title"],go={class:"tier-details-container"},ho={key:0,class:"tier-details"},fo={class:"description-scroll"},vo={class:"points-display"},bo={key:1,class:"placeholder"},yo=(0,r.defineComponent)({__name:"Step2_TalentTierSelection",emits:["ai-generate"],setup(e,{emit:t}){const n=t,a=(0,J.N)(),o=(0,r.ref)(null),i=(0,r.ref)(!1),s=(0,r.ref)(!1),l=(0,r.ref)(!1),c=(0,r.ref)(null),d=(0,r.computed)(()=>{const e=a.creationData.talentTiers;if(console.log("„ÄêÂ§©ËµÑÈÄâÊã©„ÄëÊâÄÊúâÂ§©ËµÑÊï∞ÊçÆ:",e),console.log("„ÄêÂ§©ËµÑÈÄâÊã©„ÄëÂΩìÂâçÊ®°Âºè:",a.isLocalCreation?"Êú¨Âú∞":"ËÅîÊú∫"),console.log("„ÄêÂ§©ËµÑÈÄâÊã©„ÄëÊï∞ÊçÆÊòéÁªÜ:",e.map(e=>({name:e.name,source:e.source,id:e.id}))),a.isLocalCreation){const t=e.filter(e=>"local"===e.source||"cloud"===e.source);return console.log("„ÄêÂ§©ËµÑÈÄâÊã©„ÄëÁ©øË∂äÂºÇ‰∏ñÁïåÂèØÁî®Â§©ËµÑÂàóË°®:",t),t.sort((e,t)=>e.total_points-t.total_points)}{const t=e.length>0?e:[];return console.log("„ÄêÂ§©ËµÑÈÄâÊã©„ÄëËÅîÊú∫Ê®°ÂºèÂ§©ËµÑÂàóË°®:",t),console.log("„ÄêÂ§©ËµÑÈÄâÊã©„ÄëËÅîÊú∫Ê®°ÂºèÂ§©ËµÑÊï∞Èáè:",t.length),0===t.length&&console.warn("„ÄêÂ§©ËµÑÈÄâÊã©„ÄëË≠¶ÂëäÔºöËÅîÊú∫Ê®°Âºè‰∏ãÊ≤°ÊúâÊâæÂà∞‰ªª‰ΩïÂ§©ËµÑÊï∞ÊçÆÔºÅ"),t.sort((e,t)=>e.total_points-t.total_points)}}),u=[{key:"name",label:"‰∫∫ËÆæÂêçÁß∞",type:"text",placeholder:"‰æãÂ¶ÇÔºöÂá°‰∫∫"},{key:"description",label:"‰∫∫ËÆæÊèèËø∞",type:"textarea",placeholder:"ÊèèËø∞Ê≠§‰∫∫ËÆæÁöÑÁâπÁÇπ..."},{key:"total_points",label:"ÊäÄËÉΩÁÇπ",type:"number",placeholder:"‰æãÂ¶ÇÔºö20"},{key:"rarity",label:"Á®ÄÊúâÂ∫¶",type:"number",placeholder:"1-10ÔºåÊï∞ÂÄºË∂äÈ´òË∂äÁ®ÄÊúâ"},{key:"color",label:"ËæâÂÖâÈ¢úËâ≤",type:"color",placeholder:"‰æãÂ¶ÇÔºö#808080"}];function m(e){const t={};e.name?.trim()||(t.name="Â§©ËµÑÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫");const n=Number(e.total_points);(isNaN(n)||n<0)&&(t.total_points="ÊäÄËÉΩÁÇπÂøÖÈ°ªÊòØÈùûË¥üÊï∞");const a=Number(e.rarity);return(isNaN(a)||a<1||a>10)&&(t.rarity="Á®ÄÊúâÂ∫¶ÂøÖÈ°ªÂú®1-10‰πãÈó¥"),{valid:0===Object.keys(t).length,errors:Object.values(t)}}async function p(e){const t={id:Date.now(),name:e.name,description:e.description,total_points:parseInt(e.total_points,10)||10,rarity:parseInt(e.rarity,10)||1,color:e.color||"#808080"};try{a.addTalentTier(t),f(t),i.value=!1,X.o.success(`Ëá™ÂÆö‰πâ‰∫∫ËÆæ "${t.name}" Â∑≤‰øùÂ≠òÔºÅ`)}catch(e){console.error("‰øùÂ≠òËá™ÂÆö‰πâ‰∫∫ËÆæÂ§±Ë¥•:",e),X.o.error("‰øùÂ≠òËá™ÂÆö‰πâ‰∫∫ËÆæÂ§±Ë¥•ÔºÅ")}}function g(){a.isLocalCreation?l.value=!0:n("ai-generate")}async function h(e){const t="ai-generate-talent-tier";X.o.loading("‰∏ñÁïåÊé®Êºî‰∏≠ÔºåËØ∑Á®çÂÄô...",{id:t});try{const n=await(0,Ba.e)(e,za,!1);if(!n)return void X.o.error("AIÊé®ÊºîÂ§±Ë¥•",{id:t});let r;console.log("„ÄêAIÊé®Êºî-Â§©ËµÑ„ÄëÂÆåÊï¥ÂìçÂ∫î:",n);try{r=(0,Oa.p)(n)}catch(e){return console.error("„ÄêAIÊé®Êºî-Â§©ËµÑ„ÄëJSONËß£ÊûêÂ§±Ë¥•:",e),void X.o.error("AIÊé®ÊºîÁªìÊûúÊ†ºÂºèÈîôËØØÔºåÊó†Ê≥ïËß£Êûê",{id:t})}if(!r.name&&!r.ÂêçÁß∞)return void X.o.error("AIÊé®ÊºîÁªìÊûúÁº∫Â∞ëÂ§©ËµÑÂêçÁß∞",{id:t});const o={id:Date.now(),name:r.name||r.ÂêçÁß∞||"Êú™ÂëΩÂêçÂ§©ËµÑ",description:r.description||r.ÊèèËø∞||r.ËØ¥Êòé||"",total_points:r.total_points||r.ÊÄªÁÇπÊï∞||r.ÁÇπÊï∞||10,color:r.color||r.È¢úËâ≤||"#808080",rarity:r.rarity||r.Á®ÄÊúâÂ∫¶||1,source:"local"};a.addTalentTier(o),f(o),l.value=!1,X.o.success(`AIÊé®ÊºîÂÆåÊàêÔºÅÂ§©ËµÑ "${o.name}" Â∑≤ÁîüÊàê`,{id:t})}catch(e){console.error("„ÄêAIÊé®Êºî-Â§©ËµÑ„ÄëÂ§±Ë¥•:",e),X.o.error(`AIÊé®ÊºîÂ§±Ë¥•: ${e.message}`,{id:t})}}function f(e){a.selectTalentTier(e.id)}function v(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?`${parseInt(t[1],16)}, ${parseInt(t[2],16)}, ${parseInt(t[3],16)}`:"229, 192, 123"}async function b(e){if(!c.value)return;const t={name:e.name,description:e.description,total_points:parseInt(e.total_points,10)||10,rarity:parseInt(e.rarity,10)||1,color:e.color||"#808080"};try{a.updateTalentTier(c.value.id,t)?(s.value=!1,c.value=null,X.o.success(`Â§©ËµÑ "${t.name}" Â∑≤Êõ¥Êñ∞ÔºÅ`)):X.o.error("Êõ¥Êñ∞Â§©ËµÑÂ§±Ë¥•ÔºÅ")}catch(e){console.error("Êõ¥Êñ∞Â§©ËµÑÂ§±Ë¥•:",e),X.o.error("Êõ¥Êñ∞Â§©ËµÑÂ§±Ë¥•ÔºÅ")}}const y=(0,r.computed)(()=>c.value?{name:c.value.name,description:c.value.description,total_points:c.value.total_points.toString(),rarity:c.value.rarity?.toString()||"1",color:c.value.color}:{});return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Kr,[(0,r.unref)(a).isLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",Zr,(0,r.toDisplayString)(e.$t("ÊÑüÂ∫îÁ≥ªÁªüÔºåÊµãÁÆóÂ§©ËµÑ...")),1)):(0,r.unref)(a).error?((0,r.openBlock)(),(0,r.createElementBlock)("div",Qr,(0,r.toDisplayString)(e.$t("Â§©Êú∫Ê∑∑Ê≤å"))+"Ôºö"+(0,r.toDisplayString)((0,r.unref)(a).error),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",eo,[(0,r.createCommentVNode)(" Â∑¶‰æßÈù¢ÊùøÔºöÂàóË°®ÂíåÊìç‰ΩúÊåâÈíÆ "),(0,r.createElementVNode)("div",to,[(0,r.createCommentVNode)(" È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ "),(0,r.createElementVNode)("div",no,[(0,r.unref)(a).isLocalCreation?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=e=>i.value=!0),class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",ao,(0,r.toDisplayString)(e.$t("Ëá™ÂÆö‰πâ‰∫∫ËÆæ")),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{onClick:g,class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",ro,(0,r.toDisplayString)(e.$t("AIÂ∏Æ‰Ω†ÂàõÂª∫")),1)])]),(0,r.createElementVNode)("div",oo,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(d.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t.id,class:(0,r.normalizeClass)(["tier-item",{selected:(0,r.unref)(a).characterPayload.talent_tier_id===t.id}]),style:(0,r.normalizeStyle)({"--tier-glow-color":t.color,"--tier-glow-color-rgb":v(t.color)}),onClick:e=>f(t),onMouseover:e=>o.value=t},[(0,r.createElementVNode)("div",so,[(0,r.createElementVNode)("span",lo,(0,r.toDisplayString)(t.name),1),(0,r.createElementVNode)("span",co,(0,r.toDisplayString)(t.total_points)+" "+(0,r.toDisplayString)(e.$t("ÁÇπ")),1)]),"cloud"===t.source?((0,r.openBlock)(),(0,r.createElementBlock)("div",uo,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>function(e){c.value=e,s.value=!0}(t),["stop"]),class:"edit-btn",title:e.$t("ÁºñËæëÊ≠§È°π")},[(0,r.createVNode)((0,r.unref)(Hn.A),{size:14})],8,mo),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>async function(e){console.log(`üî• ÁÇπÂáªÂà†Èô§ÊåâÈíÆÔºåÂáÜÂ§áÂà†Èô§Â§©ËµÑ ID: ${e}`);try{await a.removeTalentTier(e),console.log(`„ÄêÂ§©ËµÑÈÄâÊã©„ÄëÊàêÂäüÂà†Èô§Â§©ËµÑ ID: ${e}`)}catch(t){console.error(`„ÄêÂ§©ËµÑÈÄâÊã©„ÄëÂà†Èô§Â§©ËµÑÂ§±Ë¥• ID: ${e}`,t)}}(t.id),["stop"]),class:"delete-btn",title:e.$t("Âà†Èô§Ê≠§È°π")},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:14})],8,po)])):(0,r.createCommentVNode)("v-if",!0)],46,io))),128))])]),(0,r.createCommentVNode)(" Âè≥‰æßËØ¶ÊÉÖ "),(0,r.createElementVNode)("div",go,[o.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",ho,[(0,r.createElementVNode)("h2",{style:(0,r.normalizeStyle)({color:o.value.color})},(0,r.toDisplayString)(o.value.name),5),(0,r.createElementVNode)("div",fo,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(o.value.description),1)]),(0,r.createElementVNode)("div",vo,(0,r.toDisplayString)(e.$t("ÊäÄËÉΩÁÇπ"))+": "+(0,r.toDisplayString)(o.value.total_points),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",bo,(0,r.toDisplayString)(e.$t("ËØ∑ÈÄâÊã©‰Ω†ÁöÑ‰∫∫ËÆæÁ≠âÁ∫ßÔºåËøôÂ∞ÜÂÜ≥ÂÆö‰Ω†ÁöÑËµ∑ÁÇπ„ÄÇ")),1))])])),(0,r.createVNode)(xa,{visible:i.value,title:e.$t("Ëá™ÂÆö‰πâ‰∫∫ËÆæ"),fields:u,validationFn:m,onClose:t[1]||(t[1]=e=>i.value=!1),onSubmit:p},null,8,["visible","title"]),(0,r.createCommentVNode)(" ÁºñËæëÊ®°ÊÄÅÊ°Ü "),(0,r.createVNode)(xa,{visible:s.value,title:e.$t("ÁºñËæë‰∫∫ËÆæ"),fields:u,validationFn:m,initialData:y.value,onClose:t[2]||(t[2]=e=>{s.value=!1,c.value=null}),onSubmit:b},null,8,["visible","title","initialData"]),(0,r.createCommentVNode)(" AIÊé®ÊºîËæìÂÖ•ÂºπÁ™ó "),(0,r.createVNode)(Ta,{visible:l.value,onClose:t[3]||(t[3]=e=>l.value=!1),onSubmit:h},null,8,["visible"])]))}});var xo=n(5828),ko={};ko.styleTagTransform=k(),ko.setAttributes=v(),ko.insert=h().bind(null,"head"),ko.domAPI=p(),ko.insertStyleElement=y(),u()(xo.A,ko),xo.A&&xo.A.locals&&xo.A.locals;const wo=(0,N.A)(yo,[["__scopeId","data-v-aad5a04c"]]),Eo={class:"origin-selection-container"},No={key:0,class:"loading-state"},So={key:1,class:"error-state"},_o={key:2,class:"origin-layout"},Vo={class:"origin-left-panel"},Co={class:"top-actions-container"},Ao={class:"action-name"},Do={class:"action-name"},To={class:"origin-list-container"},Bo={class:"origin-name"},Io={class:"origin-cost"},Mo=["onClick","onMouseover"],zo={class:"item-content"},Po={class:"origin-name"},Ro={class:"origin-cost"},$o={key:0,class:"action-buttons"},Oo=["onClick","title"],Lo=["onClick","title"],Fo={class:"origin-details-container"},jo={key:0,class:"origin-details"},Uo={class:"description-scroll"},qo={class:"cost-display"},Go={key:1,class:"placeholder"},Ho=(0,r.defineComponent)({__name:"Step3_OriginSelection",emits:["ai-generate"],setup(e,{emit:t}){const n=t,a=(0,J.N)(),o=(0,r.ref)(null),i=(0,r.ref)(!1),s=(0,r.ref)(!1),l=(0,r.ref)(!1),c=(0,r.ref)(null),d=(0,r.computed)(()=>{const e=a.creationData.origins;if(console.log("„ÄêÂá∫Ë∫´ÈÄâÊã©„ÄëÊâÄÊúâÂá∫Ë∫´Êï∞ÊçÆ:",e),console.log("„ÄêÂá∫Ë∫´ÈÄâÊã©„ÄëÂΩìÂâçÊ®°Âºè:",a.isLocalCreation?"Êú¨Âú∞":"ËÅîÊú∫"),a.isLocalCreation){const t=e.filter(e=>"local"===e.source||"cloud"===e.source);return console.log("„ÄêÂá∫Ë∫´ÈÄâÊã©„ÄëÁ©øË∂äÂºÇ‰∏ñÁïåÂèØÁî®Âá∫Ë∫´ÂàóË°®:",t),t}{const t=e.filter(e=>"cloud"===e.source);return console.log("„ÄêÂá∫Ë∫´ÈÄâÊã©„ÄëËÅîÊú∫Ê®°ÂºèÂá∫Ë∫´ÂàóË°®:",t),console.log("„ÄêÂá∫Ë∫´ÈÄâÊã©„Äë‰∫ëÁ´ØÂá∫Ë∫´Êï∞Èáè:",t.length),0===t.length&&(console.warn("„ÄêÂá∫Ë∫´ÈÄâÊã©„ÄëË≠¶ÂëäÔºöËÅîÊú∫Ê®°Âºè‰∏ãÊ≤°ÊúâÊâæÂà∞‰∫ëÁ´ØÂá∫Ë∫´Êï∞ÊçÆÔºÅ"),console.log("„ÄêÂá∫Ë∫´ÈÄâÊã©„ÄëÊâÄÊúâÂá∫Ë∫´ÁöÑsourceÂàÜÂ∏É:",e.reduce((e,t)=>(e[t.source]=(e[t.source]||0)+1,e),{}))),t}}),u=[{key:"name",label:"Âá∫Ë∫´ÂêçÁß∞",type:"text",placeholder:"‰æãÂ¶ÇÔºöÂ±±ÈáéÈÅóÂ≠§"},{key:"description",label:"Âá∫Ë∫´ÊèèËø∞",type:"textarea",placeholder:"ÊèèËø∞Ê≠§Âá∫Ë∫´ÁöÑËÉåÊôØÊïÖ‰∫ãÂíåÊàêÈïøÁªèÂéÜ..."},{key:"talent_cost",label:"ÊäÄËÉΩÁÇπÊ∂àËÄó",type:"number",placeholder:"ÈÄâÊã©Ê≠§Âá∫Ë∫´ÈúÄË¶ÅÊ∂àËÄóÁöÑÊäÄËÉΩÁÇπÔºåÂèØ‰∏∫Ë¥üÊï∞Ë°®Á§∫Â•ñÂä±"},{key:"rarity",label:"Á®ÄÊúâÂ∫¶",type:"number",placeholder:"1-10ÔºåÊï∞ÂÄºË∂äÈ´òË∂äÁ®ÄÊúâ"},{key:"attribute_modifiers",label:"Â±ûÊÄß‰øÆÊ≠£",type:"dynamic-list",columns:[{key:"attribute",placeholder:"Â±ûÊÄßÂêçÁß∞",type:"select",options:[{value:"‰ΩìË¥®",label:"‰ΩìË¥®"},{value:"ËÉΩÊ∫ê",label:"ËÉΩÊ∫ê"},{value:"ÁÆóÊ≥ï",label:"ÁÆóÊ≥ï"},{value:"ËµÑÊ∫êÊÑüÁü•",label:"ËµÑÊ∫êÊÑüÁü•"},{value:"È≠ÖÂäõ",label:"È≠ÖÂäõ"},{value:"ÂøÉÊô∫",label:"ÂøÉÊô∫"}]},{key:"value",placeholder:"‰øÆÊ≠£ÂÄºÔºàÂèØ‰∏∫Ë¥üÊï∞Ôºâ",type:"text"}]},{key:"background_effects",label:"ËÉåÊôØÊïàÊûú",type:"dynamic-list",columns:[{key:"type",placeholder:"ÊïàÊûúÁ±ªÂûãÔºàÂ¶ÇÔºöÊäÄËÉΩ„ÄÅËµÑÊ∫ê„ÄÅÂÖ≥Á≥ªÔºâ"},{key:"description",placeholder:"ÊïàÊûúÊèèËø∞"}]}];function m(e){const t={};e.name?.trim()||(t.name="Âá∫Ë∫´ÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫"),e.description?.trim()||(t.description="Âá∫Ë∫´ÊèèËø∞‰∏çÂèØ‰∏∫Á©∫");const n=Number(e.talent_cost);void 0!==e.talent_cost&&""!==e.talent_cost&&isNaN(n)&&(t.talent_cost="ÊäÄËÉΩÁÇπÊ∂àËÄóÂøÖÈ°ªÊòØÊï∞Â≠ó");const a=Number(e.rarity);return void 0!==e.rarity&&""!==e.rarity&&(isNaN(a)||a<1||a>10)&&(t.rarity="Á®ÄÊúâÂ∫¶ÂøÖÈ°ªÂú®1-10‰πãÈó¥"),{valid:0===Object.keys(t).length,errors:Object.values(t)}}async function p(e){const t={};Array.isArray(e.attribute_modifiers)&&e.attribute_modifiers.forEach(e=>{e.attribute&&e.value&&(t[e.attribute]=Number(e.value)||0)});const n=Array.isArray(e.background_effects)?e.background_effects.filter(e=>e.type&&e.description):[],r={id:Date.now(),name:e.name,description:e.description,talent_cost:Number(e.talent_cost)||0,attribute_modifiers:t,background_effects:n,rarity:Number(e.rarity)||1,source:"local"};try{a.addOrigin(r),y(r),i.value=!1,X.o.success(`Ëá™ÂÆö‰πâÂá∫Ë∫´ "${r.name}" Â∑≤‰øùÂ≠òÔºÅ`)}catch(e){console.error("‰øùÂ≠òËá™ÂÆö‰πâÂá∫Ë∫´Â§±Ë¥•:",e),X.o.error("‰øùÂ≠òËá™ÂÆö‰πâÂá∫Ë∫´Â§±Ë¥•ÔºÅ")}}function g(){if(a.isLocalCreation){if(!a.selectedWorld)return void X.o.error("ËØ∑ÂÖàÈÄâÊã©‰∏ÄÊñπÂ§ßÂçÉ‰∏ñÁïåÔºåÊñπÂèØÊé®ÊºîÂá∫Ë∫´„ÄÇ");l.value=!0}else n("ai-generate")}async function h(e){const t="ai-generate-origin";X.o.loading("‰∏ñÁïåÊé®Êºî‰∏≠ÔºåËØ∑Á®çÂÄô...",{id:t});try{const n=await(0,Ba.e)(e,Pa,!1);if(!n)return void X.o.error("AIÊé®ÊºîÂ§±Ë¥•",{id:t});let r;console.log("„ÄêAIÊé®Êºî-Âá∫Ë∫´„ÄëÂÆåÊï¥ÂìçÂ∫î:",n);try{r=(0,Oa.p)(n)}catch(e){return console.error("„ÄêAIÊé®Êºî-Âá∫Ë∫´„ÄëJSONËß£ÊûêÂ§±Ë¥•:",e),void X.o.error("AIÊé®ÊºîÁªìÊûúÊ†ºÂºèÈîôËØØÔºåÊó†Ê≥ïËß£Êûê",{id:t})}if(!r.name&&!r.ÂêçÁß∞)return void X.o.error("AIÊé®ÊºîÁªìÊûúÁº∫Â∞ëÂá∫Ë∫´ÂêçÁß∞",{id:t});let o=r.talent_cost||r.ÊäÄËÉΩÁÇπÊ∂àËÄó||r.Ê∂àËÄóÊäÄËÉΩÁÇπ;null==o?(console.warn("„ÄêAIÊé®Êºî-Âá∫Ë∫´„ÄëAIÊú™ËøîÂõûÊäÄËÉΩÁÇπÊ∂àËÄóÂ≠óÊÆµÔºå‰ΩøÁî®ÈªòËÆ§ÂÄº3"),X.o.warning("AIÊú™ËÆæÁΩÆÊäÄËÉΩÁÇπÊ∂àËÄóÔºåÂ∑≤Ëá™Âä®ËÆæ‰∏∫3ÁÇπ",{id:t,duration:2e3}),o=3):(o=Number(o),isNaN(o)&&(console.warn("„ÄêAIÊé®Êºî-Âá∫Ë∫´„ÄëÊäÄËÉΩÁÇπÊ∂àËÄó‰∏çÊòØÊúâÊïàÊï∞Â≠óÔºå‰ΩøÁî®ÈªòËÆ§ÂÄº3"),o=3));const i={id:Date.now(),name:r.name||r.ÂêçÁß∞||"Êú™ÂëΩÂêçÂá∫Ë∫´",description:r.description||r.ÊèèËø∞||r.ËØ¥Êòé||"",talent_cost:o,attribute_modifiers:r.attribute_modifiers||r.Â±ûÊÄß‰øÆÊ≠£||{},background_effects:r.background_effects||r.ËÉåÊôØÊïàÊûú||[],rarity:r.rarity||r.Á®ÄÊúâÂ∫¶||1,source:"local"};a.addOrigin(i),y(i),l.value=!1,X.o.success(`AIÊé®ÊºîÂÆåÊàêÔºÅÂá∫Ë∫´ "${i.name}" Â∑≤ÁîüÊàê`,{id:t})}catch(e){console.error("„ÄêAIÊé®Êºî-Âá∫Ë∫´„ÄëÂ§±Ë¥•:",e),X.o.error(`AIÊé®ÊºîÂ§±Ë¥•: ${e.message}`,{id:t})}}const f=e=>{if(a.characterPayload.origin_id===e.id)return!0;const t=a.selectedOrigin?.talent_cost??0;return a.remainingTalentPoints+t>=e.talent_cost};async function v(e){if(!c.value)return;const t={};Array.isArray(e.attribute_modifiers)&&e.attribute_modifiers.forEach(e=>{e.attribute&&e.value&&(t[e.attribute]=Number(e.value)||0)});const n=Array.isArray(e.background_effects)?e.background_effects.filter(e=>e.type&&e.description):[],r={name:e.name,description:e.description,talent_cost:Number(e.talent_cost)||0,rarity:Number(e.rarity)||1,attribute_modifiers:t,background_effects:n};try{a.updateOrigin(c.value.id,r)?(s.value=!1,c.value=null,X.o.success(`Âá∫Ë∫´ "${r.name}" Â∑≤Êõ¥Êñ∞ÔºÅ`)):X.o.error("Êõ¥Êñ∞Âá∫Ë∫´Â§±Ë¥•ÔºÅ")}catch(e){console.error("Êõ¥Êñ∞Âá∫Ë∫´Â§±Ë¥•:",e),X.o.error("Êõ¥Êñ∞Âá∫Ë∫´Â§±Ë¥•ÔºÅ")}}const b=(0,r.computed)(()=>{if(!c.value)return{};const e=c.value.attribute_modifiers?Object.entries(c.value.attribute_modifiers).map(([e,t])=>({attribute:e,value:String(t)})):[];return{name:c.value.name,description:c.value.description,talent_cost:c.value.talent_cost.toString(),rarity:c.value.rarity.toString(),attribute_modifiers:e,background_effects:c.value.background_effects||[]}});function y(e){if(!f(e))return void X.o.warning("ÊäÄËÉΩÁÇπ‰∏çË∂≥ÔºåÊó†Ê≥ïÈÄâÊã©Ê≠§Âá∫Ë∫´„ÄÇ");const t=a.characterPayload.origin_id===e.id?null:e.id;a.selectOrigin(t)}function x(){a.selectOrigin(null)}const k=(0,r.computed)(()=>null===a.characterPayload.origin_id),w=((0,r.computed)(()=>k.value?"ÈöèÊú∫Âá∫Ë∫´":a.selectedOrigin?.name||""),(0,r.computed)(()=>k.value?"Á≥ªÁªüÊó†Â∏∏ÔºåÈÄ†ÂåñÂºÑ‰∫∫„ÄÇÈÄâÊã©Ê≠§È°πÔºå‰Ω†ÁöÑÂá∫Ë∫´Â∞ÜÂÆåÂÖ®ÈöèÊú∫ÁîüÊàê„ÄÇÊòØÁîü‰∫éÂ∏ùÁéã‰πãÂÆ∂ÔºåÊàñ‰∏∫Â±±ÈáéÈÅóÂ≠§ÔºåÁöÜÂú®Á≥ªÁªü‰∏ÄÂøµ‰πãÈó¥„ÄÇ":a.selectedOrigin?.description||"Ë∫´‰∏ñÂ¶ÇË∞úÔºåËøáÂæÄ‰∏ÄÁâáÁ©∫ÁôΩ„ÄÇ"),(0,r.computed)(()=>k.value?0:a.selectedOrigin?.talent_cost||0),(0,r.computed)(()=>"random"===o.value?"ÈöèÊú∫Âá∫Ë∫´":o.value&&"object"==typeof o.value?o.value.name:"")),E=(0,r.computed)(()=>"random"===o.value?"Á≥ªÁªüÊó†Â∏∏ÔºåÈÄ†ÂåñÂºÑ‰∫∫„ÄÇÈÄâÊã©Ê≠§È°πÔºå‰Ω†ÁöÑÂá∫Ë∫´Â∞ÜÂÆåÂÖ®ÈöèÊú∫ÁîüÊàê„ÄÇÊòØÁîü‰∫éÂ∏ùÁéã‰πãÂÆ∂ÔºåÊàñ‰∏∫Â±±ÈáéÈÅóÂ≠§ÔºåÁöÜÂú®Á≥ªÁªü‰∏ÄÂøµ‰πãÈó¥„ÄÇ":o.value&&"object"==typeof o.value&&o.value.description||"Ë∫´‰∏ñÂ¶ÇË∞úÔºåËøáÂæÄ‰∏ÄÁâáÁ©∫ÁôΩ„ÄÇ"),N=(0,r.computed)(()=>"random"===o.value?0:o.value&&"object"==typeof o.value&&o.value.talent_cost||0);return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Eo,[(0,r.unref)(a).isLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",No,(0,r.toDisplayString)(e.$t("ËøΩÊ∫ØËøáÂæÄÔºåÊé¢ÂØªÂá∫Ë∫´...")),1)):(0,r.unref)(a).error?((0,r.openBlock)(),(0,r.createElementBlock)("div",So,(0,r.toDisplayString)(e.$t("Âõ†Êûú‰∏çÊòé"))+"Ôºö"+(0,r.toDisplayString)((0,r.unref)(a).error),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",_o,[(0,r.createCommentVNode)(" Â∑¶‰æßÊ†èÔºöÂàóË°®ÂíåÊìç‰ΩúÊåâÈíÆ "),(0,r.createElementVNode)("div",Vo,[(0,r.createCommentVNode)(" È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ "),(0,r.createElementVNode)("div",Co,[(0,r.unref)(a).isLocalCreation?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=e=>i.value=!0),class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",Ao,(0,r.toDisplayString)(e.$t("Ëá™ÂÆö‰πâÂá∫Ë∫´")),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{onClick:g,class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",Do,(0,r.toDisplayString)(e.$t("AIÂ∏Æ‰Ω†ÂàõÂª∫")),1)])]),(0,r.createElementVNode)("div",To,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["origin-item",{selected:k.value}]),onClick:x,onMouseover:t[1]||(t[1]=e=>o.value="random")},[(0,r.createElementVNode)("span",Bo,(0,r.toDisplayString)(e.$t("ÈöèÊú∫Âá∫Ë∫´")),1),(0,r.createElementVNode)("span",Io,(0,r.toDisplayString)(e.$t("0 ÁÇπ")),1)],34),t[5]||(t[5]=(0,r.createElementVNode)("div",{class:"divider"},null,-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(d.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t.id,class:(0,r.normalizeClass)(["origin-item",{selected:(0,r.unref)(a).characterPayload.origin_id===t.id,disabled:!f(t)}]),onClick:e=>y(t),onMouseover:e=>o.value=t},[(0,r.createElementVNode)("div",zo,[(0,r.createElementVNode)("span",Po,(0,r.toDisplayString)(t.name),1),(0,r.createElementVNode)("span",Ro,(0,r.toDisplayString)(t.talent_cost)+" "+(0,r.toDisplayString)(e.$t("ÁÇπ")),1)]),"cloud"===t.source?((0,r.openBlock)(),(0,r.createElementBlock)("div",$o,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>function(e){c.value=e,s.value=!0}(t),["stop"]),class:"edit-btn",title:e.$t("ÁºñËæëÊ≠§È°π")},[(0,r.createVNode)((0,r.unref)(Hn.A),{size:14})],8,Oo),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>async function(e){try{await a.removeOrigin(e),console.log(`„ÄêÂá∫Ë∫´ÈÄâÊã©„ÄëÊàêÂäüÂà†Èô§Âá∫Ë∫´ ID: ${e}`)}catch(t){console.error(`„ÄêÂá∫Ë∫´ÈÄâÊã©„ÄëÂà†Èô§Âá∫Ë∫´Â§±Ë¥• ID: ${e}`,t)}}(t.id),["stop"]),class:"delete-btn",title:e.$t("Âà†Èô§Ê≠§È°π")},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:14})],8,Lo)])):(0,r.createCommentVNode)("v-if",!0)],42,Mo))),128))])]),(0,r.createCommentVNode)(" Âè≥‰æßËØ¶ÊÉÖ "),(0,r.createElementVNode)("div",Fo,[o.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",jo,[(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)(w.value),1),(0,r.createElementVNode)("div",Uo,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(E.value),1)]),(0,r.createElementVNode)("div",qo,(0,r.toDisplayString)(e.$t("Ê∂àËÄóÊäÄËÉΩÁÇπ: {0}").replace("{0}",String(N.value))),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Go,(0,r.toDisplayString)(e.$t("ËØ∑ÈÄâÊã©‰∏ÄÂ§ÑÂá∫Ë∫´ÔºåÊàñÈöèÊú∫ÈÄâÊã©„ÄÇ")),1))])])),(0,r.createVNode)(xa,{visible:i.value,title:e.$t("Ëá™ÂÆö‰πâÂá∫Ë∫´"),fields:u,validationFn:m,onClose:t[2]||(t[2]=e=>i.value=!1),onSubmit:p},null,8,["visible","title"]),(0,r.createCommentVNode)(" ÁºñËæëÊ®°ÊÄÅÊ°Ü "),(0,r.createVNode)(xa,{visible:s.value,title:e.$t("ÁºñËæëÂá∫Ë∫´"),fields:u,validationFn:m,initialData:b.value,onClose:t[3]||(t[3]=e=>{s.value=!1,c.value=null}),onSubmit:v},null,8,["visible","title","initialData"]),(0,r.createCommentVNode)(" AIÊé®ÊºîËæìÂÖ•ÂºπÁ™ó "),(0,r.createVNode)(Ta,{visible:l.value,onClose:t[4]||(t[4]=e=>l.value=!1),onSubmit:h},null,8,["visible"])]))}});var Yo=n(7344),Wo={};Wo.styleTagTransform=k(),Wo.setAttributes=v(),Wo.insert=h().bind(null,"head"),Wo.domAPI=p(),Wo.insertStyleElement=y(),u()(Yo.A,Wo),Yo.A&&Yo.A.locals&&Yo.A.locals;const Xo=(0,N.A)(Ho,[["__scopeId","data-v-24c17797"]]),Jo={class:"spirit-root-selection-container"},Ko={key:0,class:"loading-state"},Zo={key:1,class:"error-state"},Qo={key:2,class:"spirit-root-layout"},ei={class:"spirit-root-left-panel"},ti={class:"top-actions-container"},ni={class:"action-name"},ai={class:"action-name"},ri={class:"selection-mode-tabs"},oi={key:0,class:"preset-mode"},ii={class:"spirit-root-list-container"},si={class:"spirit-root-name"},li={class:"spirit-root-cost"},ci=["onClick","onMouseover"],di={class:"item-content"},ui={class:"spirit-root-name-container"},mi={class:"spirit-root-name"},pi={class:"spirit-root-cost"},gi={key:0,class:"action-buttons"},hi=["onClick"],fi=["onClick"],vi={key:1,class:"custom-mode"},bi={class:"custom-selection-container"},yi={class:"selection-group"},xi={class:"selection-label"},ki={class:"spirit-type-grid"},wi=["onClick"],Ei={class:"type-icon"},Ni={class:"type-name"},Si={class:"selection-group"},_i={class:"selection-label"},Vi={class:"tier-selection"},Ci=["onClick"],Ai={class:"tier-name"},Di={class:"tier-multiplier"},Ti={class:"tier-cost"},Bi={class:"custom-preview"},Ii={class:"preview-title"},Mi={class:"preview-content"},zi={class:"preview-name"},Pi={class:"preview-stats"},Ri={class:"stat"},$i={class:"stat"},Oi=["disabled"],Li={class:"spirit-root-details-container"},Fi={key:0,class:"spirit-root-details"},ji={class:"description-scroll"},Ui={class:"stats-display"},qi={class:"stat-item"},Gi={class:"stat-label"},Hi={class:"stat-value"},Yi={class:"stat-item"},Wi={class:"stat-label"},Xi={class:"stat-value"},Ji={key:1,class:"placeholder"},Ki=(0,r.defineComponent)({__name:"Step4_SpiritRootSelection",emits:["ai-generate"],setup(e,{emit:t}){const n=t,a=(0,J.N)(),o=(0,r.ref)(null),i=(0,r.ref)("preset"),s=(0,r.ref)(!1),l=(0,r.ref)(!1),c=(0,r.ref)(!1),d=(0,r.ref)(null),u=(0,r.reactive)({type:"none",tier:"none"}),m=[{key:"fire",name:"Á≠âÁ¶ªÂ≠ê",icon:"üî•",color:"#ef4444",desc:"È´òËÉΩÊîæÁîµÔºåÁû¨Êó∂ÁàÜÂèë"},{key:"water",name:"Ê∂≤ÂÜ∑",icon:"üíß",color:"#3b82f6",desc:"ÂÜ∑Âç¥Âæ™ÁéØÔºåÊåÅÁª≠Á®≥ÂÆö"},{key:"wood",name:"ÁîüÁâ©",icon:"üß¨",color:"#10b981",desc:"Áîü‰Ωì‰øÆÂ§çÔºåÈÄÇÂ∫îÂº∫Âåñ"},{key:"metal",name:"ÂêàÈáë",icon:"ü¶æ",color:"#f59e0b",desc:"Á°¨ÂåñË£ÖÁî≤ÔºåÁªìÊûÑÂº∫Âåñ"},{key:"earth",name:"Âú∞Ë¥®",icon:"üóø",color:"#8b5cf6",desc:"Âú∞ÂΩ¢ÈÄÇÈÖçÔºåÊäóÂéãÈò≤Êä§"},{key:"wind",name:"Ê∞îÊµÅ",icon:"üí®",color:"#06b6d4",desc:"Ê∞îÊµÅÊé®ËøõÔºåÊú∫Âä®ÊèêÂçá"},{key:"thunder",name:"ÁîµÁ£Å",icon:"‚ö°",color:"#eab308",desc:"ÁîµÁ£ÅÂπ≤Êâ∞ÔºåÁ©øÈÄèÂéãÂà∂"},{key:"ice",name:"ÂÜ∑Âáù",icon:"‚ùÑÔ∏è",color:"#0ea5e9",desc:"‰ΩéÊ∏©ÈîÅÂÆöÔºåÊäëÂà∂ËøáËΩΩ"},{key:"light",name:"ÂÖâË∞±",icon:"‚òÄÔ∏è",color:"#f97316",desc:"ÂÖâË∞±ÊàêÂÉèÔºåËØÜÂà´ÂáÄÂåñ"},{key:"dark",name:"ÂΩ±Âüü",icon:"üåë",color:"#6b7280",desc:"ÈöêÂåøÊΩúË°åÔºåÂπ≤Êâ∞‰æ¶Êµã"},{key:"space",name:"ÈáèÂ≠ê",icon:"üåÄ",color:"#7c3aed",desc:"ÈáèÂ≠ê‰ΩçÁßªÔºåÁ©∫Èó¥ÊéåÊéß"},{key:"time",name:"Êó∂Â∫è",icon:"‚è∞",color:"#ec4899",desc:"Êó∂Â∫è‰ºòÂåñÔºåË°åÂä®Âä†ÈÄü"}],p=[{key:"common",name:"Ê†áÂáÜÁ∫ß",multiplier:1,cost:0,desc:"Âü∫Á°ÄËßÑÊ†ºÔºåÁ®≥ÂÆöÂèØÈù†"},{key:"low",name:"Â¢ûÂº∫Á∫ß",multiplier:1.1,cost:3,desc:"ÊÄßËÉΩÁï•‰ºòÔºåÂãâÂº∫ÂèØÁî®"},{key:"middle",name:"‰∏ì‰∏öÁ∫ß",multiplier:1.3,cost:6,desc:"ËßÑÊ†ºÂ∞öÂèØÔºåÂ∞èÊúâÊàêÊïà"},{key:"high",name:"Á≤æËã±Á∫ß",multiplier:1.6,cost:10,desc:"ÊÄßËÉΩÂá∫‰ºóÔºåÂâçÈÄîÂèØÊúü"},{key:"supreme",name:"ÊûÅÈôêÁ∫ß",multiplier:2,cost:15,desc:"‰∏á‰∏≠Êó†‰∏ÄÔºåÈ°∂Á∫ßÈÖçÁΩÆ"},{key:"heaven",name:"‰º†Â•áÁ∫ß",multiplier:2.4,cost:20,desc:"ÁΩïËßÅÂÆöÂà∂ÔºåÊûÅÂÖ∂Á®ÄÊúâ"},{key:"divine",name:"Ë∂ÖÊ†∏Á∫ß",multiplier:2.8,cost:25,desc:"‰º†ËØ¥Á∫ßÂà´ÔºåËøë‰πé‰∏çÂèØÂæó"},{key:"special",name:"Áâπ‰æã",multiplier:0,cost:0,desc:"ÁâπÊÆäÊú∫ÂûãÔºåÂè¶ÊúâÁî®ÈÄî"}],g=(0,r.computed)(()=>a.isLocalCreation?a.creationData.spiritRoots.filter(e=>"local"===e.source||"cloud"===e.source):a.creationData.spiritRoots.filter(e=>"cloud"===e.source)),h=[{key:"name",label:"ÊîπÈÄ†ÂêçÁß∞",type:"text",placeholder:"‰æãÂ¶ÇÔºöÊ∑∑Ê≤åÊîπÈÄ†"},{key:"tier",label:"ÂìÅÁ∫ß",type:"select",options:p.map(e=>({value:e.key,label:e.name}))},{key:"description",label:"ÊîπÈÄ†ÊèèËø∞",type:"textarea",placeholder:"ÊèèËø∞Ëøô‰∏™ÊîπÈÄ†ÁöÑÁâπÊÄßÂíåËÉåÊôØÊïÖ‰∫ã..."},{key:"cultivation_speed",label:"ËÆ≠ÁªÉÈÄüÂ∫¶",type:"text",placeholder:"‰æãÂ¶ÇÔºöÊûÅÂø´„ÄÅÂø´ÈÄü„ÄÅÊôÆÈÄö„ÄÅÁºìÊÖ¢"},{key:"base_multiplier",label:"ËÆ≠ÁªÉÂÄçÁéá",type:"number",placeholder:"‰æãÂ¶ÇÔºö1.5"},{key:"talent_cost",label:"Ê∂àËÄóÊäÄËÉΩÁÇπ",type:"number",placeholder:"‰æãÂ¶ÇÔºö10"},{key:"rarity",label:"Á®ÄÊúâÂ∫¶",type:"number",placeholder:"1-10ÔºåÊï∞ÂÄºË∂äÈ´òË∂äÁ®ÄÊúâ"},{key:"special_effects",label:"ÁâπÊÆäÊïàÊûú",type:"dynamic-list",columns:[{key:"effect",placeholder:"ÊïàÊûúÊèèËø∞ÔºåÂ¶ÇÔºöÁîµÁ£ÅÊ®°ÂùóËæìÂá∫+80%"}]}],f=(0,r.computed)(()=>null===a.characterPayload.spirit_root_id),v=(0,r.computed)(()=>"random"===o.value?"ÈöèÊú∫ÊîπÈÄ†":o.value&&"object"==typeof o.value?o.value.name:""),b=(0,r.computed)(()=>"random"===o.value?"Á≥ªÁªüÂô™Â£∞‰∏éËßÑÂàôÂπ∂Â≠ò„ÄÇÈÄâÊã©Ê≠§È°πÔºå‰Ω†ÁöÑÊîπÈÄ†Ê†∏ÂøÉÂ∞ÜÂÆåÂÖ®ÈöèÊú∫ÁîüÊàêÔºåÂèØËÉΩ‰∏ÄÊ≠•ÁôªÈ°∂Ôºå‰∫¶ÂèØËÉΩÂπ≥Â∫∏Êó†Â•á„ÄÇ":o.value&&"object"==typeof o.value&&o.value.description||"ÊîπÈÄ†‰ø°ÊÅØ‰∏çÊòé„ÄÇ"),y=(0,r.computed)(()=>"random"===o.value?0:o.value&&"object"==typeof o.value&&o.value.talent_cost||0),x=e=>{if(a.characterPayload.spirit_root_id===e.id)return!0;const t=a.selectedSpiritRoot?.talent_cost??0;return a.remainingTalentPoints+t>=e.talent_cost};function k(e){if(!x(e))return void X.o.warning("ÊäÄËÉΩÁÇπ‰∏çË∂≥ÔºåÊó†Ê≥ïÈÄâÊã©Ê≠§ÊîπÈÄ†„ÄÇ");const t=a.characterPayload.spirit_root_id===e.id?null:e.id;a.selectSpiritRoot(t)}function w(){a.selectSpiritRoot(null)}function E(){a.isLocalCreation?c.value=!0:n("ai-generate")}async function N(e){const t="ai-generate-spirit-root";X.o.loading("‰∏ñÁïåÊé®Êºî‰∏≠ÔºåËØ∑Á®çÂÄô...",{id:t});try{const n=await(0,Ba.e)(e,Ra,!1);if(!n)return void X.o.error("AIÊé®ÊºîÂ§±Ë¥•",{id:t});let r;console.log("„ÄêAIÊé®Êºî-ÊîπÈÄ†„ÄëÂÆåÊï¥ÂìçÂ∫î:",n);try{r=(0,Oa.p)(n)}catch(e){return console.error("„ÄêAIÊé®Êºî-ÊîπÈÄ†„ÄëJSONËß£ÊûêÂ§±Ë¥•:",e),void X.o.error("AIÊé®ÊºîÁªìÊûúÊ†ºÂºèÈîôËØØÔºåÊó†Ê≥ïËß£Êûê",{id:t})}if(!r.name&&!r.ÂêçÁß∞)return void X.o.error("AIÊé®ÊºîÁªìÊûúÁº∫Â∞ëÊîπÈÄ†ÂêçÁß∞",{id:t});const o={id:Date.now(),name:String(r.name||r["ÂêçÁß∞"]||"Êú™ÂëΩÂêçÊîπÈÄ†"),tier:String(r.tier||r["ÂìÅÁ∫ß"]||r["Á≠âÁ∫ß"]||""),description:String(r.description||r["ÊèèËø∞"]||r["ËØ¥Êòé"]||""),base_multiplier:Number(r.base_multiplier||r["ÂêåÊ≠•ÂÄçÁéá"])||1,talent_cost:Number(r.talent_cost||r["ÊäÄËÉΩÁÇπÊ∂àËÄó"]||r["ÁÇπÊï∞Ê∂àËÄó"])||5,rarity:Number(r.rarity||r["Á®ÄÊúâÂ∫¶"])||3,source:"local"};a.addSpiritRoot(o),k(o),c.value=!1,X.o.success(`AIÊé®ÊºîÂÆåÊàêÔºÅÊîπÈÄ† "${o.name}" Â∑≤ÁîüÊàê`,{id:t})}catch(e){console.error("„ÄêAIÊé®Êºî-ÊîπÈÄ†„ÄëÂ§±Ë¥•:",e);const n=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";X.o.error(`AIÊé®ÊºîÂ§±Ë¥•: ${n}`,{id:t})}}function S(e){return e.tier||""}function _(){if("none"===u.type)return"ËØ∑ÈÄâÊã©ÊîπÈÄ†Á±ªÂûã";const e=m.find(e=>e.key===u.type);return e?`${e.name}ÊîπÈÄ†`:"Êú™Áü•ÊîπÈÄ†"}function V(){if("none"===u.tier)return 1;const e=p.find(e=>e.key===u.tier);return e?e.multiplier:1}function C(){if("none"===u.tier)return 0;const e=p.find(e=>e.key===u.tier);return e?e.cost:0}function A(e){const t=p.find(t=>t.key===e);return t?t.name:""}function D(){return"none"!==u.type&&"none"!==u.tier}function T(){if(!D())return void X.o.warning("ËØ∑ÂÆåÊï¥ÈÄâÊã©ÊîπÈÄ†Á±ªÂûãÂíåÂìÅÁ∫ß");const e=m.find(e=>e.key===u.type),t=p.find(e=>e.key===u.tier);if(!e||!t)return void X.o.error("ÈÄâÊã©ÁöÑÊîπÈÄ†ÈÖçÁΩÆÊó†Êïà");const n={id:Date.now(),name:`${e.name}ÊîπÈÄ†`,description:`${t.desc}ÁöÑ${e.desc}`,base_multiplier:t.multiplier,talent_cost:t.cost,tier:t.name,source:"cloud"};a.addSpiritRoot(n),k(n),X.o.success(`Ëá™ÂÆö‰πâÊîπÈÄ† "${n.name}" Â∑≤ÂàõÂª∫ÔºÅ`),u.type="none",u.tier="none"}function B(){if("custom"===i.value&&"none"!==u.type){const e=m.find(e=>e.key===u.type),t=p.find(e=>e.key===u.tier);return e&&t&&"none"!==u.tier?`${t.desc}ÁöÑ${e.desc}`:e?e.desc:"ËØ∑ÈÄâÊã©ÊîπÈÄ†ÂìÅÁ∫ß"}return b.value}function I(e){return function(e){const t={};e.name?.trim()||(t.name="ÊîπÈÄ†ÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫"),e.tier||(t.tier="ËØ∑ÈÄâÊã©ÂìÅÁ∫ß"),e.description?.trim()||(t.description="ÊîπÈÄ†ÊèèËø∞‰∏çÂèØ‰∏∫Á©∫");const n=Number(e.base_multiplier);void 0!==e.base_multiplier&&""!==e.base_multiplier&&isNaN(n)&&(t.base_multiplier="ÂêåÊ≠•ÂÄçÁéáÂøÖÈ°ª‰∏∫Êï∞Â≠ó");const a=Number(e.talent_cost);void 0!==e.talent_cost&&""!==e.talent_cost&&isNaN(a)&&(t.talent_cost="Ê∂àËÄóÁÇπÊï∞ÂøÖÈ°ª‰∏∫Êï∞Â≠ó");const r=Number(e.rarity);return void 0!==e.rarity&&""!==e.rarity&&(isNaN(r)||r<1||r>10)&&(t.rarity="Á®ÄÊúâÂ∫¶ÂøÖÈ°ªÂú®1-10‰πãÈó¥"),{valid:0===Object.keys(t).length,errors:Object.values(t)}}(e)}function M(e){!async function(e){const t=e.special_effects?.length?e.special_effects.filter(e=>e.effect?.trim()).map(e=>e.effect.trim()):[],n={id:Date.now(),name:e.name,tier:p.find(t=>t.key===e.tier)?.name||e.tier,description:e.description,cultivation_speed:e.cultivation_speed||"ÊôÆÈÄö",special_effects:t,base_multiplier:Number(e.base_multiplier)||1,talent_cost:Number(e.talent_cost)||0,rarity:Number(e.rarity)||1,source:"cloud"};try{a.addSpiritRoot(n),k(n),s.value=!1,X.o.success(`Ëá™ÂÆö‰πâÊîπÈÄ† "${n.name}" Â∑≤‰øùÂ≠òÔºÅ`)}catch(e){console.error("‰øùÂ≠òËá™ÂÆö‰πâÊîπÈÄ†Â§±Ë¥•:",e),X.o.error("‰øùÂ≠òËá™ÂÆö‰πâÊîπÈÄ†Â§±Ë¥•ÔºÅ")}}(e)}async function z(e){if(!d.value)return;const t=e.special_effects?.length?e.special_effects.filter(e=>e.effect?.trim()).map(e=>e.effect.trim()):[],n={name:e.name,tier:p.find(t=>t.key===e.tier)?.name||e.tier,description:e.description,cultivation_speed:`${e.base_multiplier}x`,special_effects:t,base_multiplier:parseFloat(String(e.base_multiplier))||1,talent_cost:parseInt(String(e.talent_cost),10)||0};try{a.updateSpiritRoot(d.value.id,n)?(l.value=!1,d.value=null,X.o.success(`ÊîπÈÄ† "${n.name}" Â∑≤Êõ¥Êñ∞ÔºÅ`)):X.o.error("Êõ¥Êñ∞ÊîπÈÄ†Â§±Ë¥•ÔºÅ")}catch(e){console.error("Êõ¥Êñ∞ÊîπÈÄ†Â§±Ë¥•:",e),X.o.error("Êõ¥Êñ∞ÊîπÈÄ†Â§±Ë¥•ÔºÅ")}}const P=(0,r.computed)(()=>d.value?{name:d.value.name,tier:p.find(e=>e.name===d.value.tier)?.key||"common",description:d.value.description,base_multiplier:d.value.base_multiplier?.toString()||"1.0",talent_cost:d.value.talent_cost.toString(),special_effects:d.value.special_effects?.map(e=>({effect:e}))||[]}:{});return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Jo,[(0,r.unref)(a).isLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ko,(0,r.toDisplayString)(e.$t("Á≥ªÁªüÊâ´ÊèèÔºåÊé¢Êü•ÊîπÈÄ†Ê†∏ÂøÉ...")),1)):(0,r.unref)(a).error?((0,r.openBlock)(),(0,r.createElementBlock)("div",Zo,(0,r.toDisplayString)(e.$t("Â§©Êú∫Ê∑∑Ê≤åÔºö"))+(0,r.toDisplayString)((0,r.unref)(a).error),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Qo,[(0,r.createCommentVNode)(" Â∑¶‰æßÈù¢ÊùøÔºöÈÄâÊã©ÂíåÊìç‰Ωú "),(0,r.createElementVNode)("div",ei,[(0,r.createCommentVNode)(" È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ "),(0,r.createElementVNode)("div",ti,[(0,r.unref)(a).isLocalCreation?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=e=>s.value=!0),class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",ni,(0,r.toDisplayString)(e.$t("È´òÁ∫ßËá™ÂÆö‰πâ")),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{onClick:E,class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",ai,(0,r.toDisplayString)(e.$t("AIÂ∏Æ‰Ω†ÂàõÂª∫")),1)])]),(0,r.createCommentVNode)(" ÈÄâÊã©Ê®°ÂºèÂàáÊç¢ "),(0,r.createElementVNode)("div",ri,[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)([{active:"preset"===i.value},"mode-tab"]),onClick:t[1]||(t[1]=e=>i.value="preset")},(0,r.toDisplayString)(e.$t("È¢ÑËÆæÊîπÈÄ†")),3),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)([{active:"custom"===i.value},"mode-tab"]),onClick:t[2]||(t[2]=e=>i.value="custom")},(0,r.toDisplayString)(e.$t("ÁªÑÂêàÈÄâÊã©")),3)]),(0,r.createCommentVNode)(" È¢ÑËÆæÊîπÈÄ†Ê®°Âºè "),"preset"===i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",oi,[(0,r.createElementVNode)("div",ii,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["spirit-root-item",{selected:f.value}]),onClick:w,onMouseover:t[3]||(t[3]=e=>o.value="random")},[(0,r.createElementVNode)("span",si,(0,r.toDisplayString)(e.$t("ÈöèÊú∫ÊîπÈÄ†")),1),(0,r.createElementVNode)("span",li,(0,r.toDisplayString)(e.$t("0 ÁÇπ")),1)],34),t[7]||(t[7]=(0,r.createElementVNode)("div",{class:"divider"},null,-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(g.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t.id,class:(0,r.normalizeClass)(["spirit-root-item",{selected:(0,r.unref)(a).characterPayload.spirit_root_id===t.id,disabled:!x(t)}]),onClick:e=>k(t),onMouseover:e=>o.value=t},[(0,r.createElementVNode)("div",di,[(0,r.createElementVNode)("div",ui,[(0,r.createElementVNode)("span",mi,(0,r.toDisplayString)(t.name),1),S(t)?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)(["spirit-root-tier",`tier-${S(t)}`])},(0,r.toDisplayString)(S(t)),3)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("span",pi,(0,r.toDisplayString)(t.talent_cost)+" "+(0,r.toDisplayString)(e.$t("ÁÇπ")),1)]),"cloud"===t.source?((0,r.openBlock)(),(0,r.createElementBlock)("div",gi,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>function(e){d.value=e,l.value=!0}(t),["stop"]),class:"edit-btn",title:"ÁºñËæëÊ≠§È°π"},[(0,r.createVNode)((0,r.unref)(Hn.A),{size:14})],8,hi),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>async function(e){try{await a.removeSpiritRoot(e),console.log(`„ÄêÊîπÈÄ†ÈÄâÊã©„ÄëÊàêÂäüÂà†Èô§ÊîπÈÄ† ID: ${e}`)}catch(t){console.error(`„ÄêÊîπÈÄ†ÈÄâÊã©„ÄëÂà†Èô§ÊîπÈÄ†Â§±Ë¥• ID: ${e}`,t)}}(t.id),["stop"]),class:"delete-btn",title:"Âà†Èô§Ê≠§È°π"},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:14})],8,fi)])):(0,r.createCommentVNode)("v-if",!0)],42,ci))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÁªÑÂêàÈÄâÊã©Ê®°Âºè "),"custom"===i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",vi,[(0,r.createElementVNode)("div",bi,[(0,r.createCommentVNode)(" ÊîπÈÄ†Á±ªÂûãÈÄâÊã© "),(0,r.createElementVNode)("div",yi,[(0,r.createElementVNode)("label",xi,(0,r.toDisplayString)(e.$t("ÊîπÈÄ†Á±ªÂûã")),1),(0,r.createElementVNode)("div",ki,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(m,e=>(0,r.createElementVNode)("button",{key:e.key,class:(0,r.normalizeClass)([{selected:u.type===e.key},"type-button"]),onClick:t=>u.type=e.key,style:(0,r.normalizeStyle)({"--element-color":e.color})},[(0,r.createElementVNode)("span",Ei,(0,r.toDisplayString)(e.icon),1),(0,r.createElementVNode)("span",Ni,(0,r.toDisplayString)(e.name),1)],14,wi)),64))])]),(0,r.createCommentVNode)(" ÂìÅÁ∫ßÈÄâÊã© "),(0,r.createElementVNode)("div",Si,[(0,r.createElementVNode)("label",_i,(0,r.toDisplayString)(e.$t("ÊîπÈÄ†ÂìÅÁ∫ß")),1),(0,r.createElementVNode)("div",Vi,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(p,e=>(0,r.createElementVNode)("button",{key:e.key,class:(0,r.normalizeClass)(["tier-button",`tier-${e.key}`,{selected:u.tier===e.key}]),onClick:t=>u.tier=e.key},[(0,r.createElementVNode)("span",Ai,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("span",Di,(0,r.toDisplayString)(e.multiplier)+"x",1),(0,r.createElementVNode)("span",Ti,(0,r.toDisplayString)(e.cost)+"ÁÇπ",1)],10,Ci)),64))])]),(0,r.createCommentVNode)(" È¢ÑËßàÂíåÁ°ÆËÆ§ "),(0,r.createElementVNode)("div",Bi,[(0,r.createElementVNode)("div",Ii,(0,r.toDisplayString)(e.$t("È¢ÑËßà")),1),(0,r.createElementVNode)("div",Mi,[(0,r.createElementVNode)("div",zi,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(_()),1),"none"!==u.tier?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)(["preview-tier",`tier-${u.tier}`])},(0,r.toDisplayString)(A(u.tier)),3)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",Pi,[(0,r.createElementVNode)("div",Ri,(0,r.toDisplayString)(e.$t("ÂêåÊ≠•ÂÄçÁéá:"))+" "+(0,r.toDisplayString)(V())+"x",1),(0,r.createElementVNode)("div",$i,(0,r.toDisplayString)(e.$t("Ê∂àËÄóÁÇπÊï∞:"))+" "+(0,r.toDisplayString)(C())+(0,r.toDisplayString)(e.$t("ÁÇπ")),1)])]),(0,r.createElementVNode)("button",{onClick:T,disabled:!D(),class:"confirm-custom-button"},(0,r.toDisplayString)(e.$t("Á°ÆËÆ§ÈÄâÊã©")),9,Oi)])])])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" Âè≥‰æßËØ¶ÊÉÖ "),(0,r.createElementVNode)("div",Li,[o.value||"custom"===i.value&&"none"!==u.type?((0,r.openBlock)(),(0,r.createElementBlock)("div",Fi,[(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)("custom"===i.value&&"none"!==u.type?_():v.value),1),(0,r.createElementVNode)("div",ji,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(B()),1)]),(0,r.createElementVNode)("div",Ui,[(0,r.createElementVNode)("div",qi,[(0,r.createElementVNode)("span",Gi,(0,r.toDisplayString)(e.$t("ËÆ≠ÁªÉÂÄçÁéá:")),1),(0,r.createElementVNode)("span",Hi,(0,r.toDisplayString)("custom"===i.value&&"none"!==u.type?V().toString():"random"===o.value?"ÈöèÊú∫":o.value&&"object"==typeof o.value?(o.value.base_multiplier||1).toString():"1.0")+"x",1)]),(0,r.createElementVNode)("div",Yi,[(0,r.createElementVNode)("span",Wi,(0,r.toDisplayString)(e.$t("Ê∂àËÄóÊäÄËÉΩÁÇπ:")),1),(0,r.createElementVNode)("span",Xi,(0,r.toDisplayString)("custom"===i.value&&"none"!==u.type?C().toString():y.value.toString())+(0,r.toDisplayString)(e.$t("ÁÇπ")),1)])])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ji,(0,r.toDisplayString)(e.$t("ËØ∑ÈÄâÊã©‰∏ÄÁßçÊîπÈÄ†Ê†∏ÂøÉÔºåÊàñÈöèÊú∫ÈÄâÊã©„ÄÇ")),1))])])),(0,r.createCommentVNode)(" È´òÁ∫ßËá™ÂÆö‰πâÊ®°ÊÄÅÊ°Ü "),(0,r.createVNode)(xa,{visible:s.value,title:e.$t("È´òÁ∫ßËá™ÂÆö‰πâÊîπÈÄ†"),fields:h,validationFn:I,onClose:t[4]||(t[4]=e=>s.value=!1),onSubmit:M},null,8,["visible","title"]),(0,r.createCommentVNode)(" ÁºñËæëÊ®°ÊÄÅÊ°Ü "),(0,r.createVNode)(xa,{visible:l.value,title:e.$t("ÁºñËæëÊîπÈÄ†Ê†∏ÂøÉ"),fields:h,validationFn:I,initialData:P.value,onClose:t[5]||(t[5]=e=>{l.value=!1,d.value=null}),onSubmit:z},null,8,["visible","title","initialData"]),(0,r.createCommentVNode)(" AIÊé®ÊºîËæìÂÖ•ÂºπÁ™ó "),(0,r.createVNode)(Ta,{visible:c.value,onClose:t[6]||(t[6]=e=>c.value=!1),onSubmit:N},null,8,["visible"])]))}});var Zi=n(6088),Qi={};Qi.styleTagTransform=k(),Qi.setAttributes=v(),Qi.insert=h().bind(null,"head"),Qi.domAPI=p(),Qi.insertStyleElement=y(),u()(Zi.A,Qi),Zi.A&&Zi.A.locals&&Zi.A.locals;const es=(0,N.A)(Ki,[["__scopeId","data-v-eff4cb00"]]),ts={class:"talent-selection-container"},ns={key:0,class:"loading-state"},as={key:1,class:"error-state"},rs={key:2,class:"talent-layout"},os={class:"talent-left-panel"},is={class:"top-actions-container"},ss={class:"action-name"},ls={class:"action-name"},cs={class:"talent-list-container"},ds=["onClick","onMouseover"],us={class:"item-content"},ms={class:"talent-name"},ps={class:"talent-cost"},gs={key:0,class:"action-buttons"},hs=["onClick","title"],fs=["onClick","title"],vs={class:"talent-details-container"},bs={key:0,class:"talent-details"},ys={class:"description-scroll"},xs={key:1,class:"placeholder"},ks=(0,r.defineComponent)({__name:"Step5_TalentSelection",emits:["ai-generate"],setup(e,{emit:t}){const n=t,a=(0,J.N)(),o=(0,r.ref)(null),i=(0,r.ref)(!1),s=(0,r.ref)(!1),l=(0,r.ref)(!1),c=(0,r.ref)(null),d=(0,r.computed)(()=>{const e=a.creationData.talents;if(console.log("„ÄêÊ®°ÂùóÈÄâÊã©„ÄëÊâÄÊúâÊ®°ÂùóÊï∞ÊçÆ:",e.length,"‰∏™"),console.log("„ÄêÊ®°ÂùóÈÄâÊã©„ÄëÂΩìÂâçÊ®°Âºè:",a.isLocalCreation?"Êú¨Âú∞":"ËÅîÊú∫"),a.isLocalCreation){const t=e.filter(e=>"local"===e.source||"cloud"===e.source);return console.log("„ÄêÊ®°ÂùóÈÄâÊã©„ÄëÂèØÁî®Ê®°ÂùóÊï∞Èáè:",t.length),t}{const t=e.length>0?e:[];return console.log("„ÄêÊ®°ÂùóÈÄâÊã©„ÄëËÅîÊú∫Ê®°ÂºèÊ®°ÂùóÊï∞Èáè:",t.length),0===t.length&&console.warn("„ÄêÊ®°ÂùóÈÄâÊã©„ÄëË≠¶ÂëäÔºöËÅîÊú∫Ê®°Âºè‰∏ãÊ≤°ÊúâÊâæÂà∞‰ªª‰ΩïÊ®°ÂùóÊï∞ÊçÆÔºÅ"),t}}),u=[{key:"name",label:"Ê®°ÂùóÂêçÁß∞",type:"text",placeholder:"‰æãÂ¶ÇÔºöÂ§úÂüéÁ•ûÁªèÊ†à"},{key:"description",label:"Ê®°ÂùóËØ¥Êòé",type:"textarea",placeholder:"ÊèèËø∞Ê≠§Ê®°ÂùóÁöÑ‰ΩúÁî®..."},{key:"talent_cost",label:"ÊäÄËÉΩÁÇπÊ∂àËÄó",type:"number",placeholder:"‰æãÂ¶ÇÔºö3"},{key:"rarity",label:"Á®ÄÊúâÂ∫¶",type:"number",placeholder:"1-10ÔºåÊï∞ÂÄºË∂äÈ´òË∂äÁ®ÄÊúâ"},{key:"effects",label:"Ê®°ÂùóÊïàÊûú",type:"dynamic-list",columns:[{key:"Á±ªÂûã",placeholder:"ÊïàÊûúÁ±ªÂûã",type:"select",options:[{value:"Â±ûÊÄßÂä†Êàê",label:"Â±ûÊÄßÂä†Êàê"},{value:"ÊäÄËÉΩËß£ÈîÅ",label:"ÊäÄËÉΩËß£ÈîÅ"},{value:"ÁâπÊÆäËÉΩÂäõ",label:"ÁâπÊÆäËÉΩÂäõ"},{value:"ËÆ≠ÁªÉÂä†Êàê",label:"ËÆ≠ÁªÉÂä†Êàê"}]},{key:"ÁõÆÊ†á",placeholder:"ÁõÆÊ†áÔºàÂ¶ÇÔºö‰ΩìË¥®„ÄÅÁÆóÊ≥ïÔºâ"},{key:"Êï∞ÂÄº",placeholder:"Êï∞ÂÄºÔºàÂ¶ÇÔºö+2„ÄÅ+10%Ôºâ"}]}];function m(e){const t={};e.name?.trim()||(t.name="Ê®°ÂùóÂêçÁß∞‰∏çÂèØ‰∏∫Á©∫"),e.description?.trim()||(t.description="Ê®°ÂùóËØ¥Êòé‰∏çÂèØ‰∏∫Á©∫");const n=Number(e.talent_cost);void 0===e.talent_cost||null===e.talent_cost||""===e.talent_cost||isNaN(n)?t.talent_cost="ÊäÄËÉΩÁÇπÊ∂àËÄóÂøÖÈ°ªÂ°´ÂÜô":n<0&&(t.talent_cost="ÊäÄËÉΩÁÇπÊ∂àËÄó‰∏çËÉΩ‰∏∫Ë¥üÊï∞");const a=Number(e.rarity);return void 0!==e.rarity&&""!==e.rarity&&(isNaN(a)||a<1||a>10)&&(t.rarity="Á®ÄÊúâÂ∫¶ÂøÖÈ°ªÂú®1-10‰πãÈó¥"),{valid:0===Object.keys(t).length,errors:Object.values(t)}}async function p(e){const t=Array.isArray(e.effects)?e.effects.filter(e=>e.Á±ªÂûã&&e.Êï∞ÂÄº).map(e=>({Á±ªÂûã:e.Á±ªÂûã,ÁõÆÊ†á:e.ÁõÆÊ†á||void 0,Êï∞ÂÄº:Number(e.Êï∞ÂÄº)||0})):[],n={id:Date.now(),name:e.name,description:e.description,talent_cost:Number(e.talent_cost)||0,rarity:Number(e.rarity)||1,effects:t.length>0?t:void 0,source:"local"};try{a.addTalent(n),i.value=!1,X.o.success(`Ëá™ÂÆö‰πâÊ®°Âùó "${n.name}" Â∑≤‰øùÂ≠òÔºÅ`)}catch(e){console.error("‰øùÂ≠òËá™ÂÆö‰πâÊ®°ÂùóÂ§±Ë¥•:",e),X.o.error("‰øùÂ≠òËá™ÂÆö‰πâÊ®°ÂùóÂ§±Ë¥•ÔºÅ")}}const g=e=>a.characterPayload.selected_talent_ids.includes(e.id);function h(e){o.value=e,a.toggleTalent(e.id)}function f(){a.isLocalCreation?l.value=!0:n("ai-generate")}async function v(e){const t="ai-generate-talent";X.o.loading("‰∏ñÁïåÊé®Êºî‰∏≠ÔºåËØ∑Á®çÂÄô...",{id:t});try{const n=await(0,Ba.e)(e,$a,!1);if(!n)return void X.o.error("AIÊé®ÊºîÂ§±Ë¥•",{id:t});let r;console.log("„ÄêAIÊé®Êºî-Ê®°Âùó„ÄëÂÆåÊï¥ÂìçÂ∫î:",n);try{r=(0,Oa.p)(n)}catch(e){return console.error("„ÄêAIÊé®Êºî-Ê®°Âùó„ÄëJSONËß£ÊûêÂ§±Ë¥•:",e),void X.o.error("AIÊé®ÊºîÁªìÊûúÊ†ºÂºèÈîôËØØÔºåÊó†Ê≥ïËß£Êûê",{id:t})}if(!r.name&&!r.ÂêçÁß∞)return void X.o.error("AIÊé®ÊºîÁªìÊûúÁº∫Â∞ëÊ®°ÂùóÂêçÁß∞",{id:t});const o={id:Date.now(),name:r.name||r.ÂêçÁß∞||"Êú™ÂëΩÂêçÊ®°Âùó",description:r.description||r.ÊèèËø∞||r.ËØ¥Êòé||"",talent_cost:r.talent_cost||r.ÁÇπÊï∞Ê∂àËÄó||1,rarity:r.rarity||r.Á®ÄÊúâÂ∫¶||1,source:"local"};a.addTalent(o),h(o),l.value=!1,X.o.success(`AIÊé®ÊºîÂÆåÊàêÔºÅÊ®°Âùó "${o.name}" Â∑≤ÁîüÊàê`,{id:t})}catch(e){console.error("„ÄêAIÊé®Êºî-Ê®°Âùó„ÄëÂ§±Ë¥•:",e),X.o.error(`AIÊé®ÊºîÂ§±Ë¥•: ${e.message}`,{id:t})}}async function b(e){if(!c.value)return;const t=Array.isArray(e.effects)?e.effects.filter(e=>e.Á±ªÂûã&&e.Êï∞ÂÄº).map(e=>({Á±ªÂûã:e.Á±ªÂûã,ÁõÆÊ†á:e.ÁõÆÊ†á||void 0,Êï∞ÂÄº:Number(e.Êï∞ÂÄº)||0})):[],n={name:e.name,description:e.description,talent_cost:Number(e.talent_cost)||0,rarity:Number(e.rarity)||1,effects:t.length>0?t:void 0};try{a.updateTalent(c.value.id,n)?(s.value=!1,c.value=null,X.o.success(`Ê®°Âùó "${n.name}" Â∑≤Êõ¥Êñ∞ÔºÅ`)):X.o.error("Êõ¥Êñ∞Ê®°ÂùóÂ§±Ë¥•ÔºÅ")}catch(e){console.error("Êõ¥Êñ∞Ê®°ÂùóÂ§±Ë¥•:",e),X.o.error("Êõ¥Êñ∞Ê®°ÂùóÂ§±Ë¥•ÔºÅ")}}const y=(0,r.computed)(()=>c.value?{name:c.value.name,description:c.value.description,talent_cost:c.value.talent_cost||0,rarity:c.value.rarity||1,effects:c.value.effects||[]}:{});return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",ts,[(0,r.unref)(a).isLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",ns,(0,r.toDisplayString)(e.$t("‰∫éÂüéÂ∏ÇÊï∞ÊçÆÊµÅ‰∏≠ÊêúÂØªÊ®°Âùó...")),1)):(0,r.unref)(a).error?((0,r.openBlock)(),(0,r.createElementBlock)("div",as,(0,r.toDisplayString)(e.$t("Ëá¥ÂëΩÈîôËØØ"))+"Ôºö"+(0,r.toDisplayString)((0,r.unref)(a).error),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",rs,[(0,r.createCommentVNode)(" Â∑¶‰æßÈù¢ÊùøÔºöÂàóË°®ÂíåÊìç‰ΩúÊåâÈíÆ "),(0,r.createElementVNode)("div",os,[(0,r.createCommentVNode)(" È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ "),(0,r.createElementVNode)("div",is,[(0,r.unref)(a).isLocalCreation?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=e=>i.value=!0),class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",ss,(0,r.toDisplayString)(e.$t("Ëá™ÂÆö‰πâÊ®°Âùó")),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{onClick:f,class:"action-item shimmer-on-hover"},[(0,r.createElementVNode)("span",ls,(0,r.toDisplayString)(e.$t("AIÂ∏Æ‰Ω†ÂàõÂª∫")),1)])]),(0,r.createElementVNode)("div",cs,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(d.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t.id,class:(0,r.normalizeClass)(["talent-item",{selected:g(t)}]),onClick:e=>h(t),onMouseover:e=>o.value=t},[(0,r.createElementVNode)("div",us,[(0,r.createElementVNode)("span",ms,(0,r.toDisplayString)(t.name),1),(0,r.createElementVNode)("span",ps,(0,r.toDisplayString)(t.talent_cost||0)+(0,r.toDisplayString)(e.$t("ÁÇπ")),1)]),"cloud"===t.source||"local"===t.source?((0,r.openBlock)(),(0,r.createElementBlock)("div",gs,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>function(e){c.value=e,s.value=!0}(t),["stop"]),class:"edit-btn",title:e.$t("ÁºñËæëÊ≠§È°π")},[(0,r.createVNode)((0,r.unref)(Hn.A),{size:14})],8,hs),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>async function(e){try{await a.removeTalent(e),console.log(`„ÄêÊ®°ÂùóÈÄâÊã©„ÄëÊàêÂäüÂà†Èô§Ê®°Âùó ID: ${e}`)}catch(t){console.error(`„ÄêÊ®°ÂùóÈÄâÊã©„ÄëÂà†Èô§Ê®°ÂùóÂ§±Ë¥• ID: ${e}`,t)}}(t.id),["stop"]),class:"delete-btn",title:e.$t("Âà†Èô§Ê≠§È°π")},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:14})],8,fs)])):(0,r.createCommentVNode)("v-if",!0)],42,ds))),128))])]),(0,r.createElementVNode)("div",vs,[o.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",bs,[(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)(o.value.name),1),(0,r.createElementVNode)("div",ys,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(o.value.description||e.$t("Ê≠§Ê®°ÂùóÁöÑÁªÜËäÇ‰ªçÂæÖËß£Á†Å„ÄÇ")),1)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",xs,(0,r.toDisplayString)(e.$t("ËØ∑ÈÄâÊã©Ê®°Âùó„ÄÇ")),1))])])),(0,r.createVNode)(xa,{visible:i.value,title:e.$t("Ëá™ÂÆö‰πâÊ®°Âùó"),fields:u,validationFn:m,onClose:t[1]||(t[1]=e=>i.value=!1),onSubmit:p},null,8,["visible","title"]),(0,r.createCommentVNode)(" ÁºñËæëÊ®°ÊÄÅÊ°Ü "),(0,r.createVNode)(xa,{visible:s.value,title:e.$t("ÁºñËæëÊ®°Âùó"),fields:u,validationFn:m,initialData:y.value,onClose:t[2]||(t[2]=e=>{s.value=!1,c.value=null}),onSubmit:b},null,8,["visible","title","initialData"]),(0,r.createCommentVNode)(" AIÊé®ÊºîËæìÂÖ•ÂºπÁ™ó "),(0,r.createVNode)(Ta,{visible:l.value,onClose:t[3]||(t[3]=e=>l.value=!1),onSubmit:v},null,8,["visible"])]))}});var ws=n(5970),Es={};Es.styleTagTransform=k(),Es.setAttributes=v(),Es.insert=h().bind(null,"head"),Es.domAPI=p(),Es.insertStyleElement=y(),u()(ws.A,Es),ws.A&&ws.A.locals&&ws.A.locals;const Ns=(0,N.A)(ks,[["__scopeId","data-v-61cfaa8b"]]),Ss={class:"attribute-allocation-container"},_s={class:"header"},Vs={class:"points-display"},Cs={class:"attributes-list"},As={class:"attribute-info"},Ds={class:"attribute-name"},Ts={class:"attribute-desc"},Bs={class:"attribute-controls"},Is=["onClick","disabled"],Ms={class:"attribute-value"},zs=["onClick","disabled"],Ps={class:"actions"},Rs=10,$s=(0,r.defineComponent)({__name:"Step6_AttributeAllocation",setup(e){const t=(0,J.N)(),n={root_bone:"‰ΩìË¥®",spirituality:"ËÉΩÊ∫ê",comprehension:"ÁÆóÊ≥ï",fortune:"ËµÑÊ∫êÊÑüÁü•",charm:"È≠ÖÂäõ",temperament:"ÂøÉÊô∫"},a={root_bone:"ÂÜ≥ÂÆöÁîüÂëΩÂÄº‰∏äÈôê„ÄÅÊÅ¢Â§çÈÄüÂ∫¶‰∏éÊú∫‰ΩìËÄê‰πÖ„ÄÇÂΩ±Âìç‰ΩìËÉΩËÆ≠ÁªÉ‰∏éÊäóÊâìÂáªËÉΩÂäõ„ÄÇ",spirituality:"ÂÜ≥ÂÆöÁîµÈáè‰∏äÈôê„ÄÅÂÖÖËÉΩÊïàÁéá„ÄÇÂΩ±ÂìçËÆ≠ÁªÉÈÄüÂ∫¶‰∏éÊ®°ÂùóËæìÂá∫„ÄÇ",comprehension:"ÂÜ≥ÂÆöÂ∏¶ÂÆΩ‰∏äÈôê„ÄÅÂ≠¶‰π†ÊïàÁéá„ÄÇÂΩ±ÂìçÊ®°ÂùóÊéåÊè°‰∏éÊäÄËÉΩÂçáÁ∫ßÈÄüÂ∫¶„ÄÇ",fortune:"ÂÜ≥ÂÆöÂêÑÁßçÊ¶ÇÁéá‰∏éÁâ©ÂìÅÊéâËêΩÂìÅË¥®„ÄÇÂΩ±ÂìçËµÑÊ∫êËé∑Âèñ‰∏éÂÖ≥ÈîÆ‰∫∫ËÑâ„ÄÇ",charm:"ÂÜ≥ÂÆöÂàùÂßãÂ•ΩÊÑüÂ∫¶„ÄÅÁ§æ‰∫§Âä†Êàê„ÄÇÂΩ±ÂìçNPC‰∫íÂä®„ÄÅÁªÑÁªáÂ£∞ÊúõËé∑Âèñ„ÄÇ",temperament:"ÂÜ≥ÂÆöÁ≤æÁ•ûÊäóÊÄß„ÄÅÊÑèÂøóÂäõ„ÄÇÂΩ±ÂìçËøáËΩΩÂ§±ÊéßÊäµÊäó‰∏éÂÖ≥ÈîÆÊäâÊã©„ÄÇ"};function o(){Object.keys(t.attributes).forEach(e=>{t.setAttribute(e,0)})}function i(){o();let e=t.remainingTalentPoints;const n=Object.keys(t.attributes);for(;e>0;){const a=n[Math.floor(Math.random()*n.length)],r=t.attributes[a];if(r<Rs&&(t.setAttribute(a,r+1),e--),n.every(e=>t.attributes[e]>=Rs))break}}function s(){o();const e=Math.max(0,t.remainingTalentPoints);if(e<=0)return;const n=Object.keys(t.attributes).length,a=Math.floor(e/n);let r=e%n;Object.keys(t.attributes).forEach(e=>{let n=a;r>0&&(n++,r--);const o=Math.min(0+n,Rs);t.setAttribute(e,o)})}return(0,r.onMounted)(()=>{}),(e,l)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Ss,[(0,r.createElementVNode)("div",_s,[(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)(e.$t("ÂàùÂßãÂÖ≠Áª¥ÂàÜÈÖç")),1),(0,r.createElementVNode)("div",Vs,[(0,r.createTextVNode)((0,r.toDisplayString)(e.$t("Ââ©‰ΩôÊäÄËÉΩÁÇπ:"))+" ",1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)({negative:(0,r.unref)(t).remainingTalentPoints<0})},(0,r.toDisplayString)((0,r.unref)(t).remainingTalentPoints),3)])]),(0,r.createElementVNode)("div",Cs,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).attributes,(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:o,class:"attribute-item"},[(0,r.createElementVNode)("div",As,[(0,r.createElementVNode)("span",Ds,(0,r.toDisplayString)(n[o]),1),(0,r.createElementVNode)("p",Ts,(0,r.toDisplayString)(a[o]),1)]),(0,r.createElementVNode)("div",Bs,[(0,r.createElementVNode)("button",{onClick:e=>function(e){t.attributes[e]>0&&t.setAttribute(e,t.attributes[e]-1)}(o),disabled:e<=0},"-",8,Is),(0,r.createElementVNode)("span",Ms,(0,r.toDisplayString)(e),1),(0,r.createElementVNode)("button",{onClick:e=>function(e){t.remainingTalentPoints>0&&t.attributes[e]<Rs&&t.setAttribute(e,t.attributes[e]+1)}(o),disabled:(0,r.unref)(t).remainingTalentPoints<=0||e>=Rs,class:(0,r.normalizeClass)({disabled:(0,r.unref)(t).remainingTalentPoints<=0||e>=Rs})}," + ",10,zs)])]))),128))]),(0,r.createElementVNode)("div",Ps,[(0,r.createElementVNode)("button",{onClick:o,class:"btn btn-secondary"},(0,r.toDisplayString)(e.$t("ÈáçÁΩÆ")),1),(0,r.createElementVNode)("button",{onClick:i,class:"btn btn-warning"},(0,r.toDisplayString)(e.$t("üé≤ ÈöèÊú∫")),1),(0,r.createElementVNode)("button",{onClick:s,class:"btn btn-success"},(0,r.toDisplayString)(e.$t("‚öñÔ∏è ÂùáË°°")),1)])]))}});var Os=n(5681),Ls={};Ls.styleTagTransform=k(),Ls.setAttributes=v(),Ls.insert=h().bind(null,"head"),Ls.domAPI=p(),Ls.insertStyleElement=y(),u()(Os.A,Ls),Os.A&&Os.A.locals&&Os.A.locals;const Fs=(0,N.A)($s,[["__scopeId","data-v-14e0a4b7"]]),js={class:"preview-container"},Us={class:"title"},qs={class:"subtitle"},Gs={class:"preview-grid"},Hs={class:"preview-item name-item"},Ys={for:"characterName"},Ws=["placeholder"],Xs={class:"name-hint"},Js={class:"preview-item race-item input-field"},Ks={for:"characterRace"},Zs=["placeholder"],Qs={class:"preview-item gender-item"},el={class:"gender-control"},tl={class:"gender-label"},nl={class:"gender-label"},al={class:"gender-label"},rl={class:"preview-item age-item"},ol={class:"age-control"},il=["disabled"],sl={class:"age-unit"},ll={key:0,class:"preview-item"},cl={class:"streaming-control"},dl={class:"streaming-label"},ul={class:"streaming-label"},ml={class:"streaming-hint"},pl={class:"preview-item"},gl={class:"item-description"},hl={class:"preview-item"},fl={class:"item-description"},vl={class:"preview-item"},bl={class:"item-description"},yl={class:"preview-item"},xl={class:"item-description"},kl={class:"preview-item talents-item"},wl={key:0},El={class:"item-description"},Nl={key:1},Sl={key:1,class:"preview-item attributes-item"},_l={class:"preview-item cloud-info-item"},Vl={class:"cloud-info-text"},Cl=(0,r.defineComponent)({__name:"Step7_Preview",props:{isLocalCreation:{type:Boolean}},setup(e){const t=(0,J.N)(),n=e;(0,r.onMounted)(async()=>{if(t.characterPayload.character_name&&"Êó†ÂêçËÄÖ"!==t.characterPayload.character_name&&""!==t.characterPayload.character_name.trim())return void console.log("[Step7_Preview] Â∑≤ÊúâËßíËâ≤ÂêçÂ≠óÔºåË∑≥ËøáËé∑Âèñ:",t.characterPayload.character_name);let e=!1;try{const n="undefined"!=typeof window?window.TavernHelper:null;if(n){if(!e&&"function"==typeof n.substitudeMacros)try{const a=await n.substitudeMacros("{{user}}");console.log("[Step7_Preview] substitudeMacros {{user}} ->",a),a&&"{{user}}"!==a&&"string"==typeof a&&a.trim()&&(t.characterPayload.character_name=a.trim(),console.log("[Step7_Preview] ‚úÖ ‰ªéÈÖíÈ¶ÜÂÆèËé∑ÂèñÁî®Êà∑ÂêçÂ≠ó:",a),e=!0)}catch(e){console.warn("[Step7_Preview] ‚ö†Ô∏è substitudeMacros Â§±Ë¥•:",e)}if(!e&&"function"==typeof n.getVariables)try{const a=await n.getVariables({type:"global"}),r=a["persona.name"]||a.name||a.user_name||a.user;console.log("[Step7_Preview] ÂÖ®Â±ÄÂèòÈáè‰∏≠ÁöÑÂêçÂ≠ó:",r),r&&"string"==typeof r&&r.trim()&&(t.characterPayload.character_name=r.trim(),console.log("[Step7_Preview] ‚úÖ ‰ªéÂÖ®Â±ÄÂèòÈáèËé∑ÂèñÂêçÂ≠ó:",r),e=!0)}catch(e){console.warn("[Step7_Preview] ‚ö†Ô∏è getVariables Â§±Ë¥•:",e)}if(!e&&"function"==typeof n.getCharData)try{const a=await n.getCharData();a?.name&&"string"==typeof a.name&&a.name.trim()&&(t.characterPayload.character_name=a.name.trim(),console.log("[Step7_Preview] ‚úÖ ‰ªéËßíËâ≤Êï∞ÊçÆËé∑ÂèñÂêçÂ≠ó:",a.name),e=!0)}catch(e){console.warn("[Step7_Preview] ‚ö†Ô∏è getCharData Â§±Ë¥•:",e)}}else console.log("[Step7_Preview] ÈùûÈÖíÈ¶ÜÊ®°ÂºèÔºåË∑≥ËøáÂêçÂ≠óËé∑Âèñ")}catch(e){console.error("[Step7_Preview] ‚ùå Êó†Ê≥ï‰ªéÈÖíÈ¶ÜËé∑ÂèñPersonaÂêçÂ≠ó:",e)}e||(t.characterPayload.character_name="",console.log("[Step7_Preview] üìù Êú™Ëé∑ÂèñÂà∞ÂêçÂ≠óÔºåËØ∑Áî®Êà∑Ëá™Ë°åËæìÂÖ•Áî®Êà∑Âêç"))});const a=()=>{t.characterPayload.current_age++},o=()=>{t.characterPayload.current_age>0&&t.characterPayload.current_age--},i=()=>{t.characterPayload.current_age<0&&(t.characterPayload.current_age=0),t.characterPayload.current_age=Math.floor(t.characterPayload.current_age)};return(e,s)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",js,[(0,r.createElementVNode)("h2",Us,(0,r.toDisplayString)(e.$t("ÊúÄÁªàÈ¢ÑËßà")),1),(0,r.createElementVNode)("p",qs,(0,r.toDisplayString)(e.$t("ËØ∑Á°ÆËÆ§‰Ω†ÁöÑÈÄâÊã©ÔºåÊ≠§‰∏∫Ë∏èÂÖ•Ë∂ÖÂá°Êñ∞ÁîüÁöÑÊúÄÂêé‰∏ÄÊ≠•„ÄÇ")),1),(0,r.createElementVNode)("div",Gs,[(0,r.createCommentVNode)(" Character Name "),(0,r.createElementVNode)("div",Hs,[(0,r.createElementVNode)("label",Ys,(0,r.toDisplayString)(e.$t("Áî®Êà∑Âêç:")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",id:"characterName",class:"named","onUpdate:modelValue":s[0]||(s[0]=e=>(0,r.unref)(t).characterPayload.character_name=e),placeholder:e.$t("ËØ∑ËæìÂÖ•Áî®Êà∑Âêç")},null,8,Ws),[[r.vModelText,(0,r.unref)(t).characterPayload.character_name]]),(0,r.createElementVNode)("span",Xs,(0,r.toDisplayString)(e.$t("ÂèØËá™ÂÆö‰πâ‰øÆÊîπ")),1)]),(0,r.createCommentVNode)(" Character Race "),(0,r.createElementVNode)("div",Js,[(0,r.createElementVNode)("label",Ks,(0,r.toDisplayString)(e.$t("ÁßçÊóè:")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",id:"characterRace",class:"named","onUpdate:modelValue":s[1]||(s[1]=e=>(0,r.unref)(t).characterPayload.race=e),placeholder:e.$t("‰∫∫Êóè"),onMousedown:s[2]||(s[2]=(0,r.withModifiers)(()=>{},["stop"])),onClick:s[3]||(s[3]=(0,r.withModifiers)(()=>{},["stop"])),onSelect:s[4]||(s[4]=(0,r.withModifiers)(()=>{},["stop"]))},null,40,Zs),[[r.vModelText,(0,r.unref)(t).characterPayload.race]])]),(0,r.createCommentVNode)(" Gender Selection "),(0,r.createElementVNode)("div",Qs,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("ÊÄßÂà´")),1),(0,r.createElementVNode)("div",el,[(0,r.createElementVNode)("label",tl,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio",name:"gender",value:"Áî∑","onUpdate:modelValue":s[5]||(s[5]=e=>(0,r.unref)(t).characterPayload.gender=e)},null,512),[[r.vModelRadio,(0,r.unref)(t).characterPayload.gender]]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("Áî∑")),1)]),(0,r.createElementVNode)("label",nl,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio",name:"gender",value:"Â•≥","onUpdate:modelValue":s[6]||(s[6]=e=>(0,r.unref)(t).characterPayload.gender=e)},null,512),[[r.vModelRadio,(0,r.unref)(t).characterPayload.gender]]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("Â•≥")),1)]),(0,r.createElementVNode)("label",al,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio",name:"gender",value:"ÂèåÊÄß","onUpdate:modelValue":s[7]||(s[7]=e=>(0,r.unref)(t).characterPayload.gender=e)},null,512),[[r.vModelRadio,(0,r.unref)(t).characterPayload.gender]]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ÂèåÊÄß")),1)])])]),(0,r.createCommentVNode)(" Birth Age "),(0,r.createElementVNode)("div",rl,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("ÂàùÂßãÂπ¥ÈæÑ")),1),(0,r.createElementVNode)("div",ol,[(0,r.createElementVNode)("button",{type:"button",onClick:o,disabled:(0,r.unref)(t).characterPayload.current_age<=0,class:"age-btn"},"-",8,il),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":s[8]||(s[8]=e=>(0,r.unref)(t).characterPayload.current_age=e),class:"age-input",min:"0",onInput:i},null,544),[[r.vModelText,(0,r.unref)(t).characterPayload.current_age,void 0,{number:!0}]]),(0,r.createElementVNode)("span",sl,(0,r.toDisplayString)(e.$t("Â≤Å")),1),(0,r.createElementVNode)("button",{type:"button",onClick:a,class:"age-btn"},"+")])]),(0,r.createCommentVNode)(" Start Mode (Streaming / Non-Streaming) "),n.isLocalCreation?((0,r.openBlock)(),(0,r.createElementBlock)("div",ll,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("ÂºÄÂ±ÄÊ®°Âºè")),1),(0,r.createElementVNode)("div",cl,[(0,r.createElementVNode)("label",dl,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio",name:"startMode",value:!0,"onUpdate:modelValue":s[9]||(s[9]=e=>(0,r.unref)(t).useStreamingStart=e)},null,512),[[r.vModelRadio,(0,r.unref)(t).useStreamingStart]]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ÊµÅÂºèÂºÄÂ±Ä")),1)]),(0,r.createElementVNode)("label",ul,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio",name:"startMode",value:!1,"onUpdate:modelValue":s[10]||(s[10]=e=>(0,r.unref)(t).useStreamingStart=e)},null,512),[[r.vModelRadio,(0,r.unref)(t).useStreamingStart]]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ÈùûÊµÅÂºèÂºÄÂ±Ä")),1)])]),(0,r.createElementVNode)("p",ml,(0,r.toDisplayString)((0,r.unref)(t).useStreamingStart?e.$t("ÊµÅÂºèÂºÄÂ±ÄÔºöÊõ¥Âø´ÔºåÂèØËÉΩË¢´‰∏≠Êñ≠"):e.$t("ÈùûÊµÅÂºèÂºÄÂ±ÄÔºö‰∏ÄÊ¨°ÊÄßÁîüÊàêÂÆåÊï¥ÂÜÖÂÆπÔºåÊõ¥Á®≥ÂÆöÂèØÈù†")),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" World "),(0,r.createElementVNode)("div",pl,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("ÊâÄÈÄâ‰∏ñÁïå")),1),(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t).selectedWorld?.name||e.$t("Êú™ÈÄâÊã©")),1),(0,r.createElementVNode)("p",gl,(0,r.toDisplayString)((0,r.unref)(t).selectedWorld?.description||e.$t("ÊöÇÊó†ÊèèËø∞")),1)]),(0,r.createCommentVNode)(" Talent Tier "),(0,r.createElementVNode)("div",hl,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("Â§©ËµÑ")),1),(0,r.createElementVNode)("h4",{style:(0,r.normalizeStyle)({color:(0,r.unref)(t).selectedTalentTier?.color||"inherit"})},(0,r.toDisplayString)((0,r.unref)(t).selectedTalentTier?.name||e.$t("Êú™ÈÄâÊã©")),5),(0,r.createElementVNode)("p",fl,(0,r.toDisplayString)((0,r.unref)(t).selectedTalentTier?.description||e.$t("ÊöÇÊó†ÊèèËø∞")),1)]),(0,r.createCommentVNode)(" Origin "),(0,r.createElementVNode)("div",vl,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("Âá∫Ë∫´")),1),(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t).selectedOrigin?.name||e.$t("ÈöèÊú∫Âá∫Ë∫´")),1),(0,r.createElementVNode)("p",bl,(0,r.toDisplayString)((0,r.unref)(t).selectedOrigin?.description||e.$t("ÊöÇÊó†ÊèèËø∞")),1)]),(0,r.createCommentVNode)(" Spirit Root "),(0,r.createElementVNode)("div",yl,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("ÊîπÈÄ†Ê†∏ÂøÉ")),1),(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t).selectedSpiritRoot?.name||e.$t("ÈöèÊú∫ÊîπÈÄ†")),1),(0,r.createElementVNode)("p",xl,(0,r.toDisplayString)((0,r.unref)(t).selectedSpiritRoot?.description||e.$t("ÊöÇÊó†ÊèèËø∞")),1)]),(0,r.createCommentVNode)(" Talents "),(0,r.createElementVNode)("div",kl,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("Ê®°Âùó")),1),(0,r.unref)(t).selectedTalents.length?((0,r.openBlock)(),(0,r.createElementBlock)("ul",wl,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).selectedTalents,e=>((0,r.openBlock)(),(0,r.createElementBlock)("li",{key:e.id},[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("p",El,(0,r.toDisplayString)(e.description),1)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("p",Nl,(0,r.toDisplayString)(e.$t("Êú™ÈÄâÊã©‰ªª‰ΩïÊ®°Âùó")),1))]),(0,r.createCommentVNode)(" Attributes "),n.isLocalCreation?((0,r.openBlock)(),(0,r.createElementBlock)("div",Sl,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("ÂàùÂßãÂÖ≠Áª¥")),1),(0,r.createElementVNode)("ul",null,[(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("‰ΩìË¥®"))+": "+(0,r.toDisplayString)((0,r.unref)(t).attributes.root_bone),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("ËÉΩÊ∫ê"))+": "+(0,r.toDisplayString)((0,r.unref)(t).attributes.spirituality),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("ÁÆóÊ≥ï"))+": "+(0,r.toDisplayString)((0,r.unref)(t).attributes.comprehension),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("ËµÑÊ∫êÊÑüÁü•"))+": "+(0,r.toDisplayString)((0,r.unref)(t).attributes.fortune),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("È≠ÖÂäõ"))+": "+(0,r.toDisplayString)((0,r.unref)(t).attributes.charm),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("ÂøÉÊô∫"))+": "+(0,r.toDisplayString)((0,r.unref)(t).attributes.temperament),1)])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createCommentVNode)(" Cloud Mode Placeholder "),(0,r.createElementVNode)("div",_l,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("Á≥ªÁªüÂàÜÈÖç")),1),(0,r.createElementVNode)("p",Vl,(0,r.toDisplayString)(e.$t("ËÅîÊú∫Ê®°Âºè‰∏ãÔºåËßíËâ≤ÁöÑÂàùÂßãÊ°£Ê°àÂ∞ÜÁî±ÊâÄÈÄâ‰∏ñÁïåÁöÑÁ≥ªÁªüËßÑÂàôÂú®‰∫ëÁ´ØÁîüÊàêÔºå‰ª•Á°Æ‰øùÂÖ¨Âπ≥‰∏éÂπ≥Ë°°„ÄÇ")),1)])],2112))])]))}});var Al=n(2780),Dl={};Dl.styleTagTransform=k(),Dl.setAttributes=v(),Dl.insert=h().bind(null,"head"),Dl.domAPI=p(),Dl.insertStyleElement=y(),u()(Al.A,Dl),Al.A&&Al.A.locals&&Al.A.locals;const Tl=(0,N.A)(Cl,[["__scopeId","data-v-25a4a35c"]]),Bl={class:"creation-container"},Il={class:"creation-shell"},Ml={class:"creation-rail"},zl={class:"rail-header"},Pl={class:"rail-title"},Rl={class:"rail-mode"},$l={class:"rail-steps"},Ol={class:"rail-index"},Ll={class:"rail-label"},Fl={class:"creation-main"},jl={class:"header-container"},Ul={class:"header-top"},ql={class:"mode-indicator"},Gl={class:"step-content"},Hl={class:"navigation-buttons"},Yl=["disabled"],Wl={class:"creation-side"},Xl={class:"side-card"},Jl={class:"side-title"},Kl={key:0,class:"cloud-sync-container"},Zl={key:1,class:"side-muted"},Ql={class:"side-card"},ec={class:"side-title"},tc={class:"resource-item"},nc={class:"resource-label"},ac={class:"resource-value"},rc={key:0,class:"resource-item"},oc={class:"resource-label"},ic={class:"travel-confirm-card"},sc={class:"travel-confirm-title"},lc={class:"travel-confirm-message"},cc={class:"travel-confirm-points"},dc={class:"points-label"},uc={class:"points-value"},mc={class:"travel-confirm-actions"},pc=["disabled"],gc=["disabled"],hc=(0,r.defineComponent)({__name:"CharacterCreation",props:{onBack:{type:Function}},emits:["creation-complete"],setup(e,{expose:t,emit:a}){const o=e,i=a,s=(0,J.N)(),{t:l}=(0,K.s)(),c=(0,r.ref)(!1),d=(0,r.ref)(!1),u=(0,r.ref)(null),m=(0,r.ref)(!1),p=(0,r.ref)(null),g=(0,r.computed)(()=>u.value??0);function h(e){if("Áî∑"===e||"Â•≥"===e||"ÂÖ∂‰ªñ"===e)return e}function f(){}(0,r.onMounted)(async()=>{console.log("„ÄêËßíËâ≤ÂàõÂª∫„ÄëÂΩìÂâçÊ®°Âºè:",s.isLocalCreation?"ÂçïÊú∫":"ËÅîÊú∫"),await s.initializeStore(s.isLocalCreation?"single":"cloud");const e=s.creationData.worlds.length,t=s.creationData.talents.length;console.log("„ÄêËßíËâ≤ÂàõÂª∫„ÄëÂΩìÂâçÊï∞ÊçÆÈáè:"),console.log("- ÊÄª‰∏ñÁïåÊï∞Èáè:",e),console.log("- ÊÄªÊ®°ÂùóÊï∞Èáè:",t),!s.isLocalCreation&&(e<=3||t<=5)&&(console.log("„ÄêËßíËâ≤ÂàõÂª∫„ÄëËÅîÊú∫Ê®°Âºè‰∏ãÊï∞ÊçÆÈáè‰∏çË∂≥ÔºåÂ∞ùËØïËé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆ..."),await s.fetchAllCloudData(),console.log("„ÄêËßíËâ≤ÂàõÂª∫„Äë‰∫ëÁ´ØÊï∞ÊçÆËé∑ÂèñÂÆåÊàêÔºåÊúÄÁªàÊï∞ÊçÆÈáè:"),console.log("- ÊÄª‰∏ñÁïåÊï∞Èáè:",s.creationData.worlds.length),console.log("- ÊÄªÊ®°ÂùóÊï∞Èáè:",s.creationData.talents.length));try{const e=await(0,se.getCurrentCharacterName)();e?(console.log("„ÄêËßíËâ≤ÂàõÂª∫„ÄëÊàêÂäüËé∑ÂèñÈÖíÈ¶ÜËßíËâ≤Âç°ÂêçÂ≠ó:",e),s.characterPayload.character_name=e):(console.log("„ÄêËßíËâ≤ÂàõÂª∫„ÄëÊó†Ê≥ïËé∑ÂèñÈÖíÈ¶ÜËßíËâ≤Âç°ÂêçÂ≠óÔºå‰ΩøÁî®ÈªòËÆ§ÂÄº"),s.characterPayload.character_name=s.isLocalCreation?"Êó†ÂêçËÄÖ":"Ê∏∏Ê∞ë")}catch(e){console.error("„ÄêËßíËâ≤ÂàõÂª∫„ÄëËé∑ÂèñËßíËâ≤ÂêçÂ≠óÊó∂Âá∫Èîô:",e),s.characterPayload.character_name=s.isLocalCreation?"Êó†ÂêçËÄÖ":"Ê∏∏Ê∞ë"}}),(0,r.onUnmounted)(()=>{s.resetOnExit()}),t({handleAIGenerateClick:f});const v=(0,r.computed)(()=>[l("Ê¨°ÂÖÉÈÄâÊã©"),l("ÂàùÂßã‰∫∫ËÆæ"),l("Âá∫Ë∫´ËÆæÁΩÆ"),l("Âü∫Á°ÄËÆæÂÆö"),l("Ê®°ÂùóÈÄâÊã©"),l("Â±ûÊÄßÂä†ÁÇπ"),l("ÊúÄÁªàÈ¢ÑËßà")]),b=(0,r.computed)(()=>({character_name:s.characterPayload.character_name,gender:s.characterPayload.gender,race:s.characterPayload.race,current_age:s.characterPayload.current_age,world:s.selectedWorld,talentTier:s.selectedTalentTier,origin:s.selectedOrigin,spiritRoot:s.selectedSpiritRoot,talents:s.selectedTalents,baseAttributes:{root_bone:s.attributes.root_bone,spirituality:s.attributes.spirituality,comprehension:s.attributes.comprehension,fortune:s.attributes.fortune,charm:s.attributes.charm,temperament:s.attributes.temperament}})),y=()=>{s.currentStep>1?s.prevStep():o.onBack()},x=(0,r.computed)(()=>{const e=s.currentStep,t=s.totalSteps,n=s.selectedWorld,a=s.selectedTalentTier,r=s.remainingTalentPoints,o=c.value;return console.log("[DEBUG] ÊåâÈíÆÁä∂ÊÄÅÊ£ÄÊü• - ÂΩìÂâçÊ≠•È™§:",e,"/",t),console.log("[DEBUG] ÊåâÈíÆÁä∂ÊÄÅÊ£ÄÊü• - isGenerating:",o),console.log("[DEBUG] ÊåâÈíÆÁä∂ÊÄÅÊ£ÄÊü• - ÈÄâ‰∏≠ÁöÑ‰∏ñÁïå:",n?.name),console.log("[DEBUG] ÊåâÈíÆÁä∂ÊÄÅÊ£ÄÊü• - ÈÄâ‰∏≠ÁöÑÂ§©ËµÑ:",a?.name),console.log("[DEBUG] ÊåâÈíÆÁä∂ÊÄÅÊ£ÄÊü• - Ââ©‰ΩôÊ®°ÂùóÁÇπ:",r),1!==e||n?2!==e||a?(console.log("[DEBUG] ÊåâÈíÆÁä∂ÊÄÅÔºöÂêØÁî®"),!1):(console.log("[DEBUG] ÊåâÈíÆË¢´Á¶ÅÁî®ÔºöÁ¨¨2Ê≠•Êú™ÈÄâÊã©Â§©ËµÑ"),!0):(console.log("[DEBUG] ÊåâÈíÆË¢´Á¶ÅÁî®ÔºöÁ¨¨1Ê≠•Êú™ÈÄâÊã©‰∏ñÁïå"),!0)}),k=()=>{m.value||(d.value=!1,p.value=null)},w=async()=>{if(!m.value){m.value=!0;try{const e=await T.Em.post("/api/v1/auth/travel-points/consume",{amount:10});u.value=Number(e?.travel_points??(u.value??0)-10),d.value=!1;const t=p.value;p.value=null,t&&await t()}catch(e){console.error("Êâ£ÂáèÁ©øË∂äÁÇπÊï∞Â§±Ë¥•:",e),X.o.error("Êâ£ÂáèÁ©øË∂äÁÇπÊï∞Â§±Ë¥•")}finally{m.value=!1}}},E=(0,r.ref)(null),N=(0,r.ref)(null),_=(0,r.ref)(null),V=(0,r.ref)(null),C=(0,r.ref)(null);async function A(){if(console.log("[DEBUG] createCharacter ÂºÄÂßãÊâßË°å"),console.log("[DEBUG] isGenerating.value:",c.value),c.value)console.warn("[CharacterCreation.vue] ËßíËâ≤ÂàõÂª∫Â∑≤Âú®ËøõË°å‰∏≠ÔºåÂøΩÁï•ÈáçÂ§çËØ∑Ê±Ç");else{if(console.log("[CharacterCreation.vue] createCharacter() called."),console.log("[DEBUG] ÂºÄÂßãÊï∞ÊçÆÊ†°È™å"),console.log("[DEBUG] ËßíËâ≤Âêç:",s.characterPayload.character_name),console.log("[DEBUG] ÈÄâ‰∏≠ÁöÑ‰∏ñÁïå:",s.selectedWorld),console.log("[DEBUG] ÈÄâ‰∏≠ÁöÑÂ§©ËµÑ:",s.selectedTalentTier),console.log("[DEBUG] ÈÄâ‰∏≠ÁöÑÂá∫Ë∫´:",s.selectedOrigin),console.log("[DEBUG] ÈÄâ‰∏≠ÁöÑÊîπÈÄ†Ê†∏ÂøÉ:",s.selectedSpiritRoot),s.characterPayload.character_name||(console.log("[DEBUG] ËßíËâ≤Âêç‰∏∫Á©∫Ôºå‰ΩøÁî®ÈªòËÆ§ÂÄº"),s.characterPayload.character_name="Â§úË°åËÄÖ"),!s.selectedWorld||!s.selectedTalentTier)return console.log("[DEBUG] È™åËØÅÂ§±Ë¥•ÔºöÁº∫Â∞ëÂøÖÈúÄÈÄâÊã©È°π"),console.log("[DEBUG] selectedWorld:",s.selectedWorld),console.log("[DEBUG] selectedTalentTier:",s.selectedTalentTier),void X.o.error("ÂàõÂª∫Êï∞ÊçÆ‰∏çÂÆåÊï¥ÔºåËØ∑Ê£ÄÊü•‰∏ñÁïåÂíåÂ§©ËµÑÈÄâÊã©ÔºÅ");console.log("[DEBUG] selectedOrigin:",s.selectedOrigin,"(ÂèØ‰∏∫Á©∫ÔºåË°®Á§∫ÈöèÊú∫Âá∫Áîü)"),console.log("[DEBUG] selectedSpiritRoot:",s.selectedSpiritRoot,"(ÂèØ‰∏∫Á©∫ÔºåË°®Á§∫ÈöèÊú∫ÊîπÈÄ†)"),c.value=!0,console.log("[DEBUG] Êï∞ÊçÆÊ†°È™åÈÄöËøáÔºåÂºÄÂßãÂàõÂª∫ËßíËâ≤");try{s.characterPayload.character_name,s.characterPayload.gender,s.characterPayload.race,s.selectedWorld,s.selectedTalentTier,s.selectedOrigin,s.selectedSpiritRoot,s.selectedTalents,s.attributes.root_bone,s.attributes.spirituality,s.attributes.comprehension,s.attributes.fortune,s.attributes.charm,s.attributes.temperament;const e={charId:`char_${Date.now()}`,characterName:s.characterPayload.character_name,world:s.selectedWorld,talentTier:s.selectedTalentTier,origin:s.selectedOrigin,spiritRoot:s.selectedSpiritRoot,talents:s.selectedTalents,baseAttributes:{root_bone:s.attributes.root_bone,spirituality:s.attributes.spirituality,comprehension:s.attributes.comprehension,fortune:s.attributes.fortune,charm:s.attributes.charm,temperament:s.attributes.temperament},mode:s.isLocalCreation?"ÂçïÊú∫":"ËÅîÊú∫",age:s.characterPayload.current_age,gender:s.characterPayload.gender,race:s.characterPayload.race};console.log("üî• [ËßíËâ≤ÂàõÂª∫] ÂΩìÂâçÈÄâÊã©ÁöÑÂºÄÂ±ÄÂπ¥ÈæÑ:",s.characterPayload.current_age),console.log("üî• [ËßíËâ≤ÂàõÂª∫] ÂΩìÂâçÈÄâÊã©ÁöÑÁßçÊóè:",s.characterPayload.race),console.log("ÂèëÂ∞Ñcreation-complete‰∫ã‰ª∂ÔºåËΩΩËç∑:",e),i("creation-complete",e)}catch(e){console.error("ÂàõÂª∫ËßíËâ≤Êó∂ÂèëÁîü‰∏•ÈáçÈîôËØØ:",e),c.value=!1,i("creation-complete",{error:e})}}}function B(e){console.log("[ËßíËâ≤ÂàõÂª∫] ‰∫ëÁ´ØÂêåÊ≠•ÂÆåÊàê:",e),e.success&&e.newItemsCount>0&&X.o.success(`Â∑≤Êõ¥Êñ∞ ${e.newItemsCount} È°π‰∫ëÁ´ØÊï∞ÊçÆ`)}function I(e,t){console.log("[ËßíËâ≤ÂàõÂª∫] Êï∞ÊçÆÊ∏ÖÈô§ÂÆåÊàê:",{type:e,count:t}),t>0&&s.resetCharacter()}async function M(e){if(console.log("[ËßíËâ≤ÂàõÂª∫] Â≠òÂÇ®È¢ÑËÆæÂÆåÊàê:",e),e.success&&e.presetData)try{const{savePreset:t}=await Promise.resolve().then(n.bind(n,5735)),a={name:"string"==typeof e.presetData.name?e.presetData.name:"Êú™ÂëΩÂêçÈ¢ÑËÆæ",description:"string"==typeof e.presetData.description?e.presetData.description:"",data:{character_name:s.characterPayload.character_name,gender:h(s.characterPayload.gender),race:s.characterPayload.race,current_age:s.characterPayload.current_age,world:s.selectedWorld??null,talentTier:s.selectedTalentTier??null,origin:s.selectedOrigin??null,spiritRoot:s.selectedSpiritRoot??null,talents:s.selectedTalents??[],baseAttributes:{root_bone:s.attributes.root_bone,spirituality:s.attributes.spirituality,comprehension:s.attributes.comprehension,fortune:s.attributes.fortune,charm:s.attributes.charm,temperament:s.attributes.temperament}}},r=await t(a);console.log("[ËßíËâ≤ÂàõÂª∫] È¢ÑËÆæÂ∑≤‰øùÂ≠òÂà∞ IndexedDB, ID:",r),X.o.success("È¢ÑËÆæ‰øùÂ≠òÊàêÂäüÔºÅ")}catch(e){console.error("[ËßíËâ≤ÂàõÂª∫] ‰øùÂ≠òÈ¢ÑËÆæÂà∞ IndexedDB Â§±Ë¥•:",e),X.o.error("È¢ÑËÆæ‰øùÂ≠òÂ§±Ë¥•")}}async function z(e){if(console.log("[ËßíËâ≤ÂàõÂª∫] Âä†ËΩΩÈ¢ÑËÆæÂÆåÊàê:",e),e.success){if(!e.presetData)return console.warn("[ËßíËâ≤ÂàõÂª∫] È¢ÑËÆæÊï∞ÊçÆ‰∏∫Á©∫"),void X.o.error("È¢ÑËÆæÊï∞ÊçÆÊó†Êïà");console.log("[ËßíËâ≤ÂàõÂª∫] ÂáÜÂ§á‰ΩøÁî®È¢ÑËÆæÊï∞ÊçÆÂàõÂª∫ËßíËâ≤:",e.presetData);try{const t=e.presetData.data,n=s.creationData.worlds.find(e=>e.name===t.world?.name),a=s.creationData.talentTiers.find(e=>e.name===t.talentTier?.name),o=s.creationData.origins.find(e=>e.name===t.origin?.name),i=s.creationData.spiritRoots.find(e=>e.name===t.spiritRoot?.name),l=n?n.id:"",c=a?a.id:"",d=t.talents&&Array.isArray(t.talents)?t.talents.map(e=>s.creationData.talents.find(t=>t.name===e.name)?.id).filter(e=>void 0!==e):[],u={...s.characterPayload,character_name:t.character_name||"Êó†ÂêçËÄÖ",gender:t.gender||"Áî∑",race:t.race||"‰∫∫Êóè",current_age:t.current_age??16,world_id:l,talent_tier_id:c,origin_id:o?o.id:null,spirit_root_id:i?i.id:null,selected_talent_ids:d,root_bone:t.baseAttributes?.root_bone??0,spirituality:t.baseAttributes?.spirituality??0,comprehension:t.baseAttributes?.comprehension??0,fortune:t.baseAttributes?.fortune??0,charm:t.baseAttributes?.charm??0,temperament:t.baseAttributes?.temperament??0};if(s.characterPayload=u,console.log("[ËßíËâ≤ÂàõÂª∫] È¢ÑËÆæÊï∞ÊçÆÂ∑≤ÂéüÂ≠êÊÄßÊÅ¢Â§ç, Êñ∞ÁöÑPayload:",u),await(0,r.nextTick)(),!s.selectedWorld||!s.selectedTalentTier)return console.error("[ËßíËâ≤ÂàõÂª∫] È¢ÑËÆæÊÅ¢Â§çÂêéÊ£ÄÊü•Â§±Ë¥•ÔºåÊ†∏ÂøÉÊï∞ÊçÆÁº∫Â§±„ÄÇ"),X.o.error("È¢ÑËÆæÊï∞ÊçÆ‰∏çÂÆåÊï¥ÊàñÂ∑≤Â§±ÊïàÔºåËØ∑ÈáçÊñ∞ÈÄâÊã©„ÄÇ"),void(s.currentStep=1);s.currentStep=s.totalSteps,await(0,r.nextTick)(),console.log("[ËßíËâ≤ÂàõÂª∫] È¢ÑËÆæÊï∞ÊçÆÊÅ¢Â§ç‰∏îÊ†°È™åÈÄöËøáÔºåÊâßË°åÂàõÂª∫..."),await A()}catch(e){console.error("[ËßíËâ≤ÂàõÂª∫] ‰ΩøÁî®È¢ÑËÆæÊï∞ÊçÆÂ§±Ë¥•:",e),X.o.error("È¢ÑËÆæÊï∞ÊçÆÂ§ÑÁêÜÂ§±Ë¥•")}}else X.o.error(e.message)}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Bl,[(0,r.createVNode)(S),(0,r.createElementVNode)("div",Il,[(0,r.createElementVNode)("aside",Ml,[(0,r.createElementVNode)("div",zl,[(0,r.createElementVNode)("div",Pl,(0,r.toDisplayString)(e.$t("Á©øË∂äËøõÂ∫¶")),1),(0,r.createElementVNode)("div",Rl,(0,r.toDisplayString)((0,r.unref)(s).isLocalCreation?e.$t("ÂçïÊú∫"):e.$t("ËÅîÊú∫")),1)]),(0,r.createElementVNode)("div",$l,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(s).totalSteps,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:(0,r.normalizeClass)(["rail-step",{active:(0,r.unref)(s).currentStep>=e}])},[(0,r.createElementVNode)("div",Ol,(0,r.toDisplayString)(e),1),(0,r.createElementVNode)("div",Ll,(0,r.toDisplayString)(v.value[e-1]),1)],2))),128))])]),(0,r.createElementVNode)("section",Fl,[(0,r.createElementVNode)("div",jl,[(0,r.createElementVNode)("div",Ul,[(0,r.createElementVNode)("div",ql,(0,r.toDisplayString)(e.$t("ÂáÜÂ§áÁ©øË∂äÂºÇ‰∏ñÁïå")),1)])]),(0,r.createElementVNode)("div",Gl,[(0,r.createVNode)(r.Transition,{name:"fade-step",mode:"out-in"},{default:(0,r.withCtx)(()=>[((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:(0,r.unref)(s).currentStep,class:"step-wrapper"},[1===(0,r.unref)(s).currentStep?((0,r.openBlock)(),(0,r.createBlock)(Jr,{key:0,ref_key:"step1Ref",ref:E,onAiGenerate:f},null,512)):2===(0,r.unref)(s).currentStep?((0,r.openBlock)(),(0,r.createBlock)(wo,{key:1,ref_key:"step2Ref",ref:N,onAiGenerate:f},null,512)):3===(0,r.unref)(s).currentStep?((0,r.openBlock)(),(0,r.createBlock)(Xo,{key:2,ref_key:"step3Ref",ref:_,onAiGenerate:f},null,512)):4===(0,r.unref)(s).currentStep?((0,r.openBlock)(),(0,r.createBlock)(es,{key:3,ref_key:"step4Ref",ref:V,onAiGenerate:f},null,512)):5===(0,r.unref)(s).currentStep?((0,r.openBlock)(),(0,r.createBlock)(Ns,{key:4,ref_key:"step5Ref",ref:C,onAiGenerate:f},null,512)):6===(0,r.unref)(s).currentStep?((0,r.openBlock)(),(0,r.createBlock)(Fs,{key:5})):7===(0,r.unref)(s).currentStep?((0,r.openBlock)(),(0,r.createBlock)(Tl,{key:6,"is-local-creation":(0,r.unref)(s).isLocalCreation},null,8,["is-local-creation"])):(0,r.createCommentVNode)("v-if",!0)]))]),_:1})]),(0,r.createElementVNode)("div",Hl,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(y,["prevent"]),type:"button",class:"btn btn-secondary"},(0,r.toDisplayString)(1===(0,r.unref)(s).currentStep?e.$t("ËøîÂõû"):e.$t("‰∏ä‰∏ÄÊ≠•")),1),(0,r.createElementVNode)("button",{type:"button",onClick:t[0]||(t[0]=(0,r.withModifiers)(e=>{console.log("[DEBUG] ÂºÄÂêØË∂ÖÂá°Êñ∞ÁîüÊåâÈíÆË¢´ÁÇπÂáª!"),async function(e){console.log("[DEBUG] handleNext Ë¢´Ë∞ÉÁî®ÔºåÂΩìÂâçÊ≠•È™§:",s.currentStep,"ÊÄªÊ≠•È™§:",s.totalSteps),e&&(e.preventDefault(),e.stopPropagation(),console.log("[DEBUG] ‰∫ã‰ª∂Â∑≤ÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫")),s.currentStep<s.totalSteps?(console.log("[DEBUG] ÊâßË°å‰∏ã‰∏ÄÊ≠•"),s.nextStep()):(console.log("[DEBUG] ÊúÄÂêé‰∏ÄÊ≠•ÔºåÂáÜÂ§áÂàõÂª∫ËßíËâ≤"),await(async e=>{const t=await(async()=>{if(!(0,D.isBackendConfigured)())return X.o.error("ÂêéÁ´ØÊú™ÈÖçÁΩÆÔºåÊó†Ê≥ïËé∑ÂèñÁ©øË∂äÁÇπÊï∞"),null;if(!localStorage.getItem("access_token"))return X.o.error("ËØ∑ÂÖàÁôªÂΩïÂêéÁ´Ø"),null;try{const e=await T.Em.get("/api/v1/auth/me"),t=Number(e?.travel_points??0);return u.value=t,t}catch(e){return console.error("Ëé∑ÂèñÁ©øË∂äÁÇπÊï∞Â§±Ë¥•:",e),X.o.error("Ëé∑ÂèñÁ©øË∂äÁÇπÊï∞Â§±Ë¥•"),null}})();null!==t&&(t<10?X.o.error(`Á©øË∂äÁÇπÊï∞‰∏çË∂≥ÔºåÂΩìÂâçÂâ©‰Ωô ${t} ÁÇπ`):(p.value=e,d.value=!0))})(async()=>{await A()}))}(e)},["prevent"])),disabled:c.value||x.value||(0,r.unref)(s).currentStep===(0,r.unref)(s).totalSteps&&(0,r.unref)(s).remainingTalentPoints<0,class:(0,r.normalizeClass)(["btn",{"btn-complete":(0,r.unref)(s).currentStep===(0,r.unref)(s).totalSteps,disabled:c.value||x.value||(0,r.unref)(s).currentStep===(0,r.unref)(s).totalSteps&&(0,r.unref)(s).remainingTalentPoints<0}])},(0,r.toDisplayString)((0,r.unref)(s).currentStep===(0,r.unref)(s).totalSteps?e.$t("ÂºÄÂêØË∂ÖÂá°Êñ∞Áîü"):e.$t("‰∏ã‰∏ÄÊ≠•")),11,Yl)])]),(0,r.createElementVNode)("aside",Wl,[(0,r.createElementVNode)("div",Xl,[(0,r.createElementVNode)("div",Jl,(0,r.toDisplayString)(e.$t("ÊéßÂà∂Âè∞")),1),(0,r.unref)(s).isLocalCreation?((0,r.openBlock)(),(0,r.createElementBlock)("div",Kl,[(0,r.createVNode)(ie,{onSyncCompleted:B,variant:"compact",size:"small"}),(0,r.createVNode)(We,{variant:"compact",size:"small","current-step":(0,r.unref)(s).currentStep,"total-steps":(0,r.unref)(s).totalSteps,"character-data":b.value,onStoreCompleted:M},null,8,["current-step","total-steps","character-data"]),(0,r.createVNode)(Gn,{variant:"compact",size:"small",onLoadCompleted:z}),(0,r.createVNode)(he,{variant:"horizontal",size:"small",onDataCleared:I})])):((0,r.openBlock)(),(0,r.createElementBlock)("p",Zl,(0,r.toDisplayString)(e.$t("ËÅîÊú∫Ê®°ÂºèÁî±ÊúçÂä°Âô®ÊâòÁÆ°Êï∞ÊçÆ")),1))]),(0,r.createElementVNode)("div",Ql,[(0,r.createElementVNode)("div",ec,(0,r.toDisplayString)(e.$t("ËµÑÊ∫êÁä∂ÊÄÅ")),1),(0,r.createElementVNode)("div",tc,[(0,r.createElementVNode)("span",nc,(0,r.toDisplayString)(e.$t("ÂΩìÂâçÊ≠•È™§")),1),(0,r.createElementVNode)("span",ac,(0,r.toDisplayString)((0,r.unref)(s).currentStep)+"/"+(0,r.toDisplayString)((0,r.unref)(s).totalSteps),1)]),(0,r.unref)(s).currentStep>=3?((0,r.openBlock)(),(0,r.createElementBlock)("div",rc,[(0,r.createElementVNode)("span",oc,(0,r.toDisplayString)(e.$t("Ââ©‰ΩôÊäÄËÉΩÁÇπ")),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["resource-value",{low:(0,r.unref)(s).remainingTalentPoints<0}])},(0,r.toDisplayString)((0,r.unref)(s).remainingTalentPoints),3)])):(0,r.createCommentVNode)("v-if",!0)])])]),(0,r.createCommentVNode)(" Á©øË∂äÁÇπÊï∞Á°ÆËÆ§ÂºπÁ™ó "),d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"travel-confirm-overlay",onClick:(0,r.withModifiers)(k,["self"])},[(0,r.createElementVNode)("div",ic,[(0,r.createElementVNode)("h3",sc,(0,r.toDisplayString)(e.$t("Á©øË∂äÁÇπÊï∞Á°ÆËÆ§")),1),(0,r.createElementVNode)("p",lc,(0,r.toDisplayString)(e.$t("ÂàõÂª∫Êñ∞ÁöÑ‰∏ñÁïå‰ºöÊ∂àËÄó10‰∏™Á©øË∂äÁÇπÊï∞")),1),(0,r.createElementVNode)("div",cc,[(0,r.createElementVNode)("span",dc,(0,r.toDisplayString)(e.$t("ÂΩìÂâçÂâ©‰Ωô"))+":",1),(0,r.createElementVNode)("span",uc,(0,r.toDisplayString)(g.value),1)]),(0,r.createElementVNode)("div",mc,[(0,r.createElementVNode)("button",{class:"btn btn-secondary",type:"button",onClick:k,disabled:m.value},(0,r.toDisplayString)(e.$t("ÂèñÊ∂à")),9,pc),(0,r.createElementVNode)("button",{class:"btn btn-complete",type:"button",onClick:w,disabled:m.value},(0,r.toDisplayString)(e.$t("Á°ÆÂÆö")),9,gc)])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" AIÁîüÊàêÁ≠âÂæÖÁî±ÂÖ®Â±ÄtoastÂ§ÑÁêÜ ")]))}});var fc=n(7987),vc={};vc.styleTagTransform=k(),vc.setAttributes=v(),vc.insert=h().bind(null,"head"),vc.domAPI=p(),vc.insertStyleElement=y(),u()(fc.A,vc),fc.A&&fc.A.locals&&fc.A.locals;var bc=n(7797),yc={};yc.styleTagTransform=k(),yc.setAttributes=v(),yc.insert=h().bind(null,"head"),yc.domAPI=p(),yc.insertStyleElement=y(),u()(bc.A,yc),bc.A&&bc.A.locals&&bc.A.locals;const xc=(0,N.A)(hc,[["__scopeId","data-v-57f7468c"]]);function kc(e){if(window.turnstile)try{window.turnstile.reset(e??void 0)}catch(e){}}function wc(e){if(window.turnstile&&e)try{window.turnstile.remove?.(e)}catch(e){}}const Ec={class:"login-container"},Nc={class:"login-panel"},Sc={class:"login-status"},_c={class:"status-text"},Vc={class:"status-mode"},Cc={class:"title"},Ac={key:0,class:"subtitle"},Dc={key:1,class:"subtitle"},Tc={class:"form-group"},Bc={for:"username"},Ic=["placeholder"],Mc={class:"form-group"},zc={for:"password"},Pc=["placeholder"],Rc={key:0,class:"form-group"},$c={for:"confirmPassword"},Oc=["placeholder"],Lc={key:1,class:"form-group"},Fc={for:"email"},jc={class:"optional"},Uc=["placeholder"],qc={key:2,class:"form-group"},Gc={for:"invitationCode"},Hc=["placeholder"],Yc={key:3,class:"form-group"},Wc={for:"emailCode"},Xc={class:"email-input-row"},Jc=["placeholder"],Kc=["disabled"],Zc={key:4,class:"form-group turnstile-group"},Qc={key:5,class:"success-message"},ed={class:"form-actions"},td=["disabled"],nd={class:"btn-text"},ad={class:"form-footer"},rd={key:0,class:"admin-login-toggle"},od={class:"admin-checkbox"},id={key:3,class:"form-actions"},sd=(0,r.defineComponent)({__name:"LoginView",emits:["loggedIn","back"],setup(e,{emit:t}){const n=t,a=(0,r.ref)(""),o=(0,r.ref)(""),i=(0,r.ref)(""),s=(0,r.ref)(""),l=(0,r.ref)(""),c=(0,r.ref)(""),d=(0,r.ref)(!1),u=(0,r.ref)(null),m=(0,r.ref)(null),p=(0,r.ref)(!1),g=(0,r.ref)(!1),h=(0,r.ref)((0,D.isBackendConfigured)()),f=(0,r.ref)(!1),v=(0,r.ref)(""),b=(0,r.ref)(!1),y=(0,r.ref)(null),x=(0,r.ref)(null),k=(0,r.ref)(""),w=(0,r.ref)(!1),E=(0,r.ref)(0);let N=null;const S=()=>{p.value=!p.value,u.value=null,m.value=null,o.value="",i.value="",s.value="",c.value="",k.value="",f.value&&kc(x.value)},_=async()=>{if(s.value)if(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s.value)){w.value=!0,u.value=null;try{const e=await(0,T.Em)("/api/v1/auth/send-email-code",{method:"POST",body:JSON.stringify({email:s.value,purpose:"register"})});e.success?(X.o.success("È™åËØÅÁ†ÅÂ∑≤ÂèëÈÄÅÔºåËØ∑Êü•Êî∂ÈÇÆ‰ª∂"),E.value=60,N=setInterval(()=>{E.value--,E.value<=0&&N&&(clearInterval(N),N=null)},1e3)):u.value=e.message||"ÂèëÈÄÅÂ§±Ë¥•"}catch(e){u.value=e.detail||e.message||"ÂèëÈÄÅÈ™åËØÅÁ†ÅÂ§±Ë¥•"}finally{w.value=!1}}else u.value="ÈÇÆÁÆ±Ê†ºÂºè‰∏çÊ≠£Á°Æ";else u.value="ËØ∑ÂÖàËæìÂÖ•ÈÇÆÁÆ±"},V=async()=>{if(f.value&&v.value&&y.value)if(await async function(e=8e3){if("undefined"==typeof window)return!1;if(window.turnstile)return!0;const t="undefined"==typeof window?null:(window.turnstileCallbacks||(window.turnstileCallbacks=[]),window.turnstileCallbacks);return!!t&&await new Promise(n=>{let a=!1;const r=e=>{a||(a=!0,n(e))},o=setTimeout(()=>r(!!window.turnstile),e);t.push(()=>{clearTimeout(o),r(!!window.turnstile)})})}())try{wc(x.value),x.value=function(e,t){if(!window.turnstile)throw new Error("Turnstile SDK not loaded");return window.turnstile.render(e,{sitekey:t.siteKey??"0x4AAAAAACKKIZGhHxLokv-j",theme:t.theme??"auto",callback:e=>t.onSuccess("string"==typeof e?e:""),"error-callback":()=>t.onError?.(),"expired-callback":()=>t.onExpired?.()})}(y.value,{siteKey:v.value,theme:"dark"===document.documentElement.getAttribute("data-theme")?"dark":"light",onSuccess:e=>{k.value=e,u.value=null},onExpired:()=>{k.value=""},onError:()=>{k.value="",u.value="Êó†ÊïàÂüü„ÄÇÂ¶ÇÊûúÊ≠§ÈóÆÈ¢ò‰ªçÁÑ∂Â≠òÂú®ÔºåËØ∑‰∏éÁ´ôÁÇπÁÆ°ÁêÜÂëòËÅîÁ≥ª„ÄÇ"}})}catch(e){console.error("[Turnstile] render failed:",e),u.value="‰∫∫Êú∫È™åËØÅÁªÑ‰ª∂Ê∏≤ÊüìÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÂêéÈáçËØï"}else u.value="‰∫∫Êú∫È™åËØÅÁªÑ‰ª∂Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñÂà∑Êñ∞È°µÈù¢ÂêéÈáçËØï"};return(0,r.watch)(f,e=>{e&&v.value&&setTimeout(()=>{V()},100)}),(0,r.onMounted)(async()=>{h.value&&await(async()=>{try{const e=await(0,T.Em)("/api/v1/auth/security-settings");f.value=e.turnstile_enabled,v.value=e.turnstile_site_key||"",b.value=e.email_verification_enabled}catch(e){console.warn("[Security] Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•:",e),f.value=!1,b.value=!1}})()}),(0,r.onBeforeUnmount)(()=>{wc(x.value),N&&clearInterval(N)}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Ec,[(0,r.createElementVNode)("div",Nc,[(0,r.createElementVNode)("div",Sc,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["status-dot",h.value?"online":"offline"])},null,2),(0,r.createElementVNode)("span",_c,(0,r.toDisplayString)(h.value?"LINK OK":"LINK OFF"),1),t[10]||(t[10]=(0,r.createElementVNode)("span",{class:"status-divider"},null,-1)),(0,r.createElementVNode)("span",Vc,(0,r.toDisplayString)(p.value?e.$t("Ê≥®ÂÜåÊ®°Âºè"):e.$t("ÁôªÂΩïÊ®°Âºè")),1)]),(0,r.createElementVNode)("h2",Cc,(0,r.toDisplayString)(p.value?e.$t("Ê≥®ÂÜåË¥¶Âè∑"):e.$t("ÁôªÂΩï/Ê≥®ÂÜå")),1),h.value?((0,r.openBlock)(),(0,r.createElementBlock)("p",Ac,(0,r.toDisplayString)(p.value?e.$t("Ê≥®ÂÜåÊñ∞Áî®Êà∑ÂêçÔºåË∏èÂÖ•ÂºÇ‰∏ñÁïå„ÄÇ"):e.$t("ÁôªÂΩïË¥¶Êà∑Ôºå‰ª•‰æøÂêåÊ≠•‰∫ëÁ´ØÊï∞ÊçÆ„ÄÇ")),1)):((0,r.openBlock)(),(0,r.createElementBlock)("p",Dc,"Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåÁôªÂΩï/Ê≥®ÂÜå‰∏çÂèØÁî®")),h.value?((0,r.openBlock)(),(0,r.createElementBlock)("form",{key:2,onSubmit:t[8]||(t[8]=(0,r.withModifiers)(e=>p.value?(async()=>{if(!d.value)if(h.value)if(o.value===i.value){if(!l.value)return u.value="ËØ∑ËæìÂÖ•ÈÇÄËØ∑Á†Å",void X.o.error(u.value);if(b.value){if(!s.value)return void(u.value="ËØ∑ËæìÂÖ•ÈÇÆÁÆ±");if(!c.value)return void(u.value="ËØ∑ËæìÂÖ•ÈÇÆÁÆ±È™åËØÅÁ†Å")}if(f.value&&!k.value)return u.value="ËØ∑ÂÖàÂÆåÊàê‰∫∫Êú∫È™åËØÅ",void X.o.error(u.value);d.value=!0,u.value=null,m.value=null;try{const e={user_name:a.value,password:o.value};if(s.value&&(e.email=s.value),e.invitation_code=l.value,b.value){if(!c.value)return void(u.value="ËØ∑ËæìÂÖ•ÈÇÆÁÆ±È™åËØÅÁ†Å");e.email_code=c.value}f.value&&k.value&&(e.turnstile_token=k.value),await(0,T.Em)("/api/v1/auth/register",{method:"POST",body:JSON.stringify(e)}),X.o.success("Áî®Êà∑ÂêçÊ≥®ÂÜåÊàêÂäüÔºåÊ¨¢ËøéË∏èÂÖ•ÈúìËôπ‰πãÂüéÔºÅ"),m.value="Ê≥®ÂÜåÊàêÂäüÔºÅËØ∑ÁôªÂΩïÊÇ®ÁöÑÁî®Êà∑Âêç",p.value=!1,k.value="",f.value&&kc(x.value)}catch(e){let t="‰∏Ä‰∏™Êú™Áü•ÁöÑÈîôËØØÂèëÁîü‰∫Ü";"object"==typeof e&&null!==e&&("detail"in e&&"string"==typeof e.detail?t=e.detail:"message"in e&&"string"==typeof e.message&&(t=e.message)),u.value=t,X.o.error(t)}finally{d.value=!1,k.value="",f.value&&kc(x.value)}}else u.value="‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥ÔºÅ";else X.o.info("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåÊ≥®ÂÜå‰∏çÂèØÁî®")})():(async()=>{if(!d.value)if(h.value){if(f.value&&!k.value)return u.value="ËØ∑ÂÖàÂÆåÊàê‰∫∫Êú∫È™åËØÅ",void X.o.error(u.value);d.value=!0,u.value=null,m.value=null;try{const e={username:a.value,password:o.value,is_admin:g.value};f.value&&k.value&&(e.turnstile_token=k.value);const t=await(0,T.Em)("/api/v1/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});localStorage.setItem("access_token",t.access_token),localStorage.setItem("username",a.value),g.value?localStorage.setItem("is_admin","true"):localStorage.removeItem("is_admin"),X.o.success("ÁôªÂÖ•ÊàêÂäüÔºåÂºÇ‰∏ñÁïåÂ∑≤ËøûÈÄöÔºÅ"),n("loggedIn")}catch(e){let t="‰∏Ä‰∏™Êú™Áü•ÁöÑÈîôËØØÂèëÁîü‰∫Ü";"object"==typeof e&&null!==e&&("detail"in e&&"string"==typeof e.detail?t=e.detail:"message"in e&&"string"==typeof e.message&&(t=e.message)),u.value=t,X.o.error(t)}finally{d.value=!1,k.value="",f.value&&kc(x.value)}}else X.o.info("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåÁôªÂΩï‰∏çÂèØÁî®")})(),["prevent"]))},[(0,r.createElementVNode)("div",Tc,[(0,r.createElementVNode)("label",Bc,(0,r.toDisplayString)(e.$t("Áî®Êà∑Âêç")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),placeholder:e.$t("ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÁî®Êà∑Âêç"),required:""},null,8,Ic),[[r.vModelText,a.value]])]),(0,r.createElementVNode)("div",Mc,[(0,r.createElementVNode)("label",zc,(0,r.toDisplayString)(e.$t("ÂØÜÁ†Å")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),placeholder:e.$t("ËØ∑ËæìÂÖ•ÊÇ®ÁöÑË∫´‰ªΩÂØÜÁ†Å"),required:""},null,8,Pc),[[r.vModelText,o.value]])]),p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Rc,[(0,r.createElementVNode)("label",$c,(0,r.toDisplayString)(e.$t("Á°ÆËÆ§ÂØÜÁ†Å")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),placeholder:e.$t("ËØ∑ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å"),required:""},null,8,Oc),[[r.vModelText,i.value]])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÈÇÆÁÆ±Â≠óÊÆµÔºàÊ≥®ÂÜåÊó∂ÊòæÁ§∫Ôºâ "),p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Lc,[(0,r.createElementVNode)("label",Fc,[(0,r.createTextVNode)((0,r.toDisplayString)(e.$t("ÈÇÆÁÆ±"))+" ",1),(0,r.createElementVNode)("span",jc,"("+(0,r.toDisplayString)(e.$t("ÂèØÈÄâ"))+")",1)]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),placeholder:e.$t("ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈÇÆÁÆ±")},null,8,Uc),[[r.vModelText,s.value]])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÈÇÄËØ∑Á†ÅÂ≠óÊÆµÔºàÊ≥®ÂÜåÊó∂ÊòæÁ§∫Ôºâ "),p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",qc,[(0,r.createElementVNode)("label",Gc,[(0,r.createTextVNode)((0,r.toDisplayString)(e.$t("ÈÇÄËØ∑Á†Å"))+" ",1),t[11]||(t[11]=(0,r.createElementVNode)("span",{class:"required"},"*",-1))]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",id:"invitationCode","onUpdate:modelValue":t[4]||(t[4]=e=>l.value=e),placeholder:e.$t("ËØ∑ËæìÂÖ•ÈÇÄËØ∑Á†Å"),required:""},null,8,Hc),[[r.vModelText,l.value]])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÈÇÆÁÆ±È™åËØÅÔºà‰ªÖÊ≥®ÂÜå‰∏îÂêØÁî®Êó∂ÊòæÁ§∫Ôºâ "),p.value&&b.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Yc,[(0,r.createElementVNode)("label",Wc,(0,r.toDisplayString)(e.$t("È™åËØÅÁ†Å")),1),(0,r.createElementVNode)("div",Xc,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",id:"emailCode","onUpdate:modelValue":t[5]||(t[5]=e=>c.value=e),placeholder:e.$t("ËØ∑ËæìÂÖ•ÈÇÆÁÆ±È™åËØÅÁ†Å"),required:""},null,8,Jc),[[r.vModelText,c.value]]),(0,r.createElementVNode)("button",{type:"button",class:"btn btn-small",onClick:_,disabled:w.value||E.value>0||!s.value},(0,r.toDisplayString)(E.value>0?`${E.value}s`:w.value?"ÂèëÈÄÅ‰∏≠...":"ÂèëÈÄÅÈ™åËØÅÁ†Å"),9,Kc)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Turnstile ‰∫∫Êú∫È™åËØÅ "),f.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Zc,[(0,r.createElementVNode)("div",{ref_key:"turnstileContainer",ref:y,class:"turnstile-container"},null,512)])):(0,r.createCommentVNode)("v-if",!0),m.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Qc,(0,r.toDisplayString)(m.value),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",ed,[(0,r.createElementVNode)("button",{type:"button",onClick:t[6]||(t[6]=e=>n("back")),class:"btn btn-secondary"},(0,r.toDisplayString)(e.$t("ËøîÂõû")),1),(0,r.createElementVNode)("button",{type:"submit",class:(0,r.normalizeClass)(["btn",{"is-loading":d.value}]),disabled:d.value},[(0,r.createElementVNode)("span",nd,(0,r.toDisplayString)(p.value?e.$t("Ê≥®ÂÜå"):e.$t("ÁôªÂÖ•")),1)],10,td)]),(0,r.createElementVNode)("div",ad,[(0,r.createElementVNode)("a",{href:"#",onClick:(0,r.withModifiers)(S,["prevent"]),class:"link"},(0,r.toDisplayString)(p.value?e.$t("Â∑≤ÊúâÁî®Êà∑ÂêçÔºüÁ´ãÂç≥ÁôªÂÖ•"):e.$t("Ê≤°ÊúâË¥¶Âè∑ÔºüÁ´ãÂç≥Ê≥®ÂÜå")),1),p.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",rd,[(0,r.createElementVNode)("label",od,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>g.value=e)},null,512),[[r.vModelCheckbox,g.value]]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ÁÆ°ÁêÜÂëòÁôªÂΩï")),1)])]))])],32)):((0,r.openBlock)(),(0,r.createElementBlock)("div",id,[(0,r.createElementVNode)("button",{type:"button",onClick:t[9]||(t[9]=e=>n("back")),class:"btn btn-secondary"},(0,r.toDisplayString)(e.$t("ËøîÂõû")),1)]))])]))}});var ld=n(1743),cd={};cd.styleTagTransform=k(),cd.setAttributes=v(),cd.insert=h().bind(null,"head"),cd.domAPI=p(),cd.insertStyleElement=y(),u()(ld.A,cd),ld.A&&ld.A.locals&&ld.A.locals;const dd=(0,N.A)(sd,[["__scopeId","data-v-75e6a06a"]]);var ud=n(4459),md=n(4582),pd=n(7760),gd=n(4530),hd=n(6988);const fd={class:"workshop-container"},vd={class:"workshop-panel"},bd={class:"header"},yd={class:"title-row"},xd={key:0},kd={key:1},wd={key:2},Ed={key:1,class:"auth-pill warn"},Nd={key:0,class:"backend-locked"},Sd={class:"tabs"},_d={key:0,class:"browse scroll-content"},Vd={class:"filters"},Cd=["placeholder"],Ad=["value"],Dd=["disabled"],Td={key:0,class:"manage-bar"},Bd={class:"manage-meta"},Id={key:1,class:"loading"},Md={key:2,class:"empty"},zd={key:3,class:"item-list"},Pd={class:"item-top"},Rd={class:"item-title"},$d={class:"item-type"},Od={key:0,class:"item-desc"},Ld={class:"item-meta"},Fd={key:0},jd={key:1,class:"tags"},Ud={class:"item-actions"},qd=["onClick"],Gd=["onClick"],Hd={key:4,class:"pagination"},Yd={class:"page-meta"},Wd={class:"page-controls"},Xd=["disabled"],Jd=["disabled"],Kd={key:1,class:"upload scroll-content"},Zd={key:0,class:"upload-locked"},Qd={key:1,class:"upload-form"},eu={class:"form-row"},tu={class:"form-row"},nu={class:"form-row"},au={class:"form-row"},ru={class:"form-row"},ou={class:"content-actions"},iu={class:"file-btn btn btn-secondary"},su={key:2,class:"hint"},lu={class:"actions"},cu=["disabled"],du={key:2,class:"actions"},uu={class:"modal"},mu={key:0,class:"modal-body"},pu={key:1,class:"modal-body"},gu={class:"modal-info"},hu={class:"modal-title"},fu={class:"modal-sub"},vu={key:0},bu={key:1},yu={key:2},xu={class:"modal-actions"},ku={key:0,class:"import-saves"},wu={class:"form-row"},Eu=["value"],Nu=["disabled"],Su=(0,r.defineComponent)({__name:"WorkshopView",setup(e){const t=(0,a.useRouter)(),n=(0,md.useCharacterStore)(),o=(0,r.ref)((0,D.isBackendConfigured)()),i=(0,r.ref)(null),s=(0,r.computed)(()=>o.value?i.value??"":""),l=(0,r.computed)(()=>s.value||"Êú™Áü•ÁâàÊú¨"),c=(0,r.ref)("checking"),d=(0,r.ref)("browse"),u=(0,r.ref)(1),m=(0,r.ref)(12),p=(0,r.ref)(0),g=[8,12,20,30],h=(0,r.computed)(()=>"mine"===d.value?"mine":"browse"),f=(0,r.computed)(()=>Math.max(1,Math.ceil(p.value/m.value))),v=(0,r.computed)(()=>"mine"===d.value),b=(0,r.computed)(()=>"upload"!==d.value),y={settings:"ËÆæÁΩÆ",prompts:"ÊèêÁ§∫ËØç",saves:"ÂçïÊú∫Â≠òÊ°£",start_config:"ÂºÄÂ±ÄÈÖçÁΩÆ"},x=async()=>{if(o.value){c.value="checking";try{const e=await(0,T.verifyStoredToken)();c.value=e?"authed":"unauthed"}catch{c.value="unauthed"}}else c.value="unauthed"};(0,r.onMounted)(async()=>{if(!o.value)return;const e=await(0,D.d9)();e&&(i.value=e),x(),A()});const k=()=>{t.push("/")},w=()=>{o.value?t.push("/login"):X.o.info("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåÁôªÂΩï‰∏çÂèØÁî®")},E=e=>{"mine"!==e||"authed"===c.value?d.value=e:w()},N=(0,r.ref)(""),_=(0,r.ref)(""),V=(0,r.ref)([]),C=(0,r.ref)(!1),A=async()=>{if(!o.value)return V.value=[],void(p.value=0);if("mine"!==h.value||"authed"===c.value){C.value=!0;try{const e="mine"===h.value?await async function(e){const t=new URLSearchParams;e.type&&t.set("type",e.type),e.q&&t.set("q",e.q),e.page&&t.set("page",String(e.page)),e.pageSize&&t.set("page_size",String(e.pageSize));const n=t.toString();return T.Em.get("/api/v1/workshop/my-items"+(n?`?${n}`:""))}({type:N.value,q:_.value,page:u.value,pageSize:m.value}):await async function(e){const t=new URLSearchParams;e.type&&t.set("type",e.type),e.q&&t.set("q",e.q),e.page&&t.set("page",String(e.page)),e.pageSize&&t.set("page_size",String(e.pageSize));const n=t.toString();return T.Em.get("/api/v1/workshop/items"+(n?`?${n}`:""))}({type:N.value,q:_.value,page:u.value,pageSize:m.value});V.value=e.items||[],p.value=e.total||0}catch{V.value=[],p.value=0}finally{C.value=!1}}else w()},B=()=>{u.value>1&&(u.value-=1)},I=()=>{u.value<f.value&&(u.value+=1)};(0,r.watch)(d,()=>{u.value=1,b.value&&A()}),(0,r.watch)(u,()=>{b.value&&A()}),(0,r.watch)(m,()=>{u.value=1,b.value&&A()}),(0,r.watch)(N,()=>{u.value=1,b.value&&A()});const M=(0,r.ref)({open:!1,loading:!1,item:null,payload:null}),z=(0,r.ref)(""),P=()=>{M.value.open=!1,M.value.loading=!1,M.value.item=null,M.value.payload=null,z.value=""},R=()=>{if(!M.value.item)return;const e=M.value.payload,t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),a=document.createElement("a");a.href=URL.createObjectURL(n);const r=(new Date).toISOString().split("T")[0];a.download=`Ë∂ÖÂá°Êñ∞Áîü-Â∑•Âùä-${M.value.item.type}-${r}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href)},$=()=>{const e=M.value.payload,t=(0,pd.ZT)(e);let n=null;if("settings"===t.type?n=t.payload:e?.settings?n=e.settings:null===t.type&&"object"==typeof t.payload&&(n=t.payload),n&&"object"==typeof n)try{const e={...(()=>{try{const e=localStorage.getItem("dad_game_settings");return e?JSON.parse(e):{}}catch{return{}}})(),...n};localStorage.setItem("dad_game_settings",JSON.stringify(e)),X.o.success("Â∑≤ÂØºÂÖ•Êú¨Âú∞ËÆæÁΩÆÔºàÂà∑Êñ∞È°µÈù¢ÂêéÁîüÊïàÔºâ"),P()}catch(e){console.error("ÂØºÂÖ•ËÆæÁΩÆÂ§±Ë¥•:",e),X.o.error("ÂØºÂÖ•ËÆæÁΩÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}else X.o.error("ËÆæÁΩÆÂÜÖÂÆπÊ†ºÂºè‰∏çÊ≠£Á°Æ")},O=async()=>{const e=M.value.payload,t=(0,pd.ZT)(e);let n=null;if("prompts"===t.type?n=t.payload:"object"!=typeof e||Array.isArray(e)||(n=e),n&&"object"==typeof n)try{const e=await ud.promptStorage.importPrompts(n);X.o.success(`Â∑≤ÂØºÂÖ• ${e} Êù°ÊèêÁ§∫ËØçÔºàÂà∑Êñ∞È°µÈù¢ÂêéÁîüÊïàÔºâ`),P()}catch(e){console.error("ÂØºÂÖ•ÊèêÁ§∫ËØçÂ§±Ë¥•:",e),X.o.error("ÂØºÂÖ•ÊèêÁ§∫ËØçÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}else X.o.error("ÊèêÁ§∫ËØçÂÜÖÂÆπÊ†ºÂºè‰∏çÊ≠£Á°Æ")},L=()=>{const e=M.value.payload,t=(0,pd.ZT)(e);let n=null;if("start_config"===t.type?n=t.payload:"object"!=typeof e||Array.isArray(e)||(n=e),n&&"object"==typeof n)try{localStorage.setItem("dad_start_config",JSON.stringify(n)),X.o.success("Â∑≤Â∫îÁî®Âà∞Êú¨Âú∞ÂºÄÂ±ÄÈÖçÁΩÆÔºàÈáçÊñ∞ÊâìÂºÄÂºÄÂ±ÄÈ°µÈù¢ÁîüÊïàÔºâ"),P()}catch(e){console.error("ÂØºÂÖ•ÂºÄÂ±ÄÈÖçÁΩÆÂ§±Ë¥•:",e),X.o.error("ÂØºÂÖ•ÂºÄÂ±ÄÈÖçÁΩÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}else X.o.error("ÂºÄÂ±ÄÈÖçÁΩÆÊ†ºÂºè‰∏çÊ≠£Á°Æ")},F=(0,r.computed)(()=>(n.allCharacterProfiles||[]).filter(e=>"ÂçïÊú∫"===e?.Ê®°Âºè).map(e=>({ËßíËâ≤ID:e.ËßíËâ≤ID,name:e?.ËßíËâ≤?.ÂêçÂ≠ó||e.ËßíËâ≤ID}))),j=async()=>{if(!z.value)return;const e=M.value.payload,t=(0,pd.ZT)(e),a="saves"===t.type&&Array.isArray(t.payload?.saves)?t.payload.saves:"character"===t.type&&Array.isArray(t.payload?.Â≠òÊ°£ÂàóË°®)?t.payload.Â≠òÊ°£ÂàóË°®:null;if(a){for(const e of a)await n.importSave(z.value,e);X.o.success(`Â∑≤ÂØºÂÖ• ${a.length} ‰∏™Â≠òÊ°£Âà∞Êú¨Âú∞ÂçïÊú∫ËßíËâ≤`)}else X.o.error("Â≠òÊ°£ÂÜÖÂÆπÊ†ºÂºè‰∏çÊ≠£Á°Æ")},U=(0,r.ref)("settings"),q=(0,r.ref)(""),G=(0,r.ref)(""),H=(0,r.ref)(""),Y=(0,r.ref)(null),W=(0,r.ref)(""),J=(0,r.ref)(!1),K=async e=>{const t=e.target.files?.[0];if(t)try{const e=await t.text();Y.value=JSON.parse(e),W.value=`Â∑≤ËØªÂèñÔºö${t.name}`,q.value||(q.value=t.name.replace(/\.json$/i,""))}catch{Y.value=null,W.value="",X.o.error("ËØªÂèñÊñá‰ª∂Â§±Ë¥•ÔºåËØ∑Á°ÆËÆ§ÊòØÊúâÊïàÁöÑ JSON")}finally{e.target.value=""}},Z=()=>{try{const e=localStorage.getItem("dad_game_settings");if(!e)return void X.o.info("Êú¨Âú∞ËøòÊ≤°ÊúâËÆæÁΩÆÊï∞ÊçÆ");const t=JSON.parse(e);Y.value={settings:t,exportInfo:{timestamp:(new Date).toISOString(),version:l.value,gameVersion:`Ë∂ÖÂá°Êñ∞Áîü v${l.value}`}},W.value="Â∑≤‰ªéÊú¨Âú∞ËØªÂèñ dad_game_settings",q.value||(q.value=`ËÆæÁΩÆ-${l.value}`)}catch{X.o.error("ËØªÂèñÊú¨Âú∞ËÆæÁΩÆÂ§±Ë¥•")}},Q=async()=>{try{const e=await ud.promptStorage.exportAll();Y.value=e,W.value="Â∑≤‰ªéÊú¨Âú∞ÂØºÂá∫ÊèêÁ§∫ËØç",q.value||(q.value=`ÊèêÁ§∫ËØç-${l.value}`)}catch{X.o.error("ÂØºÂá∫Êú¨Âú∞ÊèêÁ§∫ËØçÂ§±Ë¥•")}},ee=async()=>{if("authed"!==c.value)return void X.o.info("‰∏ä‰º†ÂâçÈúÄË¶ÅÂÖàÂÆåÊàêË¥¶Âè∑È™åËØÅ");const e=q.value.trim();if(e)if(Y.value){J.value=!0;try{const n=(()=>{const e=Y.value,t=(0,pd.ZT)(e);if("settings"===U.value){const n="settings"===t.type?t.payload:e?.settings??e;if(!n||"object"!=typeof n)throw new Error("ËÆæÁΩÆÂÜÖÂÆπÊ†ºÂºè‰∏çÊ≠£Á°Æ");return{bundleType:"settings",bundle:(0,pd.q3)("settings",n,{appVersion:l.value})}}if("prompts"===U.value){const n="prompts"===t.type?t.payload:e;if(!n||"object"!=typeof n)throw new Error("ÊèêÁ§∫ËØçÂÜÖÂÆπÊ†ºÂºè‰∏çÊ≠£Á°Æ");return{bundleType:"prompts",bundle:(0,pd.q3)("prompts",n,{appVersion:l.value})}}if("start_config"===U.value){const n="start_config"===t.type?t.payload:e;if(!n||"object"!=typeof n)throw new Error("ÂºÄÂ±ÄÈÖçÁΩÆÊ†ºÂºè‰∏çÊ≠£Á°Æ");return{bundleType:"start_config",bundle:(0,pd.q3)("start_config",n,{appVersion:l.value})}}if("saves"===U.value){const n="character"===t.type?"character":"saves",a="saves"===t.type&&Array.isArray(t.payload?.saves)?t.payload.saves:"character"===t.type&&Array.isArray(t.payload?.Â≠òÊ°£ÂàóË°®)?t.payload.Â≠òÊ°£ÂàóË°®:"saves"===e?.type&&Array.isArray(e.saves)?e.saves:"character"===e?.type&&Array.isArray(e.character?.Â≠òÊ°£ÂàóË°®)?e.character.Â≠òÊ°£ÂàóË°®:null;if(!a)throw new Error("ÂçïÊú∫Â≠òÊ°£ÂøÖÈ°ª‰ΩøÁî®Ê∏∏ÊàèÂØºÂá∫ÁöÑÂ≠òÊ°£ÊàñËßíËâ≤Êñá‰ª∂");const r=a.map(e=>{const t=e?.Â≠òÊ°£Êï∞ÊçÆ;if(!t)throw new Error(`Â≠òÊ°£„Äå${e?.Â≠òÊ°£Âêç??"Êú™Áü•"}„ÄçÁº∫Â∞ëÂ≠òÊ°£Êï∞ÊçÆ`);const n=(0,gd.ru)(t)?t:(0,gd.jj)(t).migrated,a=(0,hd.$)(n);if(!a.isValid)throw new Error(`Â≠òÊ°£„Äå${e?.Â≠òÊ°£Âêç??"Êú™Áü•"}„ÄçÊ†°È™åÂ§±Ë¥•Ôºö${a.errors[0]||"Êú™Áü•ÂéüÂõ†"}`);return{...e,Â≠òÊ°£Êï∞ÊçÆ:n}});if("character"===n){const n={ËßíËâ≤ID:e?.ËßíËâ≤ID??t.payload?.ËßíËâ≤ID,ËßíËâ≤‰ø°ÊÅØ:JSON.parse(JSON.stringify(e?.ËßíËâ≤‰ø°ÊÅØ??t.payload?.ËßíËâ≤‰ø°ÊÅØ??{})),Â≠òÊ°£ÂàóË°®:r};return{bundleType:"character",bundle:(0,pd.q3)("character",n,{appVersion:l.value})}}const o={characterId:e?.characterId??t.payload?.characterId,characterName:e?.characterName??t.payload?.characterName,saves:r};return{bundleType:"saves",bundle:(0,pd.q3)("saves",o,{appVersion:l.value})}}throw new Error("‰∏çÊîØÊåÅÁöÑ‰∏ä‰º†Á±ªÂûã")})();await async function(e){return T.Em.post("/api/v1/workshop/items",e)}({type:U.value,title:e,description:G.value.trim()||void 0,tags:(t=H.value,t.split(",").map(e=>e.trim()).filter(Boolean).slice(0,12)),payload:n.bundle,game_version:`Ë∂ÖÂá°Êñ∞Áîü v${l.value}`,data_version:"1"}),X.o.success("‰∏ä‰º†ÊàêÂäü"),q.value="",G.value="",H.value="",Y.value=null,W.value="",d.value="browse",u.value=1,await A()}catch{}finally{J.value=!1}var t}else X.o.error("ËØ∑ÂÖàÈÄâÊã©/ÁîüÊàêË¶Å‰∏ä‰º†ÁöÑÂÜÖÂÆπ");else X.o.error("ËØ∑Â°´ÂÜôÊ†áÈ¢ò")};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",fd,[(0,r.createVNode)(S),(0,r.createElementVNode)("div",vd,[(0,r.createElementVNode)("div",bd,[(0,r.createElementVNode)("div",yd,[t[12]||(t[12]=(0,r.createElementVNode)("h2",{class:"title"},"ÂàõÊÑèÂ∑•Âùä",-1)),o.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(["auth-pill",{ok:"authed"===c.value,warn:"authed"!==c.value}])},["checking"===c.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",xd,"Ê£ÄÊµã‰∏≠‚Ä¶")):"authed"===c.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",kd,"Â∑≤È™åËØÅ")):((0,r.openBlock)(),(0,r.createElementBlock)("span",wd,"Êú™È™åËØÅ")),"authed"!==c.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:3,class:"pill-link",onClick:w},"ÂéªÈ™åËØÅ")):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{class:"pill-link",onClick:x},"Âà∑Êñ∞")],2)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ed,t[11]||(t[11]=[(0,r.createElementVNode)("span",null,"Êú™ÈÖçÁΩÆÂêéÁ´Ø",-1)])))]),t[13]||(t[13]=(0,r.createElementVNode)("p",{class:"subtitle"},"Áî®‰∫éÁé©ÂÆ∂‰πãÈó¥‰∏ä‰º†/ÂàÜ‰∫´ÔºöËÆæÁΩÆ„ÄÅÊèêÁ§∫ËØç„ÄÅÂºÄÂ±ÄÈÖçÁΩÆ„ÄÅÂ≠òÊ°£Á≠âÂÜÖÂÆπ",-1)),t[14]||(t[14]=(0,r.createElementVNode)("p",{class:"notice"},[(0,r.createTextVNode)(" ËØ¥ÊòéÔºöÂàõÊÑèÂ∑•ÂùäÂÜÖÂÆπÂè™ÂØπ"),(0,r.createElementVNode)("strong",null,"ÂçïÊú∫Êú¨Âú∞"),(0,r.createTextVNode)("ÁîüÊïàÔºõËÅîÊú∫Ê®°ÂºèÁöÑÊï∞ÊçÆÁî±ÂêéÁ´ØÊùÉÂ®ÅÊéßÂà∂ÔºàÁî®‰∫éÈò≤‰ΩúÂºäÔºâÔºå‰∏ç‰ºöË¢´Â∑•ÂùäÂÜÖÂÆπË¶ÜÁõñ„ÄÇ ")],-1))]),o.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createElementVNode)("div",Sd,[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["tab",{active:"browse"===d.value}]),onClick:t[0]||(t[0]=e=>E("browse"))},"ÊµèËßà",2),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["tab",{active:"mine"===d.value}]),onClick:t[1]||(t[1]=e=>E("mine"))},"ÊàëÁöÑÂèëÂ∏É",2),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["tab",{active:"upload"===d.value}]),onClick:t[2]||(t[2]=e=>E("upload"))},"‰∏ä‰º†",2)]),"upload"!==d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",_d,[(0,r.createElementVNode)("div",Vd,[(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>N.value=e),class:"input"},t[16]||(t[16]=[(0,r.createStaticVNode)('<option value="" data-v-7a070651>ÂÖ®ÈÉ®Á±ªÂûã</option><option value="settings" data-v-7a070651>ËÆæÁΩÆ</option><option value="prompts" data-v-7a070651>ÊèêÁ§∫ËØç</option><option value="saves" data-v-7a070651>ÂçïÊú∫Â≠òÊ°£</option><option value="start_config" data-v-7a070651>ÂºÄÂ±ÄÈÖçÁΩÆ</option>',5)]),512),[[r.vModelSelect,N.value]]),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>_.value=e),class:"input",placeholder:v.value?"ÊêúÁ¥¢Ê†áÈ¢ò / ËØ¥Êòé":"ÊêúÁ¥¢Ê†áÈ¢ò / ‰ΩúËÄÖ / ËØ¥Êòé"},null,8,Cd),[[r.vModelText,_.value]]),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>m.value=e),class:"input"},[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(g,e=>(0,r.createElementVNode)("option",{key:e,value:e}," ÊØèÈ°µ "+(0,r.toDisplayString)(e)+" ‰∏™ ",9,Ad)),64))],512),[[r.vModelSelect,m.value,void 0,{number:!0}]]),(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:A,disabled:C.value},"Âà∑Êñ∞",8,Dd)]),v.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Td,[t[17]||(t[17]=(0,r.createElementVNode)("div",{class:"manage-title"},"ÊàëÁöÑÂèëÂ∏ÉÁÆ°ÁêÜ",-1)),(0,r.createElementVNode)("div",Bd,"‰ªÖÊòæÁ§∫Ëá™Â∑±ÂèëÂ∏ÉÁöÑÂÜÖÂÆπ ¬∑ ÂÖ± "+(0,r.toDisplayString)(p.value)+" Êù°",1)])):(0,r.createCommentVNode)("v-if",!0),C.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Id,"Âä†ËΩΩ‰∏≠‚Ä¶")):0===V.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Md,t[18]||(t[18]=[(0,r.createElementVNode)("p",null,"ÊöÇÊó†ÂÜÖÂÆπ",-1)]))):((0,r.openBlock)(),(0,r.createElementBlock)("div",zd,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(V.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"item-card"},[(0,r.createElementVNode)("div",Pd,[(0,r.createElementVNode)("div",Rd,(0,r.toDisplayString)(e.title),1),(0,r.createElementVNode)("div",$d,(0,r.toDisplayString)(y[e.type]||e.type),1)]),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("div",Od,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",Ld,[(0,r.createElementVNode)("span",null,"‰ΩúËÄÖÔºö"+(0,r.toDisplayString)(e.author_name),1),e.game_version?((0,r.openBlock)(),(0,r.createElementBlock)("span",Fd,"ÁâàÊú¨Ôºö"+(0,r.toDisplayString)(e.game_version),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("span",null,"‰∏ãËΩΩÔºö"+(0,r.toDisplayString)(e.downloads),1)]),e.tags?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",jd,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.tags,e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"tag"},(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",Ud,[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:t=>(async e=>{M.value.open=!0,M.value.loading=!0,M.value.item=null,M.value.payload=null;try{const t=await async function(e){return T.Em.post(`/api/v1/workshop/items/${e}/download`,{})}(e);M.value.item=t.item,M.value.payload=t.payload}catch{P()}finally{M.value.loading=!1}})(e.id)},"‰∏ãËΩΩ",8,qd),v.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"btn danger",onClick:t=>(async e=>{if("authed"===c.value){if(window.confirm(`Á°ÆÂÆöÂà†Èô§„Äå${e.title}„ÄçÂêóÔºüÂà†Èô§ÂêéÂ∞ÜÊó†Ê≥ïÊÅ¢Â§ç„ÄÇ`))try{await async function(e){return T.Em.delete(`/api/v1/workshop/items/${e}`)}(e.id),X.o.success("Â∑≤Âà†Èô§"),await A()}catch{}}else w()})(e)},"Âà†Èô§",8,Gd)):(0,r.createCommentVNode)("v-if",!0)])]))),128))])),f.value>1?((0,r.openBlock)(),(0,r.createElementBlock)("div",Hd,[(0,r.createElementVNode)("div",Yd,[(0,r.createElementVNode)("span",null,"ÂÖ± "+(0,r.toDisplayString)(p.value)+" Êù°",1),(0,r.createElementVNode)("span",null,"Á¨¨ "+(0,r.toDisplayString)(u.value)+" / "+(0,r.toDisplayString)(f.value)+" È°µ",1)]),(0,r.createElementVNode)("div",Wd,[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:B,disabled:u.value<=1},"‰∏ä‰∏ÄÈ°µ",8,Xd),(0,r.createElementVNode)("button",{class:"btn",onClick:I,disabled:u.value>=f.value},"‰∏ã‰∏ÄÈ°µ",8,Jd)])])):(0,r.createCommentVNode)("v-if",!0)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Kd,["authed"!==c.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Zd,[t[19]||(t[19]=(0,r.createElementVNode)("p",null,"‰∏ä‰º†ÈúÄË¶ÅÂÖàÂÆåÊàêË¥¶Âè∑È™åËØÅÔºàÁî®‰∫éÊ†áËØÜ‰ΩúËÄÖ‰∏éÊùÉÈôêÊéßÂà∂Ôºâ„ÄÇ",-1)),(0,r.createElementVNode)("div",{class:"actions"},[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:w},"ÂéªÈ™åËØÅ"),(0,r.createElementVNode)("button",{class:"btn",onClick:x},"Âà∑Êñ∞")])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Qd,[(0,r.createElementVNode)("div",eu,[t[21]||(t[21]=(0,r.createElementVNode)("label",{class:"label"},"Á±ªÂûã",-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>U.value=e),class:"input"},t[20]||(t[20]=[(0,r.createElementVNode)("option",{value:"settings"},"ËÆæÁΩÆ",-1),(0,r.createElementVNode)("option",{value:"prompts"},"ÊèêÁ§∫ËØç",-1),(0,r.createElementVNode)("option",{value:"saves"},"ÂçïÊú∫Â≠òÊ°£",-1),(0,r.createElementVNode)("option",{value:"start_config"},"ÂºÄÂ±ÄÈÖçÁΩÆ",-1)]),512),[[r.vModelSelect,U.value]])]),(0,r.createElementVNode)("div",tu,[t[22]||(t[22]=(0,r.createElementVNode)("label",{class:"label"},"Ê†áÈ¢ò",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>q.value=e),class:"input",placeholder:"ÁªôËøô‰∏™ÂàÜ‰∫´Ëµ∑‰∏™ÂêçÂ≠ó"},null,512),[[r.vModelText,q.value]])]),(0,r.createElementVNode)("div",nu,[t[23]||(t[23]=(0,r.createElementVNode)("label",{class:"label"},"ËØ¥Êòé",-1)),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>G.value=e),class:"input textarea",placeholder:"ÂèØÈÄâÔºöÂÜôÁÇπËØ¥ÊòéÔºàÊîØÊåÅ 2000 Â≠ó‰ª•ÂÜÖÔºâ"},null,512),[[r.vModelText,G.value]])]),(0,r.createElementVNode)("div",au,[t[24]||(t[24]=(0,r.createElementVNode)("label",{class:"label"},"Ê†áÁ≠æ",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>H.value=e),class:"input",placeholder:"ÂèØÈÄâÔºöÁî®ÈÄóÂè∑ÂàÜÈöîÔºåÂ¶ÇÔºöÊñ∞Êâã,ÁàΩÊñá,ÊÖ¢ÁÉ≠"},null,512),[[r.vModelText,H.value]])]),(0,r.createElementVNode)("div",ru,[t[26]||(t[26]=(0,r.createElementVNode)("label",{class:"label"},"ÂÜÖÂÆπ",-1)),(0,r.createElementVNode)("div",ou,["settings"===U.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"btn btn-secondary",onClick:Z}," ‰ªéÊú¨Âú∞ËØªÂèñËÆæÁΩÆ ")):(0,r.createCommentVNode)("v-if",!0),"prompts"===U.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"btn btn-secondary",onClick:Q}," ‰ªéÊú¨Âú∞ÂØºÂá∫ÊèêÁ§∫ËØç ")):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("label",iu,[t[25]||(t[25]=(0,r.createTextVNode)(" ÈÄâÊã© JSON Êñá‰ª∂ ",-1)),(0,r.createElementVNode)("input",{type:"file",accept:".json,application/json",onChange:K,hidden:""},null,32)]),W.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",su,(0,r.toDisplayString)(W.value),1)):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createElementVNode)("div",lu,[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:k},"ËøîÂõû"),(0,r.createElementVNode)("button",{class:"btn",onClick:ee,disabled:J.value},(0,r.toDisplayString)(J.value?"‰∏ä‰º†‰∏≠‚Ä¶":"‰∏ä‰º†Âà∞Â∑•Âùä"),9,cu)])]))])),"upload"!==d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",du,[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:k},"ËøîÂõû")])):(0,r.createCommentVNode)("v-if",!0)],64)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Nd,[t[15]||(t[15]=(0,r.createElementVNode)("p",null,"Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåÂàõÊÑèÂ∑•Âùä‰∏çÂèØÁî®„ÄÇ",-1)),(0,r.createElementVNode)("div",{class:"actions"},[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:k},"ËøîÂõû")])]))]),(0,r.createCommentVNode)(" ‰∏ãËΩΩ/ÂØºÂÖ•ÂºπÁ™ó "),M.value.open?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,r.withModifiers)(P,["self"])},[(0,r.createElementVNode)("div",uu,[(0,r.createElementVNode)("div",{class:"modal-header"},[t[27]||(t[27]=(0,r.createElementVNode)("h3",null,"‰∏ãËΩΩÂÜÖÂÆπ",-1)),(0,r.createElementVNode)("button",{class:"close-btn",onClick:P},"√ó")]),M.value.loading?((0,r.openBlock)(),(0,r.createElementBlock)("div",mu,"Âä†ËΩΩ‰∏≠‚Ä¶")):((0,r.openBlock)(),(0,r.createElementBlock)("div",pu,[(0,r.createElementVNode)("div",gu,[(0,r.createElementVNode)("div",hu,(0,r.toDisplayString)(M.value.item?.title),1),(0,r.createElementVNode)("div",fu,[M.value.item?((0,r.openBlock)(),(0,r.createElementBlock)("span",vu,"Á±ªÂûãÔºö"+(0,r.toDisplayString)(y[M.value.item.type]||M.value.item.type),1)):(0,r.createCommentVNode)("v-if",!0),M.value.item?.author_name?((0,r.openBlock)(),(0,r.createElementBlock)("span",bu,"‰ΩúËÄÖÔºö"+(0,r.toDisplayString)(M.value.item.author_name),1)):(0,r.createCommentVNode)("v-if",!0),M.value.item?.game_version?((0,r.openBlock)(),(0,r.createElementBlock)("span",yu,"ÁâàÊú¨Ôºö"+(0,r.toDisplayString)(M.value.item.game_version),1)):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createElementVNode)("div",xu,[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:R},"‰∏ãËΩΩ‰∏∫Êñá‰ª∂"),"settings"===M.value.item?.type?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"btn",onClick:$}," ÂØºÂÖ•Âà∞Êú¨Âú∞ËÆæÁΩÆ ")):(0,r.createCommentVNode)("v-if",!0),"prompts"===M.value.item?.type?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"btn",onClick:O}," ÂØºÂÖ•Âà∞Êú¨Âú∞ÊèêÁ§∫ËØç ")):(0,r.createCommentVNode)("v-if",!0),"start_config"===M.value.item?.type?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:2,class:"btn",onClick:L}," Â∫îÁî®Âà∞ÂºÄÂ±ÄÈÖçÁΩÆ ")):(0,r.createCommentVNode)("v-if",!0)]),"saves"===M.value.item?.type?((0,r.openBlock)(),(0,r.createElementBlock)("div",ku,[(0,r.createElementVNode)("div",wu,[t[29]||(t[29]=(0,r.createElementVNode)("label",{class:"label"},"ÂØºÂÖ•Âà∞ÂçïÊú∫ËßíËâ≤",-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>z.value=e),class:"input"},[t[28]||(t[28]=(0,r.createElementVNode)("option",{value:""},"ËØ∑ÈÄâÊã©ËßíËâ≤",-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(F.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e.ËßíËâ≤ID,value:e.ËßíËâ≤ID},(0,r.toDisplayString)(e.name),9,Eu))),128))],512),[[r.vModelSelect,z.value]])]),(0,r.createElementVNode)("button",{class:"btn",disabled:!z.value,onClick:j},"ÂØºÂÖ•Â≠òÊ°£",8,Nu)])):(0,r.createCommentVNode)("v-if",!0)]))])])):(0,r.createCommentVNode)("v-if",!0)]))}});var _u=n(8091),Vu={};Vu.styleTagTransform=k(),Vu.setAttributes=v(),Vu.insert=h().bind(null,"head"),Vu.domAPI=p(),Vu.insertStyleElement=y(),u()(_u.A,Vu),_u.A&&_u.A.locals&&_u.A.locals;const Cu=(0,N.A)(Su,[["__scopeId","data-v-7a070651"]]);var Au=n(1184);const Du=(0,_.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Tu=(0,_.A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),Bu=(0,_.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var Iu=n(2794);const Mu=(0,_.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zu=(0,_.A)("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);var Pu=n(7677);const Ru=(0,_.A)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),$u=(0,_.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Ou=(0,_.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Lu=(0,_.A)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),Fu=(0,_.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ju=(0,_.A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var Uu=n(1412);const qu=(0,_.A)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var Gu=n(8684),Hu=n(8133);const Yu=(0,_.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Wu=(0,_.A)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);var Xu=n(6494);const Ju=new class{listeners=new Map;on(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)}off(e,t){this.listeners.get(e)?.delete(t)}async emit(e,t){const n=Array.from(this.listeners.get(e)||[]);for(const e of n)await e(t)}};var Ku=n(2224);const Zu={Ë°óÂ§¥Á∫ß:1,Ë°óÂ§¥Á∫ßÂàùÊúü:1,Ë°óÂ§¥Á∫ß‰∏≠Êúü:1,Ë°óÂ§¥Á∫ßÂêéÊúü:1,Ë°óÂ§¥Á∫ßÂúÜÊª°:1,Ë°óÂ§¥Á∫ßÊûÅÂ¢É:1,Âå∫ÂüüÁ∫ß:2,Âå∫ÂüüÁ∫ßÂàùÊúü:2,Âå∫ÂüüÁ∫ß‰∏≠Êúü:2,Âå∫ÂüüÁ∫ßÂêéÊúü:2,Âå∫ÂüüÁ∫ßÂúÜÊª°:2,Âå∫ÂüüÁ∫ßÊûÅÂ¢É:2,ÂüéÂüüÁ∫ß:3,ÂüéÂüüÁ∫ßÂàùÊúü:3,ÂüéÂüüÁ∫ß‰∏≠Êúü:3,ÂüéÂüüÁ∫ßÂêéÊúü:3,ÂüéÂüüÁ∫ßÂúÜÊª°:3,ÂüéÂüüÁ∫ßÊûÅÂ¢É:3,Ê†∏ÂøÉÁ∫ß:4,Ê†∏ÂøÉÁ∫ßÂàùÊúü:4,Ê†∏ÂøÉÁ∫ß‰∏≠Êúü:4,Ê†∏ÂøÉÁ∫ßÂêéÊúü:4,Ê†∏ÂøÉÁ∫ßÂúÜÊª°:4,Ê†∏ÂøÉÁ∫ßÊûÅÂ¢É:4,‰∏ªÊùÉÁ∫ß:5,‰∏ªÊùÉÁ∫ßÂàùÊúü:5,‰∏ªÊùÉÁ∫ß‰∏≠Êúü:5,‰∏ªÊùÉÁ∫ßÂêéÊúü:5,‰∏ªÊùÉÁ∫ßÂúÜÊª°:5,‰∏ªÊùÉÁ∫ßÊûÅÂ¢É:5,Ë∂ÖÂüüÁ∫ß:6,Ë∂ÖÂüüÁ∫ßÂàùÊúü:6,Ë∂ÖÂüüÁ∫ß‰∏≠Êúü:6,Ë∂ÖÂüüÁ∫ßÂêéÊúü:6,Ë∂ÖÂüüÁ∫ßÂúÜÊª°:6,Ë∂ÖÂüüÁ∫ßÊûÅÂ¢É:6,ÊòüÂüüÁ∫ß:7,ÊòüÂüüÁ∫ßÂàùÊúü:7,ÊòüÂüüÁ∫ß‰∏≠Êúü:7,ÊòüÂüüÁ∫ßÂêéÊúü:7,ÊòüÂüüÁ∫ßÂúÜÊª°:7,ÊòüÂüüÁ∫ßÊûÅÂ¢É:7,ÊûÅÂüüÁ∫ß:8,ÊûÅÂüüÁ∫ßÂàùÊúü:8,ÊûÅÂüüÁ∫ß‰∏≠Êúü:8,ÊûÅÂüüÁ∫ßÂêéÊúü:8,ÊûÅÂüüÁ∫ßÂúÜÊª°:8,ÊûÅÂüüÁ∫ßÊûÅÂ¢É:8};function Qu(e){return Zu[e]||0}function em(e){return Array.isArray(e)?e.map(e=>{const t=function(e){if(!e)return e;if(e.leadership&&!e.È¢ÜÂØºÂ±Ç&&(e.È¢ÜÂØºÂ±Ç=e.leadership,delete e.leadership),String(e.ÂêçÁß∞||e.name||"").includes("Â§úÂÆ¥")?e.È¢ÜÂØºÂ±Ç?e.È¢ÜÂØºÂ±Ç.Áâπ‰Ωø||(e.È¢ÜÂØºÂ±Ç.Áâπ‰Ωø="ÁÅ∞ÁÉ¨Â•≥Â£´(Â§úÂÆ¥Áâπ‰Ωø)"):e.È¢ÜÂØºÂ±Ç={È¶ñÈ¢Ü:"Â§úÂÆ¥È¶ñÂ∏≠",È¶ñÈ¢ÜÈò∂‰Ωç:e.ÊúÄÂº∫Èò∂‰Ωç||"Ê†∏ÂøÉÁ∫ßÂúÜÊª°",ÊúÄÂº∫Èò∂‰Ωç:e.ÊúÄÂº∫Èò∂‰Ωç||"Ê†∏ÂøÉÁ∫ßÂúÜÊª°",Áâπ‰Ωø:"ÁÅ∞ÁÉ¨Â•≥Â£´(Â§úÂÆ¥Áâπ‰Ωø)"}:e.È¢ÜÂØºÂ±Ç&&("Áâπ‰Ωø"in e.È¢ÜÂØºÂ±Ç&&delete e.È¢ÜÂØºÂ±Ç.Áâπ‰Ωø,"ÂÄôË°•Áâπ‰Ωø"in e.È¢ÜÂØºÂ±Ç&&delete e.È¢ÜÂØºÂ±Ç.ÂÄôË°•Áâπ‰Ωø),e.memberCount&&!e.ÊàêÂëòÊï∞Èáè&&(e.ÊàêÂëòÊï∞Èáè={ÊÄªÊï∞:e.memberCount.total,ÊåâÈò∂‰Ωç:e.memberCount.byRank,ÊåâËÅå‰Ωç:e.memberCount.byPosition},delete e.memberCount),e.ÊàêÂëòÊï∞Èáè){const t=e.ÊàêÂëòÊï∞Èáè;void 0!==t.total&&void 0===t.ÊÄªÊï∞&&(t.ÊÄªÊï∞=t.total),t.byRank&&!t.ÊåâÈò∂‰Ωç&&(t.ÊåâÈò∂‰Ωç=t.byRank),t.byPosition&&!t.ÊåâËÅå‰Ωç&&(t.ÊåâËÅå‰Ωç=t.byPosition)}const t=e.È¢ÜÂØºÂ±Ç?.ÊúÄÂº∫Èò∂‰Ωç||e.ÊúÄÂº∫Èò∂‰Ωç,n=Qu(t);if(console.log(`[ÁªÑÁªáÈ™åËØÅ] ${e.ÂêçÁß∞}: ÊúÄÂº∫Èò∂‰Ωç="${t}" ‚Üí Á≠âÁ∫ß=${n}`),console.log(`[ÁªÑÁªáÈ™åËØÅ] ${e.ÂêçÁß∞}: ÂéüÂßãÈò∂‰ΩçÂàÜÂ∏É=`,e.ÊàêÂëòÊï∞Èáè?.ÊåâÈò∂‰Ωç),e.ÊàêÂëòÊï∞Èáè?.ÊåâÈò∂‰Ωç){const t=e.ÊàêÂëòÊï∞Èáè.ÊåâÈò∂‰Ωç;let n=0,a="";if(Object.keys(t).forEach(e=>{if(t[e]>0){const t=Qu(e);t>n&&(n=t,a=e)}}),n>0&&a){const t=a.includes("ÂúÜÊª°")?a:`${a}ÂúÜÊª°`;if(e.È¢ÜÂØºÂ±Ç){const a=e.È¢ÜÂØºÂ±Ç.ÊúÄÂº∫Èò∂‰Ωç;e.È¢ÜÂØºÂ±Ç.ÊúÄÂº∫Èò∂‰Ωç=t,console.log(`[ÁªÑÁªáÈ™åËØÅ] ${e.ÂêçÁß∞}: Ê†πÊçÆÈò∂‰ΩçÂàÜÂ∏ÉËá™Âä®‰øÆÊ≠£ÊúÄÂº∫Èò∂‰Ωç: "${a}" ‚Üí "${t}"`),Qu(e.È¢ÜÂØºÂ±Ç.È¶ñÈ¢ÜÈò∂‰Ωç||"")<n&&(e.È¢ÜÂØºÂ±Ç.È¶ñÈ¢ÜÈò∂‰Ωç=t,console.log(`[ÁªÑÁªáÈ™åËØÅ] ${e.ÂêçÁß∞}: ÂêåÊó∂Êõ¥Êñ∞È¶ñÈ¢ÜÈò∂‰Ωç‰∏∫: "${t}"`))}}console.log(`[ÁªÑÁªáÈ™åËØÅ] ${e.ÂêçÁß∞}: Èò∂‰ΩçÂàÜÂ∏ÉÂåÖÂê´:`,Object.keys(t).filter(e=>t[e]>0))}if(console.log(`[ÁªÑÁªáÈ™åËØÅ] ${e.ÂêçÁß∞}: È™åËØÅÂêéÈò∂‰ΩçÂàÜÂ∏É=`,e.ÊàêÂëòÊï∞Èáè?.ÊåâÈò∂‰Ωç),e.È¢ÜÂØºÂ±Ç?.È™®Âπ≤Êï∞Èáè&&e.ÊàêÂëòÊï∞Èáè?.ÊåâÈò∂‰Ωç){const t=e.È¢ÜÂØºÂ±Ç.È™®Âπ≤Êï∞Èáè,n=e.ÊàêÂëòÊï∞Èáè.ÊåâÈò∂‰Ωç;let a=0;if(Object.keys(n).forEach(e=>{Qu(e)>=4&&(a+=n[e]||0)}),a>1.5*t){const e=1.2*t/a;Object.keys(n).forEach(t=>{if(Qu(t)>=4){const a=n[t];n[t]=Math.max(1,Math.round(a*e))}})}}return e}(e),n=function(e){const t=[];if(!e)return t.push("ÁªÑÁªáÊï∞ÊçÆ‰∏∫Á©∫"),{isValid:!1,errors:t};const n=e.È¢ÜÂØºÂ±Ç?.ÊúÄÂº∫Èò∂‰Ωç||e.ÊúÄÂº∫Èò∂‰Ωç,a=Qu(n);e.ÊàêÂëòÊï∞Èáè?.ÊåâÈò∂‰Ωç&&Object.keys(e.ÊàêÂëòÊï∞Èáè.ÊåâÈò∂‰Ωç).forEach(e=>{Qu(e)>a&&t.push(`Èò∂‰ΩçÂàÜÂ∏ÉÈîôËØØ: Â≠òÂú®${e}ÊàêÂëòÔºå‰ΩÜÊúÄÂº∫Èò∂‰Ωç‰ªÖ‰∏∫${n}`)});const r=e.È¢ÜÂØºÂ±Ç?.È™®Âπ≤Êï∞Èáè;if(r&&e.ÊàêÂëòÊï∞Èáè?.ÊåâÈò∂‰Ωç){let n=0;Object.keys(e.ÊàêÂëòÊï∞Èáè.ÊåâÈò∂‰Ωç).forEach(t=>{Qu(t)>=4&&(n+=e.ÊàêÂëòÊï∞Èáè.ÊåâÈò∂‰Ωç[t]||0)}),n>2*r&&t.push(`‰∫∫ÂëòÈÖçÁΩÆ‰∏çÂêàÁêÜ: È™®Âπ≤${r}‰ΩçÔºå‰ΩÜÊ†∏ÂøÉÁ∫ß‰ª•‰∏äÊàêÂëò${n}‰∫∫`)}return{isValid:0===t.length,errors:t}}(t);return n.isValid||console.warn(`[ÁªÑÁªáÈ™åËØÅ] ${e.ÂêçÁß∞||"Êú™Áü•ÁªÑÁªá"}Â≠òÂú®ÈóÆÈ¢ò:`,n.errors),t}):e}const tm=(0,_.A)("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),nm=(0,_.A)("minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);function am(e){if(!e)return"Âá°‰∫∫";if("string"==typeof e)return e;const t=e.ÂêçÁß∞||e.name||"Âá°‰∫∫",n=e.Èò∂ÊÆµ||e.stage||"";return"Âá°‰∫∫"===t||"Mortal"===t?"Âá°‰∫∫":n?`${t}¬∑${n}`:t}var rm=n(1040);const om={class:"top-bar"},im={class:"left-section"},sm={class:"game-title"},lm={key:0,class:"character-quick-info"},cm={class:"character-name"},dm={class:"character-realm"},um={class:"center-section"},mm={class:"location-time-info"},pm={class:"location-text"},gm=["title"],hm={class:"spirit-label"},fm={class:"spirit-value"},vm={class:"spirit-bar"},bm={class:"time-value"},ym={class:"right-section"},xm=(0,r.defineComponent)({__name:"TopBar",emits:["open-character-info"],setup(e,{emit:t}){const{t:n}=(0,K.s)(),a=t,o=(0,Au.useGameStateStore)(),i=(0,r.ref)(!1),s=(0,r.computed)(()=>{try{return o.character?.ÂêçÂ≠ó||""}catch(e){return console.error("[TopBar] Error getting characterName:",e),""}}),l=(0,r.computed)(()=>{try{return am(o.attributes?.Èò∂‰Ωç)}catch(e){return console.error("[TopBar] Error getting characterRealm:",e),n("Âá°‰∫∫")}}),c=(0,r.computed)(()=>{try{return o.location?.ÊèèËø∞||n("ÂàùÂßãÂú∞")}catch(e){return console.error("[TopBar] Error getting currentLocation:",e),n("ÂàùÂßãÂú∞")}}),d=(0,r.computed)(()=>{try{return o.location?.‰ø°Âè∑Âº∫Â∫¶||0}catch(e){return 0}}),u=(0,r.computed)(()=>{const e=d.value;return e>=80?"density-very-high":e>=60?"density-high":e>=40?"density-medium":e>=20?"density-low":"density-very-low"}),m=(0,r.computed)(()=>{const e=d.value;return n(e>=80?"‰ø°Âè∑Âº∫Â∫¶È´ò - ËÆ≠ÁªÉÊïàÁéáÊûÅ‰Ω≥":e>=60?"‰ø°Âè∑Âº∫Â∫¶ËâØÂ•Ω - ËÆ≠ÁªÉÊïàÁéáËæÉÈ´ò":e>=40?"‰ø°Âè∑Âº∫Â∫¶‰∏≠Á≠â - ËÆ≠ÁªÉÊïàÁéáÊ≠£Â∏∏":e>=20?"‰ø°Âè∑ÂÅèÂº± - ËÆ≠ÁªÉÊïàÁéáÂèóÈôê":"‰ø°Âè∑ÊûØÁ´≠ - Èöæ‰ª•ËÆ≠ÁªÉ")}),p=(0,r.computed)(()=>{try{const e=o.gameTime;if(e){const t=function(e){return e.ÂàÜÈíü??0}(e),a=t.toString().padStart(2,"0"),r=e.Â∞èÊó∂.toString().padStart(2,"0");return`${n("ÈúìËôπÁ∫™ÂÖÉ")}${e.Âπ¥}${n("Âπ¥")}${e.Êúà}${n("Êúà")}${e.Êó•}${n("Êó•")} ${r}:${a}`}return`${n("ÈúìËôπÁ∫™ÂÖÉ")}${n("ÂÖÉÂπ¥")}1${n("Êúà")}1${n("Êó•")} 00:00`}catch(e){return console.error("[TopBar] Error getting gameTime:",e),`${n("ÈúìËôπÁ∫™ÂÖÉ")}${n("ÂÖÉÂπ¥")}1${n("Êúà")}1${n("Êó•")} 00:00`}}),g=()=>{(0,rm.Kn)()?(0,rm.Eh)().catch(e=>{console.error((0,rm.zp)(e))}):(0,rm.lh)(document.documentElement).catch(e=>{console.error((0,rm.zp)(e))})};return(0,r.onMounted)(()=>{console.log("[TopBar] Component mounted");const e=()=>{i.value=!!(0,rm.Kn)()};document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",om,[(0,r.createElementVNode)("div",im,[(0,r.createElementVNode)("h1",sm,(0,r.toDisplayString)((0,r.unref)(n)("Ë∂ÖÂá°Êñ∞Áîü")),1),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",lm,[(0,r.createElementVNode)("span",cm,(0,r.toDisplayString)(s.value),1),(0,r.createElementVNode)("span",dm,(0,r.toDisplayString)(l.value),1)])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",um,[(0,r.createElementVNode)("div",mm,[(0,r.createElementVNode)("span",pm,(0,r.toDisplayString)(c.value),1),d.value>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)(["spirit-density",u.value]),title:m.value},[t[1]||(t[1]=(0,r.createElementVNode)("span",{class:"spirit-icon-wrapper"},[(0,r.createElementVNode)("span",{class:"spirit-icon"},"‚úß"),(0,r.createElementVNode)("span",{class:"spirit-glow"})],-1)),(0,r.createElementVNode)("span",hm,(0,r.toDisplayString)((0,r.unref)(n)("‰ø°Âè∑Âº∫Â∫¶")),1),(0,r.createElementVNode)("span",fm,(0,r.toDisplayString)(d.value),1),(0,r.createElementVNode)("span",vm,[(0,r.createElementVNode)("span",{class:"spirit-bar-fill",style:(0,r.normalizeStyle)({width:d.value+"%"})},null,4)])],10,gm)):(0,r.createCommentVNode)("v-if",!0),t[2]||(t[2]=(0,r.createElementVNode)("span",{class:"separator"},"|",-1)),(0,r.createElementVNode)("span",bm,(0,r.toDisplayString)(p.value),1)])]),(0,r.createElementVNode)("div",ym,[(0,r.createElementVNode)("button",{class:"info-btn",onClick:t[0]||(t[0]=e=>a("open-character-info"))},(0,r.toDisplayString)((0,r.unref)(n)("Êü•ÁúãËßíËâ≤‰ø°ÊÅØ")),1),(0,r.createElementVNode)("button",{onClick:g,class:"fullscreen-btn"},[i.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(nm),{key:1,size:16})):((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(tm),{key:0,size:16}))])])]))}});var km=n(5666),wm={};wm.styleTagTransform=k(),wm.setAttributes=v(),wm.insert=h().bind(null,"head"),wm.domAPI=p(),wm.insertStyleElement=y(),u()(km.A,wm),km.A&&km.A.locals&&km.A.locals;const Em=(0,N.A)(xm,[["__scopeId","data-v-72d6a405"]]),Nm=(0,_.A)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Sm=(0,_.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var _m=n(4449);const Vm=(0,_.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Cm={class:"menu-top"},Am={class:"menu-brand"},Dm={class:"brand-text"},Tm={class:"brand-title"},Bm={class:"brand-sub"},Im={class:"menu-meta"},Mm={class:"version-chip"},zm={class:"menu-body"},Pm={class:"menu-section"},Rm={class:"section-header"},$m={class:"tile-grid"},Om={class:"menu-section"},Lm={class:"section-header"},Fm={class:"tile-grid"},jm={class:"menu-section"},Um={class:"section-header"},qm={class:"tile-grid"},Gm={class:"menu-section"},Hm={class:"section-header"},Ym={class:"tile-grid"},Wm={class:"menu-section"},Xm={class:"tile-grid system-grid"},Jm=["disabled"],Km={class:"menu-footer"},Zm=(0,r.defineComponent)({__name:"LeftSidebar",props:{fullscreen:{type:Boolean}},setup(e){const t=e,o=(0,a.useRouter)(),i=(0,md.useCharacterStore)(),s=(0,A.useUIStore)(),{t:l}=(0,K.s)(),c=(0,r.ref)(!1),d=(0,r.ref)(null),u=(0,r.computed)(()=>c.value?d.value??"ÂêåÊ≠•‰∏≠":""),m=(0,r.ref)("");let p=null;const g=(0,r.ref)(!1),h=()=>{const e=new Date,t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),r=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0"),i=e.getSeconds().toString().padStart(2,"0");m.value=`${t}-${n}-${a} ${r}:${o}:${i}`};(0,r.onMounted)(async()=>{if(h(),p=window.setInterval(h,1e3),(0,D.isBackendConfigured)()){const e=await(0,D.d9)();e&&(c.value=!0,d.value=e)}}),(0,r.onUnmounted)(()=>{p&&clearInterval(p)});const f=(0,r.computed)(()=>i.activeCharacterProfile),v=(0,r.computed)(()=>"ËÅîÊú∫"===f.value?.Ê®°Âºè),b=(0,r.computed)(()=>"true"===localStorage.getItem("is_admin")),y=()=>{t.fullscreen&&Ju.emit("close-left-menu")},x=async()=>{o.push("/game/save"),y()},k=()=>{o.push("/game/inventory"),y()},w=()=>{o.push("/game/character-details"),y()},E=()=>{o.push("/game/events"),y()},N=()=>{o.push("/game/sect"),y()},S=()=>{o.push("/game/relationships"),y()},_=()=>{o.push("/game/techniques"),y()},C=()=>{o.push("/game/thousand-dao"),y()},T=()=>{o.push("/game/memory"),y()},B=()=>{o.push("/game/world-map"),y()},I=()=>{o.push("/game/prompts"),y()},M=()=>{o.push("/game/settings"),y()},z=()=>{if(!localStorage.getItem("access_token"))return X.o.info(l("ËØ∑ÂÖàÁôªÂΩï")),o.push("/login"),void y();o.push("/game/api-management"),y()},P=()=>{o.push("/game/game-variables"),y()},R=()=>(0,D.isBackendConfigured)()?b.value?(window.location.href="http://35.212.207.57:12345/admin",void y()):(X.o.error(l("ÈúÄË¶ÅÁÆ°ÁêÜÂëòÊùÉÈôêÊâçËÉΩËÆøÈóÆÂêéÁ´ØÁÆ°ÁêÜ")),void y()):(X.o.info(l("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåÂêéÁ´ØÁÆ°ÁêÜ‰∏çÂèØÁî®")),void y()),$=()=>{y(),s.showRetryDialog({title:l("ËøîÂõû"),message:l("ÊÇ®ÊÉ≥Â¶Ç‰ΩïÈÄÄÂá∫ÂΩìÂâçÊ∏∏ÊàèÔºü"),confirmText:l("‰øùÂ≠òÂπ∂ÈÄÄÂá∫"),cancelText:l("ÂèñÊ∂à"),neutralText:l("‰∏ç‰øùÂ≠òÁõ¥Êé•ÈÄÄÂá∫"),onConfirm:async()=>{console.log("[ËøîÂõû] Áî®Êà∑ÈÄâÊã©‰øùÂ≠òÂπ∂ÈÄÄÂá∫...");try{const{useGameStateStore:e}=await Promise.resolve().then(n.bind(n,1184)),t=e();await t.saveBeforeExit(),X.o.success(l("Ê∏∏ÊàèÂ∑≤‰øùÂ≠ò"))}catch(e){console.error("[ËøîÂõû] ‰øùÂ≠òÊ∏∏ÊàèÂ§±Ë¥•:",e),X.o.error(l("Ê∏∏Êàè‰øùÂ≠òÂ§±Ë¥•Ôºå‰ΩÜ‰ªç‰ºöÁªßÁª≠ÈÄÄÂá∫„ÄÇ"))}await O()},onNeutral:async()=>{console.log("[ËøîÂõû] Áî®Êà∑ÈÄâÊã©‰∏ç‰øùÂ≠òÁõ¥Êé•ÈÄÄÂá∫..."),X.o.info(l("Ê∏∏ÊàèËøõÂ∫¶Êú™‰øùÂ≠ò")),await O()},onCancel:()=>{console.log("[ËøîÂõû] Áî®Êà∑ÂèñÊ∂àÊìç‰Ωú")}})},O=async()=>{console.log("[ËøîÂõû] ÂáÜÂ§áËøîÂõû‰∏ªËèúÂçï"),i.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£=null,await i.commitMetadataToStorage(),console.log("[ËøîÂõû] Â∑≤ÈáçÁΩÆÊøÄÊ¥ªÂ≠òÊ°£Áä∂ÊÄÅ"),s.stopLoading(),await o.push("/"),console.log("[ËøîÂõû] Â∑≤Ë∑≥ËΩ¨Ëá≥‰∏ªËèúÂçï")};return(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["left-sidebar",{fullscreen:t.fullscreen}])},[(0,r.createElementVNode)("div",Cm,[(0,r.createElementVNode)("div",Am,[(0,r.createVNode)((0,r.unref)(Nm),{size:20,class:"brand-icon"}),(0,r.createElementVNode)("div",Dm,[(0,r.createElementVNode)("span",Tm,(0,r.toDisplayString)((0,r.unref)(l)("Ê∏∏ÊàèËèúÂçï")),1),(0,r.createElementVNode)("span",Bm,(0,r.toDisplayString)(m.value),1)])]),(0,r.createElementVNode)("div",Im,[(0,r.createElementVNode)("span",Mm,"V"+(0,r.toDisplayString)(u.value),1)])]),(0,r.createElementVNode)("div",zm,[(0,r.createElementVNode)("div",Pm,[(0,r.createElementVNode)("div",Rm,(0,r.toDisplayString)((0,r.unref)(l)("ËßíËâ≤‰∏≠Êû¢")),1),(0,r.createElementVNode)("div",$m,[(0,r.createElementVNode)("button",{class:"menu-tile",onClick:w},[(0,r.createVNode)((0,r.unref)(V),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("‰∫∫Áâ©Â±ûÊÄß")),1)]),(0,r.createElementVNode)("button",{class:"menu-tile",onClick:k},[(0,r.createVNode)((0,r.unref)(Du),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("ËÉåÂåÖÁâ©ÂìÅ")),1)])])]),(0,r.createElementVNode)("div",Om,[(0,r.createElementVNode)("div",Lm,(0,r.toDisplayString)((0,r.unref)(l)("ËÆ≠ÁªÉÊ®°Âùó")),1),(0,r.createElementVNode)("div",Fm,[(0,r.createElementVNode)("button",{class:"menu-tile",onClick:_},[(0,r.createVNode)((0,r.unref)(Iu.A),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("Ê®°ÂùóÊäÄËÉΩ")),1)]),(0,r.createElementVNode)("button",{class:"menu-tile",onClick:C},[(0,r.createVNode)((0,r.unref)(Mu),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("ÊµÅÊ¥æËß£Êûê")),1)])])]),(0,r.createElementVNode)("div",jm,[(0,r.createElementVNode)("div",Um,(0,r.toDisplayString)((0,r.unref)(l)("‰∫ã‰ª∂Êé¢Á¥¢")),1),(0,r.createElementVNode)("div",qm,[(0,r.createElementVNode)("button",{class:"menu-tile",onClick:E},[(0,r.createVNode)((0,r.unref)($u),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("‰∏ñÁïå‰∫ã‰ª∂")),1)]),(0,r.createElementVNode)("button",{class:"menu-tile",onClick:B},[(0,r.createVNode)((0,r.unref)(Ru),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("‰∏ñÁïåÂú∞Âõæ")),1)])])]),(0,r.createElementVNode)("div",Gm,[(0,r.createElementVNode)("div",Hm,(0,r.toDisplayString)((0,r.unref)(l)("Á§æ‰∫§ÂäøÂäõ")),1),(0,r.createElementVNode)("div",Ym,[(0,r.createElementVNode)("button",{class:"menu-tile",onClick:S},[(0,r.createVNode)((0,r.unref)(Bu),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("‰∫∫Áâ©ÂÖ≥Á≥ª")),1)]),(0,r.createElementVNode)("button",{class:"menu-tile",onClick:N},[(0,r.createVNode)((0,r.unref)(Ou),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("ÁªÑÁªá")),1)]),(0,r.createElementVNode)("button",{class:"menu-tile",onClick:T},[(0,r.createVNode)((0,r.unref)(Tu),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("ËÆ∞ÂøÜ")),1)])])]),(0,r.createElementVNode)("div",Wm,[(0,r.createElementVNode)("button",{class:"system-toggle",onClick:n[0]||(n[0]=e=>g.value=!g.value)},[(0,r.createVNode)((0,r.unref)(Wn.A),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("Á≥ªÁªüËÆæÁΩÆ")),1),(0,r.createVNode)((0,r.unref)(Sm),{size:14,class:(0,r.normalizeClass)(["toggle-arrow",{expanded:g.value}])},null,8,["class"])]),(0,r.withDirectives)((0,r.createElementVNode)("div",Xm,[(0,r.createElementVNode)("button",{class:"menu-tile",onClick:x,disabled:!f.value},[(0,r.createVNode)((0,r.unref)(Pu.A),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("‰øùÂ≠òÊ∏∏Êàè")),1)],8,Jm),v.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"menu-tile",onClick:P},[(0,r.createVNode)((0,r.unref)(Fu),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("Ê∏∏ÊàèÂèòÈáè")),1)])),(0,r.createElementVNode)("button",{class:"menu-tile",onClick:I},[(0,r.createVNode)((0,r.unref)(ju),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("ÊèêÁ§∫ËØçÁÆ°ÁêÜ")),1)]),(0,r.createElementVNode)("button",{class:"menu-tile",onClick:z},[(0,r.createVNode)((0,r.unref)(Uu.A),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("APIÁÆ°ÁêÜ")),1)]),(0,r.createElementVNode)("button",{class:"menu-tile",onClick:M},[(0,r.createVNode)((0,r.unref)(Wn.A),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("Á≥ªÁªüËÆæÁΩÆ")),1)]),b.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"menu-tile admin-tile",onClick:R},[(0,r.createVNode)((0,r.unref)(_m.A),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("ÁÆ°ÁêÜÂëòÂêéÂè∞")),1)])):(0,r.createCommentVNode)("v-if",!0)],512),[[r.vShow,g.value]])])]),(0,r.createElementVNode)("div",Km,[(0,r.createElementVNode)("button",{class:"exit-strip",onClick:$},[(0,r.createVNode)((0,r.unref)(Vm),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(l)("ÈÄÄÂá∫ÂΩìÂâçÊ∏∏Êàè")),1)])])],2))}});var Qm=n(199),ep={};ep.styleTagTransform=k(),ep.setAttributes=v(),ep.insert=h().bind(null,"head"),ep.domAPI=p(),ep.insertStyleElement=y(),u()(Qm.A,ep),Qm.A&&Qm.A.locals&&Qm.A.locals;const tp=(0,N.A)(Zm,[["__scopeId","data-v-4491be5a"]]);var np=n(8275);const ap={class:"status-detail-card"},rp={class:"type-icon"},op={class:"type-text"},ip={class:"card-body"},sp={class:"details-grid"},lp={key:0,class:"detail-item"},cp={class:"item-value source"},dp={key:1,class:"detail-item"},up={class:"item-value strength"},mp={class:"strength-value"},pp={class:"strength-bar"},gp={key:2,class:"detail-item"},hp={class:"item-value duration"},fp={key:3,class:"detail-item"},vp={class:"item-value time"},bp=(0,r.defineComponent)({__name:"StatusDetailCard",props:{effect:{}},setup(e){const t=e,n=(0,r.computed)(()=>"buff"===String(t.effect.Á±ªÂûã).toLowerCase()),a=(0,r.computed)(()=>{const e=t.effect.Âº∫Â∫¶||0;return e>=80?"ÊûÅÂº∫":e>=60?"Âº∫":e>=40?"‰∏≠Á≠â":e>=20?"‰∏ÄËà¨":"ËΩªÂæÆ"}),o=(0,r.computed)(()=>{const e=t.effect.Âº∫Â∫¶||0;return e>=80?"#ef4444":e>=60?"#f59e0b":e>=40?"#3b82f6":e>=20?"#10b981":"#6b7280"}),i=(0,r.computed)(()=>{const e=t.effect.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü;if(null==e)return"";if(99999===e)return"Ê∞∏‰πÖ";if(e>=1440)return`${Math.floor(e/1440)}Â§©`;if(e>=60){const t=Math.floor(e/60),n=e%60;return n>0?`${t}Êó∂${n}ÂàÜ`:`${t}Êó∂`}return`${e}ÂàÜÈíü`});return(e,t)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",ap,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["card-header",n.value?"buff":"debuff"])},[(0,r.createElementVNode)("span",rp,(0,r.toDisplayString)(n.value?"+":"-"),1),(0,r.createElementVNode)("span",op,(0,r.toDisplayString)(n.value?"Â¢ûÁõäÁä∂ÊÄÅ":"Ë¥üÈù¢Áä∂ÊÄÅ"),1)],2),(0,r.createElementVNode)("div",ip,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["description",n.value?"buff-border":"debuff-border"])},(0,r.toDisplayString)(e.effect.Áä∂ÊÄÅÊèèËø∞||`${e.effect.Áä∂ÊÄÅÂêçÁß∞}Áä∂ÊÄÅÁîüÊïà‰∏≠`),3),(0,r.createElementVNode)("div",sp,[e.effect.Êù•Ê∫ê?((0,r.openBlock)(),(0,r.createElementBlock)("div",lp,[t[0]||(t[0]=(0,r.createElementVNode)("div",{class:"item-label"},"Êù•Ê∫ê",-1)),(0,r.createElementVNode)("div",cp,(0,r.toDisplayString)(e.effect.Êù•Ê∫ê),1)])):(0,r.createCommentVNode)("v-if",!0),e.effect.Âº∫Â∫¶?((0,r.openBlock)(),(0,r.createElementBlock)("div",dp,[t[1]||(t[1]=(0,r.createElementVNode)("div",{class:"item-label"},"ÊïàÊûúÂº∫Â∫¶",-1)),(0,r.createElementVNode)("div",up,[(0,r.createElementVNode)("span",{class:"strength-text",style:(0,r.normalizeStyle)({color:o.value})},(0,r.toDisplayString)(a.value),5),(0,r.createElementVNode)("span",mp,"("+(0,r.toDisplayString)(e.effect.Âº∫Â∫¶)+"/100)",1)]),(0,r.createElementVNode)("div",pp,[(0,r.createElementVNode)("div",{class:"bar-fill",style:(0,r.normalizeStyle)({width:`${Math.min(e.effect.Âº∫Â∫¶,100)}%`,backgroundColor:o.value})},null,4)])])):(0,r.createCommentVNode)("v-if",!0),i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",gp,[t[2]||(t[2]=(0,r.createElementVNode)("div",{class:"item-label"},"ÊåÅÁª≠Êó∂Èó¥",-1)),(0,r.createElementVNode)("div",hp,(0,r.toDisplayString)(i.value),1)])):(0,r.createCommentVNode)("v-if",!0),e.effect.ÁîüÊàêÊó∂Èó¥?((0,r.openBlock)(),(0,r.createElementBlock)("div",fp,[t[3]||(t[3]=(0,r.createElementVNode)("div",{class:"item-label"},"ÁîüÊàêÊó∂Èó¥",-1)),(0,r.createElementVNode)("div",vp,(0,r.toDisplayString)((s=e.effect.ÁîüÊàêÊó∂Èó¥,s?`${s.Âπ¥}Âπ¥${s.Êúà}Êúà${s.Êó•}Êó• ${String(s.Â∞èÊó∂).padStart(2,"0")}:${String(s.ÂàÜÈíü).padStart(2,"0")}`:"")),1)])):(0,r.createCommentVNode)("v-if",!0)])])]);var s}}});var yp=n(7807),xp={};xp.styleTagTransform=k(),xp.setAttributes=v(),xp.insert=h().bind(null,"head"),xp.domAPI=p(),xp.insertStyleElement=y(),u()(yp.A,xp),yp.A&&yp.A.locals&&yp.A.locals;const kp=(0,N.A)(bp,[["__scopeId","data-v-627cf7f9"]]);var wp=n(6939);const Ep={key:0,class:"profile-header"},Np={class:"profile-id"},Sp={class:"profile-name"},_p={class:"profile-realm"},Vp={class:"profile-meta"},Cp={class:"meta-item"},Ap={class:"meta-item"},Dp={key:1,class:"info-grid"},Tp={class:"info-card"},Bp={class:"card-title"},Ip={class:"stat-grid"},Mp={class:"stat-item"},zp={class:"stat-label"},Pp={class:"stat-value"},Rp={class:"stat-bar"},$p={class:"stat-item"},Op={class:"stat-label"},Lp={class:"stat-value"},Fp={class:"stat-bar"},jp={class:"stat-item"},Up={class:"stat-label"},qp={class:"stat-value"},Gp={class:"stat-bar"},Hp={class:"stat-item"},Yp={class:"stat-label"},Wp={class:"stat-value"},Xp={class:"stat-bar"},Jp={class:"info-card"},Kp={class:"card-title"},Zp={class:"realm-block"},Qp={class:"realm-name"},eg={key:0,class:"realm-desc"},tg={key:1,class:"realm-hint"},ng={key:2,class:"realm-progress"},ag={class:"stat-bar"},rg={class:"info-card"},og={class:"card-title"},ig={class:"chip-grid"},sg=["onClick"],lg={key:0,class:"empty-text"},cg={class:"info-card"},dg={class:"card-title"},ug={key:0,class:"empty-text"},mg={key:1,class:"status-grid"},pg=["onClick"],gg={class:"status-name"},hg={key:0,class:"status-desc"},fg={key:1,class:"status-meta"},vg={key:2,class:"status-meta"},bg={key:2,class:"no-character"},yg={class:"no-char-text"},xg=(0,r.defineComponent)({__name:"RightSidebar",props:{fullscreen:{type:Boolean}},setup(e){const{t}=(0,K.s)(),n=e,a=(0,Au.useGameStateStore)(),o=(0,A.useUIStore)(),i=(0,r.computed)(()=>a.isGameLoaded&&!!a.character),s=(0,r.computed)(()=>a.character),l=(0,r.computed)(()=>a.attributes),c=(0,r.computed)(()=>(a.effects||[]).filter(e=>null!=e&&"object"==typeof e&&"Áä∂ÊÄÅÂêçÁß∞"in e)),d=(0,r.computed)(()=>{const e=s.value?.Âá∫ÁîüÊó•Êúü,t=a.gameTime;return e&&t?(0,wp.R5)(e,t):a.attributes?.ÂØøÂëΩ?.ÂΩìÂâç||0}),u=e=>{const t=l.value,n=t?.[e];return{current:Number(n&&"object"==typeof n?n.ÂΩìÂâç??n.current??n.value??n.ÂΩìÂâçÂÄº??n.Êï∞ÂÄº:n)||0,max:Number(n&&"object"==typeof n?n.‰∏äÈôê??n.max??n.ÊúÄÂ§ß??n.ÊúÄÂ§ßÂÄº??n.‰∏äÈôêÂÄº:t?.[`${e}‰∏äÈôê`])||0}},m=(0,r.computed)(()=>({ÁîüÂëΩÂÄº:u("ÁîüÂëΩÂÄº"),ÁîµÈáè:u("ÁîµÈáè"),Â∏¶ÂÆΩ:u("Â∏¶ÂÆΩ")})),p=(0,r.computed)(()=>{const e=l.value,t=e?.ÂØøÂëΩ;return Number(t&&"object"==typeof t?t.‰∏äÈôê??t.max??t.ÊúÄÂ§ß??t.ÊúÄÂ§ßÂÄº??t.‰∏äÈôêÂÄº:e?.ÂØøÂëΩ‰∏äÈôê)||0}),g=e=>{if(!e||"Êú™ÊåáÂÆö"===e)return"";if("Ê∞∏‰πÖ"===e)return"Ê∞∏‰πÖ";if(/^\d+$/.test(e)){const t=parseInt(e);if(t>=60){const e=Math.floor(t/60),n=t%60;return n>0?`${e}Êó∂${n}ÂàÜ`:`${e}Êó∂`}return`${t}ÂàÜÈíü`}return e},h=(0,r.computed)(()=>{if(!a.attributes?.Èò∂‰Ωç)return 0;const e=a.attributes.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶,t=a.attributes.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ;return e&&t?Math.round(e/t*100):0}),f=()=>{const e=h.value;return e>=100?"realm-breakthrough":e>=90?"realm-sprint":""},v=e=>{const t=u(e);return t.max?Math.round(t.current/t.max*100):0},b=e=>{const t=l.value?.Èò∂‰Ωç?.ÂΩìÂâçËøõÂ∫¶,n=l.value?.Èò∂‰Ωç?.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ,a=l.value?.Èò∂‰Ωç?.Èò∂ÊÆµ;return am({name:e,Èò∂ÊÆµ:a,progress:t,maxProgress:n})},y=()=>{const e=l.value?.Â£∞Êúõ;if(null==e)return"Á±çÁ±çÊó†Âêç";const t=Number(e);return t<0?t<=-5e3?`ÊÅ∂ÂêçÊò≠ÂΩ∞ (${t})`:t<=-1e3?`Ëá≠ÂêçËøúÊâ¨ (${t})`:t<=-500?`Â£∞ÂêçÁãºËóâ (${t})`:t<=-100?`ÊÅ∂ÂêçÂú®Â§ñ (${t})`:`Â∞èÊúâÊÅ∂Âêç (${t})`:t>=1e4?`‰º†ËØ¥‰∫∫Áâ© (${t})`:t>=5e3?`ÂêçÊª°Â§©‰∏ã (${t})`:t>=3e3?`Â®ÅÈúáÂõõÊñπ (${t})`:t>=1e3?`ÂêçÂä®‰∏ÄÊñπ (${t})`:t>=500?`Â£∞ÂêçËøúÊí≠ (${t})`:t>=100?`Â∞èÊúâÂêçÊ∞î (${t})`:"Á±çÁ±çÊó†Âêç"};return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["right-sidebar",{fullscreen:n.fullscreen}])},[i.value&&s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ep,[(0,r.createElementVNode)("div",Np,[(0,r.createElementVNode)("span",Sp,(0,r.toDisplayString)(s.value?.ÂêçÂ≠ó||(0,r.unref)(t)("Êó†ÂêçËÄÖ")),1),(0,r.createElementVNode)("span",_p,(0,r.toDisplayString)(b(l.value?.Èò∂‰Ωç?.ÂêçÁß∞)),1)]),(0,r.createElementVNode)("div",Vp,[(0,r.createElementVNode)("span",Cp,(0,r.toDisplayString)((0,r.unref)(t)("ÂØøÂëΩ"))+"Ôºö"+(0,r.toDisplayString)(d.value),1),(0,r.createElementVNode)("span",Ap,(0,r.toDisplayString)((0,r.unref)(t)("Â£∞Êúõ"))+"Ôºö"+(0,r.toDisplayString)(y()),1)])])):(0,r.createCommentVNode)("v-if",!0),i.value&&s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Dp,[(0,r.createElementVNode)("div",Tp,[(0,r.createElementVNode)("div",Bp,(0,r.toDisplayString)((0,r.unref)(t)("ÁîüÂëΩ‰ΩìÂæÅ")),1),(0,r.createElementVNode)("div",Ip,[(0,r.createElementVNode)("div",Mp,[(0,r.createElementVNode)("span",zp,(0,r.toDisplayString)((0,r.unref)(t)("ÁîüÂëΩÂÄº")),1),(0,r.createElementVNode)("span",Pp,(0,r.toDisplayString)(m.value.ÁîüÂëΩÂÄº.current)+" / "+(0,r.toDisplayString)(m.value.ÁîüÂëΩÂÄº.max),1),(0,r.createElementVNode)("div",Rp,[(0,r.createElementVNode)("span",{class:"stat-fill health",style:(0,r.normalizeStyle)({width:v("ÁîüÂëΩÂÄº")+"%"})},null,4)])]),(0,r.createElementVNode)("div",$p,[(0,r.createElementVNode)("span",Op,(0,r.toDisplayString)((0,r.unref)(t)("ÁîµÈáè")),1),(0,r.createElementVNode)("span",Lp,(0,r.toDisplayString)(m.value.ÁîµÈáè.current)+" / "+(0,r.toDisplayString)(m.value.ÁîµÈáè.max),1),(0,r.createElementVNode)("div",Fp,[(0,r.createElementVNode)("span",{class:"stat-fill mana",style:(0,r.normalizeStyle)({width:v("ÁîµÈáè")+"%"})},null,4)])]),(0,r.createElementVNode)("div",jp,[(0,r.createElementVNode)("span",Up,(0,r.toDisplayString)((0,r.unref)(t)("Â∏¶ÂÆΩ")),1),(0,r.createElementVNode)("span",qp,(0,r.toDisplayString)(m.value.Â∏¶ÂÆΩ.current)+" / "+(0,r.toDisplayString)(m.value.Â∏¶ÂÆΩ.max),1),(0,r.createElementVNode)("div",Gp,[(0,r.createElementVNode)("span",{class:"stat-fill spirit",style:(0,r.normalizeStyle)({width:v("Â∏¶ÂÆΩ")+"%"})},null,4)])]),(0,r.createElementVNode)("div",Hp,[(0,r.createElementVNode)("span",Yp,(0,r.toDisplayString)((0,r.unref)(t)("ÂØøÂëΩ")),1),(0,r.createElementVNode)("span",Wp,(0,r.toDisplayString)(d.value)+" / "+(0,r.toDisplayString)(p.value),1),(0,r.createElementVNode)("div",Xp,[(0,r.createElementVNode)("span",{class:"stat-fill lifespan",style:(0,r.normalizeStyle)({width:(p.value?Math.round(d.value/p.value*100):0)+"%"})},null,4)])])])]),(0,r.createElementVNode)("div",Jp,[(0,r.createElementVNode)("div",Kp,(0,r.toDisplayString)((0,r.unref)(t)("Á≠âÁ∫ßËøõÂ∫¶")),1),(0,r.createElementVNode)("div",Zp,[(0,r.createElementVNode)("span",Qp,(0,r.toDisplayString)(b(l.value?.Èò∂‰Ωç?.ÂêçÁß∞)),1),l.value?.Èò∂‰Ωç?.ÊôãÂçáÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("span",eg,(0,r.toDisplayString)(l.value?.Èò∂‰Ωç?.ÊôãÂçáÊèèËø∞),1)):(0,r.createCommentVNode)("v-if",!0),"Ë°óÂ§¥Êñ∞‰∫∫"===l.value?.Èò∂‰Ωç?.ÂêçÁß∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",tg,(0,r.toDisplayString)((0,r.unref)(t)("Á≠âÂæÖ‰ªªÂä°ÔºåÂÆåÊàêÈ¶ñÊ¨°ÂçáÁ∫ß")),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",ng,[(0,r.createElementVNode)("div",ag,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["stat-fill cultivation",f()]),style:(0,r.normalizeStyle)({width:h.value+"%"})},null,6)]),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["realm-percent",f()])},(0,r.toDisplayString)(h.value)+"%",3)]))])]),(0,r.createElementVNode)("div",rg,[(0,r.createElementVNode)("div",og,(0,r.toDisplayString)((0,r.unref)(t)("Â§©ËµãÊ®°Âùó")),1),(0,r.createElementVNode)("div",ig,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.value.Â§©Ëµã,e=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:"string"==typeof e?e:e.name,class:"chip",onClick:t=>(e=>{const t=s.value,n=t?.Ê®°Âùó?.find(t=>t.name===e),a=le.qS.find(t=>t.name===e),r=(n?{description:n.description||"Ëá™ÂÆö‰πâÊ®°Âùó"}:a?{description:a.description||""}:{description:`Ê®°Âùó„Ää${e}„ÄãÁöÑËØ¶ÁªÜÊèèËø∞ÊöÇÊú™ÂºÄÊîæÔºåËØ∑ÊúüÂæÖÂêéÁª≠Êõ¥Êñ∞„ÄÇ`}).description;o.showDetailModal({title:e,content:r})})("string"==typeof e?e:e.name)},(0,r.toDisplayString)("string"==typeof e?e:e.name),9,sg))),128)),s.value.Â§©Ëµã&&0!==s.value.Â§©Ëµã.length?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",lg,(0,r.toDisplayString)((0,r.unref)(t)("ÊöÇÊó†Â§©ËµãÊ®°Âùó")),1))])]),(0,r.createElementVNode)("div",cg,[(0,r.createElementVNode)("div",dg,(0,r.toDisplayString)((0,r.unref)(t)("Áä∂ÊÄÅÊïàÊûú")),1),0===c.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",ug,(0,r.toDisplayString)((0,r.unref)(t)("Ê∏ÖÂáÄÊó†‰∏∫")),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",mg,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(c.value,(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.Áä∂ÊÄÅÂêçÁß∞||`effect-${n}`,class:(0,r.normalizeClass)(["status-card",["buff"===String(e.Á±ªÂûã||"").toLowerCase()?"buff":"debuff"]]),onClick:t=>(e=>{e&&e.Áä∂ÊÄÅÂêçÁß∞?o.showDetailModal({title:e.Áä∂ÊÄÅÂêçÁß∞,component:kp,props:{effect:e}}):console.warn("[RightSidebar] Áä∂ÊÄÅÊïàÊûúÊï∞ÊçÆÂºÇÂ∏∏ÔºåÊó†Ê≥ïÊòæÁ§∫ËØ¶ÊÉÖ",e)})(e)},[(0,r.createElementVNode)("span",gg,(0,r.toDisplayString)(e.Áä∂ÊÄÅÂêçÁß∞||"Êú™Áü•Áä∂ÊÄÅ"),1),e.Áä∂ÊÄÅÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("span",hg,(0,r.toDisplayString)(e.Áä∂ÊÄÅÊèèËø∞),1)):(0,r.createCommentVNode)("v-if",!0),e.Âº∫Â∫¶?((0,r.openBlock)(),(0,r.createElementBlock)("span",fg,(0,r.toDisplayString)((0,r.unref)(t)("Âº∫Â∫¶"))+" "+(0,r.toDisplayString)(e.Âº∫Â∫¶),1)):(0,r.createCommentVNode)("v-if",!0),g(e.Êó∂Èó¥)?((0,r.openBlock)(),(0,r.createElementBlock)("span",vg,(0,r.toDisplayString)(g(e.Êó∂Èó¥)),1)):(0,r.createCommentVNode)("v-if",!0)],10,pg))),128))]))])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",bg,[(0,r.createElementVNode)("div",yg,(0,r.toDisplayString)((0,r.unref)(t)("ËØ∑ÈÄâÊã©ËßíËâ≤ÂºÄÂêØÈúìËôπÊóÖÁ®ã")),1)])),(0,r.createVNode)(np.A)],2))}});var kg=n(5052),wg={};wg.styleTagTransform=k(),wg.setAttributes=v(),wg.insert=h().bind(null,"head"),wg.domAPI=p(),wg.insertStyleElement=y(),u()(kg.A,wg),kg.A&&kg.A.locals&&kg.A.locals;const Eg=(0,N.A)(xg,[["__scopeId","data-v-7211c3d8"]]),Ng={class:"hexagon-chart-container"},Sg=["width","height","viewBox"],_g=["transform"],Vg=["points"],Cg=["x2","y2"],Ag=["points"],Dg=["cx","cy"],Tg=["x","y","text-anchor","dominant-baseline"],Bg=["x","y","text-anchor","dominant-baseline"],Ig=(0,r.defineComponent)({__name:"HexagonChart",props:{stats:{},size:{default:160},maxValue:{default:10}},setup(e){const{t}=(0,K.s)(),n=e,a=(0,r.computed)(()=>n.size/2),o=(0,r.computed)(()=>n.size/2*.7),i=["root_bone","spirituality","comprehension","fortune","charm","temperament"],s={root_bone:t("‰ΩìË¥®"),spirituality:t("ËÉΩÊ∫ê"),comprehension:t("ÁÆóÊ≥ï"),fortune:t("ËµÑÊ∫êÊÑüÁü•"),charm:t("È≠ÖÂäõ"),temperament:t("ÂøÉÊô∫")},l=(e=1)=>{const t=[];for(let n=0;n<6;n++){const a=Math.PI/2+Math.PI/3*n,r=Math.cos(a)*o.value*e,i=-Math.sin(a)*o.value*e;t.push(`${r.toFixed(2)},${i.toFixed(2)}`)}return t.join(" ")},c=(0,r.computed)(()=>i.map((e,t)=>{const a=n.stats[e]??0,r=Math.max(0,Math.min(1,a/n.maxValue)),i=Math.PI/2+Math.PI/3*t,s=o.value*r+(0===r?4:0);return{value:a,x:Math.cos(i)*s,y:-Math.sin(i)*s}})),d=(0,r.computed)(()=>{const e=[];return i.forEach((t,a)=>{const r=n.stats[t]??0,i=Math.max(0,Math.min(1,r/n.maxValue)),s=Math.PI/2+Math.PI/3*a,l=Math.cos(s)*o.value*i,c=-Math.sin(s)*o.value*i;e.push(`${l.toFixed(2)},${c.toFixed(2)}`)}),e.join(" ")}),u=(0,r.computed)(()=>{const e=[];for(let t=0;t<6;t++){const n=Math.PI/2+Math.PI/3*t;e.push({x:Math.cos(n)*o.value,y:-Math.sin(n)*o.value})}return e}),m=(0,r.computed)(()=>{const e=1.25*o.value;return i.map((t,n)=>{const a=Math.PI/2+Math.PI/3*n;return{key:t,name:s[t],x:Math.cos(a)*e,y:-Math.sin(a)*e}})}),p=(e,t=!1)=>0===e||3===e?"middle":1===e||2===e?t?"end":"start":t?"start":"end",g=(e,t=!1)=>0===e?t?"hanging":"alphabetic":3===e?t?"alphabetic":"hanging":"middle";return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Ng,[((0,r.openBlock)(),(0,r.createElementBlock)("svg",{width:e.size,height:e.size,viewBox:`0 0 ${e.size} ${e.size}`},[(0,r.createCommentVNode)(" ÂÆö‰πâÊ∏êÂèò "),t[0]||(t[0]=(0,r.createStaticVNode)('<defs data-v-d76e40b0><linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-d76e40b0><stop offset="0%" stop-color="rgba(255, 215, 0, 0.3)" data-v-d76e40b0></stop><stop offset="50%" stop-color="rgba(218, 165, 32, 0.25)" data-v-d76e40b0></stop><stop offset="100%" stop-color="rgba(255, 223, 0, 0.2)" data-v-d76e40b0></stop></linearGradient><linearGradient id="darkGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-d76e40b0><stop offset="0%" stop-color="rgba(100, 181, 246, 0.3)" data-v-d76e40b0></stop><stop offset="100%" stop-color="rgba(100, 181, 246, 0.1)" data-v-d76e40b0></stop></linearGradient></defs>',1)),(0,r.createElementVNode)("g",{transform:`translate(${a.value}, ${a.value})`},[(0,r.createCommentVNode)(" Hexagon Grid Lines "),((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(5,e=>(0,r.createElementVNode)("polygon",{key:`grid-${e}`,points:l(e/5),class:"grid-line"},null,8,Vg)),64)),(0,r.createCommentVNode)(" Radial Lines "),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("line",{key:`axis-${t}`,x1:"0",y1:"0",x2:e.x,y2:e.y,class:"grid-line"},null,8,Cg))),128)),(0,r.createCommentVNode)(" Data Polygon "),(0,r.createElementVNode)("polygon",{points:d.value,class:"data-polygon"},null,8,Ag),(0,r.createCommentVNode)(" Data Points & Numeric Values "),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(c.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("g",{key:`data-point-${t}`},[(0,r.createElementVNode)("circle",{cx:e.x,cy:e.y,r:"3",class:"data-point"},null,8,Dg),(0,r.createElementVNode)("text",{x:e.x,y:e.y,class:"data-value-text","text-anchor":p(t,!0),"dominant-baseline":g(t,!0)},(0,r.toDisplayString)(e.value),9,Tg)]))),128)),(0,r.createCommentVNode)(" Stat Labels "),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(m.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("text",{key:e.key,x:e.x,y:e.y,class:"label-text","text-anchor":p(t),"dominant-baseline":g(t)},(0,r.toDisplayString)(e.name),9,Bg))),128))],8,_g)],8,Sg))]))}});var Mg=n(870),zg={};zg.styleTagTransform=k(),zg.setAttributes=v(),zg.insert=h().bind(null,"head"),zg.domAPI=p(),zg.insertStyleElement=y(),u()(Mg.A,zg),Mg.A&&Mg.A.locals&&Mg.A.locals;const Pg=(0,N.A)(Ig,[["__scopeId","data-v-d76e40b0"]]),Rg=(0,_.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),$g=(0,_.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var Og=n(5365);const Lg=(0,_.A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),Fg=(0,_.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var jg=n(3528);const Ug=(0,_.A)("arrow-down-to-line",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),qg={class:"legacy-modal"},Gg={class:"legacy-modal-header"},Hg={class:"title"},Yg={class:"legacy-modal-body"},Wg={class:"file-row"},Xg={key:0,class:"file-name"},Jg={key:1,class:"file-name muted"},Kg={key:0,class:"result"},Zg={class:"summary-grid"},Qg={class:"kv"},eh={class:"v"},th={class:"kv"},nh={class:"v"},ah={class:"kv"},rh={class:"v"},oh={class:"kv"},ih={class:"v"},sh={key:0,class:"details"},lh={class:"chips"},ch={key:1,class:"details"},dh={class:"errors"},uh={class:"details"},mh={class:"json-preview"},ph={class:"legacy-modal-actions"},gh=["disabled"],hh=["disabled"],fh=(0,r.defineComponent)({__name:"LegacySaveMigrationModal",props:{open:{type:Boolean},targetCharId:{},targetCharName:{}},emits:["close","imported"],setup(e,{emit:t}){const n=e,a=t,o=(0,md.useCharacterStore)(),i=(0,r.ref)(null),s=(0,r.ref)(""),l=(0,r.ref)(null),c=(0,r.ref)(null),d=(0,r.ref)(null),u=(0,r.computed)(()=>{if(!c.value)return null;const e=(0,pd.ZT)(c.value);return e.isBundle?{schema:"dad.bundle",type:e.type}:c.value}),m=(0,r.computed)(()=>{if(!n.targetCharId)return!1;const e=o.rootState.ËßíËâ≤ÂàóË°®?.[n.targetCharId];return!(!e||"ÂçïÊú∫"!==e.Ê®°Âºè)&&Array.isArray(d.value)&&d.value.length>0}),p=()=>{i.value?.click()},g=async e=>{const t=e.target.files?.[0];if(t)try{s.value=t.name,l.value=null,c.value=null,d.value=null;const e=await t.text();(e=>{const t=[],n=new Set;let a=0,r=0;const o=(new Date).toISOString(),i=e.saves.map((e,i)=>{const s=e?.Â≠òÊ°£Êï∞ÊçÆ??e,l=(0,gd.WI)(s);l.needsMigration&&a++,l.legacyKeysFound.forEach(e=>n.add(e));const c=(0,gd.ru)(s)?s:(0,gd.jj)(s).migrated,d=(0,hd.$)(c);d.isValid||(r++,t.push(`Á¨¨ ${i+1} ‰∏™Â≠òÊ°£„Äå${e?.Â≠òÊ°£Âêç??"Êú™ÂëΩÂêç"}„ÄçÊ†°È™åÂ§±Ë¥•Ôºö${d.errors[0]||"Êú™Áü•ÂéüÂõ†"}`));const u=String(e?.Â≠òÊ°£Âêç??`ÂØºÂÖ•Â≠òÊ°£_${i+1}`);return{...e,Â≠òÊ°£Âêç:u,‰øùÂ≠òÊó∂Èó¥:e?.‰øùÂ≠òÊó∂Èó¥??o,ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥:e?.ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥??e?.‰øùÂ≠òÊó∂Èó¥??o,Â≠òÊ°£Êï∞ÊçÆ:c}});l.value={typeLabel:e.label,totalSaves:e.saves.length,needsMigration:a,invalidSaves:r,legacyKeys:Array.from(n).sort((e,t)=>e.localeCompare(t,"zh")),errors:t},d.value=i,"character"===e.exportType?c.value=(0,pd.q3)("character",{...e.exportPayloadBase||{},Â≠òÊ°£ÂàóË°®:i},{exportedAt:o}):c.value=(0,pd.q3)("saves",{...e.exportPayloadBase||{},saves:i},{exportedAt:o})})((e=>{const t=(0,pd.ZT)(e);if("saves"===t.type&&Array.isArray(t.payload?.saves))return{label:"Â≠òÊ°£ÂåÖ",exportType:"saves",exportPayloadBase:{...t.payload||{}},saves:t.payload.saves};if("character"===t.type&&Array.isArray(t.payload?.Â≠òÊ°£ÂàóË°®))return{label:"ËßíËâ≤ÂåÖ",exportType:"character",exportPayloadBase:{...t.payload||{}},saves:t.payload.Â≠òÊ°£ÂàóË°®};if(e&&"object"==typeof e&&e.Â≠òÊ°£Êï∞ÊçÆ)return{label:"Âçï‰∏™Â≠òÊ°£",exportType:"saves",exportPayloadBase:{},saves:[e]};if(e&&"object"==typeof e&&((0,gd.WI)(e).needsMigration||(0,gd.ru)(e)))return{label:"Â≠òÊ°£Êï∞ÊçÆ",exportType:"saves",exportPayloadBase:{},saves:[{Â≠òÊ°£Âêç:"ËΩ¨Êç¢Â≠òÊ°£",Â≠òÊ°£Êï∞ÊçÆ:e}]};throw new Error("Êó†Ê≥ïËØÜÂà´Êñá‰ª∂Á±ªÂûãÔºöËØ∑‰ΩøÁî®Êú¨Ê∏∏ÊàèÂØºÂá∫ÁöÑÂ≠òÊ°£/ËßíËâ≤Êñá‰ª∂ÔºåÊàñÁõ¥Êé•ÈÄâÊã©Â≠òÊ°£Êï∞ÊçÆ JSON")})(JSON.parse(e)));const n=l.value;n&&n.errors.length?X.o.error("Ê£ÄÊµãÂà∞ËΩ¨Êç¢/Ê†°È™åÈóÆÈ¢òÔºåËØ∑ÂÖàÂ§ÑÁêÜÂêéÂÜçÂØºÂÖ•"):n&&(n.needsMigration??0)>0?X.o.success("ÊóßÂ≠òÊ°£Â∑≤ËΩ¨Êç¢‰∏∫ÂΩìÂâçÊ†ºÂºèÔºàÊú™ÂÜôÂÖ•Êú¨Âú∞ÔºåÈúÄÊâãÂä®‰∏ãËΩΩ/ÂØºÂÖ•Ôºâ"):X.o.info("Êñá‰ª∂Â∑≤ÊòØÂΩìÂâçÊ†ºÂºèÔºàÂèØÁõ¥Êé•‰∏ãËΩΩÊàñÂØºÂÖ•Ôºâ")}catch(e){const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";l.value={typeLabel:"Êú™Áü•",totalSaves:0,needsMigration:0,invalidSaves:0,legacyKeys:[],errors:[t]},X.o.error(`ËØªÂèñ/Ëß£ÊûêÂ§±Ë¥•Ôºö${t}`)}finally{i.value&&(i.value.value="")}},h=()=>{if(!c.value)return;const e=new Blob([JSON.stringify(c.value,null,2)],{type:"application/json"}),t=document.createElement("a");t.href=URL.createObjectURL(e);const n=(new Date).toISOString().split("T")[0];t.download=`Ë∂ÖÂá°Êñ∞Áîü-ÊóßÂ≠òÊ°£ËΩ¨Âåñ-${n}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href),X.o.success("Â∑≤‰∏ãËΩΩËΩ¨Êç¢ÂêéÁöÑÊñá‰ª∂")},f=async()=>{if(!n.targetCharId)return;if(!d.value?.length)return;const e=n.targetCharName||n.targetCharId;try{for(const e of d.value)await o.importSave(n.targetCharId,e);X.o.success(`Â∑≤ÂØºÂÖ• ${d.value.length} ‰∏™Â≠òÊ°£Âà∞ËßíËâ≤„Äå${e}„Äç`),a("imported",d.value.length)}catch(e){X.o.error(`ÂØºÂÖ•Â§±Ë¥•Ôºö${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}};return(e,t)=>e.open?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"legacy-modal-overlay",onClick:t[2]||(t[2]=(0,r.withModifiers)(e=>a("close"),["self"]))},[(0,r.createElementVNode)("div",qg,[(0,r.createElementVNode)("div",Gg,[(0,r.createElementVNode)("div",Hg,[(0,r.createVNode)((0,r.unref)(Lg),{size:18}),t[3]||(t[3]=(0,r.createElementVNode)("span",null,"ÊóßÂ≠òÊ°£ËΩ¨Âåñ",-1))]),(0,r.createElementVNode)("button",{class:"icon-btn",onClick:t[0]||(t[0]=e=>a("close")),title:"ÂÖ≥Èó≠"},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:18})])]),(0,r.createElementVNode)("div",Yg,[t[12]||(t[12]=(0,r.createElementVNode)("p",{class:"hint"}," ÈÄâÊã©ÊóßÂ≠òÊ°£/ÊóßÂØºÂá∫Êñá‰ª∂ÂêéÔºå‰ºöÂÖàÊ£ÄÊµãÂπ∂ËΩ¨Êç¢‰∏∫ÂΩìÂâçÊ†ºÂºèÔºåÂÜçËøõË°åÊ†°È™å„ÄÇ‰Ω†ÂèØ‰ª•‰∏ãËΩΩËΩ¨Êç¢ÂêéÁöÑÊñá‰ª∂ÔºåÊàñÂØºÂÖ•Âà∞ÂΩìÂâçÈÄâ‰∏≠ÂçïÊú∫ËßíËâ≤„ÄÇ ",-1)),(0,r.createElementVNode)("div",Wg,[(0,r.createElementVNode)("button",{class:"btn",onClick:p},[(0,r.createVNode)((0,r.unref)(Og.A),{size:16}),t[4]||(t[4]=(0,r.createTextVNode)(" ÈÄâÊã© JSON Êñá‰ª∂ ",-1))]),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",Xg,(0,r.toDisplayString)(s.value),1)):((0,r.openBlock)(),(0,r.createElementBlock)("span",Jg,"Êú™ÈÄâÊã©Êñá‰ª∂"))]),l.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Kg,[(0,r.createElementVNode)("div",Zg,[(0,r.createElementVNode)("div",Qg,[t[5]||(t[5]=(0,r.createElementVNode)("span",{class:"k"},"ËØÜÂà´Á±ªÂûã",-1)),(0,r.createElementVNode)("span",eh,(0,r.toDisplayString)(l.value.typeLabel),1)]),(0,r.createElementVNode)("div",th,[t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"k"},"Â≠òÊ°£Êï∞Èáè",-1)),(0,r.createElementVNode)("span",nh,(0,r.toDisplayString)(l.value.totalSaves),1)]),(0,r.createElementVNode)("div",ah,[t[7]||(t[7]=(0,r.createElementVNode)("span",{class:"k"},"ÈúÄË¶ÅËΩ¨Êç¢",-1)),(0,r.createElementVNode)("span",rh,(0,r.toDisplayString)(l.value.needsMigration),1)]),(0,r.createElementVNode)("div",oh,[t[8]||(t[8]=(0,r.createElementVNode)("span",{class:"k"},"Ê†°È™åÂ§±Ë¥•",-1)),(0,r.createElementVNode)("span",ih,(0,r.toDisplayString)(l.value.invalidSaves),1)])]),l.value.legacyKeys.length?((0,r.openBlock)(),(0,r.createElementBlock)("details",sh,[t[9]||(t[9]=(0,r.createElementVNode)("summary",null,"Ê£ÄÊµãÂà∞ÁöÑÊóß keyÔºàÂêàÂπ∂Â±ïÁ§∫Ôºâ",-1)),(0,r.createElementVNode)("div",lh,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value.legacyKeys,e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"chip"},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0),l.value.errors.length?((0,r.openBlock)(),(0,r.createElementBlock)("details",ch,[t[10]||(t[10]=(0,r.createElementVNode)("summary",null,"ËΩ¨Êç¢/Ê†°È™åÈóÆÈ¢ò",-1)),(0,r.createElementVNode)("ul",dh,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value.errors,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("li",{key:t},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("details",uh,[t[11]||(t[11]=(0,r.createElementVNode)("summary",null,"ËΩ¨Êç¢ÂêéÁöÑÂØºÂá∫ÁªìÊûÑ",-1)),(0,r.createElementVNode)("pre",mh,(0,r.toDisplayString)(JSON.stringify(u.value,null,2)),1)])])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",ph,[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=e=>a("close"))},"ÂÖ≥Èó≠"),(0,r.createElementVNode)("button",{class:"btn",disabled:!c.value||!!l.value?.errors.length,onClick:h},[(0,r.createVNode)((0,r.unref)(jg.A),{size:16}),t[13]||(t[13]=(0,r.createTextVNode)(" ËΩ¨Êç¢Âπ∂‰∏ãËΩΩ ",-1))],8,gh),m.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"btn",disabled:!d.value||!!l.value?.errors.length,onClick:f},[(0,r.createVNode)((0,r.unref)(Ug),{size:16}),t[14]||(t[14]=(0,r.createTextVNode)(" ÂØºÂÖ•Âà∞ÂΩìÂâçËßíËâ≤ ",-1))],8,hh)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("input",{ref_key:"fileInput",ref:i,type:"file",accept:".json,application/json",hidden:"",onChange:g},null,544)])])):(0,r.createCommentVNode)("v-if",!0)}});var vh=n(9716),bh={};bh.styleTagTransform=k(),bh.setAttributes=v(),bh.insert=h().bind(null,"head"),bh.domAPI=p(),bh.insertStyleElement=y(),u()(vh.A,bh),vh.A&&vh.A.locals&&vh.A.locals;const yh=(0,N.A)(fh,[["__scopeId","data-v-08dba163"]]);n(4511);var xh=n(6585);const kh={class:"dialog-title"},wh={class:"dialog-message"},Eh={key:0,class:"dialog-points"},Nh={class:"points-row"},Sh={class:"points-label"},_h={class:"points-value"},Vh={class:"points-row"},Ch={class:"points-label"},Ah={class:"points-value"},Dh=["placeholder"],Th={class:"dialog-actions"},Bh=["disabled"],Ih=["disabled"],Mh={key:0,class:"fullscreen-header"},zh={class:"fullscreen-title"},Ph={class:"mobile-header"},Rh={class:"menu-text"},$h={class:"mobile-title"},Oh={key:0,class:"selected-info"},Lh={key:2,class:"empty-state"},Fh={class:"empty-icon"},jh={class:"empty-actions"},Uh={class:"management-layout"},qh={class:"grid-container"},Gh={class:"grid-header-left"},Hh={class:"header-title-group"},Yh={class:"character-count"},Wh=["title"],Xh={class:"grid-header-right"},Jh={class:"header-left-content"},Kh={key:0,class:"selected-char-info"},Zh={key:0,class:"save-actions-buttons"},Qh=["title"],ef=["disabled"],tf={class:"characters-grid"},nf=["onClick"],af={class:"card-header"},rf={class:"avatar-text"},of={class:"char-info"},sf={class:"name-row"},lf={class:"char-name"},cf={class:"char-meta"},df={class:"world"},uf={class:"talent"},mf={class:"save-count"},pf={class:"count"},gf={class:"label"},hf={class:"card-actions"},ff=["onClick"],vf=["onClick"],bf=["onClick"],yf={class:"grid-content-right saves-panel"},xf={key:0,class:"no-selection"},kf={class:"no-selection-icon"},wf={class:"loading-saves"},Ef={class:"saves-container"},Nf={class:"saves-section"},Sf={key:0,class:"manual-saves-section"},_f={class:"manual-saves-header"},Vf={class:"save-info-text"},Cf={class:"manual-saves-grid"},Af=["onClick"],Df={key:0,class:"save-data"},Tf={class:"save-header"},Bf={class:"save-name"},If={class:"save-actions"},Mf=["onClick","title"],zf=["onClick","title","disabled"],Pf=["onClick","disabled","title"],Rf={class:"save-badges"},$f={class:"realm-badge"},Of={class:"age-badge"},Lf={class:"save-stats"},Ff={class:"stat-grid"},jf={class:"stat"},Uf={class:"value"},qf={class:"stat"},Gf={class:"value"},Hf={class:"stat"},Yf={class:"value"},Wf={class:"stat"},Xf={class:"value"},Jf={class:"save-footer"},Kf={class:"location"},Zf={class:"save-time"},Qf={key:1,class:"save-empty"},ev={class:"empty-text"},tv={class:"empty-desc"},nv={class:"online-saves-container"},av={key:0,class:"login-prompt"},rv={class:"loading-saves"},ov={key:2,class:"online-save-card"},iv={class:"save-data"},sv={class:"save-header"},lv={class:"save-name"},cv={class:"save-badges"},dv={class:"realm-badge"},uv={class:"age-badge"},mv={class:"save-stats"},pv={class:"stat-grid"},gv={class:"stat"},hv={class:"value"},fv={class:"stat"},vv={class:"value"},bv={class:"stat"},yv={class:"value"},xv={class:"stat"},kv={class:"value"},wv={class:"save-footer"},Ev={class:"location"},Nv={class:"sync-info"},Sv={class:"online-actions"},_v={key:0,class:"btn-sync"},Vv={class:"online-save-card"},Cv={class:"save-empty"},Av={class:"empty-text"},Dv={class:"empty-hint"},Tv={class:"modal-header"},Bv={key:0,class:"modal-content"},Iv={class:"details-grid"},Mv={class:"detail-section"},zv={class:"detail-items"},Pv={class:"detail-item"},Rv={class:"label"},$v={class:"value"},Ov={class:"detail-item"},Lv={class:"label"},Fv={class:"value"},jv={class:"detail-item"},Uv={class:"label"},qv={class:"value"},Gv={class:"detail-item"},Hv={class:"label"},Yv={class:"value"},Wv={class:"detail-item"},Xv={class:"label"},Jv={class:"value"},Kv={class:"detail-item"},Zv={class:"label"},Qv={class:"value"},eb={class:"detail-section"},tb={class:"attributes-display"},nb={class:"detail-section"},ab={class:"talents-list"},rb={key:0,class:"talent-items"},ob=["title"],ib={key:1,class:"no-talents"},sb=(0,r.defineComponent)({__name:"CharacterManagement",props:{fullscreen:{type:Boolean,default:!1}},emits:["back","login","close","character-selected"],setup(e,{emit:t}){const o=e,i=t,s=(0,r.computed)(()=>o.fullscreen),l=(0,a.useRouter)(),c=(0,md.useCharacterStore)(),d=(0,r.ref)(!0),u=(0,r.ref)(null),m=(0,r.ref)(!1),p=(0,r.ref)(null),g=(0,r.ref)(null),h=(0,r.ref)(null),f=(0,r.ref)(!1),v=(0,r.ref)(!1),b=(0,r.ref)(!1),y=(0,r.ref)("character"),x=(0,r.ref)(!1),k=(0,r.ref)(window.innerWidth),w=()=>{k.value=window.innerWidth,k.value>768?f.value=!0:k.value<=480&&(f.value=!1)},E=()=>{B.value?"ÂçïÊú∫"===B.value.Ê®°Âºè?x.value=!0:X.o.error("ËÅîÊú∫ËßíËâ≤‰∏çÊîØÊåÅÊóßÂ≠òÊ°£ËΩ¨Âåñ/ÂØºÂÖ•"):X.o.info("ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ÂçïÊú∫ËßíËâ≤")},N=async()=>{u.value&&await z(u.value)};(0,r.onMounted)(async()=>{window.addEventListener("resize",w),w();const e=Object.keys(c.rootState.ËßíËâ≤ÂàóË°®);for(const t of e)try{await c.loadCharacterSaves(t)}catch(e){console.warn(`[CharacterManagement] È¢ÑÂä†ËΩΩËßíËâ≤ ${t} Â≠òÊ°£Â§±Ë¥•:`,e)}const t=e[0];t&&z(t)}),(0,r.onUnmounted)(()=>{window.removeEventListener("resize",w)});const _=(0,r.ref)({show:!1,type:"alert",title:"",message:"",inputValue:"",placeholder:"",onConfirm:()=>{},onCancel:()=>{},travelPoints:null,travelCost:null,isBusy:!1}),V=(0,r.computed)(()=>Object.keys(c.rootState.ËßíËâ≤ÂàóË°®).length),A=(0,r.computed)(()=>{const e=c.rootState.ËßíËâ≤ÂàóË°®,t=Object.entries(e);return t.length>0&&console.log("[CharacterManagement] Á¨¨‰∏Ä‰∏™ËßíËâ≤ÁöÑÊï∞ÊçÆÁªìÊûÑ:",JSON.stringify(t[0][1],null,2).substring(0,500)),t.filter(([,e])=>!(!e?.ËßíËâ≤?.ÂêçÂ≠ó&&!e?.ËßíËâ≤?.Ë∫´‰ªΩ?.ÂêçÂ≠ó))}),B=(0,r.computed)(()=>u.value?c.rootState.ËßíËâ≤ÂàóË°®[u.value]:null),I=(0,r.computed)(()=>k.value<=768),M=()=>{f.value=!f.value},z=async e=>{if(u.value!==e){u.value=e,b.value=!0;try{await c.loadCharacterSaves(e)}catch(e){console.error("[CharacterManagement] Âä†ËΩΩÂ≠òÊ°£Êï∞ÊçÆÂ§±Ë¥•:",e)}finally{b.value=!1}I.value&&(f.value=!1)}},P=e=>"ÂçïÊú∫"===e.Ê®°Âºè?Object.entries(e.Â≠òÊ°£ÂàóË°®||{}).filter(([e,t])=>"‰∏äÊ¨°ÂØπËØù"!==e&&t.Â≠òÊ°£Êï∞ÊçÆ).length:e.Â≠òÊ°£ÂàóË°®?.["‰∫ëÁ´ØËøêË°å"]?.Â≠òÊ°£Êï∞ÊçÆ?1:0,R=()=>{m.value=!1,p.value=null},$=async(e,t,n)=>{console.log("ÈÄâÊã©Â≠òÊ°£:",e,t,n);const a=c.rootState.ËßíËâ≤ÂàóË°®[e];if("ËÅîÊú∫"===a?.Ê®°Âºè&&(0,D.isBackendConfigured)()&&!await(0,T.verifyStoredToken)())return X.o.warning("ËÅîÊú∫Ê®°ÂºèÈúÄË¶ÅÁôªÂΩïÔºåÊ≠£Âú®Ë∑≥ËΩ¨..."),void l.push("/login");if(n){console.log("Âä†ËΩΩÂ≠òÊ°£...");const n=await c.loadGame(e,t);console.log("Âä†ËΩΩÁªìÊûú:",n),n?(console.log("Ë∑≥ËΩ¨Âà∞Ê∏∏ÊàèÁïåÈù¢..."),o.fullscreen?i("character-selected",a):l.push("/game")):console.error("Â≠òÊ°£Âä†ËΩΩÂ§±Ë¥•")}else{const n="‰∏äÊ¨°ÂØπËØù"===t;K(n?"ÂàõÂª∫Êñ∞Â≠òÊ°£":"ÂºÄÂêØÊñ∞ÂæÅÁ®ã",n?`ÊòØÂê¶Âú®„Äê${t}„Äë‰ΩçÁΩÆÂàõÂª∫Êñ∞ÁöÑÂ≠òÊ°£ÂºÄÂßãÊ∏∏ÊàèÔºü`:`ÊòØÂê¶Âú®Â≠òÊ°£‰Ωç "${t}" ÂºÄÂßã‰∏ÄÊÆµÊñ∞ÁöÑË°åÂä®Ôºü`,async()=>{console.log("Á°ÆËÆ§ÂàõÂª∫Êñ∞Â≠òÊ°£...");const n=await c.loadGame(e,t);console.log("Êñ∞Â≠òÊ°£Âä†ËΩΩÁªìÊûú:",n),n&&(console.log("Ë∑≥ËΩ¨Âà∞Ê∏∏ÊàèÁïåÈù¢..."),o.fullscreen?i("character-selected",a):l.push("/game"))})}},O=(e,t)=>{if(!e||"ËÅîÊú∫"===e.Ê®°Âºè)return!1;if("‰∏äÊ¨°ÂØπËØù"===t||"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===t)return!1;const n=e.Â≠òÊ°£ÂàóË°®||{},a=Object.entries(n).filter(([e,t])=>"‰∏äÊ¨°ÂØπËØù"!==e&&"Êó∂Èó¥ÁÇπÂ≠òÊ°£"!==e&&t.Â≠òÊ°£Êï∞ÊçÆ).length,r=n[t];return!(r?.Â≠òÊ°£Êï∞ÊçÆ&&a<=1)},L=(e,t)=>"‰∏äÊ¨°ÂØπËØù"===t?"‰∏äÊ¨°ÂØπËØùÂ≠òÊ°£‰∏çÂèØÂà†Èô§ÔºàÁî®‰∫éÂõûÊªöÔºâ":"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===t?"Êó∂Èó¥ÁÇπÂ≠òÊ°£‰∏çÂèØÂà†Èô§ÔºàÂÆöÊó∂Ëá™Âä®Ë¶ÜÁõñÔºâ":O(e,t)?"Âà†Èô§Â≠òÊ°£":"Êó†Ê≥ïÂà†Èô§ÔºöËá≥Â∞ëÈúÄË¶Å‰øùÁïô‰∏Ä‰∏™ÊâãÂä®Â≠òÊ°£",F=()=>{i("back")},j=()=>{o.fullscreen?i("close"):F()},U=()=>{i("login")},q=e=>{if(!e||"object"!=typeof e)return null;const t=e;return(0,gd.ru)(t)?t:(0,gd.jj)(t).migrated},G=e=>am(e),H=e=>{if("string"==typeof e)return e;if(e&&"object"==typeof e){const t=e;return String(t["ÂêçÁß∞"]||t.name||"Êú™Áü•Ê®°Âùó")}return"Êú™Áü•Ê®°Âùó"},Y=e=>{if("string"==typeof e)return`Ê®°Âùó„Ää${e}„Äã`;if(e&&"object"==typeof e){const t=e,n=t["ÊèèËø∞"]||t.description||"",a=H(e);return n?String(n):`Ê®°Âùó„Ää${a}„Äã`}return"Êú™Áü•Ê®°Âùó"},W=e=>e?"string"==typeof e?e:"object"==typeof e&&null!==e&&(e.ÂêçÁß∞||e.name||e.ÂêçÂ≠ó)||"Êú™Áü•":"Êú™Áü•",J=(e,t,n)=>{_.value={show:!0,type:"alert",title:e,message:t,inputValue:"",placeholder:"",onConfirm:async()=>{n&&await n(),ee()},onCancel:ee,travelPoints:null,travelCost:null,isBusy:!1}},K=(e,t,n,a)=>{_.value={show:!0,type:"confirm",title:e,message:t,inputValue:"",placeholder:"",onConfirm:async()=>{await n(),ee()},onCancel:()=>{a&&a(),ee()},travelPoints:null,travelCost:null,isBusy:!1}},Z=async()=>{"prompt"===_.value.type?await _.value.onConfirm(_.value.inputValue):await _.value.onConfirm()},Q=()=>{_.value.onCancel(),ee()},ee=()=>{_.value.travelPoints=null,_.value.travelCost=null,_.value.isBusy=!1,_.value.show=!1},te=()=>{B.value?(y.value="saves",h.value?.click()):X.o.error("ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ËßíËâ≤‰ª•ÂØºÂÖ•Â≠òÊ°£")},ne=()=>{y.value="character",h.value?.click()},ae=async e=>{const t=e.target.files?.[0];if(!t)return;const n=()=>{h.value&&(h.value.value="")};try{const e=await t.text(),a=JSON.parse(e),r=(0,pd.ZT)(a);if("saves"===y.value){const e="saves"===r.type&&Array.isArray(r.payload?.saves)?r.payload.saves:"character"===r.type&&Array.isArray(r.payload?.Â≠òÊ°£ÂàóË°®)?r.payload.Â≠òÊ°£ÂàóË°®:null;if(!e)throw new Error("Êó†ÊïàÁöÑÂ≠òÊ°£Êñá‰ª∂Ê†ºÂºèÔºåËØ∑‰ΩøÁî®Êú¨Ê∏∏ÊàèÂØºÂá∫ÁöÑÂ≠òÊ°£Êñá‰ª∂");if(0===e.length)throw new Error("Êñá‰ª∂‰∏≠Ê≤°ÊúâÊâæÂà∞ÊúâÊïàÁöÑÂ≠òÊ°£Êï∞ÊçÆ");if(!u.value||!B.value)return X.o.error("ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ËßíËâ≤‰ª•ÂØºÂÖ•Â≠òÊ°£"),void n();const t=u.value,a=B.value.ËßíËâ≤.ÂêçÂ≠ó;K("ÂØºÂÖ•Â≠òÊ°£",`Á°ÆÂÆöË¶ÅÂ∞Ü ${e.length} ‰∏™Â≠òÊ°£ÂØºÂÖ•Âà∞ËßíËâ≤ "${a}" ÂêóÔºüÂêåÂêçÂ≠òÊ°£Â∞ÜË¢´Ë¶ÜÁõñ„ÄÇ`,async()=>{v.value=!0;try{for(const n of e)await c.importSave(t,n);X.o.success(`ÊàêÂäü‰∏∫ËßíËâ≤ "${a}" ÂØºÂÖ• ${e.length} ‰∏™Â≠òÊ°£`),await z(t)}catch(e){console.error("ÂØºÂÖ•Â≠òÊ°£Â§±Ë¥•",e),X.o.error("ÂØºÂÖ•Â≠òÊ°£Â§±Ë¥•: "+e.message)}finally{v.value=!1,n()}},n)}else if("character"===y.value){if("character"!==r.type||!r.payload?.ËßíËâ≤‰ø°ÊÅØ)throw new Error("Êó†ÊïàÁöÑËßíËâ≤Êñá‰ª∂Ê†ºÂºèÔºåËØ∑‰ΩøÁî®Êú¨Ê∏∏ÊàèÂØºÂá∫ÁöÑËßíËâ≤Êñá‰ª∂");const e=r.payload.ËßíËâ≤‰ø°ÊÅØ,t=e?.ËßíËâ≤?.ÂêçÂ≠ó||"Êú™Áü•ËßíËâ≤";e.Â≠òÊ°£ÂàóË°®={},Array.isArray(r.payload?.Â≠òÊ°£ÂàóË°®)&&(e._ÂØºÂÖ•Â≠òÊ°£ÂàóË°®=r.payload.Â≠òÊ°£ÂàóË°®),(async(e,t,n,a)=>{try{const r=await(async()=>{if(!(0,D.isBackendConfigured)())throw new Error("ÂêéÁ´ØÊú™ÈÖçÁΩÆÔºåÊó†Ê≥ïËé∑ÂèñÁ©øË∂äÁÇπÊï∞");if(!localStorage.getItem("access_token"))throw new Error("ËØ∑ÂÖàÁôªÂΩïÂêéÁ´Ø");const e=await T.Em.get("/api/v1/auth/me");return Number(e?.travel_points??0)})();if(r<10)return void J("Á©øË∂äÁÇπÊï∞‰∏çË∂≥",`ÂΩìÂâçÂâ©‰Ωô ${r} ÁÇπÔºåÊó†Ê≥ïÊâßË°åËØ•Êìç‰Ωú„ÄÇ`);_.value={show:!0,type:"confirm",title:e,message:t,inputValue:"",placeholder:"",travelPoints:r,travelCost:10,isBusy:!1,onConfirm:async()=>{_.value.isBusy=!0;try{const e=await(async()=>{const e=await T.Em.post("/api/v1/auth/travel-points/consume",{amount:10});return Number(e?.travel_points??0)})();await n(),X.o.info(`Â∑≤Êâ£Èô§10ÁÇπÔºåÂâ©‰Ωô${e}ÁÇπ`)}catch(e){console.error("Êâ£ÂáèÁ©øË∂äÁÇπÊï∞Â§±Ë¥•",e),X.o.error("Êâ£ÂáèÁ©øË∂äÁÇπÊï∞Â§±Ë¥•")}finally{_.value.isBusy=!1,ee()}},onCancel:()=>{a&&a(),ee()}}}catch(e){X.o.error(e?.message||"Ëé∑ÂèñÁ©øË∂äÁÇπÊï∞Â§±Ë¥•"),a&&a()}})("ÂØºÂÖ•ËßíËâ≤",`ÂØºÂÖ•ËßíËâ≤Â∞ÜÊ∂àËÄó10‰∏™Á©øË∂äÁÇπÊï∞ÔºåÁ°ÆÂÆöË¶ÅÂØºÂÖ•ËßíËâ≤ "${t}" ÂêóÔºü`,async()=>{v.value=!0;try{await c.importCharacter(e),X.o.success(`ÊàêÂäüÂØºÂÖ•ËßíËâ≤ "${t}"`)}catch(e){console.error("ÂØºÂÖ•ËßíËâ≤Â§±Ë¥•",e),X.o.error("ÂØºÂÖ•ËßíËâ≤Â§±Ë¥•: "+e.message)}finally{v.value=!1,n()}},n)}}catch(e){console.error("Â§ÑÁêÜÂØºÂÖ•Êñá‰ª∂Â§±Ë¥•",e),X.o.error("Â§ÑÁêÜÂØºÂÖ•Êñá‰ª∂Â§±Ë¥•: "+e.message),n()}};return(e,t)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["character-management-panel",{fullscreen:s.value}])},[s.value?((0,r.openBlock)(),(0,r.createBlock)(S,{key:0})):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Ëá™ÂÆö‰πâÂØπËØùÊ°Ü "),_.value.show?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"dialog-overlay",onClick:Q},[(0,r.createElementVNode)("div",{class:"dialog-box",onClick:t[1]||(t[1]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("h3",kh,(0,r.toDisplayString)(_.value.title),1),(0,r.createElementVNode)("p",wh,(0,r.toDisplayString)(_.value.message),1),null!==_.value.travelPoints?((0,r.openBlock)(),(0,r.createElementBlock)("div",Eh,[(0,r.createElementVNode)("div",Nh,[(0,r.createElementVNode)("span",Sh,(0,r.toDisplayString)(e.$t("ÂΩìÂâçÂâ©‰Ωô"))+":",1),(0,r.createElementVNode)("span",_h,(0,r.toDisplayString)(_.value.travelPoints),1)]),(0,r.createElementVNode)("div",Vh,[(0,r.createElementVNode)("span",Ch,(0,r.toDisplayString)(e.$t("Êú¨Ê¨°Ê∂àËÄó"))+":",1),(0,r.createElementVNode)("span",Ah,(0,r.toDisplayString)(_.value.travelCost),1)])])):(0,r.createCommentVNode)("v-if",!0),"prompt"===_.value.type?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=e=>_.value.inputValue=e),placeholder:_.value.placeholder,class:"dialog-input",ref_key:"promptInput",ref:g},null,8,Dh)),[[r.vModelText,_.value.inputValue]]):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",Th,["alert"!==_.value.type?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:Q,class:"btn-dialog-cancel",disabled:_.value.isBusy},(0,r.toDisplayString)(e.$t("ÂèñÊ∂à")),9,Bh)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{onClick:Z,class:"btn-dialog-confirm",disabled:_.value.isBusy},(0,r.toDisplayString)(e.$t("Á°ÆËÆ§")),9,Ih)])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ‰∏ª‰ΩìÂå∫Âüü "),(0,r.createElementVNode)("main",{class:(0,r.normalizeClass)(["main-content",{"fullscreen-content":s.value}])},[(0,r.createElementVNode)("input",{ref_key:"fileInput",ref:h,type:"file",accept:".json",onChange:ae,style:{display:"none"}},null,544),(0,r.createVNode)(yh,{open:x.value,targetCharId:u.value,targetCharName:B.value?.ËßíËâ≤?.ÂêçÂ≠ó,onClose:t[2]||(t[2]=e=>x.value=!1),onImported:N},null,8,["open","targetCharId","targetCharName"]),(0,r.createCommentVNode)(" ËøîÂõûÊåâÈíÆ - ‰ªÖÂú®ÂÖ®Â±èÊ®°ÂºèÊòæÁ§∫ "),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Mh,[(0,r.createElementVNode)("button",{onClick:j,class:"fullscreen-back-btn"},[(0,r.createVNode)((0,r.unref)(Rg),{size:20}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ËøîÂõû")),1)]),(0,r.createElementVNode)("div",zh,[(0,r.createElementVNode)("h1",null,(0,r.toDisplayString)(e.$t("Âä†ËΩΩÂ≠òÊ°£")),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ÈÄâÊã©‰∏Ä‰∏™Â≠òÊ°£ËøõÂÖ•")),1)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÁßªÂä®Á´ØÂ§¥ÈÉ®ÂØºËà™ "),(0,r.createElementVNode)("div",Ph,[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["mobile-menu-btn",{active:f.value}]),onClick:M},[t[7]||(t[7]=(0,r.createElementVNode)("div",{class:"hamburger"},[(0,r.createElementVNode)("span"),(0,r.createElementVNode)("span"),(0,r.createElementVNode)("span")],-1)),(0,r.createElementVNode)("span",Rh,(0,r.toDisplayString)(e.$t("ËßíËâ≤ÂàóË°®")),1)],2),(0,r.createElementVNode)("div",$h,[(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)(e.$t("ËßíËâ≤ÁÆ°ÁêÜ")),1),B.value?.ËßíËâ≤?.ÂêçÂ≠ó?((0,r.openBlock)(),(0,r.createElementBlock)("div",Oh,(0,r.toDisplayString)(B.value.ËßíËâ≤.ÂêçÂ≠ó)+" - "+(0,r.toDisplayString)(B.value.Ê®°Âºè)+(0,r.toDisplayString)(e.$t("Ê®°Âºè")),1)):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createCommentVNode)(" ÈÅÆÁΩ©Â±Ç "),f.value&&I.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"panel-overlay",onClick:t[3]||(t[3]=e=>f.value=!1)})):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Êó†ËßíËâ≤ÊèêÁ§∫ "),0===Object.keys((0,r.unref)(c).rootState.ËßíËâ≤ÂàóË°®).length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Lh,[(0,r.createElementVNode)("div",Fh,[(0,r.createVNode)((0,r.unref)($g),{size:32})]),(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)(e.$t("Êú™ÊâæÂà∞‰ªª‰ΩïÂ≠òÊ°£")),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("Â∞öÊú™ÂàõÂª∫‰ªª‰ΩïÂ≠òÊ°£ÔºåËØ∑ËøîÂõû‰∏ªÈ°µÂºÄÂêØ‰Ω†ÁöÑÂÜíÈô©‰πãÊóÖ")),1),(0,r.createElementVNode)("div",jh,[(0,r.createElementVNode)("button",{onClick:F,class:"btn-create"},(0,r.toDisplayString)(e.$t("Ë∏èÂÖ•Ë∂ÖÂá°Êñ∞Áîü")),1),(0,r.createElementVNode)("button",{onClick:ne,class:"btn-import"},(0,r.toDisplayString)(e.$t("ÂØºÂÖ•ËßíËâ≤")),1)])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:3},[(0,r.createCommentVNode)(" ËßíËâ≤ÁÆ°ÁêÜÁïåÈù¢ "),(0,r.createElementVNode)("div",Uh,[(0,r.createCommentVNode)(" 3Ë°å2ÂàóÁΩëÊ†ºÂÆπÂô® "),(0,r.createElementVNode)("div",qh,[(0,r.createCommentVNode)(" Á¨¨1Ë°åÔºöÊ†áÈ¢òÊ†è "),(0,r.createElementVNode)("div",Gh,[(0,r.createElementVNode)("div",Hh,[(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)(e.$t("ËßíËâ≤ÂàóË°®")),1),(0,r.createElementVNode)("div",Yh,(0,r.toDisplayString)(V.value)+" "+(0,r.toDisplayString)(e.$t("‰∏™ËßíËâ≤")),1)]),(0,r.createElementVNode)("button",{onClick:ne,class:"btn-header-action import",title:e.$t("ÂØºÂÖ•ËßíËâ≤")},[(0,r.createVNode)((0,r.unref)(Og.A),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ÂØºÂÖ•")),1)],8,Wh)]),(0,r.createElementVNode)("div",Xh,[(0,r.createElementVNode)("div",Jh,[(0,r.createElementVNode)("h2",null,(0,r.toDisplayString)(e.$t("Â≠òÊ°£ÁÆ°ÁêÜ")),1),B.value?.ËßíËâ≤?.ÂêçÂ≠ó?((0,r.openBlock)(),(0,r.createElementBlock)("div",Kh,(0,r.toDisplayString)(B.value.ËßíËâ≤.ÂêçÂ≠ó)+" - "+(0,r.toDisplayString)(B.value.Ê®°Âºè)+(0,r.toDisplayString)(e.$t("Ê®°Âºè")),1)):(0,r.createCommentVNode)("v-if",!0)]),B.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Zh,[(0,r.createElementVNode)("button",{onClick:te,class:"btn-save-action import",title:e.$t("ÂêëÈÄâ‰∏≠ËßíËâ≤ÂØºÂÖ•Â≠òÊ°£")},[(0,r.createVNode)((0,r.unref)(Og.A),{size:18}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ÂØºÂÖ•Â≠òÊ°£")),1)],8,Qh),(0,r.createElementVNode)("button",{onClick:E,class:"btn-save-action migrate",disabled:"ÂçïÊú∫"!==B.value.Ê®°Âºè,title:"ÊóßÂ≠òÊ°£ËΩ¨ÂåñÔºàÂçïÊú∫Ôºâ"},[(0,r.createVNode)((0,r.unref)(Lg),{size:18}),t[8]||(t[8]=(0,r.createElementVNode)("span",null,"ÊóßÂ≠òÊ°£ËΩ¨Âåñ",-1))],8,ef)])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" Á¨¨2Ë°åÔºö‰∏ªË¶ÅÂÜÖÂÆπÂå∫ "),(0,r.createElementVNode)("section",{class:(0,r.normalizeClass)(["grid-content-left characters-panel",{"is-open":f.value}])},[(0,r.createElementVNode)("div",tf,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(A.value,([t,a])=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:(0,r.normalizeClass)(["character-card",{active:u.value===String(t),"single-mode":"ÂçïÊú∫"===a.Ê®°Âºè,"online-mode":"ËÅîÊú∫"===a.Ê®°Âºè}]),onClick:e=>z(String(t))},[(0,r.createCommentVNode)(" Âç°ÁâáÂ§¥ÈÉ® "),(0,r.createElementVNode)("div",af,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["char-avatar",a.Ê®°Âºè])},[(0,r.createElementVNode)("span",rf,(0,r.toDisplayString)(a.ËßíËâ≤.ÂêçÂ≠ó[0]),1)],2),(0,r.createElementVNode)("div",of,[(0,r.createElementVNode)("div",sf,[(0,r.createElementVNode)("h3",lf,(0,r.toDisplayString)(a.ËßíËâ≤.ÂêçÂ≠ó),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["mode-badge","ËÅîÊú∫"===a.Ê®°Âºè?"online":"single"])},(0,r.toDisplayString)(a.Ê®°Âºè===e.$t("ÂçïÊú∫")?e.$t("ÂçïÊú∫"):e.$t("ËÅîÊú∫")),3)]),(0,r.createElementVNode)("div",cf,[(0,r.createElementVNode)("span",df,(0,r.toDisplayString)(a.ËßíËâ≤.‰∏ñÁïå.name),1),(0,r.createElementVNode)("span",uf,(0,r.toDisplayString)(W(a.ËßíËâ≤.Ê®°ÂùóÈò∂‰Ωç)),1)])]),(0,r.createElementVNode)("div",mf,[(0,r.createElementVNode)("span",pf,(0,r.toDisplayString)(P(a)),1),(0,r.createElementVNode)("span",gf,(0,r.toDisplayString)(e.$t("Â≠òÊ°£ÁÆ°ÁêÜ")),1)])]),(0,r.createCommentVNode)(" Âç°ÁâáÂ∫ïÈÉ®Êìç‰Ωú "),(0,r.createElementVNode)("div",hf,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>(e=>{p.value=c.rootState.ËßíËâ≤ÂàóË°®[e],m.value=!0})(String(t)),["stop"]),class:"btn-details"},(0,r.toDisplayString)(e.$t("ËØ¶ÊÉÖ")),9,ff),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>(async e=>{v.value=!0;try{const t=c.rootState.ËßíËâ≤ÂàóË°®[e];if(!t)return X.o.error("ËßíËâ≤‰∏çÂ≠òÂú®"),void(v.value=!1);const{loadSaveData:a}=await Promise.resolve().then(n.bind(n,5099)),r=Object.values(t.Â≠òÊ°£ÂàóË°®||{}).filter(e=>"‰∏äÊ¨°ÂØπËØù"!==e.Â≠òÊ°£Âêç),o=(await Promise.all(r.map(async t=>{const n=t.id||t.Â≠òÊ°£Âêç,r=await a(e,n);if(!r)return console.warn(`[ËßíËâ≤ÂØºÂá∫] Â≠òÊ°£„Äå${t.Â≠òÊ°£Âêç}„ÄçÊï∞ÊçÆ‰∏∫Á©∫ÔºåË∑≥Ëøá`),null;const o=(0,se.isTavernEnv)()?(0,xh.kL)(r):r;return{...t,Â≠òÊ°£Êï∞ÊçÆ:o}})).then(e=>e.filter(Boolean))).map(e=>{const t=e.Â≠òÊ°£Êï∞ÊçÆ;if(!t)throw new Error(`Â≠òÊ°£„Äå${e.Â≠òÊ°£Âêç}„ÄçÁº∫Â∞ëÂ≠òÊ°£Êï∞ÊçÆÔºåÊó†Ê≥ïÂØºÂá∫`);const n=(0,gd.ru)(t)?t:(0,gd.jj)(t).migrated,a=(0,hd.$)(n);if(!a.isValid)throw new Error(`Â≠òÊ°£„Äå${e.Â≠òÊ°£Âêç}„ÄçÊ†°È™åÂ§±Ë¥•Ôºö${a.errors[0]||"Êú™Áü•ÂéüÂõ†"}`);return{...e,Â≠òÊ°£Êï∞ÊçÆ:n}}),i=(0,pd.q3)("character",{ËßíËâ≤ID:e,ËßíËâ≤‰ø°ÊÅØ:JSON.parse(JSON.stringify(t)),Â≠òÊ°£ÂàóË°®:o}),s=JSON.stringify(i,null,2),l=new Blob([s],{type:"application/json"});console.log("[ËßíËâ≤ÂØºÂá∫] Êï∞ÊçÆÂ§ßÂ∞è:",(s.length/1024).toFixed(2),"KB");const d=document.createElement("a");d.href=URL.createObjectURL(l);const u=t.ËßíËâ≤?.ÂêçÂ≠ó||"Êú™ÂëΩÂêçËßíËâ≤";d.download=`Ë∂ÖÂá°Êñ∞Áîü-ËßíËâ≤-${u}-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),setTimeout(()=>{document.body.removeChild(d),URL.revokeObjectURL(d.href)},100),X.o.success(`Â∑≤ÂØºÂá∫ËßíËâ≤: ${u} (Âê´ ${o.length} ‰∏™Â≠òÊ°£)`)}catch(e){console.error("ÂØºÂá∫ËßíËâ≤Â§±Ë¥•",e),X.o.error("ÂØºÂá∫ËßíËâ≤Â§±Ë¥•: "+(e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"))}finally{v.value=!1}})(String(t)),["stop"]),class:"btn-export"},(0,r.toDisplayString)(e.$t("ÂØºÂá∫")),9,vf),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>(e=>{const t=c.rootState.ËßíËâ≤ÂàóË°®[e]?.ËßíËâ≤.ÂêçÂ≠ó;K("Âà†Èô§ËßíËâ≤",`Á°ÆÂÆöË¶ÅÂΩªÂ∫ïÂà†Èô§ËßíËâ≤"${t}"ÂèäÂÖ∂ÊâÄÊúâË°åÂä®ËÆ∞ÂΩïÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ`,async()=>{u.value===e&&(u.value=null),await c.deleteCharacter(e)})})(String(t)),["stop"]),class:"btn-delete"},(0,r.toDisplayString)(e.$t("Âà†Èô§")),9,bf)])],10,nf))),128))])],2),(0,r.createCommentVNode)(" Âè≥‰æßÔºöÂ≠òÊ°£ËØ¶ÊÉÖ "),(0,r.createElementVNode)("section",yf,[(0,r.createCommentVNode)(" Êú™ÈÄâÊã©ËßíËâ≤ "),B.value?b.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(" Ê≠£Âú®Âä†ËΩΩÂ≠òÊ°£ "),(0,r.createElementVNode)("div",wf,[t[9]||(t[9]=(0,r.createElementVNode)("div",{class:"loading-spinner"},null,-1)),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("Ê≠£Âú®Âä†ËΩΩÂ≠òÊ°£...")),1)])],2112)):"ÂçïÊú∫"===B.value.Ê®°Âºè?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createCommentVNode)(" ÂçïÊú∫Ê®°ÂºèÂ≠òÊ°£ "),(0,r.createElementVNode)("div",Ef,[(0,r.createElementVNode)("div",Nf,[(0,r.createCommentVNode)(" ÊâãÂä®Â≠òÊ°£Âå∫ - ‰ªÖÂçïÊú∫Ê®°ÂºèÊòæÁ§∫ "),"ÂçïÊú∫"===B.value.Ê®°Âºè?((0,r.openBlock)(),(0,r.createElementBlock)("div",Sf,[(0,r.createElementVNode)("div",_f,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("ÊâãÂä®Â≠òÊ°£")),1),(0,r.createElementVNode)("div",Vf,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("Â≠òÊ°£ÈÄöËøáÊ∏∏ÊàèÂÜÖ‰øùÂ≠òÂäüËÉΩÂàõÂª∫")),1)])]),(0,r.createElementVNode)("div",Cf,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((o=B.value,o?.Â≠òÊ°£ÂàóË°®?o.Â≠òÊ°£ÂàóË°®:{}),(a,o)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:o,class:(0,r.normalizeClass)(["save-card manual-save",{"has-data":a.Â≠òÊ°£Êï∞ÊçÆ,"auto-save":"‰∏äÊ¨°ÂØπËØù"===o||"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===o}]),onClick:e=>a.Â≠òÊ°£Êï∞ÊçÆ&&$(u.value,String(o),!0),style:(0,r.normalizeStyle)({cursor:a.Â≠òÊ°£Êï∞ÊçÆ?"pointer":"default"})},[a.Â≠òÊ°£Êï∞ÊçÆ?((0,r.openBlock)(),(0,r.createElementBlock)("div",Df,[(0,r.createElementVNode)("div",Tf,[(0,r.createElementVNode)("h4",Bf,["‰∏äÊ¨°ÂØπËØù"===o?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(C),{key:0,size:16,class:"save-icon last-save-icon"})):"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===o?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Fg),{key:1,size:16,class:"save-icon time-save-icon"})):(0,r.createCommentVNode)("v-if",!0),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(a.Â≠òÊ°£Âêç||o),1)]),(0,r.createElementVNode)("div",If,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>(async(e,t,a)=>{v.value=!0;try{const{loadSaveData:r}=await Promise.resolve().then(n.bind(n,5099)),o=await r(e,t),i=(0,se.isTavernEnv)()?(0,xh.kL)(o):o;if(!i)return X.o.error("Êó†Ê≥ïÂä†ËΩΩÂ≠òÊ°£Êï∞ÊçÆ"),void(v.value=!1);const s=(0,gd.ru)(i)?i:(0,gd.jj)(i).migrated,l=(0,hd.$)(s);if(!l.isValid)throw new Error(l.errors[0]||"Â≠òÊ°£ÁªìÊûÑÊ†°È™åÂ§±Ë¥•");const c=(0,pd.q3)("saves",{characterId:e,characterName:B.value?.ËßíËâ≤?.ÂêçÂ≠ó,saves:[{...a,Â≠òÊ°£Âêç:t,Â≠òÊ°£Êï∞ÊçÆ:s}]}),d=JSON.stringify(c,null,2),u=new Blob([d],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(u);const p=a.Â≠òÊ°£Âêç||t;m.download=`Ë∂ÖÂá°Êñ∞Áîü-${p}-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(m),m.click(),setTimeout(()=>{document.body.removeChild(m),URL.revokeObjectURL(m.href)},100),X.o.success(`Â∑≤ÂØºÂá∫Â≠òÊ°£: ${p}`)}catch(e){console.error("ÂØºÂá∫Â≠òÊ°£Â§±Ë¥•",e),X.o.error("ÂØºÂá∫Â≠òÊ°£Â§±Ë¥•: "+(e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"))}finally{v.value=!1}})(u.value,String(o),a),["stop"]),class:"btn-export-save",title:e.$t("ÂØºÂá∫Ê≠§Â≠òÊ°£")},(0,r.toDisplayString)(e.$t("ÂØº")),9,Mf),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>((e,t)=>{const n=c.rootState.ËßíËâ≤ÂàóË°®[e]?.Â≠òÊ°£ÂàóË°®?.[t],a=n?.Â≠òÊ°£Âêç||t;((e,t,n="",a="",o,i)=>{_.value={show:!0,type:"prompt",title:e,message:t,inputValue:n,placeholder:a,onConfirm:async e=>{await o(e||""),ee()},onCancel:()=>{i&&i(),ee()},travelPoints:null,travelCost:null,isBusy:!1},(0,r.nextTick)(()=>{g.value?.focus()})})("ÈáçÂëΩÂêçÂ≠òÊ°£","ËØ∑ËæìÂÖ•Êñ∞ÁöÑÂ≠òÊ°£ÂêçÁß∞Ôºö",a,"",async n=>{if(n&&n.trim()&&n.trim()!==a){const a=n.trim(),r=c.rootState.ËßíËâ≤ÂàóË°®[e]?.Â≠òÊ°£ÂàóË°®;if(r&&a!==t&&r[a])return void J("ÈáçÂëΩÂêçÂ§±Ë¥•","Â≠òÊ°£ÂêçÁß∞Â∑≤Â≠òÂú®ÔºåËØ∑‰ΩøÁî®ÂÖ∂‰ªñÂêçÁß∞„ÄÇ");await c.renameSave(e,t,a)}})})(u.value,String(o)),["stop"]),class:"btn-edit-save",title:e.$t("ÈáçÂëΩÂêç"),disabled:"‰∏äÊ¨°ÂØπËØù"===o||"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===o},(0,r.toDisplayString)(e.$t("Áºñ")),9,zf),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(e=>((e,t)=>{const n=c.rootState.ËßíËâ≤ÂàóË°®[e],a=n?.ËßíËâ≤.ÂêçÂ≠ó,r="‰∏äÊ¨°ÂØπËØù"===t?"‰∏äÊ¨°ÂØπËØùÂ≠òÊ°£":t;O(n,t)?K("Âà†Èô§Â≠òÊ°£",`Á°ÆÂÆöË¶ÅÂà†Èô§ËßíËâ≤"${a}"ÁöÑ"${r}"ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ`,()=>{c.deleteSave(e,t)}):J("Êó†Ê≥ïÂà†Èô§Â≠òÊ°£","Êó†Ê≥ïÂà†Èô§ËØ•Â≠òÊ°£ÔºöËßíËâ≤Ëá≥Â∞ëÈúÄË¶Å‰øùÁïô‰∏Ä‰∏™Â≠òÊ°£„ÄÇÂ¶ÇÈúÄÂà†Èô§ÔºåËØ∑ÂÖàÂàõÂª∫ÂÖ∂‰ªñÂ≠òÊ°£ÊàñÂà†Èô§Êï¥‰∏™ËßíËâ≤„ÄÇ")})(u.value,String(o)),["stop"]),class:(0,r.normalizeClass)(["btn-delete-save",{disabled:!O(B.value,String(o))}]),disabled:!O(B.value,String(o)),title:L(B.value,String(o))},(0,r.toDisplayString)(e.$t("Âà†")),11,Pf)])]),(0,r.createElementVNode)("div",Rf,[(0,r.createElementVNode)("span",$f,(0,r.toDisplayString)(G(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.Èò∂‰Ωç)),1),(0,r.createElementVNode)("span",Of,(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÂØøÂëΩ?.ÂΩìÂâç??18)+"Â≤Å",1)]),(0,r.createElementVNode)("div",Lf,[(0,r.createElementVNode)("div",Ff,[(0,r.createElementVNode)("div",jf,[t[10]||(t[10]=(0,r.createElementVNode)("span",{class:"label"},"ÁîüÂëΩÂÄº",-1)),(0,r.createElementVNode)("span",Uf,(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÁîüÂëΩÂÄº?.ÂΩìÂâç??0)+" / "+(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÁîüÂëΩÂÄº?.‰∏äÈôê??0),1)]),(0,r.createElementVNode)("div",qf,[t[11]||(t[11]=(0,r.createElementVNode)("span",{class:"label"},"ÁîµÈáè",-1)),(0,r.createElementVNode)("span",Gf,(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÁîµÈáè?.ÂΩìÂâç??0)+" / "+(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÁîµÈáè?.‰∏äÈôê??0),1)]),(0,r.createElementVNode)("div",Hf,[t[12]||(t[12]=(0,r.createElementVNode)("span",{class:"label"},"Â∏¶ÂÆΩ",-1)),(0,r.createElementVNode)("span",Yf,(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.Â∏¶ÂÆΩ?.ÂΩìÂâç??0)+" / "+(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.Â∏¶ÂÆΩ?.‰∏äÈôê??0),1)]),(0,r.createElementVNode)("div",Wf,[t[13]||(t[13]=(0,r.createElementVNode)("span",{class:"label"},"Â£∞Êúõ",-1)),(0,r.createElementVNode)("span",Xf,(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.Â£∞Êúõ??0),1)])])]),(0,r.createElementVNode)("div",Jf,[(0,r.createElementVNode)("span",Kf,(0,r.toDisplayString)(q(a.Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.‰ΩçÁΩÆ?.ÊèèËø∞||"ÂàùÂßãÂú∞"),1),(0,r.createElementVNode)("span",Zf,(0,r.toDisplayString)((i=a.‰øùÂ≠òÊó∂Èó¥,i?new Date(i).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"Êú™‰øùÂ≠ò")),1)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Qf,[t[14]||(t[14]=(0,r.createElementVNode)("div",{class:"empty-slot-icon"},"üìÅ",-1)),(0,r.createElementVNode)("span",ev,(0,r.toDisplayString)(e.$t("Á©∫Â≠òÊ°£ÊßΩ")),1),(0,r.createElementVNode)("span",tv,(0,r.toDisplayString)(e.$t("ÈÄöËøáÊ∏∏ÊàèÂÜÖ‰øùÂ≠òÂàõÂª∫")),1)]))],14,Af);var i}),128))])])):(0,r.createCommentVNode)("v-if",!0)])])],2112)):"ËÅîÊú∫"===B.value.Ê®°Âºè?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:3},[(0,r.createCommentVNode)(" ËÅîÊú∫Ê®°ÂºèÂ≠òÊ°£ "),(0,r.createElementVNode)("div",nv,[d.value?b.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(" Âä†ËΩΩ‰∏≠Áä∂ÊÄÅ "),(0,r.createElementVNode)("div",rv,[t[16]||(t[16]=(0,r.createElementVNode)("div",{class:"loading-spinner"},"‚è≥",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("Ê≠£Âú®Âä†ËΩΩ‰∫ëÁ´ØÂ≠òÊ°£...")),1)])],2112)):B.value.Â≠òÊ°£ÂàóË°®?.["‰∫ëÁ´ØËøêË°å"]?.Â≠òÊ°£Êï∞ÊçÆ?((0,r.openBlock)(),(0,r.createElementBlock)("div",ov,[(0,r.createElementVNode)("div",iv,[(0,r.createElementVNode)("div",sv,[(0,r.createElementVNode)("h4",lv,(0,r.toDisplayString)(e.$t("‰∫ëÁ´ØÂ≠òÊ°£")),1),(0,r.createElementVNode)("div",cv,[(0,r.createElementVNode)("span",dv,(0,r.toDisplayString)(G(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.Èò∂‰Ωç)),1),(0,r.createElementVNode)("span",uv,(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÂØøÂëΩ?.ÂΩìÂâç??18)+"Â≤Å",1)])]),(0,r.createElementVNode)("div",mv,[(0,r.createElementVNode)("div",pv,[(0,r.createElementVNode)("div",gv,[t[17]||(t[17]=(0,r.createElementVNode)("span",{class:"label"},"ÁîüÂëΩÂÄº",-1)),(0,r.createElementVNode)("span",hv,(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÁîüÂëΩÂÄº?.ÂΩìÂâç??0)+" / "+(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÁîüÂëΩÂÄº?.‰∏äÈôê??0),1)]),(0,r.createElementVNode)("div",fv,[t[18]||(t[18]=(0,r.createElementVNode)("span",{class:"label"},"ÁîµÈáè",-1)),(0,r.createElementVNode)("span",vv,(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÁîµÈáè?.ÂΩìÂâç??0)+" / "+(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.ÁîµÈáè?.‰∏äÈôê??0),1)]),(0,r.createElementVNode)("div",bv,[t[19]||(t[19]=(0,r.createElementVNode)("span",{class:"label"},"Â∏¶ÂÆΩ",-1)),(0,r.createElementVNode)("span",yv,(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.Â∏¶ÂÆΩ?.ÂΩìÂâç??0)+" / "+(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.Â∏¶ÂÆΩ?.‰∏äÈôê??0),1)]),(0,r.createElementVNode)("div",xv,[t[20]||(t[20]=(0,r.createElementVNode)("span",{class:"label"},"Â£∞Êúõ",-1)),(0,r.createElementVNode)("span",kv,(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.Â±ûÊÄß?.Â£∞Êúõ??0),1)])])]),(0,r.createElementVNode)("div",wv,[(0,r.createElementVNode)("span",Ev,(0,r.toDisplayString)(q(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].Â≠òÊ°£Êï∞ÊçÆ)?.ËßíËâ≤?.‰ΩçÁΩÆ?.ÊèèËø∞||"ÂàùÂßãÂú∞"),1),(0,r.createElementVNode)("div",Nv,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["sync-status",{synced:!B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÈúÄË¶ÅÂêåÊ≠•}])},(0,r.toDisplayString)(B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"].‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÈúÄË¶ÅÂêåÊ≠•?e.$t("ÂæÖÂêåÊ≠•"):e.$t("Â∑≤ÂêåÊ≠•")),3)])]),(0,r.createElementVNode)("div",Sv,[(0,r.createElementVNode)("button",{onClick:t[4]||(t[4]=e=>$(u.value,"‰∫ëÁ´ØËøêË°å",!0)),class:"btn-play"},(0,r.toDisplayString)(e.$t("ËøõÂÖ•Ê∏∏Êàè")),1),B.value.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËøêË°å"]?.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÈúÄË¶ÅÂêåÊ≠•?((0,r.openBlock)(),(0,r.createElementBlock)("button",_v,(0,r.toDisplayString)(e.$t("ÂêåÊ≠•‰∫ëÁ´Ø")),1)):(0,r.createCommentVNode)("v-if",!0)])])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:3},[(0,r.createCommentVNode)(" Ê≤°ÊúâÂ≠òÊ°£Êï∞ÊçÆÔºöÊòæÁ§∫ÂºÄÂßãÊ∏∏Êàè "),(0,r.createElementVNode)("div",Vv,[(0,r.createElementVNode)("div",Cv,[t[21]||(t[21]=(0,r.createElementVNode)("div",{class:"empty-slot-icon"},"‚òÅÔ∏è",-1)),(0,r.createElementVNode)("span",Av,(0,r.toDisplayString)(e.$t("Â∞öÊú™ÂºÄÂßãË°åÂä®")),1),(0,r.createElementVNode)("p",Dv,(0,r.toDisplayString)(e.$t("ÂºÄÂßãÊÇ®ÁöÑËÅîÊú∫ÊóÖÁ®ãÔºåÂ≠òÊ°£Â∞ÜËá™Âä®ÂêåÊ≠•Âà∞‰∫ëÁ´Ø")),1),(0,r.createElementVNode)("button",{onClick:t[5]||(t[5]=e=>$(u.value,"‰∫ëÁ´ØËøêË°å",!1)),class:"btn-start"},(0,r.toDisplayString)(e.$t("ÂºÄÂßãÊ∏∏Êàè")),1)])])],2112)):((0,r.openBlock)(),(0,r.createElementBlock)("div",av,[t[15]||(t[15]=(0,r.createElementVNode)("div",{class:"login-icon"},"üîê",-1)),(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("ÈúÄË¶ÅÁôªÂΩï")),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ËØ∑ÂÖàÁôªÂΩï‰ª•ÁÆ°ÁêÜËÅîÊú∫ËßíËâ≤Â≠òÊ°£")),1),(0,r.createElementVNode)("button",{onClick:U,class:"btn-login"},(0,r.toDisplayString)(e.$t("ÁôªÂÖ•ÁªàÁ´Ø")),1)]))])],2112)):(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",xf,[(0,r.createElementVNode)("div",kf,[(0,r.createVNode)((0,r.unref)(Lg),{size:30})]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ËØ∑ÈÄâÊã©Â∑¶‰æßËßíËâ≤Êü•ÁúãÂ≠òÊ°£ËØ¶ÊÉÖ")),1)]))]),(0,r.createCommentVNode)(" Á¨¨3Ë°åÔºöÂ∫ïÈÉ®‰ø°ÊÅØÊ†èÔºàÂèØÈÄâÔºâ "),t[22]||(t[22]=(0,r.createElementVNode)("div",{class:"grid-footer-left"},[(0,r.createCommentVNode)(" È¢ÑÁïôÂ∫ïÈÉ®Âå∫Âüü ")],-1)),t[23]||(t[23]=(0,r.createElementVNode)("div",{class:"grid-footer-right"},[(0,r.createCommentVNode)(" È¢ÑÁïôÂ∫ïÈÉ®Âå∫Âüü ")],-1))])])],2112))],2),(0,r.createCommentVNode)(" ËßíËâ≤ËØ¶ÊÉÖÂºπÁ™ó "),m.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:"modal-overlay",onClick:R},[(0,r.createElementVNode)("div",{class:"details-modal",onClick:t[6]||(t[6]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",Tv,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(p.value?.ËßíËâ≤?.ÂêçÂ≠ó)+" - "+(0,r.toDisplayString)(e.$t("ËØ¶ÊÉÖ")),1),(0,r.createElementVNode)("button",{onClick:R,class:"btn-close"},"√ó")]),p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Bv,[(0,r.createElementVNode)("div",Iv,[(0,r.createElementVNode)("div",Mv,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(e.$t("Âü∫Á°Ä‰ø°ÊÅØ")),1),(0,r.createElementVNode)("div",zv,[(0,r.createElementVNode)("div",Pv,[(0,r.createElementVNode)("span",Rv,(0,r.toDisplayString)(e.$t("Áî®Êà∑Âêç")),1),(0,r.createElementVNode)("span",$v,(0,r.toDisplayString)(p.value.ËßíËâ≤.ÂêçÂ≠ó),1)]),(0,r.createElementVNode)("div",Ov,[(0,r.createElementVNode)("span",Lv,(0,r.toDisplayString)(e.$t("‰∏ñÁïå")),1),(0,r.createElementVNode)("span",Fv,(0,r.toDisplayString)(W(p.value.ËßíËâ≤.‰∏ñÁïå)),1)]),(0,r.createElementVNode)("div",jv,[(0,r.createElementVNode)("span",Uv,(0,r.toDisplayString)(e.$t("Ê®°ÂùóÈò∂‰Ωç")),1),(0,r.createElementVNode)("span",qv,(0,r.toDisplayString)(W(p.value.ËßíËâ≤.Ê®°ÂùóÈò∂‰Ωç)),1)]),(0,r.createElementVNode)("div",Gv,[(0,r.createElementVNode)("span",Hv,(0,r.toDisplayString)(e.$t("Âá∫Ë∫´")),1),(0,r.createElementVNode)("span",Yv,(0,r.toDisplayString)(W(p.value.ËßíËâ≤.Âá∫Áîü)),1)]),(0,r.createElementVNode)("div",Wv,[(0,r.createElementVNode)("span",Xv,(0,r.toDisplayString)(e.$t("ÊîπÈÄ†Ê†∏ÂøÉ")),1),(0,r.createElementVNode)("span",Jv,(0,r.toDisplayString)(W(p.value.ËßíËâ≤.ÊîπÈÄ†Ê†∏ÂøÉ)),1)]),(0,r.createElementVNode)("div",Kv,[(0,r.createElementVNode)("span",Zv,(0,r.toDisplayString)(e.$t("Ê®°Âºè")),1),(0,r.createElementVNode)("span",Qv,(0,r.toDisplayString)(p.value.Ê®°Âºè),1)])])]),(0,r.createElementVNode)("div",eb,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(e.$t("ÂàùÂßãÂÖ≠Áª¥")),1),(0,r.createElementVNode)("div",tb,[p.value.ËßíËâ≤.ÂàùÂßãÂÖ≠Áª¥?((0,r.openBlock)(),(0,r.createBlock)(Pg,{key:0,stats:(a=p.value.ËßíËâ≤.ÂàùÂßãÂÖ≠Áª¥,{root_bone:a["‰ΩìË¥®"]||0,spirituality:a["ËÉΩÊ∫ê"]||0,comprehension:a["ÁÆóÊ≥ï"]||0,fortune:a["ËµÑÊ∫êÊÑüÁü•"]||0,charm:a["È≠ÖÂäõ"]||0,temperament:a["ÂøÉÊô∫"]||0}),size:150,maxValue:10},null,8,["stats"])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createElementVNode)("div",nb,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(e.$t("Ê®°ÂùóÊäÄËÉΩ")),1),(0,r.createElementVNode)("div",ab,[p.value.ËßíËâ≤.Ê®°Âùó?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",rb,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(p.value.ËßíËâ≤.Ê®°Âùó,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:t,class:"talent-tag",title:Y(e)},(0,r.toDisplayString)(H(e)),9,ob))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("span",ib,(0,r.toDisplayString)(e.$t("ÊöÇÊó†Ê®°Âùó")),1))])])])])):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0)],2);var a,o}}});var lb=n(5864),cb={};cb.styleTagTransform=k(),cb.setAttributes=v(),cb.insert=h().bind(null,"head"),cb.domAPI=p(),cb.insertStyleElement=y(),u()(lb.A,cb),lb.A&&lb.A.locals&&lb.A.locals;const db=(0,N.A)(sb,[["__scopeId","data-v-4c498e10"]]);var ub=n(5099);const mb={class:"sect-migration"},pb={class:"migration-header"},gb={key:0,class:"migration-reasons"},hb={class:"migration-meta"},fb={class:"meta-item"},vb={class:"value"},bb={class:"meta-item"},yb={class:"value"},xb={class:"meta-item"},kb={class:"value"},wb={class:"migration-actions"},Eb=["disabled"],Nb=["disabled"],Sb=(0,r.defineComponent)({__name:"SectMigrationModal",props:{reasons:{},fromVersion:{},toVersion:{}},setup(e){const t=e,n=(0,md.useCharacterStore)(),a=(0,Au.useGameStateStore)(),o=(0,A.useUIStore)(),i=(0,r.ref)(!1),s=(0,r.computed)(()=>t.toVersion??2),l=(0,r.computed)(()=>t.reasons?.length?t.reasons:["Ê£ÄÊµãÂà∞ÊóßÁâàÁªÑÁªáÂ≠óÊÆµ"]),c=(0,r.computed)(()=>{const e=a.sectMemberInfo?.ÁªÑÁªáÂêçÁß∞,t=a.sectSystem?.ÂΩìÂâçÁªÑÁªá??void 0;return e||t||"Êú™Âä†ÂÖ•ÁªÑÁªá"}),d=(0,r.computed)(()=>{const e=a.sectSystem;return e?.ÁªÑÁªáÊ°£Ê°à?Object.keys(e.ÁªÑÁªáÊ°£Ê°à).length:a.worldInfo?.ÂäøÂäõ‰ø°ÊÅØ?.length||0}),u=(0,r.computed)(()=>n.activeCharacterProfile?.Ê®°Âºè||"Êú™Áü•"),m=async()=>{if(!i.value){i.value=!0;try{const e=a.getCurrentSaveData();if(!e)return void X.o.error("Êú™ÊâæÂà∞Â≠òÊ°£Êï∞ÊçÆÔºåÊó†Ê≥ïËøÅÁßª");await(async e=>{const t=n.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,a=n.activeCharacterProfile;if(!t||!a)return void X.o.warning("Êó†Ê≥ïÂàõÂª∫Â§á‰ªΩÔºöÊú™ÊâæÂà∞ÊøÄÊ¥ªÂ≠òÊ°£");const r=`ÁªÑÁªáËøÅÁßªÂ§á‰ªΩ-${(()=>{const e=new Date,t=e=>String(e).padStart(2,"0");return`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}-${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`})()}`;if("ÂçïÊú∫"===a.Ê®°Âºè)return void await n.saveAsNewSlot(r);await ub.dc(t.ËßíËâ≤ID,r,e);const o="org_migration_backups",i={ËßíËâ≤ID:t.ËßíËâ≤ID,Â≠òÊ°£ÊßΩ‰Ωç:r,Êó∂Èó¥:(new Date).toISOString()},s=JSON.parse(localStorage.getItem(o)||"[]");s.push(i),localStorage.setItem(o,JSON.stringify(s.slice(-20))),X.o.success(`Â∑≤ÂàõÂª∫Êú¨Âú∞Â§á‰ªΩÔºö${r}`)})(e);const t=(e=>{const t=(0,Ku.cloneDeep)(e),n=t.‰∏ñÁïå?.‰ø°ÊÅØ??null,a=Array.isArray(n?.ÂäøÂäõ‰ø°ÊÅØ)?n.ÂäøÂäõ‰ø°ÊÅØ:[],r=em((0,Ku.cloneDeep)(a));n?.ÂäøÂäõ‰ø°ÊÅØ&&(n.ÂäøÂäõ‰ø°ÊÅØ=r);const o=t.Á§æ‰∫§?.ÁªÑÁªá??null,i="number"==typeof o?.ÁâàÊú¨?o.ÁâàÊú¨:0;return t.Á§æ‰∫§&&"object"==typeof t.Á§æ‰∫§||(t.Á§æ‰∫§={}),t.Á§æ‰∫§.ÁªÑÁªá=((e,t,n)=>{const a=e.Á§æ‰∫§?.ÁªÑÁªá??{},r={};t.forEach(e=>{e?.ÂêçÁß∞&&(r[e.ÂêçÁß∞]=e)});const o=a?.ÊàêÂëò‰ø°ÊÅØ?.ÁªÑÁªáÂêçÁß∞??null,i=(e=>{const t={},n=e.Á§æ‰∫§?.ÂÖ≥Á≥ª??{};return Object.entries(n).forEach(([e,n])=>{if(!n||"object"!=typeof n)return;const a=n.ÂäøÂäõÂΩíÂ±û||n.ÁªÑÁªá||n.ÂäøÂäõ;if(!a)return;const r=n.ÂêçÂ≠ó||e;t[a]||(t[a]=[]),t[a].includes(r)||t[a].push(r)}),t})(e);return{...a,ÁâàÊú¨:2,ÂΩìÂâçÁªÑÁªá:a.ÂΩìÂâçÁªÑÁªá??o??null,ÁªÑÁªáÊ°£Ê°à:{...r,...a.ÁªÑÁªáÊ°£Ê°à||{}},ÁªÑÁªáÊàêÂëò:a.ÁªÑÁªáÊàêÂëò??i,ÁªÑÁªáËµÑÊñôÂ∫ì:a.ÁªÑÁªáËµÑÊñôÂ∫ì??{},ÁªÑÁªáÊùÉÈôêÂïÜÂ∫ó:a.ÁªÑÁªáÊùÉÈôêÂïÜÂ∫ó??{},ËøÅÁßªËÆ∞ÂΩï:{Êù•Ê∫êÁâàÊú¨:n,ÁõÆÊ†áÁâàÊú¨:2,Êó∂Èó¥:(new Date).toISOString(),ËØ¥Êòé:"Áî±ÊóßÁâàÁªÑÁªáÂ≠óÊÆµËøÅÁßªÁîüÊàê"}}})(t,r,i),t})(e);a.loadFromSaveData(t),await n.saveCurrentGame(),X.o.success("ÁªÑÁªáÂ≠òÊ°£ËøÅÁßªÂÆåÊàê"),o.hideDetailModal()}catch(e){X.o.error(`ÁªÑÁªáÂ≠òÊ°£ËøÅÁßªÂ§±Ë¥•Ôºö${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}finally{i.value=!1}}},p=()=>{o.hideDetailModal()};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",mb,[(0,r.createElementVNode)("div",pb,[t[0]||(t[0]=(0,r.createElementVNode)("h4",null,"Ê£ÄÊµãÂà∞ÊóßÁâàÁªÑÁªáÂ≠òÊ°£",-1)),(0,r.createElementVNode)("p",null,"Â∞ÜÊääÁªÑÁªáÊï∞ÊçÆÂçáÁ∫ßÂà∞ V"+(0,r.toDisplayString)(s.value)+"ÔºåÂè™ÂÜôÂÖ• V3 Ë∑ØÂæÑÔºà‰∏çÂÜç‰øùÁïôÊóßÂ≠óÊÆµÔºâ„ÄÇ",1)]),l.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",gb,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"reason-item"},[t[1]||(t[1]=(0,r.createElementVNode)("span",{class:"dot"},null,-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e),1)]))),128))])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",hb,[(0,r.createElementVNode)("div",fb,[t[2]||(t[2]=(0,r.createElementVNode)("span",{class:"label"},"ÂΩìÂâçÁªÑÁªá",-1)),(0,r.createElementVNode)("span",vb,(0,r.toDisplayString)(c.value),1)]),(0,r.createElementVNode)("div",bb,[t[3]||(t[3]=(0,r.createElementVNode)("span",{class:"label"},"ÂäøÂäõÊï∞Èáè",-1)),(0,r.createElementVNode)("span",yb,(0,r.toDisplayString)(d.value),1)]),(0,r.createElementVNode)("div",xb,[t[4]||(t[4]=(0,r.createElementVNode)("span",{class:"label"},"Â≠òÊ°£Ê®°Âºè",-1)),(0,r.createElementVNode)("span",kb,(0,r.toDisplayString)(u.value),1)])]),(0,r.createElementVNode)("div",wb,[(0,r.createElementVNode)("button",{class:"primary",disabled:i.value,onClick:m},(0,r.toDisplayString)(i.value?"Ê≠£Âú®ËøÅÁßª...":"ÂàõÂª∫Â§á‰ªΩÂπ∂ËøÅÁßª"),9,Eb),(0,r.createElementVNode)("button",{class:"secondary",disabled:i.value,onClick:p}," Á®çÂêéÂÜçËØ¥ ",8,Nb)]),t[5]||(t[5]=(0,r.createElementVNode)("p",{class:"migration-hint"}," ËøÅÁßªÂâç‰ºöËá™Âä®Â§á‰ªΩÔºöÂçïÊú∫Ê®°ÂºèÁîüÊàêÊñ∞Â≠òÊ°£ÊßΩÔºåËÅîÊú∫Ê®°ÂºèÂÜôÂÖ•Êú¨Âú∞Â§á‰ªΩËÆ∞ÂΩï„ÄÇ ",-1))]))}});var _b=n(5766),Vb={};Vb.styleTagTransform=k(),Vb.setAttributes=v(),Vb.insert=h().bind(null,"head"),Vb.domAPI=p(),Vb.insertStyleElement=y(),u()(_b.A,Vb),_b.A&&_b.A.locals&&_b.A.locals;const Cb=(0,N.A)(Sb,[["__scopeId","data-v-36b6c8d2"]]),Ab={class:"game-view"},Db={class:"main-content"},Tb={class:"fullscreen-shell"},Bb={class:"fullscreen-header"},Ib={class:"fullscreen-title"},Mb={class:"fullscreen-shell"},zb={class:"fullscreen-header"},Pb={class:"fullscreen-title"},Rb={key:2,class:"panel-overlay"},$b={class:"panel-header compact","aria-label":"ÂäüËÉΩÈù¢ÊùøÂØºËà™"},Ob=["title","aria-label"],Lb={class:"panel-title-compact"},Fb={class:"title-text"},jb={class:"panel-actions"},Ub=["title","onClick","aria-label"],qb={class:"panel-content compact"},Gb={key:4,class:"panel-overlay"},Hb={class:"panel-header"},Yb={class:"panel-title"},Wb=["title"],Xb={class:"panel-content"},Jb={class:"data-loading"},Kb={class:"loading-content"},Zb={class:"loading-title"},Qb={class:"loading-message"},ey={class:"loading-steps"},ty={class:"loading-step"},ny={class:"step-text"},ay={class:"loading-step"},ry={class:"step-text"},oy={class:"loading-step active"},iy={class:"step-text"},sy={class:"loading-hint"},ly=(0,r.defineComponent)({__name:"GameView",setup(e){const t=(0,md.useCharacterStore)(),n=(0,Au.useGameStateStore)(),o=(0,A.useUIStore)(),i=(0,a.useRouter)(),s=(0,a.useRoute)(),l=(0,r.ref)(!1),c=(0,r.ref)(!1),d=()=>{l.value=!0},u=()=>{l.value=!1},m=()=>{c.value=!0},p=()=>{c.value=!1},g=(0,r.ref)(null),h=new Set(["Inventory","CharacterDetails","Memory","Relationships","Cultivation","Techniques","ThousandDao","Settings","Save","WorldMap","Events","Sect","SectOverview","SectMembers","SectLibrary","SectContribution","GameVariables","Prompts","APIManagement"]),f=new Set(["Settings","Prompts","APIManagement"]),v={Inventory:{title:"ËÉåÂåÖÁâ©ÂìÅ",icon:Du},CharacterDetails:{title:"‰∫∫Áâ©ËØ¶ÊÉÖ",icon:V},Memory:{title:"ËÆ∞ÂøÜ‰∏≠ÂøÉ",icon:Tu},Relationships:{title:"‰∫∫Áâ©ÂÖ≥Á≥ª",icon:Bu},Cultivation:{title:"ËÆ≠ÁªÉÁ≥ªÁªü",icon:Iu.A},Techniques:{title:"Ê®°ÂùóÂçèËÆÆ",icon:Mu},ThousandDao:{title:"‰∏ìÁ≤æÁõÆÂΩï",icon:zu},Settings:{title:"Á≥ªÁªüËÆæÁΩÆ",icon:Wn.A},Save:{title:"‰øùÂ≠òÊ∏∏Êàè",icon:Pu.A},WorldMap:{title:"‰∏ñÁïåÂú∞Âõæ",icon:Ru},Events:{title:"‰∏ñÁïå‰∫ã‰ª∂",icon:$u},Sect:{title:"ÁªÑÁªáÂäøÂäõ",icon:Ou},SectOverview:{title:"ÁªÑÁªáÊ¶ÇËßà",icon:Ou},SectMembers:{title:"ÁªÑÁªáÊàêÂëò",icon:Bu},SectLibrary:{title:"ÁªÑÁªáÊ°£Ê°à",icon:Iu.A},SectContribution:{title:"Ë¥°ÁåÆÂÖëÊç¢",icon:Lu},GameVariables:{title:"Ê∏∏ÊàèÂèòÈáè",icon:Fu},Prompts:{title:"ÊèêÁ§∫ËØçÁÆ°ÁêÜ",icon:ju},APIManagement:{title:"APIÁÆ°ÁêÜ",icon:Uu.A}},b=(0,r.computed)(()=>h.has(String(s.name))),y=(0,r.computed)(()=>{const e=String(s.name),t=v[e];return t?.title||"ÂäüËÉΩÈù¢Êùø"}),x=(0,r.computed)(()=>{const e=String(s.name),t=v[e];return t?.icon||qu}),k=()=>{"GameMain"!==s.name&&i.push("/game")},w={Memory:[{key:"refresh",title:"Âà∑Êñ∞",icon:Gu.A,action:"refresh"},{key:"test",title:"ÊµãËØïËΩ¨Âåñ",icon:Hu.A,action:"test"},{key:"clear",title:"Ê∏ÖÁêÜ",icon:Yn.A,action:"clear"}],Events:[{key:"refresh",title:"Âà∑Êñ∞",icon:Gu.A,action:"refresh"}],Save:[{key:"refresh",title:"Âà∑Êñ∞",icon:Gu.A,action:"refresh"},{key:"save",title:"Âø´ÈÄüÂ≠òÊ°£",icon:Pu.A,action:"save"}],ThousandDao:[{key:"refresh",title:"Âà∑Êñ∞",icon:Gu.A,action:"refresh"}],GameVariables:[{key:"refresh",title:"Âà∑Êñ∞Êï∞ÊçÆ",icon:Gu.A,action:"refresh"},{key:"export",title:"ÂØºÂá∫JSON",icon:Pu.A,action:"export"},{key:"stats",title:"Êï∞ÊçÆÁªüËÆ°",icon:Yu,action:"stats"}]},E=(0,r.computed)(()=>{const e=String(s.name);return(w[e]||[]).map(e=>({key:e.key,title:e.title,icon:e.icon,onClick:()=>Ju.emit(e.action)}))}),N=(0,r.computed)(()=>{const e=String(s.name);return!!f.has(e)||!!t.activeCharacterProfile});return(0,r.onMounted)(async()=>{(()=>{try{const e=localStorage.getItem("dad_game_settings");if(e){const t=JSON.parse(e);if(t.uiScale){const e=t.uiScale/100;document.documentElement.style.setProperty("--ui-scale",e.toString())}if(t.fontSize){const e={small:"0.875rem",medium:"1rem",large:"1.125rem"}[t.fontSize]||"1rem";document.documentElement.style.setProperty("--base-font-size",e)}document.documentElement.setAttribute("data-theme","dark"),t.theme="dark",localStorage.setItem("dad_game_settings",JSON.stringify(t))}else document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("dad_game_settings",JSON.stringify({theme:"dark"}))}catch(e){console.error("[GameView] Â∫îÁî®ËÆæÁΩÆÂ§±Ë¥•:",e)}})(),Ju.on("open-left-menu",d),Ju.on("close-left-menu",u),Ju.on("open-right-info",m),Ju.on("close-right-info",p)}),(0,r.onBeforeUnmount)(()=>{Ju.off("open-left-menu",d),Ju.off("close-left-menu",u),Ju.off("open-right-info",m),Ju.off("close-right-info",p)}),(0,r.watch)(()=>[n.isGameLoaded,t.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID,t.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.Â≠òÊ°£ÊßΩ‰Ωç],([e])=>{e?(()=>{if(!n.isGameLoaded)return;const e=(()=>{const e=t.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£;return e?`${e.ËßíËâ≤ID}::${e.Â≠òÊ°£ÊßΩ‰Ωç}`:null})();if(!e||g.value===e)return;const a=(e=>{const t={needed:!1,fromVersion:0,toVersion:2,reasons:[]};if(!e)return t;const n=e.Á§æ‰∫§?.ÁªÑÁªá??null,a=null!==n&&"object"==typeof n&&0===Object.keys(n).length,r=!!n?.ÊàêÂëò‰ø°ÊÅØ?.ÁªÑÁªáÂêçÁß∞,o=null!==n&&!a&&2!==n.ÁâàÊú¨;if((!n||a)&&!r)return t;const i="number"==typeof n?.ÁâàÊú¨?n.ÁâàÊú¨:0;return t.fromVersion=i,r&&!n?.ÂΩìÂâçÁªÑÁªá&&t.reasons.push("Áé©ÂÆ∂ÁªÑÁªá‰ø°ÊÅØÊú™ÂêåÊ≠•Âà∞ÁªÑÁªáÁ≥ªÁªü"),o&&t.reasons.push("ÁªÑÁªáÁ≥ªÁªüÁâàÊú¨‰∏çÂåπÈÖç"),t.needed=t.reasons.length>0,t})(n.getCurrentSaveData());a.needed&&(g.value=e,o.showDetailModal({title:"ÁªÑÁªáÂ≠òÊ°£ËøÅÁßª",component:Cb,props:{reasons:a.reasons,fromVersion:a.fromVersion,toVersion:a.toVersion}}))})():g.value=null},{immediate:!0}),(e,t)=>{const n=(0,r.resolveComponent)("router-view");return(0,r.openBlock)(),(0,r.createElementBlock)("div",Ab,[t[6]||(t[6]=(0,r.createElementVNode)("div",{class:"cyber-backdrop"},null,-1)),t[7]||(t[7]=(0,r.createElementVNode)("div",{class:"cyber-scanlines"},null,-1)),(0,r.createCommentVNode)(" È°∂ÈÉ®Ê†è "),(0,r.createVNode)(Em,{onOpenCharacterInfo:m}),(0,r.createCommentVNode)(" ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü "),N.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(["game-content",{"panel-mode":b.value}])},[(0,r.createCommentVNode)(" ‰∏ªÊ∏∏ÊàèÂå∫Âüü "),(0,r.createElementVNode)("div",Db,[(0,r.createCommentVNode)(" Â∑¶‰æßËèúÂçïÂÖ®Â±èË¶ÜÁõñÂ±Ç "),l.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"fullscreen-overlay",onClick:(0,r.withModifiers)(u,["self"])},[(0,r.createElementVNode)("div",Tb,[(0,r.createElementVNode)("div",Bb,[(0,r.createElementVNode)("span",Ib,(0,r.toDisplayString)(e.$t("Ê∏∏ÊàèËèúÂçï")),1),(0,r.createElementVNode)("button",{class:"fullscreen-close",onClick:u},(0,r.toDisplayString)(e.$t("ÂÖ≥Èó≠")),1)]),(0,r.createVNode)(tp,{fullscreen:!0})])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ËßíËâ≤‰ø°ÊÅØÂÖ®Â±èË¶ÜÁõñÂ±Ç "),c.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"fullscreen-overlay",onClick:(0,r.withModifiers)(p,["self"])},[(0,r.createElementVNode)("div",Mb,[(0,r.createElementVNode)("div",zb,[(0,r.createElementVNode)("span",Pb,(0,r.toDisplayString)(e.$t("Êü•ÁúãËßíËâ≤‰ø°ÊÅØ")),1),(0,r.createElementVNode)("button",{class:"fullscreen-close",onClick:p},(0,r.toDisplayString)(e.$t("ÂÖ≥Èó≠")),1)]),(0,r.createVNode)(Eg,{fullscreen:!0})])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÂäüËÉΩÈù¢ÊùøË¶ÜÁõñÂ±Ç "),b.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Rb,[(0,r.createElementVNode)("div",$b,[(0,r.createElementVNode)("button",{class:"back-btn",onClick:k,title:e.$t("ËøîÂõû"),"aria-label":e.$t("ËøîÂõû")},t[1]||(t[1]=[(0,r.createElementVNode)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("polyline",{points:"15 18 9 12 15 6"})],-1)]),8,Ob),(0,r.createElementVNode)("div",Lb,[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(x.value),{size:16,class:"panel-title-icon"})),(0,r.createElementVNode)("span",Fb,(0,r.toDisplayString)(y.value),1)]),(0,r.createElementVNode)("div",jb,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(E.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.key,class:"action-btn-compact",title:e.title,onClick:e.onClick,"aria-label":e.title},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.icon),{size:14}))],8,Ub))),128))])]),(0,r.createElementVNode)("div",qb,[(0,r.createVNode)(n,null,{default:(0,r.withCtx)(({Component:e})=>[((0,r.openBlock)(),(0,r.createBlock)(r.KeepAlive,null,[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e)))],1024))]),_:1})])])):(0,r.unref)(o).showCharacterManagement?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:3},[(0,r.createCommentVNode)(" Ê≠£Â∏∏Ë∑ØÁî±ËßÜÂõæ "),(0,r.createVNode)(n,null,{default:(0,r.withCtx)(({Component:e})=>[((0,r.openBlock)(),(0,r.createBlock)(r.KeepAlive,null,[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e)))],1024))]),_:1})],2112)),(0,r.createCommentVNode)(" ËßíËâ≤ÁÆ°ÁêÜÈù¢Êùø "),(0,r.unref)(o).showCharacterManagement?((0,r.openBlock)(),(0,r.createElementBlock)("div",Gb,[(0,r.createElementVNode)("div",Hb,[(0,r.createElementVNode)("h2",Yb,[(0,r.createVNode)((0,r.unref)(Wu),{size:20,class:"panel-title-icon"}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.$t("ËßíËâ≤ÁÆ°ÁêÜ")),1)]),(0,r.createElementVNode)("button",{class:"panel-close-btn",onClick:t[0]||(t[0]=e=>(0,r.unref)(o).closeCharacterManagement()),title:e.$t("ÂÖ≥Èó≠")},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:20})],8,Wb)]),(0,r.createElementVNode)("div",Xb,[(0,r.createVNode)(db,{onBack:(0,r.unref)(o).closeCharacterManagement},null,8,["onBack"])])])):(0,r.createCommentVNode)("v-if",!0)])],2)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(" Êï∞ÊçÆÊú™Â∞±Áª™Êó∂ÁöÑÊèêÁ§∫ "),(0,r.createElementVNode)("div",Jb,[(0,r.createElementVNode)("div",Kb,[t[5]||(t[5]=(0,r.createElementVNode)("div",{class:"loading-spinner-wrapper"},[(0,r.createElementVNode)("div",{class:"loading-spinner"}),(0,r.createElementVNode)("div",{class:"spinner-glow"})],-1)),(0,r.createElementVNode)("h2",Zb,(0,r.toDisplayString)(e.$t("ÈúìËôπÂêØÂä®ÔºåÁ≥ªÁªüËá™Ê£Ä")),1),(0,r.createElementVNode)("p",Qb,(0,r.toDisplayString)(e.$t("Ê≠£Âú®Âä†ËΩΩËµõÂçö‰∏ñÁïå...")),1),(0,r.createElementVNode)("div",ey,[(0,r.createElementVNode)("div",ty,[t[2]||(t[2]=(0,r.createElementVNode)("span",{class:"step-icon"},"‚úì",-1)),(0,r.createElementVNode)("span",ny,(0,r.toDisplayString)(e.$t("ËøûÊé•‰∏ªÊú∫")),1)]),(0,r.createElementVNode)("div",ay,[t[3]||(t[3]=(0,r.createElementVNode)("span",{class:"step-icon"},"‚úì",-1)),(0,r.createElementVNode)("span",ry,(0,r.toDisplayString)(e.$t("Âä†ËΩΩËßíËâ≤Êï∞ÊçÆ")),1)]),(0,r.createElementVNode)("div",oy,[t[4]||(t[4]=(0,r.createElementVNode)("span",{class:"step-icon"},"‚óã",-1)),(0,r.createElementVNode)("span",iy,(0,r.toDisplayString)(e.$t("ËØªÂèñÂ≠òÊ°£‰ø°ÊÅØ")),1)])]),(0,r.createElementVNode)("p",sy,(0,r.toDisplayString)(e.$t("ÊèêÁ§∫ÔºöËØ∑Âú®Â∑¶‰æßËèúÂçïÈÄâÊã©ËßíËâ≤Âπ∂Âä†ËΩΩÂ≠òÊ°£")),1)])])],2112))])}}});var cy=n(4237),dy={};dy.styleTagTransform=k(),dy.setAttributes=v(),dy.insert=h().bind(null,"head"),dy.domAPI=p(),dy.insertStyleElement=y(),u()(cy.A,dy),cy.A&&cy.A.locals&&cy.A.locals;const uy=(0,N.A)(ly,[["__scopeId","data-v-2285ec0c"]]);var my=n(100);const py={class:"account-container"},gy={class:"account-panel"},hy={class:"header"},fy={class:"title-row"},vy={key:0,class:"backend-locked"},by={key:0,class:"loading"},yy={key:1,class:"sections"},xy=["open"],ky={class:"section-title"},wy={class:"section-body"},Ey={key:0,class:"info-list"},Ny={class:"info-label"},Sy={class:"info-value"},_y={key:1,class:"info-empty"},Vy=(0,r.defineComponent)({__name:"AccountCenter",setup(e){const t=(0,a.useRouter)(),n=(0,my.useAPIManagementStore)(),o=(0,md.useCharacterStore)(),i=(0,r.ref)((0,D.isBackendConfigured)()),s=(0,r.ref)(!1),l=(0,r.ref)(null),c=(0,r.computed)(()=>!!l.value),d=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()},u=(0,r.computed)(()=>[{title:"Ë¥¶Âè∑‰ø°ÊÅØ",open:!0,items:l.value?[{label:"Áî®Êà∑Âêç",value:l.value.user_name},{label:"Ë¥¶Âè∑ID",value:String(l.value.account_id)},{label:"ÈÇÆÁÆ±",value:l.value.email||"Êú™ËÆæÁΩÆ"},{label:"Á©øË∂äÁÇπÊï∞",value:String(l.value.travel_points??0)},{label:"ÊúÄÂêéÁôªÂΩï-Âåó‰∫¨Êó∂Èó¥",value:l.value.last_login?d(l.value.last_login):"Êú™ËÆ∞ÂΩï"},{label:"Ê≥®ÂÜåÊó∂Èó¥",value:d(l.value.created_at)}]:[],emptyText:"Êú™Ëé∑ÂèñÂà∞Ë¥¶Âè∑‰ø°ÊÅØ"}]),m=()=>{t.push("/")},p=async()=>{try{await o.saveLocalDataToBackend()}catch{}try{await ud.promptStorage.resetAll()}catch{}localStorage.removeItem("access_token"),localStorage.removeItem("username"),n.clearAll({clearRemote:!0}),o.clearLocalCharacterData(),l.value=null,X.o.info("Â∑≤ÈÄÄÂá∫ÁôªÂΩï"),t.push("/login")};return(0,r.onMounted)(async()=>{if(i.value)if(localStorage.getItem("access_token")){s.value=!0;try{l.value=await T.Em.get("/api/v1/auth/me")}catch(e){l.value=null,t.push("/login")}finally{s.value=!1}}else t.push("/login")}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",py,[(0,r.createVNode)(S),(0,r.createElementVNode)("div",gy,[(0,r.createElementVNode)("div",hy,[(0,r.createElementVNode)("div",fy,[t[0]||(t[0]=(0,r.createElementVNode)("h2",{class:"title"},"Ë¥¶Âè∑‰∏≠ÂøÉ",-1)),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["status",{ok:c.value,warn:!c.value}])},(0,r.toDisplayString)(c.value?"Â∑≤ÁôªÂΩï":"Êú™ÁôªÂΩï"),3)]),t[1]||(t[1]=(0,r.createElementVNode)("p",{class:"subtitle"},"ÈõÜ‰∏≠ÁÆ°ÁêÜË¥¶Âè∑‰ø°ÊÅØ",-1))]),i.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",by,"Âä†ËΩΩ‰∏≠‚Ä¶")):((0,r.openBlock)(),(0,r.createElementBlock)("div",yy,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("details",{key:e.title,class:"section",open:e.open},[(0,r.createElementVNode)("summary",ky,(0,r.toDisplayString)(e.title),1),(0,r.createElementVNode)("div",wy,[e.items.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ey,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.items,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.label,class:"info-row"},[(0,r.createElementVNode)("span",Ny,(0,r.toDisplayString)(e.label),1),(0,r.createElementVNode)("span",Sy,(0,r.toDisplayString)(e.value),1)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",_y,(0,r.toDisplayString)(e.emptyText||"ÊöÇÊó†‰ø°ÊÅØ"),1))])],8,xy))),128))])),(0,r.createElementVNode)("div",{class:"actions"},[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:m},"ËøîÂõû"),(0,r.createElementVNode)("button",{class:"btn danger",onClick:p},"ÈÄÄÂá∫ÁôªÂΩï")])],64)):((0,r.openBlock)(),(0,r.createElementBlock)("div",vy,[t[2]||(t[2]=(0,r.createElementVNode)("p",null,"Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåË¥¶Âè∑‰∏≠ÂøÉ‰∏çÂèØÁî®„ÄÇ",-1)),(0,r.createElementVNode)("div",{class:"actions"},[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:m},"ËøîÂõû")])]))])]))}});var Cy=n(5674),Ay={};Ay.styleTagTransform=k(),Ay.setAttributes=v(),Ay.insert=h().bind(null,"head"),Ay.domAPI=p(),Ay.insertStyleElement=y(),u()(Cy.A,Ay),Cy.A&&Cy.A.locals&&Cy.A.locals;const Dy=(0,N.A)(Vy,[["__scopeId","data-v-2600fd5e"]]),Ty=(0,_.A)("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),By=(0,_.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var Iy=n(5517),My=n(8381);const zy=(0,_.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Py=(0,_.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var Ry=n(3310);const $y=new class{listeners=new Map;on(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)}off(e,t){this.listeners.get(e)?.delete(t)}async emit(e,t){const n=Array.from(this.listeners.get(e)||[]);for(const e of n)await e(t)}};function Oy(e,t=!0){return $y.emit("send",{text:e,focus:t})}class Ly{static instance=null;undoActions=[];storageKey="protocol_undo_actions";constructor(){this.loadUndoHistoryFromStorage()}static getInstance(){return this.instance||(this.instance=new Ly),this.instance}getEquipmentSlotItemId(e){if(!e)return null;if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&"Áâ©ÂìÅID"in e){const t=e.Áâ©ÂìÅID;return"string"==typeof t?t:null}return null}ensureEquipmentSlots(e){const t={Ë£ÖÂ§á1:null,Ë£ÖÂ§á2:null,Ë£ÖÂ§á3:null,Ë£ÖÂ§á4:null,Ë£ÖÂ§á5:null,Ë£ÖÂ§á6:null},n=e;n.ËßíËâ≤||(n.ËßíËâ≤={});const a=n.ËßíËâ≤.Ë£ÖÂ§á??t,r={...t};for(let e=1;e<=6;e++){const t=`Ë£ÖÂ§á${e}`;r[t]=this.getEquipmentSlotItemId(a?.[t])??null}return n.ËßíËâ≤.Ë£ÖÂ§á=r,r}ensureRoleBackpack(e){const t=e;return t.ËßíËâ≤||(t.ËßíËâ≤={}),t.ËßíËâ≤.ËÉåÂåÖ||(t.ËßíËâ≤.ËÉåÂåÖ={Áâ©ÂìÅ:{},‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:0,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0}}),t.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ||(t.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ={}),t.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ||(t.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ={‰ΩéÈ¢ù:0,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0}),t.ËßíËâ≤.ËÉåÂåÖ}ensureRoleTraining(e){const t=e;return t.ËßíËâ≤||(t.ËßíËâ≤={}),t.ËßíËâ≤.ËÆ≠ÁªÉ||(t.ËßíËâ≤.ËÆ≠ÁªÉ={ËÆ≠ÁªÉÁ®ãÂ∫è:null,ËÆ≠ÁªÉÁä∂ÊÄÅ:{Ê®°Âºè:"Êú™ËÆ≠ÁªÉ"}}),t.ËßíËâ≤.ËÆ≠ÁªÉ}async equipItem(e){const t=(0,Ry.useActionQueueStore)();try{const a=(0,Au.useGameStateStore)(),r=a.toSaveData();if(!r)return X.o.error("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïË£ÖÂ§á"),!1;const o=this.ensureEquipmentSlots(r),i=this.ensureRoleBackpack(r).Áâ©ÂìÅ;if(!i||"object"!=typeof i)return X.o.error("ËÉåÂåÖÊï∞ÊçÆÂºÇÂ∏∏"),!1;const s=i[e.Áâ©ÂìÅID];if(s&&!0===s.Â∑≤Ë£ÖÂ§á)return X.o.info(`„Ää${e.ÂêçÁß∞}„ÄãÂ∑≤ÁªèË£ÖÂ§áÂú®Ë∫´‰∏ä‰∫Ü`),!1;this.removeConflictingActions(e.Áâ©ÂìÅID,"unequip");let l=null,c=null;for(let e=1;e<=6;e++){const t=`Ë£ÖÂ§á${e}`,n=o[t];if(!n||null===n){l=t;break}}if(!l){l="Ë£ÖÂ§á1";const e=o[l];e&&(c=i[e]||null,c&&(i[e]={...c,Â∑≤Ë£ÖÂ§á:!1}))}o[l]=e.Áâ©ÂìÅID,s&&(i[e.Áâ©ÂìÅID]={...s,Â∑≤Ë£ÖÂ§á:!0}),console.log("Ë£ÖÂ§áÊìç‰ΩúÂÆåÊàê:",{ÊßΩ‰Ωç:l,Áâ©ÂìÅ:e,Ë£ÖÂ§áÊ†èÁä∂ÊÄÅ:o});const{applyEquipmentBonus:d}=await Promise.resolve().then(n.bind(n,651));d(r,e.Áâ©ÂìÅID),a.loadFromSaveData(r),await a.saveGame();const u={type:"equip",itemId:e.Áâ©ÂìÅID,itemName:e.ÂêçÁß∞,restoreData:{originalSlot:null,replacedItem:c}};return this.undoActions.push(u),this.saveUndoHistoryToStorage(),t.addAction({type:"equip",itemName:e.ÂêçÁß∞,itemType:e.Á±ªÂûã,description:c?`Ë£ÖÂ§á‰∫Ü„Ää${e.ÂêçÁß∞}„ÄãÔºåÊõøÊç¢‰∫Ü„Ää${c.ÂêçÁß∞}„Äã`:`Ë£ÖÂ§á‰∫Ü„Ää${e.ÂêçÁß∞}„Äã`}),!0}catch(e){return console.error("Ë£ÖÂ§áÁâ©ÂìÅÂ§±Ë¥•:",e),X.o.error("Ë£ÖÂ§áÂ§±Ë¥•"),!1}}async unequipItem(e){const t=(0,Ry.useActionQueueStore)();try{const a=(0,Au.useGameStateStore)(),r=a.toSaveData();if(!r)return X.o.error("Ë£ÖÂ§áÊ†èÊï∞ÊçÆ‰∏çÂ≠òÂú®"),!1;const o=this.ensureEquipmentSlots(r),i=this.ensureRoleBackpack(r).Áâ©ÂìÅ;if(!i||"object"!=typeof i)return X.o.error("ËÉåÂåÖÊï∞ÊçÆÂºÇÂ∏∏"),!1;const s=i[e.Áâ©ÂìÅID];if(!s||!0!==s.Â∑≤Ë£ÖÂ§á){X.o.info(`„Ää${e.ÂêçÁß∞}„ÄãÊú™Ë£ÖÂ§áÔºåÊó†Ê≥ïÂç∏‰∏ã`);let t=!1;for(let n=1;n<=6;n++){const a=`Ë£ÖÂ§á${n}`;o[a]===e.Áâ©ÂìÅID&&(o[a]=null,t=!0)}return t&&(a.loadFromSaveData(r),await a.saveGame()),!1}this.removeConflictingActions(e.Áâ©ÂìÅID,"equip");let l=null;for(let t=1;t<=6;t++){const n=`Ë£ÖÂ§á${t}`;if(o[n]===e.Áâ©ÂìÅID){l=n;break}}if(!l){X.o.error("Ë£ÖÂ§áÊ†è‰∏≠Êú™ÊâæÂà∞ËØ•Ë£ÖÂ§áÔºåÊï∞ÊçÆÂèØËÉΩ‰∏ç‰∏ÄËá¥");const t=this.ensureRoleBackpack(r);return t?.Áâ©ÂìÅ?.[e.Áâ©ÂìÅID]&&(t.Áâ©ÂìÅ[e.Áâ©ÂìÅID].Â∑≤Ë£ÖÂ§á=!1),a.loadFromSaveData(r),await a.saveGame(),!0}o[l]=null,s?(i[e.Áâ©ÂìÅID]={...s,Â∑≤Ë£ÖÂ§á:!1},console.log("Âç∏‰∏ãË£ÖÂ§áÂÆåÊàê:",{Áâ©ÂìÅ:e.ÂêçÁß∞,Áâ©ÂìÅID:e.Áâ©ÂìÅID,Ê∏ÖÁ©∫ÊßΩ‰Ωç:l,Â∑≤Ë£ÖÂ§áÁä∂ÊÄÅ:!1})):console.warn("ËÉåÂåÖ‰∏≠Êú™ÊâæÂà∞Áâ©ÂìÅ:",e.Áâ©ÂìÅID);const{removeEquipmentBonus:c}=await Promise.resolve().then(n.bind(n,651));c(r,e.Áâ©ÂìÅID),a.loadFromSaveData(r),await a.saveGame();const d={type:"unequip",itemId:e.Áâ©ÂìÅID,itemName:e.ÂêçÁß∞,restoreData:{originalSlot:l}};return this.undoActions.push(d),this.saveUndoHistoryToStorage(),t.addAction({type:"unequip",itemName:e.ÂêçÁß∞,itemType:e.Á±ªÂûã,description:`Âç∏‰∏ã‰∫Ü„Ää${e.ÂêçÁß∞}„Äã`}),!0}catch(e){return console.error("Âç∏‰∏ãË£ÖÂ§áÂ§±Ë¥•:",e),X.o.error("Âç∏‰∏ãÂ§±Ë¥•"),!1}}async useItem(e,t=1){const n=(0,Ry.useActionQueueStore)();try{const a=(0,Au.useGameStateStore)(),r=a.toSaveData();if(!r)return X.o.error("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®"),!1;const o=this.ensureRoleBackpack(r),i=o?.Áâ©ÂìÅ?.[e.Áâ©ÂìÅID];if(!i||i.Êï∞Èáè<t)return X.o.error("Áâ©ÂìÅÊï∞Èáè‰∏çË∂≥"),!1;const s=i.Êï∞Èáè,l=JSON.parse(JSON.stringify(i));i.Êï∞Èáè===t?delete o.Áâ©ÂìÅ[e.Áâ©ÂìÅID]:i.Êï∞Èáè-=t,a.updateInventory({Áâ©ÂìÅ:o.Áâ©ÂìÅ}),await a.saveGame();const c={type:"use",itemId:e.Áâ©ÂìÅID,itemName:e.ÂêçÁß∞,quantity:t,restoreData:{originalQuantity:s},itemData:l};this.undoActions.push(c),this.saveUndoHistoryToStorage();const d=["ËçØÂâÇ","ÊùêÊñô","ÂÖ∂‰ªñ"].includes(e.Á±ªÂûã)&&"‰ΩøÁî®ÊïàÊûú"in e?e.‰ΩøÁî®ÊïàÊûú:e.ÊèèËø∞||"Êó†ÁâπÊÆäÊïàÊûú";return n.addAction({type:"use",itemName:e.ÂêçÁß∞,itemType:e.Á±ªÂûã,description:`‰ΩøÁî®‰∫Ü ${t} ‰∏™„Ää${e.ÂêçÁß∞}„ÄãÔºàÊïàÊûúÔºö${d}Ôºâ`}),!0}catch(e){return console.error("‰ΩøÁî®Áâ©ÂìÅÂ§±Ë¥•:",e),X.o.error("‰ΩøÁî®Â§±Ë¥•"),!1}}async trainItem(e){const t=(0,Ry.useActionQueueStore)();try{const n=(0,Au.useGameStateStore)(),a=n.toSaveData();if(!a)return X.o.error("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïËÆ≠ÁªÉÊ®°Âùó"),!1;if("Á®ãÂ∫è"!==e.Á±ªÂûã)return X.o.error("Âè™ËÉΩËÆ≠ÁªÉÊ®°ÂùóÁ±ªÁâ©ÂìÅ"),!1;const r=this.ensureRoleBackpack(a).Áâ©ÂìÅ;if(!r||"object"!=typeof r)return X.o.error("ËÉåÂåÖÊï∞ÊçÆÂºÇÂ∏∏"),!1;let o=null;const i=this.ensureRoleTraining(a),s=i.ËÆ≠ÁªÉÁ®ãÂ∫è;if(s&&s.Áâ©ÂìÅID!==e.Áâ©ÂìÅID){o={...s};const e=s.Áâ©ÂìÅID,t=r[e];t&&"Á®ãÂ∫è"===t.Á±ªÂûã&&(r[e]={...t,Â∑≤Ë£ÖÂ§á:!1,ËÆ≠ÁªÉ‰∏≠:!1})}const l=r[e.Áâ©ÂìÅID];if(!l||"Á®ãÂ∫è"!==l.Á±ªÂûã)return X.o.error("Áâ©ÂìÅ‰∏çÊòØÊ®°ÂùóÁ±ªÂûã"),!1;i.ËÆ≠ÁªÉÁ®ãÂ∫è={Áâ©ÂìÅID:l.Áâ©ÂìÅID,ÂêçÁß∞:l.ÂêçÁß∞},r[e.Áâ©ÂìÅID]={...l,Â∑≤Ë£ÖÂ§á:!0,ËÆ≠ÁªÉ‰∏≠:!0},n.loadFromSaveData(a),await n.saveGame();const c={type:"train",itemId:e.Áâ©ÂìÅID,itemName:e.ÂêçÁß∞,restoreData:{originalTrainingState:{previousTechnique:o,wasInInventory:!0}}};return this.undoActions.push(c),this.saveUndoHistoryToStorage(),t.addAction({type:"train",itemName:e.ÂêçÁß∞,itemType:e.Á±ªÂûã,description:o?`ÂºÄÂßãËÆ≠ÁªÉ„Ää${e.ÂêçÁß∞}„ÄãÊ®°ÂùóÔºåÂÅúÊ≠¢ËÆ≠ÁªÉ„Ää${o.ÂêçÁß∞}„Äã`:`ÂºÄÂßãËÆ≠ÁªÉ„Ää${e.ÂêçÁß∞}„ÄãÊ®°Âùó`}),!0}catch(e){return console.error("ËÆ≠ÁªÉÊ®°ÂùóÂ§±Ë¥•:",e),X.o.error("ËÆ≠ÁªÉÊ®°ÂùóÂ§±Ë¥•"),!1}}async stopTraining(e){const t=(0,Ry.useActionQueueStore)();try{const n=(0,Au.useGameStateStore)(),a=n.toSaveData();if(!a)return X.o.error("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®"),!1;const r=this.ensureRoleTraining(a);if(!r?.ËÆ≠ÁªÉÁ®ãÂ∫è)return X.o.error("ÂΩìÂâçÊ≤°ÊúâÊ≠£Âú®ËÆ≠ÁªÉÁöÑÊ®°Âùó"),!1;const o=r.ËÆ≠ÁªÉÁ®ãÂ∫è,i=o.Áâ©ÂìÅID;if(o.ÂêçÁß∞!==e.ÂêçÁß∞)return X.o.error("Êìç‰ΩúÁöÑÊ®°Âùó‰∏éÂΩìÂâçËÆ≠ÁªÉÁöÑÊ®°Âùó‰∏çÁ¨¶"),!1;const s=this.ensureRoleBackpack(a).Áâ©ÂìÅ;if(!s||"object"!=typeof s)return X.o.error("ËÉåÂåÖÊï∞ÊçÆÂºÇÂ∏∏"),!1;const l=s[i];r.ËÆ≠ÁªÉÁ®ãÂ∫è=null,l&&"Á®ãÂ∫è"===l.Á±ªÂûã&&(s[i]={...l,Â∑≤Ë£ÖÂ§á:!1,ËÆ≠ÁªÉ‰∏≠:!1}),n.loadFromSaveData(a),await n.saveGame();const c={type:"train",itemId:e.Áâ©ÂìÅID,itemName:e.ÂêçÁß∞,restoreData:{originalTrainingState:{previousTechnique:o?{...o}:null,wasInInventory:!1}}};return this.undoActions.push(c),this.saveUndoHistoryToStorage(),t.addAction({type:"stop_training",itemName:e.ÂêçÁß∞,itemType:e.Á±ªÂûã,description:`ÂÅúÊ≠¢ËÆ≠ÁªÉ„Ää${e.ÂêçÁß∞}„ÄãÊ®°Âùó`}),!0}catch(e){return console.error("ÂÅúÊ≠¢ËÆ≠ÁªÉÂ§±Ë¥•:",e),X.o.error("ÂÅúÊ≠¢ËÆ≠ÁªÉÂ§±Ë¥•"),!1}}async undoLastAction(){if(0===this.undoActions.length)return X.o.info("Êú™ÊâæÂà∞ÂèØÊí§ÂõûÁöÑÂä®‰ΩúËÆ∞ÂΩïÔºåÂèØËÉΩÂ∑≤Ê∏ÖÁ©∫ÊàñÂà∑Êñ∞Âêé‰∏¢Â§±"),!1;const e=this.undoActions.pop();this.saveUndoHistoryToStorage();const t=(0,Ry.useActionQueueStore)();try{const n=(0,Au.useGameStateStore)().toSaveData();if(!n)return X.o.error("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®"),!1;switch(e.type){case"equip":await this.undoEquip(e,n);break;case"unequip":await this.undoUnequip(e,n);break;case"use":await this.undoUse(e,n);break;case"train":await this.undoTrain(e,n)}const a=t.pendingActions;for(let n=a.length-1;n>=0;n--)if(a[n].itemName===e.itemName&&a[n].type===e.type){t.removeAction(a[n].id);break}return!0}catch(e){return console.error("Êí§ÂõûÂä®‰ΩúÂ§±Ë¥•:",e),X.o.error("Êí§ÂõûÂ§±Ë¥•"),!1}}async undoByItemName(e,t){if(0===this.undoActions.length)return X.o.info("Êú™ÊâæÂà∞ÂèØÊí§ÂõûÁöÑÂä®‰ΩúËÆ∞ÂΩïÔºåÂèØËÉΩÂ∑≤Ê∏ÖÁ©∫ÊàñÂà∑Êñ∞Âêé‰∏¢Â§±"),!1;let n=-1;for(let a=this.undoActions.length-1;a>=0;a--){const r=this.undoActions[a];if(r.type===e&&r.itemName===t){n=a;break}}if(-1===n)return X.o.info("Êú™ÊâæÂà∞ËØ•Âä®‰ΩúÁöÑÊí§ÂõûËÆ∞ÂΩï"),!1;const a=this.undoActions.splice(n,1)[0];this.saveUndoHistoryToStorage();try{const n=(0,Au.useGameStateStore)(),r=n.toSaveData();if(!r)return X.o.error("ÂΩìÂâçÂ≠òÊ°£‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïÊí§Âõû"),!1;switch(a.type){case"equip":await this.undoEquip(a,r);break;case"unequip":await this.undoUnequip(a,r);break;case"use":await this.undoUse(a,r);break;case"train":await this.undoTrain(a,r)}const o=(0,Ry.useActionQueueStore)(),i=o.pendingActions;for(let n=i.length-1;n>=0;n--)if(i[n].itemName===t&&i[n].type===e){o.removeAction(i[n].id);break}return n.loadFromSaveData(r),await n.saveGame(),!0}catch(e){return console.error("ÊåâÂêçÁß∞Êí§ÂõûÂ§±Ë¥•:",e),X.o.error("Êí§ÂõûÂ§±Ë¥•"),!1}}async undoEquip(e,t){const a=this.ensureEquipmentSlots(t),r=this.ensureRoleBackpack(t).Áâ©ÂìÅ;for(let o=1;o<=6;o++){const i=`Ë£ÖÂ§á${o}`;if(a[i]===e.itemId){const{removeEquipmentBonus:o}=await Promise.resolve().then(n.bind(n,651));if(o(t,e.itemId),a[i]=null,r?.[e.itemId]){const t=r[e.itemId];r[e.itemId]={...t,Â∑≤Ë£ÖÂ§á:!1}}if(e.restoreData?.replacedItem){const{applyEquipmentBonus:o}=await Promise.resolve().then(n.bind(n,651));if(o(t,e.restoreData.replacedItem.Áâ©ÂìÅID),a[i]=e.restoreData.replacedItem.Áâ©ÂìÅID,r?.[e.restoreData.replacedItem.Áâ©ÂìÅID]){const t=r[e.restoreData.replacedItem.Áâ©ÂìÅID];r[e.restoreData.replacedItem.Áâ©ÂìÅID]={...t,Â∑≤Ë£ÖÂ§á:!0}}}break}}}removeUndoAction(e,t){const n=this.undoActions.findIndex(n=>n.type===e&&n.itemName===t);-1!==n&&(this.undoActions.splice(n,1),this.saveUndoHistoryToStorage(),console.log("[Êí§ÈîÄÂéÜÂè≤] ÁßªÈô§‰∫Ü‰∏Ä‰∏™Â∑≤ÊäµÊ∂àÁöÑÂä®‰Ωú:",{type:e,itemName:t}))}async undoUnequip(e,t){if(!e.restoreData?.originalSlot)return;const a=e.restoreData.originalSlot;this.ensureEquipmentSlots(t)[a]=e.itemId;const r=this.ensureRoleBackpack(t).Áâ©ÂìÅ;if(r?.[e.itemId]){const t=r[e.itemId];r[e.itemId]={...t,Â∑≤Ë£ÖÂ§á:!0}}const{applyEquipmentBonus:o}=await Promise.resolve().then(n.bind(n,651));o(t,e.itemId)}async undoUse(e,t){e.itemData?this.ensureRoleBackpack(t).Áâ©ÂìÅ[e.itemId]=JSON.parse(JSON.stringify(e.itemData)):X.o.warning("Áâ©ÂìÅÂ∑≤ÂÆåÂÖ®Ê∂àÂ§±Ôºå‰∏îÊó†Â§á‰ªΩÊï∞ÊçÆÔºåÊó†Ê≥ïÊÅ¢Â§ç")}async undoTrain(e,t){const n=e.restoreData?.originalTrainingState;if(!n)return;const a=this.ensureRoleBackpack(t).Áâ©ÂìÅ;if(!a||"object"!=typeof a)return void console.error("ËÉåÂåÖÊï∞ÊçÆÂºÇÂ∏∏ÔºåÊó†Ê≥ïÊí§ÂõûËÆ≠ÁªÉ");const r=this.ensureRoleTraining(t);if(n.previousTechnique){const e=n.previousTechnique.Áâ©ÂìÅID;r.ËÆ≠ÁªÉÁ®ãÂ∫è={...n.previousTechnique};const t=a[e];t&&"Á®ãÂ∫è"===t.Á±ªÂûã&&(a[e]={...t,Â∑≤Ë£ÖÂ§á:!0,ËÆ≠ÁªÉ‰∏≠:!0})}else r.ËÆ≠ÁªÉÁ®ãÂ∫è=null}clearUndoHistory(){this.undoActions=[],this.saveUndoHistoryToStorage()}getUndoActionsCount(){return this.undoActions.length}removeConflictingActions(e,t){const n=(0,Ry.useActionQueueStore)(),a=n.pendingActions.filter(n=>n.itemName&&n.type===t&&this.findItemByName(n.itemName)?.Áâ©ÂìÅID===e);a.forEach(e=>{n.removeAction(e.id)}),this.undoActions=this.undoActions.filter(n=>!(n.itemId===e&&n.type===t)),this.saveUndoHistoryToStorage(),a.length>0&&X.o.info("Â∑≤ÁßªÈô§ÂÜ≤Á™ÅÁöÑÊìç‰Ωú")}findItemByName(e){const t=(0,Au.useGameStateStore)().toSaveData();if(!t)return null;const n=this.ensureEquipmentSlots(t),a=this.ensureRoleBackpack(t).Áâ©ÂìÅ;if(a)for(const t of Object.values(a))if(t&&"object"==typeof t&&t.ÂêçÁß∞===e)return t;for(let t=1;t<=6;t++){const r=n[`Ë£ÖÂ§á${t}`];if(!r)continue;const o=a?.[r];if(o&&o.ÂêçÁß∞===e)return o}return null}async syncEquipmentToTavern(e){console.warn("[Ë£ÖÂ§áÂêåÊ≠•] syncEquipmentToTavern Â∑≤Â∫üÂºÉÔºåÊñ∞Êû∂ÊûÑ‰∏≠Êï∞ÊçÆÁî± gameStateStore Áªü‰∏ÄÁÆ°ÁêÜ")}async syncInventoryToTavern(e){console.warn("[ËÉåÂåÖÂêåÊ≠•] syncInventoryToTavern Â∑≤Â∫üÂºÉÔºåÊñ∞Êû∂ÊûÑ‰∏≠Êï∞ÊçÆÁî± gameStateStore Áªü‰∏ÄÁÆ°ÁêÜ")}saveUndoHistoryToStorage(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.undoActions))}catch(e){console.warn("[Êí§ÂõûÂéÜÂè≤] ‰øùÂ≠òÂ§±Ë¥•:",e)}}loadUndoHistoryFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const t=JSON.parse(e);Array.isArray(t)&&(this.undoActions=t)}}catch(e){console.warn("[Êí§ÂõûÂéÜÂè≤] Âä†ËΩΩÂ§±Ë¥•:",e)}}}var Fy=n(9852);const jy={class:"formatted-text"},Uy={class:"card-icon"},qy={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Gy={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Hy={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Yy={class:"card-content"},Wy={class:"card-header"},Xy={class:"judgement-title"},Jy={class:"header-right"},Ky={class:"judgement-badge"},Zy={class:"card-body"},Qy={key:0,class:"stat-item"},ex={class:"stat-info"},tx={class:"stat-value"},nx={key:1,class:"stat-item difficulty-item"},ax={class:"stat-info"},rx={class:"stat-value"},ox={key:2,class:"stat-item"},ix={class:"stat-info"},sx={class:"stat-value"},lx={key:3,class:"stat-item"},cx={class:"stat-info"},dx={class:"stat-value"},ux={key:4,class:"details-list"},mx={class:"detail-label"},px={class:"detail-value"},gx={key:0,class:"detail-source"},hx={class:"help-modal-header"},fx={class:"help-modal-content"},vx={class:"help-section"},bx={class:"formula-box"},yx={class:"note"},xx={class:"help-section"},kx={class:"formula-note"},wx={class:"result-list"},Ex={class:"result-item perfect"},Nx={class:"result-label"},Sx={class:"result-desc"},_x={class:"result-item great-success"},Vx={class:"result-label"},Cx={class:"result-desc"},Ax={class:"result-item success"},Dx={class:"result-label"},Tx={class:"result-desc"},Bx={class:"result-item failure"},Ix={class:"result-label"},Mx={class:"result-desc"},zx={class:"result-item critical-failure"},Px={class:"result-label"},Rx={class:"result-desc"},$x={class:"help-section"},Ox={class:"judgement-types"},Lx={class:"type-item"},Fx={class:"type-name"},jx={class:"type-attrs"},Ux={class:"type-item"},qx={class:"type-name"},Gx={class:"type-attrs"},Hx={class:"type-item"},Yx={class:"type-name"},Wx={class:"type-attrs"},Xx={class:"type-item"},Jx={class:"type-name"},Kx={class:"type-attrs"},Zx={class:"type-item"},Qx={class:"type-name"},ek={class:"type-attrs"},tk={class:"help-section"},nk={class:"attributes-desc"},ak={class:"attr-card"},rk={class:"attr-header"},ok={class:"attr-name"},ik={class:"attr-card"},sk={class:"attr-header"},lk={class:"attr-name"},ck={class:"attr-card"},dk={class:"attr-header"},uk={class:"attr-name"},mk={class:"attr-card"},pk={class:"attr-header"},gk={class:"attr-name"},hk={class:"attr-card"},fk={class:"attr-header"},vk={class:"attr-name"},bk={class:"attr-card"},yk={class:"attr-header"},xk={class:"attr-name"},kk={class:"help-section"},wk={class:"tips-list"},Ek=(0,r.defineComponent)({__name:"FormattedText",props:{text:{}},setup(e){const t=(0,r.ref)(!1),n=()=>{t.value=!0},a=()=>{t.value=!1},o=e,i=(0,r.computed)(()=>{const e=[],t=o.text||"";if(!t.trim())return[{type:"normal",content:t}];let n=0;const a=t.replace(/\\\\/g,"\n").replace(/\\n/g,"\n").replace(/\r\n/g,"\n").replace(/\r/g,"\n");for(;n<a.length;){const t=[],r=a.indexOf("„Äê",n);if(-1!==r){const e=a.indexOf("„Äë",r+1);-1!==e&&t.push({start:r,end:e+1,type:"environment",contentStart:r+1,contentEnd:e})}const o=a.indexOf("`",n);if(-1!==o){const e=a.indexOf("`",o+1);-1!==e&&t.push({start:o,end:e+1,type:"psychology",contentStart:o+1,contentEnd:e})}const i=a.indexOf('"',n);if(-1!==i){const e=a.indexOf('"',i+1);-1!==e&&t.push({start:i,end:e+1,type:"dialogue",contentStart:i+1,contentEnd:e})}const s=a.indexOf("‚Äú",n);if(-1!==s){const e=a.indexOf("‚Äù",s+1);-1!==e&&t.push({start:s,end:e+1,type:"quote",contentStart:s,contentEnd:e+1})}const l=a.indexOf("„Äå",n);if(-1!==l){const e=a.indexOf("„Äç",l+1);-1!==e&&t.push({start:l,end:e+1,type:"dialogue",contentStart:l,contentEnd:e+1})}const c=a.indexOf("„Äñ",n);if(-1!==c){const e=a.indexOf("„Äó",c+1);-1!==e&&t.push({start:c,end:e+1,type:"judgement",contentStart:c+1,contentEnd:e})}const d=t.filter(e=>e.start>=n&&e.contentStart<e.contentEnd).sort((e,t)=>e.start-t.start);if(0===d.length){n<a.length&&e.push({type:"normal",content:a.slice(n)});break}const u=d[0];if(u.start>n){const t=a.slice(n,u.start);t&&e.push({type:"normal",content:t})}const m=a.slice(u.contentStart,u.contentEnd);if(m.trim())if("judgement"===u.type){const t=m.split(",").map(e=>e.trim());if(t.length>=1){const n=t[0].split(":");if(2===n.length){const a={title:n[0].trim(),result:n[1].trim(),dice:"Êú™Áü•",attribute:"",details:[]};for(let e=1;e<t.length;e++){const n=t[e],[r,o]=n.split(":").map(e=>e.trim());r&&o&&(r.includes("ÈöæÂ∫¶")?a.difficulty=o:r.includes("Âà§ÂÆöÂÄº")?a.finalValue=o:r.includes("Âä†Êàê")?a.bonus=o:r.includes("ÊúÄÁªàÂÄº")||r.includes("ÊÄªÂÄº")?a.finalValue=o:r.includes("ÈÄ†Êàê‰º§ÂÆ≥")?a.damage=o:r.includes("Ââ©‰ΩôÁîüÂëΩÂÄº")?a.remainingHp=o:a.details?.push(`${r}:${o}`))}e.push({type:"judgement-card",content:a})}else if(1===n.length){const n={title:"Á≥ªÁªüÊèêÁ§∫",result:m.trim(),dice:"",attribute:"",details:[]};for(let e=1;e<t.length;e++){const a=t[e],[r,o]=a.split(":").map(e=>e.trim());r&&o&&(r.includes("ÈöæÂ∫¶")?n.difficulty=o:r.includes("Âä†Êàê")?n.bonus=o:r.includes("ÊúÄÁªàÂÄº")||r.includes("ÊÄªÂÄº")?n.finalValue=o:r.match(/^[^\d\s]+$/)?n.attribute?n.details?.push(`${r}:${o}`):n.attribute=`${r}:${o}`:n.details?.push(a))}e.push({type:"judgement-card",content:n})}else e.push({type:"normal",content:`„Äñ${m}„Äó`})}else e.push({type:"normal",content:`„Äñ${m}„Äó`})}else e.push({type:u.type,content:a.slice(u.start,u.end)});n=u.end}return e.length>0?e:[{type:"normal",content:t}]}),s=e=>["ÊàêÂäü","Â§ßÊàêÂäü","ÂÆåÁæé","ÈÄöËøá"].includes(e),l=e=>["Â§±Ë¥•","Â§ßÂ§±Ë¥•","Â§±Ë¥•ÊÉ®Èáç","Êú™ÈÄöËøá"].includes(e),c=e=>e.split(":")[0]+":",d=e=>{const t=e.split(":");if(t.length<2)return"";const n=t[1],a=n.match(/^([+-]?\d+)/);return a?a[1]:n.split("(")[0].trim()},u=e=>{const t=e.split(":");if(t.length<2)return"";const n=t[1].match(/\(([^)]+)\)/);return n?`(${n[1]})`:""};return(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",jy,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,(e,t)=>{return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:t},["judgement-card"!==e.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)((i=e.type,{"text-environment":"environment"===i,"text-psychology":"psychology"===i,"text-dialogue":"dialogue"===i,"text-quote":"quote"===i,"text-normal":"normal"===i}))},(0,r.toDisplayString)(e.content),3)):(a=e.content,"object"==typeof a&&null!==a&&"title"in a?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:(0,r.normalizeClass)(["judgement-card",{"is-success":s(e.content.result),"is-failure":l(e.content.result),"is-great-success":e.content.result?.includes("Â§ßÊàêÂäü"),"is-great-failure":e.content.result?.includes("Â§ßÂ§±Ë¥•")}])},[(0,r.createElementVNode)("div",Uy,[s(e.content.result)?((0,r.openBlock)(),(0,r.createElementBlock)("svg",qy,o[1]||(o[1]=[(0,r.createElementVNode)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},null,-1),(0,r.createElementVNode)("polyline",{points:"22 4 12 14.01 9 11.01"},null,-1)]))):l(e.content.result)?((0,r.openBlock)(),(0,r.createElementBlock)("svg",Gy,o[2]||(o[2]=[(0,r.createElementVNode)("circle",{cx:"12",cy:"12",r:"10"},null,-1),(0,r.createElementVNode)("line",{x1:"15",y1:"9",x2:"9",y2:"15"},null,-1),(0,r.createElementVNode)("line",{x1:"9",y1:"9",x2:"15",y2:"15"},null,-1)]))):((0,r.openBlock)(),(0,r.createElementBlock)("svg",Hy,o[3]||(o[3]=[(0,r.createElementVNode)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},null,-1),(0,r.createElementVNode)("line",{x1:"12",y1:"9",x2:"12",y2:"13"},null,-1),(0,r.createElementVNode)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)])))]),(0,r.createElementVNode)("div",Yy,[(0,r.createElementVNode)("div",Wy,[(0,r.createElementVNode)("span",Xy,(0,r.toDisplayString)(e.content.title),1),(0,r.createElementVNode)("div",Jy,[(0,r.createElementVNode)("span",Ky,(0,r.toDisplayString)(e.content.result),1),(0,r.createElementVNode)("button",{class:"help-btn",onClick:(0,r.withModifiers)(n,["stop"]),title:"Êü•ÁúãÂà§ÂÆöËßÑÂàô"},o[4]||(o[4]=[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,r.createElementVNode)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.createElementVNode)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,r.createElementVNode)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1)]))])]),(0,r.createElementVNode)("div",Zy,[e.content.finalValue?((0,r.openBlock)(),(0,r.createElementBlock)("div",Qy,[o[6]||(o[6]=(0,r.createElementVNode)("span",{class:"stat-icon"},"‚ú®",-1)),(0,r.createElementVNode)("div",ex,[o[5]||(o[5]=(0,r.createElementVNode)("span",{class:"stat-label"},"Âà§ÂÆöÂÄº",-1)),(0,r.createElementVNode)("span",tx,(0,r.toDisplayString)(e.content.finalValue),1)])])):(0,r.createCommentVNode)("v-if",!0),e.content.difficulty?((0,r.openBlock)(),(0,r.createElementBlock)("div",nx,[o[8]||(o[8]=(0,r.createElementVNode)("span",{class:"stat-icon"},"üéØ",-1)),(0,r.createElementVNode)("div",ax,[o[7]||(o[7]=(0,r.createElementVNode)("span",{class:"stat-label"},"ÈöæÂ∫¶",-1)),(0,r.createElementVNode)("span",rx,(0,r.toDisplayString)(e.content.difficulty),1)])])):(0,r.createCommentVNode)("v-if",!0),e.content.damage?((0,r.openBlock)(),(0,r.createElementBlock)("div",ox,[o[10]||(o[10]=(0,r.createElementVNode)("span",{class:"stat-icon"},"‚öîÔ∏è",-1)),(0,r.createElementVNode)("div",ix,[o[9]||(o[9]=(0,r.createElementVNode)("span",{class:"stat-label"},"‰º§ÂÆ≥",-1)),(0,r.createElementVNode)("span",sx,(0,r.toDisplayString)(e.content.damage),1)])])):(0,r.createCommentVNode)("v-if",!0),e.content.remainingHp?((0,r.openBlock)(),(0,r.createElementBlock)("div",lx,[o[12]||(o[12]=(0,r.createElementVNode)("span",{class:"stat-icon"},"‚ù§Ô∏è",-1)),(0,r.createElementVNode)("div",cx,[o[11]||(o[11]=(0,r.createElementVNode)("span",{class:"stat-label"},"Ââ©‰ΩôÁîüÂëΩÂÄº",-1)),(0,r.createElementVNode)("span",dx,(0,r.toDisplayString)(e.content.remainingHp),1)])])):(0,r.createCommentVNode)("v-if",!0),e.content.details&&e.content.details.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",ux,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.content.details,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"detail-item",key:t},[(0,r.createElementVNode)("span",mx,(0,r.toDisplayString)(c(e)),1),(0,r.createElementVNode)("span",px,(0,r.toDisplayString)(d(e)),1),u(e)?((0,r.openBlock)(),(0,r.createElementBlock)("span",gx,(0,r.toDisplayString)(u(e)),1)):(0,r.createCommentVNode)("v-if",!0)]))),128))])):(0,r.createCommentVNode)("v-if",!0)])])],2)):(0,r.createCommentVNode)("v-if",!0))],64);var a,i}),128))]),(0,r.createCommentVNode)(" Âà§ÂÆöËßÑÂàôÂ∏ÆÂä©ÂºπÁ™ó "),((0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{to:"body"},[t.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"help-modal-overlay",onClick:a},[(0,r.createElementVNode)("div",{class:"help-modal",onClick:o[0]||(o[0]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",hx,[(0,r.createElementVNode)("h3",null,"üé≤ "+(0,r.toDisplayString)(e.$t("Âà§ÂÆöËßÑÂàôËØ¥Êòé")),1),(0,r.createElementVNode)("button",{class:"close-btn",onClick:a},o[13]||(o[13]=[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,r.createElementVNode)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.createElementVNode)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),(0,r.createElementVNode)("div",fx,[(0,r.createElementVNode)("div",vx,[(0,r.createElementVNode)("h4",null,"üìä "+(0,r.toDisplayString)(e.$t("Âà§ÂÆöËÆ°ÁÆóÂÖ¨Âºè"))+" (v6.0)",1),(0,r.createElementVNode)("div",bx,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.$t("ÊúÄÁªàÂà§ÂÆöÂÄº")),1),(0,r.createTextVNode)(" = "+(0,r.toDisplayString)(e.$t("Âü∫Á°ÄÂÄº"))+" + "+(0,r.toDisplayString)(e.$t("È™∞Â≠êÂä†Êàê"))+" + "+(0,r.toDisplayString)(e.$t("ÁéØÂ¢É‰øÆÊ≠£"))+" + "+(0,r.toDisplayString)(e.$t("Áä∂ÊÄÅ‰øÆÊ≠£")),1)]),(0,r.createElementVNode)("ol",null,[(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.$t("Âü∫Á°ÄÂÄº")),1),(0,r.createTextVNode)("Ôºö"+(0,r.toDisplayString)(e.$t("ÂÖàÂ§©Â±ûÊÄßÂä†ÊùÉ + Á≠âÁ∫ßÂä†Êàê + ÊäÄËâ∫Âä†Êàê")),1)]),(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.$t("È™∞Â≠êÂä†Êàê")),1),(0,r.createTextVNode)("Ôºö"+(0,r.toDisplayString)(e.$t("(ÂéüÂßãÈ™∞Â≠ê √ó ËµÑÊ∫êÊÑüÁü•Á≥ªÊï∞ - 50) √∑ 5"))+" ",1),(0,r.createElementVNode)("span",yx,"("+(0,r.toDisplayString)(e.$t("Âèó„ÄêËµÑÊ∫êÊÑüÁü•„ÄëÂΩ±ÂìçÔºåÁÇπÊï∞<50‰∏∫Ë¥ü"))+")",1)]),(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.$t("ÁéØÂ¢É‰øÆÊ≠£")),1),(0,r.createTextVNode)("Ôºö"+(0,r.toDisplayString)(e.$t("‰ø°Âè∑Âº∫Â∫¶ÂΩ±ÂìçÔºàËÆ≠ÁªÉ/Âà∂ÈÄ†/ÊàòÊñóÔºâÔºåÊé¢Á¥¢Á§æ‰∫§‰∏çÂèóÂΩ±Âìç")),1)]),(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.$t("Áä∂ÊÄÅ‰øÆÊ≠£")),1),(0,r.createTextVNode)("Ôºö"+(0,r.toDisplayString)(e.$t("ÁîüÂëΩÁä∂ÊÄÅÔºàÈáç‰º§/ËôöÂº±ÔºâÂèä Buff/Debuff ÂΩ±Âìç")),1)])])]),(0,r.createElementVNode)("div",xx,[(0,r.createElementVNode)("h4",null,"üéØ "+(0,r.toDisplayString)(e.$t("Âà§ÂÆöÁªìÊûú")),1),(0,r.createElementVNode)("div",kx,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.$t("Âà§ÂÆöËßÑÂàô")),1),(0,r.createTextVNode)(": "+(0,r.toDisplayString)(e.$t("Âà§ÂÆöÂÄº‰∏éÈöæÂ∫¶ÂØπÊØîÔºåÂÆåÂÖ®Âü∫‰∫éÂ±ûÊÄß„ÄÅÁ≠âÁ∫ßÂíåÂä†Êàê")),1)]),(0,r.createElementVNode)("div",wx,[(0,r.createElementVNode)("div",Ex,[(0,r.createElementVNode)("span",Nx,(0,r.toDisplayString)(e.$t("ÂÆåÁæé")),1),(0,r.createElementVNode)("span",Sx,(0,r.toDisplayString)(e.$t("Âà§ÂÆöÂÄº ‚â• ÈöæÂ∫¶+30")),1)]),(0,r.createElementVNode)("div",_x,[(0,r.createElementVNode)("span",Vx,(0,r.toDisplayString)(e.$t("Â§ßÊàêÂäü")),1),(0,r.createElementVNode)("span",Cx,(0,r.toDisplayString)(e.$t("Âà§ÂÆöÂÄº ‚â• ÈöæÂ∫¶+15ÔºåË∂ÖÈ¢ùÂÆåÊàê")),1)]),(0,r.createElementVNode)("div",Ax,[(0,r.createElementVNode)("span",Dx,(0,r.toDisplayString)(e.$t("ÊàêÂäü")),1),(0,r.createElementVNode)("span",Tx,(0,r.toDisplayString)(e.$t("Âà§ÂÆöÂÄº ‚â• ÈöæÂ∫¶ÔºåËææÊàêÁõÆÊ†á")),1)]),(0,r.createElementVNode)("div",Bx,[(0,r.createElementVNode)("span",Ix,(0,r.toDisplayString)(e.$t("Â§±Ë¥•")),1),(0,r.createElementVNode)("span",Mx,(0,r.toDisplayString)(e.$t("Âà§ÂÆöÂÄº < ÈöæÂ∫¶ÔºåÊú™ËææÊàê")),1)]),(0,r.createElementVNode)("div",zx,[(0,r.createElementVNode)("span",Px,(0,r.toDisplayString)(e.$t("Â§ßÂ§±Ë¥•")),1),(0,r.createElementVNode)("span",Rx,(0,r.toDisplayString)(e.$t("Âà§ÂÆöÂÄºËøú‰Ωé‰∫éÈöæÂ∫¶ÔºàÈöæÂ∫¶-15‰ª•‰∏ãÔºâ")),1)])])]),(0,r.createElementVNode)("div",$x,[(0,r.createElementVNode)("h4",null,"‚öîÔ∏è "+(0,r.toDisplayString)(e.$t("Âà§ÂÆöÁ±ªÂûã‰∏éÂ±ûÊÄßÈÖçÊØî")),1),(0,r.createElementVNode)("div",Ox,[(0,r.createElementVNode)("div",Lx,[(0,r.createElementVNode)("span",Fx,(0,r.toDisplayString)(e.$t("ÊàòÊñóÂà§ÂÆö")),1),(0,r.createElementVNode)("span",jx,(0,r.toDisplayString)(e.$t("‰ΩìË¥®50% + ËÉΩÊ∫ê30% + ËµÑÊ∫êÊÑüÁü•20%")),1)]),(0,r.createElementVNode)("div",Ux,[(0,r.createElementVNode)("span",qx,(0,r.toDisplayString)(e.$t("ËÆ≠ÁªÉÂà§ÂÆö")),1),(0,r.createElementVNode)("span",Gx,(0,r.toDisplayString)(e.$t("ÁÆóÊ≥ï50% + ËÉΩÊ∫ê30% + ÂøÉÊô∫20%")),1)]),(0,r.createElementVNode)("div",Hx,[(0,r.createElementVNode)("span",Yx,(0,r.toDisplayString)(e.$t("ÊäÄËâ∫Âà§ÂÆö")),1),(0,r.createElementVNode)("span",Wx,(0,r.toDisplayString)(e.$t("ÁÆóÊ≥ï50% + ‰ΩìË¥®30% + ËÉΩÊ∫ê20%")),1)]),(0,r.createElementVNode)("div",Xx,[(0,r.createElementVNode)("span",Jx,(0,r.toDisplayString)(e.$t("Á§æ‰∫§Âà§ÂÆö")),1),(0,r.createElementVNode)("span",Kx,(0,r.toDisplayString)(e.$t("È≠ÖÂäõ50% + ÁÆóÊ≥ï30% + ÂøÉÊô∫20%")),1)]),(0,r.createElementVNode)("div",Zx,[(0,r.createElementVNode)("span",Qx,(0,r.toDisplayString)(e.$t("Êé¢Á¥¢Âà§ÂÆö")),1),(0,r.createElementVNode)("span",ek,(0,r.toDisplayString)(e.$t("ËµÑÊ∫êÊÑüÁü•50% + ËÉΩÊ∫ê30% + ÁÆóÊ≥ï20%")),1)])])]),(0,r.createElementVNode)("div",tk,[(0,r.createElementVNode)("h4",null,"üìñ "+(0,r.toDisplayString)(e.$t("ÂÖ≠Áª¥Â±ûÊÄßËØ¥Êòé")),1),(0,r.createElementVNode)("div",nk,[(0,r.createElementVNode)("div",ak,[(0,r.createElementVNode)("div",rk,[o[14]||(o[14]=(0,r.createElementVNode)("span",{class:"attr-icon"},"üí™",-1)),(0,r.createElementVNode)("span",ok,(0,r.toDisplayString)(e.$t("‰ΩìË¥®")),1)]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ÂÜ≥ÂÆöÁîüÂëΩÂÄº‰∏äÈôê„ÄÅÊÅ¢Â§çÈÄüÂ∫¶„ÄÅÂØøÂëΩ‰∏äÈôê„ÄÇÂΩ±Âìç‰ΩìËÉΩËÆ≠ÁªÉ‰∏éÊäóÊâìÂáªËÉΩÂäõ„ÄÇ")),1)]),(0,r.createElementVNode)("div",ik,[(0,r.createElementVNode)("div",sk,[o[15]||(o[15]=(0,r.createElementVNode)("span",{class:"attr-icon"},"‚ú®",-1)),(0,r.createElementVNode)("span",lk,(0,r.toDisplayString)(e.$t("ËÉΩÊ∫ê")),1)]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ÂÜ≥ÂÆöÁîµÈáè‰∏äÈôê„ÄÅÂÖÖËÉΩÊïàÁéá„ÄÇÂΩ±ÂìçËÆ≠ÁªÉÈÄüÂ∫¶„ÄÅÊ®°ÂùóÂ®ÅÂäõ„ÄÇ")),1)]),(0,r.createElementVNode)("div",ck,[(0,r.createElementVNode)("div",dk,[o[16]||(o[16]=(0,r.createElementVNode)("span",{class:"attr-icon"},"üß†",-1)),(0,r.createElementVNode)("span",uk,(0,r.toDisplayString)(e.$t("ÁÆóÊ≥ï")),1)]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ÂÜ≥ÂÆöÂ∏¶ÂÆΩ‰∏äÈôê„ÄÅÂ≠¶‰π†ÊïàÁéá„ÄÇÂΩ±ÂìçÊ®°ÂùóÈ¢ÜÊÇü„ÄÅÊäÄËÉΩÊéåÊè°ÈÄüÂ∫¶„ÄÇ")),1)]),(0,r.createElementVNode)("div",mk,[(0,r.createElementVNode)("div",pk,[o[17]||(o[17]=(0,r.createElementVNode)("span",{class:"attr-icon"},"üçÄ",-1)),(0,r.createElementVNode)("span",gk,(0,r.toDisplayString)(e.$t("ËµÑÊ∫êÊÑüÁü•")),1)]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ÂÜ≥ÂÆöÂêÑÁßçÊ¶ÇÁéá„ÄÅÁâ©ÂìÅÊéâËêΩÂìÅË¥®„ÄÇÂΩ±ÂìçËµÑÊ∫êËé∑Âèñ‰∏éÂÖ≥ÈîÆ‰∫∫ËÑâ„ÄÇ")),1)]),(0,r.createElementVNode)("div",hk,[(0,r.createElementVNode)("div",fk,[o[18]||(o[18]=(0,r.createElementVNode)("span",{class:"attr-icon"},"üå∫",-1)),(0,r.createElementVNode)("span",vk,(0,r.toDisplayString)(e.$t("È≠ÖÂäõ")),1)]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ÂÜ≥ÂÆöÂàùÂßãÂ•ΩÊÑüÂ∫¶„ÄÅÁ§æ‰∫§Âä†Êàê„ÄÇÂΩ±ÂìçNPC‰∫íÂä®„ÄÅÁªÑÁªáÂ£∞ÊúõËé∑Âèñ„ÄÇ")),1)]),(0,r.createElementVNode)("div",bk,[(0,r.createElementVNode)("div",yk,[o[19]||(o[19]=(0,r.createElementVNode)("span",{class:"attr-icon"},"üíé",-1)),(0,r.createElementVNode)("span",xk,(0,r.toDisplayString)(e.$t("ÂøÉÊô∫")),1)]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.$t("ÂÜ≥ÂÆöÁ≤æÁ•ûÊäóÊÄß„ÄÅÊÑèÂøóÂäõ„ÄÇÂΩ±ÂìçËøáËΩΩÂ§±ÊéßÊäµÊäó„ÄÅÂÖ≥ÈîÆÊäâÊã©„ÄÇ")),1)])])]),(0,r.createElementVNode)("div",kk,[(0,r.createElementVNode)("h4",null,"üí° "+(0,r.toDisplayString)(e.$t("ÊèêÂçáÂà§ÂÆöÊàêÂäüÁéá")),1),(0,r.createElementVNode)("ul",wk,[(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("ÂàùÂßãÂÖ≠Áª¥ÔºöÂ§©ËµãÂÜ≥ÂÆö‰∏äÈôêÔºåÊó†Ê≥ïÊîπÂèò‰ΩÜÂΩ±ÂìçÊúÄÂ§ß")),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("ÊèêÂçáÁ≠âÁ∫ßÔºöÁ≠âÁ∫ßË∂äÈ´òÔºåÂà§ÂÆöÂü∫Á°ÄÂä†ÊàêË∂äÂ§ßÔºàN1+5ÔºåN2+12...Ôºâ")),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("ÊèêÂçáÊàêÈïøÔºöÊàêÈïøÂÖ≠Áª¥ÂèØÊèêÂçáÔºå‰ΩÜÊùÉÈáç‰ªÖ20%")),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("Â≠¶‰π†Ê®°ÂùóÔºöÈ´òÂìÅË¥®Ê®°ÂùóÂíåÊäÄËÉΩÁÜüÁªÉÂ∫¶Êèê‰æõÊòæËëóÂä†Êàê")),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("Ë£ÖÂ§áË£ÖÁΩÆÔºöÂêàÈÄÇÁöÑË£ÖÂ§áËÉΩÂ§ßÂπÖÊèêÂçáÂà§ÂÆöÂÄº")),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("Áä∂ÊÄÅÊïàÊûúÔºöbuffÂ¢ûÂº∫Âà§ÂÆöÔºåÊ≥®ÊÑèÈÅøÂÖçdebuff")),1),(0,r.createElementVNode)("li",null,(0,r.toDisplayString)(e.$t("Á≠âÁ∫ßÂéãÂà∂ÔºöÈ´òÁ≠âÁ∫ßÂØπ‰ΩéÁ≠âÁ∫ßÊúâÊòéÊòæ‰ºòÂäøÔºå‰ΩÜ‰∏çÊòØÁªùÂØπ")),1)])])])])])):(0,r.createCommentVNode)("v-if",!0)]))],64))}});var Nk=n(5667),Sk={};Sk.styleTagTransform=k(),Sk.setAttributes=v(),Sk.insert=h().bind(null,"head"),Sk.domAPI=p(),Sk.insertStyleElement=y(),u()(Nk.A,Sk),Nk.A&&Nk.A.locals&&Nk.A.locals;const _k=(0,N.A)(Ek,[["__scopeId","data-v-3448beea"]]),Vk={class:"main-game-panel"},Ck={key:0,class:"memory-section"},Ak={class:"memory-title"},Dk={key:0,class:"memory-dropdown"},Tk={class:"memory-content"},Bk={key:0,class:"no-memory"},Ik={class:"current-narrative"},Mk={key:0,class:"ai-processing-indicator"},zk={class:"streaming-meta"},Pk={class:"narrative-time"},Rk={class:"streaming-indicator"},$k={class:"streaming-text"},Ok=["title"],Lk={key:1,class:"streaming-narrative-content"},Fk={class:"streaming-text"},jk={class:"narrative-content"},Uk={class:"narrative-meta"},qk={class:"narrative-time"},Gk={class:"meta-buttons"},Hk=["title"],Yk=["disabled","title"],Wk={class:"update-count"},Xk={class:"narrative-text"},Jk={key:0,class:"action-options"},Kk=["onClick"],Zk={key:3,class:"empty-narrative"},Qk={class:"input-section"},ew={key:0,class:"action-queue-display"},tw={class:"queue-header"},nw={class:"queue-title"},aw=["title"],rw={class:"queue-actions"},ow={class:"action-text"},iw={class:"action-controls"},sw=["onClick","title"],lw={class:"input-wrapper"},cw=["disabled"],dw={class:"input-container"},uw={key:0,class:"image-preview-container"},mw=["src","alt"],pw=["onClick","title"],gw=["placeholder","disabled"],hw=["disabled"],fw={class:"action-modal"},vw={class:"modal-header"},bw={class:"action-grid"},yw=["onClick"],xw={class:"action-icon"},kw={class:"action-text"},ww={class:"action-config-modal"},Ew={class:"config-header"},Nw={class:"config-content"},Sw={class:"action-description"},_w={key:0,class:"config-section"},Vw={class:"config-label"},Cw={class:"time-selector"},Aw=["onClick"],Dw={class:"time-custom"},Tw={key:1,class:"config-section"},Bw={class:"config-label"},Iw={class:"action-options"},Mw=["name","value"],zw={class:"config-actions"},Pw="__mainGamePanel_eventListenersRegistered__",Rw="__mainGamePanel_eventHandlers__",$w=(0,r.defineComponent)({__name:"MainGamePanel",setup(e,{expose:t}){const n=(0,r.computed)(()=>L.value?.stateChanges?.changes||[]),a=(0,r.computed)({get:()=>C.userInputText,set:e=>{C.userInputText=e}}),o=(0,r.ref)(!1),i=(0,r.computed)(()=>C.isAIProcessing),s=(0,r.computed)(()=>C.streamingContent),l=(0,r.computed)(()=>C.currentGenerationId),c=(0,r.computed)(()=>C.streamingContent.length),d=(0,r.ref)(),u=(0,r.ref)(),m=(0,r.ref)(!1),p=(0,r.ref)(!0),g=async({text:e,focus:t})=>{C.userInputText=e,!1!==t&&(await(0,r.nextTick)(),d.value?.focus())},h=async({text:e,focus:t})=>{C.isAIProcessing?X.o.warning(S("AIÊ≠£Âú®ÁîüÊàê‰∏≠ÔºåËØ∑Á®çÂêéÂÜçËØï")):(C.userInputText=e,!1!==t&&(await(0,r.nextTick)(),d.value?.focus()),await(0,r.nextTick)(),le())},f=()=>{m.value=!m.value},v=()=>{"true"===sessionStorage.getItem("ai-processing-state")&&(C.setAIProcessing(!0),console.log("[Áä∂ÊÄÅÊÅ¢Â§ç] ÊÅ¢Â§çAIÂ§ÑÁêÜÁä∂ÊÄÅ"))},b=()=>{C.isAIProcessing?(sessionStorage.setItem("ai-processing-state","true"),sessionStorage.setItem("ai-processing-timestamp",Date.now().toString())):(sessionStorage.removeItem("ai-processing-state"),sessionStorage.removeItem("ai-processing-timestamp"))},y=()=>{console.log("[Âº∫Âà∂ÈáçÁΩÆ] Ê∏ÖÈô§AIÂ§ÑÁêÜÁä∂ÊÄÅÂíå‰ºöËØùÂ≠òÂÇ®"),C.resetStreamingState(),M.value=null,re.value="",b(),X.o.info(S("AIÂ§ÑÁêÜÁä∂ÊÄÅÂ∑≤ÈáçÁΩÆ"))},x=(0,r.ref)(!1),k=(0,r.ref)(null),w=(0,r.ref)(1),E=(0,r.ref)(1),N=(0,r.ref)(""),{t:S}=(0,K.s)(),_=(0,md.useCharacterStore)(),V=(0,Ry.useActionQueueStore)(),C=(0,A.useUIStore)(),D=(0,Au.useGameStateStore)(),T=(0,se.isTavernEnv)(),B=Ly.getInstance(),I=Fy.J,M=(0,r.ref)(null),z=(0,r.computed)({get:()=>C.useStreaming,set:e=>{C.useStreaming=e}}),P=window;P[Pw]||(P[Pw]=!1),P[Rw]||(P[Rw]={});const R=(0,r.ref)([]),$=(0,r.ref)(),O=e=>{const t=e.target;if(t.files&&t.files.length>0){const e=Array.from(t.files);R.value.push(...e),console.log("[ÂõæÁâá‰∏ä‰º†] Â∑≤ÈÄâÊã©ÂõæÁâá:",e.length,"Âº†"),X.o.success(`Â∑≤ÈÄâÊã© ${e.length} Âº†ÂõæÁâá`)}},L=(0,r.computed)(()=>{const e=D.narrativeHistory,t=D.memory?.Áü≠ÊúüËÆ∞ÂøÜ,n=ce();let a="";if(t&&t.length>0?a=t[t.length-1].replace(/^„Äê.*?„Äë\s*/,""):e&&e.length>0&&(a=e[e.length-1].content.replace(/^„Äê.*?„Äë\s*/,"")),e&&e.length>0){const t=e[e.length-1];return{type:t.type||"narrative",content:a||"...",time:n,stateChanges:t.stateChanges||{changes:[]},actionOptions:t.actionOptions||[]}}return{type:"system",content:a||"ÂºÄÂ±ÄÁîüÊàêÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•API‰∏ä‰∏ãÊñáÈïøÂ∫¶ÊòØÂê¶Ë∂≥Â§üÔºåÊòØÂê¶‰ΩøÁî®ÊîØÊåÅÊµÅÂºèÁöÑAPIÔºåÁÑ∂ÂêéËøîÂõû‰∏ªÈ°µÈáçÊñ∞ÂºÄÂßãÁîüÊàê„ÄÇ",time:n,stateChanges:{changes:[]},actionOptions:[]}}),F=((0,r.ref)(!1),(0,r.ref)(!1),(0,r.ref)(""),(0,r.ref)(!1),(0,r.ref)(null)),j=(0,r.ref)(3),U=(0,r.ref)(25),q=(0,r.ref)(8);t({updateMemorySettings:(e,t)=>{void 0!==e&&e>0&&(j.value=e),void 0!==t&&t>0&&(U.value=t),(()=>{try{const e={maxShortTerm:j.value,maxMidTerm:U.value};localStorage.setItem("memory-settings",JSON.stringify(e)),console.log("[ËÆ∞ÂøÜËÆæÁΩÆ] Â∑≤‰øùÂ≠òÈÖçÁΩÆ:",e)}catch(e){console.warn("[ËÆ∞ÂøÜËÆæÁΩÆ] ‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•:",e)}})(),console.log("[ËÆ∞ÂøÜËÆæÁΩÆ] ÈÖçÁΩÆÂ∑≤Êõ¥Êñ∞:",{Áü≠ÊúüËÆ∞ÂøÜ‰∏äÈôê:j.value,‰∏≠ÊúüËÆ∞ÂøÜ‰∏äÈôê:U.value})},getMemorySettings:()=>({maxShortTerm:j.value,maxMidTerm:U.value})});const G=(0,r.computed)(()=>!!D.character),H=(0,r.computed)(()=>{const e=_.activeCharacterProfile;if(!e||"ÂçïÊú∫"!==e.Ê®°Âºè)return!1;const t=e.Â≠òÊ°£ÂàóË°®?.["‰∏äÊ¨°ÂØπËØù"];return null!=t?.Â≠òÊ°£Êï∞ÊçÆ}),Y=async()=>{H.value?C.showRetryDialog({title:"ÂõûÊªöÁ°ÆËÆ§",message:"Á°ÆÂÆöË¶ÅÂõûÊªöÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅÂêóÔºüÂΩìÂâçËøõÂ∫¶Â∞ÜË¢´ÊõøÊç¢„ÄÇ",confirmText:"Á°ÆËÆ§ÂõûÊªö",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{try{await _.rollbackToLastConversation(),X.o.success("Â∑≤ÂõûÊªöÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ")}catch(e){console.error("ÂõûÊªöÂ§±Ë¥•:",e),X.o.error(`ÂõûÊªöÂ§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}},onCancel:()=>{}}):X.o.warning("Ê≤°ÊúâÂèØÂõûÊªöÁöÑÂ≠òÊ°£")},W=(0,r.computed)(()=>{const e=[];return Z.value.forEach(t=>{e.push(...t.actions)}),e}),J=(0,r.ref)([{label:"1Â§©",value:1},{label:"3Â§©",value:3},{label:"7Â§©",value:7},{label:"30Â§©",value:30}]),Z=(0,r.ref)([{name:"ËÆ≠ÁªÉ",icon:"",actions:[{name:"Âü∫Á°ÄËÆ≠ÁªÉ",icon:"‚ö°",type:"cultivation",description:"Âú®ËÆ≠ÁªÉËà±ËøõË°åÂü∫Á°ÄÂº∫ÂåñÔºåÊèêÂçáÁ≠âÁ∫ß‰∏éÊ®°ÂùóÁÜüÁªÉÂ∫¶„ÄÇ",timeRequired:!0},{name:"‰ΩìËÉΩÂº∫Âåñ",icon:"Shield",iconComponent:_m.A,type:"cultivation",description:"ÈÄöËøáË¥üËΩΩËÆ≠ÁªÉÊàñÊîπÈÄ†Âº∫Âåñ‰ΩìÈ≠Ñ‰∏éÈò≤Âæ°„ÄÇ",timeRequired:!0},{name:"Á•ûÁªèÊ†°ÂáÜ",icon:"BrainCircuit",iconComponent:Ty,type:"cultivation",description:"ËøõË°åÁ•ûÁªèÊ†°ÂáÜÔºåÁ®≥ÂÆöÂøÉÊô∫ÔºåÊèêÂçáÂ∏¶ÂÆΩÔºåÂÅ∂ÊúâÁÅµÊÑü„ÄÇ",timeRequired:!0}]},{name:"Êé¢Á¥¢",icon:"",actions:[{name:"ÈáéÂ§ñÊé¢Á¥¢",icon:"",type:"exploration",description:"ÂâçÂæÄÈáéÂ§ñÊé¢Á¥¢ÔºåÂØªÊâæÊú∫Áºò",options:[{key:"nearby",label:"ÈôÑËøëÂå∫Âüü"},{key:"far",label:"ËøúÊñπÂå∫Âüü"},{key:"dangerous",label:"Âç±Èô©Âå∫Âüü"}]},{name:"ÂüéÈïáÈÄõË°ó",icon:"",type:"exploration",description:"Âú®ÂüéÈïá‰∏≠Èó≤ÈÄõÔºå‰∫ÜËß£‰ø°ÊÅØ",options:[{key:"market",label:"ÈõÜÂ∏Ç"},{key:"tavern",label:"ÈÖíÊ•º"},{key:"shop",label:"ÂïÜÈì∫"}]}]},{name:"‰∫§ÊµÅ",icon:"",actions:[{name:"ÊãúËÆøÊúãÂèã",icon:"",type:"social",description:"ÊãúËÆøËÆ§ËØÜÁöÑÊúãÂèã",options:[{key:"random",label:"ÈöèÊú∫ÊãúËÆø"},{key:"close",label:"‰∫≤ÂØÜÊúãÂèã"}]},{name:"Áªì‰∫§Êñ∞Âèã",icon:"",type:"social",description:"‰∏ªÂä®Áªì‰∫§Êñ∞ÁöÑÊúãÂèã"}]},{name:"ÂÖ∂‰ªñ",icon:"",actions:[{name:"‰ºëÊÅØ",icon:"",type:"other",description:"Â•ΩÂ•Ω‰ºëÊÅØÔºåÊÅ¢Â§çÁ≤æÁ•û",timeRequired:!0},{name:"Êü•ÁúãÁä∂ÊÄÅ",icon:"",type:"other",description:"Êü•ÁúãÂΩìÂâçÁöÑËØ¶ÁªÜÁä∂ÊÄÅ"}]}]);T||(Z.value=Z.value.map(e=>({...e,actions:e.actions.map(e=>{const t=e.options?.filter(e=>"tavern"!==e.key);return t?{...e,options:t}:e})})));const Q=()=>{x.value=!1},ee=()=>{k.value=null,w.value=1,E.value=1,N.value=""},te=()=>{if(!k.value)return;let e=k.value.name;if(k.value.timeRequired&&(e+=`Ôºà${E.value>0?E.value:w.value}Â§©Ôºâ`),N.value&&k.value.options){const t=k.value.options.find(e=>e.key===N.value);t&&(e+=`Ôºà${t.label}Ôºâ`)}a.value=e,ee(),(0,r.nextTick)(()=>{d.value?.focus()})},ne=(0,r.computed)(()=>{const e=D.memory?.Áü≠ÊúüËÆ∞ÂøÜ;return e&&e.length>0?e.slice():[]}),ae=e=>{const t=[];if(!e)return t.push("AIÂìçÂ∫î‰∏∫Á©∫"),{isValid:!1,errors:t};const n=e;return n.text&&"string"==typeof n.text||t.push("Áº∫Â∞ëÊúâÊïàÁöÑtextÂ≠óÊÆµ"),n.mid_term_memory&&"string"==typeof n.mid_term_memory?0===n.mid_term_memory.trim().length&&t.push("mid_term_memoryÂ≠óÊÆµ‰∏çËÉΩ‰∏∫Á©∫"):t.push("Áº∫Â∞ëÂøÖË¶ÅÁöÑmid_term_memoryÂ≠óÊÆµÔºà‰∏≠ÊúüËÆ∞ÂøÜÊÄªÁªìÔºâ"),n.tavern_commands&&(Array.isArray(n.tavern_commands)?n.tavern_commands.forEach((e,n)=>{const a=e;e&&"object"==typeof e?a.action&&a.key||t.push(`tavern_commands[${n}]Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµ(action/key)`):t.push(`tavern_commands[${n}]‰∏çÊòØÊúâÊïàÂØπË±°`)}):t.push("tavern_commandsÂ≠óÊÆµÂøÖÈ°ªÊòØÊï∞ÁªÑ")),{isValid:0===t.length,errors:t}},re=(0,r.ref)(""),oe=e=>!!e.type&&(!["npc_trade","npc_request","npc_steal"].includes(e.type)&&["equip","unequip","use","cultivate"].includes(e.type)),ie=async()=>{V.clearActions(),X.o.success("Êìç‰ΩúËÆ∞ÂΩïÂ∑≤Ê∏ÖÁ©∫")},le=async()=>{if(!a.value.trim())return;if(i.value)return void X.o.warning("AIÊ≠£Âú®Â§ÑÁêÜ‰∏≠ÔºåËØ∑Á®çÁ≠â...");if(!G.value)return void X.o.error("ËØ∑ÂÖàÈÄâÊã©ÊàñÂàõÂª∫ËßíËâ≤");const e=D.toSaveData();if(e){if(void 0!==e.ËßíËâ≤?.Â±ûÊÄß?.ÁîüÂëΩÂÄº?.ÂΩìÂâç&&e.ËßíËâ≤.Â±ûÊÄß.ÁîüÂëΩÂÄº.ÂΩìÂâç<=0)return void X.o.error("ËßíËâ≤Â∑≤Ê≠ª‰∫°ÔºåÁîüÂëΩÂÄºËÄóÂ∞Ω„ÄÇÊó†Ê≥ïÁªßÁª≠Ê∏∏ÊàèÔºåËØ∑ÈáçÊñ∞ÂºÄÂßãÊàñÂ§çÊ¥ªËßíËâ≤„ÄÇ");if(void 0!==e.ËßíËâ≤?.Â±ûÊÄß?.ÂØøÂëΩ?.ÂΩìÂâç&&void 0!==e.ËßíËâ≤?.Â±ûÊÄß?.ÂØøÂëΩ?.‰∏äÈôê&&e.ËßíËâ≤.Â±ûÊÄß.ÂØøÂëΩ.ÂΩìÂâç>=e.ËßíËâ≤.Â±ûÊÄß.ÂØøÂëΩ.‰∏äÈôê)return void X.o.error("ËßíËâ≤Â∑≤Ê≠ª‰∫°ÔºåÂØøÂÖÉËÄóÂ∞Ω„ÄÇÊó†Ê≥ïÁªßÁª≠Ê∏∏ÊàèÔºåËØ∑ÈáçÊñ∞ÂºÄÂßãÊàñÂ§çÊ¥ªËßíËâ≤„ÄÇ")}if(D.conversationAutoSaveEnabled)try{await _.saveToSlot("‰∏äÊ¨°ÂØπËØù"),console.log("[‰∏äÊ¨°ÂØπËØù] Â∑≤Âú®ÂèëÈÄÅÊ∂àÊÅØÂâçÂ§á‰ªΩÂΩìÂâçÁä∂ÊÄÅ")}catch(e){console.warn("[‰∏äÊ¨°ÂØπËØù] Â§á‰ªΩÂ§±Ë¥•ÔºàÈùûËá¥ÂëΩÔºâ:",e)}const t=a.value.trim();console.log("[ÂâçÁ´Ø] Áî®Êà∑ËæìÂÖ• inputText.value:",a.value),console.log("[ÂâçÁ´Ø] Â§ÑÁêÜÂêé userMessage:",t);const n=V.getActionPrompt();console.log("[ÂâçÁ´Ø] Âä®‰ΩúÈòüÂàó actionQueueText:",n);let o="";o=t?`<Ë°åÂä®Ë∂ãÂêë>${n?`${t}\n\n${n}`:t}</Ë°åÂä®Ë∂ãÂêë>\n`:n?`<Ë°åÂä®Ë∂ãÂêë>${n}</Ë°åÂä®Ë∂ãÂêë>\n`:"",console.log("[ÂâçÁ´Ø] ÊúÄÁªàÂèëÈÄÅ finalUserMessage:",o),n&&V.clearActions(),(0,r.nextTick)(()=>{ue()}),C.setAIProcessing(!0),b(),C.setStreamingContent(""),re.value="",M.value=1;let l=null,c=!1;try{const e=_.activeCharacterProfile;if(!e)throw new Error("ËßíËâ≤Êï∞ÊçÆÁº∫Â§±");try{const t={onProgressUpdate:e=>{console.log("[AIËøõÂ∫¶]",e)},useStreaming:z.value};T||(console.log("[ÁΩëÈ°µÁâàÊµÅÂºè] ËÆæÁΩÆ onStreamChunk ÂõûË∞É"),t.onStreamChunk=e=>{z.value&&e&&(console.log("[ÁΩëÈ°µÁâàÊµÅÂºè] Êî∂Âà∞chunk:",e.length,"Â≠óÁ¨¶"),re.value+=e,C.setStreamingContent(re.value))});const n=`gen_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(C.setCurrentGenerationId(n),t.generation_id=n,R.value.length>0&&(t.image=R.value,console.log("[ÂõæÁâá‰∏ä‰º†] Â∞ÜÂèëÈÄÅ",R.value.length,"Âº†ÂõæÁâá")),l=await I.processPlayerAction(o,e,t),l){const t=ae(l);if(!t.isValid){console.warn("[AIÂìçÂ∫îÈ™åËØÅ] ÁªìÊûÑÈ™åËØÅÂ§±Ë¥•:",t.errors),X.o.warning("AIÂìçÂ∫îÊ†ºÂºè‰∏çÊ≠£Á°ÆÔºåÊ≠£Âú®ÈáçËØï...");const n=await(async(e,t,n,a=2)=>{console.log("[AIÂìçÂ∫îÈáçËØï] ÂºÄÂßãÈáçËØïÔºå‰πãÂâçÁöÑÈîôËØØ:",n);for(let r=1;r<=a;r++)try{console.log(`[AIÂìçÂ∫îÈáçËØï] Á¨¨${r}Ê¨°Â∞ùËØï`),C.setStreamingContent(""),re.value="";const a=`gen_retry_${r}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;C.setCurrentGenerationId(a);const o=`${e}\n\n## ËæìÂá∫Ê†ºÂºèÔºàÂøÖÈ°ª‰∏•Ê†ºÈÅµÂÆàÔºâ\n\n**ÈáçË¶ÅÔºö‰ª•‰∏ã3‰∏™Â≠óÊÆµÈÉΩÊòØÂøÖÈúÄÁöÑÔºåÁº∫‰∏Ä‰∏çÂèØÔºÅ**\n\n{\n  "text": "Narrative text(‰∏≠ÊñáÁÆÄ‰ΩìÔºåÂ≠óÊï∞Ë∂äÂ§öË∂äÂ•Ω1000-3000ÔºåÂæÄÁî®Êà∑Ë∂ãÂêëÂéªÂ∞ùËØïË°åÂä®)",\n  "mid_term_memory": "Brief summary",\n  "tavern_commands": [{"action": "Action", "key": "key.path", "value": Value/List}]\n}\n\n‰∏ãÈù¢‰∏∫tavern_commandsÁöÑË°åÂä®ÂëΩ‰ª§Á±ªÂûã\n\n# Action Types\n\n| Action | Purpose | Example |\n|--------|---------|---------|\n| set | Replace/Set | Update state |\n| add | Increase/Decrease | Change numerical values |\n| push | Add to array | Record history |\n| delete | Remove field | Clear data |\n| pull | Remove from array | Remove array element |\n\n---\n\n\n‰∏äÊ¨°ÂìçÂ∫îÁöÑÈóÆÈ¢òÔºö${n.join(", ")}\nËØ∑‰øÆÊ≠£Ëøô‰∫õÈóÆÈ¢òÂπ∂Á°Æ‰øùÁªìÊûÑÊ≠£Á°Æ„ÄÇ`,i={onProgressUpdate:e=>{console.log("[AIÈáçËØïËøõÂ∫¶]",e)},useStreaming:z.value,generation_id:a};T||(console.log("[ÁΩëÈ°µÁâàÊµÅÂºè-ÈáçËØï] ËÆæÁΩÆ onStreamChunk ÂõûË∞É"),i.onStreamChunk=e=>{z.value&&e&&(console.log("[ÁΩëÈ°µÁâàÊµÅÂºè-ÈáçËØï] Êî∂Âà∞chunk:",e.length,"Â≠óÁ¨¶"),re.value+=e,C.setStreamingContent(re.value))});const s=await I.processPlayerAction(o,t,i);if(s){const e=ae(s);if(e.isValid)return console.log(`[AIÂìçÂ∫îÈáçËØï] Á¨¨${r}Ê¨°Â∞ùËØïÊàêÂäü`),s;console.warn(`[AIÂìçÂ∫îÈáçËØï] Á¨¨${r}Ê¨°Â∞ùËØïÈ™åËØÅÂ§±Ë¥•:`,e.errors),n=e.errors}}catch(e){console.error(`[AIÂìçÂ∫îÈáçËØï] Á¨¨${r}Ê¨°Â∞ùËØïÂá∫Èîô:`,e)}return console.error("[AIÂìçÂ∫îÈáçËØï] ÊâÄÊúâÈáçËØïÂ∞ùËØïÈÉΩÂ§±Ë¥•‰∫Ü"),null})(o,e,t.errors);if(!n)throw new Error("AIÂìçÂ∫îÊ†ºÂºèÈîôËØØÔºå‰∏îÂ§öÊ¨°ÈáçËØïÂ§±Ë¥•");l=n,console.log("[AIÂìçÂ∫îÈ™åËØÅ] ÈáçËØïÊàêÂäü")}}console.log("[ÊµÅÂºèËæìÂá∫] AIÂìçÂ∫îÂ§ÑÁêÜÂºÄÂßã");let a="";const r=l;if(console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] ÂºÄÂßãÂ§ÑÁêÜAIÂìçÂ∫îÊñáÊú¨"),console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] aiResponse:",l),console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] streamingContent:",s.value),r?.text&&"string"==typeof r.text?(a=r.text,console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] ‰ΩøÁî® gmResponse.text ‰Ωú‰∏∫ÊúÄÁªàÊñáÊú¨ÔºåÈïøÂ∫¶:",a.length)):s.value?(a=s.value,console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] ‰ΩøÁî® streamingContent ‰Ωú‰∏∫ÊúÄÁªàÊñáÊú¨ÔºåÈïøÂ∫¶:",a.length)):console.warn("[AIÂìçÂ∫îÂ§ÑÁêÜ] Êú™ÊâæÂà∞‰ªª‰ΩïÊúâÊïàÁöÑÊñáÊú¨ÂÜÖÂÆπ"),console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] ÊúÄÁªàÊñáÊú¨ÂÜÖÂÆπÈ¢ÑËßà:",a.substring(0,100)+"..."),a?(console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] ÊñáÊú¨Â§ÑÁêÜÂÆåÊàêÔºåËÆ∞ÂøÜÂ∑≤Áî± AIBidirectionalSystem Â§ÑÁêÜ"),F.value=r?.text||null,L.value&&console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] Â∑≤Êõ¥Êñ∞UIÊòæÁ§∫")):(F.value=null,console.error("[AIÂìçÂ∫îÂ§ÑÁêÜ] Ê≤°ÊúâÊâæÂà∞ÊúâÊïàÁöÑÊñáÊú¨ÂÜÖÂÆπ")),l&&l.stateChanges){C.clearCurrentMessageStateChanges(),console.log("[Êó•ÂøóÊ∏ÖÁ©∫] Êî∂Âà∞Êñ∞ÂìçÂ∫îÔºåÂ∑≤Ê∏ÖÁ©∫‰∏ä‰∏ÄÊù°Ê∂àÊÅØÁöÑÁä∂ÊÄÅÂèòÊõ¥Êó•Âøó");const e=l.stateChanges&&"object"==typeof l.stateChanges&&"changes"in l.stateChanges?l.stateChanges:{changes:[]};console.log("[Áä∂ÊÄÅÊõ¥Êñ∞] AIÊåá‰ª§Â∑≤ÊâßË°åÔºåÁä∂ÊÄÅÂèòÊõ¥Êï∞Èáè:",e.changes.length),l.stateChanges&&(C.setCurrentMessageStateChanges(l.stateChanges),console.log("[Êó•ÂøóÈù¢Êùø] State changes received and stored in memory:",l.stateChanges));const t=D.toSaveData();t&&(void 0!==t.Â±ûÊÄß?.ÁîüÂëΩÂÄº?.ÂΩìÂâç&&t.Â±ûÊÄß.ÁîüÂëΩÂÄº.ÂΩìÂâç<=0&&X.o.error("ËßíËâ≤Â∑≤Ê≠ª‰∫°ÔºåÁîüÂëΩÂÄºËÄóÂ∞Ω"),void 0!==t.Â±ûÊÄß?.ÂØøÂëΩ?.ÂΩìÂâç&&void 0!==t.Â±ûÊÄß?.ÂØøÂëΩ?.‰∏äÈôê&&t.Â±ûÊÄß.ÂØøÂëΩ.ÂΩìÂâç>=t.Â±ûÊÄß.ÂØøÂëΩ.‰∏äÈôê&&X.o.error("ËßíËâ≤Â∑≤Ê≠ª‰∫°ÔºåÂØøÂÖÉËÄóÂ∞Ω"))}else l&&console.log("[Êó•ÂøóÈù¢Êùø] No state changes received in this response.")}catch(e){console.error("[AIÂ§ÑÁêÜÂ§±Ë¥•]",e),c=!0;const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";X.o.error(`AIÂ§ÑÁêÜÂ§±Ë¥•: ${t}`),C.setAIProcessing(!1),M.value=null,C.setStreamingContent(""),re.value="",C.setCurrentGenerationId(null),b(),l=null}l&&l.system_messages&&Array.isArray(l.system_messages)&&l.system_messages.length,!c&&l&&(X.o.success("ÊàêÂäü"),R.value=[],$.value&&($.value.value="")),c||(console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] Â§ÑÁêÜÂÆåÊàêÔºåÊ∏ÖÈô§AIÂ§ÑÁêÜÁä∂ÊÄÅ"),C.setAIProcessing(!1),M.value=null,C.setCurrentGenerationId(null),C.resetStreamingState(),re.value="",b())}catch(e){console.error("[AI‰∫§‰∫í] Â§ÑÁêÜÂ§±Ë¥•:",e),c=!0;const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";X.o.error(`ËØ∑Ê±ÇÂ§±Ë¥•: ${t}`),C.setAIProcessing(!1),M.value=null,C.setStreamingContent(""),re.value="",C.setCurrentGenerationId(null),b()}finally{if(i.value&&(console.warn("[AIÂìçÂ∫îÂ§ÑÁêÜ] finallyÂùóÔºöÁä∂ÊÄÅÊú™Ê∏ÖÈô§ÔºåÂº∫Âà∂Ê∏ÖÈô§ÔºàÂÖúÂ∫ïÔºâ"),C.setAIProcessing(!1),M.value=null,C.resetStreamingState(),re.value="",C.setCurrentGenerationId(null),b()),l)try{console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] ÊúÄÁªàÁªü‰∏ÄÂ≠òÊ°£..."),await _.saveCurrentGame();const e=_.activeSaveSlot;e&&X.o.success(`Â≠òÊ°£„Äê${e.Â≠òÊ°£Âêç}„ÄëÂ∑≤‰øùÂ≠ò`),console.log("[AIÂìçÂ∫îÂ§ÑÁêÜ] ÊúÄÁªàÁªü‰∏ÄÂ≠òÊ°£ÂÆåÊàê")}catch(e){console.error("[AIÂìçÂ∫îÂ§ÑÁêÜ] ÊúÄÁªàÁªü‰∏ÄÂ≠òÊ°£Â§±Ë¥•:",e),X.o.error("Ê∏∏ÊàèÂ≠òÊ°£Â§±Ë¥•ÔºåËØ∑Â∞ùËØïÊâãÂä®‰øùÂ≠ò")}}},ce=()=>{const e=new Date;return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`},de=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),le())},ue=()=>{const e=d.value;if(e){const t=36.16;e.style.height=`${t}px`;const n=e.scrollHeight,a=120;if(n>t){const t=Math.min(n,a);e.style.height=`${t}px`}e.style.overflowY=n>a?"auto":"hidden"}},me=()=>{(0,r.nextTick)(()=>{ue()})},pe=()=>{Ju.emit("open-left-menu")},ge=async()=>{console.log("[‰∏ªÈù¢Êùø] ‰∏∫ÂΩìÂâçÂ≠òÊ°£ÂàùÂßãÂåñÈù¢Êùø (Êñ∞ÈÄªËæë)...");try{if(G.value){const e=D.memory?.Áü≠ÊúüËÆ∞ÂøÜ;if(console.log("[‰∏ªÈù¢Êùø-Ë∞ÉËØï] Â≠òÊ°£Êï∞ÊçÆÊ£ÄÊü•:",{ÊúâÊ∏∏ÊàèÊï∞ÊçÆ:D.isGameLoaded,ÊúâÂèô‰∫ãÂéÜÂè≤:!!D.narrativeHistory,Âèô‰∫ãÂéÜÂè≤ÈïøÂ∫¶:D.narrativeHistory?.length||0,ÊúâÁü≠ÊúüËÆ∞ÂøÜ:!!e,Áü≠ÊúüËÆ∞ÂøÜÈïøÂ∫¶:e?.length||0,ÂΩìÂâçÊòæÁ§∫ÂÜÖÂÆπ:L.value?.content?.substring(0,50)+"..."}),D.narrativeHistory&&D.narrativeHistory.length>0){const t=D.narrativeHistory[D.narrativeHistory.length-1];t.stateChanges&&(C.setCurrentMessageStateChanges(t.stateChanges),console.log("[‰∏ªÈù¢Êùø] ‚úÖ Â∑≤ÂêåÊ≠•Êåá‰ª§Êó•ÂøóÂà∞ÊúÄÊñ∞Âèô‰∫ã",{ÂèòÊõ¥Êï∞Èáè:t.stateChanges.changes?.length||0})),e&&0!==e.length||t.content&&(D.addToShortTermMemory(t.content),console.log("[‰∏ªÈù¢Êùø] ‚úÖ Â∑≤‰ªéÂèô‰∫ãÂéÜÂè≤ÂêåÊ≠•ÂÜÖÂÆπÂà∞Áü≠ÊúüËÆ∞ÂøÜ"))}else e&&e.length>0?console.log("[‰∏ªÈù¢Êùø] ‚ö†Ô∏è ‰ªéÁü≠ÊúüËÆ∞ÂøÜÂä†ËΩΩÔºàÊó†Âèô‰∫ãÂéÜÂè≤Ôºâ"):console.log("[‰∏ªÈù¢Êùø] Êú™ÊâæÂà∞Âèô‰∫ãËÆ∞ÂΩïÔºåÊòæÁ§∫Ê¨¢Ëøé‰ø°ÊÅØ");await fe()}(0,r.nextTick)(()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)})}catch(e){console.error("[‰∏ªÈù¢Êùø] ÂàùÂßãÂåñÂ≠òÊ°£Êï∞ÊçÆÂ§±Ë¥•:",e)}};(0,r.watch)(()=>_.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,async(e,t)=>{e&&e!==t&&(console.log(`[‰∏ªÈù¢Êùø] Â≠òÊ°£Â∑≤ÂàáÊç¢: ‰ªé ${t||"Êó†"} Âà∞ ${e}`),console.log("[‰∏ªÈù¢Êùø] Ê£ÄÊµãÂà∞Â≠òÊ°£ÂàáÊç¢ÔºåÊ≠£Âú®ÈáçÁΩÆÈù¢ÊùøÁä∂ÊÄÅ..."),V.clearActions(),a.value="",F.value=null,C.setAIProcessing(!1),b(),await ge())}),(0,r.onMounted)(async()=>{try{if((async()=>{try{const e=localStorage.getItem("memory-settings");if(e){const t=JSON.parse(e);t.maxShortTerm&&(j.value=t.maxShortTerm),t.maxMidTerm&&(U.value=t.maxMidTerm),t.midTermKeep&&(q.value=t.midTermKeep),console.log("[ËÆ∞ÂøÜËÆæÁΩÆ] Â∑≤‰ªélocalStorageÂä†ËΩΩÈÖçÁΩÆ:",{Áü≠ÊúüËÆ∞ÂøÜ‰∏äÈôê:j.value,‰∏≠ÊúüËÆ∞ÂøÜËß¶ÂèëÈòàÂÄº:U.value,‰∏≠ÊúüËÆ∞ÂøÜ‰øùÁïôÊï∞Èáè:q.value})}}catch(e){console.warn("[ËÆ∞ÂøÜËÆæÁΩÆ] Âä†ËΩΩÈÖçÁΩÆÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÂÄº:",e)}})(),v(),await he(),(0,r.nextTick)(ue),await ge(),Ju.on("memory-settings-updated",e=>{if(console.log("[ËÆ∞ÂøÜËÆæÁΩÆ] Êé•Êî∂Âà∞ÈÖçÁΩÆÊõ¥Êñ∞‰∫ã‰ª∂:",e),e&&"object"==typeof e){const t=e;"number"==typeof t.shortTermLimit&&(j.value=t.shortTermLimit,console.log(`[ËÆ∞ÂøÜËÆæÁΩÆ] Áü≠ÊúüËÆ∞ÂøÜ‰∏äÈôêÂ∑≤Êõ¥Êñ∞‰∏∫: ${j.value}`)),"number"==typeof t.midTermTrigger&&(U.value=t.midTermTrigger,console.log(`[ËÆ∞ÂøÜËÆæÁΩÆ] ‰∏≠ÊúüËÆ∞ÂøÜËß¶ÂèëÈòàÂÄºÂ∑≤Êõ¥Êñ∞‰∏∫: ${U.value}`)),"number"==typeof t.midTermKeep&&(q.value=t.midTermKeep,console.log(`[ËÆ∞ÂøÜËÆæÁΩÆ] ‰∏≠ÊúüËÆ∞ÂøÜ‰øùÁïôÊï∞ÈáèÂ∑≤Êõ¥Êñ∞‰∏∫: ${q.value}`))}}),$y.on("prefill",g),$y.on("send",h),T)if((0,Fy.f)()){console.log("[‰∏ªÈù¢Êùø] Ê≥®ÂÜåÈÖíÈ¶Ü‰∫ã‰ª∂ÁõëÂê¨");const e=window.eventOn,t=window.TavernHelper,n=Boolean(P[Pw]);if(e&&t&&"function"==typeof e&&!n){const n=t.iframe_events,a=P[Rw],r=e=>{const t=l.value;return!(!t||!e)&&(e===t||e.startsWith(t+"_step"))};a.onGenerationStarted=e=>{if(r(e)){const t=l.value;if(t&&e.startsWith(`${t}_step2`))return;C.setStreamingContent(""),re.value="",console.log("[ÊµÅÂºèËæìÂá∫] GENERATION_STARTED - Â∑≤ÈáçÁΩÆÁä∂ÊÄÅ")}},a.onStreamToken=(e,t)=>{if(r(t)&&z.value&&e){const n=l.value;if(n&&t.startsWith(`${n}_step2`))return;re.value+=e,C.setStreamingContent(re.value)}},a.onGenerationEnded=e=>{r(e)&&console.log("[ÊµÅÂºèËæìÂá∫] GENERATION_ENDED ‰∫ã‰ª∂Ëß¶ÂèëÔºåÊ∏ÖÈô§AIÂ§ÑÁêÜÁä∂ÊÄÅ")},e(n.GENERATION_STARTED,a.onGenerationStarted),e(n.STREAM_TOKEN_RECEIVED_INCREMENTALLY,a.onStreamToken),e(n.GENERATION_ENDED,a.onGenerationEnded),P[Pw]=!0,console.log("[‰∏ªÈù¢Êùø] ‚úÖ ÊµÅÂºè‰∫ã‰ª∂ÁõëÂê¨Âô®Â∑≤Ê≥®ÂÜåÔºàÂÖ®Â±ÄÂîØ‰∏ÄÔºâ")}else n&&console.log("[‰∏ªÈù¢Êùø] ‚è≠Ô∏è Ë∑≥Ëøá‰∫ã‰ª∂ÁõëÂê¨Âô®Ê≥®ÂÜåÔºàÂÖ®Â±ÄÂ∑≤Ê≥®ÂÜåÔºâ");console.log("[‰∏ªÈù¢Êùø] ‚úÖ ‰∫ã‰ª∂ÁõëÂê¨Âô®Ê≥®ÂÜåÂÆåÊàê")}else console.warn("[‰∏ªÈù¢Êùø] ‚ö†Ô∏è ÈÖíÈ¶ÜÂä©Êâã‰∏çÂèØÁî®Ôºå‰∫ã‰ª∂ÁõëÂê¨Êú™Ê≥®ÂÜå")}catch(e){console.error("[‰∏ªÈù¢Êùø] È¶ñÊ¨°ÊåÇËΩΩÂ§±Ë¥•:",e)}}),(0,r.onActivated)(()=>{console.log("[‰∏ªÈù¢Êùø] ÁªÑ‰ª∂ÊøÄÊ¥ªÔºåÊÅ¢Â§çAIÂ§ÑÁêÜÁä∂ÊÄÅ"),v()}),(0,r.onUnmounted)(()=>{if(console.log("[‰∏ªÈù¢Êùø] ÁªÑ‰ª∂Âç∏ËΩΩÔºåÊ∏ÖÁêÜ‰∫ã‰ª∂ÁõëÂê¨Âô®"),$y.off("prefill",g),$y.off("send",h),T)try{const e=window.eventOff,t=window.TavernHelper,n=Boolean(P[Pw]);if(e&&t&&"function"==typeof e&&n){const n=t.iframe_events,a=P[Rw];a.onGenerationStarted&&e(n.GENERATION_STARTED,a.onGenerationStarted),a.onStreamToken&&e(n.STREAM_TOKEN_RECEIVED_INCREMENTALLY,a.onStreamToken),a.onGenerationEnded&&e(n.GENERATION_ENDED,a.onGenerationEnded),P[Pw]=!1,P[Rw]={},console.log("[‰∏ªÈù¢Êùø] ‚úÖ ‰∫ã‰ª∂ÁõëÂê¨Âô®Â∑≤Ê∏ÖÁêÜÔºàÂÖ®Â±ÄÔºâ")}}catch(e){console.warn("[‰∏ªÈù¢Êùø] ‚ö†Ô∏è Ê∏ÖÁêÜ‰∫ã‰ª∂ÁõëÂê¨Âô®Â§±Ë¥•:",e)}}),(0,r.watch)(()=>D.narrativeHistory,e=>{if(e&&e.length>0){const t=e[e.length-1];t.stateChanges?(C.setCurrentMessageStateChanges(t.stateChanges),console.log("[‰∏ªÈù¢Êùø] ‚úÖ Â∑≤Êõ¥Êñ∞Êåá‰ª§Êó•Âøó",{ÂèòÊõ¥Êï∞Èáè:t.stateChanges.changes?.length||0,Ââç3Êù°:t.stateChanges.changes?.slice(0,3).map(e=>e.key)||[]})):console.warn("[‰∏ªÈù¢Êùø] ‚ö†Ô∏è ÊúÄÊñ∞Âèô‰∫ãÊ≤°ÊúâÁä∂ÊÄÅÂèòÊõ¥ËÆ∞ÂΩï")}},{deep:!0});const he=async()=>{try{console.log("[‰∏ªÈù¢Êùø] ÂàùÂßãÂåñÁ≥ªÁªüËøûÊé•..."),console.log("[‰∏ªÈù¢Êùø] Á≥ªÁªüËøûÊé•ÂàùÂßãÂåñÂÆåÊàê")}catch(e){console.error("[‰∏ªÈù¢Êùø] Á≥ªÁªüËøûÊé•ÂàùÂßãÂåñÂ§±Ë¥•:",e)}},fe=async()=>{try{if(!_.activeCharacterProfile)return;console.log("[‰∏ªÈù¢Êùø] Ê∏∏ÊàèÁä∂ÊÄÅÂêåÊ≠•ÂÆåÊàê")}catch(e){console.error("[‰∏ªÈù¢Êùø] Ê∏∏ÊàèÁä∂ÊÄÅÂêåÊ≠•Â§±Ë¥•:",e)}};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Vk,[(0,r.createCommentVNode)(" Áü≠ÊúüËÆ∞ÂøÜÂå∫Âüü "),p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ck,[(0,r.createElementVNode)("div",{class:"memory-header",onClick:f},[(0,r.createElementVNode)("span",Ak,(0,r.toDisplayString)((0,r.unref)(S)("Áü≠ÊúüËÆ∞ÂøÜ")),1),m.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Sm),{key:0,size:16,class:"memory-icon"})):((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(By),{key:1,size:16,class:"memory-icon"}))]),(0,r.createCommentVNode)(" ‰∏ãÊãâÊÇ¨ÊµÆÁöÑËÆ∞ÂøÜÂÜÖÂÆπ "),(0,r.createVNode)(r.Transition,{name:"memory-dropdown"},{default:(0,r.withCtx)(()=>[m.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Dk,[(0,r.createElementVNode)("div",Tk,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(ne.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"memory-item"},(0,r.toDisplayString)(e),1))),128)),0===ne.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Bk,(0,r.toDisplayString)((0,r.unref)(S)("ËÑëÊµ∑‰∏≠‰∏ÄÁâáÊ∏ÖÂáÄÔºåÂ∞öÊú™Áïô‰∏ã‰øÆË°åÁóïËøπ...")),1)):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0)]),_:1})])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÊñáÊú¨ÊòæÁ§∫Âå∫Âüü - ÂΩìÂâçAIÂõûÂ§ç "),(0,r.createElementVNode)("div",{class:"content-area",ref_key:"contentAreaRef",ref:u},[(0,r.createCommentVNode)(" Â∑¶‰æßÔºöÂΩìÂâçÂèôËø∞ "),(0,r.createElementVNode)("div",Ik,[(0,r.createCommentVNode)(" AIÁîüÊàêÁä∂ÊÄÅÊåáÁ§∫Âô®ÔºàÁîüÊàêÊó∂ÊòæÁ§∫Âú®È°∂ÈÉ®Ôºâ "),i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Mk,[(0,r.createElementVNode)("div",zk,[(0,r.createElementVNode)("span",Pk,(0,r.toDisplayString)(ce()),1),(0,r.createElementVNode)("div",Rk,[t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"streaming-dot"},null,-1)),(0,r.createElementVNode)("span",$k,(0,r.toDisplayString)(s.value?`${c.value} ${(0,r.unref)(S)("Â≠ó")}`:(0,r.unref)(S)("APIËøûÊé•‰∏≠...")),1)]),(0,r.createCommentVNode)(" ÈáçÁΩÆÊåâÈíÆ - Âè≥‰æß "),(0,r.createElementVNode)("button",{onClick:y,class:"reset-state-btn",title:(0,r.unref)(S)("Â¶ÇÊûúÈïøÊó∂Èó¥Êó†ÂìçÂ∫îÔºåÁÇπÂáªÊ≠§Â§ÑÈáçÁΩÆÁä∂ÊÄÅ")},[(0,r.createVNode)((0,r.unref)(Iy.A),{size:16})],8,Ok)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÊµÅÂºèËæìÂá∫ÂÜÖÂÆπÔºàÁîüÊàêÊó∂ÂÆûÊó∂ÊòæÁ§∫Ôºå‰ºòÂÖàÁ∫ßÊúÄÈ´òÔºâ "),i.value&&s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Lk,[(0,r.createElementVNode)("div",Fk,[(0,r.createVNode)(_k,{text:s.value},null,8,["text"])])])):L.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createCommentVNode)(" ‰∏ä‰∏ÄÊ¨°ÁöÑÂèôËø∞ÂÜÖÂÆπÔºàÈùûÁîüÊàêÊó∂ÊòæÁ§∫Ôºâ "),(0,r.createElementVNode)("div",jk,[(0,r.createElementVNode)("div",Uk,[(0,r.createElementVNode)("span",qk,(0,r.toDisplayString)(L.value.time),1),(0,r.createElementVNode)("div",Gk,[(0,r.createCommentVNode)(" ÂõûÊªöÊåâÈíÆ "),H.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:Y,class:"header-action-btn rollback-btn",title:(0,r.unref)(S)("ÂõûÊªöÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ")},[(0,r.createVNode)((0,r.unref)(Iy.A),{size:20})],8,Hk)):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÂëΩ‰ª§Êó•ÂøóÊåâÈíÆ "),(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=e=>{var t;(t=L.value.stateChanges)&&t.changes&&0!==t.changes.length?C.openStateChangeViewer(t):X.o.info("Êú¨Ê¨°ÂØπËØùÊó†ÂèòÊõ¥ËÆ∞ÂΩï")}),class:(0,r.normalizeClass)(["variable-updates-toggle",{disabled:0===n.value.length}]),disabled:0===n.value.length,title:n.value.length>0?(0,r.unref)(S)("Êü•ÁúãÊú¨Ê¨°ÂØπËØùÁöÑÂèòÊõ¥Êó•Âøó"):(0,r.unref)(S)("Êú¨Ê¨°ÂØπËØùÊó†ÂèòÊõ¥ËÆ∞ÂΩï")},[(0,r.createVNode)((0,r.unref)(My.A),{size:16}),(0,r.createElementVNode)("span",Wk,(0,r.toDisplayString)(n.value.length),1)],10,Yk)])]),(0,r.createElementVNode)("div",Xk,[(0,r.createVNode)(_k,{text:L.value.content},null,8,["text"])]),(0,r.createCommentVNode)(" Ë°åÂä®ÈÄâÈ°π "),(0,r.unref)(C).enableActionOptions&&L.value.actionOptions?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Jk,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(L.value.actionOptions,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:t,onClick:t=>(e=>{a.value=e})(e),class:"action-option-btn"},(0,r.toDisplayString)(e),9,Kk))),128))])):(0,r.createCommentVNode)("v-if",!0)])],2112)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Zk,(0,r.toDisplayString)((0,r.unref)(S)("ÈùôÂæÖ‰∏ñÁïåÂèòÂåñ...")),1))])],512),(0,r.createCommentVNode)(" ËæìÂÖ•Âå∫Âüü "),(0,r.createElementVNode)("div",Qk,[(0,r.createCommentVNode)(" Âä®‰ΩúÈòüÂàóÊòæÁ§∫Âå∫Âüü "),(0,r.unref)(V).pendingActions.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",ew,[(0,r.createElementVNode)("div",tw,[(0,r.createElementVNode)("span",nw,(0,r.toDisplayString)((0,r.unref)(S)("ÊúÄËøëÊìç‰Ωú")),1),(0,r.createElementVNode)("button",{onClick:ie,class:"clear-queue-btn",title:(0,r.unref)(S)("Ê∏ÖÁ©∫ËÆ∞ÂΩï")},t[7]||(t[7]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]),8,aw)]),(0,r.createElementVNode)("div",rw,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(V).pendingActions,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"queue-action-item"},[(0,r.createElementVNode)("span",ow,(0,r.toDisplayString)(e.description),1),(0,r.createElementVNode)("div",iw,[(0,r.createElementVNode)("button",{onClick:e=>(async e=>{if(e>=0&&e<V.pendingActions.length){const t=V.pendingActions[e],n=["npc_trade","npc_request","npc_steal"];if(t.type&&n.includes(t.type))return V.removeAction(t.id),void X.o.success("Â∑≤ÁßªÈô§NPC‰∫§‰∫íÂä®‰Ωú");if(t.type&&["equip","unequip","use","cultivate"].includes(t.type)&&t.itemName&&await B.undoByItemName(t.type,t.itemName))return void X.o.success("Â∑≤Êí§ÂõûÂπ∂ÊÅ¢Â§ç");V.removeAction(t.id),X.o.success("Â∑≤ÁßªÈô§Âä®‰Ωú")}})(t),class:"remove-action-btn",title:oe(e)?(0,r.unref)(S)("Êí§ÂõûÂπ∂ÊÅ¢Â§ç"):(0,r.unref)(S)("Âà†Èô§Ê≠§Âä®‰Ωú")}," √ó ",8,sw)])]))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",lw,[(0,r.createCommentVNode)(" ÈöêËóèÁöÑÊñá‰ª∂ÈÄâÊã©Âô® "),(0,r.createElementVNode)("input",{type:"file",ref_key:"imageInputRef",ref:$,onChange:O,multiple:"",accept:"image/*",style:{display:"none"}},null,544),(0,r.createCommentVNode)(" ÂõæÁâá‰∏ä‰º†ÊåâÈíÆ - Â∑≤Á¶ÅÁî® "),(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Âø´Êç∑Ë°åÂä®ÊåâÈíÆ - Â∑≤Á¶ÅÁî® "),(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{onClick:pe,disabled:!G.value,class:"menu-button"},(0,r.toDisplayString)((0,r.unref)(S)("Ê∏∏ÊàèËèúÂçï")),9,cw),(0,r.createElementVNode)("div",dw,[(0,r.createCommentVNode)(" ÂõæÁâáÈ¢ÑËßàÂå∫Âüü "),R.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",uw,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(R.value,(e,n)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:"image-preview-item"},[(0,r.createElementVNode)("img",{src:(a=e,URL.createObjectURL(a)),alt:e.name},null,8,mw),(0,r.createElementVNode)("button",{onClick:e=>(e=>{R.value.splice(e,1),X.o.info("Â∑≤ÁßªÈô§ÂõæÁâá")})(n),class:"remove-image-btn",title:(0,r.unref)(S)("ÁßªÈô§ÂõæÁâá")},t[9]||(t[9]=[(0,r.createElementVNode)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]),8,pw)]);var a}),128))])):(0,r.createCommentVNode)("v-if",!0),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),onFocus:t[2]||(t[2]=e=>o.value=!0),onBlur:t[3]||(t[3]=e=>o.value=!1),onKeydown:de,onInput:me,placeholder:G.value?(0,r.unref)(S)("ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈÄâÊã©ÊàñË°åÂä®..."):(0,r.unref)(S)("ËØ∑ÂÖàÈÄâÊã©ËßíËâ≤..."),class:"game-input",ref_key:"inputRef",ref:d,rows:"1",wrap:"soft",disabled:!G.value||i.value},null,40,gw),[[r.vModelText,a.value]])]),(0,r.createElementVNode)("button",{onClick:le,disabled:!a.value.trim()||i.value||!G.value,class:"send-button"},[i.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(zy),{key:0,size:16,class:"animate-spin"})):((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Py),{key:1,size:16}))],8,hw)]),(0,r.createCommentVNode)(" Ë°åÂä®ÈÄâÊã©ÂºπÁ™ó "),x.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"action-modal-overlay",onClick:(0,r.withModifiers)(Q,["self"])},[(0,r.createElementVNode)("div",fw,[(0,r.createElementVNode)("div",vw,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)((0,r.unref)(S)("Âø´Êç∑Ë°åÂä®")),1),(0,r.createElementVNode)("button",{onClick:Q,class:"close-btn"},t[10]||(t[10]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),(0,r.createElementVNode)("div",bw,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(W.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.name,onClick:t=>(e=>{k.value=e,x.value=!1,w.value=1,E.value=1,N.value="",e.timeRequired||e.options||te()})(e),class:(0,r.normalizeClass)(["quick-action-btn",e.type])},[(0,r.createElementVNode)("div",xw,(0,r.toDisplayString)(e.icon),1),(0,r.createElementVNode)("div",kw,(0,r.toDisplayString)(e.name),1)],10,yw))),128))])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Ë°åÂä®ÈÖçÁΩÆÂºπÁ™ó "),k.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:"action-config-overlay",onClick:(0,r.withModifiers)(ee,["self"])},[(0,r.createElementVNode)("div",ww,[(0,r.createElementVNode)("div",Ew,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(k.value.icon)+" "+(0,r.toDisplayString)(k.value.name),1),(0,r.createElementVNode)("button",{onClick:ee,class:"close-btn"},"√ó")]),(0,r.createElementVNode)("div",Nw,[(0,r.createElementVNode)("p",Sw,(0,r.toDisplayString)(k.value.description),1),(0,r.createCommentVNode)(" Êó∂Èó¥ÈÖçÁΩÆ "),k.value.timeRequired?((0,r.openBlock)(),(0,r.createElementBlock)("div",_w,[(0,r.createElementVNode)("label",Vw,(0,r.toDisplayString)((0,r.unref)(S)("ËÆ≠ÁªÉÊó∂Èó¥")),1),(0,r.createElementVNode)("div",Cw,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(J.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.value,onClick:t=>w.value=e.value,class:(0,r.normalizeClass)(["time-btn",{active:w.value===e.value}])},(0,r.toDisplayString)(e.label),11,Aw))),128))]),(0,r.createElementVNode)("div",Dw,[(0,r.createElementVNode)("label",null,(0,r.toDisplayString)((0,r.unref)(S)("Ëá™ÂÆö‰πâÔºö")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>E.value=e),type:"number",min:"1",max:"365",class:"time-input"},null,512),[[r.vModelText,E.value,void 0,{number:!0}]]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(S)("Â§©")),1)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÂÖ∂‰ªñÈÖçÁΩÆÈÄâÈ°π "),k.value.options?((0,r.openBlock)(),(0,r.createElementBlock)("div",Tw,[(0,r.createElementVNode)("label",Bw,(0,r.toDisplayString)((0,r.unref)(S)("ÈÄâÈ°π")),1),(0,r.createElementVNode)("div",Iw,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(k.value.options,e=>((0,r.openBlock)(),(0,r.createElementBlock)("label",{key:e.key,class:"option-item"},[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"radio",name:"option-"+k.value.name,value:e.key,"onUpdate:modelValue":t[5]||(t[5]=e=>N.value=e)},null,8,Mw),[[r.vModelRadio,N.value]]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.label),1)]))),128))])])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",zw,[(0,r.createElementVNode)("button",{onClick:ee,class:"cancel-btn"},(0,r.toDisplayString)((0,r.unref)(S)("ÂèñÊ∂à")),1),(0,r.createElementVNode)("button",{onClick:te,class:"confirm-btn"},(0,r.toDisplayString)((0,r.unref)(S)("Á°ÆËÆ§")),1)])])])):(0,r.createCommentVNode)("v-if",!0)])]))}});var Ow=n(8293),Lw={};Lw.styleTagTransform=k(),Lw.setAttributes=v(),Lw.insert=h().bind(null,"head"),Lw.domAPI=p(),Lw.insertStyleElement=y(),u()(Ow.A,Lw),Ow.A&&Ow.A.locals&&Ow.A.locals;const Fw=(0,N.A)($w,[["__scopeId","data-v-52577625"]]),jw=(0,_.A)("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Uw=(0,_.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),qw=(0,_.A)("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var Gw=n(3302),Hw=n(5184);const Yw={class:"memory-center-panel game-panel"},Ww={class:"filter-section"},Xw={class:"filter-tabs"},Jw=["onClick"],Kw={class:"tab-icon"},Zw={class:"tab-name"},Qw={class:"tab-count"},eE=["title"],tE={key:0,class:"export-section"},nE=["title"],aE={class:"export-hint"},rE={key:1,class:"settings-section"},oE={class:"settings-header"},iE={class:"settings-title"},sE={class:"header-actions"},lE=["title"],cE={class:"settings-content"},dE={class:"setting-item"},uE={class:"setting-label"},mE={class:"setting-hint"},pE={class:"setting-item"},gE={class:"setting-label"},hE={class:"setting-hint"},fE={class:"setting-item"},vE={class:"setting-label"},bE={class:"setting-hint"},yE={class:"setting-item"},xE={class:"setting-label"},kE={class:"setting-hint"},wE={class:"setting-item"},EE={class:"setting-label"},NE=["placeholder"],SE={class:"setting-hint"},_E={class:"setting-item"},VE={class:"setting-label"},CE=["placeholder"],AE={class:"setting-hint"},DE={class:"settings-actions"},TE={class:"manual-summary-section"},BE={class:"summary-info"},IE={class:"info-text"},ME={class:"info-hint"},zE=["disabled","title"],PE={key:2,class:"panel-content"},RE={class:"vector-toolbar"},$E={class:"vector-status"},OE={class:"status-text"},LE={class:"vector-actions"},FE=["disabled","title"],jE=["disabled"],UE=["disabled"],qE={key:0,class:"loading-state"},GE={class:"loading-text"},HE={key:1,class:"empty-state"},YE={class:"empty-text"},WE={key:2,class:"empty-state"},XE=["disabled"],JE={key:3,class:"vector-content"},KE={key:0,class:"vector-stats"},ZE={class:"stats-item"},QE={class:"stats-value"},eN={key:0,class:"stats-item"},tN={class:"stats-value"},nN={key:0},aN={key:1,class:"pagination-controls"},rN={class:"pagination-info"},oN={class:"pagination-buttons"},iN=["disabled"],sN=["disabled"],lN=["disabled"],cN=["disabled"],dN={class:"pagination-jump"},uN=["max"],mN={class:"vector-list"},pN={class:"vector-card-header"},gN={class:"vector-badges"},hN={class:"vector-badge"},fN={class:"vector-badge secondary"},vN={class:"vector-time"},bN={key:0,class:"vector-tags"},yN={class:"vector-text"},xN={key:0,class:"loading-state"},kN={class:"loading-text"},wN={key:1,class:"empty-state"},EN={class:"empty-text"},NN={key:2},SN={key:0,class:"pagination-controls"},_N={class:"pagination-info"},VN={class:"pagination-buttons"},CN=["disabled","title"],AN=["disabled","title"],DN=["disabled","title"],TN=["disabled","title"],BN={class:"pagination-jump"},IN=["placeholder","max"],MN={class:"memory-list"},zN={class:"memory-header"},PN={class:"memory-actions"},RN=["onClick","title"],$N={class:"memory-time"},ON={class:"memory-content"},LN={key:0,class:"structured-memory"},FN={key:0,class:"memory-title"},jN={key:0,class:"memory-section-group"},UN={class:"memory-section"},qN={class:"memory-icon"},GN={class:"memory-section-title"},HN={key:1,class:"memory-item"},YN={key:1,class:"memory-section-group"},WN={class:"memory-section"},XN={class:"memory-section-title"},JN={key:1,class:"memory-item"},KN={key:1,class:"simple-memory"},ZN={key:1,class:"pagination-controls bottom"},QN={class:"pagination-info"},eS={class:"pagination-buttons"},tS=["disabled"],nS=["disabled"],aS=["disabled"],rS=["disabled"],oS=(0,r.defineComponent)({__name:"MemoryCenterPanel",setup(e){const t=(0,md.useCharacterStore)(),n=(0,se.isTavernEnv)(),a=(0,Au.useGameStateStore)(),{t:o}=(0,K.s)(),i=(0,r.ref)(!1),s=(0,r.ref)("all"),l=(0,r.ref)(!1),c=(0,r.ref)(1),d=(0,r.ref)(10),u=(0,r.ref)(""),m=(0,r.ref)({shortTermLimit:3,midTermTrigger:25,midTermKeep:8,autoSummaryEnabled:!0,midTermFormat:"",longTermFormat:"",useRawMode:!0,useStreaming:!0}),p=(0,r.ref)([]),g=(0,r.ref)([]),h=(0,r.ref)([]),f=(0,r.ref)([]),v=(0,r.ref)(null),b=(0,r.ref)(!1),y=(0,r.ref)(""),x=(0,r.ref)(!1),k=(0,r.ref)({done:0,total:0}),w=(0,r.computed)(()=>Hw.vectorMemoryService.getConfig().enabled),E=(0,r.computed)(()=>Hw.vectorMemoryService.getEmbeddingStatus()),N=(0,r.computed)(()=>v.value?.total??f.value.length),S=(0,r.computed)(()=>Math.ceil(N.value/d.value)||1),_=(0,r.computed)(()=>{const e=(c.value-1)*d.value,t=e+d.value;return f.value.slice(e,t)}),V=(0,r.computed)(()=>{if(x.value){const{done:e,total:t}=k.value;return"Ê≠£Âú®ÂêëÈáèÂåñÈïøÊúüËÆ∞ÂøÜ..."+(t>0?`Ôºà${e}/${t}Ôºâ`:"")}return"Ê≠£Âú®ËØªÂèñÂêëÈáèÂ∫ì..."}),C=(0,r.computed)(()=>[...h.value,...g.value,...p.value].sort((e,t)=>new Date(t.time).getTime()-new Date(e.time).getTime())),D=(0,r.computed)(()=>[{key:"all",name:o("ÂÖ®ÈÉ®"),icon:"üß†"},{key:"short",name:o("Áü≠Êúü"),icon:"‚ö°"},{key:"medium",name:o("‰∏≠Êúü"),icon:"üí≠"},{key:"long",name:o("ÈïøÊúü"),icon:"üíæ"},{key:"vector",name:"ÂêëÈáèÂ∫ì",icon:"üß¨"}]),T=(0,r.computed)(()=>{if("all"===s.value)return C.value;switch(s.value){case"short":return p.value;case"medium":return g.value;case"long":return h.value;default:return C.value}}),B=(0,r.computed)(()=>Math.ceil(T.value.length/d.value)||1),I=(0,r.computed)(()=>{const e=(c.value-1)*d.value,t=e+d.value;return T.value.slice(e,t)}),M=(0,r.computed)(()=>p.value.length+g.value.length+h.value.length),z=e=>{if("all"===e)return M.value;switch(e){case"short":return p.value.length;case"medium":return g.value.length;case"long":return h.value.length;case"vector":return N.value;default:return 0}},P=()=>{if("all"===s.value)return o("ÂøÉÂ¶ÇÊòéÈïúÔºåÂ∞öÊú™ËÆ∞ÂΩï‰ªª‰Ωï‰øÆË°åÊÑüÊÇü");const e=D.value.find(e=>e.key===s.value);return o("ÊöÇÊó†{type}ËÆ∞ÂøÜ",{type:e?.name})},R=e=>({short:o("Áü≠ÊúüËÆ∞ÂøÜ"),medium:o("‰∏≠ÊúüËÆ∞ÂøÜ"),long:o("ÈïøÊúüËÆ∞ÂøÜ")}[e]||o("Êú™Áü•")),$=e=>{const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()} ${t.getHours()}:${t.getMinutes().toString().padStart(2,"0")}`},O=async()=>{try{a.memory||(Gw.Yz.warn("ËÆ∞ÂøÜ‰∏≠ÂøÉ","gameStateStore.memory ‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ï‰øùÂ≠òËÆ∞ÂøÜ"),a.memory={Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]}),a.memory.Áü≠ÊúüËÆ∞ÂøÜ=p.value.map(e=>e.content),a.memory.‰∏≠ÊúüËÆ∞ÂøÜ=g.value.map(e=>e.content),a.memory.ÈïøÊúüËÆ∞ÂøÜ=h.value.map(e=>e.content),await t.saveCurrentGame(),Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","ËÆ∞ÂøÜÊï∞ÊçÆÂ∑≤‰øùÂ≠òÂà∞Â≠òÊ°£")}catch(e){throw Gw.Yz.error("ËÆ∞ÂøÜ‰∏≠ÂøÉ","‰øùÂ≠òËÆ∞ÂøÜÊï∞ÊçÆÂà∞Â≠òÊ°£Â§±Ë¥•:",e),e}},L=async()=>{if(!b.value){b.value=!0,y.value="";try{const[e,t]=await Promise.all([Hw.vectorMemoryService.getAllMemories(),Hw.vectorMemoryService.getStats()]);f.value=[...e].sort((e,t)=>t.timestamp-e.timestamp),v.value=t}catch(e){const t=e instanceof Error?e.message:String(e||"");y.value=t?`ÂêëÈáèÂ∫ìËØªÂèñÂ§±Ë¥•Ôºö${t}`:"ÂêëÈáèÂ∫ìËØªÂèñÂ§±Ë¥•"}finally{b.value=!1}}},F=()=>"vector"===s.value?S.value:B.value,j=e=>{const t=F();e>=1&&e<=t&&(c.value=e)},U=()=>{c.value=1},q=()=>{c.value=F()},G=()=>{const e=parseInt(u.value),t=F();!isNaN(e)&&e>=1&&e<=t?(c.value=e,u.value=""):X.o.warning(`ËØ∑ËæìÂÖ• 1-${t} ‰πãÈó¥ÁöÑÈ°µÁ†Å`)},H=(0,A.useUIStore)(),Y=async()=>{if(b.value||x.value)return;if(0===h.value.length)return void X.o.warning("ÂΩìÂâçÊ≤°ÊúâÈïøÊúüËÆ∞ÂøÜÂèØËΩ¨Âåñ");const e=h.value.length;H.showRetryDialog({title:"‰∏ÄÈîÆËΩ¨ÂåñÈïøÊúüËÆ∞ÂøÜ",message:`Â∞ÜÊ∏ÖÁ©∫ÂΩìÂâçÂêëÈáèÂ∫ìÔºåÂπ∂Êää ${e} Êù°ÈïøÊúüËÆ∞ÂøÜËΩ¨Âåñ‰∏∫ÂêëÈáèÔºà‰ºòÂÖà‰ΩøÁî®EmbeddingÔºõÊú™ÈÖçÁΩÆÂàôÂõûÈÄÄÊú¨Âú∞ÂêëÈáèÔºâ„ÄÇÊ≠§Êìç‰ΩúÂèØËÉΩ‰∫ßÁîü Embedding API Ë∞ÉÁî®‰∏éË¥πÁî®„ÄÇ`,confirmText:"ÂºÄÂßãËΩ¨Âåñ",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{b.value=!0,x.value=!0,k.value={done:0,total:e};try{const e=h.value.map(e=>e.content).filter(Boolean),t=await Hw.vectorMemoryService.rebuildFromLongTermMemories(e,{batchSize:24,onProgress:(e,t)=>{k.value={done:e,total:t}}});X.o.success("embedding"===t.vectorType?`ËΩ¨ÂåñÂÆåÊàêÔºö${t.imported} Êù°ÔºàEmbedding: ${t.embeddingModel||"unknown"}Ôºâ`:`ËΩ¨ÂåñÂÆåÊàêÔºö${t.imported} Êù°ÔºàÊú¨Âú∞ÂêëÈáèÔºâ`)}catch(e){const t=e instanceof Error?e.message:String(e||"");X.o.error(t?`ËΩ¨ÂåñÂ§±Ë¥•Ôºö${t}`:"ËΩ¨ÂåñÂ§±Ë¥•")}finally{x.value=!1,b.value=!1,k.value={done:0,total:0},await L()}},onCancel:()=>{}})},W=async()=>{H.showRetryDialog({title:"Ê∏ÖÁ©∫ÂêëÈáèÂ∫ì",message:"Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÂêëÈáèÂ∫ìÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄ„ÄÇ",confirmText:"Á°ÆËÆ§Ê∏ÖÁ©∫",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{try{await Hw.vectorMemoryService.clear(),await L(),X.o.success("ÂêëÈáèÂ∫ìÂ∑≤Ê∏ÖÁ©∫")}catch(e){const t=e instanceof Error?e.message:String(e||"");X.o.error(t?`Ê∏ÖÁ©∫Â§±Ë¥•Ôºö${t}`:"Ê∏ÖÁ©∫Â§±Ë¥•")}},onCancel:()=>{}})},J=async()=>{try{Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","ÂºÄÂßãÂä†ËΩΩËÆ∞ÂøÜÊï∞ÊçÆ");const e=[],t=[],n=[],r=a.memory;r?(Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","‰ªéÂ≠òÊ°£Êï∞ÊçÆÂä†ËΩΩËÆ∞ÂøÜ:",Object.keys(r)),Array.isArray(r.Áü≠ÊúüËÆ∞ÂøÜ)&&r.Áü≠ÊúüËÆ∞ÂøÜ.forEach((t,n)=>{if(t&&"string"==typeof t){const a={type:"short",content:t,time:$(Date.now()-3e5*n),importance:5};e.push(a)}}),Array.isArray(r.‰∏≠ÊúüËÆ∞ÂøÜ)&&r.‰∏≠ÊúüËÆ∞ÂøÜ.forEach((e,n)=>{if(e&&"string"==typeof e){const a={type:"medium",content:e,time:$(Date.now()-36e5*n),importance:7};t.push(a)}}),Array.isArray(r.ÈïøÊúüËÆ∞ÂøÜ)?(Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ",`ÂèëÁé∞ÈïøÊúüËÆ∞ÂøÜÊï∞ÁªÑÔºåÈïøÂ∫¶: ${r.ÈïøÊúüËÆ∞ÂøÜ.length}`),Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","ÈïøÊúüËÆ∞ÂøÜÂéüÂßãÊï∞ÊçÆ:",r.ÈïøÊúüËÆ∞ÂøÜ),r.ÈïøÊúüËÆ∞ÂøÜ.forEach((e,t)=>{if(e&&"string"==typeof e){const a={type:"long",content:e,time:$(Date.now()-864e5*t),importance:9};n.push(a),Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ",`Âä†ËΩΩÈïøÊúüËÆ∞ÂøÜ #${t}:`,e.substring(0,50))}})):Gw.Yz.warn("ËÆ∞ÂøÜ‰∏≠ÂøÉ","ÈïøÊúüËÆ∞ÂøÜ‰∏çÊòØÊï∞ÁªÑÊàñ‰∏çÂ≠òÂú®:",r.ÈïøÊúüËÆ∞ÂøÜ),Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ",`ËÆ∞ÂøÜÂä†ËΩΩÂÆåÊàê: Áü≠Êúü${e.length}, ‰∏≠Êúü${t.length}, ÈïøÊúü${n.length}`)):Gw.Yz.warn("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Êú™ÊâæÂà∞Â≠òÊ°£ËÆ∞ÂøÜÊï∞ÊçÆ"),p.value=e,g.value=t,h.value=n;const o=e.length+t.length+n.length;Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ",`ËÆ∞ÂøÜÂä†ËΩΩÂÆåÊàêÔºöÊÄªËÆ° ${o} Êù°ËÆ∞ÂøÜ`)}catch(e){Gw.Yz.error("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Âä†ËΩΩËÆ∞ÂøÜÊï∞ÊçÆÂ§±Ë¥•",e),X.o.error("Âä†ËΩΩËÆ∞ÂøÜÊï∞ÊçÆÂ§±Ë¥•")}},Z=async()=>{try{localStorage.setItem("memory-settings",JSON.stringify(m.value)),Ju.emit("memory-settings-updated",m.value),X.o.success("ËÆ∞ÂøÜÁ≥ªÁªüÈÖçÁΩÆÂ∑≤‰øùÂ≠ò"),Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","ÈÖçÁΩÆÂ∑≤‰øùÂ≠ò:",m.value)}catch(e){Gw.Yz.error("ËÆ∞ÂøÜ‰∏≠ÂøÉ","‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•:",e),X.o.error("‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•")}},Q=()=>{m.value={shortTermLimit:3,midTermTrigger:20,midTermKeep:8,autoSummaryEnabled:!0,midTermFormat:"",longTermFormat:"",useRawMode:!0,useStreaming:!0},X.o.success("ÈÖçÁΩÆÂ∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ÂÄº")},ee=async()=>{const e=m.value.midTermKeep+5;g.value.length<e?X.o.warning(o("insufficientMemoriesForSummary",{minRequired:e})):await Fy.J.triggerMemorySummary({useRawMode:m.value.useRawMode,useStreaming:m.value.useStreaming})},te=()=>{try{const e=a.character?.ÂêçÂ≠ó||o("Ë°åËÄÖ"),t=a.worldInfo?.‰∏ñÁïåÂêçÁß∞||o("ÈúìËôπ‰∏ñÁïå"),n=a.narrativeHistory||[];if(0===n.length)return void X.o.warning(o("Ê≤°ÊúâÂèô‰∫ãÂéÜÂè≤ÂèØÂØºÂá∫"));let r=o("novelTitle",{characterName:e})+"\n\n";r+=`${o("‰∏ñÁïåÊ°£Ê°à")}: ${t}\n`,r+=`${o("ÂØºÂá∫Êó∂Èó¥")}: ${(new Date).toLocaleString("zh-CN")}\n`,r+=`${o("ÊÄªÊÆµËêΩÊï∞")}: ${n.length}\n`,r+=`\n${"=".repeat(60)}\n\n`,n.forEach((e,t)=>{const n="user"===e.type||"player"===e.type,a=e.content.replace(/„Äê.*?„Äë/g,"").trim();r+=n?`${o("ÊàëËØ¥")}: "${a}"\n`:`${a}\n`,r+=`${"‚îÄ".repeat(50)}\n\n`,(t+1)%10==0&&(r+=`\n${"‚ïê".repeat(50)}\n`,r+=`${o("Á¨¨")} ${Math.floor((t+1)/10)}\n`,r+=`${"‚ïê".repeat(50)}\n\n`)});const i=new Blob([r],{type:"text/plain;charset=utf-8"}),s=URL.createObjectURL(i),l=document.createElement("a");l.href=s,l.download=`${e}_ÈúìËôπÂéÜÁ®ã_${Date.now()}.txt`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s),X.o.success(o("narrativeHistoryExported",{count:n.length}))}catch(e){console.error("[ËÆ∞ÂøÜ‰∏≠ÂøÉ] ÂØºÂá∫Â§±Ë¥•:",e),X.o.error(o("ÂØºÂá∫Â§±Ë¥•ÔºåËØ∑Êü•ÁúãÊéßÂà∂Âè∞"))}};(0,r.onMounted)(async()=>{await J(),await(async()=>{try{const e=localStorage.getItem("memory-settings");if(e){const t=JSON.parse(e);return m.value={...m.value,...t},void Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Â∑≤‰ªélocalStorageÂä†ËΩΩÈÖçÁΩÆ",t)}Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Êú™ÊâæÂà∞ÈÖçÁΩÆÔºå‰ΩøÁî®ÈªòËÆ§ÂÄº")}catch(e){Gw.Yz.error("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Âä†ËΩΩËÆ∞ÂøÜÈÖçÁΩÆÂ§±Ë¥•:",e)}})();try{v.value=await Hw.vectorMemoryService.getStats()}catch{}Ju.on("refresh",async()=>{i.value=!0;try{await J()}finally{i.value=!1}}),Ju.on("test",()=>{((e,t,n=5,a)=>{const r={type:e,content:t,time:$(Date.now()),importance:n,parsedContent:a};switch(e){case"short":p.value.push(r);break;case"medium":g.value.push(r);break;case"long":h.value.push(r)}(()=>{let e=!1;if(p.value.length>=3){Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Áü≠ÊúüËÆ∞ÂøÜËææÂà∞‰∏äÈôêÔºåÂºÄÂßãËΩ¨Âåñ‰∏∫‰∏≠ÊúüËÆ∞ÂøÜ");const t=p.value.shift();if(t){const n={...t,type:"medium",time:o("convertedAt",{time:$(Date.now())}),isConverted:!0};g.value.push(n),e=!0}}if(g.value.length>=25)if(Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","‰∏≠ÊúüËÆ∞ÂøÜËææÂà∞‰∏äÈôêÔºåÂáÜÂ§áËΩ¨Âåñ‰∏∫ÈïøÊúüËÆ∞ÂøÜ"),m.value.autoSummaryEnabled)Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Ëá™Âä®ÊÄªÁªìÂ∑≤ÂêØÁî®ÔºåÂ∞ÜÂú®ÂêéÂè∞Ëß¶ÂèëAIÊÄªÁªì"),Fy.J.triggerMemorySummary({useRawMode:m.value.useRawMode,useStreaming:m.value.useStreaming}).catch(e=>{Gw.Yz.error("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Ëá™Âä®ÊÄªÁªìÂ§±Ë¥•:",e)});else{const t=g.value.shift();if(t){const n={...t,type:"long",time:o("archivedAt",{time:$(Date.now())}),importance:Math.max(t.importance||5,7),isConverted:!0};h.value.push(n),e=!0}}if(h.value.length>50){h.value.sort((e,t)=>(t.importance||5)-(e.importance||5));const e=h.value.splice(50);Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ",`ÈïøÊúüËÆ∞ÂøÜË∂ÖÈôêÔºåÁßªÈô§${e.length}Êù°‰ΩéÈáçË¶ÅÊÄßËÆ∞ÂøÜ`)}e&&X.o.success(o("ËÆ∞ÂøÜÂ∑≤ÈáçÊñ∞Êï¥ÁêÜÔºåÊóßËÆ∞ÂøÜÂ∑≤ËΩ¨Âåñ"))})()})("short","„ÄêÊµãËØïËÆ∞ÂøÜ„ÄëÁî®‰∫éÊ£ÄÈ™åËΩ¨Âåñ‰∏éÊ∏≤Êüì„ÄÇ")}),Ju.on("clear",async()=>{await(async()=>{H.showRetryDialog({title:o("Ê∏ÖÁ©∫ËÆ∞ÂøÜ"),message:n?o("Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâËÆ∞ÂøÜÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºåÂêåÊó∂‰ºöÊ∏ÖÁ©∫ÈÖíÈ¶ÜÊï∞ÊçÆ„ÄÇ"):"Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâËÆ∞ÂøÜÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄ„ÄÇ",confirmText:o("Á°ÆËÆ§Ê∏ÖÁ©∫"),cancelText:o("ÂèñÊ∂à"),onConfirm:async()=>{try{p.value=[],g.value=[],h.value=[],a.memory&&(a.memory.Áü≠ÊúüËÆ∞ÂøÜ=[],a.memory.‰∏≠ÊúüËÆ∞ÂøÜ=[],a.memory.ÈïøÊúüËÆ∞ÂøÜ=[]),await t.saveCurrentGame(),X.o.success(n?o("ËÆ∞ÂøÜÂ∑≤Ê∏ÖÁ©∫Âπ∂ÂêåÊ≠•Âà∞ÈÖíÈ¶Ü"):"ËÆ∞ÂøÜÂ∑≤Ê∏ÖÁ©∫")}catch(e){console.error("[ËÆ∞ÂøÜ‰∏≠ÂøÉ] Ê∏ÖÁêÜËÆ∞ÂøÜÂ§±Ë¥•:",e),X.o.error(o("Ê∏ÖÁ©∫ËÆ∞ÂøÜÂ§±Ë¥•ÔºåËØ∑ÈáçËØï"))}},onCancel:()=>{}})})()})});const ne=async()=>{try{const e={content:`ÊµãËØï‰∏≠ÊúüËÆ∞ÂøÜ ${Date.now()} - ËøôÊòØ‰∏ÄÊù°Áî®‰∫éÊµãËØïÁöÑ‰∏≠ÊúüËÆ∞ÂøÜËÆ∞ÂΩï„ÄÇ`,time:$(Date.now()),type:"medium",isConverted:!1,isSummarized:!1,parsedContent:{ÂΩ±Âìç:"ÊµãËØï",sections:{}}};g.value.push(e),await O(),X.o.success(o("testMemoryAdded",{count:g.value.length})),Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Ê∑ªÂä†ÊµãËØï‰∏≠ÊúüËÆ∞ÂøÜÊàêÂäü",e)}catch(e){Gw.Yz.error("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Ê∑ªÂä†ÊµãËØïËÆ∞ÂøÜÂ§±Ë¥•",e),X.o.error(o("Ê∑ªÂä†ÊµãËØïËÆ∞ÂøÜÂ§±Ë¥•"))}};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Yw,[(0,r.createCommentVNode)(" ËÆ∞ÂøÜÁ±ªÂûãÁ≠õÈÄâ "),(0,r.createElementVNode)("div",Ww,[(0,r.createElementVNode)("div",Xw,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(D.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.key,class:(0,r.normalizeClass)(["filter-tab",{active:s.value===e.key}]),onClick:t=>(async e=>{s.value=e,c.value=1,u.value="","vector"===e&&await L()})(e.key)},[(0,r.createElementVNode)("span",Kw,(0,r.toDisplayString)(e.icon),1),(0,r.createElementVNode)("span",Zw,(0,r.toDisplayString)((0,r.unref)(o)(e.name)),1),(0,r.createElementVNode)("span",Qw,(0,r.toDisplayString)(z(e.key)),1)],10,Jw))),128)),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["settings-toggle-btn",{active:l.value}]),onClick:t[0]||(t[0]=e=>l.value=!l.value),title:(0,r.unref)(o)("ËÆ∞ÂøÜÁ≥ªÁªüËÆæÁΩÆ")},[(0,r.createVNode)((0,r.unref)(Wn.A),{size:16})],10,eE)])]),(0,r.createCommentVNode)(" ÂØºÂá∫Â∑•ÂÖ∑ "),l.value||"vector"===s.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",tE,[(0,r.createElementVNode)("button",{class:"export-btn-main",onClick:te,title:(0,r.unref)(o)("Â∞ÜÂÆåÊï¥ÁöÑÊ∏∏ÊàèÂØπËØùÂéÜÂè≤ÔºàÂü∫‰∫éÂèô‰∫ãÂéÜÂè≤ÔºâÂØºÂá∫‰∏∫Â∞èËØ¥Ê†ºÂºèÔºåÊñπ‰æøÈòÖËØªÂíåÂàÜ‰∫´„ÄÇ")},(0,r.toDisplayString)((0,r.unref)(o)("üìñ ÂØºÂá∫‰∏∫Â∞èËØ¥")),9,nE),(0,r.createElementVNode)("div",aE,(0,r.toDisplayString)((0,r.unref)(o)("Â∞ÜÂÆåÊï¥ÁöÑÊ∏∏ÊàèÂØπËØùÂéÜÂè≤ÔºàÂü∫‰∫éÂèô‰∫ãÂéÜÂè≤ÔºâÂØºÂá∫‰∏∫Â∞èËØ¥Ê†ºÂºèÔºåÊñπ‰æøÈòÖËØªÂíåÂàÜ‰∫´„ÄÇ")),1)])),(0,r.createCommentVNode)(" ËÆ∞ÂøÜÁ≥ªÁªüËÆæÁΩÆ "),l.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",rE,[(0,r.createElementVNode)("div",oE,[(0,r.createElementVNode)("span",iE,"‚öôÔ∏è "+(0,r.toDisplayString)((0,r.unref)(o)("ËÆ∞ÂøÜÁ≥ªÁªüÈÖçÁΩÆ")),1),(0,r.createElementVNode)("div",sE,[(0,r.createElementVNode)("button",{class:"test-btn",onClick:ne,title:(0,r.unref)(o)("Ê∑ªÂä†ÊµãËØï‰∏≠ÊúüËÆ∞ÂøÜ")}," üß™ "+(0,r.toDisplayString)((0,r.unref)(o)("ÊµãËØï")),9,lE),(0,r.createElementVNode)("button",{class:"settings-close-btn",onClick:t[1]||(t[1]=e=>l.value=!1)},"‚úï")])]),(0,r.createElementVNode)("div",cE,[(0,r.createElementVNode)("div",dE,[(0,r.createElementVNode)("label",uE,(0,r.toDisplayString)((0,r.unref)(o)("Áü≠ÊúüËÆ∞ÂøÜ‰∏äÈôêÔºàÊù°ÔºâÔºö")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>m.value.shortTermLimit=e),min:"3",max:"10",class:"setting-input"},null,512),[[r.vModelText,m.value.shortTermLimit,void 0,{number:!0}]]),(0,r.createElementVNode)("span",mE,(0,r.toDisplayString)((0,r.unref)(o)("ÈªòËÆ§"))+": 3",1)]),(0,r.createElementVNode)("div",pE,[(0,r.createElementVNode)("label",gE,(0,r.toDisplayString)((0,r.unref)(o)("‰∏≠ÊúüËÆ∞ÂøÜËΩ¨ÂåñÈòàÂÄºÔºàÊù°ÔºâÔºö")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>m.value.midTermTrigger=e),min:"10",max:"50",class:"setting-input"},null,512),[[r.vModelText,m.value.midTermTrigger,void 0,{number:!0}]]),(0,r.createElementVNode)("span",hE,(0,r.toDisplayString)((0,r.unref)(o)("‰∏≠ÊúüËÆ∞ÂøÜËææÂà∞Ê≠§Êï∞ÈáèÊó∂ÔºåËΩ¨Âåñ‰∏∫ÈïøÊúüËÆ∞ÂøÜ„ÄÇÈªòËÆ§Ôºö25")),1)]),(0,r.createElementVNode)("div",fE,[(0,r.createElementVNode)("label",vE,(0,r.toDisplayString)((0,r.unref)(o)("‰∏≠ÊúüËÆ∞ÂøÜ‰øùÁïôÊï∞ÈáèÔºàÊù°ÔºâÔºö")),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>m.value.midTermKeep=e),min:"5",max:"15",class:"setting-input"},null,512),[[r.vModelText,m.value.midTermKeep,void 0,{number:!0}]]),(0,r.createElementVNode)("span",bE,(0,r.toDisplayString)((0,r.unref)(o)("ËΩ¨Âåñ‰∏∫ÈïøÊúüËÆ∞ÂøÜÊó∂Ôºå‰øùÁïôÊúÄÊñ∞ÁöÑËøô‰πàÂ§öÊù°‰∏≠ÊúüËÆ∞ÂøÜ„ÄÇÈªòËÆ§Ôºö8")),1)]),(0,r.createElementVNode)("div",yE,[(0,r.createElementVNode)("label",xE,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>m.value.autoSummaryEnabled=e),class:"setting-checkbox"},null,512),[[r.vModelCheckbox,m.value.autoSummaryEnabled]]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(o)("ÂêØÁî®Ëá™Âä®ËÆ∞ÂøÜËΩ¨Âåñ")),1)]),(0,r.createElementVNode)("span",kE,(0,r.toDisplayString)((0,r.unref)(o)("ÂêØÁî®ÂêéÔºåËá™Âä®Â∞Ü‰∏≠ÊúüËÆ∞ÂøÜËΩ¨Âåñ‰∏∫ÈïøÊúüËÆ∞ÂøÜ„ÄÇÁ¶ÅÁî®Âàô‰∏çËΩ¨Âåñ„ÄÇ")),1)]),(0,r.createElementVNode)("div",wE,[(0,r.createElementVNode)("label",EE,(0,r.toDisplayString)((0,r.unref)(o)("Ëá™ÂÆö‰πâ‰∏≠ÊúüËÆ∞ÂøÜÊ†ºÂºèÔºö")),1),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>m.value.midTermFormat=e),class:"setting-textarea",placeholder:(0,r.unref)(o)("ÁïôÁ©∫‰ΩøÁî®ÈªòËÆ§Ê†ºÂºè„ÄÇÂèØËá™ÂÆö‰πâAIÊèêÁ§∫ËØçÊù•ÊéßÂà∂ËÆ∞ÂøÜÁöÑÁîüÊàêÊ†ºÂºè..."),rows:"4"},null,8,NE),[[r.vModelText,m.value.midTermFormat]]),(0,r.createElementVNode)("span",SE,(0,r.toDisplayString)((0,r.unref)(o)("Ëá™ÂÆö‰πâ‰∏≠ÊúüËÆ∞ÂøÜÁöÑAIÊèêÁ§∫ËØçÊ†ºÂºè„ÄÇÁïôÁ©∫‰ΩøÁî®Á≥ªÁªüÈªòËÆ§„ÄÇ")),1)]),(0,r.createElementVNode)("div",_E,[(0,r.createElementVNode)("label",VE,(0,r.toDisplayString)((0,r.unref)(o)("Ëá™ÂÆö‰πâÈïøÊúüËÆ∞ÂøÜÊ†ºÂºèÔºö")),1),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>m.value.longTermFormat=e),class:"setting-textarea",placeholder:(0,r.unref)(o)("ÁïôÁ©∫‰ΩøÁî®ÈªòËÆ§Ê†ºÂºè„ÄÇÂèØËá™ÂÆö‰πâAIÊèêÁ§∫ËØçÊù•ÊéßÂà∂ËÆ∞ÂøÜÁöÑÁîüÊàêÊ†ºÂºè..."),rows:"4"},null,8,CE),[[r.vModelText,m.value.longTermFormat]]),(0,r.createElementVNode)("span",AE,(0,r.toDisplayString)((0,r.unref)(o)("Ëá™ÂÆö‰πâÈïøÊúüËÆ∞ÂøÜÁöÑAIÊèêÁ§∫ËØçÊ†ºÂºè„ÄÇÁïôÁ©∫‰ΩøÁî®Á≥ªÁªüÈªòËÆ§„ÄÇ")),1)]),(0,r.createElementVNode)("div",DE,[(0,r.createElementVNode)("button",{class:"action-btn success",onClick:Z}," üíæ "+(0,r.toDisplayString)((0,r.unref)(o)("‰øùÂ≠òÈÖçÁΩÆ")),1),(0,r.createElementVNode)("button",{class:"action-btn info",onClick:Q},(0,r.toDisplayString)((0,r.unref)(o)("ÈáçÁΩÆ‰∏∫ÈªòËÆ§")),1)]),(0,r.createCommentVNode)(" ÊâãÂä®ÊÄªÁªìËß¶Âèë "),(0,r.createElementVNode)("div",TE,[(0,r.createElementVNode)("div",BE,[(0,r.createElementVNode)("span",IE,(0,r.toDisplayString)((0,r.unref)(o)("ÂΩìÂâç‰∏≠ÊúüËÆ∞ÂøÜÔºö"))+" "+(0,r.toDisplayString)(g.value.length)+" "+(0,r.toDisplayString)((0,r.unref)(o)("Êù°")),1),(0,r.createElementVNode)("span",ME,(0,r.toDisplayString)((0,r.unref)(o)("ËææÂà∞{count}Êù°Êó∂Â∞ÜËá™Âä®Ëß¶ÂèëÊÄªÁªì",{count:m.value.midTermTrigger})),1)]),(0,r.createElementVNode)("button",{class:"action-btn warning",onClick:ee,disabled:g.value.length<m.value.midTermKeep+5,title:g.value.length<m.value.midTermKeep+5?(0,r.unref)(o)("manualSummaryRequirement",{count:m.value.midTermKeep+5}):(0,r.unref)(o)("ÊâãÂä®Ëß¶ÂèëAIÊÄªÁªì")}," üìù "+(0,r.toDisplayString)((0,r.unref)(o)("ÊâãÂä®ÊÄªÁªì‰∏≠ÊúüËÆ∞ÂøÜ")),9,zE)])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ËÆ∞ÂøÜÂàóË°® "),l.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",PE,["vector"===s.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)("div",RE,[(0,r.createElementVNode)("div",$E,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["status-dot",{enabled:w.value}])},null,2),(0,r.createElementVNode)("span",OE,(0,r.toDisplayString)(w.value?"ÂêëÈáèÊ£ÄÁ¥¢Â∑≤ÂêØÁî®":"ÂêëÈáèÊ£ÄÁ¥¢Êú™ÂêØÁî®Ôºà‰∏ç‰ºöÂèÇ‰∏éAIÊ£ÄÁ¥¢Ôºâ"),1),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["status-subtext",{warning:!E.value.available}])},[E.value.available?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createTextVNode)(" EmbeddingÔºö"+(0,r.toDisplayString)(E.value.provider)+"/"+(0,r.toDisplayString)(E.value.model),1)],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)((0,r.toDisplayString)(E.value.reason),1)],64))],2)]),(0,r.createElementVNode)("div",LE,[(0,r.createElementVNode)("button",{class:"action-btn info",onClick:Y,disabled:b.value||x.value||0===h.value.length,title:0===h.value.length?"ÂΩìÂâçÊ≤°ÊúâÈïøÊúüËÆ∞ÂøÜÂèØËΩ¨Âåñ":"Ê∏ÖÁ©∫Âπ∂ÈáçÊñ∞ÁîüÊàêÂêëÈáèÂ∫ìÔºà‰ºòÂÖà‰ΩøÁî®EmbeddingÔºâ"}," ‰∏ÄÈîÆËΩ¨ÂåñÈïøÊúüËÆ∞ÂøÜ ",8,FE),(0,r.createElementVNode)("button",{class:"action-btn info",onClick:L,disabled:b.value},"Âà∑Êñ∞",8,jE),(0,r.createElementVNode)("button",{class:"action-btn warning",onClick:W,disabled:b.value||0===N.value},"Ê∏ÖÁ©∫ÂêëÈáèÂ∫ì",8,UE)])]),b.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",qE,[t[16]||(t[16]=(0,r.createElementVNode)("div",{class:"loading-spinner"},"‚è≥",-1)),(0,r.createElementVNode)("div",GE,(0,r.toDisplayString)(V.value),1)])):y.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",HE,[t[17]||(t[17]=(0,r.createElementVNode)("div",{class:"empty-icon"},"‚ö†Ô∏è",-1)),(0,r.createElementVNode)("div",YE,(0,r.toDisplayString)(y.value),1)])):0===N.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",WE,[t[18]||(t[18]=(0,r.createElementVNode)("div",{class:"empty-icon"},"üß¨",-1)),t[19]||(t[19]=(0,r.createElementVNode)("div",{class:"empty-text"},"ÂêëÈáèÂ∫ì‰∏∫Á©∫",-1)),(0,r.createElementVNode)("button",{class:"action-btn info",onClick:Y,disabled:x.value||0===h.value.length}," ‰∏ÄÈîÆËΩ¨ÂåñÈïøÊúüËÆ∞ÂøÜ ",8,XE)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",JE,[v.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",KE,[(0,r.createElementVNode)("div",ZE,[t[20]||(t[20]=(0,r.createElementVNode)("span",{class:"stats-label"},"ÊÄªÊï∞",-1)),(0,r.createElementVNode)("span",QE,(0,r.toDisplayString)(v.value.total),1)]),Object.keys(v.value.byCategory).length?((0,r.openBlock)(),(0,r.createElementBlock)("div",eN,[t[21]||(t[21]=(0,r.createElementVNode)("span",{class:"stats-label"},"ÂàÜÁ±ª",-1)),(0,r.createElementVNode)("span",tN,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Object.entries(v.value.byCategory),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e[0],class:"stats-chip"},[(0,r.createTextVNode)((0,r.toDisplayString)(e[0])+": "+(0,r.toDisplayString)(e[1]),1),t<Object.keys(v.value.byCategory).length-1?((0,r.openBlock)(),(0,r.createElementBlock)("span",nN," ¬∑ ")):(0,r.createCommentVNode)("v-if",!0)]))),128))])])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),N.value>d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",aN,[(0,r.createElementVNode)("div",rN,"Á¨¨ "+(0,r.toDisplayString)(c.value)+" / "+(0,r.toDisplayString)(S.value)+" È°µÔºåÂÖ± "+(0,r.toDisplayString)(N.value)+" Êù°",1),(0,r.createElementVNode)("div",oN,[(0,r.createElementVNode)("button",{class:"page-btn",onClick:U,disabled:1===c.value},[(0,r.createVNode)((0,r.unref)(jw),{size:16})],8,iN),(0,r.createElementVNode)("button",{class:"page-btn",onClick:t[8]||(t[8]=e=>j(c.value-1)),disabled:1===c.value},[(0,r.createVNode)((0,r.unref)(Uw),{size:16})],8,sN),(0,r.createElementVNode)("button",{class:"page-btn",onClick:t[9]||(t[9]=e=>j(c.value+1)),disabled:c.value===S.value},[(0,r.createVNode)((0,r.unref)(By),{size:16})],8,lN),(0,r.createElementVNode)("button",{class:"page-btn",onClick:q,disabled:c.value===S.value},[(0,r.createVNode)((0,r.unref)(qw),{size:16})],8,cN)]),(0,r.createElementVNode)("div",dN,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=e=>u.value=e),placeholder:"È°µ",class:"jump-input",onKeyup:(0,r.withKeys)(G,["enter"]),min:"1",max:S.value},null,40,uN),[[r.vModelText,u.value]]),(0,r.createElementVNode)("button",{class:"jump-btn",onClick:G},"Ë∑≥ËΩ¨")])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",mN,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(_.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"vector-card"},[(0,r.createElementVNode)("div",pN,[(0,r.createElementVNode)("div",gN,[(0,r.createElementVNode)("span",hN,(0,r.toDisplayString)(e.category),1),(0,r.createElementVNode)("span",fN,"ÈáçË¶Å: "+(0,r.toDisplayString)(e.importance),1)]),(0,r.createElementVNode)("div",vN,(0,r.toDisplayString)($(e.timestamp)),1)]),e.tags?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",bN,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.tags,e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"vector-tag"},"#"+(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",yN,(0,r.toDisplayString)(e.content),1)]))),128))])]))],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",xN,[t[22]||(t[22]=(0,r.createElementVNode)("div",{class:"loading-spinner"},"‚è≥",-1)),(0,r.createElementVNode)("div",kN,(0,r.toDisplayString)((0,r.unref)(o)("Ê≠£Âú®ËØªÂèñËÆ∞ÂøÜ...")),1)])):0===I.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",wN,[t[23]||(t[23]=(0,r.createElementVNode)("div",{class:"empty-icon"},"üß†",-1)),(0,r.createElementVNode)("div",EN,(0,r.toDisplayString)(P()),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",NN,[(0,r.createCommentVNode)(" ÂàÜÈ°µÊéßÂà∂ "),T.value.length>d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",SN,[(0,r.createElementVNode)("div",_N,(0,r.toDisplayString)((0,r.unref)(o)("Á¨¨ {currentPage} / {totalPages} È°µÔºåÂÖ± {total} Êù°ËÆ∞ÂøÜ",{currentPage:c.value,totalPages:B.value,total:T.value.length})),1),(0,r.createElementVNode)("div",VN,[(0,r.createElementVNode)("button",{class:"page-btn",onClick:U,disabled:1===c.value,title:(0,r.unref)(o)("È¶ñÈ°µ")},[(0,r.createVNode)((0,r.unref)(jw),{size:16})],8,CN),(0,r.createElementVNode)("button",{class:"page-btn",onClick:t[11]||(t[11]=e=>j(c.value-1)),disabled:1===c.value,title:(0,r.unref)(o)("‰∏ä‰∏ÄÈ°µ")},[(0,r.createVNode)((0,r.unref)(Uw),{size:16})],8,AN),(0,r.createElementVNode)("button",{class:"page-btn",onClick:t[12]||(t[12]=e=>j(c.value+1)),disabled:c.value===B.value,title:(0,r.unref)(o)("‰∏ã‰∏ÄÈ°µ")},[(0,r.createVNode)((0,r.unref)(By),{size:16})],8,DN),(0,r.createElementVNode)("button",{class:"page-btn",onClick:q,disabled:c.value===B.value,title:(0,r.unref)(o)("Êú´È°µ")},[(0,r.createVNode)((0,r.unref)(qw),{size:16})],8,TN)]),(0,r.createElementVNode)("div",BN,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=e=>u.value=e),placeholder:(0,r.unref)(o)("È°µ"),class:"jump-input",onKeyup:(0,r.withKeys)(G,["enter"]),min:"1",max:B.value},null,40,IN),[[r.vModelText,u.value]]),(0,r.createElementVNode)("button",{class:"jump-btn",onClick:G},(0,r.toDisplayString)((0,r.unref)(o)("Ë∑≥ËΩ¨")),1)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",MN,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(I.value,(e,n)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:(0,r.normalizeClass)(["memory-card",`memory-${e.type}`])},[(0,r.createElementVNode)("div",zN,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["memory-type-badge",`badge-${e.type}`])},(0,r.toDisplayString)((a=e.type,{short:"‚ö°",medium:"üí≠",long:"üíæ"}[a]||"üß†"))+" "+(0,r.toDisplayString)(R(e.type)),3),(0,r.createElementVNode)("div",PN,[(0,r.createElementVNode)("button",{class:"delete-memory-btn",onClick:(0,r.withModifiers)(t=>(async e=>{H.showRetryDialog({title:o("Âà†Èô§ËÆ∞ÂøÜ"),message:o("confirmDeleteMemory",{type:R(e.type),content:e.content.substring(0,50)}),confirmText:o("Âà†Èô§"),cancelText:o("ÂèñÊ∂à"),onConfirm:async()=>{try{let t=-1;switch(e.type){case"short":t=p.value.findIndex(t=>t===e),-1!==t&&p.value.splice(t,1);break;case"medium":t=g.value.findIndex(t=>t===e),-1!==t&&g.value.splice(t,1);break;case"long":t=h.value.findIndex(t=>t===e),-1!==t&&h.value.splice(t,1)}if(-1===t)return void X.o.error(o("Êú™ÊâæÂà∞Ë¶ÅÂà†Èô§ÁöÑËÆ∞ÂøÜ"));await O(),Gw.Yz.log("ËÆ∞ÂøÜ‰∏≠ÂøÉ",`‚úÖ Â∑≤Âà†Èô§${R(e.type)}Âπ∂ÂêåÊ≠•Âà∞Â≠òÊ°£`),X.o.success(o("memoryDeleted",{type:R(e.type)}))}catch(e){Gw.Yz.error("ËÆ∞ÂøÜ‰∏≠ÂøÉ","Âà†Èô§ËÆ∞ÂøÜÂ§±Ë¥•:",e);const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";X.o.error(o("deleteFailed",{error:t}))}},onCancel:()=>{}})})(e),["stop"]),title:(0,r.unref)(o)("Âà†Èô§Ê≠§ËÆ∞ÂøÜ")}," üóëÔ∏è ",8,RN),(0,r.createElementVNode)("div",$N,(0,r.toDisplayString)(e.time),1)])]),(0,r.createElementVNode)("div",ON,[e.parsedContent&&e.parsedContent.format?((0,r.openBlock)(),(0,r.createElementBlock)("div",LN,[e.parsedContent.title?((0,r.openBlock)(),(0,r.createElementBlock)("div",FN," „Äê"+(0,r.toDisplayString)(e.parsedContent.title)+"„Äë ",1)):(0,r.createCommentVNode)("v-if",!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.parsedContent.format.sections,t=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:t.key},[e.parsedContent.sections&&e.parsedContent.sections[t.key]?((0,r.openBlock)(),(0,r.createElementBlock)("div",jN,[(0,r.createElementVNode)("div",UN,[(0,r.createElementVNode)("span",qN,(0,r.toDisplayString)(t.icon),1),(0,r.createElementVNode)("span",GN,(0,r.toDisplayString)(t.title),1)]),(0,r.createCommentVNode)(" Á°Æ‰øùÂè™Âú®Êï∞ÁªÑÊó∂ÊâçÈÅçÂéÜÔºåÂ≠óÁ¨¶‰∏≤Áõ¥Êé•ÊòæÁ§∫ "),Array.isArray(e.parsedContent.sections[t.key])?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(e.parsedContent.sections[t.key],e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"memory-item"},(0,r.toDisplayString)(e),1))),128)):((0,r.openBlock)(),(0,r.createElementBlock)("div",HN,(0,r.toDisplayString)(e.parsedContent.sections[t.key]),1))])):(0,r.createCommentVNode)("v-if",!0)],64))),128)),(0,r.createCommentVNode)(" Êú™ËØÜÂà´ÁöÑÈÄöÁî®ÂÜÖÂÆπ "),e.parsedContent.sections.general?((0,r.openBlock)(),(0,r.createElementBlock)("div",YN,[(0,r.createElementVNode)("div",WN,[t[24]||(t[24]=(0,r.createElementVNode)("span",{class:"memory-icon"},"üìù",-1)),(0,r.createElementVNode)("span",XN,(0,r.toDisplayString)((0,r.unref)(o)("ÂÖ∂‰ªñËÆ∞ÂΩï")),1)]),(0,r.createCommentVNode)(" Á°Æ‰øùÂè™Âú®Êï∞ÁªÑÊó∂ÊâçÈÅçÂéÜÔºåÂ≠óÁ¨¶‰∏≤Áõ¥Êé•ÊòæÁ§∫ "),Array.isArray(e.parsedContent.sections.general)?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(e.parsedContent.sections.general,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"memory-item"},(0,r.toDisplayString)(e),1))),128)):((0,r.openBlock)(),(0,r.createElementBlock)("div",JN,(0,r.toDisplayString)(e.parsedContent.sections.general),1))])):(0,r.createCommentVNode)("v-if",!0)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",KN,(0,r.toDisplayString)(e.content),1))])],2);var a}),128))]),(0,r.createCommentVNode)(" Â∫ïÈÉ®ÂàÜÈ°µÊéßÂà∂ "),T.value.length>d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",ZN,[(0,r.createElementVNode)("div",QN,(0,r.toDisplayString)((0,r.unref)(o)("È°µ"))+" "+(0,r.toDisplayString)(c.value)+" / "+(0,r.toDisplayString)(B.value),1),(0,r.createElementVNode)("div",eS,[(0,r.createElementVNode)("button",{class:"page-btn",onClick:U,disabled:1===c.value},[(0,r.createVNode)((0,r.unref)(jw),{size:16})],8,tS),(0,r.createElementVNode)("button",{class:"page-btn",onClick:t[14]||(t[14]=e=>j(c.value-1)),disabled:1===c.value},[(0,r.createVNode)((0,r.unref)(Uw),{size:16})],8,nS),(0,r.createElementVNode)("button",{class:"page-btn",onClick:t[15]||(t[15]=e=>j(c.value+1)),disabled:c.value===B.value},[(0,r.createVNode)((0,r.unref)(By),{size:16})],8,aS),(0,r.createElementVNode)("button",{class:"page-btn",onClick:q,disabled:c.value===B.value},[(0,r.createVNode)((0,r.unref)(qw),{size:16})],8,rS)])])):(0,r.createCommentVNode)("v-if",!0)]))],64))]))]))}});var iS=n(1548),sS={};sS.styleTagTransform=k(),sS.setAttributes=v(),sS.insert=h().bind(null,"head"),sS.domAPI=p(),sS.insertStyleElement=y(),u()(iS.A,sS),iS.A&&iS.A.locals&&iS.A.locals;const lS=(0,N.A)(oS,[["__scopeId","data-v-0131582e"]]);function cS(e,t){const n=t.ËßíËâ≤?.Ë∫´‰ªΩ??null,a=n?.ÊàêÈïøÂÖ≠Áª¥||{‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0},r=function(e,t){const n={‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0};return console.log("[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] ÂºÄÂßãËÆ°ÁÆóË£ÖÂ§áÂä†Êàê"),console.log("[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] Ë£ÖÂ§áÊ†èÊï∞ÊçÆ:",e),console.log("[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] ËÉåÂåÖÁâ©ÂìÅÊï∞ÊçÆ:",t?.Áâ©ÂìÅ),Object.entries(e).forEach(([e,a])=>{if(console.log(`[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] Ê£ÄÊü•ÊßΩ‰Ωç ${e}, itemId: ${a}`),a&&t.Áâ©ÂìÅ&&t.Áâ©ÂìÅ[a]){const e=t.Áâ©ÂìÅ[a];if(console.log("[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] ÊâæÂà∞Áâ©ÂìÅ:",e),"Ë£ÖÂ§á"===e.Á±ªÂûã&&e.Ë£ÖÂ§áÂ¢ûÂπÖ?.ÊàêÈïøÂÖ≠Áª¥){console.log(`[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] Áâ©ÂìÅ ${e.ÂêçÁß∞} ÊúâË£ÖÂ§áÂ¢ûÂπÖ:`,e.Ë£ÖÂ§áÂ¢ûÂπÖ);const t=e.Ë£ÖÂ§áÂ¢ûÂπÖ.ÊàêÈïøÂÖ≠Áª¥;Object.entries(t).forEach(([t,a])=>{if(t in n){const r=Number(a);isNaN(r)?console.warn(`[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] Â±ûÊÄß ${t} ÁöÑÂÄº "${a}" ‰∏çÊòØ‰∏Ä‰∏™ÊúâÊïàÁöÑÊï∞Â≠óÔºåÂ∑≤ÂøΩÁï•„ÄÇÁâ©ÂìÅ: ${e.ÂêçÁß∞}`):(console.log(`[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] Ê∑ªÂä†Â±ûÊÄßÂä†Êàê: ${t} +${r} (ÂéüÂßãÂÄº: ${a})`),n[t]+=r)}else console.warn(`[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] ÂèëÁé∞Êú™Áü•ÁöÑÊàêÈïøÂÖ≠Áª¥Â±ûÊÄß "${t}"ÔºåÂ∑≤ÂøΩÁï•„ÄÇÁâ©ÂìÅ: ${e.ÂêçÁß∞}`)})}else console.log(`[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] Áâ©ÂìÅ ${e.ÂêçÁß∞} Ê≤°ÊúâË£ÖÂ§áÂ¢ûÂπÖÊàñÊàêÈïøÂÖ≠Áª¥Â±ûÊÄß`)}else console.log(`[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] ÊßΩ‰Ωç ${e} ‰∏∫Á©∫ÊàñÁâ©ÂìÅ‰∏çÂ≠òÂú®`)}),console.log("[Ë£ÖÂ§áÂä†ÊàêËÆ°ÁÆó] ÊúÄÁªàË£ÖÂ§áÂä†Êàê:",n),n}(t.ËßíËâ≤?.Ë£ÖÂ§á??null,t.ËßíËâ≤?.ËÉåÂåÖ??null),o=function(e){const t={‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0},n=e.ËßíËâ≤?.Ë∫´‰ªΩ??null,a=n?.Ê®°Âùó||[];return a.map(e=>"string"==typeof e?e:e&&"object"==typeof e&&e.ÂêçÁß∞?e.ÂêçÁß∞:null).filter(Boolean),a.forEach(e=>{let n,a;if("string"==typeof e?(a=e,n=le.qS.find(e=>e.name===a)):e&&"object"==typeof e&&(a=e.ÂêçÁß∞||"",n=le.qS.find(e=>e.name===a),!n&&e.effects&&(n={id:0,name:a,description:e.ÊèèËø∞||"",talent_cost:0,rarity:1,effects:e.effects})),n&&n.effects){const e=function(e){const t={‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0};return e.forEach(e=>{e.effects&&Array.isArray(e.effects)&&e.effects.forEach(e=>{if("string"!=typeof e){if("ÊàêÈïøÂÖ≠Áª¥"===e.Á±ªÂûã){const n=e.ÁõÆÊ†á,a=Number(e.Êï∞ÂÄº)||0;let r=n;"Â∏¶ÂÆΩ"===n&&(r="ÁÆóÊ≥ï"),"ÊÉüÊÄß"===n&&(r="ÁÆóÊ≥ï"),"‰ΩìË¥®"===n&&(r="‰ΩìË¥®"),"ÊïèÊç∑"===n&&(r="ËÉΩÊ∫ê"),r&&r in t&&(t[r]+=a)}if("type"in e&&"ATTRIBUTE_MODIFIER"===e.type){const n="target"in e?e.target:void 0,a="value"in e&&Number(e.value)||0;if(!n)return;const r={STR:"‰ΩìË¥®",CON:"‰ΩìË¥®",DEX:"ËÉΩÊ∫ê",INT:"ÁÆóÊ≥ï",SPI:"ÂøÉÊô∫",LUK:"ËµÑÊ∫êÊÑüÁü•"}[n];r&&r in t&&(t[r]+=a)}}})}),t}([n]);Object.keys(t).forEach(n=>{t[n]+=e[n]})}}),t}(t),i={‰ΩìË¥®:a.‰ΩìË¥®+r.‰ΩìË¥®+o.‰ΩìË¥®,ËÉΩÊ∫ê:a.ËÉΩÊ∫ê+r.ËÉΩÊ∫ê+o.ËÉΩÊ∫ê,ÁÆóÊ≥ï:a.ÁÆóÊ≥ï+r.ÁÆóÊ≥ï+o.ÁÆóÊ≥ï,ËµÑÊ∫êÊÑüÁü•:a.ËµÑÊ∫êÊÑüÁü•+r.ËµÑÊ∫êÊÑüÁü•+o.ËµÑÊ∫êÊÑüÁü•,È≠ÖÂäõ:a.È≠ÖÂäõ+r.È≠ÖÂäõ+o.È≠ÖÂäõ,ÂøÉÊô∫:a.ÂøÉÊô∫+r.ÂøÉÊô∫+o.ÂøÉÊô∫};return{ÂàùÂßãÂÖ≠Áª¥:e,ÊàêÈïøÂÖ≠Áª¥:i,ÊúÄÁªàÂÖ≠Áª¥:{‰ΩìË¥®:e.‰ΩìË¥®+i.‰ΩìË¥®,ËÉΩÊ∫ê:e.ËÉΩÊ∫ê+i.ËÉΩÊ∫ê,ÁÆóÊ≥ï:e.ÁÆóÊ≥ï+i.ÁÆóÊ≥ï,ËµÑÊ∫êÊÑüÁü•:e.ËµÑÊ∫êÊÑüÁü•+i.ËµÑÊ∫êÊÑüÁü•,È≠ÖÂäõ:e.È≠ÖÂäõ+i.È≠ÖÂäõ,ÂøÉÊô∫:e.ÂøÉÊô∫+i.ÂøÉÊô∫}}}const dS=(0,_.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),uS=(0,_.A)("file-question-mark",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]),mS=(0,_.A)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),pS=(0,_.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),gS=(0,_.A)("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),hS=(0,_.A)("stamp",[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]]),fS={class:"body-stats-panel"},vS={class:"privacy-notice"},bS={key:0,class:"empty-stats"},yS={class:"empty-icon"},xS={class:"sub-text"},kS={key:1,class:"stats-container"},wS={key:0,class:"stat-section lifespan-section"},ES={class:"section-title"},NS={class:"lifespan-display"},SS={class:"lifespan-info"},_S={class:"lifespan-current"},VS={class:"lifespan-max"},CS={class:"lifespan-unit"},AS={class:"lifespan-bar"},DS={class:"lifespan-hint"},TS={class:"stat-section"},BS={class:"section-title"},IS={class:"stats-grid"},MS={class:"stat-card"},zS={class:"label"},PS={class:"value"},RS={class:"stat-card"},$S={class:"label"},OS={class:"value"},LS={key:0,class:"stat-card"},FS={class:"label"},jS={class:"value"},US={key:0,class:"tags-container"},qS={key:1,class:"stat-section"},GS={class:"section-title"},HS={class:"measurements-display"},YS={class:"measurement-item"},WS={class:"measure-circle"},XS={class:"measure-val"},JS={class:"measure-label"},KS={class:"measurement-item"},ZS={class:"measure-circle"},QS={class:"measure-val"},e_={class:"measure-label"},t_={class:"measurement-item"},n_={class:"measure-circle"},a_={class:"measure-val"},r_={class:"measure-label"},o_={key:0,class:"cup-display"},i_={class:"cup-label"},s_={class:"cup-value"},l_={key:2,class:"stat-section"},c_={class:"section-title"},d_={class:"description-list"},u_={key:0,class:"desc-item"},m_={class:"desc-label"},p_={class:"desc-content"},g_={key:1,class:"desc-item"},h_={class:"desc-label"},f_={class:"desc-content"},v_={key:2,class:"desc-item"},b_={class:"desc-label"},y_={class:"desc-content"},x_={key:3,class:"stat-section"},k_={class:"section-title"},w_={key:0,class:"sensitive-points"},E_={class:"sub-title"},N_={class:"points-list"},S_={key:1,class:"development-list"},__={class:"dev-header"},V_={class:"dev-name"},C_={class:"dev-val"},A_={class:"dev-bar"},D_={key:4,class:"stat-section"},T_={class:"section-title"},B_={class:"markings-list"},I_=(0,r.defineComponent)({__name:"BodyStatsPanel",props:{bodyStats:{},lifespan:{}},setup(e){const t=e,{t:n}=(0,K.s)(),a=(0,r.computed)(()=>t.bodyStats),o=(0,r.ref)((0,se.isTavernEnv)()),i=(0,r.ref)(!0),s=()=>{o.value=(0,se.isTavernEnv)(),i.value=(0,xh.rW)().nsfwMode};(0,r.onMounted)(s),(0,r.onActivated)(s);const l=(0,r.computed)(()=>{const e=o.value?n("ÈÖíÈ¶ÜÁéØÂ¢É"):n("ÁΩëÈ°µÁéØÂ¢É"),t=i.value?n("Êàê‰∫∫ÂÜÖÂÆπÔºöÂºÄÂêØ"):n("Êàê‰∫∫ÂÜÖÂÆπÔºöÂÖ≥Èó≠");return`${n("ÁßÅÂØÜÊ°£Ê°à")} ¬∑ ${e} ¬∑ ${t}`}),c=(0,r.computed)(()=>!!a.value&&(a.value.ÊïèÊÑüÁÇπ&&a.value.ÊïèÊÑüÁÇπ.length>0||a.value.ÂºÄÂèëÂ∫¶&&Object.keys(a.value.ÂºÄÂèëÂ∫¶).length>0)),d=(0,r.computed)(()=>t.lifespan?Math.min(100,Math.round(t.lifespan.current/t.lifespan.max*100)):0);return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",fS,[(0,r.createCommentVNode)(" Ë≠¶ÂëäÊèêÁ§∫ (‰ªÖÂú®ÂºÄÂèë/Ë∞ÉËØïÊó∂ÊòæÁ§∫ÔºåÊàñËÄÖ‰Ωú‰∏∫Ê≤âÊµ∏ÂºèÊèêÁ§∫) "),(0,r.createElementVNode)("div",vS,[(0,r.createVNode)((0,r.unref)(dS),{size:14}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(l.value),1)]),a.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",kS,[(0,r.createCommentVNode)(" ÂØøÂÖÉÁä∂ÊÄÅ "),e.lifespan?((0,r.openBlock)(),(0,r.createElementBlock)("div",wS,[(0,r.createElementVNode)("h3",ES,[(0,r.createVNode)((0,r.unref)(Fg),{size:18,class:"title-icon"}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(n)("ÂØøÂÖÉ")),1)]),(0,r.createElementVNode)("div",NS,[(0,r.createElementVNode)("div",SS,[(0,r.createElementVNode)("span",_S,(0,r.toDisplayString)(e.lifespan.current),1),t[0]||(t[0]=(0,r.createElementVNode)("span",{class:"lifespan-divider"},"/",-1)),(0,r.createElementVNode)("span",VS,(0,r.toDisplayString)(e.lifespan.max),1),(0,r.createElementVNode)("span",CS,(0,r.toDisplayString)((0,r.unref)(n)("Â≤Å")),1)]),(0,r.createElementVNode)("div",AS,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["lifespan-fill",{warning:d.value>70,danger:d.value>90}]),style:(0,r.normalizeStyle)({width:d.value+"%"})},null,6)]),(0,r.createElementVNode)("div",DS,(0,r.toDisplayString)((0,r.unref)(n)("Ââ©‰Ωô"))+" "+(0,r.toDisplayString)(e.lifespan.max-e.lifespan.current)+" "+(0,r.toDisplayString)((0,r.unref)(n)("Âπ¥")),1)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Âü∫Á°Ä‰ΩìÊ†º "),(0,r.createElementVNode)("div",TS,[(0,r.createElementVNode)("h3",BS,[(0,r.createVNode)((0,r.unref)(mS),{size:18,class:"title-icon"}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(n)("Âü∫Á°Ä‰ΩìÊ†º")),1)]),(0,r.createElementVNode)("div",IS,[(0,r.createElementVNode)("div",MS,[(0,r.createElementVNode)("span",zS,(0,r.toDisplayString)((0,r.unref)(n)("Ë∫´È´ò")),1),(0,r.createElementVNode)("span",PS,[(0,r.createTextVNode)((0,r.toDisplayString)(a.value.Ë∫´È´ò||"???")+" ",1),t[1]||(t[1]=(0,r.createElementVNode)("span",{class:"unit"},"cm",-1))])]),(0,r.createElementVNode)("div",RS,[(0,r.createElementVNode)("span",$S,(0,r.toDisplayString)((0,r.unref)(n)("‰ΩìÈáç")),1),(0,r.createElementVNode)("span",OS,[(0,r.createTextVNode)((0,r.toDisplayString)(a.value.‰ΩìÈáç||"???")+" ",1),t[2]||(t[2]=(0,r.createElementVNode)("span",{class:"unit"},"kg",-1))])]),a.value.‰ΩìËÑÇÁéá?((0,r.openBlock)(),(0,r.createElementBlock)("div",LS,[(0,r.createElementVNode)("span",FS,(0,r.toDisplayString)((0,r.unref)(n)("‰ΩìËÑÇÁéá")),1),(0,r.createElementVNode)("span",jS,[(0,r.createTextVNode)((0,r.toDisplayString)(a.value.‰ΩìËÑÇÁéá)+" ",1),t[3]||(t[3]=(0,r.createElementVNode)("span",{class:"unit"},"%",-1))])])):(0,r.createCommentVNode)("v-if",!0)]),a.value.Â§ñËßÇÁâπÂæÅ&&a.value.Â§ñËßÇÁâπÂæÅ.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",US,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.value.Â§ñËßÇÁâπÂæÅ,e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"feature-tag"},(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" ‰∏âÂõ¥Êï∞ÊçÆ "),a.value.‰∏âÂõ¥?((0,r.openBlock)(),(0,r.createElementBlock)("div",qS,[(0,r.createElementVNode)("h3",GS,[(0,r.createVNode)((0,r.unref)(pS),{size:18,class:"title-icon"}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(n)("Ë∫´ÊùêÊï∞ÊçÆ")),1)]),(0,r.createElementVNode)("div",HS,[(0,r.createElementVNode)("div",YS,[(0,r.createElementVNode)("div",WS,[(0,r.createElementVNode)("span",XS,(0,r.toDisplayString)(a.value.‰∏âÂõ¥.ËÉ∏Âõ¥||"?"),1),(0,r.createElementVNode)("span",JS,(0,r.toDisplayString)((0,r.unref)(n)("ËÉ∏Âõ¥")),1)])]),t[4]||(t[4]=(0,r.createElementVNode)("div",{class:"measurement-divider"},"-",-1)),(0,r.createElementVNode)("div",KS,[(0,r.createElementVNode)("div",ZS,[(0,r.createElementVNode)("span",QS,(0,r.toDisplayString)(a.value.‰∏âÂõ¥.ËÖ∞Âõ¥||"?"),1),(0,r.createElementVNode)("span",e_,(0,r.toDisplayString)((0,r.unref)(n)("ËÖ∞Âõ¥")),1)])]),t[5]||(t[5]=(0,r.createElementVNode)("div",{class:"measurement-divider"},"-",-1)),(0,r.createElementVNode)("div",t_,[(0,r.createElementVNode)("div",n_,[(0,r.createElementVNode)("span",a_,(0,r.toDisplayString)(a.value.‰∏âÂõ¥.ËáÄÂõ¥||"?"),1),(0,r.createElementVNode)("span",r_,(0,r.toDisplayString)((0,r.unref)(n)("ËáÄÂõ¥")),1)])])]),a.value.ÁΩ©ÊùØ?((0,r.openBlock)(),(0,r.createElementBlock)("div",o_,[(0,r.createElementVNode)("span",i_,(0,r.toDisplayString)((0,r.unref)(n)("ÁΩ©ÊùØ")),1),(0,r.createElementVNode)("span",s_,(0,r.toDisplayString)(a.value.ÁΩ©ÊùØ),1)])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ËØ¶ÁªÜÊèèËø∞ "),a.value.ËÉ∏ÈÉ®ÊèèËø∞||a.value.ÁßÅÂ§ÑÊèèËø∞||a.value.ÁîüÊÆñÂô®ÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",l_,[(0,r.createElementVNode)("h3",c_,[(0,r.createVNode)((0,r.unref)(ju),{size:18,class:"title-icon"}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(n)("ËØ¶ÁªÜÁâπÂæÅ")),1)]),(0,r.createElementVNode)("div",d_,[a.value.ËÉ∏ÈÉ®ÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",u_,[(0,r.createElementVNode)("span",m_,(0,r.toDisplayString)((0,r.unref)(n)("ËÉ∏ÈÉ®")),1),(0,r.createElementVNode)("p",p_,(0,r.toDisplayString)(a.value.ËÉ∏ÈÉ®ÊèèËø∞),1)])):(0,r.createCommentVNode)("v-if",!0),a.value.ÁßÅÂ§ÑÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",g_,[(0,r.createElementVNode)("span",h_,(0,r.toDisplayString)((0,r.unref)(n)("ÁßÅÂ§Ñ")),1),(0,r.createElementVNode)("p",f_,(0,r.toDisplayString)(a.value.ÁßÅÂ§ÑÊèèËø∞),1)])):(0,r.createCommentVNode)("v-if",!0),a.value.ÁîüÊÆñÂô®ÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",v_,[(0,r.createElementVNode)("span",b_,(0,r.toDisplayString)((0,r.unref)(n)("ÁîüÊÆñÂô®")),1),(0,r.createElementVNode)("p",y_,(0,r.toDisplayString)(a.value.ÁîüÊÆñÂô®ÊèèËø∞),1)])):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÊïèÊÑüÁÇπ‰∏éÂºÄÂèë "),c.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",x_,[(0,r.createElementVNode)("h3",k_,[(0,r.createVNode)((0,r.unref)(gS),{size:18,class:"title-icon"}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(n)("ÊïèÊÑü‰∏éÂºÄÂèë")),1)]),a.value.ÊïèÊÑüÁÇπ&&a.value.ÊïèÊÑüÁÇπ.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",w_,[(0,r.createElementVNode)("span",E_,(0,r.toDisplayString)((0,r.unref)(n)("ÊïèÊÑüÁÇπ"))+":",1),(0,r.createElementVNode)("div",N_,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.value.ÊïèÊÑüÁÇπ,e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"point-tag"},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0),a.value.ÂºÄÂèëÂ∫¶?((0,r.openBlock)(),(0,r.createElementBlock)("div",S_,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.value.ÂºÄÂèëÂ∫¶,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"dev-item"},[(0,r.createElementVNode)("div",__,[(0,r.createElementVNode)("span",V_,(0,r.toDisplayString)(t),1),(0,r.createElementVNode)("span",C_,(0,r.toDisplayString)(e)+"%",1)]),(0,r.createElementVNode)("div",A_,[(0,r.createElementVNode)("div",{class:"dev-fill",style:(0,r.normalizeStyle)({width:e+"%"})},null,4)])]))),128))])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Á∫πË∫´‰∏éÂç∞ËÆ∞ "),a.value.Á∫πË∫´‰∏éÂç∞ËÆ∞&&a.value.Á∫πË∫´‰∏éÂç∞ËÆ∞.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",D_,[(0,r.createElementVNode)("h3",T_,[(0,r.createVNode)((0,r.unref)(hS),{size:18,class:"title-icon"}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(n)("Á∫πË∫´‰∏éÂç∞ËÆ∞")),1)]),(0,r.createElementVNode)("ul",B_,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.value.Á∫πË∫´‰∏éÂç∞ËÆ∞,e=>((0,r.openBlock)(),(0,r.createElementBlock)("li",{key:e,class:"marking-item"},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",bS,[(0,r.createElementVNode)("div",yS,[(0,r.createVNode)((0,r.unref)(uS),{size:32})]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(n)("ÊöÇÊó†ËØ¶ÁªÜË∫´‰ΩìÊï∞ÊçÆ")),1),(0,r.createElementVNode)("p",xS,(0,r.toDisplayString)((0,r.unref)(n)("ËØ∑Âú®ÈÖíÈ¶Ü‰∏≠ÂÆåÂñÑËßíËâ≤ËÆæÂÆö")),1)]))]))}});var M_=n(3830),z_={};z_.styleTagTransform=k(),z_.setAttributes=v(),z_.insert=h().bind(null,"head"),z_.domAPI=p(),z_.insertStyleElement=y(),u()(M_.A,z_),M_.A&&M_.A.locals&&M_.A.locals;const P_=(0,N.A)(I_,[["__scopeId","data-v-7f6fd3e6"]]);n(3943);const R_=(0,_.A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),$_=(0,_.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),O_=(0,_.A)("mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),L_=(0,_.A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),F_=(0,_.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),j_=(0,_.A)("sprout",[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]]),U_=(0,_.A)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]),q_=(0,_.A)("backpack",[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]]),G_={class:"character-details-wrapper"},H_={key:0,class:"loading-container"},Y_={key:1,class:"error-container"},W_={class:"error-icon"},X_={key:2,class:"character-details-content"},J_={class:"character-header-card"},K_={class:"header-content"},Z_={class:"profile-section"},Q_={class:"avatar-wrapper"},eV=["title"],tV={class:"avatar-text"},nV={class:"identity-info"},aV={class:"character-title"},rV={class:"character-subtitle"},oV={class:"subtitle-item race-text"},iV={class:"subtitle-item age-text"},sV={class:"subtitle-item origin-text"},lV={class:"core-stats-grid"},cV={class:"stat-card rank-card"},dV={class:"card-icon"},uV={class:"card-content"},mV={class:"card-label"},pV={class:"card-value rank-value"},gV={key:0,class:"stat-card core-card"},hV={class:"card-icon"},fV={class:"card-content"},vV={class:"card-label"},bV={class:"card-value core-value"},yV=["title"],xV={class:"card-icon"},kV={class:"card-content"},wV={class:"card-label"},EV={class:"card-value location-value"},NV=["title"],SV={class:"card-icon"},_V={class:"card-content"},VV={class:"card-label"},CV={class:"card-value body-value"},AV=["title"],DV={class:"card-icon"},TV={class:"card-content"},BV={class:"card-label"},IV={class:"card-value origin-value"},MV={class:"training-section"},zV={key:0,class:"training-status mortal-status"},PV={class:"status-text"},RV={key:1,class:"training-progress-card"},$V={class:"progress-header"},OV={class:"progress-label"},LV={class:"progress-percentage"},FV={class:"progress-bar-container"},jV={class:"progress-bar-bg"},UV={class:"progress-text"},qV={key:2,class:"training-status waiting-status"},GV={class:"status-icon"},HV={class:"status-text"},YV={class:"tabs-nav"},WV=["onClick"],XV={key:0,class:"tab-content"},JV={class:"content-grid"},KV={class:"info-section"},ZV={class:"section-title"},QV={class:"title-icon"},eC={class:"vitals-grid"},tC={class:"vital-label"},nC={class:"vital-bar"},aC={class:"bar-container"},rC={class:"vital-text"},oC={class:"vital-item reputation-item"},iC={class:"vital-label"},sC={class:"reputation-display"},lC={class:"reputation-value"},cC={class:"info-section"},dC={class:"section-title"},uC={class:"title-icon"},mC={class:"basic-info-grid"},pC={class:"basic-info-item"},gC={class:"info-label"},hC={class:"info-value rank"},fC={key:0,class:"basic-info-item"},vC={class:"info-label"},bC={class:"basic-info-item"},yC={class:"info-label"},xC={class:"basic-info-item"},kC={class:"info-label"},wC={class:"info-value"},EC={key:1,class:"basic-info-item"},NC={class:"info-label"},SC={class:"info-value location"},_C={key:2,class:"basic-info-item"},VC={class:"info-label"},CC={class:"info-value world"},AC={class:"info-section"},DC={class:"section-title"},TC={class:"title-icon"},BC={class:"talent-content"},IC={class:"module-tier-card"},MC={class:"tier-header"},zC={class:"tier-icon"},PC={class:"tier-label"},RC={class:"tier-value-display"},$C={key:0,class:"tier-description"},OC={class:"root-header"},LC={class:"root-icon"},FC={class:"root-label"},jC={class:"click-hint"},UC={class:"root-main-info"},qC={class:"property-badges"},GC={class:"prop-badge speed-badge"},HC={key:0,class:"root-description"},YC={key:1,class:"root-effects"},WC={class:"effects-tags"},XC={class:"modules-card"},JC={class:"talents-header"},KC={class:"talents-icon"},ZC={class:"talents-label"},QC={key:0,class:"talents-count"},eA={key:0,class:"talents-container"},tA=["title"],nA={class:"talent-name"},aA={key:0,class:"talent-description-display"},rA={key:1,class:"talents-container no-talents"},oA={class:"talent-item no-talent"},iA={class:"talent-name"},sA={class:"info-section"},lA={class:"section-title"},cA={class:"title-icon"},dA={class:"attributes-display"},uA={class:"final-attributes"},mA={class:"attribute-group-title"},pA={class:"attributes-grid"},gA={class:"attr-name"},hA={class:"attr-value"},fA={class:"attribute-breakdown"},vA={class:"innate-attrs"},bA={class:"attribute-group-title"},yA={class:"attributes-grid compact"},xA={class:"attr-name"},kA={class:"attr-value"},wA={class:"acquired-attrs"},EA={class:"attribute-group-title"},NA={class:"attributes-grid compact"},SA={class:"attr-name"},_A={class:"attr-value"},VA={key:1,class:"tab-content"},CA={class:"content-grid"},AA={class:"info-section"},DA={class:"section-title"},TA={class:"title-icon"},BA={key:2,class:"tab-content"},IA={class:"content-grid"},MA={class:"info-section"},zA={class:"section-title"},PA={class:"title-icon"},RA={key:0,class:"empty-state"},$A={class:"empty-icon"},OA={key:1,class:"training-display"},LA={class:"program-info"},FA={class:"program-main"},jA={class:"program-quality"},UA={class:"program-toggle"},qA={class:"program-details"},GA={class:"program-description"},HA={key:0,class:"program-effects"},YA={class:"effects-title"},WA={class:"effects-list"},XA={key:0,class:"effect-item"},JA={class:"effect-label"},KA={class:"effect-value"},ZA={key:1,class:"effect-item"},QA={class:"effect-label"},eD={class:"attribute-bonuses"},tD={key:1,class:"program-effects no-effects"},nD={class:"effects-title"},aD={class:"no-effects-text"},rD={class:"program-progress"},oD={key:0,class:"progress-item"},iD={class:"progress-label"},sD={class:"progress-bar"},lD={class:"progress-text"},cD={key:0,class:"learned-skills"},dD={class:"skills-title"},uD={class:"skills-count"},mD={class:"skills-preview"},pD={class:"skills-list-compact"},gD={key:0,class:"more-skills"},hD={class:"skills-details"},fD={key:0,class:"skill-category"},vD={class:"category-title"},bD={class:"skills-grid"},yD=["onClick"],xD={class:"skill-name"},kD={class:"skill-type"},wD={class:"skill-source"},ED={class:"skill-proficiency-mini"},ND={class:"skill-status"},SD={key:1,class:"skill-category"},_D={class:"category-title"},VD={class:"skills-grid"},CD=["onClick"],AD={class:"skill-name"},DD={class:"skill-type"},TD={class:"skill-unlock"},BD={class:"info-section"},ID={class:"section-title"},MD={class:"title-icon"},zD={key:0,class:"empty-state"},PD={class:"empty-icon"},RD={key:1,class:"protocol-list"},$D={class:"protocol-header-section"},OD={class:"protocol-summary"},LD={class:"protocol-count"},FD={class:"protocol-preview"},jD=["onClick"],UD={class:"protocol-header"},qD={class:"protocol-name"},GD={class:"protocol-stage"},HD={class:"protocol-progress"},YD={class:"progress-bar small"},WD={class:"progress-text small"},XD={key:0,class:"more-protocol"},JD={class:"protocol-details"},KD=["onClick"],ZD={class:"protocol-header"},QD={class:"protocol-name"},eT={class:"protocol-stage"},tT={class:"protocol-progress"},nT={class:"progress-bar small"},aT={class:"progress-text small"},rT={class:"protocol-stats"},oT={class:"stat-item"},iT={class:"stat-label"},sT={class:"stat-value"},lT={class:"stat-item"},cT={class:"stat-label"},dT={class:"stat-value"},uT={key:3,class:"tab-content"},mT={class:"content-grid"},pT={class:"info-section"},gT={class:"section-title"},hT={class:"title-icon"},fT={key:0,class:"empty-state"},vT={class:"empty-icon"},bT={key:1,class:"relationships-summary"},yT={class:"relationship-stats"},xT={class:"stat-item"},kT={class:"stat-label"},wT={class:"stat-value"},ET={class:"stat-item"},NT={class:"stat-label"},ST={class:"stat-value"},_T={class:"info-section"},VT={class:"section-title"},CT={class:"title-icon"},AT={class:"inventory-summary"},DT={class:"inventory-stats"},TT={class:"stat-group"},BT={class:"stat-item"},IT={class:"stat-label"},MT={class:"stat-value"},zT={class:"stat-item"},PT={class:"stat-label"},RT={class:"stat-value"},$T={class:"stat-item"},OT={class:"stat-label"},LT={class:"stat-value"},FT={class:"credit-reserves"},jT={class:"stones-title"},UT={class:"stones-grid"},qT={class:"stone-name"},GT={class:"stone-count"},HT={key:0,class:"info-section"},YT={class:"section-title"},WT={class:"title-icon"},XT={class:"faction-info"},JT={class:"faction-header"},KT={class:"faction-name"},ZT={class:"faction-type"},QT={class:"faction-details"},eB={class:"detail-row"},tB={class:"detail-label"},nB={class:"detail-value"},aB={class:"detail-row"},rB={class:"detail-label"},oB={class:"detail-value"},iB={class:"detail-row"},sB={class:"detail-label"},lB={class:"modal-header"},cB={class:"modal-content"},dB={class:"skill-detail-grid"},uB={class:"skill-detail-item"},mB={class:"detail-label"},pB={class:"detail-value"},gB={class:"skill-detail-item"},hB={class:"detail-label"},fB={class:"skill-detail-item"},vB={class:"detail-label"},bB={class:"detail-value"},yB={class:"skill-detail-item"},xB={class:"detail-label"},kB={class:"detail-value"},wB={class:"skill-detail-item"},EB={class:"detail-label"},NB={class:"detail-value"},SB={class:"skill-description"},_B={class:"modal-header"},VB={class:"modal-content"},CB={class:"protocol-progress-section"},AB={class:"protocol-stage-info"},DB={class:"stage-label"},TB={class:"stage-value"},BB={class:"protocol-progress-bar"},IB={class:"progress-bar-bg"},MB={class:"progress-text"},zB={class:"protocol-stats-grid"},PB={class:"protocol-stat-item"},RB={class:"stat-label"},$B={class:"stat-value"},OB={class:"protocol-stat-item"},LB={class:"stat-label"},FB={class:"stat-value"},jB={class:"protocol-description"},UB={class:"modal-header"},qB={class:"modal-content"},GB={class:"core-detail-grid"},HB={class:"detail-item"},YB={class:"detail-label"},WB={class:"detail-item"},XB={class:"detail-label"},JB={class:"detail-item"},KB={class:"detail-label"},ZB={class:"detail-value"},QB={key:0,class:"core-effects-section"},eI={class:"effects-tags"},tI={key:1,class:"advanced-details"},nI={class:"advanced-grid"},aI={key:0,class:"advanced-item"},rI={class:"advanced-label"},oI={class:"advanced-value"},iI={key:1,class:"advanced-item"},sI={class:"advanced-label"},lI={class:"advanced-value"},cI=(0,r.defineComponent)({__name:"CharacterDetailsPanel",setup(e){const{t}=(0,K.s)(),n=(0,A.useUIStore)(),a=(0,md.useCharacterStore)(),o=(0,Au.useGameStateStore)(),i=(0,r.ref)((0,se.isTavernEnv)()),s=(0,r.ref)(!1);(0,r.onMounted)(()=>{i.value=(0,se.isTavernEnv)()}),(0,r.onActivated)(()=>{i.value=(0,se.isTavernEnv)()});const l=(0,r.computed)(()=>o.toSaveData()),c=(0,r.computed)(()=>o.character),d=(0,r.computed)(()=>o.attributes),u=(0,r.computed)(()=>o.location),m=(0,r.computed)(()=>o.factionMemberInfo),p=(0,r.computed)(()=>o.protocolSystem),g=(0,r.computed)(()=>o.body||null),h=(0,r.computed)(()=>{const e=d.value?.ÂØøÂëΩ;if(!e)return;const t=Number(e.ÂΩìÂâç??0),n=Number(e.‰∏äÈôê??0);return n?{current:t,max:n}:void 0}),f=(0,r.computed)(()=>{if(!i.value)return"";const e=g.value,n=Number(e?.Ë∫´È´ò),a=Number(e?.‰ΩìÈáç);return Number.isFinite(n)&&n>0&&Number.isFinite(a)&&a>0?`${n}cm ¬∑ ${a}kg`:t(e&&"object"==typeof e?"ÂæÖÂÆåÂñÑ":"Êú™Âª∫Á´ã")}),v=(0,r.ref)(!1),b=(0,r.ref)(!1),y=(0,r.ref)(!1),x=(0,r.ref)(!1),k=(0,r.ref)(!1),w=(0,r.ref)(!1),E=(0,r.ref)(null),N=(0,r.ref)(null),S=(0,r.ref)("character"),_=(0,r.computed)(()=>{const e=[{id:"character",label:"ËßíËâ≤‰ø°ÊÅØ",icon:Bu},{id:"training",label:"ËÆ≠ÁªÉ‰ΩìÁ≥ª",icon:Iu.A},{id:"social",label:"Á§æ‰∫§ÂÖ≥Á≥ª",icon:Bu}];return i.value&&e.push({id:"body",label:"Ë∫´‰ΩìÊ°£Ê°à",icon:R_}),e}),V=(0,r.computed)(()=>{const e=String(c.value?.ÂêçÂ≠ó||"").trim();return e?e.charAt(0):"?"}),C=(0,r.computed)(()=>{const e=c.value?.Âá∫ÁîüÊó•Êúü,t=l.value?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥;return e&&t?((e,t)=>{let n=t.Âπ¥-e.Âπ¥;return(t.Êúà<e.Êúà||t.Êúà===e.Êúà&&t.Êó•<e.Êó•)&&n--,Math.max(0,n)})({Âπ¥:e.Âπ¥,Êúà:e.Êúà,Êó•:e.Êó•,Â∞èÊó∂:e.Â∞èÊó∂??0,ÂàÜÈíü:e.ÂàÜÈíü??0},t):d.value?.ÂØøÂëΩ?.ÂΩìÂâç||0}),D=(0,r.computed)(()=>{if(!l.value?.ËßíËâ≤?.ËÆ≠ÁªÉ?.ËÆ≠ÁªÉÁ®ãÂ∫è||!l.value?.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ)return null;const e=l.value.ËßíËâ≤?.ËÆ≠ÁªÉ?.ËÆ≠ÁªÉÁ®ãÂ∫è?.Áâ©ÂìÅID;if(!e)return null;const t=l.value.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ[e];return t&&"Á®ãÂ∫è"===t.Á±ªÂûã?t:null}),T=(0,r.computed)(()=>p.value?.ÊµÅÊ¥æÂàóË°®?Object.values(p.value.ÊµÅÊ¥æÂàóË°®).filter(e=>e.ÊòØÂê¶Ëß£ÈîÅ):[]),B=(0,r.computed)(()=>{if(!d.value)return[];const e=e=>("number"==typeof e?e:Number(e||0))||0,n=e=>{const t="number"==typeof e?e:Number(e||0);return isNaN(t)?0:Math.max(0,t)};return[{label:t("ÁîüÂëΩÂÄº"),current:e(d.value.ÁîüÂëΩÂÄº?.ÂΩìÂâç),max:n(d.value.ÁîüÂëΩÂÄº?.‰∏äÈôê),color:"red"},{label:t("ÁîµÈáè"),current:e(d.value.ÁîµÈáè?.ÂΩìÂâç),max:n(d.value.ÁîµÈáè?.‰∏äÈôê),color:"blue"},{label:t("Â∏¶ÂÆΩ"),current:e(d.value.Â∏¶ÂÆΩ?.ÂΩìÂâç),max:n(d.value.Â∏¶ÂÆΩ?.‰∏äÈôê),color:"gold"}]}),I=e=>{const t="number"==typeof e?e:Number(e||0);return isNaN(t)?0:Math.max(0,Math.min(10,Math.round(t)))},M=(0,r.computed)(()=>{const e=c.value?.ÂàùÂßãÂÖ≠Áª¥||{};return{‰ΩìË¥®:I(e.‰ΩìË¥®),ËÉΩÊ∫ê:I(e.ËÉΩÊ∫ê),ÁÆóÊ≥ï:I(e.ÁÆóÊ≥ï),ËµÑÊ∫êÊÑüÁü•:I(e.ËµÑÊ∫êÊÑüÁü•),È≠ÖÂäõ:I(e.È≠ÖÂäõ),ÂøÉÊô∫:I(e.ÂøÉÊô∫)}}),z=(0,r.computed)(()=>{if(!l.value)return M.value;const e=cS(M.value,l.value);return e?.ÊúÄÁªàÂÖ≠Áª¥||M.value}),P=(0,r.computed)(()=>{const e={‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0};if(!l.value)return e;const t=cS(M.value,l.value);return t?.ÊàêÈïøÂÖ≠Áª¥||e}),R=(0,r.computed)(()=>{const e=D.value?.Á®ãÂ∫èÊïàÊûú;if(!e)return!1;const t=e.ËÆ≠ÁªÉÈÄüÂ∫¶Âä†Êàê&&e.ËÆ≠ÁªÉÈÄüÂ∫¶Âä†Êàê>0,n=e.Â±ûÊÄßÂä†Êàê&&Object.keys(e.Â±ûÊÄßÂä†Êàê).length>0;return t||n}),$=(0,r.computed)(()=>{const e=D.value;return e&&e.Á®ãÂ∫èÊäÄËÉΩ?e.Á®ãÂ∫èÊäÄËÉΩ.filter(t=>{const n=(e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ||[]).includes(t.ÊäÄËÉΩÂêçÁß∞),a=t.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç??100,r=(e.ËÆ≠ÁªÉËøõÂ∫¶||0)>=a;return!(n||r)}).map(e=>{const n=e.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç??100;return{name:e.ÊäÄËÉΩÂêçÁß∞,description:e.ÊäÄËÉΩÊèèËø∞||"",type:t("Á®ãÂ∫èÊäÄËÉΩ"),unlockCondition:0===n?t("Ëá™Âä®Ëß£ÈîÅ"):t("ÈúÄË¶ÅÁÜüÁªÉÂ∫¶ {0}%").replace("{0}",String(n)),unlocked:!1}}):[]}),O=(0,r.computed)(()=>{const e=l.value?.ÊäÄËÉΩ?.ÊéåÊè°ÊäÄËÉΩ||[];let n=[];if(D.value&&D.value.Á®ãÂ∫èÊäÄËÉΩ){const e=D.value;if(!e.Á®ãÂ∫èÊäÄËÉΩ)return[];n=e.Á®ãÂ∫èÊäÄËÉΩ.filter(t=>{const n=(e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ||[]).includes(t.ÊäÄËÉΩÂêçÁß∞),a=(e.ËÆ≠ÁªÉËøõÂ∫¶||0)>=(t.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç??100);return n||a}).map(n=>({name:n.ÊäÄËÉΩÂêçÁß∞,proficiency:ce(n.ÊäÄËÉΩÂêçÁß∞,"program"),source:e.ÂêçÁß∞||t("Á®ãÂ∫è"),type:t("Á®ãÂ∫èÊäÄËÉΩ"),description:n.ÊäÄËÉΩÊèèËø∞||t("ÈÄöËøáÁ®ãÂ∫èËÆ≠ÁªÉÊéåÊè°"),unlocked:!0}))}const a=[...e.map(e=>({name:e.ÊäÄËÉΩÂêçÁß∞,proficiency:e.ÁÜüÁªÉÂ∫¶,source:e.Êù•Ê∫ê,type:t("ÊéåÊè°ÊäÄËÉΩ"),description:e.ÊäÄËÉΩÊèèËø∞,unlocked:!0})),...n],r=new Map;return a.forEach(e=>{r.has(e.name)||r.set(e.name,e)}),Array.from(r.values())}),L=(0,r.computed)(()=>O.value.length),F=(0,r.computed)(()=>{const e=l.value?.Á§æ‰∫§?.ÂÖ≥Á≥ª||{};return Object.values(e).filter(e=>e&&e.ÂêçÂ≠ó).length}),j=(0,r.computed)(()=>{if(!l.value?.Á§æ‰∫§?.ÂÖ≥Á≥ª)return 0;const e=Object.values(l.value.Á§æ‰∫§.ÂÖ≥Á≥ª).filter(e=>e&&e.ÂêçÂ≠ó);if(0===e.length)return 0;const t=e.reduce((e,t)=>e+(t.Â•ΩÊÑüÂ∫¶||0),0);return Math.round(t/e.length)}),U=(0,r.computed)(()=>{const e=l.value?.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ||{};return Object.entries(e).filter(([e,t])=>!String(e).startsWith("_")&&t&&"object"==typeof t&&"string"==typeof t.ÂêçÁß∞).length}),q=[{name:t("‰ΩéÁ∫ß"),class:"grade-common"},{name:t("‰∏≠Á∫ß"),class:"grade-rare"},{name:t("È´òÁ∫ß"),class:"grade-epic"},{name:t("È°∂Á∫ß"),class:"grade-legend"}],G=()=>{const e=d.value?.Èò∂‰Ωç?.ÂêçÁß∞;switch(e){case"Êú™Êé•ÂÖ•":case"ÊôÆÈÄö‰∫∫":default:return t("Á≠âÂæÖÊé•ÂÖ•");case"Ë°óÂ§¥‰∫∫":case"Ê∏∏Ê∞ë":return t("Ë°óÂ§¥ÁîüÂ≠ò");case"Êó†ÊîπÈÄ†":return t("Âü∫Á°ÄÁä∂ÊÄÅ")}},H=()=>{const e=d.value?.Èò∂‰Ωç?.ÂΩìÂâçËøõÂ∫¶,t=d.value?.Èò∂‰Ωç?.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ;return"number"==typeof e&&"number"==typeof t&&t>0},Y=()=>{const e=d.value?.Èò∂‰Ωç?.ÂΩìÂâçËøõÂ∫¶||0,t=d.value?.Èò∂‰Ωç?.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ||100;if(t>=1e4){const n=Math.floor(e/1e3),a=Math.floor(t/1e3);if(n>0&&a>0)return`${n}k/${a}k`}return`${e}/${t}`},W=e=>{if(e&&"object"==typeof e)return am({name:e.ÂêçÁß∞||"",Èò∂ÊÆµ:e.Èò∂ÊÆµ||"",ÂΩìÂâçËøõÂ∫¶:e.ÂΩìÂâçËøõÂ∫¶,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ});const t="string"==typeof e?e:void 0,n=d.value?.Èò∂‰Ωç?.ÂΩìÂâçËøõÂ∫¶,a=d.value?.Èò∂‰Ωç?.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ,r=d.value?.Èò∂‰Ωç?.Èò∂ÊÆµ;return am({name:t,Èò∂ÊÆµ:r,ÂΩìÂâçËøõÂ∫¶:n,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:a})},X=()=>{const e=d.value?.Èò∂‰Ωç?.ÂΩìÂâçËøõÂ∫¶||0,t=d.value?.Èò∂‰Ωç?.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ||100;return Math.round(e/t*100)},J=e=>e?"string"==typeof e?e:e.name||t("Êú™Áü•"):t("Êú™Áü•"),Z=e=>"object"==typeof e&&e&&e.description||"",Q=e=>{let n=[];if(!e)return[];if(Array.isArray(e))n=e;else if("string"==typeof e)try{const t=JSON.parse(e);Array.isArray(t)?n=t:"string"==typeof t&&(n=[{name:t,description:""}])}catch(t){n=[{name:e,description:""}]}else"object"==typeof e&&null!==e&&(n=[e]);return n.map(e=>{if("string"==typeof e)return{name:e,description:""};if("object"==typeof e&&null!==e){const n=e,a=n.name||n["ÂêçÁß∞"]||"",r=n.description||n["ÊèèËø∞"]||"";return a||r?{name:a||t("Êú™Áü•Ê®°Âùó"),description:r}:null}return null}).filter(Boolean)},ee=(e,n="border")=>e?`${n}-quality-${e.ÂìÅË¥®?.quality||t("Êú™Áü•")}`:"",te=e=>p.value?.ÊµÅÊ¥æÂàóË°®?.[e],ne=e=>te(e)?.ÂΩìÂâçÈò∂ÊÆµ||0,ae=e=>{const t=te(e);if(!t)return 0;const n=t.ÂΩìÂâçÈò∂ÊÆµ||0,a=t.Èò∂ÊÆµÂàóË°®?.[n];if(!a)return 0;const r=a.Á™ÅÁ†¥ÁªèÈ™å;return r<=0?100:Math.min(100,Math.round(t.ÂΩìÂâçÁªèÈ™å/r*100))},re=e=>te(e)?.ÂΩìÂâçÁªèÈ™å||0,oe=e=>te(e)?.ÊÄªÁªèÈ™å||0,ie=e=>{const t=l.value?.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ||{};return Object.entries(t).filter(([e,t])=>!String(e).startsWith("_")&&t&&"object"==typeof t).map(([,e])=>e).filter(t=>t.Á±ªÂûã===e).length},le=e=>l.value?.ËßíËâ≤?.ËÉåÂåÖ?.‰ø°Áî®ÁÇπ?.[t(e)]||0,ce=(e,t)=>30+(e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)+t.length)%66,de=()=>{k.value=!k.value},ue=()=>{w.value=!w.value},me=()=>{v.value=!v.value},pe=e=>{N.value=e,y.value=!0},ge=e=>{E.value=e,b.value=!0},he=()=>{x.value=!0},fe=()=>{b.value=!1,y.value=!1,x.value=!1,E.value=null,N.value=null},ve=()=>{if(!N.value)return null;const e=te(N.value);if(!e)return{name:N.value,stage:t("ÂàùÂßãÈò∂ÊÆµ"),currentExp:0,totalExp:0,progressPercent:0,description:t("Ê≠§ÊµÅÊ¥æÂ∑≤Ëß£ÈîÅÔºå‰ΩÜÂ∞öÊú™ÂºÄÂßãËÆ≠ÁªÉ")};const n=e.ÂΩìÂâçÈò∂ÊÆµ||0,a=e.ÂΩìÂâçÁªèÈ™å||0,r=e.ÊÄªÁªèÈ™å||0,o=ae(N.value);let i;return i=e.Èò∂ÊÆµÂàóË°®?.[n]?e.Èò∂ÊÆµÂàóË°®[n].ÂêçÁß∞:0===n?t("Êú™Èó®"):t("Á¨¨{0}Èò∂ÊÆµ").replace("{0}",String(n)),{name:N.value,stage:i,currentExp:a,totalExp:r,progressPercent:o,description:e.ÊèèËø∞||t("Ê≠§ÊµÅÊ¥æÊ∑±Â••Á≤æÂØÜÔºåÈúÄÊåÅÁª≠ËÆ≠ÁªÉÊñπËÉΩÊúâÊâÄÊàêÂ∞±")}},be=()=>{if(!E.value)return null;if("object"==typeof E.value&&"proficiency"in E.value){const e=E.value;return{name:e.name,type:e.type,status:t("Â∑≤Ëß£ÈîÅ"),condition:t("Â∑≤ÊéåÊè°"),description:e.description,source:e.source,proficiency:e.proficiency}}if("string"==typeof E.value)return{name:E.value,type:t("Á®ãÂ∫èÊäÄËÉΩ"),status:t("Â∑≤Ëß£ÈîÅ"),condition:t("ËÆ≠ÁªÉÂÆåÊàê"),description:t("ÈÄöËøáÁ®ãÂ∫èËÆ≠ÁªÉËé∑ÂæóÁöÑÊäÄËÉΩ"),source:t("Á®ãÂ∫èËÆ≠ÁªÉ")};const e=E.value;return{name:e.name,type:e.type,status:e.unlocked?t("Â∑≤Ëß£ÈîÅ"):t("Êú™Ëß£ÈîÅ"),condition:e.unlocked?t("ËÆ≠ÁªÉÂÆåÊàê"):e.unlockCondition,description:e.description,source:t("Á®ãÂ∫è‰º†Êâø")}},ye=async()=>{s.value=!0;try{await a.reloadFromStorage();const e=(0,Au.useGameStateStore)(),n=e.getCurrentSaveData();n&&(e.loadFromSaveData(n),Gw.Yz.log(t("‰∫∫Áâ©ËØ¶ÊÉÖ"),t("Â∑≤ÂêåÊ≠•ÊúÄÊñ∞Êï∞ÊçÆÂà∞ gameStateStore")))}catch(e){Gw.Yz.error(t("‰∫∫Áâ©ËØ¶ÊÉÖ"),t("Âà∑Êñ∞Êï∞ÊçÆÂ§±Ë¥•"),e)}finally{s.value=!1}};(0,r.onMounted)(async()=>{Gw.Yz.log(t("‰∫∫Áâ©ËØ¶ÊÉÖ"),t("ÁªÑ‰ª∂ÊåÇËΩΩÔºåÂêåÊ≠•Êï∞ÊçÆ"))}),(0,r.onActivated)(async()=>{Gw.Yz.log(t("‰∫∫Áâ©ËØ¶ÊÉÖ"),t("Èù¢ÊùøÊøÄÊ¥ª"))});const xe=e=>e?"string"==typeof e?e:e.ÂêçÁß∞||e.name||t("ÂæÖÂÆö"):t("ÂæÖÂÆö"),ke=e=>{if(!e)return t("Êú™Áü•");if("string"==typeof e)return e;const n=e.ÂêçÁß∞||e.name||t("Êú™Áü•");let a=e.ÂìÅÁ∫ß||e.tier;return a&&"object"==typeof a&&(a=a.quality||a.grade||t("Êú™Áü•")),a&&"Êú™Áü•"!==a&&"Âü∫Á°ÄÁ∫ß"!==a?`${n}(${t(String(a))})`:n},we=e=>{if("object"==typeof e&&e){const t=e.ÂìÅÁ∫ß||e.tier;return String("object"==typeof t&&t?t.quality||t.grade||"Âü∫Á°ÄÁ∫ß":t||"Âü∫Á°ÄÁ∫ß")}return"Âü∫Á°ÄÁ∫ß"},Ee=e=>{const t=we(e)||"Âü∫Á°ÄÁ∫ß";return{Âü∫Á°ÄÁ∫ß:"Âü∫Á°ÄÁ∫ß",ÊîπËâØÁ∫ß:"ÊîπËâØÁ∫ß",Á≤æËâØÁ∫ß:"Á≤æËâØÁ∫ß",È´òÁ∫ß:"È´òÁ∫ß",È°∂Á∫ß:"È°∂Á∫ß",Á•ûËØùÁ∫ß:"Á•ûËØùÁ∫ß",ÁâπÊÆä:"ÁâπÊÆä"}[t]||t},Ne=e=>"object"==typeof e&&e&&(e.ÊèèËø∞||e.description)||t("Êú™Áü•"),Se=e=>{if("object"!=typeof e||!e)return"core-unknown";let t=e.ÂìÅÁ∫ß||e.tier||"";"object"==typeof t&&t&&(t=t.quality||t.grade||"");const n=String(t).toLowerCase();return n.includes("Á•ûËØù")?"core-mythic":n.includes("È°∂Á∫ß")?"core-legend":n.includes("È´òÁ∫ß")?"core-epic":n.includes("Á≤æËâØ")?"core-rare":n.includes("ÊîπËâØ")?"core-uncommon":n.includes("Âü∫Á°Ä")?"core-common":"core-unknown"},_e=e=>{const n=e?.ÊîπÈÄ†Ê†∏ÂøÉ;if(n&&"object"==typeof n){const e=n;if("base_multiplier"in e&&e.base_multiplier)return`${e.base_multiplier}x`;if("training_speed"in e&&e.training_speed)return e.training_speed}const a=we(n);return{Âü∫Á°ÄÁ∫ß:"1.0x",ÊîπËâØÁ∫ß:"1.1x",Á≤æËâØÁ∫ß:"1.3x",È´òÁ∫ß:"1.6x",È°∂Á∫ß:"2.0x",Á•ûËØùÁ∫ß:"2.8x",ÁâπÊÆä:t("ÁâπÊÆä")}[a]||"1.0x"},Ve=e=>{const t=e?.ÊîπÈÄ†Ê†∏ÂøÉ;if(t&&"object"==typeof t){const e=t;if("special_effects"in e&&Array.isArray(e.special_effects))return e.special_effects}return[]};return(e,a)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",G_,[s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",H_,[a[5]||(a[5]=(0,r.createElementVNode)("div",{class:"loading-spinner"},null,-1)),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(t)("Âä†ËΩΩËßíËâ≤Êï∞ÊçÆ..")),1)])):c.value&&l.value?c.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",X_,[(0,r.createCommentVNode)(" È°∂ÈÉ®ËßíËâ≤‰ø°ÊÅØÂç°Áâá - ÂÖ®Êñ∞ËÆæËÆ° "),(0,r.createElementVNode)("div",J_,[(0,r.createCommentVNode)(" ËÉåÊôØË£ÖÈ•∞ "),a[12]||(a[12]=(0,r.createElementVNode)("div",{class:"header-bg-decoration"},null,-1)),(0,r.createCommentVNode)(" ‰∏ªË¶Å‰ø°ÊÅØÂå∫ "),(0,r.createElementVNode)("div",K_,[(0,r.createCommentVNode)(" Â∑¶‰æßÔºöÂ§¥ÂÉèÂíåÂü∫Á°Ä‰ø°ÊÅØ "),(0,r.createElementVNode)("div",Z_,[(0,r.createElementVNode)("div",Q_,[(0,r.createElementVNode)("div",{class:"avatar-circle",title:c.value.ÂêçÂ≠ó},[(0,r.createElementVNode)("span",tV,(0,r.toDisplayString)(V.value),1)],8,eV),a[6]||(a[6]=(0,r.createElementVNode)("div",{class:"avatar-glow"},null,-1))]),(0,r.createElementVNode)("div",nV,[(0,r.createElementVNode)("h1",aV,(0,r.toDisplayString)(c.value.ÂêçÂ≠ó),1),(0,r.createElementVNode)("div",rV,[c.value.ÊÄßÂà´?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["subtitle-item",`gender-badge gender-${c.value.ÊÄßÂà´}`])},(0,r.toDisplayString)(("Áî∑"===c.value.ÊÄßÂà´?"‚ôÇ":"‚ôÄ")+" "+(0,r.unref)(t)(c.value.ÊÄßÂà´)),3),a[7]||(a[7]=(0,r.createElementVNode)("span",{class:"subtitle-divider"},"¬∑",-1))],64)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("span",oV,(0,r.toDisplayString)((0,r.unref)(t)(c.value.ÁßçÊóè||"‰∫∫Êóè")),1),a[8]||(a[8]=(0,r.createElementVNode)("span",{class:"subtitle-divider"},"¬∑",-1)),(0,r.createElementVNode)("span",iV,(0,r.toDisplayString)(C.value)+(0,r.toDisplayString)((0,r.unref)(t)("Â≤Å")),1),a[9]||(a[9]=(0,r.createElementVNode)("span",{class:"subtitle-divider"},"¬∑",-1)),(0,r.createElementVNode)("span",sV,(0,r.toDisplayString)(xe(c.value.Âá∫Áîü)),1)])])]),(0,r.createCommentVNode)(" ‰∏≠Èó¥ÔºöÊ†∏ÂøÉÊï∞ÊçÆÂç°ÁâáÁªÑ "),(0,r.createElementVNode)("div",lV,[(0,r.createCommentVNode)(" Á≠âÁ∫ßÂç°Áâá "),(0,r.createElementVNode)("div",cV,[(0,r.createElementVNode)("div",dV,[(0,r.createVNode)((0,r.unref)(O_),{size:20})]),(0,r.createElementVNode)("div",uV,[(0,r.createElementVNode)("div",mV,(0,r.toDisplayString)((0,r.unref)(t)("Á≠âÁ∫ß")),1),(0,r.createElementVNode)("div",pV,(0,r.toDisplayString)(W(d.value?.Èò∂‰Ωç?.ÂêçÁß∞)||(0,r.unref)(t)("Êñ∞Êâã")),1)])]),(0,r.createCommentVNode)(" ÊîπÈÄ†Ê†∏ÂøÉÂç°Áâá "),c.value.ÊîπÈÄ†Ê†∏ÂøÉ?((0,r.openBlock)(),(0,r.createElementBlock)("div",gV,[(0,r.createElementVNode)("div",hV,[(0,r.createVNode)((0,r.unref)(L_),{size:20})]),(0,r.createElementVNode)("div",fV,[(0,r.createElementVNode)("div",vV,(0,r.toDisplayString)((0,r.unref)(t)("ÊîπÈÄ†Ê†∏ÂøÉ")),1),(0,r.createElementVNode)("div",bV,(0,r.toDisplayString)((E=c.value.ÊîπÈÄ†Ê†∏ÂøÉ,E?"string"==typeof E?E:E.ÂêçÁß∞||E.name||t("Êú™Áü•"):t("Êú™Áü•"))),1)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ‰ΩçÁΩÆÂç°Áâá "),u.value?.ÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"stat-card location-card",title:u.value.ÊèèËø∞},[(0,r.createElementVNode)("div",xV,[(0,r.createVNode)((0,r.unref)(F_),{size:20})]),(0,r.createElementVNode)("div",kV,[(0,r.createElementVNode)("div",wV,(0,r.toDisplayString)((0,r.unref)(t)("‰ΩçÁΩÆ")),1),(0,r.createElementVNode)("div",EV,(0,r.toDisplayString)(u.value.ÊèèËø∞),1)])],8,yV)):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Êú∫‰ΩìÔºà‰ªÖÈÖíÈ¶ÜÁ´ØÔºâ "),i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:"stat-card body-card clickable",onClick:a[0]||(a[0]=e=>S.value="body"),title:(0,r.unref)(t)("ÁÇπÂáªÊü•ÁúãË∫´‰ΩìÊ°£Ê°à")},[(0,r.createElementVNode)("div",SV,[(0,r.createVNode)((0,r.unref)(R_),{size:20})]),(0,r.createElementVNode)("div",_V,[(0,r.createElementVNode)("div",VV,(0,r.toDisplayString)((0,r.unref)(t)("Êú∫‰Ωì")),1),(0,r.createElementVNode)("div",CV,(0,r.toDisplayString)(f.value),1)])],8,NV)):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Âá∫ÁîüÂç°Áâá "),c.value.Âá∫Áîü?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:3,class:"stat-card origin-card clickable",onClick:a[1]||(a[1]=e=>(e=>{if(e&&"object"==typeof e){const a=e.ÂêçÁß∞||e.name,r=e.ÊèèËø∞||e.description;n.showDetailModal({title:t("Âá∫Ë∫´ËÉåÊôØ: {0}").replace("{0}",a),content:r})}})(c.value.Âá∫Áîü)),title:"object"==typeof c.value.Âá∫Áîü?(0,r.unref)(t)("ÁÇπÂáªÊü•ÁúãËØ¶ÊÉÖ"):""},[(0,r.createElementVNode)("div",DV,[(0,r.createVNode)((0,r.unref)(j_),{size:20})]),(0,r.createElementVNode)("div",TV,[(0,r.createElementVNode)("div",BV,(0,r.toDisplayString)((0,r.unref)(t)("Âá∫Áîü")),1),(0,r.createElementVNode)("div",IV,(0,r.toDisplayString)(xe(c.value.Âá∫Áîü)),1)])],8,AV)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" Âè≥‰æßÔºöÁ≠âÁ∫ßËøõÂ∫¶ "),(0,r.createElementVNode)("div",MV,[(p=d.value?.Èò∂‰Ωç?.ÂêçÁß∞,!p||["Êú™Êé•ÂÖ•","Ë°óÂ§¥‰∫∫","Êó†ÊîπÈÄ†","ÊôÆÈÄö‰∫∫","Ê∏∏Ê∞ë"].includes(p)?((0,r.openBlock)(),(0,r.createElementBlock)("div",zV,[a[10]||(a[10]=(0,r.createElementVNode)("div",{class:"status-icon"},"üå±",-1)),(0,r.createElementVNode)("div",PV,(0,r.toDisplayString)(G()),1)])):H()?((0,r.openBlock)(),(0,r.createElementBlock)("div",RV,[(0,r.createElementVNode)("div",$V,[(0,r.createElementVNode)("span",OV,(0,r.toDisplayString)((0,r.unref)(t)("Á≠âÁ∫ßËøõÂ∫¶")),1),(0,r.createElementVNode)("span",LV,(0,r.toDisplayString)(X())+"%",1)]),(0,r.createElementVNode)("div",FV,[(0,r.createElementVNode)("div",jV,[(0,r.createElementVNode)("div",{class:"progress-bar-fill",style:(0,r.normalizeStyle)({width:X()+"%"})},a[11]||(a[11]=[(0,r.createElementVNode)("div",{class:"progress-bar-shine"},null,-1)]),4)])]),(0,r.createElementVNode)("div",UV,(0,r.toDisplayString)(Y()),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",qV,[(0,r.createElementVNode)("div",GV,[(0,r.createVNode)((0,r.unref)(L_),{size:18})]),(0,r.createElementVNode)("div",HV,(0,r.toDisplayString)((0,r.unref)(t)("Á≠âÂæÖ‰ªªÂä°")),1)])))])])]),(0,r.createCommentVNode)(" Ê†áÁ≠æÈ°µÂØºËà™ "),(0,r.createElementVNode)("div",YV,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(_.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.id,onClick:t=>S.value=e.id,class:(0,r.normalizeClass)(["tab-btn",{active:S.value===e.id}])},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.icon),{size:16})),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)(e.label)),1)],10,WV))),128))]),(0,r.createCommentVNode)(" ËßíËâ≤‰ø°ÊÅØÊ†áÁ≠æÈ°µ "),"character"===S.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",XV,[(0,r.createElementVNode)("div",JV,[(0,r.createCommentVNode)(" ÁîüÂëΩÁä∂ÊÄÅ "),(0,r.createElementVNode)("div",KV,[(0,r.createElementVNode)("h3",ZV,[(0,r.createElementVNode)("div",QV,[(0,r.createVNode)((0,r.unref)(R_),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("ÁîüÂëΩÁä∂ÊÄÅ")),1)]),(0,r.createElementVNode)("div",eC,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(B.value,e=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"vital-item",key:e.label},[(0,r.createElementVNode)("div",tC,(0,r.toDisplayString)(e.label),1),(0,r.createElementVNode)("div",nC,[(0,r.createElementVNode)("div",aC,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["bar-fill",`bar-${e.color}`]),style:(0,r.normalizeStyle)({width:(t=e.current,n=e.max,Math.round(t/n*100)+"%")})},null,6)]),(0,r.createElementVNode)("div",rC,(0,r.toDisplayString)(e.current)+"/"+(0,r.toDisplayString)(e.max),1)])]);var t,n}),128)),(0,r.createCommentVNode)(" Â£∞ÊúõÊòæÁ§∫ "),(0,r.createElementVNode)("div",oC,[(0,r.createElementVNode)("div",iC,(0,r.toDisplayString)((0,r.unref)(t)("Â£∞Êúõ")),1),(0,r.createElementVNode)("div",sC,[(0,r.createElementVNode)("span",lC,(0,r.toDisplayString)(d.value?.Â£∞Êúõ||(0,r.unref)(t)("Á±çÁ±çÊó†Âêç")),1)])])])]),(0,r.createCommentVNode)(" ËßíËâ≤Âü∫Á°Ä‰ø°ÊÅØ "),(0,r.createElementVNode)("div",cC,[(0,r.createElementVNode)("h3",dC,[(0,r.createElementVNode)("div",uC,[(0,r.createVNode)((0,r.unref)(Bu),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("ËßíËâ≤ËÉåÊôØ")),1)]),(0,r.createElementVNode)("div",mC,[(0,r.createElementVNode)("div",pC,[(0,r.createElementVNode)("span",gC,(0,r.toDisplayString)((0,r.unref)(t)("Á≠âÁ∫ß")),1),(0,r.createElementVNode)("span",hC,(0,r.toDisplayString)(W(d.value?.Èò∂‰Ωç)),1)]),c.value.ÊÄßÂà´?((0,r.openBlock)(),(0,r.createElementBlock)("div",fC,[(0,r.createElementVNode)("span",vC,(0,r.toDisplayString)((0,r.unref)(t)("ÊÄßÂà´")),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["info-value gender",`gender-${c.value.ÊÄßÂà´}`])},(0,r.toDisplayString)((0,r.unref)(t)(c.value.ÊÄßÂà´)),3)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",bC,[(0,r.createElementVNode)("span",yC,(0,r.toDisplayString)((0,r.unref)(t)("ÊîπÈÄ†Ê†∏ÂøÉ")),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["info-value core",`core-${Se(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)}`])},(0,r.toDisplayString)(ke(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)),3)]),(0,r.createElementVNode)("div",xC,[(0,r.createElementVNode)("span",kC,(0,r.toDisplayString)((0,r.unref)(t)("Âπ¥ÈæÑ")),1),(0,r.createElementVNode)("span",wC,(0,r.toDisplayString)(C.value)+(0,r.toDisplayString)((0,r.unref)(t)("Â≤Å")),1)]),u.value?.ÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",EC,[(0,r.createElementVNode)("span",NC,(0,r.toDisplayString)((0,r.unref)(t)("‰ΩçÁΩÆ")),1),(0,r.createElementVNode)("span",SC,(0,r.toDisplayString)(u.value.ÊèèËø∞),1)])):c.value.‰∏ñÁïå?((0,r.openBlock)(),(0,r.createElementBlock)("div",_C,[(0,r.createElementVNode)("span",VC,(0,r.toDisplayString)((0,r.unref)(t)("‰∏ñÁïå")),1),(0,r.createElementVNode)("span",CC,(0,r.toDisplayString)(c.value.‰∏ñÁïå),1)])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createCommentVNode)(" Ê®°Âùó‰∏éÊîπÈÄ†Ê†∏ÂøÉ "),(0,r.createElementVNode)("div",AC,[(0,r.createElementVNode)("h3",DC,[(0,r.createElementVNode)("div",TC,[(0,r.createVNode)((0,r.unref)(L_),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("Ê®°Âùó‰∏éÊîπÈÄ†Ê†∏ÂøÉ")),1)]),(0,r.createElementVNode)("div",BC,[(0,r.createCommentVNode)(" Ê®°ÂùóÈò∂‰ΩçÂç°Áâá "),(0,r.createElementVNode)("div",IC,[(0,r.createElementVNode)("div",MC,[(0,r.createElementVNode)("div",zC,[(0,r.createVNode)((0,r.unref)($g),{size:18})]),(0,r.createElementVNode)("span",PC,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÈò∂‰Ωç")),1)]),(0,r.createElementVNode)("div",RC,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tier-value",`tier-${J(c.value.Ê®°ÂùóÈò∂‰Ωç)}`])},(0,r.toDisplayString)(J(c.value.Ê®°ÂùóÈò∂‰Ωç)),3)]),Z(c.value.Ê®°ÂùóÈò∂‰Ωç)?((0,r.openBlock)(),(0,r.createElementBlock)("div",$C,(0,r.toDisplayString)(Z(c.value.Ê®°ÂùóÈò∂‰Ωç)),1)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" ÊîπÈÄ†Ê†∏ÂøÉÂ±ûÊÄßÂç°Áâá (Re-designed) "),(0,r.createElementVNode)("div",{class:"core-card",onClick:he},[(0,r.createElementVNode)("div",OC,[(0,r.createElementVNode)("div",LC,[(0,r.createVNode)((0,r.unref)(Mu),{size:18})]),(0,r.createElementVNode)("span",FC,(0,r.toDisplayString)((0,r.unref)(t)("ÊîπÈÄ†Ê†∏ÂøÉÂ±ûÊÄß")),1),(0,r.createElementVNode)("span",jC,(0,r.toDisplayString)((0,r.unref)(t)("ÁÇπÂáªÊü•ÁúãËØ¶ÊÉÖ")),1)]),(0,r.createElementVNode)("div",UC,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["root-name",`core-${Se(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)}`])},(0,r.toDisplayString)(ke(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)),3),(0,r.createElementVNode)("div",qC,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["prop-badge grade-badge",`grade-${we(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)||"Ê∞ëÁî®"}`])},(0,r.toDisplayString)((0,r.unref)(t)(Ee(c.value.ÊîπÈÄ†Ê†∏ÂøÉ))),3),(0,r.createElementVNode)("span",GC,(0,r.toDisplayString)(_e(c.value)),1)])]),Ne(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)?((0,r.openBlock)(),(0,r.createElementBlock)("div",HC,(0,r.toDisplayString)(Ne(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)),1)):(0,r.createCommentVNode)("v-if",!0),Ve(c.value).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",YC,[(0,r.createElementVNode)("div",WC,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Ve(c.value),e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"effect-tag"},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" Ê®°ÂùóÂàóË°®Âç°Áâá "),(0,r.createElementVNode)("div",XC,[(0,r.createElementVNode)("div",JC,[(0,r.createElementVNode)("div",KC,[(0,r.createVNode)((0,r.unref)(L_),{size:18})]),(0,r.createElementVNode)("span",ZC,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÁâπË¥®")),1),Q(c.value.Ê®°Âùó)?.length?((0,r.openBlock)(),(0,r.createElementBlock)("span",QC,"("+(0,r.toDisplayString)(Q(c.value.Ê®°Âùó).length)+")",1)):(0,r.createCommentVNode)("v-if",!0)]),Q(c.value.Ê®°Âùó)?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",eA,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Q(c.value.Ê®°Âùó),e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.name,class:"talent-item",title:e.description},[(0,r.createElementVNode)("div",nA,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(e.name),1)]),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("div",aA,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)("v-if",!0)],8,tA))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",rA,[(0,r.createElementVNode)("div",oA,[(0,r.createElementVNode)("div",iA,(0,r.toDisplayString)((0,r.unref)(t)("Êó†")),1)])]))])])]),(0,r.createCommentVNode)(" ÂÖ≠Áª¥Â±ûÊÄß "),(0,r.createElementVNode)("div",sA,[(0,r.createElementVNode)("h3",lA,[(0,r.createElementVNode)("div",cA,[(0,r.createVNode)((0,r.unref)(Yu),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("ÂÖ≠Áª¥Â±ûÊÄß")),1)]),(0,r.createElementVNode)("div",dA,[(0,r.createCommentVNode)(" ÊúÄÁªàÂ±ûÊÄß "),(0,r.createElementVNode)("div",uA,[(0,r.createElementVNode)("h4",mA,(0,r.toDisplayString)((0,r.unref)(t)("ÊúÄÁªàÂÖ≠Áª¥")),1),(0,r.createElementVNode)("div",pA,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(z.value,(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:"attribute-item final"},[(0,r.createElementVNode)("span",gA,(0,r.toDisplayString)((0,r.unref)(t)(String(n))),1),(0,r.createElementVNode)("span",hA,(0,r.toDisplayString)(e),1)]))),128))])]),(0,r.createCommentVNode)(" Â±ûÊÄßËØ¶ÊÉÖ "),(0,r.createElementVNode)("div",fA,[(0,r.createElementVNode)("div",vA,[(0,r.createElementVNode)("h4",bA,(0,r.toDisplayString)((0,r.unref)(t)("ÂàùÂßãÂÖ≠Áª¥")),1),(0,r.createElementVNode)("div",yA,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(M.value,(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:"attribute-item innate"},[(0,r.createElementVNode)("span",xA,(0,r.toDisplayString)((0,r.unref)(t)(String(n))),1),(0,r.createElementVNode)("span",kA,(0,r.toDisplayString)(e),1)]))),128))])]),(0,r.createElementVNode)("div",wA,[(0,r.createElementVNode)("h4",EA,(0,r.toDisplayString)((0,r.unref)(t)("ÊàêÈïøÂÖ≠Áª¥")),1),(0,r.createElementVNode)("div",NA,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(P.value,(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:(0,r.normalizeClass)(["attribute-item acquired",{"has-bonus":e>0}])},[(0,r.createElementVNode)("span",SA,(0,r.toDisplayString)((0,r.unref)(t)(String(n))),1),(0,r.createElementVNode)("span",_A,(0,r.toDisplayString)(e>0?`+${e}`:e),1)],2))),128))])])])])])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Ë∫´‰ΩìÊ°£Ê°àÊ†áÁ≠æÈ°µÔºà‰ªÖÈÖíÈ¶ÜÁ´ØÔºâ "),i.value&&"body"===S.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",VA,[(0,r.createElementVNode)("div",CA,[(0,r.createElementVNode)("div",AA,[(0,r.createElementVNode)("h3",DA,[(0,r.createElementVNode)("div",TA,[(0,r.createVNode)((0,r.unref)(R_),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("Ë∫´‰ΩìÊ°£Ê°à")),1)]),(0,r.createVNode)(P_,{"body-stats":g.value,lifespan:h.value},null,8,["body-stats","lifespan"])])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ËÆ≠ÁªÉ‰ΩìÁ≥ªÊ†áÁ≠æÈ°µ "),"training"===S.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",BA,[(0,r.createElementVNode)("div",IA,[(0,r.createCommentVNode)(" ËÆ≠ÁªÉÊ®°Âùó "),(0,r.createElementVNode)("div",MA,[(0,r.createElementVNode)("h3",zA,[(0,r.createElementVNode)("div",PA,[(0,r.createVNode)((0,r.unref)(Iu.A),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉÊ®°Âùó")),1)]),D.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",OA,[(0,r.createElementVNode)("div",LA,[(0,r.createElementVNode)("div",{class:"program-header",onClick:de},[(0,r.createElementVNode)("div",FA,[(0,r.createElementVNode)("h4",{class:(0,r.normalizeClass)(["program-name",ee(D.value,"text")])},(0,r.toDisplayString)(D.value?.ÂêçÁß∞),3),(0,r.createElementVNode)("div",jA,(0,r.toDisplayString)((0,r.unref)(t)(D.value?.ÂìÅË¥®?.quality||"Êú™Áü•"))+(0,r.toDisplayString)((0,r.unref)(t)("ÂìÅ"))+(0,r.toDisplayString)(D.value?.ÂìÅË¥®?.grade?`${D.value.ÂìÅË¥®.grade}${(0,r.unref)(t)("Èò∂")}`:""),1)]),(0,r.createElementVNode)("div",UA,[(0,r.createVNode)((0,r.unref)(Sm),{size:16,class:(0,r.normalizeClass)([{rotated:k.value},"toggle-icon"])},null,8,["class"])])]),(0,r.createCommentVNode)(" Ê®°ÂùóËØ¶ÊÉÖÔºàÂèØÊäòÂè†Ôºâ "),(0,r.withDirectives)((0,r.createElementVNode)("div",qA,[(0,r.createElementVNode)("div",GA,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(t)(D.value?.ÊèèËø∞||"Ê≠§Ê®°ÂùóÊΩúÂäõÂ∑®Â§ßÔºåÈöèËÆ≠ÁªÉÂä†Ê∑±ÊñπÂèØËß£ÈîÅÂÖ∂ÊÄßËÉΩ„ÄÇ")),1)]),R.value&&D.value?.Á®ãÂ∫èÊïàÊûú?((0,r.openBlock)(),(0,r.createElementBlock)("div",HA,[(0,r.createElementVNode)("h5",YA,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÊïàÊûú")),1),(0,r.createElementVNode)("div",WA,[D.value.Á®ãÂ∫èÊïàÊûú.ËÆ≠ÁªÉÈÄüÂ∫¶Âä†Êàê?((0,r.openBlock)(),(0,r.createElementBlock)("div",XA,[(0,r.createElementVNode)("span",JA,(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉÂä†ÊàêÔºö")),1),(0,r.createElementVNode)("span",KA,(0,r.toDisplayString)((100*D.value.Á®ãÂ∫èÊïàÊûú.ËÆ≠ÁªÉÈÄüÂ∫¶Âä†Êàê).toFixed(0))+"%",1)])):(0,r.createCommentVNode)("v-if",!0),D.value.Á®ãÂ∫èÊïàÊûú.Â±ûÊÄßÂä†Êàê?((0,r.openBlock)(),(0,r.createElementBlock)("div",ZA,[(0,r.createElementVNode)("span",QA,(0,r.toDisplayString)((0,r.unref)(t)("Â±ûÊÄßÊèêÂçáÔºö")),1),(0,r.createElementVNode)("div",eD,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(D.value.Á®ãÂ∫èÊïàÊûú.Â±ûÊÄßÂä†Êàê,(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:n,class:"bonus-tag"},(0,r.toDisplayString)((0,r.unref)(t)(String(n)))+" +"+(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0)])])):D.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",tD,[(0,r.createElementVNode)("h5",nD,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÊïàÊûú")),1),(0,r.createElementVNode)("p",aD,(0,r.toDisplayString)((0,r.unref)(t)("Ê≠§Ê®°ÂùóÊó†ÁâπÊÆäÊïàÊûú")),1)])):(0,r.createCommentVNode)("v-if",!0)],512),[[r.vShow,k.value]]),(0,r.createElementVNode)("div",rD,[D.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",oD,[(0,r.createElementVNode)("span",iD,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóËøõÂ∫¶")),1),(0,r.createElementVNode)("div",sD,[(0,r.createElementVNode)("div",{class:"progress-fill",style:(0,r.normalizeStyle)({width:Math.max(2,D.value.ËÆ≠ÁªÉËøõÂ∫¶||0)+"%"})},null,4)]),(0,r.createElementVNode)("span",lD,(0,r.toDisplayString)(D.value.ËÆ≠ÁªÉËøõÂ∫¶||0)+"%",1)])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createCommentVNode)(" Â∑≤Â≠¶ÊäÄËÉΩ "),O.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",cD,[(0,r.createElementVNode)("div",{class:"skills-header",onClick:ue},[(0,r.createElementVNode)("h4",dD,(0,r.toDisplayString)((0,r.unref)(t)("Â∑≤ÊéåÊè°ÊäÄËÉΩ")),1),(0,r.createElementVNode)("div",uD,"("+(0,r.toDisplayString)(L.value)+(0,r.toDisplayString)((0,r.unref)(t)("‰∏™"))+")",1),(0,r.createVNode)((0,r.unref)(Sm),{size:14,class:(0,r.normalizeClass)([{rotated:w.value},"toggle-icon"])},null,8,["class"])]),(0,r.withDirectives)((0,r.createElementVNode)("div",mD,[(0,r.createElementVNode)("div",pD,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(O.value.slice(0,3),e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e.name,class:"skill-tag compact"},(0,r.toDisplayString)(e.name),1))),128)),L.value>3?((0,r.openBlock)(),(0,r.createElementBlock)("span",gD,"...")):(0,r.createCommentVNode)("v-if",!0)])],512),[[r.vShow,!w.value]]),(0,r.withDirectives)((0,r.createElementVNode)("div",hD,[(0,r.createCommentVNode)(" ÊâÄÊúâÂ∑≤ÊéåÊè°ÁöÑÊäÄËÉΩ "),O.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",fD,[(0,r.createElementVNode)("h5",vD,(0,r.toDisplayString)((0,r.unref)(t)("ÊâÄÊúâÊäÄËÉΩ")),1),(0,r.createElementVNode)("div",bD,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(O.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.name,class:"skill-card",onClick:t=>ge(e)},[(0,r.createElementVNode)("div",xD,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("div",kD,(0,r.toDisplayString)((0,r.unref)(t)(e.type)),1),(0,r.createElementVNode)("div",wD,(0,r.toDisplayString)(e.source),1),(0,r.createElementVNode)("div",ED,(0,r.toDisplayString)((0,r.unref)(t)("ÁÜüÁªÉÂ∫¶"))+" "+(0,r.toDisplayString)(e.proficiency)+"% ",1),(0,r.createElementVNode)("div",ND,[(0,r.createVNode)((0,r.unref)($g),{size:12,class:"unlock-icon"})])],8,yD))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Êú™Ëß£ÈîÅÁöÑÁ®ãÂ∫èÊäÄËÉΩ "),$.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",SD,[(0,r.createElementVNode)("h5",_D,(0,r.toDisplayString)((0,r.unref)(t)("Êú™Ëß£ÈîÅÊäÄËÉΩ")),1),(0,r.createElementVNode)("div",VD,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)($.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.name,class:"skill-card skill-locked",onClick:t=>ge(e)},[(0,r.createElementVNode)("div",AD,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("div",DD,(0,r.toDisplayString)((0,r.unref)(t)(e.type)),1),(0,r.createElementVNode)("div",TD,(0,r.toDisplayString)(e.unlockCondition),1)],8,CD))),128))])])):(0,r.createCommentVNode)("v-if",!0)],512),[[r.vShow,w.value]])])):(0,r.createCommentVNode)("v-if",!0)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",RA,[(0,r.createElementVNode)("div",$A,[(0,r.createVNode)((0,r.unref)(Iu.A),{size:32})]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("Â∞öÊú™ËÆ≠ÁªÉÊ®°Âùó")),1)]))]),(0,r.createCommentVNode)(" ‰∏âÂçÉÊµÅÊ¥æ "),(0,r.createElementVNode)("div",BD,[(0,r.createElementVNode)("h3",ID,[(0,r.createElementVNode)("div",MD,[(0,r.createVNode)((0,r.unref)(Mu),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("‰∏âÂçÉÊµÅÊ¥æ")),1)]),T.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",RD,[(0,r.createElementVNode)("div",$D,[(0,r.createElementVNode)("div",OD,[(0,r.createElementVNode)("span",LD,(0,r.toDisplayString)((0,r.unref)(t)("Â∑≤Ëß£"))+" "+(0,r.toDisplayString)(T.value.length)+" "+(0,r.toDisplayString)((0,r.unref)(t)("Êù°ÊµÅÊ¥æ")),1),(0,r.createElementVNode)("button",{class:"protocol-expand-btn",onClick:me},[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(v.value?(0,r.unref)(t)("Êî∂Ëµ∑"):(0,r.unref)(t)("Â±ïÂºÄ")),1),(0,r.createVNode)((0,r.unref)(Sm),{size:14,class:(0,r.normalizeClass)([{rotated:v.value},"toggle-icon"])},null,8,["class"])])])]),(0,r.withDirectives)((0,r.createElementVNode)("div",FD,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(T.value.slice(0,2).map(e=>e.ÊµÅÊ¥æÂêç),e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"protocol-item compact",onClick:t=>pe(e)},[(0,r.createElementVNode)("div",UD,[(0,r.createElementVNode)("span",qD,(0,r.toDisplayString)(e),1),(0,r.createElementVNode)("span",GD,(0,r.toDisplayString)((0,r.unref)(t)("Á¨¨"))+(0,r.toDisplayString)(ne(e))+(0,r.toDisplayString)((0,r.unref)(t)("Èò∂ÊÆµ")),1)]),(0,r.createElementVNode)("div",HD,[(0,r.createElementVNode)("div",YD,[(0,r.createElementVNode)("div",{class:"progress-fill",style:(0,r.normalizeStyle)({width:ae(e)+"%"})},null,4)]),(0,r.createElementVNode)("span",WD,(0,r.toDisplayString)(ae(e))+"%",1)])],8,jD))),128)),T.value.length>2?((0,r.openBlock)(),(0,r.createElementBlock)("div",XD,(0,r.toDisplayString)((0,r.unref)(t)("ËøòÊúâ"))+" "+(0,r.toDisplayString)(T.value.length-2)+" "+(0,r.toDisplayString)((0,r.unref)(t)("Êù°ÊµÅÊ¥æ..")),1)):(0,r.createCommentVNode)("v-if",!0)],512),[[r.vShow,!v.value]]),(0,r.withDirectives)((0,r.createElementVNode)("div",JD,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(T.value.map(e=>e.ÊµÅÊ¥æÂêç),e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"protocol-item detailed",onClick:t=>pe(e)},[(0,r.createElementVNode)("div",ZD,[(0,r.createElementVNode)("span",QD,(0,r.toDisplayString)(e),1),(0,r.createElementVNode)("span",eT,(0,r.toDisplayString)((0,r.unref)(t)("Á¨¨"))+(0,r.toDisplayString)(ne(e))+(0,r.toDisplayString)((0,r.unref)(t)("Èò∂ÊÆµ")),1)]),(0,r.createElementVNode)("div",tT,[(0,r.createElementVNode)("div",nT,[(0,r.createElementVNode)("div",{class:"progress-fill",style:(0,r.normalizeStyle)({width:ae(e)+"%"})},null,4)]),(0,r.createElementVNode)("span",aT,(0,r.toDisplayString)(ae(e))+"%",1)]),(0,r.createElementVNode)("div",rT,[(0,r.createElementVNode)("div",oT,[(0,r.createElementVNode)("span",iT,(0,r.toDisplayString)((0,r.unref)(t)("ÂΩìÂâçÁªèÈ™å")),1),(0,r.createElementVNode)("span",sT,(0,r.toDisplayString)(re(e)),1)]),(0,r.createElementVNode)("div",lT,[(0,r.createElementVNode)("span",cT,(0,r.toDisplayString)((0,r.unref)(t)("ÊÄªÁªèÈ™å")),1),(0,r.createElementVNode)("span",dT,(0,r.toDisplayString)(oe(e)),1)])])],8,KD))),128))],512),[[r.vShow,v.value]])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",zD,[(0,r.createElementVNode)("div",PD,[(0,r.createVNode)((0,r.unref)(j_),{size:32})]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("Â∞öÊú™Ëß£ÈîÅÊµÅÊ¥æ")),1)]))])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Á§æ‰∫§ÂÖ≥Á≥ªÊ†áÁ≠æÈ°µ "),"social"===S.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",uT,[(0,r.createElementVNode)("div",mT,[(0,r.createCommentVNode)(" ‰∫∫ÈôÖÂÖ≥Á≥ª "),(0,r.createElementVNode)("div",pT,[(0,r.createElementVNode)("h3",gT,[(0,r.createElementVNode)("div",hT,[(0,r.createVNode)((0,r.unref)(Bu),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("‰∫∫ÈôÖÂÖ≥Á≥ª")),1)]),F.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",bT,[(0,r.createElementVNode)("div",yT,[(0,r.createElementVNode)("div",xT,[(0,r.createElementVNode)("span",kT,(0,r.toDisplayString)((0,r.unref)(t)("ÊÄª‰∫∫Êï∞")),1),(0,r.createElementVNode)("span",wT,(0,r.toDisplayString)(F.value),1)]),(0,r.createElementVNode)("div",ET,[(0,r.createElementVNode)("span",NT,(0,r.toDisplayString)((0,r.unref)(t)("Âπ≥ÂùáÂ•ΩÊÑü")),1),(0,r.createElementVNode)("span",ST,(0,r.toDisplayString)(j.value)+"%",1)])])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",fT,[(0,r.createElementVNode)("div",vT,[(0,r.createVNode)((0,r.unref)(U_),{size:32})]),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("ÊöÇÊó†‰∫∫ÈôÖÂÖ≥Á≥ª")),1)]))]),(0,r.createCommentVNode)(" ËÉåÂåÖÊ¶ÇËßà "),(0,r.createElementVNode)("div",_T,[(0,r.createElementVNode)("h3",VT,[(0,r.createElementVNode)("div",CT,[(0,r.createVNode)((0,r.unref)(q_),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("ËÉåÂåÖÊ¶ÇËßà")),1)]),(0,r.createElementVNode)("div",AT,[(0,r.createElementVNode)("div",DT,[(0,r.createElementVNode)("div",TT,[(0,r.createElementVNode)("div",BT,[(0,r.createElementVNode)("span",IT,(0,r.toDisplayString)((0,r.unref)(t)("Áâ©ÂìÅÊÄªÊï∞")),1),(0,r.createElementVNode)("span",MT,(0,r.toDisplayString)(U.value),1)]),(0,r.createElementVNode)("div",zT,[(0,r.createElementVNode)("span",PT,(0,r.toDisplayString)((0,r.unref)(t)("Ë£ÖÂ§áÊï∞Èáè")),1),(0,r.createElementVNode)("span",RT,(0,r.toDisplayString)(ie("Ë£ÖÂ§á")),1)]),(0,r.createElementVNode)("div",$T,[(0,r.createElementVNode)("span",OT,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÊï∞Èáè")),1),(0,r.createElementVNode)("span",LT,(0,r.toDisplayString)(ie("Á®ãÂ∫è")),1)])])]),(0,r.createElementVNode)("div",FT,[(0,r.createElementVNode)("h4",jT,(0,r.toDisplayString)((0,r.unref)(t)("‰ø°Áî®ÁÇπÂÇ®Â§á")),1),(0,r.createElementVNode)("div",UT,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(q,e=>(0,r.createElementVNode)("div",{key:e.name,class:(0,r.normalizeClass)(["stone-item",e.class])},[(0,r.createElementVNode)("span",qT,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("span",GT,(0,r.toDisplayString)(le(e.name)),1)],2)),64))])])])]),(0,r.createCommentVNode)(" ÁªÑÁªá‰ø°ÊÅØ "),m.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",HT,[(0,r.createElementVNode)("h3",YT,[(0,r.createElementVNode)("div",WT,[(0,r.createVNode)((0,r.unref)(O_),{size:18})]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(t)("ÁªÑÁªá‰ø°ÊÅØ")),1)]),(0,r.createElementVNode)("div",XT,[(0,r.createElementVNode)("div",JT,[(0,r.createElementVNode)("h4",KT,(0,r.toDisplayString)(m.value?.ÁªÑÁªáÂêçÁß∞),1),(0,r.createElementVNode)("span",ZT,(0,r.toDisplayString)((o=m.value?.ÁªÑÁªáÁ±ªÂûã,o?{Áß©Â∫èÁªÑÁªá:"Áß©Â∫èÁªÑÁªá",Ê†∏ÂøÉÁªÑÁªá:"Ê†∏ÂøÉÁªÑÁªá",ÈªëÂ∏ÇÁªÑÁªá:"ÈªëÂ∏ÇÁªÑÁªá",ÈªëÂ∏ÇÂäøÂäõ:"ÈªëÂ∏ÇÂäøÂäõ",‰∏≠Á´ãÁªÑÁªá:"‰∏≠Á´ãÁªÑÁªá",‰ºÅ‰∏öÂÆ∂Êóè:"‰ºÅ‰∏öÂÆ∂Êóè",ÂÆ∂ÊóèÂäøÂäõ:"ÂÆ∂ÊóèÂäøÂäõ",ÂïÜ‰∏öËÅîÁõü:"ÂïÜ‰∏öËÅîÁõü",Áã¨Á´ãËÅîÁõü:"Áã¨Á´ãËÅîÁõü"}[o]||o:t("Êú™Áü•"))),1)]),(0,r.createElementVNode)("div",QT,[(0,r.createElementVNode)("div",eB,[(0,r.createElementVNode)("span",tB,(0,r.toDisplayString)((0,r.unref)(t)("ËÅå‰Ωç")),1),(0,r.createElementVNode)("span",nB,(0,r.toDisplayString)(m.value?.ËÅå‰Ωç),1)]),(0,r.createElementVNode)("div",aB,[(0,r.createElementVNode)("span",rB,(0,r.toDisplayString)((0,r.unref)(t)("Ë¥°ÁåÆÂÄº")),1),(0,r.createElementVNode)("span",oB,(0,r.toDisplayString)(m.value?.Ë¥°ÁåÆ),1)]),(0,r.createElementVNode)("div",iB,[(0,r.createElementVNode)("span",sB,(0,r.toDisplayString)((0,r.unref)(t)("ÂÖ≥Á≥ª")),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["detail-value",`relationship-${m.value?.ÂÖ≥Á≥ª}`])},(0,r.toDisplayString)(m.value?.ÂÖ≥Á≥ª),3)])])])])):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÊäÄËÉΩËØ¶ÊÉÖÂºπÁ™ó "),b.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:4,class:"modal-overlay",onClick:fe},[(0,r.createElementVNode)("div",{class:"skill-modal",onClick:a[2]||(a[2]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",lB,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(be()?.name),1),(0,r.createElementVNode)("button",{class:"modal-close-btn",onClick:fe},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:20})])]),(0,r.createElementVNode)("div",cB,[(0,r.createElementVNode)("div",dB,[(0,r.createElementVNode)("div",uB,[(0,r.createElementVNode)("span",mB,(0,r.toDisplayString)((0,r.unref)(t)("Á±ªÂûã")),1),(0,r.createElementVNode)("span",pB,(0,r.toDisplayString)((0,r.unref)(t)(be()?.type??"Êú™Áü•")),1)]),(0,r.createElementVNode)("div",gB,[(0,r.createElementVNode)("span",hB,(0,r.toDisplayString)((0,r.unref)(t)("Áä∂ÊÄÅ")),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["detail-value","status-"+("Â∑≤Ëß£ÈîÅ"===be()?.status?"unlocked":"locked")])},(0,r.toDisplayString)((0,r.unref)(t)(be()?.status??"Êú™Áü•")),3)]),(0,r.createElementVNode)("div",fB,[(0,r.createElementVNode)("span",vB,(0,r.toDisplayString)((0,r.unref)(t)("ÁÜüÁªÉÂ∫¶")),1),(0,r.createElementVNode)("span",bB,(0,r.toDisplayString)(be()?.proficiency?be()?.proficiency+"%":(0,r.unref)(t)("Êú™Áü•")),1)]),(0,r.createElementVNode)("div",yB,[(0,r.createElementVNode)("span",xB,(0,r.toDisplayString)((0,r.unref)(t)("Ëß£ÈîÅÊù°‰ª∂")),1),(0,r.createElementVNode)("span",kB,(0,r.toDisplayString)(be()?.condition),1)]),(0,r.createElementVNode)("div",wB,[(0,r.createElementVNode)("span",EB,(0,r.toDisplayString)((0,r.unref)(t)("ÊäÄËÉΩÊù•Ê∫ê")),1),(0,r.createElementVNode)("span",NB,(0,r.toDisplayString)(be()?.source),1)])]),(0,r.createElementVNode)("div",SB,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("ÊäÄËÉΩÊèèËø∞")),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(be()?.description),1)])])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÊµÅÊ¥æËØ¶ÊÉÖÂºπÁ™ó "),y.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:5,class:"modal-overlay",onClick:fe},[(0,r.createElementVNode)("div",{class:"protocol-modal",onClick:a[3]||(a[3]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",_B,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(ve()?.name),1),(0,r.createElementVNode)("button",{class:"modal-close-btn",onClick:fe},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:20})])]),(0,r.createElementVNode)("div",VB,[(0,r.createElementVNode)("div",CB,[(0,r.createElementVNode)("div",AB,[(0,r.createElementVNode)("span",DB,(0,r.toDisplayString)((0,r.unref)(t)("ÂΩìÂâçÈò∂ÊÆµ")),1),(0,r.createElementVNode)("span",TB,(0,r.toDisplayString)(ve()?.stage),1)]),(0,r.createElementVNode)("div",BB,[(0,r.createElementVNode)("div",IB,[(0,r.createElementVNode)("div",{class:"progress-bar-fill",style:(0,r.normalizeStyle)({width:(ve()?.progressPercent||0)+"%"})},null,4)]),(0,r.createElementVNode)("span",MB,(0,r.toDisplayString)(ve()?.progressPercent)+"%",1)])]),(0,r.createElementVNode)("div",zB,[(0,r.createElementVNode)("div",PB,[(0,r.createElementVNode)("span",RB,(0,r.toDisplayString)((0,r.unref)(t)("ÂΩìÂâçÁªèÈ™å")),1),(0,r.createElementVNode)("span",$B,(0,r.toDisplayString)(ve()?.currentExp),1)]),(0,r.createElementVNode)("div",OB,[(0,r.createElementVNode)("span",LB,(0,r.toDisplayString)((0,r.unref)(t)("ÊÄªÁªèÈ™å")),1),(0,r.createElementVNode)("span",FB,(0,r.toDisplayString)(ve()?.totalExp),1)])]),(0,r.createElementVNode)("div",jB,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉÊÑüÊÇü")),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(ve()?.description),1)])])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÊîπÈÄ†Ê†∏ÂøÉËØ¶ÊÉÖÂºπÁ™ó (Re-designed) "),x.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:6,class:"modal-overlay",onClick:fe},[(0,r.createElementVNode)("div",{class:"core-modal",onClick:a[4]||(a[4]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",UB,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(ke(c.value.ÊîπÈÄ†Ê†∏ÂøÉ))+" "+(0,r.toDisplayString)((0,r.unref)(t)("ËØ¶ÊÉÖ")),1),(0,r.createElementVNode)("button",{class:"modal-close-btn",onClick:fe},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:20})])]),(0,r.createElementVNode)("div",qB,[(0,r.createElementVNode)("div",GB,[(0,r.createElementVNode)("div",HB,[(0,r.createElementVNode)("span",YB,(0,r.toDisplayString)((0,r.unref)(t)("Á±ªÂûã")),1),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["detail-value type-value",`core-${Se(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)}`])},(0,r.toDisplayString)(ke(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)),3)]),(0,r.createElementVNode)("div",WB,[(0,r.createElementVNode)("span",XB,(0,r.toDisplayString)((0,r.unref)(t)("Á≠âÁ∫ß")),1),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["detail-value grade-value",`grade-${we(c.value.ÊîπÈÄ†Ê†∏ÂøÉ)||"Âü∫Á°ÄÁ∫ß"}`])},(0,r.toDisplayString)((0,r.unref)(t)(Ee(c.value.ÊîπÈÄ†Ê†∏ÂøÉ))),3)]),(0,r.createElementVNode)("div",JB,[(0,r.createElementVNode)("span",KB,(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉÂä†Êàê")),1),(0,r.createElementVNode)("span",ZB,(0,r.toDisplayString)(_e(c.value)),1)])]),Ve(c.value).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",QB,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("ÁâπÊÆäÊïàÊûú")),1),(0,r.createElementVNode)("div",eI,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Ve(c.value),e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"effect-tag-modal"},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0),"object"==typeof c.value.ÊîπÈÄ†Ê†∏ÂøÉ&&c.value.ÊîπÈÄ†Ê†∏ÂøÉ?((0,r.openBlock)(),(0,r.createElementBlock)("div",tI,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("È´òÁ∫ßÂèÇÊï∞")),1),(0,r.createElementVNode)("div",nI,["object"==typeof c.value.ÊîπÈÄ†Ê†∏ÂøÉ&&c.value.ÊîπÈÄ†Ê†∏ÂøÉ.base_multiplier?((0,r.openBlock)(),(0,r.createElementBlock)("div",aI,[(0,r.createElementVNode)("span",rI,(0,r.toDisplayString)((0,r.unref)(t)("Âü∫Á°ÄÂÄçÁéá")),1),(0,r.createElementVNode)("span",oI,(0,r.toDisplayString)(c.value.ÊîπÈÄ†Ê†∏ÂøÉ.base_multiplier)+"x",1)])):(0,r.createCommentVNode)("v-if",!0),"object"==typeof c.value.ÊîπÈÄ†Ê†∏ÂøÉ&&c.value.ÊîπÈÄ†Ê†∏ÂøÉ.training_speed?((0,r.openBlock)(),(0,r.createElementBlock)("div",iI,[(0,r.createElementVNode)("span",sI,(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉÈÄüÂ∫¶")),1),(0,r.createElementVNode)("span",lI,(0,r.toDisplayString)(c.value.ÊîπÈÄ†Ê†∏ÂøÉ.training_speed),1)])):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0)])])])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",Y_,[(0,r.createElementVNode)("div",W_,[(0,r.createVNode)((0,r.unref)($_),{size:48})]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(t)("Êó†Ê≥ïÂä†ËΩΩËßíËâ≤Êï∞ÊçÆ")),1),(0,r.createElementVNode)("button",{class:"retry-btn",onClick:ye},(0,r.toDisplayString)((0,r.unref)(t)("ÈáçËØï")),1)]))]);var o,p,E}}});var dI=n(7230),uI={};uI.styleTagTransform=k(),uI.setAttributes=v(),uI.insert=h().bind(null,"head"),uI.domAPI=p(),uI.insertStyleElement=y(),u()(dI.A,uI),dI.A&&dI.A.locals&&dI.A.locals;const mI=(0,N.A)(cI,[["__scopeId","data-v-08ecf914"]]),pI=(0,_.A)("sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),gI=(0,_.A)("gem",[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),hI=(0,_.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),fI=(0,_.A)("square-dashed",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]]),vI={class:"modal-header"},bI={class:"modal-body"},yI={class:"item-info"},xI={class:"item-icon"},kI={class:"item-details"},wI={class:"item-name"},EI={class:"item-type"},NI={class:"available-quantity"},SI={key:0,class:"item-description"},_I={class:"quantity-selector"},VI={for:"quantity"},CI={class:"quantity-controls"},AI=["disabled"],DI=["max"],TI=["disabled"],BI={class:"quantity-shortcuts"},II=["onClick","disabled"],MI={class:"modal-footer"},zI=["disabled"],PI=(0,r.defineComponent)({__name:"QuantitySelectModal",props:{visible:{type:Boolean},item:{},title:{},actionLabel:{},actionType:{},confirmText:{},description:{}},emits:["close","confirm"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)(1),i=(0,r.computed)(()=>{const e=n.item?.Êï∞Èáè||1;return[{label:"1‰∏™",value:1},{label:"5‰∏™",value:5},{label:"10‰∏™",value:10},{label:"ÂÖ®ÈÉ®",value:e}].filter(t=>t.value<=e)});function s(){o.value<(n.item?.Êï∞Èáè||1)&&o.value++}function l(){o.value>1&&o.value--}function c(){o.value>0&&o.value<=(n.item?.Êï∞Èáè||1)&&a("confirm",o.value)}function d(){a("close")}return(0,r.watch)(()=>n.item,e=>{e&&(o.value=1)}),(e,t)=>{return e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"quantity-modal-overlay",onClick:d},[(0,r.createElementVNode)("div",{class:"quantity-modal",onClick:t[3]||(t[3]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",vI,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.title||"ÈÄâÊã©Êï∞Èáè"),1),(0,r.createElementVNode)("button",{class:"close-btn",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[t[4]||(t[4]=(0,r.createElementVNode)("span",null,"ÂÖ≥Èó≠",-1)),(0,r.createVNode)((0,r.unref)(Xu.A),{size:16})])]),(0,r.createElementVNode)("div",bI,[(0,r.createElementVNode)("div",yI,[(0,r.createElementVNode)("div",xI,(0,r.toDisplayString)((a=e.item?.Á±ªÂûã,{Ë£ÖÂ§á:"‚öîÔ∏è",Ê®°Âùó:"üìú",‰∏πËçØ:"üíä",ÊùêÊñô:"üíé",ÂÖ∂‰ªñ:"üì¶"}[a||"ÂÖ∂‰ªñ"]||"üì¶")),1),(0,r.createElementVNode)("div",kI,[(0,r.createElementVNode)("div",wI,(0,r.toDisplayString)(e.item?.ÂêçÁß∞),1),(0,r.createElementVNode)("div",EI,(0,r.toDisplayString)(e.item?.Á±ªÂûã),1),(0,r.createElementVNode)("div",NI,"ÂèØÁî®Êï∞ÈáèÔºö"+(0,r.toDisplayString)(e.item?.Êï∞Èáè||0),1),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("div",SI,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createElementVNode)("div",_I,[(0,r.createElementVNode)("label",VI,(0,r.toDisplayString)(e.actionLabel||"ÈÄâÊã©Êï∞Èáè")+"Ôºö",1),(0,r.createElementVNode)("div",CI,[(0,r.createElementVNode)("button",{class:"quantity-btn",onClick:l,disabled:o.value<=1}," - ",8,AI),(0,r.withDirectives)((0,r.createElementVNode)("input",{id:"quantity","onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),type:"number",min:1,max:e.item?.Êï∞Èáè||1,class:"quantity-input"},null,8,DI),[[r.vModelText,o.value,void 0,{number:!0}]]),(0,r.createElementVNode)("button",{class:"quantity-btn",onClick:s,disabled:o.value>=(e.item?.Êï∞Èáè||1)}," + ",8,TI)])]),(0,r.createElementVNode)("div",BI,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:t.value,class:"preset-btn",onClick:e=>{return a=t.value,void(o.value=Math.min(a,n.item?.Êï∞Èáè||1));var a},disabled:t.value>(e.item?.Êï∞Èáè||1)},(0,r.toDisplayString)(t.label),9,II))),128))])]),(0,r.createElementVNode)("div",MI,[(0,r.createElementVNode)("button",{class:"cancel-btn",onClick:t[2]||(t[2]=t=>e.$emit("close"))},"ÂèñÊ∂à"),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["confirm-btn","discard"===e.actionType?"discard-confirm":""]),onClick:c,disabled:o.value<=0},(0,r.toDisplayString)(e.confirmText||"Á°ÆÂÆö"),11,zI)])])])):(0,r.createCommentVNode)("v-if",!0);var a}}});var RI=n(2119),$I={};$I.styleTagTransform=k(),$I.setAttributes=v(),$I.insert=h().bind(null,"head"),$I.domAPI=p(),$I.insertStyleElement=y(),u()(RI.A,$I),RI.A&&RI.A.locals&&RI.A.locals;const OI=(0,N.A)(PI,[["__scopeId","data-v-acfc5546"]]),LI={class:"inventory-content"},FI={class:"tabs-header"},jI={class:"tabs-nav"},UI=["onClick"],qI={key:0,class:"tools-section"},GI={class:"search-box"},HI=["placeholder"],YI={class:"filter-buttons"},WI={value:"all"},XI=["value"],JI={value:"default"},KI={value:"quality"},ZI={value:"name"},QI=["disabled","title"],eM={class:"tab-content"},tM={key:0,class:"items-tab"},nM={class:"confirm-header"},aM={class:"confirm-content"},rM={class:"confirm-actions"},oM={class:"modal-header"},iM={class:"modal-content"},sM={class:"item-type-text"},lM={class:"modal-info"},cM={class:"modal-meta"},dM={class:"modal-description"},uM={key:0,class:"modal-attributes"},mM={class:"attribute-text"},pM={key:1,class:"modal-attributes"},gM={class:"attribute-text"},hM={class:"modal-actions"},fM=["disabled"],vM=["disabled"],bM={class:"items-grid"},yM={key:0,class:"grid-placeholder"},xM={key:1,class:"grid-placeholder"},kM={key:0},wM={key:1},EM={key:2},NM={key:3},SM={key:4},_M={key:5,class:"filter-tip"},VM=["onClick"],CM={class:"item-top-section"},AM={class:"item-type-icon"},DM={key:0,class:"item-quantity-display"},TM={class:"item-name-section"},BM=["title"],IM={class:"item-bottom-section"},MM={class:"item-type-label"},zM={key:2,class:"item-details-sidebar"},PM={key:0,class:"details-content"},RM={class:"details-header"},$M={class:"item-type-text-large"},OM={class:"details-title-area"},LM={class:"details-meta"},FM={class:"details-body"},jM={class:"details-description"},UM={key:0,class:"details-attributes"},qM={class:"attribute-text"},GM={key:1,class:"details-attributes"},HM={class:"technique-skills"},YM={class:"skill-header"},WM={class:"skill-name"},XM={key:0,class:"skill-unlock-requirement"},JM={class:"skill-description"},KM={key:0,class:"skill-cost"},ZM={key:1,class:"details-attributes"},QM={class:"attribute-text"},ez={key:2,class:"details-attributes"},tz={class:"attribute-text"},nz={class:"details-actions"},az=["disabled"],rz=["disabled"],oz={key:1,class:"details-placeholder"},iz={key:1,class:"equipment-tab"},sz={class:"equipment-content"},lz={class:"equipment-grid"},cz={class:"slot-header"},dz={class:"slot-name"},uz={key:0,class:"slot-actions"},mz=["disabled","onClick","title"],pz={class:"item-type-text"},gz={class:"item-info"},hz=["title"],fz={class:"item-quality"},vz=["title"],bz={key:1,class:"item-effects"},yz={class:"effects-title"},xz={class:"effects-text"},kz={key:2,class:"item-effects"},wz={class:"effects-title"},Ez={class:"effects-text"},Nz={key:1,class:"empty-equipment-slot"},Sz={class:"empty-icon"},_z={class:"empty-text"},Vz={class:"empty-hint"},Cz={key:2,class:"currency-tab"},Az={class:"currency-grid"},Dz={class:"currency-card-top"},Tz={class:"currency-info"},Bz={class:"currency-amount"},Iz={class:"currency-label"},Mz={key:0,class:"currency-exchange"},zz=["onClick","disabled","title"],Pz=["onClick","disabled","title"],Rz=(0,r.defineComponent)({__name:"InventoryPanel",setup(e){const{t}=(0,K.s)(),a=(0,md.useCharacterStore)(),o=(0,Au.useGameStateStore)(),i=(0,Ry.useActionQueueStore)(),s=Ly.getInstance(),l=(0,se.isTavernEnv)(),c=(0,r.ref)(!1),d=(0,r.ref)(!1),u=(0,r.ref)(null),m=(0,r.ref)(""),p=(0,r.ref)("all"),g=(0,r.ref)("default"),h=(0,r.ref)("items"),f=(0,r.ref)(!1),v=(0,r.ref)(""),b=(0,r.ref)(""),y=(0,r.ref)(!1),x=(0,r.ref)(null),k=(0,r.ref)(""),w=(0,r.ref)(""),E=(0,r.ref)("use"),N=(0,r.ref)(""),S=(0,r.ref)(""),_=(0,r.ref)(null),V=(0,r.ref)(!1),C=(0,r.ref)(null),A=(0,r.ref)(!1),D=(0,r.ref)(!1),T=(0,r.computed)(()=>window.innerWidth<=768),B=(0,r.computed)(()=>[{id:"items",label:"Áâ©ÂìÅ",icon:Du},{id:"equipment",label:"Ë£ÖÂ§á",icon:pI},{id:"currency",label:"‰ø°Áî®ÁÇπ",icon:gI}]),I=(0,r.computed)(()=>{const e=o.equipment,n=["Ë£ÖÂ§á1","Ë£ÖÂ§á2","Ë£ÖÂ§á3","Ë£ÖÂ§á4","Ë£ÖÂ§á5","Ë£ÖÂ§á6"];return e?n.map(n=>{const a=e[n];let r=null;const i="string"==typeof a?a:"object"==typeof a&&null!==a&&"Áâ©ÂìÅID"in a?String(a.Áâ©ÂìÅID||""):"";if(i){const e=(o.inventory?.Áâ©ÂìÅ||{})[i];r=e&&"object"==typeof e?e:{Áâ©ÂìÅID:i,ÂêçÁß∞:"object"==typeof a&&null!==a&&"ÂêçÁß∞"in a?String(a.ÂêçÁß∞||i):i,Á±ªÂûã:"Ë£ÖÂ§á",ÂìÅË¥®:{quality:"Âá°",grade:1},ÊèèËø∞:"Ë£ÖÂ§áÊï∞ÊçÆÁº∫Â§±",Êï∞Èáè:1,Â∑≤Ë£ÖÂ§á:!0}}else r=null;return{name:t(n),slotKey:n,item:r}}):n.map(e=>({name:t(e),slotKey:e,item:null}))}),M=(0,r.computed)(()=>{const e=o.inventory?.Áâ©ÂìÅ||{};return Object.entries(e).filter(([e,t])=>!e.startsWith("_")&&t&&"object"==typeof t).map(([,e])=>{const n=e;return n.ÂìÅË¥®||"Á®ãÂ∫è"!==n.Á±ªÂûã&&"Ë£ÖÂ§á"!==n.Á±ªÂûã||console.warn(t("[ËÉåÂåÖÈù¢Êùø-Ë≠¶Âëä] Áâ©ÂìÅÁº∫Â∞ëÂìÅË¥®Êï∞ÊçÆ:"),{Áâ©ÂìÅID:n.Áâ©ÂìÅID,ÂêçÁß∞:n.ÂêçÁß∞,Á±ªÂûã:n.Á±ªÂûã,ÂÆåÊï¥Êï∞ÊçÆ:n}),{...n,Áâ©ÂìÅID:String(n.Áâ©ÂìÅID||""),ÂêçÁß∞:String(n.ÂêçÁß∞||""),Á±ªÂûã:String(n.Á±ªÂûã||"ÂÖ∂‰ªñ"),ÂìÅË¥®:n.ÂìÅË¥®||{quality:"Âá°",grade:1},ÊèèËø∞:String(n.ÊèèËø∞||""),Êï∞Èáè:Number(n.Êï∞Èáè||1)}}).filter(e=>e.ÂêçÁß∞&&e.Á±ªÂûã)}),z=(0,r.computed)(()=>["Ë£ÖÂ§á","Á®ãÂ∫è","ËçØÂâÇ","ÊùêÊñô","ÂÖ∂‰ªñ"]),P={Âá°:1,Âá°Èò∂:1,ÈªÑ:2,ÈªÑÈò∂:2,ÁéÑ:3,ÁéÑÈò∂:3,Âú∞:4,Âú∞Èò∂:4,Â§©:5,Â§©Èò∂:5,‰ªô:6,‰ªôÈò∂:6,Á•û:7,Á•ûÈò∂:7},R=(0,r.computed)(()=>{let e=[...M.value];const t=["Ë£ÖÂ§á","Á®ãÂ∫è","ËçØÂâÇ","ÊùêÊñô","ÂÖ∂‰ªñ"];if(e=e.map(e=>{const n=t.includes(e.Á±ªÂûã)?e.Á±ªÂûã:"ÂÖ∂‰ªñ";let a=e.ÂìÅË¥®;return a&&"object"==typeof a?(a.quality&&["Âá°","ÈªÑ","ÁéÑ","Âú∞","Â§©","‰ªô","Á•û"].includes(a.quality)||(a.quality="Âá°"),("number"!=typeof a.grade||a.grade<0||a.grade>10)&&(a.grade=1)):a={quality:"Âá°",grade:1},{...e,Á±ªÂûã:n,ÂìÅË¥®:a}}),m.value&&(e=e.filter(e=>e.ÂêçÁß∞.includes(m.value))),"all"!==p.value&&(e=e.filter(e=>e.Á±ªÂûã===p.value)),"quality"===g.value){const t=e=>P[String(e??"Âá°")]||0;e.sort((e,n)=>t(n.ÂìÅË¥®?.quality)-t(e.ÂìÅË¥®?.quality))}else"name"===g.value&&e.sort((e,t)=>e.ÂêçÁß∞.localeCompare(t.ÂêçÁß∞));return e}),$=e=>{if(!e||"object"!=typeof e)return"Êó†ÁâπÊÆäÂ±ûÊÄß";const t=[];for(const[n,a]of Object.entries(e))if(null!=a)if("object"!=typeof a||Array.isArray(a))t.push(`${n}+${a}`);else{const e=Object.entries(a).filter(([,e])=>"number"==typeof e||"string"==typeof e).map(([e,t])=>`${e}+${t}`).join("„ÄÅ");e&&t.push(`${n}(${e})`)}return t.length?t.join("„ÄÅ"):"Êó†ÁâπÊÆäÂ±ûÊÄß"},O=e=>"Á®ãÂ∫è"===e?"Ê®°Âùó":"ËçØÂâÇ"===e?"ËçØÂâÇ":e,L=e=>0===e?"ÊÆãÁº∫":e>=1&&e<=3?"ÊîπËâØÁ∫ß":e>=4&&e<=6?"Á≤æËâØÁ∫ß":e>=7&&e<=9?"È´òÁ∫ß":10===e?"È°∂Á∫ß":"Êú™Áü•",F=e=>0===e?"grade-broken":e>=1&&e<=3?"grade-low":e>=4&&e<=6?"grade-mid":e>=7&&e<=9?"grade-high":10===e?"grade-perfect":"grade-unknown",j=async e=>{if(!D.value)if("Á®ãÂ∫è"===e.Á±ªÂûã){D.value=!0;try{Q(e)?await s.stopTraining(e):await s.trainItem(e)}finally{D.value=!1}}else X.o.error(t("Âè™ÊúâÊ®°ÂùóÊâçËÉΩËÆ≠ÁªÉ"))},U=async e=>{if(e){if(Gw.Yz.log(t("ËÉåÂåÖÈù¢Êùø"),t("‰ΩøÁî®Áâ©ÂìÅ"),e.ÂêçÁß∞),e.Êï∞Èáè>1){x.value=e,k.value=t("‰ΩøÁî®Áâ©ÂìÅ"),w.value=t("‰ΩøÁî®Êï∞Èáè"),E.value="use",N.value=t("Á°ÆÂÆö‰ΩøÁî®");const n=["ËçØÂâÇ","ÊùêÊñô","ÂÖ∂‰ªñ"];return S.value=(n.includes(e.Á±ªÂûã)&&"‰ΩøÁî®ÊïàÊûú"in e?e.‰ΩøÁî®ÊïàÊûú:"")||t("ÊöÇÊó†ÁâπÊÆäÊïàÊûú"),_.value=t=>q(e,t),void(y.value=!0)}await q(e,1)}},q=async(e,n)=>{try{if(!["ËçØÂâÇ","ÊùêÊñô","ÂÖ∂‰ªñ"].includes(e.Á±ªÂûã))return void X.o.error(t("ËØ•Áâ©ÂìÅÊó†Ê≥ïÁõ¥Êé•‰ΩøÁî®"));await s.useItem(e,n),T.value&&(V.value=!1),u.value=null,Gw.Yz.log(t("ËÉåÂåÖÈù¢Êùø"),t("‰ΩøÁî®Áâ©ÂìÅÊàêÂäü"),e.ÂêçÁß∞)}catch(e){Gw.Yz.error(t("ËÉåÂåÖÈù¢Êùø"),t("‰ΩøÁî®Áâ©ÂìÅÂ§±Ë¥•"),e),X.o.error(t("‰ΩøÁî®Áâ©ÂìÅÂ§±Ë¥•"))}},G=async e=>{_.value&&await _.value(e),H()},H=()=>{y.value=!1,x.value=null,k.value="",w.value="",E.value="use",N.value="",S.value="",_.value=null},Y=async e=>{if(!e)return;if(e.Êï∞Èáè>1){const n=e.ÂìÅË¥®?.quality||"Âá°",a="Âá°"===n?"":`„Äê${t(n)}„Äë`;return x.value=e,k.value=t("‰∏¢ÂºÉÁâ©ÂìÅ"),w.value=t("‰∏¢ÂºÉÊï∞Èáè"),E.value="discard",N.value=t("Á°ÆÂÆö‰∏¢ÂºÉ"),S.value=`${a}${e.ÂêçÁß∞} - ${t("Ê≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ")}`,_.value=t=>W(e,t),void(y.value=!0)}const n=e.ÂìÅË¥®?.quality||"Âá°",a="Âá°"===n?"":`„Äê${t(n)}„Äë`;v.value=t("‰∏¢ÂºÉÁâ©ÂìÅ"),b.value=t("Á°ÆÂÆöË¶Å‰∏¢ÂºÉ {0}{1} ÂêóÔºü\n\nÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ").replace("{0}",a).replace("{1}",e.ÂêçÁß∞),C.value=async()=>{await W(e,1)},f.value=!0},W=async(e,n)=>{Gw.Yz.log(t("ËÉåÂåÖÈù¢Êùø"),t("‰∏¢ÂºÉÁâ©ÂìÅ"),{Áâ©ÂìÅÂêçÁß∞:e.ÂêçÁß∞,Êï∞Èáè:n});try{if(n>=e.Êï∞Èáè)await(async e=>{const n=o.inventory?.Áâ©ÂìÅ;if(!n||"object"!=typeof n)throw new Error(t("ËÉåÂåÖÊï∞ÊçÆ‰∏çÂ≠òÂú®ÊàñÊ†ºÂºè‰∏çÊ≠£Á°Æ"));delete n[e.Áâ©ÂìÅID],await a.saveCurrentGame(),Gw.Yz.log(t("ËÉåÂåÖÈù¢Êùø"),t("Áâ©ÂìÅÁßªÈô§ÊàêÂäü"),e.ÂêçÁß∞),u.value?.Áâ©ÂìÅID===e.Áâ©ÂìÅID&&(u.value=null),T.value&&(V.value=!1)})(e),X.o.success(t("Â∑≤‰∏¢ÂºÉ„Ää{0}„Äã").replace("{0}",e.ÂêçÁß∞));else{const r={...e,Êï∞Èáè:e.Êï∞Èáè-n};await(async e=>{const n=o.inventory?.Áâ©ÂìÅ;if(!n||"object"!=typeof n)throw new Error(t("ËÉåÂåÖÊï∞ÊçÆ‰∏çÂ≠òÂú®ÊàñÊ†ºÂºè‰∏çÊ≠£Á°Æ"));if(!n[e.Áâ©ÂìÅID])throw new Error(t("Â∞ùËØïÊõ¥Êñ∞‰∏Ä‰∏™‰∏çÂ≠òÂú®‰∫éËÉåÂåÖÁöÑÁâ©ÂìÅ: {0}").replace("{0}",e.ÂêçÁß∞));n[e.Áâ©ÂìÅID]=e,await a.saveCurrentGame(),Gw.Yz.log(t("ËÉåÂåÖÈù¢Êùø"),t("Áâ©ÂìÅÊõ¥Êñ∞ÊàêÂäü"),e.ÂêçÁß∞),u.value?.Áâ©ÂìÅID===e.Áâ©ÂìÅID&&(u.value=e)})(r),X.o.success(t("Â∑≤‰∏¢ÂºÉ {0} ‰∏™„Ää{1}„Äã").replace("{0}",n.toString()).replace("{1}",e.ÂêçÁß∞))}T.value&&(V.value=!1),u.value=null}catch(e){Gw.Yz.error(t("ËÉåÂåÖÈù¢Êùø"),t("‰∏¢ÂºÉÂ§±Ë¥•"),e),X.o.error(t("‰∏¢ÂºÉÁâ©ÂìÅÂ§±Ë¥•"))}},J=async e=>{if(e&&!A.value)if("Ë£ÖÂ§á"===e.Á±ªÂûã){A.value=!0;try{Z(e)?await s.unequipItem(e):await s.equipItem(e)}catch(e){console.error("Ë£ÖÂ§áÂàáÊç¢Â§±Ë¥•:",e),X.o.error(t("Ë£ÖÂ§áÊìç‰ΩúÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï"))}finally{A.value=!1}}else X.o.error(t("Âè™ÊúâË£ÖÂ§áÊâçËÉΩÁ©øÊà¥"))},Z=e=>{if(!e||!e.Áâ©ÂìÅID)return!1;const t=o.inventory?.Áâ©ÂìÅ;if(!t)return!1;const n=t[e.Áâ©ÂìÅID];return!!n&&!0===n.Â∑≤Ë£ÖÂ§á},Q=e=>{if(!e||!e.Áâ©ÂìÅID)return!1;const t=o.training?.ËÆ≠ÁªÉÁ®ãÂ∫è?.Áâ©ÂìÅID;return t===e.Áâ©ÂìÅID},ee=(e,t="border")=>{if(!e)return"";const n=(e=>{const t=String(e||"").trim();if(!t)return"Êú™Áü•";const n=t.endsWith("Èò∂")?t.slice(0,-1):t;return["Âá°","ÈªÑ","ÁéÑ","Âú∞","Â§©","‰ªô","Á•û"].includes(n)?n:"Êú™Áü•"})(e.ÂìÅË¥®?.quality);return"Êú™Áü•"===n?"":`${t}-quality-${n}`},te=[{name:"ÊúÄÈ´òÈ¢ù",colorClass:"grade-legend",canExchange:!1,canExchangeDown:!0,exchangeDown:"È´òÈ¢ù"},{name:"È´òÈ¢ù",colorClass:"grade-epic",canExchange:!0,canExchangeDown:!0,exchangeUp:"ÊúÄÈ´òÈ¢ù",exchangeDown:"‰∏≠È¢ù"},{name:"‰∏≠È¢ù",colorClass:"grade-rare",canExchange:!0,canExchangeDown:!0,exchangeUp:"È´òÈ¢ù",exchangeDown:"‰ΩéÈ¢ù"},{name:"‰ΩéÈ¢ù",colorClass:"grade-common",canExchange:!0,canExchangeDown:!1,exchangeUp:"‰∏≠È¢ù"}],ne=()=>{C.value&&C.value(),f.value=!1},ae=()=>{V.value=!1},re=async(e,t)=>{const n=te.find(t=>t.name===e);if(n)if("up"===t&&n.canExchange&&n.exchangeUp){const t=o.inventory?.‰ø°Áî®ÁÇπ?.[e]||0;if(t>=100&&o.inventory?.‰ø°Áî®ÁÇπ){o.inventory.‰ø°Áî®ÁÇπ[e]=t-100;const r=n.exchangeUp,i=o.inventory.‰ø°Áî®ÁÇπ[r]||0;o.inventory.‰ø°Áî®ÁÇπ[r]=i+1,await a.saveCurrentGame()}}else if("down"===t&&n.canExchangeDown&&n.exchangeDown){const t=o.inventory?.‰ø°Áî®ÁÇπ?.[e]||0;if(t>=1&&o.inventory?.‰ø°Áî®ÁÇπ){o.inventory.‰ø°Áî®ÁÇπ[e]=t-1;const r=n.exchangeDown,i=o.inventory.‰ø°Áî®ÁÇπ[r]||0;o.inventory.‰ø°Áî®ÁÇπ[r]=i+100,await a.saveCurrentGame()}}},oe=async()=>{if(!d.value){d.value=!0;try{Gw.Yz.log(t("ËÉåÂåÖÈù¢Êùø"),t("ÊâãÂä®Âà∑Êñ∞ÈÖíÈ¶ÜÊï∞ÊçÆ")),await a.reloadFromStorage()}catch(e){Gw.Yz.error(t("ËÉåÂåÖÈù¢Êùø"),t("Âà∑Êñ∞Êï∞ÊçÆÂ§±Ë¥•"),e)}finally{d.value=!1}}};return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createCommentVNode)(" ÁßªÈô§ÂÆπÂô®ÔºåËÆ©ÂÜÖÂÆπÁõ¥Êé•Â°´ÂÖÖGameViewÊèê‰æõÁöÑpanel-contentÂå∫Âüü "),(0,r.createElementVNode)("div",LI,[(0,r.createCommentVNode)(" Ê†áÁ≠æÈ°µÂØºËà™ "),(0,r.createElementVNode)("div",FI,[(0,r.createElementVNode)("div",jI,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(B.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.id,class:(0,r.normalizeClass)(["tab-btn",{active:h.value===e.id}]),onClick:t=>h.value=e.id},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.icon),{size:16})),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)(e.label)),1)],10,UI))),128))]),(0,r.createCommentVNode)(" ÊêúÁ¥¢ÂíåÁ≠õÈÄâÂå∫Âüü "),"items"===h.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",qI,[(0,r.createElementVNode)("div",GI,[(0,r.createVNode)((0,r.unref)(hI),{size:16,class:"search-icon"}),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),placeholder:T.value?(0,r.unref)(t)("ÊêúÁ¥¢..."):(0,r.unref)(t)("ÊêúÁ¥¢Áâ©ÂìÅ...")},null,8,HI),[[r.vModelText,m.value]])]),(0,r.createElementVNode)("div",YI,[(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>p.value=e),class:"filter-select"},[(0,r.createElementVNode)("option",WI,(0,r.toDisplayString)((0,r.unref)(t)("ÂÖ®ÈÉ®Áâ©ÂìÅ")),1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(z.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e,value:e},(0,r.toDisplayString)((0,r.unref)(t)(e)),9,XI))),128))],512),[[r.vModelSelect,p.value]]),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),class:"filter-select"},[(0,r.createElementVNode)("option",JI,(0,r.toDisplayString)((0,r.unref)(t)("ÈªòËÆ§ÊéíÂ∫è")),1),(0,r.createElementVNode)("option",KI,(0,r.toDisplayString)((0,r.unref)(t)("ÂìÅË¥®ÊéíÂ∫è")),1),(0,r.createElementVNode)("option",ZI,(0,r.toDisplayString)((0,r.unref)(t)("ÂêçÁß∞ÊéíÂ∫è")),1)],512),[[r.vModelSelect,g.value]]),(0,r.unref)(l)?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"refresh-btn",onClick:oe,disabled:d.value,title:(0,r.unref)(t)("‰ªéÈÖíÈ¶ÜÂêåÊ≠•ÊúÄÊñ∞Êï∞ÊçÆ")},[(0,r.createVNode)((0,r.unref)(Iy.A),{size:16,class:(0,r.normalizeClass)({spinning:d.value})},null,8,["class"])],8,QI)):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" Ê†áÁ≠æÂÜÖÂÆπ "),(0,r.createElementVNode)("div",eM,[(0,r.createCommentVNode)(" Áâ©ÂìÅÊ†áÁ≠æ "),"items"===h.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",tM,[(0,r.createCommentVNode)(" Ëá™ÂÆö‰πâÁ°ÆËÆ§ÂºπÁ™ó "),f.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"custom-confirm-overlay",onClick:a[6]||(a[6]=e=>f.value=!1)},[(0,r.createElementVNode)("div",{class:"custom-confirm-modal",onClick:a[5]||(a[5]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",nM,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(v.value),1),(0,r.createElementVNode)("button",{class:"confirm-close-btn",onClick:a[3]||(a[3]=e=>f.value=!1)},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:20})])]),(0,r.createElementVNode)("div",aM,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(b.value),1)]),(0,r.createElementVNode)("div",rM,[(0,r.createElementVNode)("button",{class:"confirm-btn cancel-btn",onClick:a[4]||(a[4]=e=>f.value=!1)},(0,r.toDisplayString)((0,r.unref)(t)("ÂèñÊ∂à")),1),(0,r.createElementVNode)("button",{class:"confirm-btn confirm-btn",onClick:ne},(0,r.toDisplayString)((0,r.unref)(t)("Á°ÆÂÆö")),1)])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÁßªÂä®Á´ØÔºöÊ®°ÊÄÅÊ°ÜËØ¶ÊÉÖ "),V.value&&T.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"item-modal-overlay",onClick:ae},[(0,r.createElementVNode)("div",{class:"item-modal",onClick:a[13]||(a[13]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",oM,[(0,r.createElementVNode)("h3",{class:(0,r.normalizeClass)(ee(u.value,"text"))},(0,r.toDisplayString)(u.value?.ÂêçÁß∞),3),(0,r.createElementVNode)("button",{class:"modal-close-btn",onClick:ae},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:20})])]),(0,r.createElementVNode)("div",iM,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["modal-icon-simple",ee(u.value)])},[(0,r.createElementVNode)("div",sM,(0,r.toDisplayString)(u.value?.Á±ªÂûã),1)],2),(0,r.createElementVNode)("div",lM,[(0,r.createElementVNode)("div",cM,[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t)(u.value?.Á±ªÂûã??"Êú™Áü•"))+" / "+(0,r.toDisplayString)(u.value?.ÂìÅË¥®?.quality?(0,r.unref)(t)(u.value.ÂìÅË¥®.quality):(0,r.unref)(t)("Êú™Áü•"))+" ",1),void 0!==u.value?.ÂìÅË¥®?.grade?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)(["grade-display",F(u.value.ÂìÅË¥®.grade)])},(0,r.toDisplayString)((0,r.unref)(t)(L(u.value.ÂìÅË¥®.grade)))+"("+(0,r.toDisplayString)(u.value.ÂìÅË¥®.grade)+") ",3)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("p",dM,(0,r.toDisplayString)(u.value?.ÊèèËø∞),1),"Ë£ÖÂ§á"===u.value?.Á±ªÂûã&&u.value?.Ë£ÖÂ§áÂ¢ûÂπÖ?((0,r.openBlock)(),(0,r.createElementBlock)("div",uM,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("Ë£ÖÂ§áÂ¢ûÂπÖ:")),1),(0,r.createElementVNode)("div",mM,(0,r.toDisplayString)("string"==typeof u.value.Ë£ÖÂ§áÂ¢ûÂπÖ?u.value.Ë£ÖÂ§áÂ¢ûÂπÖ:$(u.value.Ë£ÖÂ§áÂ¢ûÂπÖ)),1)])):(0,r.createCommentVNode)("v-if",!0),"Ë£ÖÂ§á"===u.value?.Á±ªÂûã&&u.value?.ÁâπÊÆäÊïàÊûú?((0,r.openBlock)(),(0,r.createElementBlock)("div",pM,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("ÁâπÊÆäÊïàÊûú:")),1),(0,r.createElementVNode)("div",gM,(0,r.toDisplayString)("string"==typeof u.value.ÁâπÊÆäÊïàÊûú?u.value.ÁâπÊÆäÊïàÊûú:$(u.value.ÁâπÊÆäÊïàÊûú)),1)])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createElementVNode)("div",hM,[(0,r.createCommentVNode)(" Ë£ÖÂ§áÔºöË£ÖÂ§áÂíå‰∏¢ÂºÉ "),"Ë£ÖÂ§á"===u.value?.Á±ªÂûã?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["action-btn",Z(u.value)?"unequip-btn":"equip-btn"]),disabled:A.value,onClick:a[7]||(a[7]=e=>J(u.value))},(0,r.toDisplayString)(Z(u.value)?(0,r.unref)(t)("Âç∏‰∏ã"):(0,r.unref)(t)("Ë£ÖÂ§á")),11,fM),(0,r.createElementVNode)("button",{class:"action-btn discard-btn",onClick:a[8]||(a[8]=e=>Y(u.value))},(0,r.toDisplayString)((0,r.unref)(t)("‰∏¢ÂºÉ")),1)],64)):"Á®ãÂ∫è"===u.value?.Á±ªÂûã?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(" Ê®°ÂùóÔºöËÆ≠ÁªÉÂíå‰∏¢ÂºÉ "),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["action-btn",Q(u.value)?"stop-train-btn":"train-btn"]),disabled:D.value,onClick:a[9]||(a[9]=e=>j(u.value))},(0,r.toDisplayString)(Q(u.value)?(0,r.unref)(t)("ÂÅúÊ≠¢ËÆ≠ÁªÉ"):(0,r.unref)(t)("ËÆ≠ÁªÉ")),11,vM),(0,r.createElementVNode)("button",{class:"action-btn discard-btn",onClick:a[10]||(a[10]=e=>Y(u.value))},(0,r.toDisplayString)((0,r.unref)(t)("‰∏¢ÂºÉ")),1)],64)):u.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createCommentVNode)(" ÂÖ∂‰ªñÁâ©ÂìÅÔºö‰ΩøÁî®Âíå‰∏¢ÂºÉ "),(0,r.createElementVNode)("button",{class:"action-btn use-btn",onClick:a[11]||(a[11]=e=>U(u.value))},(0,r.toDisplayString)((0,r.unref)(t)("‰ΩøÁî®")),1),(0,r.createElementVNode)("button",{class:"action-btn discard-btn",onClick:a[12]||(a[12]=e=>Y(u.value))},(0,r.toDisplayString)((0,r.unref)(t)("‰∏¢ÂºÉ")),1)],64)):(0,r.createCommentVNode)("v-if",!0)])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",bM,[c.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",yM,[a[20]||(a[20]=(0,r.createElementVNode)("div",{class:"loading-spinner"},null,-1)),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(t)("Âä†ËΩΩ‰∏≠...")),1)])):0===R.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",xM,[(0,r.createVNode)((0,r.unref)(fI),{size:48}),"all"===p.value?((0,r.openBlock)(),(0,r.createElementBlock)("p",kM,(0,r.toDisplayString)((0,r.unref)(t)("Á©∫Á©∫Â¶Ç‰πü")),1)):"Ë£ÖÂ§á"===p.value?((0,r.openBlock)(),(0,r.createElementBlock)("p",wM,(0,r.toDisplayString)((0,r.unref)(t)("ÊöÇÊó†Ë£ÖÂ§á")),1)):"Á®ãÂ∫è"===p.value?((0,r.openBlock)(),(0,r.createElementBlock)("p",EM,(0,r.toDisplayString)((0,r.unref)(t)("ÊöÇÊó†Ê®°Âùó")),1)):"ÂÖ∂‰ªñ"===p.value?((0,r.openBlock)(),(0,r.createElementBlock)("p",NM,(0,r.toDisplayString)((0,r.unref)(t)("ÊöÇÊó†ÂÖ∂‰ªñÁâ©ÂìÅ")),1)):((0,r.openBlock)(),(0,r.createElementBlock)("p",SM,(0,r.toDisplayString)((0,r.unref)(t)("ÊöÇÊó†{0}").replace("{0}",(0,r.unref)(t)(p.value))),1)),"all"!==p.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",_M,(0,r.toDisplayString)((0,r.unref)(t)("ÂèØ‰ª•ËØïËØïÊêúÁ¥¢ÂÖ∂‰ªñÂàÜÁ±ª")),1)):(0,r.createCommentVNode)("v-if",!0)])):((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:2},(0,r.renderList)(R.value,e=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.Áâ©ÂìÅID,class:(0,r.normalizeClass)(["item-card",ee(e,"card")]),onClick:t=>(e=>{u.value=e,T.value&&(V.value=!0)})(e)},[(0,r.createCommentVNode)(" Áâ©ÂìÅÂõæÊ†áÂíåÂìÅË¥® "),(0,r.createElementVNode)("div",CM,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["item-icon-area",ee(e,"border")])},[(0,r.createElementVNode)("div",AM,(0,r.toDisplayString)((n=e.Á±ªÂûã,{Ë£ÖÂ§á:"‚öîÔ∏è",Á®ãÂ∫è:"üìú",ËçØÂâÇ:"üíä",ÊùêÊñô:"üíé",ÂÖ∂‰ªñ:"üì¶"}[n]||"üì¶")),1),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["item-quality-badge",ee(e,"text")])},(0,r.toDisplayString)(e.ÂìÅË¥®?.quality?(0,r.unref)(t)(e.ÂìÅË¥®.quality):(0,r.unref)(t)("Êú™Áü•")),3)],2)]),(0,r.createCommentVNode)(" Êï∞ÈáèÊòæÁ§∫ "),e.Êï∞Èáè>1?((0,r.openBlock)(),(0,r.createElementBlock)("div",DM,"√ó"+(0,r.toDisplayString)(e.Êï∞Èáè),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Áâ©ÂìÅÂêçÁß∞ "),(0,r.createElementVNode)("div",TM,[(0,r.createElementVNode)("div",{class:"item-name",title:e.ÂêçÁß∞},(0,r.toDisplayString)(e.ÂêçÁß∞),9,BM)]),(0,r.createCommentVNode)(" Â∫ïÈÉ®‰ø°ÊÅØÔºöÁ±ªÂûãÂíåÂìÅÁ∫ß "),(0,r.createElementVNode)("div",IM,[(0,r.createElementVNode)("div",MM,(0,r.toDisplayString)((0,r.unref)(t)(O(e.Á±ªÂûã))),1),void 0!==e.ÂìÅË¥®?.grade?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(["item-grade-info",F(e.ÂìÅË¥®.grade)])},(0,r.toDisplayString)((0,r.unref)(t)(L(e.ÂìÅË¥®.grade)))+"("+(0,r.toDisplayString)(e.ÂìÅË¥®.grade)+") ",3)):(0,r.createCommentVNode)("v-if",!0)])],10,VM);var n}),128))]),(0,r.createCommentVNode)(" Ê°åÈù¢Á´ØÁâ©ÂìÅËØ¶ÊÉÖ‰æßËæπÊ†è "),T.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",zM,[u.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",PM,[(0,r.createElementVNode)("div",RM,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["details-icon-large",ee(u.value)])},[(0,r.createElementVNode)("div",$M,(0,r.toDisplayString)(O(u.value.Á±ªÂûã)),1)],2),(0,r.createElementVNode)("div",OM,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(u.value.ÂêçÁß∞),1),(0,r.createElementVNode)("div",LM,[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t)(O(u.value.Á±ªÂûã)))+" / "+(0,r.toDisplayString)(u.value.ÂìÅË¥®?.quality?(0,r.unref)(t)(u.value.ÂìÅË¥®.quality):(0,r.unref)(t)("Êú™Áü•"))+" ",1),void 0!==u.value.ÂìÅË¥®?.grade?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)(["grade-display",F(u.value.ÂìÅË¥®.grade)])},(0,r.toDisplayString)((0,r.unref)(t)(L(u.value.ÂìÅË¥®.grade)))+"("+(0,r.toDisplayString)(u.value.ÂìÅË¥®.grade)+") ",3)):(0,r.createCommentVNode)("v-if",!0)])])]),(0,r.createElementVNode)("div",FM,[(0,r.createElementVNode)("p",jM,(0,r.toDisplayString)(u.value.ÊèèËø∞),1),(0,r.createCommentVNode)(" Á®ãÂ∫èÁâπÊúâÂ±ûÊÄß "),"Á®ãÂ∫è"===u.value.Á±ªÂûã?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createCommentVNode)(" Á®ãÂ∫èÊïàÊûú "),u.value.Á®ãÂ∫èÊïàÊûú?((0,r.openBlock)(),(0,r.createElementBlock)("div",UM,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÊïàÊûú:")),1),(0,r.createElementVNode)("div",qM,(0,r.toDisplayString)("string"==typeof u.value.Á®ãÂ∫èÊïàÊûú?u.value.Á®ãÂ∫èÊïàÊûú:JSON.stringify(u.value.Á®ãÂ∫èÊïàÊûú)),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Á®ãÂ∫èÊäÄËÉΩ "),u.value.Á®ãÂ∫èÊäÄËÉΩ&&Array.isArray(u.value.Á®ãÂ∫èÊäÄËÉΩ)&&u.value.Á®ãÂ∫èÊäÄËÉΩ.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",GM,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÊäÄËÉΩ:")),1),(0,r.createElementVNode)("div",HM,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u.value.Á®ãÂ∫èÊäÄËÉΩ,(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:"skill-item"},[(0,r.createElementVNode)("div",YM,[(0,r.createElementVNode)("span",WM,(0,r.toDisplayString)(e.ÊäÄËÉΩÂêçÁß∞),1),e.Ëß£ÈîÅÈúÄË¶ÅÁÜüÁªÉÂ∫¶?((0,r.openBlock)(),(0,r.createElementBlock)("span",XM,(0,r.toDisplayString)((0,r.unref)(t)("ÈúÄË¶Å:"))+" "+(0,r.toDisplayString)(e.Ëß£ÈîÅÈúÄË¶ÅÁÜüÁªÉÂ∫¶)+"% ",1)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",JM,(0,r.toDisplayString)(e.ÊäÄËÉΩÊèèËø∞),1),e.Ê∂àËÄó?((0,r.openBlock)(),(0,r.createElementBlock)("div",KM,(0,r.toDisplayString)((0,r.unref)(t)("Ê∂àËÄó:"))+" "+(0,r.toDisplayString)(e.Ê∂àËÄó),1)):(0,r.createCommentVNode)("v-if",!0)]))),128))])])):(0,r.createCommentVNode)("v-if",!0)],64)):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Ë£ÖÂ§áË£ÖÂ§áÂ¢ûÂπÖ "),"Ë£ÖÂ§á"===u.value.Á±ªÂûã&&u.value.Ë£ÖÂ§áÂ¢ûÂπÖ?((0,r.openBlock)(),(0,r.createElementBlock)("div",ZM,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("Ë£ÖÂ§áÂ¢ûÂπÖ:")),1),(0,r.createElementVNode)("div",QM,(0,r.toDisplayString)("string"==typeof u.value.Ë£ÖÂ§áÂ¢ûÂπÖ?u.value.Ë£ÖÂ§áÂ¢ûÂπÖ:$(u.value.Ë£ÖÂ§áÂ¢ûÂπÖ)),1)])):(0,r.createCommentVNode)("v-if",!0),"Á®ãÂ∫è"!==u.value.Á±ªÂûã&&u.value.ÁâπÊÆäÊïàÊûú?((0,r.openBlock)(),(0,r.createElementBlock)("div",ez,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)((0,r.unref)(t)("ÁâπÊÆäÊïàÊûú:")),1),(0,r.createElementVNode)("div",tz,(0,r.toDisplayString)("string"==typeof u.value.ÁâπÊÆäÊïàÊûú?u.value.ÁâπÊÆäÊïàÊûú:$(u.value.ÁâπÊÆäÊïàÊûú)),1)])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",nz,[(0,r.createCommentVNode)(" Ë£ÖÂ§áÔºöË£ÖÂ§áÂíå‰∏¢ÂºÉ "),"Ë£ÖÂ§á"===u.value?.Á±ªÂûã?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)("button",{class:"action-btn",disabled:A.value,onClick:a[14]||(a[14]=e=>J(u.value))},(0,r.toDisplayString)(Z(u.value)?(0,r.unref)(t)("Âç∏‰∏ã"):(0,r.unref)(t)("Ë£ÖÂ§á")),9,az),(0,r.createElementVNode)("button",{class:"action-btn discard-btn",onClick:a[15]||(a[15]=e=>Y(u.value))},(0,r.toDisplayString)((0,r.unref)(t)("‰∏¢ÂºÉ")),1)],64)):"Á®ãÂ∫è"===u.value?.Á±ªÂûã?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(" Ê®°ÂùóÔºöËÆ≠ÁªÉÂíå‰∏¢ÂºÉ "),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["action-btn",Q(u.value)?"stop-train-btn":"train-btn"]),disabled:D.value,onClick:a[16]||(a[16]=e=>j(u.value))},(0,r.toDisplayString)(Q(u.value)?(0,r.unref)(t)("ÂÅúÊ≠¢ËÆ≠ÁªÉ"):(0,r.unref)(t)("ËÆ≠ÁªÉ")),11,rz),(0,r.createElementVNode)("button",{class:"action-btn discard-btn",onClick:a[17]||(a[17]=e=>Y(u.value))},(0,r.toDisplayString)((0,r.unref)(t)("‰∏¢ÂºÉ")),1)],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createCommentVNode)(" ÂÖ∂‰ªñÁâ©ÂìÅÔºö‰ΩøÁî®Âíå‰∏¢ÂºÉ "),(0,r.createElementVNode)("button",{class:"action-btn use-btn",onClick:a[18]||(a[18]=e=>U(u.value))},(0,r.toDisplayString)((0,r.unref)(t)("‰ΩøÁî®")),1),(0,r.createElementVNode)("button",{class:"action-btn discard-btn",onClick:a[19]||(a[19]=e=>Y(u.value))},(0,r.toDisplayString)((0,r.unref)(t)("‰∏¢ÂºÉ")),1)],64))])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",oz,[(0,r.createVNode)((0,r.unref)(fI),{size:48}),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(t)("ÈÄâÊã©Áâ©ÂìÅÊü•ÁúãËØ¶ÊÉÖ")),1)]))]))])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Ë£ÖÂ§áÊ†áÁ≠æ "),"equipment"===h.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",iz,[(0,r.createElementVNode)("div",sz,[(0,r.createElementVNode)("div",lz,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(I.value,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:a,class:(0,r.normalizeClass)(["equipment-slot",{"has-equipment":e.item,"empty-slot":!e.item}])},[(0,r.createElementVNode)("div",cz,[(0,r.createElementVNode)("div",dz,(0,r.toDisplayString)(e.name),1),e.item?((0,r.openBlock)(),(0,r.createElementBlock)("div",uz,[(0,r.createElementVNode)("button",{class:"action-btn unequip-btn",disabled:A.value,onClick:a=>(async e=>{if(A.value)return;if(!e.item)return;A.value=!0;const a=e.item;Gw.Yz.log(t("ËÉåÂåÖÈù¢Êùø"),t("Âç∏‰∏ãË£ÖÂ§á"),a.ÂêçÁß∞);try{if(!o.equipment)return void X.o.error(t("Ë£ÖÂ§áÊ†èÊï∞ÊçÆ‰∏çÂ≠òÂú®"));if(!o.inventory?.Áâ©ÂìÅ)return void X.o.error(t("ËÉåÂåÖÊï∞ÊçÆ‰∏çÂ≠òÂú®"));const r=o.toSaveData();if(!r)return void X.o.error(t("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®"));const s=r;s.ËßíËâ≤||(s.ËßíËâ≤={}),s.ËßíËâ≤.Ë£ÖÂ§á||(s.ËßíËâ≤.Ë£ÖÂ§á={Ë£ÖÂ§á1:null,Ë£ÖÂ§á2:null,Ë£ÖÂ§á3:null,Ë£ÖÂ§á4:null,Ë£ÖÂ§á5:null,Ë£ÖÂ§á6:null});const l=e.slotKey;s.ËßíËâ≤.Ë£ÖÂ§á[l]=null,s.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ?.[a.Áâ©ÂìÅID]&&(s.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ[a.Áâ©ÂìÅID].Â∑≤Ë£ÖÂ§á=!1);const{removeEquipmentBonus:c}=await Promise.resolve().then(n.bind(n,651));c(r,a.Áâ©ÂìÅID),o.loadFromSaveData(r),await o.saveGame(),i.addAction({type:"unequip",itemName:a.ÂêçÁß∞,itemType:a.Á±ªÂûã,description:t("Âç∏‰∏ã‰∫Ü„Ää{0}„ÄãË£ÖÂ§á").replace("{0}",a.ÂêçÁß∞)}),X.o.success(t("Â∑≤Âç∏‰∏ã„Ää{0}„Äã").replace("{0}",a.ÂêçÁß∞)),Gw.Yz.log(t("ËÉåÂåÖÈù¢Êùø"),t("Ë£ÖÂ§áÂç∏‰∏ãÊàêÂäü"),a.ÂêçÁß∞)}catch(e){Gw.Yz.error(t("ËÉåÂåÖÈù¢Êùø"),t("Âç∏‰∏ãË£ÖÂ§áÂ§±Ë¥•"),e),X.o.error(t("Âç∏‰∏ãË£ÖÂ§áÂ§±Ë¥•"))}finally{A.value=!1}})(e),title:(0,r.unref)(t)("Âç∏‰∏ãË£ÖÂ§á")},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:12})],8,mz)])):(0,r.createCommentVNode)("v-if",!0)]),e.item?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(["equipment-item",ee(e.item)])},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["item-icon",ee(e.item,"border")])},[(0,r.createElementVNode)("div",pz,(0,r.toDisplayString)((0,r.unref)(t)("Ë£ÖÂ§á")),1)],2),(0,r.createElementVNode)("div",gz,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["item-name",ee(e.item,"text")]),title:e.item.ÂêçÁß∞},(0,r.toDisplayString)(e.item.ÂêçÁß∞),11,hz),(0,r.createElementVNode)("div",fz,[(0,r.createTextVNode)((0,r.toDisplayString)(e.item.ÂìÅË¥®?.quality?(0,r.unref)(t)(e.item.ÂìÅË¥®.quality):"Ôºü")+(0,r.toDisplayString)((0,r.unref)(t)("ÂìÅ"))+" ",1),void 0!==e.item.ÂìÅË¥®?.grade?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)(["item-grade",F(e.item.ÂìÅË¥®.grade)])},(0,r.toDisplayString)((0,r.unref)(t)(L(e.item.ÂìÅË¥®.grade)))+"("+(0,r.toDisplayString)(e.item.ÂìÅË¥®.grade)+") ",3)):(0,r.createCommentVNode)("v-if",!0)]),e.item.ÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"item-description",title:e.item.ÊèèËø∞},(0,r.toDisplayString)(e.item.ÊèèËø∞),9,vz)):(0,r.createCommentVNode)("v-if",!0),"Ë£ÖÂ§á"===e.item.Á±ªÂûã&&e.item.Ë£ÖÂ§áÂ¢ûÂπÖ?((0,r.openBlock)(),(0,r.createElementBlock)("div",bz,[(0,r.createElementVNode)("div",yz,(0,r.toDisplayString)((0,r.unref)(t)("Â¢ûÂπÖÊïàÊûúÔºö")),1),(0,r.createElementVNode)("div",xz,(0,r.toDisplayString)("string"==typeof e.item.Ë£ÖÂ§áÂ¢ûÂπÖ?e.item.Ë£ÖÂ§áÂ¢ûÂπÖ:$(e.item.Ë£ÖÂ§áÂ¢ûÂπÖ)),1)])):(0,r.createCommentVNode)("v-if",!0),"Ë£ÖÂ§á"===e.item.Á±ªÂûã&&e.item.ÁâπÊÆäÊïàÊûú?((0,r.openBlock)(),(0,r.createElementBlock)("div",kz,[(0,r.createElementVNode)("div",wz,(0,r.toDisplayString)((0,r.unref)(t)("ÁâπÊÆäÊïàÊûúÔºö")),1),(0,r.createElementVNode)("div",Ez,(0,r.toDisplayString)("string"==typeof e.item.ÁâπÊÆäÊïàÊûú?e.item.ÁâπÊÆäÊïàÊûú:$(e.item.ÁâπÊÆäÊïàÊûú)),1)])):(0,r.createCommentVNode)("v-if",!0)])],2)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Nz,[(0,r.createElementVNode)("div",Sz,[(0,r.createVNode)((0,r.unref)(Du),{size:24})]),(0,r.createElementVNode)("div",_z,(0,r.toDisplayString)((0,r.unref)(t)("Á©∫ÊßΩ‰Ωç")),1),(0,r.createElementVNode)("div",Vz,(0,r.toDisplayString)((0,r.unref)(t)("ÂèØË£ÖÂ§áË£ÖÂ§á")),1)]))],2))),128))])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ‰ø°Áî®ÁÇπÊ†áÁ≠æ "),"currency"===h.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Cz,[(0,r.createElementVNode)("div",Az,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(te,e=>(0,r.createElementVNode)("div",{key:e.name,class:(0,r.normalizeClass)(["currency-card",e.colorClass])},[(0,r.createElementVNode)("div",Dz,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["currency-icon",`icon-${e.colorClass}`])},[(0,r.createVNode)((0,r.unref)(gI),{size:T.value?32:40},null,8,["size"])],2),(0,r.createElementVNode)("div",Tz,[(0,r.createElementVNode)("div",Bz,(0,r.toDisplayString)((0,r.unref)(o).inventory?.‰ø°Áî®ÁÇπ?.[e.name]||0),1),(0,r.createElementVNode)("div",Iz,(0,r.toDisplayString)((0,r.unref)(t)(e.name))+(0,r.toDisplayString)((0,r.unref)(t)("‰ø°Áî®ÁÇπ")),1)])]),e.canExchange||e.canExchangeDown?((0,r.openBlock)(),(0,r.createElementBlock)("div",Mz,[e.canExchange?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"exchange-btn",onClick:t=>re(e.name,"up"),disabled:((0,r.unref)(o).inventory?.‰ø°Áî®ÁÇπ?.[e.name]||0)<100,title:(0,r.unref)(t)("ÂÖëÊç¢‰∏∫{0}‰ø°Áî®ÁÇπ (100:1)").replace("{0}",(0,r.unref)(t)(e.exchangeUp))},(0,r.toDisplayString)((0,r.unref)(t)("‚Üë ÂÖëÊç¢")),9,zz)):(0,r.createCommentVNode)("v-if",!0),e.canExchangeDown?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"exchange-btn down",onClick:t=>re(e.name,"down"),disabled:((0,r.unref)(o).inventory?.‰ø°Áî®ÁÇπ?.[e.name]||0)<1,title:(0,r.unref)(t)("ÂàÜËß£‰∏∫{0}‰ø°Áî®ÁÇπ (1:100)").replace("{0}",(0,r.unref)(t)(e.exchangeDown))},(0,r.toDisplayString)((0,r.unref)(t)("‚Üì ÂàÜËß£")),9,Pz)):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0)],2)),64))])])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createCommentVNode)(" Êï∞ÈáèÈÄâÊã©ÂºπÁ™ó "),(0,r.createVNode)(OI,{visible:y.value,item:x.value,title:k.value,"action-label":w.value,"action-type":E.value,"confirm-text":N.value,description:S.value,onClose:H,onConfirm:G},null,8,["visible","item","title","action-label","action-type","confirm-text","description"])],64))}});var $z=n(7003),Oz={};Oz.styleTagTransform=k(),Oz.setAttributes=v(),Oz.insert=h().bind(null,"head"),Oz.domAPI=p(),Oz.insertStyleElement=y(),u()($z.A,Oz),$z.A&&$z.A.locals&&$z.A.locals;const Lz=(0,N.A)(Rz,[["__scopeId","data-v-4733f562"]]),Fz=(0,_.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),jz=(0,_.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Uz=(0,_.A)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),qz=e=>"",Gz=e=>"string"==typeof e?e:"",Hz={class:"relationship-network-panel"},Yz={class:"panel-content"},Wz={class:"relationship-list"},Xz={class:"list-header"},Jz={class:"search-bar"},Kz={class:"list-content"},Zz={key:0,class:"loading-state"},Qz={key:1,class:"empty-state"},eP={class:"empty-text"},tP={key:0,class:"empty-hint"},nP={key:1,class:"empty-hint"},aP={key:2,class:"person-list"},rP=["onClick"],oP={class:"person-avatar"},iP={class:"avatar-text"},sP={class:"person-info"},lP={class:"person-name"},cP={class:"person-meta"},dP={class:"relationship-type"},uP=["onClick","title"],mP=["onClick"],pP={key:0,class:"person-realm"},gP={class:"realm-value"},hP={class:"intimacy-info"},fP={class:"intimacy-bar"},vP={class:"intimacy-value"},bP={class:"relationship-detail"},yP={class:"detail-header"},xP={class:"detail-avatar"},kP={class:"avatar-text"},wP={class:"detail-info"},EP={class:"name-and-actions"},NP={class:"detail-name"},SP={class:"action-buttons"},_P={class:"detail-badges"},VP={class:"relationship-badge"},CP={class:"race-badge"},AP={key:0,class:"faction-badge"},DP={class:"detail-body"},TP={class:"detail-tabs"},BP=["onClick"],IP={class:"tab-content"},MP={class:"tab-panel"},zP={class:"detail-section"},PP={class:"info-grid-responsive"},RP={class:"info-item-row"},$P={class:"info-value"},OP={class:"info-item-row"},LP={class:"info-value"},FP={class:"info-item-row"},jP={class:"info-value"},UP={class:"info-item-row"},qP={class:"info-value"},GP={key:0,class:"info-item-row"},HP={class:"info-value"},YP={key:1,class:"info-item-row"},WP={class:"info-value"},XP={key:0,class:"detail-section"},JP={key:0,class:"appearance-description"},KP={class:"description-text"},ZP={key:1,class:"talents-grid",style:{"margin-top":"1rem"}},QP={key:1,class:"detail-section"},eR={key:0},tR={class:"talents-grid"},nR=["onClick"],aR={key:1,style:{"margin-top":"1rem"}},rR={class:"attributes-grid"},oR={class:"attribute-item"},iR={class:"attr-value"},sR={class:"attribute-item"},lR={class:"attr-value"},cR={class:"attribute-item"},dR={class:"attr-value"},uR={class:"attribute-item"},mR={class:"attr-value"},pR={class:"attribute-item"},gR={class:"attr-value"},hR={class:"attribute-item"},fR={class:"attr-value"},vR={key:2,class:"detail-section"},bR={class:"npc-memories-list"},yR={class:"npc-memory-content"},xR={class:"detail-section personality-section"},kR={class:"personality-bottomlines"},wR={key:0,class:"bottomline-tags"},ER={key:1,class:"bottomline-empty"},NR={class:"tab-panel"},SR={class:"detail-section highlight-section"},_R={class:"realtime-status"},VR={class:"status-item"},CR={class:"status-content"},AR={class:"status-text"},DR={class:"status-item"},TR={class:"status-content"},BR={class:"status-text"},IR={key:0,class:"tab-panel"},MR={class:"detail-section nsfw-section"},zR={key:0,class:"bottomline-empty"},PR={key:1},RR={class:"nsfw-subsection"},$R={class:"info-grid-responsive"},OR={class:"info-item-row"},LR={class:"info-value"},FR={class:"info-item-row"},jR={class:"info-value"},UR={class:"info-item-row"},qR={class:"info-value"},GR={class:"info-item-row"},HR={class:"info-value"},YR={class:"info-item-row"},WR={class:"info-value"},XR={class:"info-item-row"},JR={class:"info-value"},KR={class:"development-bars",style:{"margin-top":"0.75rem"}},ZR={class:"dev-bar-item"},QR={class:"dev-bar-header"},e$={class:"dev-value"},t$={class:"dev-bar-track"},n$={key:0,class:"last-time-info"},a$={class:"last-time-value"},r$={key:0,class:"nsfw-subsection"},o$={key:0,class:"bottomline-tags"},i$={key:1,class:"bottomline-tags",style:{"margin-top":"0.5rem"}},s$={key:1,class:"nsfw-subsection"},l$={class:"bottomline-tags partner-list"},c$={key:2,class:"nsfw-subsection"},d$={class:"body-parts-list"},u$={class:"part-header"},m$={class:"part-name"},p$={key:0,class:"part-mark"},g$={key:0,class:"part-description"},h$={class:"part-stats"},f$={class:"part-stat"},v$={class:"stat-bar-mini"},b$={class:"stat-value"},y$={class:"part-stat"},x$={class:"stat-bar-mini"},k$={class:"stat-value"},w$={key:2,class:"bottomline-empty"},E$={class:"tab-panel"},N$={key:0,class:"detail-section"},S$={class:"memory-header"},_$={class:"memory-actions-header"},V$={class:"memory-count"},C$={class:"memory-controls-group"},A$={key:0,class:"summarize-controls"},D$=["max"],T$=["disabled"],B$={class:"memory-list"},I$={class:"memory-content"},M$={key:0,class:"memory-time"},z$={class:"memory-event"},P$={class:"memory-actions"},R$=["onClick"],$$=["onClick"],O$={key:0,class:"memory-pagination"},L$=["disabled"],F$={class:"pagination-controls"},j$={class:"pagination-info"},U$={class:"jump-to-page"},q$=["max"],G$=["disabled"],H$={key:1,class:"detail-section memory-summary-section"},Y$={class:"memory-summary-list"},W$={class:"summary-text"},X$={key:2,class:"detail-section"},J$={class:"empty-state-small"},K$={class:"tab-panel"},Z$={class:"detail-section"},Q$={key:0,class:"spirit-stones-grid"},eO={class:"spirit-stone-item"},tO={class:"spirit-stone-item"},nO={class:"spirit-stone-item"},aO={class:"spirit-stone-item"},rO={class:"npc-inventory",style:{"margin-top":"1rem"}},oO={key:0,class:"npc-items-grid"},iO={class:"item-header"},sO={class:"item-name"},lO={class:"item-type"},cO={key:0,class:"item-quality"},dO={class:"quality-text"},uO={key:1,class:"item-quantity"},mO={key:2,class:"item-description"},pO={class:"item-actions"},gO=["onClick"],hO=["onClick"],fO=["onClick"],vO={key:1,class:"empty-inventory"},bO={class:"tab-panel"},yO={class:"detail-section"},xO={class:"raw-data-container"},kO={key:1,class:"no-selection"},wO=(0,r.defineComponent)({__name:"RelationshipNetworkPanel",setup(e){function t(e){const t="number"==typeof e&&Number.isFinite(e)?e:0;return Math.max(0,Math.min(100,t))}function a(e){if("string"!=typeof e)return null;return e.trim()||null}function o(e){const t=e=>{const t=new Set;return e.filter(e=>!t.has(e)&&(t.add(e),!0))};if(Array.isArray(e))return t(e.map(e=>"string"==typeof e?e.trim():"").filter(Boolean));const n=a(e);return n?/[„ÄÅ,Ôºå;Ôºõ\n]/.test(n)?t(n.split(/[„ÄÅ,Ôºå;Ôºõ\n]/).map(e=>e.trim()).filter(Boolean)):[n]:[]}const i=(0,Au.useGameStateStore)(),s=(0,r.ref)((0,se.isTavernEnv)());(0,r.onMounted)(()=>{s.value=(0,se.isTavernEnv)()}),(0,r.onActivated)(()=>{s.value=(0,se.isTavernEnv)()});const{t:l}=(0,K.s)(),c=(0,r.computed)(()=>i.getCurrentSaveData()),d=(0,Ry.useActionQueueStore)(),u=(0,A.useUIStore)(),m=(0,md.useCharacterStore)(),p=(0,r.ref)(!1),g=(0,r.ref)(null),h=(0,r.ref)(""),f=(0,r.ref)(!1),v=(0,r.computed)(()=>g.value?.ÁßÅÂØÜ‰ø°ÊÅØ??null),b=(0,r.computed)(()=>a(v.value?.ÊúÄËøë‰∏ÄÊ¨°ÊÄßË°å‰∏∫Êó∂Èó¥)??""),y=(0,r.computed)(()=>o(v.value?.ÊÄßÁôñÂ•Ω)),x=(0,r.computed)(()=>o(v.value?.ÁâπÊÆä‰ΩìË¥®)),k=(0,r.ref)(!1),w=(0,r.computed)(()=>o(v.value?.ÊÄß‰º¥‰æ£ÂêçÂçï)),E=(0,r.computed)(()=>k.value?w.value:w.value.slice(0,10)),N=(0,r.ref)(!1),S=(0,r.computed)(()=>function(e){if(Array.isArray(e)){const t=e.filter(e=>"object"==typeof e&&null!==e),n=new Set;return t.filter((e,t)=>{const r=a(e.ÈÉ®‰ΩçÂêçÁß∞)??`__index_${t}`;return!n.has(r)&&(n.add(r),!0)})}if("object"==typeof e&&null!==e){const t=Object.values(e).filter(e=>"object"==typeof e&&null!==e),n=new Set;return t.filter((e,t)=>{const r=a(e.ÈÉ®‰ΩçÂêçÁß∞)??`__index_${t}`;return!n.has(r)&&(n.add(r),!0)})}return[]}(v.value?.Ë∫´‰ΩìÈÉ®‰Ωç)),_=(0,r.computed)(()=>N.value?S.value:S.value.slice(0,6)),V=(0,r.computed)(()=>{try{const e=localStorage.getItem("dad_game_settings");return!e||!1!==JSON.parse(e).enableNsfwMode}catch{return!0}}),C=(0,r.ref)("basic"),D=(0,r.computed)(()=>{const e=[{id:"basic",label:"Âü∫Êú¨‰ø°ÊÅØ",icon:"üìã"},{id:"status",label:"ÂÆûÊó∂Áä∂ÊÄÅ",icon:"üí≠"}];return s.value&&e.push({id:"nsfw",label:"ÁßÅÂØÜ‰ø°ÊÅØ",icon:"üîû"}),e.push({id:"memory",label:"ËÆ∞ÂøÜÊ°£Ê°à",icon:"üìù"}),e.push({id:"inventory",label:"ËÉåÂåÖ",icon:"üéí"}),e.push({id:"raw",label:"ÂéüÂßãÊï∞ÊçÆ(JSON)",icon:"üîß"}),e}),T=(0,r.ref)(!1),B=(0,r.ref)(10),I=(0,r.ref)(5),M=(0,r.ref)(1),z=(0,r.ref)(null),P=(0,r.computed)(()=>{if(!g.value?.ËÆ∞ÂøÜ?.length)return[];const e=g.value.ËÆ∞ÂøÜ,t=(M.value-1)*I.value,n=t+I.value;return e.slice(t,n)}),R=(0,r.computed)(()=>g.value?.ËÆ∞ÂøÜ?.length?Math.ceil(g.value.ËÆ∞ÂøÜ.length/I.value):0),$=e=>{e>=1&&e<=R.value&&(M.value=e)},O=()=>{z.value&&z.value>=1&&z.value<=R.value&&(M.value=z.value,z.value=null)},L=()=>{M.value=1},F=e=>{const t=e.Èò∂‰Ωç;if(!t)return"Êú™Áü•";if("object"==typeof t&&null!==t){const e=t.ÂêçÁß∞||"",n=t.Èò∂ÊÆµ||"";if(e)return n?`${e}${n}`:e}return"string"==typeof t?t:"Êú™Áü•"},j=e=>G(e.ÊîπÈÄ†Ê†∏ÂøÉ),U=e=>e?"string"==typeof e?e:"object"==typeof e&&(e.ÊèèËø∞||e.description||e.ÂêçÁß∞||e.name)||"Êú™Áü•":"Êú™Áü•",q=e=>e.ËÆ∞ÂøÜ&&Array.isArray(e.ËÆ∞ÂøÜ)?e.ËÆ∞ÂøÜ.slice(-3).reverse().map(e=>"string"==typeof e?e:"object"==typeof e&&e.‰∫ã‰ª∂?e.‰∫ã‰ª∂:"").filter(e=>e.length>0):[],G=e=>{if(!e)return"Êú™Áü•";if("string"==typeof e)return e;if("object"==typeof e){const t=e,n=t.name||t.ÂêçÁß∞,a=(e=>{if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){const t=e,n=t.quality??t.ÂìÅË¥®??t.ÂìÅÁ∫ß??t.quality_name??t.name??t.ÂêçÁß∞,a=t.grade??t.Èò∂??t.Á≠âÁ∫ß??t.level,r="string"==typeof n?n.trim():"",o=r?r.replace(/\d+/g,"").replace(/[Èò∂ÂìÅÁ∫ß]/g,"").trim():"",i="number"==typeof a||"string"==typeof a?String(a).trim():"";if(o)return`${o.endsWith("ÂìÅÁ∫ß")?o:`${o}ÂìÅË¥®`}${i?`${i}Èò∂`:""}`.trim()}return""})(t.tier??t.ÂìÅÁ∫ß??t.quality??t.grade);if(n&&a)return`${n}(${a})`;if(n)return`${n}(Êú™Áü•ÂìÅÁ∫ß)`;if(a)return a}return"Ê†ºÂºèÈîôËØØ"},H=e=>{const t=c.value?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥;if(!e||!e.Âá∫ÁîüÊó•Êúü||!t)return"Êú™Áü•";const n=e.Âá∫ÁîüÊó•Êúü.Âπ¥,a=t.Âπ¥-n;return a>0?`${a}Â≤Å`:"1Â≤Å‰ª•ÂÜÖ"},Y=(0,r.computed)(()=>{const e=c.value?.Á§æ‰∫§?.ÂÖ≥Á≥ª;if(!e||"object"!=typeof e)return{total:0,valid:0,invalid:0,list:[]};const t=Object.entries(e).filter(([e])=>!e.startsWith("_")),n=t.length,a=[];let r=0;for(const[e,n]of t){if(!n||"object"!=typeof n){r+=1;continue}const t=n,o="string"==typeof t.ÂêçÂ≠ó?t.ÂêçÂ≠ó.trim():"",i="string"==typeof e?e.trim():"",s=o||i;s?a.push({...t,ÂêçÂ≠ó:s}):r+=1}return{total:n,valid:a.length,invalid:r,list:a}}),W=(0,r.computed)(()=>Y.value.list),X=(0,r.computed)(()=>{let e=[...W.value];if(h.value.trim()){const t=h.value.toLowerCase();e=e.filter(e=>e.ÂêçÂ≠ó.toLowerCase().includes(t)||(e.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª||"").toLowerCase().includes(t))}return e.sort((e,t)=>(t.Â•ΩÊÑüÂ∫¶||0)-(e.Â•ΩÊÑüÂ∫¶||0))}),J=e=>`intimacy-${(e=>{const t=e||0;return t>=80?"high":t>=60?"good":t>=40?"medium":t>=20?"low":t>=0?"neutral":t>=-20?"dislike":t>=-40?"hostile":"enemy"})(e)}`;(0,r.watch)(g,e=>{e&&L()}),(0,r.onMounted)(async()=>{console.log("[‰∫∫ËÑâÁ≥ªÁªü] ‰∫∫Áâ©ÂÖ≥Á≥ªÈù¢ÊùøÂ∑≤ËΩΩÂÖ•ÔºåÂºÄÂßãÂêåÊ≠•Êï∞ÊçÆ"),p.value=!0;try{X.value.length>0&&(g.value=X.value[0])}catch(e){console.error("[‰∫∫ËÑâÁ≥ªÁªü] ÂêåÊ≠•Êï∞ÊçÆÂ§±Ë¥•:",e),u.showToast("‰∫∫ËÑâÊï∞ÊçÆÂêåÊ≠•Â§±Ë¥•",{type:"error"})}finally{p.value=!1}});const Z=e=>{const t=c.value?.Á§æ‰∫§?.ÂÖ≥Á≥ª;return t&&Object.keys(t).find(n=>t[n]?.ÂêçÂ≠ó===e)||null},Q=e=>{const t=e.ËÉåÂåÖ?.Áâ©ÂìÅ;return!!t&&Object.keys(t).length>0},ee=e=>e.ÂÆûÊó∂ÂÖ≥Ê≥®||!1,te=async()=>{if(!g.value)return;const e=g.value.ÂêçÂ≠ó;T.value=!0;try{const t=g.value.ËÆ∞ÂøÜ||[];if(t.length<3)return void u.showToast("Ëá≥Â∞ëÈúÄË¶Å3Êù°ËÆ∞ÂøÜÊâçËÉΩËøõË°åÊÄªÁªì",{type:"warning"});const a=Math.min(Math.max(3,B.value||10),t.length),r=t.slice(0,a),o=t.slice(a),s=r.map((e,t)=>`${t+1}. ${e}`).join("\n"),l=function(e){if(!e)return{};const t=(0,Ku.cloneDeep)(e);return t.Á≥ªÁªü?.ÂéÜÂè≤?.Âèô‰∫ã&&delete t.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã,t.Á§æ‰∫§?.ËÆ∞ÂøÜ&&(delete t.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ,delete t.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ),t}(i.toSaveData()),c=JSON.stringify(l,null,2),d=`ËøôÊòØ‰∏Ä‰∏™Á∫ØÁ≤πÁöÑÊñáÊú¨ÊÄªÁªì‰ªªÂä°Ôºå‰∏çÊòØÊ∏∏ÊàèÂØπËØù„ÄÇËØ∑‰∏•Ê†ºÊåâÁÖß‰ª•‰∏ãËÆ∞ÂøÜÂÜÖÂÆπËøõË°åÊÄªÁªìÔºå‰∏çË¶ÅÁºñÈÄ†Êñ∞ÂÜÖÂÆπ„ÄÇ\n\n„ÄêÂæÖÊÄªÁªìÁöÑËÆ∞ÂøÜÂÜÖÂÆπ„ÄëÔºö\n${s}\n\nÁé∞Âú®ËØ∑‰∏•Ê†ºÊ†πÊçÆ‰∏äËø∞ËÆ∞ÂøÜÂÜÖÂÆπËøõË°åÊÄªÁªìÔºå‰∏çË¶ÅÂÅèÁ¶ª„ÄÇÊ∏∏ÊàèÂ≠òÊ°£Êï∞ÊçÆ‰ªÖ‰æõÂèÇËÄÉÔºåÂ∏ÆÂä©‰Ω†ÁêÜËß£ËÉåÊôØ„ÄÇ`;u.showToast("Ê≠£Âú®Ë∞ÉÁî®AIÊÄªÁªìËÆ∞ÂøÜ...",{type:"info"});const m=(await Promise.resolve().then(n.bind(n,8651))).getTavernHelper();if(!m)throw new Error("TavernHelper Êú™ÂàùÂßãÂåñ");let p,h,f=!0,v=!1;try{const e=localStorage.getItem("memory-settings");if(e){const t=JSON.parse(e);f=!1!==t.useRawMode,v=!0===t.useStreaming}}catch(e){console.warn("[NPCËÆ∞ÂøÜÊÄªÁªì] ËØªÂèñÈÖçÁΩÆÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÂÄº:",e)}if(console.log(`[NPCËÆ∞ÂøÜÊÄªÁªì] ${e} - Ê®°Âºè: ${f?"RawÊ®°ÂºèÔºàÁ∫ØÂáÄÊÄªÁªìÔºâ":"Ê†áÂáÜÊ®°ÂºèÔºàÊé®ËçêÔºâ"}, ‰º†Ëæì: ${v?"ÊµÅÂºè":"ÈùûÊµÅÂºè"}`),f){const t=await m.generateRaw({ordered_prompts:[{role:"system",content:`‰Ω†ÊòØ${e}ÁöÑËÆ∞ÂøÜÊÄªÁªìÂä©Êâã„ÄÇËøôÊòØ‰∏Ä‰∏™Á∫ØÊñáÊú¨ÊÄªÁªì‰ªªÂä°Ôºå‰∏çÊòØÊ∏∏ÊàèÂØπËØùÊàñÊïÖ‰∫ãÁª≠ÂÜô„ÄÇ`},{role:"system",content:`„ÄêÊ∏∏ÊàèÂ≠òÊ°£Êï∞ÊçÆ„ÄëÔºà‰æõÂèÇËÄÉÔºâÔºö\n${c}`},{role:"system",content:"„ÄêÂÖ≥ÈîÆÁ∫¶Êùü„ÄëÔºö\n1. Ëøô‰∏çÊòØÊ∏∏ÊàèÊé®ËøõÔºå‰∏çË¶ÅÁîüÊàêÊñ∞ÂâßÊÉÖ\n2. Ëøô‰∏çÊòØÂØπËØù‰ªªÂä°Ôºå‰∏çË¶ÅÁîüÊàêËßíËâ≤ÂØπËØù\n3. Âè™ÊÄªÁªìÁî®Êà∑Êèê‰æõÁöÑËÆ∞ÂøÜÂÜÖÂÆπÔºå‰∏çË¶ÅÁºñÈÄ†\n4. ÂøÖÈ°ª‰∏•Ê†ºÂü∫‰∫éÂéüÊñáÔºå‰∏çË¶ÅÊ∑ªÂä†ÂéüÊñáÊ≤°ÊúâÁöÑÂÜÖÂÆπ"},{role:"system",content:'„ÄêËæìÂá∫Ê†ºÂºè„ÄëÔºö\n```json\n{"text": "ÊÄªÁªìÂÜÖÂÆπ"}\n```'},{role:"system",content:`„ÄêÊÄªÁªìË¶ÅÊ±Ç„ÄëÔºö\n- Á¨¨‰∏Ä‰∫∫Áß∞"Êàë"Ôºà${e}ÁöÑËßÜËßíÔºâ\n- 150-250Â≠ó\n- ËøûË¥ØÁöÑËµõÂçöÊúãÂÖãÁ∫™ÂÆûÂèôËø∞È£éÊ†º\n- ‰ªÖËæìÂá∫JSONÔºå‰∏çË¶Åthinking/commands/options`},{role:"system",content:"„ÄêÂøÖÈ°ª‰øùÁïô„ÄëÔºö\n- ÂéüÊñá‰∏≠ÁöÑ‰∫∫ÂêçÔºàÁâπÂà´ÊòØÁé©ÂÆ∂ÂêçÂ≠óÔºâ\n- ÂéüÊñá‰∏≠ÁöÑÂú∞Âêç\n- ÂéüÊñá‰∏≠ÁöÑ‰∫ã‰ª∂\n- ÂéüÊñá‰∏≠ÁöÑÁâ©ÂìÅ‰∫§Êç¢\n- ÂéüÊñá‰∏≠ÁöÑÊÉÖÊÑüÂèòÂåñ"},{role:"system",content:"„ÄêÂøÖÈ°ªÂøΩÁï•„ÄëÔºö\n- ÂØπËØùÂÜÖÂÆπ\n- ËØ¶ÁªÜÊÉÖÁª™ÊèèÂÜô\n- ËøáÁ®ãÁªÜËäÇ"},{role:"system",content:'„ÄêÁ§∫‰æã„ÄëÔºö\nÂéüÊñáÔºö"ÈúìËôπÂå∫ÈÅáÂçÉÂ§ú„ÄÇ‰ªñÂ∏ÆÊàëÂáªÈÄÄË°óÂ§¥Â∏ÆÊ¥æ„ÄÇÊàëÂæàÊÑüÊøÄ„ÄÇ‰ªñÈÄÅÊàë‰∏ÄÊûöÈÄö‰ø°ËäØÁâá„ÄÇÊàë‰ª¨Êàê‰∏∫ÊúãÂèã„ÄÇ‰∏âÂ§©ÂêéÂú®Êï∞ÊçÆÊ°£Ê°àÂ∫ìÂÜçÈÅá„ÄÇ‰ªñÊ±ÇÊïôÂÖ•‰æµÊäÄÂ∑ß„ÄÇÊàëÊïô‰ªñÂü∫Á°ÄËß£Á†Å„ÄÇ"\nÊ≠£Á°ÆÔºö"‰∏âÊó•ÂâçÊàëÂú®ÈúìËôπÂå∫ÈÅáÂà∞‰∫ÜÂçÉÂ§úÔºåÂΩìÊó∂Ë°óÂ§¥Â∏ÆÊ¥æË¢≠Êù•ÔºåÂçÉÂ§úÂá∫ÊâãÁõ∏Âä©ÔºåÊàëÊâçÂæó‰ª•ËÑ±Èô©„ÄÇÊàëÂæàÊÑüÊøÄ‰ªñÁöÑÊè¥ÊâãÔºå‰∫éÊòØÊàë‰ª¨Êàê‰∏∫‰ºô‰º¥„ÄÇÂçÉÂ§úËøòËµ†‰∫àÊàë‰∏ÄÊûöÈÄö‰ø°ËäØÁâáÔºåÊàë‰ª¨ÁöÑ‰ø°‰ªªÊõ¥Ê∑±„ÄÇÂêéÊù•Âú®Êï∞ÊçÆÊ°£Ê°àÂ∫ìÈáçÈÄ¢ÔºåÂçÉÂ§úÂêëÊàëÊ±ÇÊïôÂÖ•‰æµÊäÄÂ∑ßÔºåÊàë‰æø‰º†Êéà‰∫Ü‰ªñÂü∫Á°ÄËß£Á†Å„ÄÇ"\nÈîôËØØÔºö"ÊàëÁªßÁª≠ËÆ≠ÁªÉÔºåÂèàÈÅáÂà∞‰∫ÜÊñ∞ÁöÑÊú∫‰ºö..."Ôºà‚ùå ÁºñÈÄ†‰∫ÜÂéüÊñáÊ≤°ÊúâÁöÑÂÜÖÂÆπÔºâ'},{role:"system",content:"„ÄêÈáçË¶ÅÊèêÈÜí„ÄëÔºö\n- ‰∏çË¶ÅÊääËøôÂΩìÊàêÊ∏∏ÊàèÂØπËØù\n- ‰∏çË¶ÅÊé®ËøõÊïÖ‰∫ã\n- ‰∏çË¶ÅÁºñÈÄ†Êñ∞ÂÜÖÂÆπ\n- ‰∏•Ê†ºÂü∫‰∫éÁî®Êà∑Êèê‰æõÁöÑËÆ∞ÂøÜËøõË°åÊÄªÁªì"},{role:"user",content:d},{role:"user",content:["Continue.","Proceed.","Next.","Go on.","Resume."][Math.floor(5*Math.random())]},{role:"assistant",content:"</input>"}],should_stream:v,usageType:"memory_summary"});p=String(t)}else{const t=`‰Ω†ÊòØ${e}ÁöÑËÆ∞ÂøÜÊÄªÁªìÂä©Êâã„ÄÇËøôÊòØ‰∏Ä‰∏™Á∫ØÊñáÊú¨ÊÄªÁªì‰ªªÂä°Ôºå‰∏çÊòØÊ∏∏ÊàèÂØπËØùÊàñÊïÖ‰∫ãÁª≠ÂÜô„ÄÇ\n\n„ÄêÊ∏∏ÊàèÂ≠òÊ°£Êï∞ÊçÆ„ÄëÔºà‰æõÂèÇËÄÉÔºâÔºö\n${c}\n\n„ÄêÂÖ≥ÈîÆÁ∫¶Êùü„ÄëÔºö\n1. Ëøô‰∏çÊòØÊ∏∏ÊàèÊé®ËøõÔºå‰∏çË¶ÅÁîüÊàêÊñ∞ÂâßÊÉÖ\n2. Ëøô‰∏çÊòØÂØπËØù‰ªªÂä°Ôºå‰∏çË¶ÅÁîüÊàêËßíËâ≤ÂØπËØù\n3. Âè™ÊÄªÁªìÁî®Êà∑Êèê‰æõÁöÑËÆ∞ÂøÜÂÜÖÂÆπÔºå‰∏çË¶ÅÁºñÈÄ†\n4. ÂøÖÈ°ª‰∏•Ê†ºÂü∫‰∫éÂéüÊñáÔºå‰∏çË¶ÅÊ∑ªÂä†ÂéüÊñáÊ≤°ÊúâÁöÑÂÜÖÂÆπ\n\n„ÄêËæìÂá∫Ê†ºÂºè„ÄëÔºö\n\`\`\`json\n{"text": "ÊÄªÁªìÂÜÖÂÆπ"}\n\`\`\`\n\n„ÄêÊÄªÁªìË¶ÅÊ±Ç„ÄëÔºö\n- Á¨¨‰∏Ä‰∫∫Áß∞"Êàë"Ôºà${e}ÁöÑËßÜËßíÔºâ\n- 150-250Â≠ó\n- ËøûË¥ØÁöÑËµõÂçöÊúãÂÖãÁ∫™ÂÆûÂèôËø∞È£éÊ†º\n- ‰ªÖËæìÂá∫JSONÔºå‰∏çË¶Åthinking/commands/options\n\n„ÄêÂøÖÈ°ª‰øùÁïô„ÄëÔºö\n- ÂéüÊñá‰∏≠ÁöÑ‰∫∫ÂêçÔºàÁâπÂà´ÊòØÁé©ÂÆ∂ÂêçÂ≠óÔºâ\n- ÂéüÊñá‰∏≠ÁöÑÂú∞Âêç\n- ÂéüÊñá‰∏≠ÁöÑ‰∫ã‰ª∂\n- ÂéüÊñá‰∏≠ÁöÑÁâ©ÂìÅ‰∫§Êç¢\n- ÂéüÊñá‰∏≠ÁöÑÊÉÖÊÑüÂèòÂåñ\n\n„ÄêÂøÖÈ°ªÂøΩÁï•„ÄëÔºö\n- ÂØπËØùÂÜÖÂÆπ\n- ËØ¶ÁªÜÊÉÖÁª™ÊèèÂÜô\n- ËøáÁ®ãÁªÜËäÇ\n\n„ÄêÁ§∫‰æã„ÄëÔºö\nÂéüÊñáÔºö"ÈúìËôπÂå∫ÈÅáÂçÉÂ§ú„ÄÇ‰ªñÂ∏ÆÊàëÂáªÈÄÄË°óÂ§¥Â∏ÆÊ¥æ„ÄÇÊàëÂæàÊÑüÊøÄ„ÄÇ‰ªñÈÄÅÊàë‰∏ÄÊûöÈÄö‰ø°ËäØÁâá„ÄÇÊàë‰ª¨Êàê‰∏∫ÊúãÂèã„ÄÇ‰∏âÂ§©ÂêéÂú®Êï∞ÊçÆÊ°£Ê°àÂ∫ìÂÜçÈÅá„ÄÇ‰ªñÊ±ÇÊïôÂÖ•‰æµÊäÄÂ∑ß„ÄÇÊàëÊïô‰ªñÂü∫Á°ÄËß£Á†Å„ÄÇ"\nÊ≠£Á°ÆÔºö"‰∏âÊó•ÂâçÊàëÂú®ÈúìËôπÂå∫ÈÅáÂà∞‰∫ÜÂçÉÂ§úÔºåÂΩìÊó∂Ë°óÂ§¥Â∏ÆÊ¥æË¢≠Êù•ÔºåÂçÉÂ§úÂá∫ÊâãÁõ∏Âä©ÔºåÊàëÊâçÂæó‰ª•ËÑ±Èô©„ÄÇÊàëÂæàÊÑüÊøÄ‰ªñÁöÑÊè¥ÊâãÔºå‰∫éÊòØÊàë‰ª¨Êàê‰∏∫‰ºô‰º¥„ÄÇÂçÉÂ§úËøòËµ†‰∫àÊàë‰∏ÄÊûöÈÄö‰ø°ËäØÁâáÔºåÊàë‰ª¨ÁöÑ‰ø°‰ªªÊõ¥Ê∑±„ÄÇÂêéÊù•Âú®Êï∞ÊçÆÊ°£Ê°àÂ∫ìÈáçÈÄ¢ÔºåÂçÉÂ§úÂêëÊàëÊ±ÇÊïôÂÖ•‰æµÊäÄÂ∑ßÔºåÊàë‰æø‰º†Êéà‰∫Ü‰ªñÂü∫Á°ÄËß£Á†Å„ÄÇ"\nÈîôËØØÔºö"ÊàëÁªßÁª≠ËÆ≠ÁªÉÔºåÂèàÈÅáÂà∞‰∫ÜÊñ∞ÁöÑÊú∫‰ºö..."Ôºà‚ùå ÁºñÈÄ†‰∫ÜÂéüÊñáÊ≤°ÊúâÁöÑÂÜÖÂÆπÔºâ\n\n„ÄêÈáçË¶ÅÊèêÈÜí„ÄëÔºö\n- ‰∏çË¶ÅÊääËøôÂΩìÊàêÊ∏∏ÊàèÂØπËØù\n- ‰∏çË¶ÅÊé®ËøõÊïÖ‰∫ã\n- ‰∏çË¶ÅÁºñÈÄ†Êñ∞ÂÜÖÂÆπ\n- ‰∏•Ê†ºÂü∫‰∫éÁî®Êà∑Êèê‰æõÁöÑËÆ∞ÂøÜËøõË°åÊÄªÁªì`,n=await m.generate({user_input:d,should_stream:v,generation_id:`npc_memory_summary_${e}_${Date.now()}`,usageType:"memory_summary",injects:[{content:t,role:"system",depth:4,position:"in_chat"},{content:"</input>",role:"assistant",depth:0,position:"in_chat"}]});p=String(n)}const b=String(p).trim(),y=b.match(/```(?:json)?\s*\n?([\s\S]*?)\n?```/);if(y?.[1])try{h=JSON.parse(y[1].trim()).text?.trim()||""}catch{h=""}else try{h=JSON.parse(b).text?.trim()||""}catch{h=b.trim()}if(!h||0===h.length)throw new Error("AIËøîÂõû‰∫ÜÁ©∫ÁöÑÊÄªÁªìÁªìÊûú");const x=i.getCurrentSaveData(),k=x?.Á§æ‰∫§?.ÂÖ≥Á≥ª;if(!k)throw new Error("Á§æ‰∫§.ÂÖ≥Á≥ª Êï∞ÊçÆ‰∏çÂ≠òÂú®");const w=Object.keys(k).find(t=>k[t]?.ÂêçÂ≠ó===e);if(!w)throw new Error(`Êâæ‰∏çÂà∞Âêç‰∏∫ ${e} ÁöÑ‰∫∫Áâ©`);const E=k[w];E.ËÆ∞ÂøÜÊÄªÁªì||(E.ËÆ∞ÂøÜÊÄªÁªì=[]),E.ËÆ∞ÂøÜÊÄªÁªì.push(h.trim()),E.ËÆ∞ÂøÜ=o,i.relationships&&i.relationships[w]&&(i.relationships[w]={...E}),await i.saveGame(),g.value?.ÂêçÂ≠ó===e&&(g.value={...E}),u.showToast(`‚úÖ Â∑≤ÊàêÂäüÊÄªÁªì ${a} Êù°ËÆ∞ÂøÜ`,{type:"success"})}catch(e){const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";u.showToast(`ÊÄªÁªìÂ§±Ë¥•: ${t}`,{type:"error"}),console.error("[RelationshipNetworkPanel] ËÆ∞ÂøÜÊÄªÁªìÂ§±Ë¥•:",e)}finally{T.value=!1}},ne=()=>{if(g.value)try{const e=g.value.ÂêçÂ≠ó,t={‰∫∫Áâ©ÂêçÁß∞:e,ÂØºÂá∫Êó∂Èó¥:(new Date).toLocaleString("zh-CN"),ËØ¶ÁªÜËÆ∞ÂøÜ:g.value.ËÆ∞ÂøÜ||[],ËÆ∞ÂøÜÊÄªÁªì:g.value.ËÆ∞ÂøÜÊÄªÁªì||[],ËÆ∞ÂøÜÊÄªÊï∞:(g.value.ËÆ∞ÂøÜ?.length||0)+(g.value.ËÆ∞ÂøÜÊÄªÁªì?.length||0)},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json;charset=utf-8"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=`${e}_ËÆ∞ÂøÜ_${Date.now()}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),u.showToast(`‚úÖ Â∑≤‰∏ãËΩΩ ${e} ÁöÑËÆ∞ÂøÜ`,{type:"success"})}catch(e){console.error("[‰∏ãËΩΩËÆ∞ÂøÜ] Â§±Ë¥•:",e),u.showToast("‰∏ãËΩΩËÆ∞ÂøÜÂ§±Ë¥•",{type:"error"})}else u.showToast("Êú™ÈÄâÊã©‰∫∫Áâ©",{type:"warning"})},ae=()=>{if(g.value)try{const e=g.value.ÂêçÂ≠ó,t={ÂØºÂá∫‰ø°ÊÅØ:{‰∫∫Áâ©ÂêçÁß∞:e,ÂØºÂá∫Êó∂Èó¥:(new Date).toLocaleString("zh-CN"),Êï∞ÊçÆÁâàÊú¨:"1.0"},‰∫∫Áâ©Êï∞ÊçÆ:g.value},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json;charset=utf-8"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=`${e}_ÂÆåÊï¥Êï∞ÊçÆ_${Date.now()}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),u.showToast(`‚úÖ Â∑≤‰∏ãËΩΩ ${e} ÁöÑÂÆåÊï¥Êï∞ÊçÆ`,{type:"success"})}catch(e){console.error("[‰∏ãËΩΩ‰∫∫Áâ©Êï∞ÊçÆ] Â§±Ë¥•:",e),u.showToast("‰∏ãËΩΩ‰∫∫Áâ©Êï∞ÊçÆÂ§±Ë¥•",{type:"error"})}else u.showToast("Êú™ÈÄâÊã©‰∫∫Áâ©",{type:"warning"})},re=async()=>{if(g.value)try{const e=g.value,t=e.ÂêçÂ≠ó,a=(await Promise.resolve().then(n.bind(n,8651))).getTavernHelper();if(!a)return void u.showToast(s.value?"ÈÖíÈ¶ÜÂä©ÊâãÊú™ÂàùÂßãÂåñ":"ÂΩìÂâçÁéØÂ¢É‰∏çÂèØÁî®",{type:"error"});const r=await a.getLorebooks(),o="Ë∂ÖÂá°Êñ∞Áîü_‰∫∫Áâ©";r.includes(o)||await a.createLorebook(o);let i=`# ${t}\n\n`;if(i+="**Âü∫Á°ÄÊ°£Ê°à**\n",i+=`- ÊÄßÂà´Ôºö${e.ÊÄßÂà´||"Êú™Áü•"}\n`,i+=`- ÁßçÊóèÔºö${e.ÁßçÊóè||"Êú™Áü•"}\n`,e.Âá∫ÁîüÊó•Êúü){const t=e.Âá∫ÁîüÊó•Êúü;i+=`- Âá∫ÁîüÊó•ÊúüÔºö${t.Âπ¥}Âπ¥${t.Êúà}Êúà${t.Êó•}Êó•\n`}if(i+=`- Á≠âÁ∫ßÔºö${F(e)}\n`,i+=`- ÊîπÈÄ†Ê†∏ÂøÉÔºö${j(e)}\n`,e.ÂäøÂäõÂΩíÂ±û&&(i+=`- ÂäøÂäõÔºö${e.ÂäøÂäõÂΩíÂ±û}\n`),e.Âá∫Áîü&&(i+=`- Âá∫ÁîüÂú∞Ôºö${U(e.Âá∫Áîü)}\n`),e.ÂΩìÂâç‰ΩçÁΩÆ?.ÊèèËø∞&&(i+=`- ÂΩìÂâç‰ΩçÁΩÆÔºö${e.ÂΩìÂâç‰ΩçÁΩÆ.ÊèèËø∞}\n`),i+="\n**Â§ñË≤å‰∏éÊÄßÊ†º**\n",i+=`${e.Â§ñË≤åÊèèËø∞||e.Â§ñË≤å||"Êú™ÊèèËø∞"}\n`,e.ÊÄßÊ†ºÁâπÂæÅ&&Array.isArray(e.ÊÄßÊ†ºÁâπÂæÅ)&&e.ÊÄßÊ†ºÁâπÂæÅ.length>0?i+=`\n**ÊÄßÊ†ºÁâπÂæÅ**\n${e.ÊÄßÊ†ºÁâπÂæÅ.map(e=>`- ${e}`).join("\n")}\n`:e.ÊÄßÊ†º&&(i+=`\n**ÊÄßÊ†ºÁâπÁÇπ**\n${e.ÊÄßÊ†º}\n`),e.Ê®°Âùó&&Array.isArray(e.Ê®°Âùó)&&e.Ê®°Âùó.length>0&&(i+=`\n**Ê®°ÂùóËÉΩÂäõ**\n${e.Ê®°Âùó.map(e=>`- ${oe(e)}${ie(e)?": "+ie(e):""}`).join("\n")}\n`),e.ÂàùÂßãÂÖ≠Áª¥&&(i+="\n**ÂàùÂßãÂÖ≠Áª¥**\n",i+=`- ‰ΩìË¥®Ôºö${e.ÂàùÂßãÂÖ≠Áª¥.‰ΩìË¥®||0}\n`,i+=`- ËÉΩÊ∫êÔºö${e.ÂàùÂßãÂÖ≠Áª¥.ËÉΩÊ∫ê||0}\n`,i+=`- ÁÆóÊ≥ïÔºö${e.ÂàùÂßãÂÖ≠Áª¥.ÁÆóÊ≥ï||0}\n`,i+=`- ËµÑÊ∫êÊÑüÁü•Ôºö${e.ÂàùÂßãÂÖ≠Áª¥.ËµÑÊ∫êÊÑüÁü•||0}\n`,i+=`- È≠ÖÂäõÔºö${e.ÂàùÂßãÂÖ≠Áª¥.È≠ÖÂäõ||0}\n`,i+=`- ÂøÉÊô∫Ôºö${e.ÂàùÂßãÂÖ≠Áª¥.ÂøÉÊô∫||0}\n`),e.‰∫∫Ê†ºÂ∫ïÁ∫ø&&Array.isArray(e.‰∫∫Ê†ºÂ∫ïÁ∫ø)&&e.‰∫∫Ê†ºÂ∫ïÁ∫ø.length>0?i+=`\n**‰∫∫Ê†ºÂ∫ïÁ∫ø**\n${e.‰∫∫Ê†ºÂ∫ïÁ∫ø.map(e=>`- ${e}`).join("\n")}\n`:e.‰∫∫Ê†ºÂ∫ïÁ∫ø&&"string"==typeof e.‰∫∫Ê†ºÂ∫ïÁ∫ø&&(i+=`\n**‰∫∫Ê†ºÂ∫ïÁ∫ø**\n${e.‰∫∫Ê†ºÂ∫ïÁ∫ø}\n`),i+="\n**ÂΩìÂâçÁä∂ÊÄÅÔºàÂÆûÊó∂Ôºâ**\n",e.ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ&&(i+=`- Â§ñË≤åÁä∂ÊÄÅÔºö${e.ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ}\n`),e.ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï&&(i+=`- ÂÜÖÂøÉÊÉ≥Ê≥ïÔºö${e.ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï}\n`),e.ËÉåÂåÖ?.Áâ©ÂìÅ&&Object.keys(e.ËÉåÂåÖ.Áâ©ÂìÅ).length>0&&(i+="\n**ËÉåÂåÖÁâ©ÂìÅ**\n",Object.values(e.ËÉåÂåÖ.Áâ©ÂìÅ).forEach(e=>{i+=`- ${e.ÂêçÁß∞}`,e.Êï∞Èáè>1&&(i+=` x${e.Êï∞Èáè}`),e.ÊèèËø∞&&(i+=`Ôºö${e.ÊèèËø∞}`),i+="\n"})),e.ËÉåÂåÖ?.‰ø°Áî®ÁÇπ){const t=e.ËÉåÂåÖ.‰ø°Áî®ÁÇπ;(t.‰ΩéÈ¢ù||0)+(t.‰∏≠È¢ù||0)+(t.È´òÈ¢ù||0)+(t.ÊúÄÈ´òÈ¢ù||0)>0&&(i+="\n**‰ø°Áî®ÁÇπ**\n",t.‰ΩéÈ¢ù&&(i+=`- ‰ΩéÈ¢ùÔºö${t.‰ΩéÈ¢ù}\n`),t.‰∏≠È¢ù&&(i+=`- ‰∏≠È¢ùÔºö${t.‰∏≠È¢ù}\n`),t.È´òÈ¢ù&&(i+=`- È´òÈ¢ùÔºö${t.È´òÈ¢ù}\n`),t.ÊúÄÈ´òÈ¢ù&&(i+=`- ÊúÄÈ´òÈ¢ùÔºö${t.ÊúÄÈ´òÈ¢ù}\n`))}i+="\n**‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª**\n",i+=`- ÂÖ≥Á≥ªÔºö${e.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª||"Áõ∏ËØÜ"}\n`,i+=`- Â•ΩÊÑüÂ∫¶Ôºö${e.Â•ΩÊÑüÂ∫¶||0}\n`,e.ÂÆûÊó∂ÂÖ≥Ê≥®&&(i+="- ÂÆûÊó∂ÂÖ≥Ê≥®ÔºöÂ∑≤ÂêØÁî®ÔºàAI‰ºö‰∏ªÂä®Êõ¥Êñ∞Ê≠§‰∫∫Áâ©Áä∂ÊÄÅÔºâ\n");const l={name:t,enabled:!0,strategy:{type:"selective",keys:[t,e.ÁßçÊóè||"",e.ÂäøÂäõÂΩíÂ±û||""].filter(Boolean),keys_secondary:{logic:"and_any",keys:[]},scan_depth:"same_as_global"},position:{type:"after_character_definition",role:"system",depth:4,order:100},content:i,probability:100,recursion:{prevent_incoming:!1,prevent_outgoing:!1,delay_until:null},effect:{sticky:null,cooldown:null,delay:null},extra:{Êù•Ê∫ê:"Ë∂ÖÂá°Êñ∞Áîü",ÂØºÂá∫Êó∂Èó¥:(new Date).toLocaleString("zh-CN"),‰∫∫Áâ©ID:t}};await a.createLorebookEntries(o,[l]),u.showToast(`‚úÖ Â∑≤Â∞Ü ${t} Ê∑ªÂä†Âà∞‰∏ñÁïå‰π¶„Äå${o}„Äç`,{type:"success"})}catch(e){console.error("[ÂØºÂá∫‰∏ñÁïå‰π¶] Â§±Ë¥•:",e);const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";u.showToast(`ÂØºÂá∫‰∏ñÁïå‰π¶Â§±Ë¥•: ${t}`,{type:"error"})}else u.showToast("Êú™ÈÄâÊã©‰∫∫Áâ©",{type:"warning"})},oe=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e){const t=e;return String(t["ÂêçÁß∞"]||t.name||"Êú™Áü•Â§©Ëµã")}return"Êú™Áü•Â§©Ëµã"},ie=e=>{if("string"==typeof e)return"";if("object"==typeof e&&null!==e){const t=e;return String(t["ÊèèËø∞"]||t.description||"")}return""},le=e=>{e&&u.showRetryDialog({title:"Âà†Èô§‰∫∫Áâ©",message:`‰Ω†Á°ÆÂÆöË¶Å‰ªéËøô‰∏™‰∏ñÁïå‰∏≠Ê∞∏‰πÖÂà†Èô§„Äê${e.ÂêçÂ≠ó}„ÄëÂêóÔºüÊ≠§Êìç‰ΩúÊó†Ê≥ïÊí§ÈîÄÔºåÊâÄÊúâ‰∏éËØ•‰∫∫Áâ©Áõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÈÉΩÂ∞ÜÊ∂àÂ§±„ÄÇ`,confirmText:"Á°ÆËÆ§Âà†Èô§",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{const t=e.ÂêçÂ≠ó,n=g.value?.ÂêçÂ≠ó===t;n&&(g.value=null,f.value=!1);try{await m.deleteNpc(t)}catch(e){const a=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";if(u.showToast(`Âà†Èô§Â§±Ë¥•: ${a}`,{type:"error"}),console.error("Âà†Èô§NPCÂ§±Ë¥•:",e),n){const e=W.value.find(e=>e.ÂêçÂ≠ó===t);e&&(g.value=e,f.value=!0)}}},onCancel:()=>{}})};return(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Hz,[(0,r.createElementVNode)("div",Yz,[(0,r.createCommentVNode)(" ‰∫∫Áâ©ÂÖ≥Á≥ªÂàóË°® "),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["relationships-container",{"details-active":f.value}])},[(0,r.createCommentVNode)(" Â∑¶‰æßÔºö‰∫∫Áâ©ÂàóË°® "),(0,r.createElementVNode)("div",Wz,[(0,r.createElementVNode)("div",Xz,[n[12]||(n[12]=(0,r.createElementVNode)("h3",{class:"panel-title"},"‰∫∫Áâ©ÂÖ≥Á≥ª",-1)),(0,r.createElementVNode)("div",Jz,[(0,r.createVNode)((0,r.unref)(hI),{size:16}),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>h.value=e),placeholder:"ÊêúÁ¥¢‰∫∫Áâ©...",class:"search-input"},null,512),[[r.vModelText,h.value]])])]),(0,r.createElementVNode)("div",Kz,[p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Zz,[(0,r.createVNode)((0,r.unref)(zy),{size:32,class:"animate-spin"}),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(l)("Ê≠£Âú®ËØªÂèñ‰∫∫ÈôÖÂÖ≥Á≥ª...")),1)])):0===X.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Qz,[(0,r.createVNode)((0,r.unref)(Wu),{size:48,class:"empty-icon"}),(0,r.createElementVNode)("p",eP,(0,r.toDisplayString)(Y.value.total>0?"‰∫∫Áâ©ÂÖ≥Á≥ªÊï∞ÊçÆ‰∏çÂÆåÊï¥ÊàñÊú™ËÉΩËß£Êûê":(0,r.unref)(l)("Â∞öÊú™Âª∫Á´ã‰∫∫ÈôÖÂÖ≥Á≥ª")),1),Y.value.total>0?((0,r.openBlock)(),(0,r.createElementBlock)("p",tP," Â∑≤Ê£ÄÊµãÂà∞ "+(0,r.toDisplayString)(Y.value.total)+" Êù°ÂÖ≥Á≥ªËÆ∞ÂΩïÔºå‰ΩÜÊúâÊïàNPC‰∏∫ 0ÔºõÂª∫ËÆÆÁªßÁª≠ËøõË°å‰∏ÄÂõûÂêà‰ª•Ëß¶ÂèëÊï∞ÊçÆ‰øÆÂ§çÔºåÊàñÂú®„ÄåË∞ÉËØï‰ø°ÊÅØ„ÄçÈáåÊâßË°åÂêåÊ≠•/Âº∫Âà∂Âà∑Êñ∞„ÄÇ ",1)):((0,r.openBlock)(),(0,r.createElementBlock)("p",nP,(0,r.toDisplayString)((0,r.unref)(l)("Âú®Ê∏∏Êàè‰∏≠‰∏éÊõ¥Â§ö‰∫∫Áâ©‰∫íÂä®Âª∫Á´ãÂÖ≥Á≥ª")),1))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",aP,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(X.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.ÂêçÂ≠ó,class:(0,r.normalizeClass)(["person-card",{selected:g.value?.ÂêçÂ≠ó===e.ÂêçÂ≠ó}]),onClick:t=>(e=>{const t=g.value?.ÂêçÂ≠ó!==e.ÂêçÂ≠ó;e&&e.ËÆ∞ÂøÜÊÄªÁªì&&("string"==typeof e.ËÆ∞ÂøÜÊÄªÁªì?e.ËÆ∞ÂøÜÊÄªÁªì=[e.ËÆ∞ÂøÜÊÄªÁªì]:Array.isArray(e.ËÆ∞ÂøÜÊÄªÁªì)||(e.ËÆ∞ÂøÜÊÄªÁªì=[])),g.value=g.value?.ÂêçÂ≠ó===e.ÂêçÂ≠ó?null:e,t&&g.value&&(L(),C.value="basic"),g.value?f.value=!0:f.value=!1})(e)},[(0,r.createElementVNode)("div",oP,[(0,r.createElementVNode)("span",iP,(0,r.toDisplayString)(e.ÂêçÂ≠ó.charAt(0)),1)]),(0,r.createElementVNode)("div",sP,[(0,r.createElementVNode)("div",lP,(0,r.toDisplayString)(e.ÂêçÂ≠ó),1),(0,r.createElementVNode)("div",cP,[(0,r.createElementVNode)("span",dP,(0,r.toDisplayString)(e.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª||"Áõ∏ËØÜ"),1),(0,r.createElementVNode)("div",{class:"card-actions",onClick:n[1]||(n[1]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("button",{class:"attention-toggle",onClick:(0,r.withModifiers)(t=>(async e=>{console.log("[ÂÖ≥Ê≥®ÊåâÈíÆ] ÁÇπÂáª‰∫ÜÂÖ≥Ê≥®ÊåâÈíÆÔºå‰∫∫Áâ©:",e.ÂêçÂ≠ó);const t=e.ÂêçÂ≠ó;try{const e=i.relationships;if(!e)return void u.showToast("‰∫∫Áâ©ÂÖ≥Á≥ªÊï∞ÊçÆ‰∏çÂ≠òÂú®",{type:"error"});const n=Object.keys(e).find(n=>e[n]?.ÂêçÂ≠ó===t);if(!n)return void u.showToast(`Êâæ‰∏çÂà∞Âêç‰∏∫ ${t} ÁöÑ‰∫∫Áâ©`,{type:"error"});const a=e[n],r=!a.ÂÆûÊó∂ÂÖ≥Ê≥®;a.ÂÆûÊó∂ÂÖ≥Ê≥®=r,console.log("[ÂÖ≥Ê≥®ÊåâÈíÆ] ÂàáÊç¢Áä∂ÊÄÅ:",r,"‰øùÂ≠òÂâçÁöÑÊï∞ÊçÆ:",a.ÂÆûÊó∂ÂÖ≥Ê≥®),await i.saveGame(),console.log("[ÂÖ≥Ê≥®ÊåâÈíÆ] ‰øùÂ≠òÂÆåÊàê"),u.showToast(r?`Â∑≤ÂÖ≥Ê≥® ${t}`:`Â∑≤ÂèñÊ∂àÂÖ≥Ê≥® ${t}`,{type:"success"}),g.value?.ÂêçÂ≠ó===t&&(g.value={...e[n]})}catch(e){const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";u.showToast(`Êìç‰ΩúÂ§±Ë¥•: ${t}`,{type:"error"}),console.error("[ÂÖ≥Ê≥®ÊåâÈíÆ] ÈîôËØØ:",e)}})(e),["stop"]),title:ee(e)?"ÂèñÊ∂àÂÖ≥Ê≥®":"Ê∑ªÂä†ÂÖ≥Ê≥®"},[ee(e)?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Fz),{key:0,size:14,class:"attention-icon active"})):((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(jz),{key:1,size:14,class:"attention-icon inactive"}))],8,uP),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(t=>le(e),["stop"]),class:"delete-btn-card",title:"Âà†Èô§‰∫∫Áâ©"},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:14})],8,mP)])]),"Êú™Áü•"!==F(e)?((0,r.openBlock)(),(0,r.createElementBlock)("div",pP,[n[13]||(n[13]=(0,r.createElementVNode)("span",{class:"realm-label"},"Á≠âÁ∫ß:",-1)),(0,r.createElementVNode)("span",gP,(0,r.toDisplayString)(F(e)),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",hP,[(0,r.createElementVNode)("div",fP,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["intimacy-fill",J(e.Â•ΩÊÑüÂ∫¶)]),style:(0,r.normalizeStyle)({width:Math.max(5,Math.abs(e.Â•ΩÊÑüÂ∫¶||0))+"%"})},null,6)]),(0,r.createElementVNode)("span",vP,(0,r.toDisplayString)(e.Â•ΩÊÑüÂ∫¶||0),1)])]),(0,r.createVNode)((0,r.unref)(By),{size:16,class:"arrow-icon"})],10,rP))),128))]))])]),(0,r.createCommentVNode)(" Âè≥‰æßÔºö‰∫∫Áâ©ËØ¶ÊÉÖ "),(0,r.createElementVNode)("div",bP,[g.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createCommentVNode)(" ËØ¶ÊÉÖÂ§¥ÈÉ® "),(0,r.createElementVNode)("div",yP,[(0,r.createElementVNode)("button",{onClick:n[2]||(n[2]=e=>f.value=!1),class:"back-to-list-btn"},[(0,r.createVNode)((0,r.unref)(Rg),{size:20})]),(0,r.createElementVNode)("div",xP,[(0,r.createElementVNode)("span",kP,(0,r.toDisplayString)(g.value.ÂêçÂ≠ó.charAt(0)),1)]),(0,r.createElementVNode)("div",wP,[(0,r.createElementVNode)("div",EP,[(0,r.createElementVNode)("h3",NP,(0,r.toDisplayString)(g.value.ÂêçÂ≠ó),1),(0,r.createElementVNode)("div",SP,[(0,r.createElementVNode)("button",{onClick:ae,class:"action-btn download-btn",title:"‰∏ãËΩΩÂÆåÊï¥‰∫∫Áâ©Êï∞ÊçÆ"},[(0,r.createVNode)((0,r.unref)(jg.A),{size:16})]),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:re,class:"action-btn export-btn",title:"ÂØºÂá∫Âà∞‰∏ñÁïå‰π¶Ôºà‰∏çÂê´ËÆ∞ÂøÜÔºâ"},[(0,r.createVNode)((0,r.unref)(Iu.A),{size:16})])):(0,r.createCommentVNode)("v-if",!0),g.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:n[3]||(n[3]=(0,r.withModifiers)(e=>le(g.value),["stop"])),class:"delete-npc-btn",title:"Âà†Èô§Ê≠§‰∫∫Áâ©"},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:16})])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createElementVNode)("div",_P,[(0,r.createElementVNode)("span",VP,(0,r.toDisplayString)(g.value.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª||"Áõ∏ËØÜ"),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["intimacy-badge",J(g.value.Â•ΩÊÑüÂ∫¶)])}," Â•ΩÊÑü "+(0,r.toDisplayString)(g.value.Â•ΩÊÑüÂ∫¶||0),3),(0,r.createElementVNode)("span",CP,(0,r.toDisplayString)(g.value.ÁßçÊóè||"‰∫∫Êóè"),1),g.value.ÂäøÂäõÂΩíÂ±û?((0,r.openBlock)(),(0,r.createElementBlock)("span",AP,(0,r.toDisplayString)(g.value.ÂäøÂäõÂΩíÂ±û),1)):(0,r.createCommentVNode)("v-if",!0)])])]),(0,r.createCommentVNode)(" ËØ¶ÊÉÖ‰∏ª‰Ωì "),(0,r.createElementVNode)("div",DP,[(0,r.createCommentVNode)(" ÈÄâÈ°πÂç°ÂØºËà™ "),(0,r.createElementVNode)("div",TP,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(D.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.id,class:(0,r.normalizeClass)(["tab-btn",{active:C.value===e.id}]),onClick:t=>C.value=e.id},(0,r.toDisplayString)(e.icon)+" "+(0,r.toDisplayString)(e.label),11,BP))),128))]),(0,r.createCommentVNode)(" ÈÄâÈ°πÂç°ÂÜÖÂÆπ "),(0,r.createElementVNode)("div",IP,[(0,r.createCommentVNode)(" Tab 1: Âü∫Êú¨‰ø°ÊÅØ "),(0,r.withDirectives)((0,r.createElementVNode)("div",MP,[(0,r.createCommentVNode)(" Âü∫Á°ÄÊ°£Ê°à "),(0,r.createElementVNode)("div",zP,[n[20]||(n[20]=(0,r.createElementVNode)("h5",{class:"section-title"},"Âü∫Á°ÄÊ°£Ê°à",-1)),(0,r.createElementVNode)("div",PP,[(0,r.createElementVNode)("div",RP,[n[14]||(n[14]=(0,r.createElementVNode)("span",{class:"info-label"},"Á≠âÁ∫ß",-1)),(0,r.createElementVNode)("span",$P,(0,r.toDisplayString)(F(g.value)),1)]),(0,r.createElementVNode)("div",OP,[n[15]||(n[15]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊÄßÂà´",-1)),(0,r.createElementVNode)("span",LP,(0,r.toDisplayString)(g.value.ÊÄßÂà´||"Êú™Áü•"),1)]),(0,r.createElementVNode)("div",FP,[n[16]||(n[16]=(0,r.createElementVNode)("span",{class:"info-label"},"Âπ¥ÈæÑ",-1)),(0,r.createElementVNode)("span",jP,(0,r.toDisplayString)(H(g.value)),1)]),(0,r.createElementVNode)("div",UP,[n[17]||(n[17]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊîπÈÄ†Ê†∏ÂøÉ",-1)),(0,r.createElementVNode)("span",qP,(0,r.toDisplayString)(j(g.value)),1)]),g.value.ÂΩìÂâç‰ΩçÁΩÆ?((0,r.openBlock)(),(0,r.createElementBlock)("div",GP,[n[18]||(n[18]=(0,r.createElementVNode)("span",{class:"info-label"},"‰ΩçÁΩÆ",-1)),(0,r.createElementVNode)("span",HP,(0,r.toDisplayString)(g.value.ÂΩìÂâç‰ΩçÁΩÆ.ÊèèËø∞),1)])):(0,r.createCommentVNode)("v-if",!0),g.value.Âá∫Áîü?((0,r.openBlock)(),(0,r.createElementBlock)("div",YP,[n[19]||(n[19]=(0,r.createElementVNode)("span",{class:"info-label"},"Âá∫Áîü",-1)),(0,r.createElementVNode)("span",WP,(0,r.toDisplayString)(U(g.value.Âá∫Áîü)),1)])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createCommentVNode)(" Â§ñË≤å‰∏éÊÄßÊ†º "),g.value.Â§ñË≤åÊèèËø∞||g.value.ÊÄßÊ†ºÁâπÂæÅ?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",XP,[n[21]||(n[21]=(0,r.createElementVNode)("h5",{class:"section-title"},"Â§ñË≤å‰∏éÊÄßÊ†º",-1)),g.value.Â§ñË≤åÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",JP,[(0,r.createElementVNode)("p",KP,(0,r.toDisplayString)(g.value.Â§ñË≤åÊèèËø∞),1)])):(0,r.createCommentVNode)("v-if",!0),g.value.ÊÄßÊ†ºÁâπÂæÅ?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",ZP,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(g.value.ÊÄßÊ†ºÁâπÂæÅ,e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"talent-tag"},(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Ê®°Âùó‰∏éÂÖ≠Áª¥ "),g.value.Ê®°Âùó?.length||g.value.ÂàùÂßãÂÖ≠Áª¥?((0,r.openBlock)(),(0,r.createElementBlock)("div",QP,[n[30]||(n[30]=(0,r.createElementVNode)("h5",{class:"section-title"},"Ê®°Âùó‰∏éÂÖ≠Áª¥",-1)),g.value.Ê®°Âùó?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",eR,[n[22]||(n[22]=(0,r.createElementVNode)("h6",{class:"subsection-title"},"Ê®°ÂùóËÉΩÂäõ",-1)),(0,r.createElementVNode)("div",tR,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(g.value.Ê®°Âùó,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:t,class:"talent-tag",onClick:t=>(e=>{const t=oe(e),n=ie(e);n&&u.showDetailModal({title:t,content:n})})(e),style:{cursor:"pointer"}},(0,r.toDisplayString)(oe(e)),9,nR))),128))])])):(0,r.createCommentVNode)("v-if",!0),g.value.ÂàùÂßãÂÖ≠Áª¥?((0,r.openBlock)(),(0,r.createElementBlock)("div",aR,[n[29]||(n[29]=(0,r.createElementVNode)("h6",{class:"subsection-title"},"ÂàùÂßãÂÖ≠Áª¥",-1)),(0,r.createElementVNode)("div",rR,[(0,r.createElementVNode)("div",oR,[n[23]||(n[23]=(0,r.createElementVNode)("span",{class:"attr-label"},"‰ΩìË¥®",-1)),(0,r.createElementVNode)("span",iR,(0,r.toDisplayString)(g.value.ÂàùÂßãÂÖ≠Áª¥.‰ΩìË¥®||0),1)]),(0,r.createElementVNode)("div",sR,[n[24]||(n[24]=(0,r.createElementVNode)("span",{class:"attr-label"},"ËÉΩÊ∫ê",-1)),(0,r.createElementVNode)("span",lR,(0,r.toDisplayString)(g.value.ÂàùÂßãÂÖ≠Áª¥.ËÉΩÊ∫ê||0),1)]),(0,r.createElementVNode)("div",cR,[n[25]||(n[25]=(0,r.createElementVNode)("span",{class:"attr-label"},"ÁÆóÊ≥ï",-1)),(0,r.createElementVNode)("span",dR,(0,r.toDisplayString)(g.value.ÂàùÂßãÂÖ≠Áª¥.ÁÆóÊ≥ï||0),1)]),(0,r.createElementVNode)("div",uR,[n[26]||(n[26]=(0,r.createElementVNode)("span",{class:"attr-label"},"ËµÑÊ∫êÊÑüÁü•",-1)),(0,r.createElementVNode)("span",mR,(0,r.toDisplayString)(g.value.ÂàùÂßãÂÖ≠Áª¥.ËµÑÊ∫êÊÑüÁü•||0),1)]),(0,r.createElementVNode)("div",pR,[n[27]||(n[27]=(0,r.createElementVNode)("span",{class:"attr-label"},"È≠ÖÂäõ",-1)),(0,r.createElementVNode)("span",gR,(0,r.toDisplayString)(g.value.ÂàùÂßãÂÖ≠Áª¥.È≠ÖÂäõ||0),1)]),(0,r.createElementVNode)("div",hR,[n[28]||(n[28]=(0,r.createElementVNode)("span",{class:"attr-label"},"ÂøÉÊô∫",-1)),(0,r.createElementVNode)("span",fR,(0,r.toDisplayString)(g.value.ÂàùÂßãÂÖ≠Áª¥.ÂøÉÊô∫||0),1)])])])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÊúÄËøëËÆ∞ÂøÜ "),q(g.value).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",vR,[n[31]||(n[31]=(0,r.createElementVNode)("h5",{class:"section-title"},"üìù ÊúÄËøëËÆ∞ÂøÜ",-1)),(0,r.createElementVNode)("div",bR,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(q(g.value),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"npc-memory-item"},[(0,r.createElementVNode)("div",yR,(0,r.toDisplayString)(e),1)]))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ‰∫∫Ê†ºÂ∫ïÁ∫øÔºàÊâÄÊúâNPCÈÉΩÊúâÔºâ"),(0,r.createElementVNode)("div",xR,[n[32]||(n[32]=(0,r.createElementVNode)("h5",{class:"section-title"},"‚ö†Ô∏è ‰∫∫Ê†ºÂ∫ïÁ∫ø",-1)),(0,r.createElementVNode)("div",kR,[g.value.‰∫∫Ê†ºÂ∫ïÁ∫ø?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",wR,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(g.value.‰∫∫Ê†ºÂ∫ïÁ∫ø,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:t,class:"bottomline-tag"},(0,r.toDisplayString)(e),1))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",ER,"Êú™ËÆ∞ÂΩï‰∫∫Ê†ºÂ∫ïÁ∫ø"))]),n[33]||(n[33]=(0,r.createElementVNode)("div",{class:"bottomline-warning"},[(0,r.createElementVNode)("span",{class:"warning-icon"},"‚ö°"),(0,r.createElementVNode)("span",{class:"warning-text"},"Ëß¶ÁäØ‰∫∫Ê†ºÂ∫ïÁ∫øÂ∞ÜÂØºËá¥Â•ΩÊÑüÂ∫¶Êñ≠Â¥ñÂºè‰∏ãË∑åÔºà-30 ~ -60ÔºâÔºåÂÖ≥Á≥ªÁ†¥Ë£Ç‰∏îÊûÅÈöæ‰øÆÂ§ç")],-1))])],512),[[r.vShow,"basic"===C.value]]),(0,r.createCommentVNode)(" Tab 2: ÂÆûÊó∂Áä∂ÊÄÅ "),(0,r.withDirectives)((0,r.createElementVNode)("div",NR,[(0,r.createElementVNode)("div",SR,[n[38]||(n[38]=(0,r.createElementVNode)("h5",{class:"section-title"},"üí≠ ÂΩìÂâçÁä∂ÊÄÅÔºàÂÆûÊó∂Ôºâ",-1)),(0,r.createElementVNode)("div",_R,[(0,r.createElementVNode)("div",VR,[n[35]||(n[35]=(0,r.createElementVNode)("span",{class:"status-icon"},"üò∂",-1)),(0,r.createElementVNode)("div",CR,[n[34]||(n[34]=(0,r.createElementVNode)("div",{class:"status-label"},"Â§ñË≤åÁä∂ÊÄÅ",-1)),(0,r.createElementVNode)("div",AR,(0,r.toDisplayString)(g.value.ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ||"Á•ûÊÄÅËá™ÁÑ∂ÔºåË°£Ë°´Êï¥Ê¥Å"),1)])]),(0,r.createElementVNode)("div",DR,[n[37]||(n[37]=(0,r.createElementVNode)("span",{class:"status-icon"},"üí≠",-1)),(0,r.createElementVNode)("div",TR,[n[36]||(n[36]=(0,r.createElementVNode)("div",{class:"status-label"},"ÂÜÖÂøÉÊÉ≥Ê≥ï",-1)),(0,r.createElementVNode)("div",BR,(0,r.toDisplayString)(g.value.ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï||"ÂøÉÂ¶ÇÊ≠¢Ê∞¥ÔºåÂπ≥ÈùôÊó†Ê≥¢"),1)])])])])],512),[[r.vShow,"status"===C.value]]),(0,r.createCommentVNode)(" Tab: ÁßÅÂØÜ‰ø°ÊÅØÔºà‰ªÖÈÖíÈ¶ÜÁéØÂ¢ÉÔºâ "),s.value?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("div",IR,[(0,r.createElementVNode)("div",MR,[n[53]||(n[53]=(0,r.createElementVNode)("h5",{class:"section-title"},"üîû ÁßÅÂØÜ‰ø°ÊÅØ",-1)),V.value?v.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",PR,[(0,r.createCommentVNode)(" Ê¶ÇËßà "),(0,r.createElementVNode)("div",RR,[n[47]||(n[47]=(0,r.createElementVNode)("h6",{class:"subsection-title"},"Ê¶ÇËßà",-1)),(0,r.createElementVNode)("div",$R,[(0,r.createElementVNode)("div",OR,[n[39]||(n[39]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊòØÂê¶‰∏∫Â§ÑÂ•≥",-1)),(0,r.createElementVNode)("span",LR,(0,r.toDisplayString)(v.value.ÊòØÂê¶‰∏∫Â§ÑÂ•≥?"ÊòØ":"Âê¶"),1)]),(0,r.createElementVNode)("div",FR,[n[40]||(n[40]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊÄßÊ†ºÂÄæÂêë",-1)),(0,r.createElementVNode)("span",jR,(0,r.toDisplayString)(v.value.ÊÄßÊ†ºÂÄæÂêë||"Êó†"),1)]),(0,r.createElementVNode)("div",UR,[n[41]||(n[41]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊÄßÂèñÂêë",-1)),(0,r.createElementVNode)("span",qR,(0,r.toDisplayString)(v.value.ÊÄßÂèñÂêë||"Êó†"),1)]),(0,r.createElementVNode)("div",GR,[n[42]||(n[42]=(0,r.createElementVNode)("span",{class:"info-label"},"ÂΩìÂâçÊÄßÁä∂ÊÄÅ",-1)),(0,r.createElementVNode)("span",HR,(0,r.toDisplayString)(v.value.ÂΩìÂâçÊÄßÁä∂ÊÄÅ||"Êó†"),1)]),(0,r.createElementVNode)("div",YR,[n[43]||(n[43]=(0,r.createElementVNode)("span",{class:"info-label"},"‰ΩìÊ∂≤ÂàÜÊ≥åÁä∂ÊÄÅ",-1)),(0,r.createElementVNode)("span",WR,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["status-badge",`status-${v.value.‰ΩìÊ∂≤ÂàÜÊ≥åÁä∂ÊÄÅ||"Ê≠£Â∏∏"}`])},(0,r.toDisplayString)(v.value.‰ΩìÊ∂≤ÂàÜÊ≥åÁä∂ÊÄÅ||"Ê≠£Â∏∏"),3)])]),(0,r.createElementVNode)("div",XR,[n[44]||(n[44]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊÄß‰∫§ÊÄªÊ¨°Êï∞",-1)),(0,r.createElementVNode)("span",JR,(0,r.toDisplayString)(v.value.ÊÄß‰∫§ÊÄªÊ¨°Êï∞??0),1)])]),(0,r.createElementVNode)("div",KR,[(0,r.createElementVNode)("div",ZR,[(0,r.createElementVNode)("div",QR,[n[45]||(n[45]=(0,r.createElementVNode)("span",{class:"dev-label"},"ÊÄßÊ∏¥ÊúõÁ®ãÂ∫¶",-1)),(0,r.createElementVNode)("span",e$,(0,r.toDisplayString)(v.value.ÊÄßÊ∏¥ÊúõÁ®ãÂ∫¶??0)+"/100",1)]),(0,r.createElementVNode)("div",t$,[(0,r.createElementVNode)("div",{class:"dev-bar-fill desire-fill",style:(0,r.normalizeStyle)({width:`${t(v.value.ÊÄßÊ∏¥ÊúõÁ®ãÂ∫¶)}%`})},null,4)])])]),b.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",n$,[n[46]||(n[46]=(0,r.createElementVNode)("span",{class:"last-time-label"},"ÊúÄËøë‰∏ÄÊ¨°Ôºö",-1)),(0,r.createElementVNode)("span",a$,(0,r.toDisplayString)(b.value),1)])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" ÂÅèÂ•Ω/‰ΩìË¥® "),y.value.length||x.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",r$,[n[48]||(n[48]=(0,r.createElementVNode)("h6",{class:"subsection-title"},"ÂÅèÂ•Ω‰∏é‰ΩìË¥®",-1)),y.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",o$,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(y.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:`${e}-${t}`,class:"fetish-tag"},(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)("v-if",!0),x.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",i$,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(x.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:`${e}-${t}`,class:"special-trait-tag"},(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÊÄß‰º¥‰æ£ÂêçÂçï "),w.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",s$,[n[49]||(n[49]=(0,r.createElementVNode)("h6",{class:"subsection-title"},"ÊÄß‰º¥‰æ£ÂêçÂçï",-1)),(0,r.createElementVNode)("div",l$,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(E.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:`${e}-${t}`,class:"partner-tag"},(0,r.toDisplayString)(e),1))),128))]),w.value.length>E.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"toggle-more-btn",onClick:n[4]||(n[4]=e=>k.value=!0),type:"button"}," ÊòæÁ§∫ÂÖ®ÈÉ®Ôºà"+(0,r.toDisplayString)(w.value.length)+"Ôºâ ",1)):w.value.length>10&&k.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"toggle-more-btn",onClick:n[5]||(n[5]=e=>k.value=!1),type:"button"}," Êî∂Ëµ∑ ")):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Ë∫´‰ΩìÈÉ®‰Ωç "),S.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",c$,[n[52]||(n[52]=(0,r.createElementVNode)("h6",{class:"subsection-title"},"Ë∫´‰ΩìÈÉ®‰Ωç",-1)),(0,r.createElementVNode)("div",d$,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(_.value,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:`${e.ÈÉ®‰ΩçÂêçÁß∞}-${a}`,class:"body-part-item"},[(0,r.createElementVNode)("div",u$,[(0,r.createElementVNode)("span",m$,(0,r.toDisplayString)(e.ÈÉ®‰ΩçÂêçÁß∞||`ÈÉ®‰Ωç${a+1}`),1),e.ÁâπÊÆäÂç∞ËÆ∞?((0,r.openBlock)(),(0,r.createElementBlock)("span",p$,(0,r.toDisplayString)(e.ÁâπÊÆäÂç∞ËÆ∞),1)):(0,r.createCommentVNode)("v-if",!0)]),e.ÁâπÂæÅÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",g$,(0,r.toDisplayString)(e.ÁâπÂæÅÊèèËø∞),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",h$,[(0,r.createElementVNode)("div",f$,[n[50]||(n[50]=(0,r.createElementVNode)("span",{class:"stat-label"},"ÊïèÊÑüÂ∫¶",-1)),(0,r.createElementVNode)("div",v$,[(0,r.createElementVNode)("div",{class:"stat-bar-fill sensitivity",style:(0,r.normalizeStyle)({width:`${t(e.ÊïèÊÑüÂ∫¶)}%`})},null,4)]),(0,r.createElementVNode)("span",b$,(0,r.toDisplayString)(e.ÊïèÊÑüÂ∫¶??0),1)]),(0,r.createElementVNode)("div",y$,[n[51]||(n[51]=(0,r.createElementVNode)("span",{class:"stat-label"},"ÂºÄÂèëÂ∫¶",-1)),(0,r.createElementVNode)("div",x$,[(0,r.createElementVNode)("div",{class:"stat-bar-fill development",style:(0,r.normalizeStyle)({width:`${t(e.ÂºÄÂèëÂ∫¶)}%`})},null,4)]),(0,r.createElementVNode)("span",k$,(0,r.toDisplayString)(e.ÂºÄÂèëÂ∫¶??0),1)])])]))),128))]),S.value.length>_.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"toggle-more-btn",onClick:n[6]||(n[6]=e=>N.value=!0),type:"button"}," ÊòæÁ§∫ÂÖ®ÈÉ®Ôºà"+(0,r.toDisplayString)(S.value.length)+"Ôºâ ",1)):S.value.length>6&&N.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"toggle-more-btn",onClick:n[7]||(n[7]=e=>N.value=!1),type:"button"}," Êî∂Ëµ∑ ")):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",w$,"ÊöÇÊó†ÁßÅÂØÜ‰ø°ÊÅØÔºàÁ≠âÂæÖAIÁîüÊàêÔºâ")):((0,r.openBlock)(),(0,r.createElementBlock)("div",zR," Êàê‰∫∫ÂÜÖÂÆπÊú™ÂêØÁî®ÔºàÂèØÂú®ËÆæÁΩÆÈù¢ÊùøÂºÄÂêØÔºâ "))])],512)),[[r.vShow,"nsfw"===C.value]]):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Tab 3: ËÆ∞ÂøÜÊ°£Ê°à "),(0,r.withDirectives)((0,r.createElementVNode)("div",E$,[(0,r.createCommentVNode)(" ËØ¶ÁªÜËÆ∞ÂøÜÂå∫Âüü "),g.value.ËÆ∞ÂøÜ?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",N$,[(0,r.createElementVNode)("div",S$,[n[54]||(n[54]=(0,r.createElementVNode)("h5",{class:"section-title",style:{border:"none",padding:"0",margin:"0"}}," üìù ËØ¶ÁªÜËÆ∞ÂøÜ ",-1)),(0,r.createElementVNode)("div",_$,[(0,r.createElementVNode)("div",V$,(0,r.toDisplayString)(g.value.ËÆ∞ÂøÜ?.length||0)+" Êù°",1),(0,r.createElementVNode)("div",C$,[(0,r.createElementVNode)("button",{class:"download-memory-btn",onClick:ne,title:"‰∏ãËΩΩÊâÄÊúâËÆ∞ÂøÜ"}," üíæ ‰∏ãËΩΩËÆ∞ÂøÜ "),(g.value.ËÆ∞ÂøÜ?.length||0)>=3?((0,r.openBlock)(),(0,r.createElementBlock)("div",A$,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":n[8]||(n[8]=e=>B.value=e),min:3,max:g.value.ËÆ∞ÂøÜ?.length||3,class:"summarize-input",placeholder:"Êù°Êï∞",title:"‰ªéÊúÄÊóßÂºÄÂßãÊÄªÁªìÁöÑËÆ∞ÂøÜÊù°Êï∞"},null,8,D$),[[r.vModelText,B.value,void 0,{number:!0}]]),(0,r.createElementVNode)("button",{class:"summarize-btn",onClick:te,disabled:T.value,title:"ÊÄªÁªìÊúÄÊóßÁöÑËÆ∞ÂøÜ"},(0,r.toDisplayString)(T.value?"ÊÄªÁªì‰∏≠...":"üìù ÊÄªÁªì"),9,T$)])):(0,r.createCommentVNode)("v-if",!0)])])]),(0,r.createCommentVNode)(" ÊÄªÁªìÊ®°ÂºèÊèêÁ§∫ "),n[55]||(n[55]=(0,r.createElementVNode)("div",{class:"summary-mode-hint"},[(0,r.createTextVNode)(" ‚ÑπÔ∏è ÊÄªÁªìÊ®°ÂºèÈÖçÁΩÆÔºàRaw/Ê†áÂáÜ„ÄÅÊµÅÂºè/ÈùûÊµÅÂºèÔºâËØ∑ÂâçÂæÄ "),(0,r.createElementVNode)("strong",null,"ËÆ∞ÂøÜ‰∏≠ÂøÉÈù¢Êùø"),(0,r.createTextVNode)(" ‚Üí ËÆæÁΩÆ ")],-1)),(0,r.createElementVNode)("div",B$,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(P.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"memory-item"},[(0,r.createElementVNode)("div",I$,[(0,r.unref)(qz)(e)?((0,r.openBlock)(),(0,r.createElementBlock)("div",M$,(0,r.toDisplayString)((0,r.unref)(qz)(e)),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",z$,(0,r.toDisplayString)((0,r.unref)(Gz)(e)),1)]),(0,r.createElementVNode)("div",P$,[(0,r.createElementVNode)("button",{class:"memory-btn edit",onClick:e=>(async e=>{if(!g.value)return;const t=g.value.ÂêçÂ≠ó,n=Z(t);if(!n)return;if(!i.relationships?.[n]?.ËÆ∞ÂøÜ)return;const a=i.relationships[n].ËÆ∞ÂøÜ[e];if("string"==typeof a){const t=window.prompt("ÁºñËæëËÆ∞ÂøÜÂÜÖÂÆπ",a);if(null===t||""===t.trim())return;return i.relationships[n].ËÆ∞ÂøÜ[e]=t.trim(),g.value={...i.relationships[n]},await i.saveGame(),void u.showToast("ËÆ∞ÂøÜÂ∑≤Êõ¥Êñ∞",{type:"success"})}if(a&&"object"==typeof a){const t=a.Êó∂Èó¥||"Êú™Áü•Êó∂Èó¥",r=a.‰∫ã‰ª∂||"",o=window.prompt("ÁºñËæëËÆ∞ÂøÜÊó∂Èó¥",t);if(null===o)return;const s=window.prompt("ÁºñËæëËÆ∞ÂøÜ‰∫ã‰ª∂",r);if(null===s)return;i.relationships[n].ËÆ∞ÂøÜ[e]={Êó∂Èó¥:o.trim(),‰∫ã‰ª∂:s.trim()},g.value={...i.relationships[n]},await i.saveGame(),u.showToast("ËÆ∞ÂøÜÂ∑≤Êõ¥Êñ∞",{type:"success"})}})((M.value-1)*I.value+t)}," ÁºñËæë ",8,R$),(0,r.createElementVNode)("button",{class:"memory-btn delete",onClick:e=>(async e=>{g.value&&u.showRetryDialog({title:"Âà†Èô§ËÆ∞ÂøÜ",message:"Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÊù°ËÆ∞ÂøÜÂêóÔºü",confirmText:"Âà†Èô§",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{const t=g.value.ÂêçÂ≠ó,n=Z(t);n&&i.relationships?.[n]?.ËÆ∞ÂøÜ&&(i.relationships[n].ËÆ∞ÂøÜ.splice(e,1),g.value={...i.relationships[n]},await i.saveGame(),u.showToast("ËÆ∞ÂøÜÂ∑≤Âà†Èô§",{type:"success"}))},onCancel:()=>{}})})((M.value-1)*I.value+t)}," Âà†Èô§ ",8,$$)])]))),128))]),R.value>1?((0,r.openBlock)(),(0,r.createElementBlock)("div",O$,[(0,r.createElementVNode)("button",{class:"pagination-btn",disabled:M.value<=1,onClick:n[9]||(n[9]=e=>$(M.value-1))}," ‰∏ä‰∏ÄÈ°µ ",8,L$),(0,r.createElementVNode)("div",F$,[(0,r.createElementVNode)("span",j$,(0,r.toDisplayString)(M.value)+" / "+(0,r.toDisplayString)(R.value),1),(0,r.createElementVNode)("div",U$,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number","onUpdate:modelValue":n[10]||(n[10]=e=>z.value=e),min:1,max:R.value,class:"page-input",placeholder:"È°µÁ†Å",onKeyup:(0,r.withKeys)(O,["enter"])},null,40,q$),[[r.vModelText,z.value,void 0,{number:!0}]]),(0,r.createElementVNode)("button",{class:"jump-btn",onClick:O},"Ë∑≥ËΩ¨")])]),(0,r.createElementVNode)("button",{class:"pagination-btn",disabled:M.value>=R.value,onClick:n[11]||(n[11]=e=>$(M.value+1))}," ‰∏ã‰∏ÄÈ°µ ",8,G$)])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ËÆ∞ÂøÜÊÄªÁªìÂå∫Âüü "),g.value.ËÆ∞ÂøÜÊÄªÁªì?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",H$,[n[57]||(n[57]=(0,r.createElementVNode)("h5",{class:"section-title"},"üìú ËÆ∞ÂøÜÊÄªÁªì",-1)),(0,r.createElementVNode)("div",Y$,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(g.value.ËÆ∞ÂøÜÊÄªÁªì,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"memory-summary-item"},[n[56]||(n[56]=(0,r.createElementVNode)("div",{class:"summary-icon"},"üìú",-1)),(0,r.createElementVNode)("div",W$,(0,r.toDisplayString)(e),1)]))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Á©∫Áä∂ÊÄÅÊèêÁ§∫ "),g.value.ËÆ∞ÂøÜ?.length||g.value.ËÆ∞ÂøÜÊÄªÁªì?.length?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",X$,[(0,r.createElementVNode)("div",J$,[(0,r.createVNode)((0,r.unref)(Iu.A),{size:24,class:"empty-icon"}),n[58]||(n[58]=(0,r.createElementVNode)("p",null,"Ê≠§‰∫∫ÊöÇÊó†ËÆ∞ÂøÜ",-1)),n[59]||(n[59]=(0,r.createElementVNode)("p",{class:"empty-hint"},"Âú®Ê∏∏Êàè‰∏≠‰∏éËØ•‰∫∫Áâ©‰∫íÂä®‰ºöÁîüÊàêËÆ∞ÂøÜ",-1))])]))],512),[[r.vShow,"memory"===C.value]]),(0,r.createCommentVNode)(" End of Tab 4: ËÆ∞ÂøÜÊ°£Ê°à "),(0,r.createCommentVNode)(" Tab 5: ËÉåÂåÖ "),(0,r.withDirectives)((0,r.createElementVNode)("div",K$,[(0,r.createElementVNode)("div",Z$,[n[66]||(n[66]=(0,r.createElementVNode)("h5",{class:"section-title"},"ËÉåÂåÖ",-1)),g.value.ËÉåÂåÖ?.‰ø°Áî®ÁÇπ?((0,r.openBlock)(),(0,r.createElementBlock)("div",Q$,[(0,r.createElementVNode)("div",eO,[n[60]||(n[60]=(0,r.createElementVNode)("span",null,"‰ΩéÈ¢ù‰ø°Áî®ÁÇπ",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(g.value.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰ΩéÈ¢ù||0),1)]),(0,r.createElementVNode)("div",tO,[n[61]||(n[61]=(0,r.createElementVNode)("span",null,"‰∏≠È¢ù‰ø°Áî®ÁÇπ",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(g.value.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰∏≠È¢ù||0),1)]),(0,r.createElementVNode)("div",nO,[n[62]||(n[62]=(0,r.createElementVNode)("span",null,"È´òÈ¢ù‰ø°Áî®ÁÇπ",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(g.value.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.È´òÈ¢ù||0),1)]),(0,r.createElementVNode)("div",aO,[n[63]||(n[63]=(0,r.createElementVNode)("span",null,"ÊúÄÈ´òÈ¢ù‰ø°Áî®ÁÇπ",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(g.value.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.ÊúÄÈ´òÈ¢ù||0),1)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",rO,[Q(g.value)?((0,r.openBlock)(),(0,r.createElementBlock)("div",oO,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(g.value.ËÉåÂåÖ.Áâ©ÂìÅ,(e,t)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:(0,r.normalizeClass)(["npc-item-card",(o=e.ÂìÅË¥®?.quality,o?`quality-${o.toLowerCase()}`:"quality-unknown")])},[(0,r.createElementVNode)("div",iO,[(0,r.createElementVNode)("span",sO,(0,r.toDisplayString)(e.ÂêçÁß∞||t),1),(0,r.createElementVNode)("span",lO,(0,r.toDisplayString)(e.Á±ªÂûã||"ÂÖ∂‰ªñ"),1)]),e.ÂìÅË¥®?((0,r.openBlock)(),(0,r.createElementBlock)("div",cO,[(0,r.createElementVNode)("span",dO,(0,r.toDisplayString)(e.ÂìÅË¥®?.quality||"Êú™Áü•")+(0,r.toDisplayString)(e.ÂìÅË¥®?.grade?(a=e.ÂìÅË¥®.grade,null==a?"":0===a?"ÊÆãÁº∫":a>=1&&a<=3?"‰∏ãÂìÅ":a>=4&&a<=6?"‰∏≠ÂìÅ":a>=7&&a<=9?"‰∏äÂìÅ":10===a?"ÊûÅÂìÅ":""):""),1)])):(0,r.createCommentVNode)("v-if",!0),e.Êï∞Èáè>1?((0,r.openBlock)(),(0,r.createElementBlock)("div",uO,[(0,r.createElementVNode)("span",null,"x"+(0,r.toDisplayString)(e.Êï∞Èáè),1)])):(0,r.createCommentVNode)("v-if",!0),e.ÊèèËø∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",mO,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.ÊèèËø∞),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",pO,[(0,r.createElementVNode)("button",{class:"trade-btn",onClick:t=>((e,t)=>{const n=`Â∞ùËØï‰∏é ${e.ÂêçÂ≠ó} ‰∫§Êòì ${t.ÂêçÁß∞}`;d.addAction({type:"npc_trade",itemName:t.ÂêçÁß∞,itemType:"NPC‰∫§Êòì",description:n,npcName:e.ÂêçÂ≠ó,itemId:t.Áâ©ÂìÅID||t.ÂêçÁß∞,tradeType:"trade"}),u.showToast(`Â∑≤Â∞Ü‰∏é ${e.ÂêçÂ≠ó} ÁöÑ‰∫§ÊòìËØ∑Ê±ÇÂä†ÂÖ•Âä®‰ΩúÈòüÂàó`,{type:"success"})})(g.value,e),title:"Â∞ùËØï‰∫§ÊòìÊ≠§Áâ©ÂìÅ"},[(0,r.createVNode)((0,r.unref)(Uz),{size:12}),n[64]||(n[64]=(0,r.createTextVNode)("‰∫§Êòì ",-1))],8,gO),(0,r.createElementVNode)("button",{class:"request-btn",onClick:t=>((e,t)=>{const n=`Âêë ${e.ÂêçÂ≠ó} Á¥¢Ë¶Å ${t.ÂêçÁß∞}`;d.addAction({type:"npc_request",itemName:t.ÂêçÁß∞,itemType:"NPCÁ¥¢Ë¶Å",description:n,npcName:e.ÂêçÂ≠ó,itemId:t.Áâ©ÂìÅID||t.ÂêçÁß∞,tradeType:"request"}),u.showToast(`Â∑≤Â∞ÜÂêë ${e.ÂêçÂ≠ó} Á¥¢Ë¶ÅÁâ©ÂìÅÁöÑËØ∑Ê±ÇÂä†ÂÖ•Âä®‰ΩúÈòüÂàó`,{type:"success"})})(g.value,e),title:"ËØ∑Ê±ÇËé∑ÂæóÊ≠§Áâ©ÂìÅ"}," üôè Á¥¢Ë¶Å ",8,hO),(0,r.createElementVNode)("button",{class:"steal-btn",onClick:t=>((e,t)=>{const n=`Â∞ùËØï‰ªé ${e.ÂêçÂ≠ó} Ë∫´‰∏äÂÅ∑Âèñ ${t.ÂêçÁß∞}`;d.addAction({type:"npc_steal",itemName:t.ÂêçÁß∞,itemType:"NPCÂÅ∑Á™É",description:n,npcName:e.ÂêçÂ≠ó,itemId:t.Áâ©ÂìÅID||t.ÂêçÁß∞,tradeType:"steal"}),u.showToast(`Â∑≤Â∞ÜÂÅ∑Á™É ${e.ÂêçÂ≠ó} Áâ©ÂìÅÁöÑËÆ°ÂàíÂä†ÂÖ•Âä®‰ΩúÈòüÂàó`,{type:"success"})})(g.value,e),title:"Â∞ùËØïÂÅ∑ÂèñÊ≠§Áâ©ÂìÅ"}," ü•∑ ÂÅ∑Á™É ",8,fO)])],2);var a,o}),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",vO,[(0,r.createVNode)((0,r.unref)(Du),{size:24,class:"empty-icon"}),n[65]||(n[65]=(0,r.createElementVNode)("p",null,"Ê≠§‰∫∫Ë∫´‰∏äÊ≤°ÊúâÁâ©ÂìÅ",-1))]))])])],512),[[r.vShow,"inventory"===C.value]]),(0,r.createCommentVNode)(" End of Tab 5: ËÉåÂåÖ "),(0,r.createCommentVNode)(" Tab 6: ÂéüÂßãÊï∞ÊçÆ "),(0,r.withDirectives)((0,r.createElementVNode)("div",bO,[(0,r.createElementVNode)("div",yO,[n[67]||(n[67]=(0,r.createElementVNode)("h5",{class:"section-title"},"ÂéüÂßãÊï∞ÊçÆ (JSON)",-1)),(0,r.createElementVNode)("div",xO,[(0,r.createElementVNode)("pre",null,[(0,r.createElementVNode)("code",null,(0,r.toDisplayString)(JSON.stringify(g.value,null,2)),1)])])])],512),[[r.vShow,"raw"===C.value]]),(0,r.createCommentVNode)(" End of Tab 7: ÂéüÂßãÊï∞ÊçÆ ")]),(0,r.createCommentVNode)(" End of tab-content ")]),(0,r.createCommentVNode)(" End of detail-body ")],64)):((0,r.openBlock)(),(0,r.createElementBlock)("div",kO,[(0,r.createVNode)((0,r.unref)(Wu),{size:64,class:"placeholder-icon"}),n[68]||(n[68]=(0,r.createElementVNode)("p",{class:"placeholder-text"},"ÈÄâÊã©‰∏Ä‰∏™‰∫∫Áâ©Êü•ÁúãËØ¶ÁªÜ‰ø°ÊÅØ",-1)),n[69]||(n[69]=(0,r.createElementVNode)("p",{class:"placeholder-hint"},"Âú®Ê∏∏Êàè‰∏≠‰∏é‰∫∫Áâ©‰∫íÂä®‰ºöÂª∫Á´ãÂÖ≥Á≥ªËÆ∞ÂΩï",-1))]))])],2)])]))}});var EO=n(6716),NO={};NO.styleTagTransform=k(),NO.setAttributes=v(),NO.insert=h().bind(null,"head"),NO.domAPI=p(),NO.insertStyleElement=y(),u()(EO.A,NO),EO.A&&EO.A.locals&&EO.A.locals;const SO=(0,N.A)(wO,[["__scopeId","data-v-7961e58f"]]),_O=(0,_.A)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),VO=(0,_.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),CO={class:"deep-cultivation-modal"},AO={class:"modal-header"},DO={class:"modal-content"},TO={key:0,class:"technique-info-section"},BO={class:"info-header"},IO={class:"technique-details"},MO={class:"technique-quality"},zO={class:"progress-section"},PO={class:"progress-label"},RO={class:"progress-percent"},$O={class:"progress-bar-bg"},OO={key:0,class:"effects-section"},LO={class:"effects-list"},FO={key:0},jO={key:1},UO={class:"cultivation-days-section"},qO={class:"section-label"},GO={class:"section-hint"},HO={class:"input-group"},YO=["placeholder"],WO={class:"input-unit"},XO={class:"preset-buttons"},JO=["onClick"],KO={class:"modal-footer"},ZO=["disabled"],QO=(0,r.defineComponent)({__name:"DeepCultivationModal",props:{visible:{type:Boolean},technique:{},currentProgress:{default:0}},emits:["close","confirm"],setup(e,{emit:t}){const{t:n}=(0,K.s)(),a=e,o=t,i=(0,r.ref)(7),s=[{label:"1Â§©",value:1},{label:"7Â§©",value:7},{label:"30Â§©",value:30},{label:"90Â§©",value:90},{label:"180Â§©",value:180},{label:"365Â§©",value:365}],l=(0,r.computed)(()=>i.value>=1&&i.value<=3650),c={Âá°:"Âü∫Á°ÄÁ∫ß",ÈªÑ:"ÊîπËâØÁ∫ß",ÁéÑ:"Á≤æËâØÁ∫ß",Âú∞:"È´òÁ∫ß",Â§©:"È°∂Á∫ß",Âú£:"Âè≤ËØóÁ∫ß",Á•û:"‰º†Â•áÁ∫ß",‰ªô:"Á•ûËØùÁ∫ß"},d=(0,r.computed)(()=>`quality-${a.technique?.ÂìÅË¥®?.quality||"Âá°"}`),u=()=>{o("close")},m=()=>{l.value&&o("confirm",i.value)};return(0,r.watch)(()=>a.visible,e=>{e||(i.value=7)}),(e,t)=>{return e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,r.withModifiers)(u,["self"])},[(0,r.createElementVNode)("div",CO,[(0,r.createElementVNode)("div",AO,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(e.$t("Ê∑±Â∫¶ËÆ≠ÁªÉ")),1),(0,r.createElementVNode)("button",{class:"close-btn",onClick:u},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:20})])]),(0,r.createElementVNode)("div",DO,[(0,r.createCommentVNode)(" Ê®°Âùó‰ø°ÊÅØ "),e.technique?((0,r.openBlock)(),(0,r.createElementBlock)("div",TO,[(0,r.createElementVNode)("div",BO,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["technique-icon",d.value])},"üìñ",2),(0,r.createElementVNode)("div",IO,[(0,r.createElementVNode)("h4",{class:(0,r.normalizeClass)(["technique-name",d.value])},(0,r.toDisplayString)(e.technique.ÂêçÁß∞),3),(0,r.createElementVNode)("div",MO,(0,r.toDisplayString)((n=e.technique.ÂìÅË¥®?.quality,n?c[n]||`${n}`:"Âü∫Á°ÄÁ∫ß"))+" "+(0,r.toDisplayString)(e.technique.ÂìÅË¥®?.grade||0)+"Èò∂ ",1)])]),(0,r.createCommentVNode)(" ÂΩìÂâçËÆ≠ÁªÉËøõÂ∫¶ "),(0,r.createElementVNode)("div",zO,[(0,r.createElementVNode)("div",PO,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.$t("ÂΩìÂâçËÆ≠ÁªÉËøõÂ∫¶")),1),(0,r.createElementVNode)("span",RO,(0,r.toDisplayString)(e.currentProgress)+"%",1)]),(0,r.createElementVNode)("div",$O,[(0,r.createElementVNode)("div",{class:"progress-bar-fill",style:(0,r.normalizeStyle)({width:e.currentProgress+"%"})},null,4)])]),(0,r.createCommentVNode)(" Ê®°ÂùóÊïàÊûú "),e.technique.Ê®°ÂùóÊïàÊûú?((0,r.openBlock)(),(0,r.createElementBlock)("div",OO,[(0,r.createElementVNode)("h5",null,(0,r.toDisplayString)(e.$t("Ê®°ÂùóÊïàÊûú")),1),(0,r.createElementVNode)("ul",LO,[e.technique.Ê®°ÂùóÊïàÊûú.ËÆ≠ÁªÉÈÄüÂ∫¶Âä†Êàê?((0,r.openBlock)(),(0,r.createElementBlock)("li",FO,[t[1]||(t[1]=(0,r.createElementVNode)("span",{class:"effect-icon"},"üöÄ",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.$t("ËÆ≠ÁªÉÈÄüÂ∫¶: +{0}%").replace("{0}",(100*(e.technique.Ê®°ÂùóÊïàÊûú.ËÆ≠ÁªÉÈÄüÂ∫¶Âä†Êàê-1)).toFixed(0))),1)])):(0,r.createCommentVNode)("v-if",!0),e.technique.Ê®°ÂùóÊïàÊûú.Â±ûÊÄßÂä†Êàê?((0,r.openBlock)(),(0,r.createElementBlock)("li",jO,[t[2]||(t[2]=(0,r.createElementVNode)("span",{class:"effect-icon"},"üí™",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.$t("Â±ûÊÄßÂä†Êàê:"))+" ",1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.technique.Ê®°ÂùóÊïàÊûú.Â±ûÊÄßÂä†Êàê,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:t,class:"attr-bonus"},(0,r.toDisplayString)(t)+"+"+(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ËÆ≠ÁªÉÂ§©Êï∞ÈÄâÊã© "),(0,r.createElementVNode)("div",UO,[(0,r.createElementVNode)("label",qO,(0,r.toDisplayString)(e.$t("ÈÄâÊã©ËÆ≠ÁªÉÂ§©Êï∞")),1),(0,r.createElementVNode)("p",GO,(0,r.toDisplayString)(e.$t("AIÂ∞ÜÊ†πÊçÆËÆ≠ÁªÉÂ§©Êï∞ÁîüÊàêËØ¶ÁªÜÁöÑËÆ≠ÁªÉËøáÁ®ãÂíåÁªìÊûú")),1),(0,r.createElementVNode)("div",HO,[(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),type:"number",min:1,max:3650,step:1,class:"days-input",placeholder:e.$t("ËæìÂÖ•Â§©Êï∞")},null,8,YO),[[r.vModelText,i.value,void 0,{number:!0}]]),(0,r.createElementVNode)("span",WO,(0,r.toDisplayString)(e.$t("Â§©")),1)]),(0,r.createCommentVNode)(" Âø´Êç∑ÈÄâÊã© "),(0,r.createElementVNode)("div",XO,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s,e=>(0,r.createElementVNode)("button",{key:e.value,class:(0,r.normalizeClass)(["preset-btn",{active:i.value===e.value}]),onClick:t=>i.value=e.value},(0,r.toDisplayString)(e.label),11,JO)),64))])])]),(0,r.createElementVNode)("div",KO,[(0,r.createElementVNode)("button",{class:"btn btn-cancel",onClick:u},(0,r.toDisplayString)(e.$t("ÂèñÊ∂à")),1),(0,r.createElementVNode)("button",{class:"btn btn-confirm",disabled:!l.value,onClick:m},(0,r.toDisplayString)(e.$t("ÂºÄÂßãËÆ≠ÁªÉ")),9,ZO)])])])):(0,r.createCommentVNode)("v-if",!0);var n}}});var eL=n(9778),tL={};tL.styleTagTransform=k(),tL.setAttributes=v(),tL.insert=h().bind(null,"head"),tL.domAPI=p(),tL.insertStyleElement=y(),u()(eL.A,tL),eL.A&&eL.A.locals&&eL.A.locals;const nL=(0,N.A)(QO,[["__scopeId","data-v-28d63219"]]),aL={class:"skills-panel"},rL={class:"panel-tabs"},oL={key:0,class:"tab-count"},iL={key:0,class:"tab-count"},sL={key:0,class:"tab-content"},lL={class:"cultivation-header"},cL={class:"cultivation-info"},dL={class:"technique-meta"},uL={class:"meta-label"},mL={class:"cultivation-actions"},pL=["title"],gL=["title"],hL=["title"],fL=["title"],vL=["title"],bL={key:0,class:"cultivation-stats"},yL={class:"stat-item"},xL={class:"stat-label"},kL={class:"stat-item"},wL={class:"stat-label"},EL={class:"stat-value"},NL={class:"stat-item"},SL={class:"stat-label"},_L={class:"stat-value"},VL={class:"stat-item"},CL={class:"stat-label"},AL={class:"stat-value success"},DL={key:0,class:"stat-item highlight"},TL={class:"stat-label"},BL={class:"stat-value warning"},IL={key:1,class:"progress-bar"},ML={key:0,class:"skills-section"},zL={class:"section-header"},PL={class:"section-count"},RL={class:"skills-grid"},$L={class:"skill-header"},OL={class:"skill-name"},LL={class:"skill-desc"},FL={key:0,class:"skill-progress"},jL={class:"progress-info"},UL={class:"progress-track"},qL={key:1,class:"skill-cost"},GL={class:"tab-content"},HL={class:"search-bar"},YL=["placeholder"],WL={key:0,class:"empty-state"},XL={key:1,class:"mastered-grid"},JL=["onClick"],KL={class:"mastered-header"},ZL={class:"mastered-name"},QL={class:"mastered-badge"},eF={class:"mastered-desc"},tF={class:"mastered-meta"},nF={class:"meta-tag"},aF={class:"meta-stat"},rF={class:"tab-content"},oF={class:"search-bar"},iF=["placeholder"],sF={key:0,class:"empty-state"},lF={key:1,class:"library-grid"},cF={class:"technique-header"},dF={key:0,class:"equipped-badge"},uF={class:"technique-desc"},mF={class:"technique-footer"},pF={class:"skill-count"},gF={class:"technique-actions"},hF={key:0,class:"tech-btn",disabled:""},fF=["onClick"],vF=(0,r.defineComponent)({__name:"SkillsPanel",setup(e){const{t}=(0,K.s)(),a=(0,Au.useGameStateStore)(),o=(0,md.useCharacterStore)(),i=(0,A.useUIStore)(),s=(0,r.ref)("cultivation"),l=(0,r.ref)(!1),c=(0,r.ref)(""),d=(0,r.ref)(""),u=(0,r.ref)(null),m=(0,r.computed)(()=>{const e=a.inventory?.Áâ©ÂìÅ;if(!e)return null;const t=a.trainingProgram?.Áâ©ÂìÅID;return t&&e[t]?e[t]:Object.values(e).find(e=>{const t=e?.Á±ªÂûã||e?.type;return("Á®ãÂ∫è"===t||String(t||"").includes("Á®ãÂ∫è"))&&(!0===e?.Â∑≤Ë£ÖÂ§á||!0===e?.ËÆ≠ÁªÉ‰∏≠)})||null}),p=(0,r.computed)(()=>{const e=a.inventory?.Áâ©ÂìÅ;return e?Object.values(e).filter(e=>{const t=e?.Á±ªÂûã||e?.type;return"Á®ãÂ∫è"===t||String(t||"").includes("Á®ãÂ∫è")}):[]}),g=((0,r.computed)(()=>p.value.filter(e=>!e.Â∑≤Ë£ÖÂ§á&&!e.ËÆ≠ÁªÉ‰∏≠)),(0,r.computed)(()=>p.value.length)),h=(0,r.computed)(()=>m.value?.Á®ãÂ∫èÊäÄËÉΩ?[...m.value.Á®ãÂ∫èÊäÄËÉΩ].sort((e,t)=>v(e)-v(t)):[]),f=(0,r.computed)(()=>{if(!m.value?.Á®ãÂ∫èÊäÄËÉΩ)return[];const e=m.value.Â∑≤Ëß£ÈîÅÊäÄËÉΩ||[];return m.value.Á®ãÂ∫èÊäÄËÉΩ.filter(t=>e.includes(t.ÊäÄËÉΩÂêçÁß∞))}),v=e=>{const t=e.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç??e.Ëß£ÈîÅÈúÄË¶ÅÁÜüÁªÉÂ∫¶,n="number"==typeof t?t:Number(t||0);return isNaN(n)?0:Math.max(0,Math.min(100,Math.round(n)))},b=e=>m.value?.Â∑≤Ëß£ÈîÅÊäÄËÉΩ?.includes(e)||!1,y=e=>{const t=m.value?.ËÆ≠ÁªÉËøõÂ∫¶||0,n=v(e)||100;return Math.min(100,t/n*100)},x=(0,r.computed)(()=>a.masteredSkills||[]),k=(0,r.computed)(()=>{const e=d.value.trim().toLowerCase();return e?x.value.filter(t=>`${t.ÊäÄËÉΩÂêçÁß∞} ${t.ÊäÄËÉΩÊèèËø∞||""} ${t.Êù•Ê∫ê||""}`.toLowerCase().includes(e)):x.value}),w=(0,r.computed)(()=>!!m.value&&(m.value.ËÆ≠ÁªÉËøõÂ∫¶||0)>=100),E=(0,r.computed)(()=>{const e=m.value;return e?(1*(t=e.ÂìÅË¥®?.quality,{‰ªô:3,Á•û:2.5,Âú£:2,Â§©:1.8,Âú∞:1.5,ÁéÑ:1.3,ÈªÑ:1.1,Âá°:1}[t||"Âá°"]||1)*(e.Á®ãÂ∫èÊïàÊûú?.ËÆ≠ÁªÉÈÄüÂ∫¶Âä†Êàê||1)).toFixed(1):"0";var t}),N=(0,r.computed)(()=>{if(!w.value)return 0;const e=m.value;if(!e)return 0;const t={‰ªô:30,Á•û:40,Âú£:50,Â§©:60,Âú∞:70,ÁéÑ:75,ÈªÑ:80,Âá°:85}[e.ÂìÅË¥®?.quality||"Âá°"]||70;return Math.min(95,t)}),S=async e=>{if(!m.value)return;const{useActionQueueStore:a}=await Promise.resolve().then(n.bind(n,3310)),r=a();"normal"===e?(r.addAction({type:"train",itemName:m.value.ÂêçÁß∞,itemType:t("Ê®°Âùó"),description:`ÂºÄÂßãËÆ≠ÁªÉ„Ää${m.value.ÂêçÁß∞}„ÄãÔºåÊèêÂçáÊ®°ÂùóÁÜüÁªÉÂ∫¶`}),i.showToast(`ÂºÄÂßãËÆ≠ÁªÉ„Ää${m.value.ÂêçÁß∞}„Äã`,{type:"success"})):(r.addAction({type:"train",itemName:m.value.ÂêçÁß∞,itemType:t("ÈùôÈªòËÆ≠ÁªÉ"),description:`ËøõÂÖ•ÈùôÈªòËÆ≠ÁªÉÁä∂ÊÄÅÔºå‰∏ìÂøÉËÆ≠ÁªÉ„Ää${m.value.ÂêçÁß∞}„ÄãÔºåÊïàÁéáÂ§ßÂπÖÊèêÂçá`}),i.showToast(`ËøõÂÖ•ÈùôÈªòËÆ≠ÁªÉ„Ää${m.value.ÂêçÁß∞}„Äã`,{type:"info"}))},_=async()=>{if(!m.value||!w.value)return;const{useActionQueueStore:e}=await Promise.resolve().then(n.bind(n,3310));e().addAction({type:"breakthrough",itemName:m.value.ÂêçÁß∞,itemType:t("ÂçáÁ∫ß"),description:`Â∞ùËØïÂçáÁ∫ß„Ää${m.value.ÂêçÁß∞}„ÄãÁöÑÂΩìÂâçÈò∂ÊÆµÔºåËøõÂÖ•Êõ¥È´òÂ±ÇÊ¨°`}),i.showToast(`Â∞ùËØïÂçáÁ∫ß„Ää${m.value.ÂêçÁß∞}„Äã`,{type:"warning"})},V=(0,r.computed)(()=>m.value),C=e=>Math.min(100,Math.max(0,e||0)).toFixed(1),D={Âá°:"Âü∫Á°Ä",ÈªÑ:"ÊîπËâØ",ÁéÑ:"Á≤æËâØ",Âú∞:"Á®ÄÊúâ",Â§©:"ÂçìË∂ä",Âú£:"Âè≤ËØó",Á•û:"‰º†Â•á",‰ªô:"Á•ûËØù"},T=e=>`${D[e||"Âá°"]||D.Âá°}Á∫ß`,B=e=>`text-quality-${e?.ÂìÅË¥®?.quality||"Âá°"}`,I=e=>`border-quality-${e?.ÂìÅË¥®?.quality||"Âá°"}`,M=e=>!0===e.Â∑≤Ë£ÖÂ§á||!0===e.ËÆ≠ÁªÉ‰∏≠,z=Ly.getInstance(),P=async()=>{if(!m.value?.Áâ©ÂìÅID)return;const e=m.value;i.showRetryDialog({title:t("Âç∏‰∏ãÊ®°Âùó"),message:`${t("Á°ÆÂÆöË¶ÅÂç∏‰∏ã")}„Ää${e.ÂêçÁß∞}„Äã${t("Âêó")}Ôºü`,confirmText:t("Á°ÆÂÆöÂç∏‰∏ã"),cancelText:t("ÂèñÊ∂à"),onConfirm:async()=>{try{const t=a.training?.ËÆ≠ÁªÉÁ®ãÂ∫è?.Áâ©ÂìÅID;t===e.Áâ©ÂìÅID&&await z.stopTraining(e),await o.unequipTechnique(e.Áâ©ÂìÅID)}catch(e){console.error("[SkillsPanel] Unequip technique failed:",e)}},onCancel:()=>{}})},R=()=>{m.value&&(l.value=!0)},$=()=>{l.value=!1},O=async e=>{if(l.value=!1,m.value)try{const{useActionQueueStore:a}=await Promise.resolve().then(n.bind(n,3310));a().addAction({type:"train",itemName:m.value.ÂêçÁß∞,itemType:t("Ê®°Âùó"),description:`ÂØπ„Ää${m.value.ÂêçÁß∞}„ÄãËøõË°å${e}Â§©ÁöÑÊ∑±Â∫¶ËÆ≠ÁªÉ`})}catch(e){console.error("[SkillsPanel] Add deep training action failed:",e)}};(0,r.watch)(m,()=>{(()=>{if(!m.value)return;const e=m.value;if(!e.Á®ãÂ∫èÊäÄËÉΩ||!Array.isArray(e.Á®ãÂ∫èÊäÄËÉΩ))return;const t=e.ËÆ≠ÁªÉËøõÂ∫¶||0;let n=!1;e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ||(e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ=[]),e.Á®ãÂ∫èÊäÄËÉΩ.forEach(a=>{const r=a.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç||0;t>=r&&!e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.includes(a.ÊäÄËÉΩÂêçÁß∞)&&(e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.push(a.ÊäÄËÉΩÂêçÁß∞),n=!0)}),n&&o.saveCurrentGame()})()},{immediate:!0});const L=(0,r.computed)(()=>{const e=c.value.trim().toLowerCase(),t=p.value.filter(t=>{if(!e)return!0;const n=String(t.ÂêçÁß∞||"").toLowerCase(),a=String(t.ÊèèËø∞||"").toLowerCase();return n.includes(e)||a.includes(e)}),n={‰ªô:1,Á•û:2,Âú£:3,ÈÅì:4,Â§©:5,Âú∞:6,ÁéÑ:7,ÈªÑ:8,Âá°:9};return[...t].sort((e,t)=>{const a=!0===e.Â∑≤Ë£ÖÂ§á||!0===e.ËÆ≠ÁªÉ‰∏≠;if(a!==(!0===t.Â∑≤Ë£ÖÂ§á||!0===t.ËÆ≠ÁªÉ‰∏≠))return a?-1:1;const r=n[e.ÂìÅË¥®?.quality||"Âá°"]??99,o=n[t.ÂìÅË¥®?.quality||"Âá°"]??99;return r!==o?r-o:String(e.ÂêçÁß∞||"").localeCompare(String(t.ÂêçÁß∞||""),"zh-Hans-CN")})});return(e,n)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",aL,[(0,r.createCommentVNode)(" Ê†áÁ≠æÈ°µÂØºËà™ "),(0,r.createElementVNode)("div",rL,[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["panel-tab",{active:"cultivation"===s.value}]),onClick:n[0]||(n[0]=e=>s.value="cultivation")},[(0,r.createVNode)((0,r.unref)(Mu),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉ")),1)],2),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["panel-tab",{active:"mastered"===s.value}]),onClick:n[1]||(n[1]=e=>s.value="mastered")},[(0,r.createVNode)((0,r.unref)(L_),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("ÊéåÊè°ÊäÄËÉΩ")),1),x.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("span",oL,(0,r.toDisplayString)(x.value.length),1)):(0,r.createCommentVNode)("v-if",!0)],2),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["panel-tab",{active:"library"===s.value}]),onClick:n[2]||(n[2]=e=>s.value="library")},[(0,r.createVNode)((0,r.unref)(Iu.A),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÂ∫ì")),1),g.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",iL,(0,r.toDisplayString)(g.value),1)):(0,r.createCommentVNode)("v-if",!0)],2)]),(0,r.createCommentVNode)(" ËÆ≠ÁªÉÈ°µÈù¢ "),"cultivation"===s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",sL,[(0,r.createCommentVNode)(" ÂΩìÂâçËÆ≠ÁªÉÊ®°Âùó "),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["cultivation-card",m.value?I(m.value):""])},[(0,r.createElementVNode)("div",lL,[(0,r.createElementVNode)("div",cL,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["technique-icon",m.value?(a=m.value,`bg-quality-${a?.ÂìÅË¥®?.quality||"Âá°"}`):""])},[(0,r.createVNode)((0,r.unref)(My.A),{size:20})],2),(0,r.createElementVNode)("div",dL,[(0,r.createElementVNode)("span",uL,(0,r.toDisplayString)(m.value?(0,r.unref)(t)("ÂΩìÂâçËÆ≠ÁªÉ"):(0,r.unref)(t)("Êú™Âú®ËÆ≠ÁªÉ")),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["technique-name",m.value?B(m.value):""])},(0,r.toDisplayString)(m.value?.ÂêçÁß∞||(0,r.unref)(t)("ËØ∑‰ªéÊ®°ÂùóÂ∫ìÈÄâÊã©Ê®°Âùó")),3)])]),(0,r.createElementVNode)("div",mL,[m.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)("button",{class:"action-btn primary",onClick:n[3]||(n[3]=e=>S("normal")),title:(0,r.unref)(t)("ËÆ≠ÁªÉ")},[(0,r.createVNode)((0,r.unref)(Mu),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉ")),1)],8,pL),(0,r.createElementVNode)("button",{class:"action-btn",onClick:n[4]||(n[4]=e=>S("secluded")),title:(0,r.unref)(t)("ÈùôÈªòËÆ≠ÁªÉ")},[(0,r.createVNode)((0,r.unref)(_O),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("ÈùôÈªòËÆ≠ÁªÉ")),1)],8,gL),(0,r.createElementVNode)("button",{class:"action-btn",onClick:R,title:(0,r.unref)(t)("Ê∑±Â∫¶ËÆ≠ÁªÉ")},[(0,r.createVNode)((0,r.unref)(Fg),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("Ê∑±Â∫¶ËÆ≠ÁªÉ")),1)],8,hL),w.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"action-btn warning",onClick:_,title:(0,r.unref)(t)("ÂçáÁ∫ß")},[(0,r.createVNode)((0,r.unref)(VO),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("ÂçáÁ∫ß")),1)],8,fL)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{class:"action-btn danger",onClick:P,title:(0,r.unref)(t)("Âç∏‰∏ã")},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("Âç∏‰∏ã")),1)],8,vL)],64)):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createCommentVNode)(" ËÆ≠ÁªÉÁªüËÆ° "),m.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",bL,[(0,r.createElementVNode)("div",yL,[(0,r.createElementVNode)("span",xL,(0,r.toDisplayString)((0,r.unref)(t)("ÂìÅË¥®")),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["stat-value",B(m.value)])},(0,r.toDisplayString)(T(m.value.ÂìÅË¥®?.quality)),3)]),(0,r.createElementVNode)("div",kL,[(0,r.createElementVNode)("span",wL,(0,r.toDisplayString)((0,r.unref)(t)("ËøõÂ∫¶")),1),(0,r.createElementVNode)("span",EL,(0,r.toDisplayString)(C(m.value.ËÆ≠ÁªÉËøõÂ∫¶))+"%",1)]),(0,r.createElementVNode)("div",NL,[(0,r.createElementVNode)("span",SL,(0,r.toDisplayString)((0,r.unref)(t)("ÈÄüÂ∫¶")),1),(0,r.createElementVNode)("span",_L,(0,r.toDisplayString)(E.value)+"%/Êó•",1)]),(0,r.createElementVNode)("div",VL,[(0,r.createElementVNode)("span",CL,(0,r.toDisplayString)((0,r.unref)(t)("Â∑≤Ëß£ÈîÅ")),1),(0,r.createElementVNode)("span",AL,(0,r.toDisplayString)(f.value.length)+"/"+(0,r.toDisplayString)(h.value.length),1)]),w.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",DL,[(0,r.createElementVNode)("span",TL,(0,r.toDisplayString)((0,r.unref)(t)("ÂçáÁ∫ßÁéá")),1),(0,r.createElementVNode)("span",BL,(0,r.toDisplayString)(N.value)+"%",1)])):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ËøõÂ∫¶Êù° "),m.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",IL,[(0,r.createElementVNode)("div",{class:"progress-fill",style:(0,r.normalizeStyle)({width:C(m.value.ËÆ≠ÁªÉËøõÂ∫¶)+"%"})},null,4)])):(0,r.createCommentVNode)("v-if",!0)],2),(0,r.createCommentVNode)(" Ê®°ÂùóÊäÄËÉΩÂàóË°® "),m.value&&h.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",ML,[(0,r.createElementVNode)("div",zL,[(0,r.createVNode)((0,r.unref)(L_),{size:16}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÊäÄËÉΩ")),1),(0,r.createElementVNode)("span",PL,(0,r.toDisplayString)(f.value.length)+"/"+(0,r.toDisplayString)(h.value.length),1)]),(0,r.createElementVNode)("div",RL,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(h.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.ÊäÄËÉΩÂêçÁß∞,class:(0,r.normalizeClass)(["skill-card",{unlocked:b(e.ÊäÄËÉΩÂêçÁß∞)}])},[(0,r.createElementVNode)("div",$L,[(0,r.createElementVNode)("span",OL,(0,r.toDisplayString)(e.ÊäÄËÉΩÂêçÁß∞),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["skill-badge",b(e.ÊäÄËÉΩÂêçÁß∞)?"success":"locked"])},(0,r.toDisplayString)(b(e.ÊäÄËÉΩÂêçÁß∞)?(0,r.unref)(t)("Â∑≤Ëß£ÈîÅ"):(0,r.unref)(t)("Êú™Ëß£ÈîÅ")),3)]),(0,r.createElementVNode)("p",LL,(0,r.toDisplayString)(e.ÊäÄËÉΩÊèèËø∞||(0,r.unref)(t)("ÊöÇÊó†ÊèèËø∞")),1),b(e.ÊäÄËÉΩÂêçÁß∞)?((0,r.openBlock)(),(0,r.createElementBlock)("div",qL,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t)("Ê∂àËÄó"))+": "+(0,r.toDisplayString)(e.Ê∂àËÄó||(0,r.unref)(t)("Êó†")),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",FL,[(0,r.createElementVNode)("div",jL,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(C(m.value.ËÆ≠ÁªÉËøõÂ∫¶))+"%",1),n[7]||(n[7]=(0,r.createElementVNode)("span",null,"/",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(v(e))+"%",1)]),(0,r.createElementVNode)("div",UL,[(0,r.createElementVNode)("div",{class:"progress-fill",style:(0,r.normalizeStyle)({width:y(e)+"%"})},null,4)])]))],2))),128))])])):(0,r.createCommentVNode)("v-if",!0)])):"mastered"===s.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(" ÊéåÊè°ÊäÄËÉΩ "),(0,r.createElementVNode)("div",GL,[(0,r.createCommentVNode)(" ÊêúÁ¥¢Ê†è "),(0,r.createElementVNode)("div",HL,[(0,r.createVNode)((0,r.unref)(hI),{size:16}),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":n[5]||(n[5]=e=>d.value=e),type:"text",placeholder:(0,r.unref)(t)("ÊêúÁ¥¢ÊäÄËÉΩ...")},null,8,YL),[[r.vModelText,d.value]])]),0===k.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",WL,[(0,r.createVNode)((0,r.unref)(L_),{size:32,class:"empty-icon"}),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(d.value.trim()?(0,r.unref)(t)("Ê≤°ÊúâÂåπÈÖçÁöÑÊäÄËÉΩ"):(0,r.unref)(t)("ÊöÇÊó†ÊéåÊè°ÊäÄËÉΩ")),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",XL,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(k.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.ÊäÄËÉΩÂêçÁß∞+"::"+(e.Êù•Ê∫ê||""),class:(0,r.normalizeClass)(["mastered-card",{active:u.value===e.ÊäÄËÉΩÂêçÁß∞+"::"+(e.Êù•Ê∫ê||"")}]),onClick:t=>(e=>{u.value=e.ÊäÄËÉΩÂêçÁß∞+"::"+(e.Êù•Ê∫ê||"")})(e)},[(0,r.createElementVNode)("div",KL,[(0,r.createElementVNode)("span",ZL,(0,r.toDisplayString)(e.ÊäÄËÉΩÂêçÁß∞),1),(0,r.createElementVNode)("span",QL,(0,r.toDisplayString)((0,r.unref)(t)("Â∑≤ÊéåÊè°")),1)]),(0,r.createElementVNode)("p",eF,(0,r.toDisplayString)(e.ÊäÄËÉΩÊèèËø∞||(0,r.unref)(t)("ÊöÇÊó†ÊèèËø∞")),1),(0,r.createElementVNode)("div",tF,[(0,r.createElementVNode)("span",nF,(0,r.toDisplayString)(e.Êù•Ê∫ê||(0,r.unref)(t)("Êú™Áü•Êù•Ê∫ê")),1),(0,r.createElementVNode)("span",aF,(0,r.toDisplayString)((0,r.unref)(t)("ÁÜüÁªÉÂ∫¶"))+" "+(0,r.toDisplayString)(e.ÁÜüÁªÉÂ∫¶??0),1)])],10,JL))),128))]))])],2112)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createCommentVNode)(" Ê®°ÂùóÂ∫ì "),(0,r.createElementVNode)("div",rF,[(0,r.createCommentVNode)(" ÊêúÁ¥¢Ê†è "),(0,r.createElementVNode)("div",oF,[(0,r.createVNode)((0,r.unref)(hI),{size:16}),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":n[6]||(n[6]=e=>c.value=e),type:"text",placeholder:(0,r.unref)(t)("ÊêúÁ¥¢Ê®°Âùó...")},null,8,iF),[[r.vModelText,c.value]])]),0===L.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",sF,[(0,r.createVNode)((0,r.unref)(Iu.A),{size:32,class:"empty-icon"}),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(t)("Ê®°ÂùóÂ∫ì‰∏∫Á©∫ÊàñÊó†ÂåπÈÖçÁªìÊûú")),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",lF,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(L.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.Áâ©ÂìÅID,class:(0,r.normalizeClass)(["technique-card",[{equipped:M(e)},I(e)]])},[(0,r.createElementVNode)("div",cF,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["technique-name",B(e)])},(0,r.toDisplayString)(e.ÂêçÁß∞),3),M(e)?((0,r.openBlock)(),(0,r.createElementBlock)("span",dF,(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉ‰∏≠")),1)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("p",uF,(0,r.toDisplayString)(e.ÊèèËø∞||(0,r.unref)(t)("ÊöÇÊó†ÊèèËø∞")),1),(0,r.createElementVNode)("div",mF,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["quality-tag",B(e)])},(0,r.toDisplayString)(T(e.ÂìÅË¥®?.quality)),3),(0,r.createElementVNode)("span",pF,(0,r.toDisplayString)(e.Á®ãÂ∫èÊäÄËÉΩ?.length||0)+" "+(0,r.toDisplayString)((0,r.unref)(t)("ÊäÄËÉΩ")),1)]),(0,r.createElementVNode)("div",gF,[M(e)?((0,r.openBlock)(),(0,r.createElementBlock)("button",hF,(0,r.toDisplayString)((0,r.unref)(t)("ËÆ≠ÁªÉ‰∏≠")),1)):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"tech-btn primary",onClick:(0,r.withModifiers)(n=>(async e=>{if(!e?.Áâ©ÂìÅID)return;if(!0===e.Â∑≤Ë£ÖÂ§á||!0===e.ËÆ≠ÁªÉ‰∏≠)return;const n=async()=>{try{await o.equipTechnique(e.Áâ©ÂìÅID),s.value="cultivation"}catch(e){console.error("[SkillsPanel] Equip technique failed:",e)}};m.value?i.showRetryDialog({title:t("ÂàáÊç¢Ê®°Âùó"),message:`${t("ÂΩìÂâçÊ≠£Âú®ËÆ≠ÁªÉ")}„Ää${m.value.ÂêçÁß∞}„ÄãÔºå${t("Á°ÆÂÆöË¶ÅÂàáÊç¢Âà∞")}„Ää${e.ÂêçÁß∞}„Äã${t("Âêó")}Ôºü`,onConfirm:n,onCancel:()=>{}}):await n()})(e),["stop"])},(0,r.toDisplayString)((0,r.unref)(t)("Ë£ÖÂ§á")),9,fF))])],2))),128))]))])],2112)),(0,r.createVNode)(nL,{visible:l.value,technique:V.value,"current-progress":m.value?.ËÆ≠ÁªÉËøõÂ∫¶||0,onClose:$,onConfirm:O},null,8,["visible","technique","current-progress"])]);var a}}});var bF=n(4780),yF={};yF.styleTagTransform=k(),yF.setAttributes=v(),yF.insert=h().bind(null,"head"),yF.domAPI=p(),yF.insertStyleElement=y(),u()(bF.A,yF),bF.A&&bF.A.locals&&bF.A.locals;const xF=(0,N.A)(vF,[["__scopeId","data-v-790c1423"]]),kF=(0,_.A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),wF=(0,_.A)("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),EF=(0,_.A)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),NF=(0,_.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),SF=(0,_.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),_F=(0,_.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),VF={class:"dao-panel"},CF={class:"dao-stats-header"},AF={class:"stats-card"},DF={class:"stats-icon enlightened"},TF={class:"stats-info"},BF={class:"stats-value"},IF={class:"stats-card"},MF={class:"stats-icon experience"},zF={class:"stats-info"},PF={class:"stats-value"},RF={class:"stats-actions"},$F={key:0,class:"dao-filter-bar"},OF={class:"filter-tags"},LF=["onClick"],FF={class:"tag-count"},jF={class:"sort-dropdown"},UF=["value"],qF={class:"dao-content"},GF={key:0,class:"dao-empty"},HF={class:"empty-illustration"},YF={class:"empty-icon-wrapper"},WF={class:"quick-actions"},XF={class:"dao-list"},JF=["onClick"],KF={class:"dao-card-header"},ZF={class:"dao-icon"},QF={class:"dao-title-group"},ej={class:"dao-name"},tj={class:"dao-card-body"},nj={class:"dao-progress-wrapper"},aj={class:"dao-progress-bar"},rj={class:"dao-progress-text"},oj={class:"dao-exp-info"},ij={class:"exp-current"},sj={class:"exp-required"},lj=["onClick"],cj=["onClick"],dj=["onClick"],uj={key:2,class:"dao-detail-panel"},mj={class:"detail-header"},pj={class:"detail-title-group"},gj={class:"detail-icon"},hj={class:"detail-title"},fj={class:"detail-stage"},vj={class:"detail-body"},bj={class:"detail-stats-grid"},yj={class:"detail-stat-card"},xj={class:"stat-card-icon"},kj={class:"stat-card-content"},wj={class:"stat-card-value"},Ej={class:"detail-stat-card"},Nj={class:"stat-card-icon"},Sj={class:"stat-card-content"},_j={class:"stat-card-value"},Vj={class:"detail-stat-card"},Cj={class:"stat-card-icon"},Aj={class:"stat-card-content"},Dj={class:"stat-card-value"},Tj={class:"detail-stat-card"},Bj={class:"stat-card-icon progress-icon"},Ij={class:"stat-card-content"},Mj={class:"stat-card-value"},zj={key:0,class:"stage-progress-section"},Pj={class:"stage-timeline"},Rj={class:"node-marker"},$j={key:1,class:"node-number"},Oj={class:"node-content"},Lj={class:"node-name"},Fj={class:"node-desc"},jj={key:1,class:"breakthrough-guide"},Uj={class:"guide-header"},qj={class:"guide-content"},Gj={class:"breakthrough-chance"},Hj={class:"chance-value"},Yj={class:"detail-actions"},Wj=(0,r.defineComponent)({__name:"ThousandDaoPanel",setup(e){const t=(0,Au.useGameStateStore)(),n=(0,Ry.useActionQueueStore)(),a=(0,r.ref)(null),o=(0,r.ref)("all"),i=(0,r.ref)("progress"),s=[{key:"all",label:"ÂÖ®ÈÉ®",icon:L_},{key:"nature",label:"Ëá™ÁÑ∂",icon:kF},{key:"concept",label:"ËßÑÂàô",icon:wF},{key:"combat",label:"ÊàòÊñó",icon:pI},{key:"cultivation",label:"ËÆ≠ÁªÉ",icon:gS}],l=[{key:"progress",label:"ÊåâËøõÂ∫¶"},{key:"stage",label:"ÊåâÈò∂ÊÆµ"},{key:"experience",label:"ÊåâÁªèÈ™å"},{key:"name",label:"ÊåâÂêçÁß∞"}],c=e=>{const t={Ââë:"combat",ÂàÄ:"combat",Êã≥:"combat",Êû™:"combat",Êàü:"combat",ÂêàÈáë:"nature",ÁîüÁâ©:"nature",Ê∂≤ÂÜ∑:"nature",Á≠âÁ¶ªÂ≠ê:"nature",Âú∞Ë¥®:"nature",È£é:"nature",Èõ∑:"nature",ÂÜ∞:"nature",Èõ™:"nature",ÁîµÁ£Å:"nature",‰ø°Âè∑:"nature",ÁΩëÁªú:"nature",Êï∞ÊçÆ:"nature",Âõ†Êûú:"concept",ËΩÆÂõû:"concept",Êó∂Èó¥:"concept",Á©∫Èó¥:"concept",ÂëΩËøê:"concept",Âà∂ÂâÇ:"cultivation",Ë£ÖÈÖç:"cultivation",Áü©Èòµ:"cultivation",ÂçèËÆÆ:"cultivation"};for(const[n,a]of Object.entries(t))if(e.includes(n))return a;return"other"},d=e=>e>=1e4?(e/1e4).toFixed(1)+"‰∏á":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString(),u=(0,r.computed)(()=>t.thousandDao||{ÊµÅÊ¥æÂàóË°®:{}}),m=(0,r.computed)(()=>Object.entries(u.value.ÊµÅÊ¥æÂàóË°®).filter(([e,t])=>t.ÊòØÂê¶Ëß£ÈîÅ).map(([e])=>e)),p=(0,r.computed)(()=>m.value.length),g=(0,r.computed)(()=>"all"===o.value?m.value:m.value.filter(e=>c(e)===o.value)),h=(0,r.computed)(()=>{const e=[...g.value];switch(i.value){case"progress":return e.sort((e,t)=>k(t)-k(e));case"stage":return e.sort((e,t)=>{const n=b(e)?.ÂΩìÂâçÈò∂ÊÆµ??0;return(b(t)?.ÂΩìÂâçÈò∂ÊÆµ??0)-n});case"experience":return e.sort((e,t)=>{const n=b(e)?.ÊÄªÁªèÈ™å??0;return(b(t)?.ÊÄªÁªèÈ™å??0)-n});case"name":return e.sort((e,t)=>e.localeCompare(t,"zh-CN"));default:return e}}),f=(0,r.computed)(()=>a.value&&u.value.ÊµÅÊ¥æÂàóË°®[a.value]||null),v=(0,r.computed)(()=>Object.values(u.value.ÊµÅÊ¥æÂàóË°®).reduce((e,t)=>e+(t.ÊÄªÁªèÈ™å??0),0)),b=e=>u.value.ÊµÅÊ¥æÂàóË°®[e]||null,y=e=>{const t=b(e);if(!t)return"stage-0";const n=t.ÂΩìÂâçÈò∂ÊÆµ??0;return n>=5?"stage-max":n>=3?"stage-high":n>=1?"stage-mid":"stage-low"},x=e=>{const t=b(e);if(!t)return"Êú™ÊÇü";const n=t.ÂΩìÂâçÈò∂ÊÆµ??0;return t.Èò∂ÊÆµÂàóË°®?.[n]?.ÂêçÁß∞||`Á¨¨${n}Èò∂`},k=e=>{const t=b(e);if(!t)return 0;const n=t.ÂΩìÂâçÁªèÈ™å??0,a=w(e);return Math.min(100,Math.round(n/a*100))},w=e=>{const t=b(e);if(!t)return 100;const n=t.ÂΩìÂâçÈò∂ÊÆµ??0;return t.Èò∂ÊÆµÂàóË°®?.[n]?.Á™ÅÁ†¥ÁªèÈ™å??100*(n+1)},E=e=>{const t=b(e);if(!t)return 0;const n=t.ÂΩìÂâçÈò∂ÊÆµ??0;return Math.max(30,90-10*n)},N=e=>{const t=b(e);return!!t&&(t.ÂΩìÂâçÁªèÈ™å??0)>=w(e)},S=e=>{n.addAction({type:"comprehend",itemName:e,itemType:"‰∏ìÁ≤æ",description:`ËÆ≠ÁªÉ„Ää${e}„Äã`}),X.o.success(`ÂºÄÂßãËÆ≠ÁªÉ„Ää${e}„Äã`)},_=e=>{n.addAction({type:"meditate",itemName:e,itemType:"Ëß£Êûê",description:`Ê∑±Â∫¶Ëß£Êûê„Ää${e}„Äã`}),X.o.info(`ËøõÂÖ•„Ää${e}„ÄãËß£ÊûêÁä∂ÊÄÅ`)},V=e=>{n.addAction({type:"dao_breakthrough",itemName:e,itemType:"ÂçáÁ∫ß",description:`Â∞ùËØïÂçáÁ∫ß„Ää${e}„ÄãÈò∂ÊÆµ`}),X.o.warning(`Â∞ùËØïÂçáÁ∫ß„Ää${e}„Äã`)},C=()=>{n.addAction({type:"explore",itemName:"‰∏ìÁ≤æ",itemType:"Êé¢Á¥¢",description:"Êé¢Á¥¢Êú™Áü•‰∏ìÁ≤æÔºåÂØªÊ±ÇÊñ∞ÁöÑÁ™ÅÁ†¥"}),X.o.info("ÂºÄÂßãÊé¢Á¥¢Êñ∞ÁöÑ‰∏ìÁ≤æ...")},A=()=>{n.addAction({type:"meditate",itemName:"Á≥ªÁªü",itemType:"ËÆ≠ÁªÉ",description:"ÈùôÈªòË∞ÉÊ†°ÔºåËß£ÊûêÂüéÂ∏ÇËßÑÂàô"}),X.o.info("ËøõÂÖ•ËÆ≠ÁªÉÁä∂ÊÄÅ...")},D=()=>{n.addAction({type:"comprehend",itemName:"Ê®°Âùó",itemType:"Ëß£Êûê",description:"‰ªéÂ∑≤ËÆ≠ÁªÉÊ®°Âùó‰∏≠Ëß£Êûê‰∏ìÁ≤æ"}),X.o.info("Â∞ùËØï‰ªéÊ®°Âùó‰∏≠Ëß£Êûê‰∏ìÁ≤æ...")},T=()=>{n.addAction({type:"comprehend",itemName:"Á≥ªÁªü",itemType:"Ëß£Êûê",description:"ËßÇÊµãÁ≥ªÁªüÁéØÂ¢ÉÔºåËß£Êûê‰∏ìÁ≤æËßÑÂàô"}),X.o.info("ÂºÄÂßãËßÇÊµãÁ≥ªÁªüËßÑÂàô...")};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",VF,[(0,r.createCommentVNode)(" È°∂ÈÉ®ÁªüËÆ°Âç°Áâá "),(0,r.createElementVNode)("div",CF,[(0,r.createElementVNode)("div",AF,[(0,r.createElementVNode)("div",DF,[(0,r.createVNode)((0,r.unref)(L_),{size:20})]),(0,r.createElementVNode)("div",TF,[(0,r.createElementVNode)("span",BF,(0,r.toDisplayString)(p.value),1),t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"stats-label"},"Â∑≤Ëß£ÈîÅ‰∏ìÁ≤æ",-1))])]),(0,r.createElementVNode)("div",IF,[(0,r.createElementVNode)("div",MF,[(0,r.createVNode)((0,r.unref)(Mu),{size:20})]),(0,r.createElementVNode)("div",zF,[(0,r.createElementVNode)("span",PF,(0,r.toDisplayString)(d(v.value)),1),t[7]||(t[7]=(0,r.createElementVNode)("span",{class:"stats-label"},"ÊÄª‰∏ìÁ≤æÂÄº",-1))])]),(0,r.createElementVNode)("div",RF,[(0,r.createElementVNode)("button",{class:"action-btn-icon",onClick:C,title:"Êé¢Á¥¢Êñ∞‰∏ìÁ≤æ"},[(0,r.createVNode)((0,r.unref)(EF),{size:18})]),(0,r.createElementVNode)("button",{class:"action-btn-icon",onClick:A,title:"Ê∑±Â∫¶ËÆ≠ÁªÉ"},[(0,r.createVNode)((0,r.unref)(_O),{size:18})])])]),(0,r.createCommentVNode)(" Á≠õÈÄâÂíåÊéíÂ∫èÊ†è "),p.value>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",$F,[(0,r.createElementVNode)("div",OF,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s,e=>{return(0,r.createElementVNode)("button",{key:e.key,class:(0,r.normalizeClass)(["filter-tag",{active:o.value===e.key}]),onClick:t=>o.value=e.key},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.icon),{size:14})),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.label),1),(0,r.createElementVNode)("span",FF,(0,r.toDisplayString)((t=e.key,"all"===t?m.value.length:m.value.filter(e=>c(e)===t).length)),1)],10,LF);var t}),64))]),(0,r.createElementVNode)("div",jF,[(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),class:"sort-select"},[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l,e=>(0,r.createElementVNode)("option",{key:e.key,value:e.key},(0,r.toDisplayString)(e.label),9,UF)),64))],512),[[r.vModelSelect,i.value]])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ‰∏ªÂÜÖÂÆπÂå∫ "),(0,r.createElementVNode)("div",qF,[(0,r.createCommentVNode)(" Êó†ÊµÅÊ¥æÊó∂ÁöÑÂø´ÈÄüÂÖ•Èó® "),0===p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",GF,[(0,r.createElementVNode)("div",HF,[(0,r.createElementVNode)("div",YF,[(0,r.createVNode)((0,r.unref)(L_),{size:48})]),t[8]||(t[8]=(0,r.createElementVNode)("div",{class:"empty-rings"},[(0,r.createElementVNode)("div",{class:"ring ring-1"}),(0,r.createElementVNode)("div",{class:"ring ring-2"}),(0,r.createElementVNode)("div",{class:"ring ring-3"})],-1))]),t[11]||(t[11]=(0,r.createElementVNode)("h3",{class:"empty-title"},"Â∞öÊú™Ëß£ÈîÅ‰ªª‰Ωï‰∏ìÁ≤æ",-1)),t[12]||(t[12]=(0,r.createElementVNode)("p",{class:"empty-desc"},"ÂüéÂ∏ÇËßÑÂàô‰∏éÁ≥ªÁªüÂô™Â£∞Âπ∂Â≠òÔºåÈùôÂøÉËß£ÊûêÊñπËÉΩÁ™•ËßÅ‰∏Ä‰∫å",-1)),(0,r.createElementVNode)("div",WF,[(0,r.createElementVNode)("button",{class:"action-btn primary",onClick:D},[(0,r.createVNode)((0,r.unref)(Iu.A),{size:16}),t[9]||(t[9]=(0,r.createTextVNode)(" ‰ªéÊ®°ÂùóËß£Êûê ",-1))]),(0,r.createElementVNode)("button",{class:"action-btn secondary",onClick:T},[(0,r.createVNode)((0,r.unref)(L_),{size:16}),t[10]||(t[10]=(0,r.createTextVNode)(" ËßÇÊµãÁ≥ªÁªüËßÑÂàô ",-1))])])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(" ÊµÅÊ¥æÂàóË°® "),(0,r.createElementVNode)("div",XF,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(h.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:(0,r.normalizeClass)(["dao-card",{active:a.value===e}]),onClick:t=>(e=>{a.value=a.value===e?null:e})(e)},[(0,r.createElementVNode)("div",KF,[(0,r.createElementVNode)("div",ZF,[(0,r.createVNode)((0,r.unref)(L_),{size:18})]),(0,r.createElementVNode)("div",QF,[(0,r.createElementVNode)("span",ej,(0,r.toDisplayString)(e),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["dao-stage-badge",y(e)])},(0,r.toDisplayString)(x(e)),3)])]),(0,r.createElementVNode)("div",tj,[(0,r.createElementVNode)("div",nj,[(0,r.createElementVNode)("div",aj,[(0,r.createElementVNode)("div",{class:"dao-progress-fill",style:(0,r.normalizeStyle)({width:k(e)+"%"})},null,4),t[13]||(t[13]=(0,r.createElementVNode)("div",{class:"dao-progress-glow"},null,-1))]),(0,r.createElementVNode)("span",rj,(0,r.toDisplayString)(k(e))+"%",1)]),(0,r.createElementVNode)("div",oj,[(0,r.createElementVNode)("span",ij,(0,r.toDisplayString)(d(b(e)?.ÂΩìÂâçÁªèÈ™å??0)),1),t[14]||(t[14]=(0,r.createElementVNode)("span",{class:"exp-divider"},"/",-1)),(0,r.createElementVNode)("span",sj,(0,r.toDisplayString)(d(w(e))),1)])]),(0,r.createCommentVNode)(" Âø´Êç∑Êìç‰Ωú "),(0,r.createElementVNode)("div",{class:"dao-card-actions",onClick:t[1]||(t[1]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("button",{class:"dao-action-btn cultivate",onClick:t=>S(e),title:"ÊÑüÊÇü"},[(0,r.createVNode)((0,r.unref)(Mu),{size:14})],8,lj),(0,r.createElementVNode)("button",{class:"dao-action-btn meditate",onClick:t=>_(e),title:"Ëß£Êûê"},[(0,r.createVNode)((0,r.unref)(_O),{size:14})],8,cj),N(e)?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"dao-action-btn breakthrough",onClick:t=>V(e),title:"ÂçáÁ∫ß"},[(0,r.createVNode)((0,r.unref)(VO),{size:14})],8,dj)):(0,r.createCommentVNode)("v-if",!0)])],10,JF))),128))])],2112)),(0,r.createCommentVNode)(" ÈÄâ‰∏≠ÊµÅÊ¥æÁöÑËØ¶ÊÉÖÈù¢Êùø "),a.value&&f.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",uj,[(0,r.createElementVNode)("div",mj,[(0,r.createElementVNode)("div",pj,[(0,r.createElementVNode)("div",gj,[(0,r.createVNode)((0,r.unref)(L_),{size:24})]),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("h3",hj,(0,r.toDisplayString)(a.value),1),(0,r.createElementVNode)("span",fj,(0,r.toDisplayString)(x(a.value)),1)])]),(0,r.createElementVNode)("button",{class:"close-btn",onClick:t[2]||(t[2]=e=>a.value=null)},[t[15]||(t[15]=(0,r.createElementVNode)("span",null,"ÂÖ≥Èó≠",-1)),(0,r.createVNode)((0,r.unref)(Xu.A),{size:16})])]),(0,r.createElementVNode)("div",vj,[(0,r.createCommentVNode)(" Ê†∏ÂøÉÊï∞ÊçÆÂç°Áâá "),(0,r.createElementVNode)("div",bj,[(0,r.createElementVNode)("div",yj,[(0,r.createElementVNode)("div",xj,[(0,r.createVNode)((0,r.unref)(NF),{size:16})]),(0,r.createElementVNode)("div",kj,[(0,r.createElementVNode)("span",wj,(0,r.toDisplayString)(x(a.value)),1),t[16]||(t[16]=(0,r.createElementVNode)("span",{class:"stat-card-label"},"ÂΩìÂâçÈò∂ÊÆµ",-1))])]),(0,r.createElementVNode)("div",Ej,[(0,r.createElementVNode)("div",Nj,[(0,r.createVNode)((0,r.unref)(Mu),{size:16})]),(0,r.createElementVNode)("div",Sj,[(0,r.createElementVNode)("span",_j,(0,r.toDisplayString)(d(f.value.ÂΩìÂâçÁªèÈ™å??0)),1),t[17]||(t[17]=(0,r.createElementVNode)("span",{class:"stat-card-label"},"ÂΩìÂâçÁªèÈ™å",-1))])]),(0,r.createElementVNode)("div",Vj,[(0,r.createElementVNode)("div",Cj,[(0,r.createVNode)((0,r.unref)(SF),{size:16})]),(0,r.createElementVNode)("div",Aj,[(0,r.createElementVNode)("span",Dj,(0,r.toDisplayString)(d(w(a.value))),1),t[18]||(t[18]=(0,r.createElementVNode)("span",{class:"stat-card-label"},"ÂçáÁ∫ßÊâÄÈúÄ",-1))])]),(0,r.createElementVNode)("div",Tj,[(0,r.createElementVNode)("div",Bj,[(0,r.createVNode)((0,r.unref)(VO),{size:16})]),(0,r.createElementVNode)("div",Ij,[(0,r.createElementVNode)("span",Mj,(0,r.toDisplayString)(k(a.value))+"%",1),t[19]||(t[19]=(0,r.createElementVNode)("span",{class:"stat-card-label"},"ËøõÂ∫¶",-1))])])]),(0,r.createCommentVNode)(" Èò∂ÊÆµËøõÂ∫¶ËΩ®ÈÅì "),b(a.value)?.Èò∂ÊÆµÂàóË°®?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",zj,[t[20]||(t[20]=(0,r.createElementVNode)("h4",{class:"section-title"},"ËÆ≠ÁªÉÈò∂ÊÆµ",-1)),(0,r.createElementVNode)("div",Pj,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(b(a.value)?.Èò∂ÊÆµÂàóË°®,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:(0,r.normalizeClass)(["stage-node",{done:t<(f.value?.ÂΩìÂâçÈò∂ÊÆµ??0),current:t===(f.value?.ÂΩìÂâçÈò∂ÊÆµ??0),locked:t>(f.value?.ÂΩìÂâçÈò∂ÊÆµ??0)}])},[(0,r.createElementVNode)("div",Rj,[t<(f.value?.ÂΩìÂâçÈò∂ÊÆµ??0)?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(_F),{key:0,size:12})):((0,r.openBlock)(),(0,r.createElementBlock)("span",$j,(0,r.toDisplayString)(t+1),1))]),(0,r.createElementVNode)("div",Oj,[(0,r.createElementVNode)("span",Lj,(0,r.toDisplayString)(e.ÂêçÁß∞),1),(0,r.createElementVNode)("span",Fj,(0,r.toDisplayString)(e.ÊèèËø∞),1)])],2))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Á™ÅÁ†¥ÊåáÂºï "),N(a.value)?((0,r.openBlock)(),(0,r.createElementBlock)("div",jj,[(0,r.createElementVNode)("div",Uj,[(0,r.createVNode)((0,r.unref)(VO),{size:16}),t[21]||(t[21]=(0,r.createElementVNode)("span",null,"ÂçáÁ∫ßÊåáÂºï",-1))]),(0,r.createElementVNode)("div",qj,[t[23]||(t[23]=(0,r.createElementVNode)("p",{class:"guide-desc"},"ÂΩìÂâç‰∏ìÁ≤æÂÄºÂ∑≤ËææÂà∞ÂçáÁ∫ßË¶ÅÊ±ÇÔºåÂèØÂ∞ùËØïÊèêÂçáËá≥‰∏ã‰∏ÄÈò∂ÊÆµ",-1)),t[24]||(t[24]=(0,r.createElementVNode)("ul",{class:"guide-tips"},[(0,r.createElementVNode)("li",null,"Á°Æ‰øùÁä∂ÊÄÅÁ®≥ÂÆöÔºåÊó†ÊïÖÈöú‰∏éË¥üÈù¢ÊïàÊûú"),(0,r.createElementVNode)("li",null,"ÈÄâÊã©‰ø°Âè∑Á®≥ÂÆöÂå∫ÂüüËøõË°åÂçáÁ∫ß"),(0,r.createElementVNode)("li",null,"ÂáÜÂ§áÂ§á‰ªΩ‰∏éËÄóÊùê‰ª•Èò≤ÊÑèÂ§ñ")],-1)),(0,r.createElementVNode)("div",Gj,[t[22]||(t[22]=(0,r.createElementVNode)("span",{class:"chance-label"},"È¢Ñ‰º∞ÊàêÂäüÁéá:",-1)),(0,r.createElementVNode)("span",Hj,(0,r.toDisplayString)(E(a.value))+"%",1)])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Êìç‰ΩúÊåâÈíÆ "),(0,r.createElementVNode)("div",Yj,[(0,r.createElementVNode)("button",{class:"action-btn primary large",onClick:t[3]||(t[3]=e=>S(a.value))},[(0,r.createVNode)((0,r.unref)(Mu),{size:18}),t[25]||(t[25]=(0,r.createTextVNode)(" ËÆ≠ÁªÉÊ≠§‰∏ìÁ≤æ ",-1))]),(0,r.createElementVNode)("button",{class:"action-btn secondary large",onClick:t[4]||(t[4]=e=>_(a.value))},[(0,r.createVNode)((0,r.unref)(_O),{size:18}),t[26]||(t[26]=(0,r.createTextVNode)(" Ê∑±Â∫¶Ëß£Êûê ",-1))]),N(a.value)?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"action-btn warning large",onClick:t[5]||(t[5]=e=>V(a.value))},[(0,r.createVNode)((0,r.unref)(VO),{size:18}),t[27]||(t[27]=(0,r.createTextVNode)(" Â∞ùËØïÂçáÁ∫ß ",-1))])):(0,r.createCommentVNode)("v-if",!0)])])])):(0,r.createCommentVNode)("v-if",!0)])]))}});var Xj=n(4932),Jj={};Jj.styleTagTransform=k(),Jj.setAttributes=v(),Jj.insert=h().bind(null,"head"),Jj.domAPI=p(),Jj.insertStyleElement=y(),u()(Xj.A,Jj),Xj.A&&Xj.A.locals&&Xj.A.locals;const Kj=(0,N.A)(Wj,[["__scopeId","data-v-94b1c710"]]);var Zj=n(9132),Qj=n(6680);const eU=(0,_.A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),tU={class:"save-panel"},nU={class:"saves-container"},aU={key:0,class:"current-save-section"},rU={class:"section-header"},oU={class:"section-title"},iU={class:"current-save-card"},sU={class:"save-preview"},lU={class:"preview-avatar"},cU={class:"preview-info"},dU={class:"character-name"},uU={class:"character-details"},mU={class:"detail-item"},pU={class:"detail-item"},gU={key:0,class:"current-save-hint last"},hU={key:1,class:"current-save-hint time"},fU={class:"save-stats"},vU={class:"stat-item"},bU={class:"stat-label"},yU={class:"stat-value"},xU={class:"stat-item"},kU={class:"stat-label"},wU={class:"stat-value"},EU={class:"saves-section"},NU={class:"section-header"},SU={class:"header-actions"},_U=["disabled"],VU={key:1,class:"saves-count"},CU={key:2,class:"saves-count online-badge"},AU={key:0,class:"loading-state"},DU={class:"loading-spinner"},TU={class:"loading-text"},BU={key:1,class:"empty-state"},IU={class:"empty-icon"},MU={class:"empty-text"},zU={class:"empty-hint"},PU={key:2,class:"saves-list"},RU=["onClick"],$U={class:"card-header"},OU={class:"save-preview small"},LU={class:"preview-avatar small"},FU={class:"preview-info"},jU={class:"save-name"},UU={class:"character-name-small"},qU={class:"save-time"},GU={class:"card-actions"},HU=["onClick","disabled"],YU=["onClick","disabled"],WU=["onClick","disabled"],XU=["onClick","disabled"],JU=["onClick","disabled","title"],KU={class:"card-content"},ZU={class:"save-details"},QU={class:"detail-row"},eq={class:"detail-value"},tq={class:"detail-row"},nq={class:"detail-value"},aq={class:"detail-row"},rq={class:"detail-value"},oq={key:1,class:"auto-save-settings-section"},iq={class:"section-header"},sq={class:"section-title"},lq={class:"settings-list"},cq={class:"setting-item"},dq={class:"setting-info"},uq={class:"setting-name"},mq={class:"setting-control"},pq={class:"setting-switch"},gq={class:"setting-item"},hq={class:"setting-info"},fq={class:"setting-name"},vq={class:"setting-control"},bq={class:"setting-switch"},yq={key:0,class:"setting-item"},xq={class:"setting-info"},kq={class:"setting-name"},wq={class:"setting-control"},Eq={class:"operations-section"},Nq={class:"section-header"},Sq={class:"section-title"},_q={class:"operations-list"},Vq=["disabled"],Cq=["disabled"],Aq={class:"btn-content"},Dq={class:"btn-desc"},Tq=["disabled"],Bq={class:"btn-content"},Iq={class:"btn-desc"},Mq=["disabled"],zq={class:"btn-content"},Pq={class:"btn-title"},Rq={class:"btn-desc"},$q=(0,r.defineComponent)({__name:"SavePanel",setup(e){const{t}=(0,K.s)(),a=(0,md.useCharacterStore)(),o=(0,Au.useGameStateStore)(),i=(0,r.ref)(!1),s=(0,r.ref)(),l=(0,r.computed)(()=>"ËÅîÊú∫"===a.activeCharacterProfile?.Ê®°Âºè),c=(0,r.computed)({get:()=>o.conversationAutoSaveEnabled,set:e=>{o.setConversationAutoSaveEnabled(e),X.o.info("ÂØπËØùÂâçËá™Âä®Â§á‰ªΩÂ∑≤"+(e?"ÂºÄÂêØ":"ÂÖ≥Èó≠"))}}),d=(0,r.computed)({get:()=>o.timeBasedSaveEnabled,set:e=>{o.setTimeBasedSaveEnabled(e),e?X.o.success(`Êó∂Èó¥ÁÇπÂ≠òÊ°£Â∑≤ÂêØÁî®ÔºåÈó¥Èöî${u.value}ÂàÜÈíü`):X.o.info("Êó∂Èó¥ÁÇπÂ≠òÊ°£Â∑≤Á¶ÅÁî®")}}),u=(0,r.computed)({get:()=>o.timeBasedSaveInterval,set:e=>{o.setTimeBasedSaveInterval(e),X.o.success(`Â≠òÊ°£Èó¥ÈöîÂ∑≤ËÆæÁΩÆ‰∏∫${e}ÂàÜÈíü`)}}),m=(0,r.computed)(()=>a.saveSlots.filter(e=>!!e&&(e.Â≠òÊ°£Âêç||e.id))),p=(0,r.computed)(()=>a.activeSaveSlot),g=(0,r.computed)(()=>null!==a.activeCharacterProfile||null!==o.character&&void 0!==o.character),h=(0,r.computed)(()=>{const e=new Set([p.value?.Â≠òÊ°£Âêç,"‰∏äÊ¨°ÂØπËØù","Êó∂Èó¥ÁÇπÂ≠òÊ°£"]);return m.value.filter(t=>!e.has(t.Â≠òÊ°£Âêç)).length}),f=e=>"‰∏äÊ¨°ÂØπËØù"===e.Â≠òÊ°£Âêç||"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===e.Â≠òÊ°£Âêç||e.id===p.value?.id||h.value<=1,v=e=>"‰∏äÊ¨°ÂØπËØù"===e.Â≠òÊ°£Âêç?"‰∏äÊ¨°ÂØπËØùÂ≠òÊ°£‰∏çÂèØÂà†Èô§ÔºàÁî®‰∫éÈáçrollÔºâ":"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===e.Â≠òÊ°£Âêç?"Êó∂Èó¥ÁÇπÂ≠òÊ°£‰∏çÂèØÂà†Èô§ÔºàÂÆöÊó∂Ëá™Âä®Ë¶ÜÁõñÔºâ":e.id===p.value?.id?"ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£‰∏çÂèØÂà†Èô§":h.value<=1?"ÊúÄÂêé‰∏Ä‰∏™ÊôÆÈÄöÂ≠òÊ°£‰∏çÂèØÂà†Èô§":"Âà†Èô§Â≠òÊ°£",b=async()=>{i.value=!0;try{await a.loadSaves()}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","Âà∑Êñ∞Â§±Ë¥•",e),X.o.error("Âà∑Êñ∞Â≠òÊ°£ÂàóË°®Â§±Ë¥•")}finally{i.value=!1}},y=async()=>{if(!g.value)return void X.o.warning("ÂΩìÂâçÊ≤°ÊúâÂèØÂ≠òÊ°£ÁöÑÊ∏∏ÊàèÁä∂ÊÄÅ");const e=window.prompt("ËØ∑ËæìÂÖ•Êñ∞Â≠òÊ°£ÁöÑÂêçÁß∞Ôºö",`Â≠òÊ°£_${(new Date).toLocaleString("zh-CN",{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})}`);if(e&&""!==e.trim()){i.value=!0;try{await a.saveCurrentGame({notifyIfNoActive:!0}),await a.saveAsNewSlot(e.trim())&&await b()}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","Êñ∞Âª∫Â≠òÊ°£Â§±Ë¥•",e),X.o.error("Êñ∞Âª∫Â≠òÊ°£Â§±Ë¥•")}finally{i.value=!1}}else X.o.info("Â∑≤ÂèñÊ∂àÊñ∞Âª∫Â≠òÊ°£")},x=(0,A.useUIStore)(),k=async()=>{try{console.log("[ËßíËâ≤ÂØºÂá∫] ÂºÄÂßãÂØºÂá∫ËßíËâ≤...");const e=a.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID;if(!e)return void X.o.error("Êó†Ê≥ïËé∑ÂèñËßíËâ≤ID");const t=a.activeCharacterProfile;if(!t)return void X.o.error("Êó†Ê≥ïËé∑ÂèñËßíËâ≤‰ø°ÊÅØ");const{loadSaveData:r}=await Promise.resolve().then(n.bind(n,5099)),o=await Promise.all(m.value.filter(e=>"‰∏äÊ¨°ÂØπËØù"!==e.Â≠òÊ°£Âêç).map(async t=>{const n=t.id||t.Â≠òÊ°£Âêç,a=await r(e,n);return{...t,Â≠òÊ°£Êï∞ÊçÆ:a}})),i=o.map(e=>{const t=e.Â≠òÊ°£Êï∞ÊçÆ;if(!t)throw new Error(`Â≠òÊ°£„Äå${e.Â≠òÊ°£Âêç}„ÄçÁº∫Â∞ëÂ≠òÊ°£Êï∞ÊçÆÔºåÊó†Ê≥ïÂØºÂá∫`);const n=(0,gd.ru)(t)?t:(0,gd.jj)(t).migrated,a=(0,hd.$)(n);if(!a.isValid)throw new Error(`Â≠òÊ°£„Äå${e.Â≠òÊ°£Âêç}„ÄçÊ†°È™åÂ§±Ë¥•Ôºö${a.errors[0]||"Êú™Áü•ÂéüÂõ†"}`);return{...e,Â≠òÊ°£Êï∞ÊçÆ:n}}),s=(0,pd.q3)("character",{ËßíËâ≤ID:e,ËßíËâ≤‰ø°ÊÅØ:JSON.parse(JSON.stringify(t)),Â≠òÊ°£ÂàóË°®:i}),l=JSON.stringify(s,null,2),c=new Blob([l],{type:"application/json"});console.log("[ËßíËâ≤ÂØºÂá∫] Êï∞ÊçÆÂ§ßÂ∞è:",(l.length/1024).toFixed(2),"KB");const d=document.createElement("a");d.href=URL.createObjectURL(c);const u=t.ËßíËâ≤?.ÂêçÂ≠ó||"Êú™ÂëΩÂêçËßíËâ≤",p=`Ë∂ÖÂá°Êñ∞Áîü-ËßíËâ≤-${u}-${(new Date).toISOString().split("T")[0]}.json`;d.download=p,document.body.appendChild(d),d.click(),setTimeout(()=>{document.body.removeChild(d),URL.revokeObjectURL(d.href)},100),console.log("[ËßíËâ≤ÂØºÂá∫] ÂØºÂá∫ÊàêÂäüÔºåÊñá‰ª∂Âêç:",p),X.o.success(`Â∑≤ÂØºÂá∫ËßíËâ≤: ${u} (Âê´ ${o.length} ‰∏™Â≠òÊ°£)`)}catch(e){console.error("[ËßíËâ≤ÂØºÂá∫] ÂØºÂá∫Â§±Ë¥•:",e),X.o.error(`ÂØºÂá∫ËßíËâ≤Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}},w=async()=>{try{if(console.log("[Â≠òÊ°£ÂØºÂá∫] ÂºÄÂßãÂØºÂá∫Â≠òÊ°£..."),console.log("[Â≠òÊ°£ÂØºÂá∫] savesList.value:",m.value),console.log("[Â≠òÊ°£ÂØºÂá∫] savesList Êï∞Èáè:",m.value.length),!m.value||0===m.value.length)return X.o.warning("Ê≤°ÊúâÂèØÂØºÂá∫ÁöÑÂ≠òÊ°£"),void console.warn("[Â≠òÊ°£ÂØºÂá∫] Ê≤°ÊúâÂèØÂØºÂá∫ÁöÑÂ≠òÊ°£");const e=a.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID;if(!e)return void X.o.error("Êó†Ê≥ïËé∑ÂèñËßíËâ≤ID");const{loadSaveData:t}=await Promise.resolve().then(n.bind(n,5099)),r=(await Promise.all(m.value.map(async n=>{const a=await t(e,n.Â≠òÊ°£Âêç);return{...n,Â≠òÊ°£Êï∞ÊçÆ:a}}))).map(e=>{const t=e.Â≠òÊ°£Êï∞ÊçÆ,n=(0,gd.ru)(t)?t:(0,gd.jj)(t).migrated,a=(0,hd.$)(n);if(!a.isValid)throw new Error(`Â≠òÊ°£„Äå${e.Â≠òÊ°£Âêç}„ÄçÊ†°È™åÂ§±Ë¥•Ôºö${a.errors[0]||"Êú™Áü•ÂéüÂõ†"}`);return{...e,Â≠òÊ°£Êï∞ÊçÆ:n}}),o=(0,pd.q3)("saves",{characterId:e,characterName:a.activeCharacterProfile?.ËßíËâ≤?.ÂêçÂ≠ó,saves:r});console.log("[Â≠òÊ°£ÂØºÂá∫] ÂØºÂá∫Êï∞ÊçÆ:",o);const i=JSON.stringify(o,null,2),s=new Blob([i],{type:"application/json"});console.log("[Â≠òÊ°£ÂØºÂá∫] Êï∞ÊçÆÂ§ßÂ∞è:",(i.length/1024).toFixed(2),"KB");const l=document.createElement("a");l.href=URL.createObjectURL(s);const c=`Ë∂ÖÂá°Êñ∞Áîü-Â≠òÊ°£Â§á‰ªΩ-${(new Date).toISOString().split("T")[0]}.json`;l.download=c,document.body.appendChild(l),l.click(),setTimeout(()=>{document.body.removeChild(l),URL.revokeObjectURL(l.href)},100),console.log("[Â≠òÊ°£ÂØºÂá∫] ÂØºÂá∫ÊàêÂäüÔºåÊñá‰ª∂Âêç:",c),X.o.success(`Â∑≤ÂØºÂá∫ ${m.value.length} ‰∏™Â≠òÊ°£`)}catch(e){console.error("[Â≠òÊ°£ÂØºÂá∫] ÂØºÂá∫Â§±Ë¥•:",e),Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","ÂØºÂá∫Â§±Ë¥•",e),X.o.error(`ÂØºÂá∫Â≠òÊ°£Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}},E=()=>{s.value?.click()},N=async e=>{const t=e.target.files?.[0];if(t){i.value=!0;try{const e=await t.text(),n=JSON.parse(e),r=(0,pd.ZT)(n);if("saves"!==r.type||!Array.isArray(r.payload?.saves))throw new Error("Êó†ÊïàÁöÑÂ≠òÊ°£Êñá‰ª∂Ê†ºÂºèÔºåËØ∑‰ΩøÁî®Êú¨Ê∏∏ÊàèÂØºÂá∫ÁöÑÂ≠òÊ°£Êñá‰ª∂");const o=r.payload.saves;if(0===o.length)throw new Error("Êñá‰ª∂‰∏≠Ê≤°ÊúâÊâæÂà∞ÊúâÊïàÁöÑÂ≠òÊ°£Êï∞ÊçÆ");const i=a.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID;if(!i)throw new Error("Êó†Ê≥ïÂØºÂÖ•Â≠òÊ°£ÔºåÂΩìÂâçÊ≤°ÊúâÊøÄÊ¥ªÁöÑËßíËâ≤");for(const e of o)await a.importSave(i,e);await b(),X.o.success(`ÊàêÂäüÂØºÂÖ• ${o.length} ‰∏™Â≠òÊ°£`)}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","ÂØºÂÖ•Â§±Ë¥•",e),X.o.error("ÂØºÂÖ•Â≠òÊ°£Â§±Ë¥•: "+e.message)}finally{i.value=!1,s.value&&(s.value.value="")}}},S=async()=>{x.showRetryDialog({title:"Ê∏ÖÁ©∫ÊâÄÊúâÂ≠òÊ°£",message:"Á°ÆÂÆöË¶ÅÂà†Èô§ÊâÄÊúâÂ≠òÊ°£ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ",confirmText:"ÁªßÁª≠",cancelText:"ÂèñÊ∂à",onConfirm:()=>{x.showRetryDialog({title:"ÂÜçÊ¨°Á°ÆËÆ§",message:"ÂÜçÊ¨°Á°ÆËÆ§ÔºöËøôÂ∞ÜÊ∞∏‰πÖÂà†Èô§ÊâÄÊúâÂ≠òÊ°£Êï∞ÊçÆÔºÅ",confirmText:"Á°ÆËÆ§Ê∏ÖÁ©∫",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{i.value=!0;try{await a.clearAllSaves(),X.o.success("ÊâÄÊúâÂ≠òÊ°£Â∑≤Ê∏ÖÁ©∫")}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","Ê∏ÖÁ©∫Â§±Ë¥•",e),X.o.error("Ê∏ÖÁ©∫Â≠òÊ°£Â§±Ë¥•")}finally{i.value=!1}},onCancel:()=>{}})},onCancel:()=>{}})},_=e=>{if(!e)return"Êú™Áü•";const t=new Date(e);if(isNaN(t.getTime()))return"Êú™Áü•";const n=(new Date).getTime()-t.getTime();return n<6e4?"ÂàöÂàö":n<36e5?`${Math.floor(n/6e4)}ÂàÜÈíüÂâç`:n<864e5?`${Math.floor(n/36e5)}Â∞èÊó∂Ââç`:t.toLocaleDateString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,r.onMounted)(()=>{b(),Ju.on("refresh",()=>b()),Ju.on("save",()=>(async()=>{if(g.value){i.value=!0;try{await a.saveCurrentGame({notifyIfNoActive:!0}),X.o.success("Âø´ÈÄüÂ≠òÊ°£ÂÆåÊàê")}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","Âø´ÈÄüÂ≠òÊ°£Â§±Ë¥•",e),X.o.error("Âø´ÈÄüÂ≠òÊ°£Â§±Ë¥•")}finally{i.value=!1}}else X.o.warning("ÂΩìÂâçÊ≤°ÊúâÂèØÂ≠òÊ°£ÁöÑÊ∏∏ÊàèÁä∂ÊÄÅ")})())}),(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",tU,[(0,r.createCommentVNode)(" Â≠òÊ°£ÂÆπÂô® "),(0,r.createElementVNode)("div",nU,[(0,r.createCommentVNode)(" ÂΩìÂâçÂ≠òÊ°£Áä∂ÊÄÅ "),p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",aU,[(0,r.createElementVNode)("div",rU,[(0,r.createElementVNode)("h4",oU,["‰∏äÊ¨°ÂØπËØù"===p.value.Â≠òÊ°£Âêç?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(C),{key:0,size:16,class:"last-save-icon"})):"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===p.value.Â≠òÊ°£Âêç?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Fg),{key:1,size:16,class:"time-save-icon"})):(0,r.createCommentVNode)("v-if",!0),(0,r.createTextVNode)(" ÂΩìÂâçËøõÂ∫¶ - "+(0,r.toDisplayString)(p.value.Â≠òÊ°£Âêç),1)])]),(0,r.createElementVNode)("div",iU,[(0,r.createElementVNode)("div",sU,[(0,r.createElementVNode)("div",lU,(0,r.toDisplayString)(p.value.ËßíËâ≤ÂêçÂ≠ó?.[0]||"N"),1),(0,r.createElementVNode)("div",cU,[(0,r.createElementVNode)("div",dU,(0,r.toDisplayString)(p.value.ËßíËâ≤ÂêçÂ≠ó||"Êó†ÂêçË°åËÄÖ"),1),(0,r.createElementVNode)("div",uU,[(0,r.createElementVNode)("span",mU,(0,r.toDisplayString)(p.value.Èò∂‰Ωç||"Êñ∞Êâã"),1),o[3]||(o[3]=(0,r.createElementVNode)("span",{class:"detail-separator"},"¬∑",-1)),(0,r.createElementVNode)("span",pU,(0,r.toDisplayString)(p.value.‰ΩçÁΩÆ||"Êú™Áü•"),1)]),(0,r.createCommentVNode)(" ÁâπÊÆäÂ≠òÊ°£ËØ¥Êòé "),"‰∏äÊ¨°ÂØπËØù"===p.value.Â≠òÊ°£Âêç?((0,r.openBlock)(),(0,r.createElementBlock)("div",gU," ÊØèÊ¨°ÂØπËØùÂâçËá™Âä®Â§á‰ªΩÔºåÂèØÁî®‰∫éÂõûÈÄÄÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ ")):"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===p.value.Â≠òÊ°£Âêç?((0,r.openBlock)(),(0,r.createElementBlock)("div",hU," ÊåâËÆæÂÆöÊó∂Èó¥Èó¥ÈöîËá™Âä®Ë¶ÜÁõñ‰øùÂ≠òÔºåÈò≤Ê≠¢ÈïøÊó∂Èó¥Ê∏∏Áé©Êï∞ÊçÆ‰∏¢Â§± ")):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createElementVNode)("div",fU,[(0,r.createElementVNode)("div",vU,[(0,r.createElementVNode)("span",bU,(0,r.toDisplayString)((0,r.unref)(t)("ÂàõÂª∫Êó∂Èó¥")),1),(0,r.createElementVNode)("span",yU,(0,r.toDisplayString)(_(p.value.‰øùÂ≠òÊó∂Èó¥||"")),1)]),(0,r.createElementVNode)("div",xU,[(0,r.createElementVNode)("span",kU,(0,r.toDisplayString)((0,r.unref)(t)("ÊúÄÂêé‰øùÂ≠ò")),1),(0,r.createElementVNode)("span",wU,(0,r.toDisplayString)(_(p.value.ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥??p.value.‰øùÂ≠òÊó∂Èó¥??"")),1)])])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Â≠òÊ°£ÂàóË°® "),(0,r.createElementVNode)("div",EU,[(0,r.createElementVNode)("div",NU,[o[4]||(o[4]=(0,r.createElementVNode)("h4",{class:"section-title"},"Â≠òÊ°£ÂàóË°®",-1)),(0,r.createElementVNode)("div",SU,[l.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"new-save-btn",onClick:y,disabled:i.value,title:"Êñ∞Âª∫Â≠òÊ°£"},[(0,r.createVNode)((0,r.unref)(Qj.A),{size:16})],8,_U)),l.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",CU,"‚òÅÔ∏è ‰∫ëÁ´ØÂ≠òÊ°£")):((0,r.openBlock)(),(0,r.createElementBlock)("div",VU,(0,r.toDisplayString)(m.value.length)+"/10",1))])]),i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",AU,[(0,r.createElementVNode)("div",DU,[(0,r.createVNode)((0,r.unref)(Gu.A),{size:18,class:"animate-spin"})]),(0,r.createElementVNode)("div",TU,(0,r.toDisplayString)((0,r.unref)(t)("Ê≠£Âú®Âä†ËΩΩÂ≠òÊ°£...")),1)])):0===m.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",BU,[(0,r.createElementVNode)("div",IU,[(0,r.createVNode)((0,r.unref)(Pu.A),{size:32})]),(0,r.createElementVNode)("div",MU,(0,r.toDisplayString)((0,r.unref)(t)("ÈúìËôπÊóÖÁ®ãÂ∞öÊú™ÁïôÂ≠òÔºåÂàõÂª∫Â≠òÊ°£ËÆ∞ÂΩïËøõÁ®ã")),1),(0,r.createElementVNode)("div",zU,(0,r.toDisplayString)((0,r.unref)(t)("ÂºÄÂßãÊ∏∏ÊàèÂêéÂèØ‰ª•ÂàõÂª∫Â≠òÊ°£")),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",PU,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(m.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["save-card",{active:e.id===p.value?.id}]),onClick:t=>(e=>{Gw.Yz.log("Â≠òÊ°£Èù¢Êùø","ÈÄâÊã©Â≠òÊ°£",e)})(e)},[(0,r.createElementVNode)("div",$U,[(0,r.createElementVNode)("div",OU,[(0,r.createElementVNode)("div",LU,(0,r.toDisplayString)(e.ËßíËâ≤ÂêçÂ≠ó?.[0]||"N"),1),(0,r.createElementVNode)("div",FU,[(0,r.createElementVNode)("div",jU,["‰∏äÊ¨°ÂØπËØù"===e.Â≠òÊ°£Âêç?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(C),{key:0,size:14,class:"last-save-icon"})):"Êó∂Èó¥ÁÇπÂ≠òÊ°£"===e.Â≠òÊ°£Âêç?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Fg),{key:1,size:14,class:"time-save-icon"})):(0,r.createCommentVNode)("v-if",!0),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.Â≠òÊ°£Âêç||e.id||`Â≠òÊ°£${t+1}`),1)]),(0,r.createElementVNode)("div",UU,(0,r.toDisplayString)(e.ËßíËâ≤ÂêçÂ≠ó||"Êó†ÂêçË°åËÄÖ"),1),(0,r.createCommentVNode)(" ÊòæÁ§∫ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥ "),(0,r.createElementVNode)("div",qU,(0,r.toDisplayString)(_(e.ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥??e.‰øùÂ≠òÊó∂Èó¥??null)),1)])]),(0,r.createElementVNode)("div",GU,[e.id!==p.value?.id&&"‰∏äÊ¨°ÂØπËØù"!==e.Â≠òÊ°£Âêç&&"Êó∂Èó¥ÁÇπÂ≠òÊ°£"!==e.Â≠òÊ°£Âêç?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"card-btn",onClick:(0,r.withModifiers)(t=>(async e=>{if(e){i.value=!0;try{await a.loadGameById(e.Â≠òÊ°£Âêç),X.o.success(`Â∑≤Âä†ËΩΩÂ≠òÊ°£: ${e.Â≠òÊ°£Âêç}`)}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","Âä†ËΩΩÂ§±Ë¥•",e),X.o.error("Âä†ËΩΩÂ≠òÊ°£Â§±Ë¥•")}finally{i.value=!1}}})(e),["stop"]),disabled:i.value,title:"ËØªÂèñÂ≠òÊ°£"},[(0,r.createVNode)((0,r.unref)(eU),{size:14})],8,HU)):(0,r.createCommentVNode)("v-if",!0),"‰∏äÊ¨°ÂØπËØù"!==e.Â≠òÊ°£Âêç||l.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"card-btn warning",onClick:(0,r.withModifiers)(t=>(async e=>{if(!p.value)return void X.o.warning("Ê≤°ÊúâÂΩìÂâçÊøÄÊ¥ªÁöÑÂ≠òÊ°£");const{useUIStore:t}=await Promise.resolve().then(n.bind(n,9173));t().showRetryDialog({title:"ÂõûÊªöÂà∞‰∏äÊ¨°ÂØπËØù",message:`Á°ÆÂÆöË¶ÅÂ∞Ü"${e.Â≠òÊ°£Âêç}"ÁöÑÊï∞ÊçÆË¶ÜÁõñÂà∞ÂΩìÂâçÂ≠òÊ°£"${p.value.Â≠òÊ°£Âêç}"ÂêóÔºüÂΩìÂâçËøõÂ∫¶Â∞ÜË¢´ÊõøÊç¢‰∏∫‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ„ÄÇ`,confirmText:"Á°ÆËÆ§ÂõûÊªö",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{i.value=!0;try{await a.rollbackToLastConversation(),X.o.success("Â∑≤ÂõûÊªöÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ"),await b()}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","ÂõûÊªöÂ§±Ë¥•",e),X.o.error(`ÂõûÊªöÂ§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}finally{i.value=!1}},onCancel:()=>{}})})(e),["stop"]),disabled:i.value||!p.value,title:"Áî®‰∏äÊ¨°ÂØπËØùÁöÑÊï∞ÊçÆË¶ÜÁõñÂΩìÂâçÂ≠òÊ°£ÔºàÂõûÊªöÔºâ"},[(0,r.createVNode)((0,r.unref)(Gu.A),{size:14})],8,YU)),(0,r.createElementVNode)("button",{class:"card-btn info",onClick:(0,r.withModifiers)(t=>(async e=>{try{console.log("[Âçï‰∏™Â≠òÊ°£ÂØºÂá∫] ÂºÄÂßãÂØºÂá∫Â≠òÊ°£:",e.Â≠òÊ°£Âêç);const t=a.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID;if(!t)return void X.o.error("Êó†Ê≥ïËé∑ÂèñËßíËâ≤ID");const{loadSaveData:r}=await Promise.resolve().then(n.bind(n,5099)),o=e.id||e.Â≠òÊ°£Âêç,i=await r(t,o);if(!i)return void X.o.error("Êó†Ê≥ïÂä†ËΩΩÂ≠òÊ°£Êï∞ÊçÆ");const s=(0,gd.ru)(i)?i:(0,gd.jj)(i).migrated,l=(0,hd.$)(s);if(!l.isValid)throw new Error(l.errors[0]||"Â≠òÊ°£ÁªìÊûÑÊ†°È™åÂ§±Ë¥•");const c=(0,pd.q3)("saves",{characterId:t,characterName:a.activeCharacterProfile?.ËßíËâ≤?.ÂêçÂ≠ó,saves:[{...e,Â≠òÊ°£Êï∞ÊçÆ:s}]}),d=JSON.stringify(c,null,2),u=new Blob([d],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(u);const p=`Ë∂ÖÂá°Êñ∞Áîü-${e.Â≠òÊ°£Âêç}-${(new Date).toISOString().split("T")[0]}.json`;m.download=p,document.body.appendChild(m),m.click(),setTimeout(()=>{document.body.removeChild(m),URL.revokeObjectURL(m.href)},100),console.log("[Âçï‰∏™Â≠òÊ°£ÂØºÂá∫] ÂØºÂá∫ÊàêÂäüÔºåÊñá‰ª∂Âêç:",p),X.o.success(`Â∑≤ÂØºÂá∫Â≠òÊ°£: ${e.Â≠òÊ°£Âêç}`)}catch(e){console.error("[Âçï‰∏™Â≠òÊ°£ÂØºÂá∫] ÂØºÂá∫Â§±Ë¥•:",e),X.o.error(`ÂØºÂá∫Â≠òÊ°£Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}})(e),["stop"]),disabled:i.value,title:"ÂØºÂá∫Ê≠§Â≠òÊ°£"},[(0,r.createVNode)((0,r.unref)(jg.A),{size:14})],8,WU),"‰∏äÊ¨°ÂØπËØù"!==e.Â≠òÊ°£Âêç&&"Êó∂Èó¥ÁÇπÂ≠òÊ°£"!==e.Â≠òÊ°£Âêç?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:2,class:"card-btn primary",onClick:(0,r.withModifiers)(t=>(async e=>{g.value?x.showRetryDialog({title:"Ë¶ÜÁõñÂ≠òÊ°£",message:`Á°ÆÂÆöË¶ÅÁî®ÂΩìÂâçÊ∏∏ÊàèËøõÂ∫¶Ë¶ÜÁõñÂ≠òÊ°£"${e.Â≠òÊ°£Âêç}"ÂêóÔºüÂéüÂ≠òÊ°£Êï∞ÊçÆÂ∞Ü‰∏¢Â§±„ÄÇ`,confirmText:"Á°ÆËÆ§Ë¶ÜÁõñ",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{i.value=!0;try{await a.saveCurrentGame({notifyIfNoActive:!0}),await a.saveToSlot(e.Â≠òÊ°£Âêç),X.o.success(`Â∑≤Ë¶ÜÁõñÂ≠òÊ°£: ${e.Â≠òÊ°£Âêç}`),await b()}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","Ë¶ÜÁõñÂ≠òÊ°£Â§±Ë¥•",e),X.o.error("Ë¶ÜÁõñÂ≠òÊ°£Â§±Ë¥•")}finally{i.value=!1}},onCancel:()=>{}}):X.o.warning("ÂΩìÂâçÊ≤°ÊúâÂèØÂ≠òÊ°£ÁöÑÊ∏∏ÊàèÁä∂ÊÄÅ")})(e),["stop"]),disabled:i.value||!p.value,title:"Áî®ÂΩìÂâçËøõÂ∫¶Ë¶ÜÁõñÊ≠§Â≠òÊ°£"},[(0,r.createVNode)((0,r.unref)(Pu.A),{size:14})],8,XU)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("button",{class:"card-btn danger",onClick:(0,r.withModifiers)(t=>(async e=>{x.showRetryDialog({title:"Âà†Èô§Â≠òÊ°£",message:`Á°ÆÂÆöË¶ÅÂà†Èô§Â≠òÊ°£"${e.Â≠òÊ°£Âêç||"Â≠òÊ°£"}"ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄ„ÄÇ`,confirmText:"Á°ÆËÆ§Âà†Èô§",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{i.value=!0;try{await a.deleteSaveById(e.Â≠òÊ°£Âêç),X.o.success("Â≠òÊ°£Â∑≤Âà†Èô§"),await b()}catch(e){Gw.Yz.error("Â≠òÊ°£Èù¢Êùø","Âà†Èô§Â§±Ë¥•",e),X.o.error("Âà†Èô§Â≠òÊ°£Â§±Ë¥•")}finally{i.value=!1}},onCancel:()=>{}})})(e),["stop"]),disabled:i.value||f(e),title:v(e)},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:14})],8,JU)])]),(0,r.createElementVNode)("div",KU,[(0,r.createElementVNode)("div",ZU,[(0,r.createElementVNode)("div",QU,[o[5]||(o[5]=(0,r.createElementVNode)("span",{class:"detail-label"},"Á≠âÁ∫ß:",-1)),(0,r.createElementVNode)("span",eq,(0,r.toDisplayString)(e.Èò∂‰Ωç||"Êñ∞Êâã"),1)]),(0,r.createElementVNode)("div",tq,[o[6]||(o[6]=(0,r.createElementVNode)("span",{class:"detail-label"},"‰ΩçÁΩÆ:",-1)),(0,r.createElementVNode)("span",nq,(0,r.toDisplayString)(e.‰ΩçÁΩÆ||"Êú™Áü•"),1)]),(0,r.createElementVNode)("div",aq,[o[7]||(o[7]=(0,r.createElementVNode)("span",{class:"detail-label"},"‰øÆÊîπ:",-1)),(0,r.createElementVNode)("span",rq,(0,r.toDisplayString)(_(e.ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥??e.‰øùÂ≠òÊó∂Èó¥??"")),1)])])])],10,RU))),128))]))]),(0,r.createCommentVNode)(" Ëá™Âä®Â≠òÊ°£ËÆæÁΩÆ (‰ªÖÂçïÊú∫Ê®°Âºè) "),l.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",oq,[(0,r.createElementVNode)("div",iq,[(0,r.createElementVNode)("h4",sq,(0,r.toDisplayString)((0,r.unref)(t)("Ëá™Âä®Â≠òÊ°£ËÆæÁΩÆ")),1)]),(0,r.createElementVNode)("div",lq,[(0,r.createElementVNode)("div",cq,[(0,r.createElementVNode)("div",dq,[(0,r.createElementVNode)("label",uq,(0,r.toDisplayString)((0,r.unref)(t)("ÂØπËØùÂâçËá™Âä®Â§á‰ªΩ")),1),o[8]||(o[8]=(0,r.createElementVNode)("span",{class:"setting-desc"},"ÊØèÊ¨°ÂØπËØùÂâçËá™Âä®Â§á‰ªΩÔºåÁî®‰∫éÂõûÈÄÄÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ",-1))]),(0,r.createElementVNode)("div",mq,[(0,r.createElementVNode)("label",pq,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e)},null,512),[[r.vModelCheckbox,c.value]]),o[9]||(o[9]=(0,r.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),(0,r.createElementVNode)("div",gq,[(0,r.createElementVNode)("div",hq,[(0,r.createElementVNode)("label",fq,(0,r.toDisplayString)((0,r.unref)(t)("Êó∂Èó¥ÁÇπÂ≠òÊ°£")),1),o[10]||(o[10]=(0,r.createElementVNode)("span",{class:"setting-desc"},"ÊåâËÆæÂÆöÊó∂Èó¥Èó¥ÈöîËá™Âä®Ë¶ÜÁõñ‰øùÂ≠òÔºåÈò≤Ê≠¢ÈïøÊó∂Èó¥Ê∏∏Áé©Êï∞ÊçÆ‰∏¢Â§±",-1))]),(0,r.createElementVNode)("div",vq,[(0,r.createElementVNode)("label",bq,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=e=>d.value=e)},null,512),[[r.vModelCheckbox,d.value]]),o[11]||(o[11]=(0,r.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",yq,[(0,r.createElementVNode)("div",xq,[(0,r.createElementVNode)("label",kq,(0,r.toDisplayString)((0,r.unref)(t)("Â≠òÊ°£Èó¥Èöî")),1),o[12]||(o[12]=(0,r.createElementVNode)("span",{class:"setting-desc"},"Ëá™Âä®Â≠òÊ°£ÁöÑÊó∂Èó¥Èó¥ÈöîÔºàÁúüÂÆûÊó∂Èó¥Ôºâ",-1))]),(0,r.createElementVNode)("div",wq,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",min:"1","onUpdate:modelValue":o[2]||(o[2]=e=>u.value=e),class:"interval-input"},null,512),[[r.vModelText,u.value,void 0,{number:!0}]]),o[13]||(o[13]=(0,r.createElementVNode)("span",{class:"unit-label"},"ÂàÜÈíü",-1))])])):(0,r.createCommentVNode)("v-if",!0)])])),(0,r.createCommentVNode)(" Â≠òÊ°£Êìç‰Ωú "),(0,r.createElementVNode)("div",Eq,[(0,r.createElementVNode)("div",Nq,[(0,r.createElementVNode)("h4",Sq,(0,r.toDisplayString)((0,r.unref)(t)("Â≠òÊ°£Êìç‰Ωú")),1)]),(0,r.createElementVNode)("div",_q,[(0,r.createElementVNode)("button",{class:"operation-btn",onClick:k,disabled:i.value||!(0,r.unref)(a).activeCharacterProfile},[(0,r.createVNode)((0,r.unref)(jg.A),{size:16}),o[14]||(o[14]=(0,r.createElementVNode)("div",{class:"btn-content"},[(0,r.createElementVNode)("span",{class:"btn-title"},"ÂØºÂá∫ËßíËâ≤"),(0,r.createElementVNode)("span",{class:"btn-desc"},"ÂØºÂá∫ÂΩìÂâçËßíËâ≤ÂèäÂÖ∂ÊâÄÊúâÂ≠òÊ°£")],-1))],8,Vq),(0,r.createElementVNode)("button",{class:"operation-btn",onClick:w,disabled:i.value||0===m.value.length},[(0,r.createVNode)((0,r.unref)(jg.A),{size:16}),(0,r.createElementVNode)("div",Aq,[o[15]||(o[15]=(0,r.createElementVNode)("span",{class:"btn-title"},"ÂØºÂá∫ÊâÄÊúâÂ≠òÊ°£",-1)),(0,r.createElementVNode)("span",Dq,(0,r.toDisplayString)((0,r.unref)(t)("Â§á‰ªΩÊâÄÊúâÂ≠òÊ°£Âà∞Êñá‰ª∂")),1)])],8,Cq),l.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"operation-btn",onClick:E,disabled:i.value},[(0,r.createVNode)((0,r.unref)(Og.A),{size:16}),(0,r.createElementVNode)("div",Bq,[o[16]||(o[16]=(0,r.createElementVNode)("span",{class:"btn-title"},"ÂØºÂÖ•Â≠òÊ°£",-1)),(0,r.createElementVNode)("span",Iq,(0,r.toDisplayString)((0,r.unref)(t)("‰ªéÊñá‰ª∂ÊÅ¢Â§çÂ≠òÊ°£")),1)])],8,Tq)),l.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"operation-btn danger",onClick:S,disabled:i.value||0===m.value.length},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:16}),(0,r.createElementVNode)("div",zq,[(0,r.createElementVNode)("span",Pq,(0,r.toDisplayString)((0,r.unref)(t)("Ê∏ÖÁ©∫Â≠òÊ°£")),1),(0,r.createElementVNode)("span",Rq,(0,r.toDisplayString)((0,r.unref)(t)("Âà†Èô§ÊâÄÊúâÂ≠òÊ°£Êï∞ÊçÆ")),1)])],8,Mq))])])]),(0,r.createCommentVNode)(" ÈöêËóèÁöÑÊñá‰ª∂ËæìÂÖ• "),(0,r.createElementVNode)("input",{ref_key:"fileInput",ref:s,type:"file",accept:".json",onChange:N,style:{display:"none"}},null,544)]))}});var Oq=n(1651),Lq={};Lq.styleTagTransform=k(),Lq.setAttributes=v(),Lq.insert=h().bind(null,"head"),Lq.domAPI=p(),Lq.insertStyleElement=y(),u()(Oq.A,Lq),Oq.A&&Oq.A.locals&&Oq.A.locals;const Fq=(0,N.A)($q,[["__scopeId","data-v-af2a013c"]]),jq=(0,_.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Uq=(0,_.A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),qq=(0,_.A)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]);var Gq=n(31),Hq=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(Hq||{}),Yq=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(Yq||{}),Wq=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(Wq||{}),Xq=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(Xq||{}),Jq=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(Jq||{}),Kq=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(Kq||{}),Zq=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(Zq||{}),Qq=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(Qq||{}),eG=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(eG||{}),tG=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(tG||{}),nG=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(nG||{}),aG=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(aG||{}),rG=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(rG||{}),oG=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(oG||{}),iG=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(iG||{}),sG=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(sG||{}),lG=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(lG||{}),cG=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(cG||{}),dG=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(dG||{});const uG={createCanvas:(e,t)=>{const n=document.createElement("canvas");return n.width=e,n.height=t,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")},mG={ADAPTER:uG,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var pG=/iPhone/i,gG=/iPod/i,hG=/iPad/i,fG=/\biOS-universal(?:.+)Mac\b/i,vG=/\bAndroid(?:.+)Mobile\b/i,bG=/Android/i,yG=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,xG=/Silk/i,kG=/Windows Phone/i,wG=/\bWindows(?:.+)ARM\b/i,EG=/BlackBerry/i,NG=/BB10/i,SG=/Opera Mini/i,_G=/\b(CriOS|Chrome)(?:.+)Mobile/i,VG=/Mobile(?:.+)Firefox\b/i,CG=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function AG(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,a=n.split("[FBAN");void 0!==a[1]&&(n=a[0]),void 0!==(a=n.split("Twitter"))[1]&&(n=a[0]);var r=function(e){return function(t){return t.test(e)}}(n),o={apple:{phone:r(pG)&&!r(kG),ipod:r(gG),tablet:!r(pG)&&(r(hG)||CG(t))&&!r(kG),universal:r(fG),device:(r(pG)||r(gG)||r(hG)||r(fG)||CG(t))&&!r(kG)},amazon:{phone:r(yG),tablet:!r(yG)&&r(xG),device:r(yG)||r(xG)},android:{phone:!r(kG)&&r(yG)||!r(kG)&&r(vG),tablet:!r(kG)&&!r(yG)&&!r(vG)&&(r(xG)||r(bG)),device:!r(kG)&&(r(yG)||r(xG)||r(vG)||r(bG))||r(/\bokhttp\b/i)},windows:{phone:r(kG),tablet:r(wG),device:r(kG)||r(wG)},other:{blackberry:r(EG),blackberry10:r(NG),opera:r(SG),firefox:r(VG),chrome:r(_G),device:r(EG)||r(NG)||r(SG)||r(VG)||r(_G)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const DG=(AG.default??AG)(globalThis.navigator);mG.RETINA_PREFIX=/@([0-9\.]+)x/,mG.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var TG=n(228),BG=n(6570);n(8835);const IG={};function MG(e,t,n=3){if(IG[t])return;let a=(new Error).stack;typeof a>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}\nDeprecated since v${e}`):(a=a.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}\nDeprecated since v${e}`),console.warn(a),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}\nDeprecated since v${e}`),console.warn(a))),IG[t]=!0}function zG(e){if("string"!=typeof e)throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function PG(e){return e.split("?")[0].split("#")[0]}const RG={toPosix:e=>e.replace(new RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"/"),isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),isBlobUrl:e=>e.startsWith("blob:"),hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){zG(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(e);return n?n[0]:""},toAbsolute(e,t,n){if(zG(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const a=PG(this.toPosix(t??mG.ADAPTER.getBaseUrl())),r=PG(this.toPosix(n??this.rootname(a)));return(e=this.toPosix(e)).startsWith("/")?RG.join(r,e.slice(1)):this.isAbsolute(e)?e:this.join(a,e)},normalize(e){if(zG(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;let t="";const n=(e=this.toPosix(e)).startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const a=e.endsWith("/");return e=function(e){let t="",n=0,a=-1,r=0,o=-1;for(let i=0;i<=e.length;++i){if(i<e.length)o=e.charCodeAt(i);else{if(47===o)break;o=47}if(47===o){if(a!==i-1&&1!==r)if(a!==i-1&&2===r){if(t.length<2||2!==n||46!==t.charCodeAt(t.length-1)||46!==t.charCodeAt(t.length-2))if(t.length>2){const e=t.lastIndexOf("/");if(e!==t.length-1){-1===e?(t="",n=0):(t=t.slice(0,e),n=t.length-1-t.lastIndexOf("/")),a=i,r=0;continue}}else if(2===t.length||1===t.length){t="",n=0,a=i,r=0;continue}}else t.length>0?t+=`/${e.slice(a+1,i)}`:t=e.slice(a+1,i),n=i-a-1;a=i,r=0}else 46===o&&-1!==r?++r:r=-1}return t}(e),e.length>0&&a&&(e+="/"),n?`/${e}`:t+e},isAbsolute(e){return zG(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(...e){if(0===e.length)return".";let t;for(let n=0;n<e.length;++n){const a=e[n];if(zG(a),a.length>0)if(void 0===t)t=a;else{const r=e[n-1]??"";this.joinExtensions.includes(this.extname(r).toLowerCase())?t+=`/../${a}`:t+=`/${a}`}}return void 0===t?".":this.normalize(t)},dirname(e){if(zG(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0);const n=47===t;let a=-1,r=!0;const o=this.getProtocol(e),i=e;for(let n=(e=e.slice(o.length)).length-1;n>=1;--n)if(t=e.charCodeAt(n),47===t){if(!r){a=n;break}}else r=!1;return-1===a?n?"/":this.isUrl(i)?o+e:o:n&&1===a?"//":o+e.slice(0,a)},rootname(e){zG(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){const n=e.indexOf("/",t.length);t=-1!==n?e.slice(0,n):e,t.endsWith("/")||(t+="/")}return t},basename(e,t){zG(e),t&&zG(t),e=PG(this.toPosix(e));let n,a=0,r=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let i=t.length-1,s=-1;for(n=e.length-1;n>=0;--n){const l=e.charCodeAt(n);if(47===l){if(!o){a=n+1;break}}else-1===s&&(o=!1,s=n+1),i>=0&&(l===t.charCodeAt(i)?-1===--i&&(r=n):(i=-1,r=s))}return a===r?r=s:-1===r&&(r=e.length),e.slice(a,r)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){a=n+1;break}}else-1===r&&(o=!1,r=n+1);return-1===r?"":e.slice(a,r)},extname(e){zG(e);let t=-1,n=0,a=-1,r=!0,o=0;for(let i=(e=PG(this.toPosix(e))).length-1;i>=0;--i){const s=e.charCodeAt(i);if(47!==s)-1===a&&(r=!1,a=i+1),46===s?-1===t?t=i:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=i+1;break}}return-1===t||-1===a||0===o||1===o&&t===a-1&&t===n+1?"":e.slice(t,a)},parse(e){zG(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;let n=(e=PG(this.toPosix(e))).charCodeAt(0);const a=this.isAbsolute(e);let r;t.root=this.rootname(e),r=a||this.hasProtocol(e)?1:0;let o=-1,i=0,s=-1,l=!0,c=e.length-1,d=0;for(;c>=r;--c)if(n=e.charCodeAt(c),47!==n)-1===s&&(l=!1,s=c+1),46===n?-1===o?o=c:1!==d&&(d=1):-1!==o&&(d=-1);else if(!l){i=c+1;break}return-1===o||-1===s||0===d||1===d&&o===s-1&&o===i+1?-1!==s&&(t.base=t.name=0===i&&a?e.slice(1,s):e.slice(i,s)):(0===i&&a?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(i,o),t.base=e.slice(i,s)),t.ext=e.slice(o,s)),t.dir=this.dirname(e),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let $G,OG;async function LG(){return $G??($G=(async()=>{const e=document.createElement("canvas").getContext("webgl");if(!e)return rG.UNPACK;const t=await new Promise(e=>{const t=document.createElement("video");t.onloadeddata=()=>e(t),t.onerror=()=>e(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()});if(!t)return rG.UNPACK;const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const r=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,r),e.deleteFramebuffer(a),e.deleteTexture(n),e.getExtension("WEBGL_lose_context")?.loseContext(),r[0]<=r[3]?rG.PMA:rG.UNPACK})()),$G}var FG={grad:.9,turn:360,rad:360/(2*Math.PI)},jG=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},UG=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},qG=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},GG=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},HG=function(e){return{r:qG(e.r,0,255),g:qG(e.g,0,255),b:qG(e.b,0,255),a:qG(e.a)}},YG=function(e){return{r:UG(e.r),g:UG(e.g),b:UG(e.b),a:UG(e.a,3)}},WG=/^#([0-9a-f]{3,8})$/i,XG=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},JG=function(e){var t=e.r,n=e.g,a=e.b,r=e.a,o=Math.max(t,n,a),i=o-Math.min(t,n,a),s=i?o===t?(n-a)/i:o===n?2+(a-t)/i:4+(t-n)/i:0;return{h:60*(s<0?s+6:s),s:o?i/o*100:0,v:o/255*100,a:r}},KG=function(e){var t=e.h,n=e.s,a=e.v,r=e.a;t=t/360*6,n/=100,a/=100;var o=Math.floor(t),i=a*(1-n),s=a*(1-(t-o)*n),l=a*(1-(1-t+o)*n),c=o%6;return{r:255*[a,s,i,i,l,a][c],g:255*[l,a,a,s,i,i][c],b:255*[i,i,l,a,a,s][c],a:r}},ZG=function(e){return{h:GG(e.h),s:qG(e.s,0,100),l:qG(e.l,0,100),a:qG(e.a)}},QG=function(e){return{h:UG(e.h),s:UG(e.s),l:UG(e.l),a:UG(e.a,3)}},eH=function(e){return KG((n=(t=e).s,{h:t.h,s:(n*=((a=t.l)<50?a:100-a)/100)>0?2*n/(a+n)*100:0,v:a+n,a:t.a}));var t,n,a},tH=function(e){return{h:(t=JG(e)).h,s:(r=(200-(n=t.s))*(a=t.v)/100)>0&&r<200?n*a/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,n,a,r},nH=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aH=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rH=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oH=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iH={string:[[function(e){var t=WG.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?UG(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?UG(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=rH.exec(e)||oH.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:HG({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=nH.exec(e)||aH.exec(e);if(!t)return null;var n,a,r=ZG({h:(n=t[1],a=t[2],void 0===a&&(a="deg"),Number(n)*(FG[a]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return eH(r)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,a=e.b,r=e.a,o=void 0===r?1:r;return jG(t)&&jG(n)&&jG(a)?HG({r:Number(t),g:Number(n),b:Number(a),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,a=e.l,r=e.a,o=void 0===r?1:r;if(!jG(t)||!jG(n)||!jG(a))return null;var i=ZG({h:Number(t),s:Number(n),l:Number(a),a:Number(o)});return eH(i)},"hsl"],[function(e){var t=e.h,n=e.s,a=e.v,r=e.a,o=void 0===r?1:r;if(!jG(t)||!jG(n)||!jG(a))return null;var i=function(e){return{h:GG(e.h),s:qG(e.s,0,100),v:qG(e.v,0,100),a:qG(e.a)}}({h:Number(t),s:Number(n),v:Number(a),a:Number(o)});return KG(i)},"hsv"]]},sH=function(e,t){for(var n=0;n<t.length;n++){var a=t[n][0](e);if(a)return[a,t[n][1]]}return[null,void 0]},lH=function(e,t){var n=tH(e);return{h:n.h,s:qG(n.s+100*t,0,100),l:n.l,a:n.a}},cH=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},dH=function(e,t){var n=tH(e);return{h:n.h,s:n.s,l:qG(n.l+100*t,0,100),a:n.a}},uH=function(){function e(e){this.parsed=function(e){return"string"==typeof e?sH(e.trim(),iH.string):"object"==typeof e&&null!==e?sH(e,iH.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return UG(cH(this.rgba),2)},e.prototype.isDark=function(){return cH(this.rgba)<.5},e.prototype.isLight=function(){return cH(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=YG(this.rgba)).r,n=e.g,a=e.b,o=(r=e.a)<1?XG(UG(255*r)):"","#"+XG(t)+XG(n)+XG(a)+o;var e,t,n,a,r,o},e.prototype.toRgb=function(){return YG(this.rgba)},e.prototype.toRgbString=function(){return t=(e=YG(this.rgba)).r,n=e.g,a=e.b,(r=e.a)<1?"rgba("+t+", "+n+", "+a+", "+r+")":"rgb("+t+", "+n+", "+a+")";var e,t,n,a,r},e.prototype.toHsl=function(){return QG(tH(this.rgba))},e.prototype.toHslString=function(){return t=(e=QG(tH(this.rgba))).h,n=e.s,a=e.l,(r=e.a)<1?"hsla("+t+", "+n+"%, "+a+"%, "+r+")":"hsl("+t+", "+n+"%, "+a+"%)";var e,t,n,a,r},e.prototype.toHsv=function(){return e=JG(this.rgba),{h:UG(e.h),s:UG(e.s),v:UG(e.v),a:UG(e.a,3)};var e},e.prototype.invert=function(){return mH({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),mH(lH(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),mH(lH(this.rgba,-e))},e.prototype.grayscale=function(){return mH(lH(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),mH(dH(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),mH(dH(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?mH({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):UG(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=tH(this.rgba);return"number"==typeof e?mH({h:e,s:t.s,l:t.l,a:t.a}):UG(t.h)},e.prototype.isEqual=function(e){return this.toHex()===mH(e).toHex()},e}(),mH=function(e){return e instanceof uH?e:new uH(e)},pH=[];!function(e){e.forEach(function(e){pH.indexOf(e)<0&&(e(uH,iH),pH.push(e))})}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},a={};for(var r in n)a[n[r]]=r;var o={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var r,i,s=a[this.toHex()];if(s)return s;if(null==t?void 0:t.closest){var l=this.toRgb(),c=1/0,d="black";if(!o.length)for(var u in n)o[u]=new e(n[u]).toRgb();for(var m in n){var p=(r=l,i=o[m],Math.pow(r.r-i.r,2)+Math.pow(r.g-i.g,2)+Math.pow(r.b-i.b,2));p<c&&(c=p,d=m)}return d}},t.string.push([function(t){var a=t.toLowerCase(),r="transparent"===a?"#0000":n[a];return r?new e(r).toRgb():null},"name"])}]);const gH=class e{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?{...e}:e}isSourceEqual(e,t){const n=typeof e;if(n!==typeof t)return!1;if("number"===n||"string"===n||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((e,n)=>e===t[n]);if(null!==e&&null!==t){const n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every(n=>e[n]===t[n])}return e===t}toRgba(){const[e,t,n,a]=this._components;return{r:e,g:t,b:n,a}}toRgb(){const[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){const[e,t,n]=this.toUint8RgbArray();return`rgba(${e},${t},${n},${this.alpha})`}toUint8RgbArray(e){const[t,n,a]=this._components;return(e=e??[])[0]=Math.round(255*t),e[1]=Math.round(255*n),e[2]=Math.round(255*a),e}toRgbArray(e){e=e??[];const[t,n,a]=this._components;return e[0]=t,e[1]=n,e[2]=a,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){const[n,a,r,o]=e.temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=a,this._components[2]*=r,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let n=this._int>>16&255,a=this._int>>8&255,r=255&this._int;return t&&(n=n*e+.5|0,a=a*e+.5|0,r=r*e+.5|0),(255*e<<24)+(n<<16)+(a<<8)+r}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,n,a]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(a*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,n,a,r]=this._components;return e[0]=t,e[1]=n,e[2]=a,e[3]=r,e}normalize(t){let n,a,r,o;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215)n=(t>>16&255)/255,a=(t>>8&255)/255,r=(255&t)/255,o=1;else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,a,r,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,a,r,o=255]=t,n/=255,a/=255,r/=255,o/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){const n=e.HEX_PATTERN.exec(t);n&&(t=`#${n[2]}`)}const i=mH(t);i.isValid()&&(({r:n,g:a,b:r,a:o}=i.rgba),n/=255,a/=255,r/=255)}if(void 0===n)throw new Error(`Unable to convert color ${t}`);this._components[0]=n,this._components[1]=a,this._components[2]=r,this._components[3]=o,this.refreshInt()}refreshInt(){this._clamp(this._components);const[e,t,n]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*n|0)}_clamp(e,t=0,n=1){return"number"==typeof e?Math.min(Math.max(e,t),n):(e.forEach((a,r)=>{e[r]=Math.min(Math.max(a,t),n)}),e)}};gH.shared=new gH,gH.temp=new gH,gH.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let hH=gH;const fH=function(){const e=[],t=[];for(let n=0;n<32;n++)e[n]=n,t[n]=n;e[Xq.NORMAL_NPM]=Xq.NORMAL,e[Xq.ADD_NPM]=Xq.ADD,e[Xq.SCREEN_NPM]=Xq.SCREEN,t[Xq.NORMAL]=Xq.NORMAL_NPM,t[Xq.ADD]=Xq.ADD_NPM,t[Xq.SCREEN]=Xq.SCREEN_NPM;const n=[];return n.push(t),n.push(e),n}();function vH(e,t){return fH[t?1:0][e]}function bH(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}function yH(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)}function xH(e){return!(e&e-1||!e)}function kH(e){let t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,n=((e>>>=n)>15?1:0)<<2,t|=n,n=((e>>>=n)>3?1:0)<<1,t|=n,t|(e>>>=n)>>1}function wH(e,t,n){const a=e.length;let r;if(t>=a||0===n)return;const o=a-(n=t+n>a?a-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}function EH(e){return 0===e?0:e<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;let NH=0;function SH(){return++NH}const _H=class{constructor(e,t,n,a){this.left=e,this.top=t,this.right=n,this.bottom=a}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};_H.EMPTY=new _H(0,0,0,0);let VH=_H;const CH={},AH=Object.create(null),DH=Object.create(null);class TH{constructor(e,t,n){this._canvas=mG.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||mG.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function BH(e,t,n){for(let a=0,r=4*n*t;a<t;++a,r+=4)if(0!==e[r+3])return!1;return!0}function IH(e,t,n,a,r){const o=4*t;for(let t=a,i=a*o+4*n;t<=r;++t,i+=o)if(0!==e[i+3])return!1;return!0}function MH(e,t=1){const n=mG.RETINA_PREFIX?.exec(e);return n?parseFloat(n[1]):t}var zH=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(zH||{});const PH=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e={...e}).type&&(e.type=[e.type]),e},RH=(e,t)=>PH(e).priority??t,$H={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(PH).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...e){return e.map(PH).forEach(e=>{e.type.forEach(t=>{const n=this._addHandlers,a=this._queue;n[t]?n[t]?.(e):(a[t]=a[t]||[],a[t]?.push(e))})}),this},handle(e,t,n){const a=this._addHandlers,r=this._removeHandlers;if(a[e]||r[e])throw new Error(`Extension type ${e} already has a handler`);a[e]=t,r[e]=n;const o=this._queue;return o[e]&&(o[e]?.forEach(e=>t(e)),delete o[e]),this},handleByMap(e,t){return this.handle(e,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(e,t,n=-1){return this.handle(e,e=>{t.includes(e.ref)||(t.push(e.ref),t.sort((e,t)=>RH(t,n)-RH(e,n)))},e=>{const n=t.indexOf(e.ref);-1!==n&&t.splice(n,1)})}};class OH{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const LH=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function FH(e){let t="";for(let n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+=`if(test == ${n}.0){}`);return t}class jH{constructor(){this.data=0,this.blendMode=Xq.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Xq.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new jH;return e.depthTest=!1,e.blend=!0,e}}jH.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const UH=[];function qH(e,t){if(!e)return null;let n="";if("string"==typeof e){const t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(n=t[1].toLowerCase())}for(let a=UH.length-1;a>=0;--a){const r=UH[a];if(r.test&&r.test(e,n))return new r(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class GH{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,n,a,r,o,i,s){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:c}=this;this._aliasCount++;for(let d=0,u=c.length;d<u;d++)c[d][l](e,t,n,a,r,o,i,s);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(GH.prototype,{dispatch:{value:GH.prototype.emit},run:{value:GH.prototype.emit}});class HH{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new GH("setRealSize"),this.onUpdate=new GH("update"),this.onError=new GH("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class YH extends HH{constructor(e,t){const{width:n,height:a}=t||{};if(!n||!a)throw new Error("BufferResource width or height invalid");super(n,a),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,n){const a=e.gl;a.pixelStorei(a.UNPACK_ALIGNMENT,this.unpackAlignment),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===rG.UNPACK);const r=t.realWidth,o=t.realHeight;return n.width===r&&n.height===o?a.texSubImage2D(t.target,0,0,0,r,o,t.format,n.type,this.data):(n.width=r,n.height=o,a.texImage2D(t.target,0,n.internalFormat,r,o,0,t.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const WH={scaleMode:tG.NEAREST,alphaMode:rG.NPM},XH=class e extends TG{constructor(t=null,n=null){super(),n=Object.assign({},e.defaultOptions,n);const{alphaMode:a,mipmap:r,anisotropicLevel:o,scaleMode:i,width:s,height:l,wrapMode:c,format:d,type:u,target:m,resolution:p,resourceOptions:g}=n;t&&!(t instanceof HH)&&((t=qH(t,g)).internal=!0),this.resolution=p||mG.RESOLUTION,this.width=Math.round((s||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=o,this._wrapMode=c,this._scaleMode=i,this.format=d,this.type=u,this.target=m,this.alphaMode=a,this.uid=SH(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=s>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}setSize(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}setRealSize(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=xH(this.realWidth)&&xH(this.realHeight)}setResolution(e){const t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete DH[this.cacheId],delete AH[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,n,a=mG.STRICT_TEXTURE_CACHE){const r="string"==typeof t;let o=null;if(r)o=t;else{if(!t._pixiId){const e=n?.pixiIdPrefix||"pixiid";t._pixiId=`${e}_${SH()}`}o=t._pixiId}let i=DH[o];if(r&&a&&!i)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return i||(i=new e(t,n),i.cacheId=o,e.addToCache(i,o)),i}static fromBuffer(t,n,a,r){t=t||new Float32Array(n*a*4);const o=new YH(t,{width:n,height:a,...r?.resourceOptions});let i,s;return t instanceof Float32Array?(i=Kq.RGBA,s=Qq.FLOAT):t instanceof Int32Array?(i=Kq.RGBA_INTEGER,s=Qq.INT):t instanceof Uint32Array?(i=Kq.RGBA_INTEGER,s=Qq.UNSIGNED_INT):t instanceof Int16Array?(i=Kq.RGBA_INTEGER,s=Qq.SHORT):t instanceof Uint16Array?(i=Kq.RGBA_INTEGER,s=Qq.UNSIGNED_SHORT):t instanceof Int8Array?(i=Kq.RGBA,s=Qq.BYTE):(i=Kq.RGBA,s=Qq.UNSIGNED_BYTE),o.internal=!0,new e(o,Object.assign({},WH,{type:s,format:i},r))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),DH[t]&&DH[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),DH[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=DH[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete DH[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete DH[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};XH.defaultOptions={mipmap:aG.POW2,anisotropicLevel:0,scaleMode:tG.LINEAR,wrapMode:nG.CLAMP,alphaMode:rG.UNPACK,target:Zq.TEXTURE_2D,format:Kq.RGBA,type:Qq.UNSIGNED_BYTE},XH._globalBatch=0;let JH=XH;class KH{constructor(){this.texArray=null,this.blend=0,this.type=Jq.TRIANGLES,this.start=0,this.size=0,this.data=null}}let ZH=0;class QH{constructor(e,t=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=ZH++,this.disposeRunner=new GH("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?dG.ELEMENT_ARRAY_BUFFER:dG.ARRAY_BUFFER}get index(){return this.type===dG.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new QH(e)}}class eY{constructor(e,t=0,n=!1,a=Qq.FLOAT,r,o,i,s=1){this.buffer=e,this.size=t,this.normalized=n,this.type=a,this.stride=r,this.start=o,this.instance=i,this.divisor=s}destroy(){this.buffer=null}static from(e,t,n,a,r){return new eY(e,t,n,a,r)}}const tY={Float32Array,Uint32Array,Int32Array,Uint8Array},nY={5126:4,5123:2,5121:1};let aY=0;const rY={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class oY{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=aY++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new GH("disposeGeometry"),this.refCount=0}addAttribute(e,t,n=0,a=!1,r,o,i,s=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof QH||(t instanceof Array&&(t=new Float32Array(t)),t=new QH(t));const l=e.split("|");if(l.length>1){for(let e=0;e<l.length;e++)this.addAttribute(l[e],t,n,a,r);return this}let c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new eY(c,n,a,r,o,i,s),this.instanced=this.instanced||s,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof QH||(e instanceof Array&&(e=new Uint16Array(e)),e=new QH(e)),e.type=dG.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const e=[],t=[],n=new QH;let a;for(a in this.attributes){const n=this.attributes[a],r=this.buffers[n.buffer];e.push(r.data),t.push(n.size*nY[n.type]/4),n.buffer=0}for(n.data=function(e,t){let n=0,a=0;const r={};for(let r=0;r<e.length;r++)a+=t[r],n+=e[r].length;const o=new ArrayBuffer(4*n);let i=null,s=0;for(let n=0;n<e.length;n++){const l=t[n],c=e[n],d=bH(c);r[d]||(r[d]=new tY[d](o)),i=r[d];for(let e=0;e<c.length;e++)i[(e/l|0)*a+s+e%l]=c[e];s+=l}return new Float32Array(o)}(e,t),a=0;a<this.buffers.length;a++)this.buffers[a]!==this.indexBuffer&&this.buffers[a].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new oY;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new QH(this.buffers[t].data.slice(0));for(const t in this.attributes){const n=this.attributes[t];e.attributes[t]=new eY(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=dG.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new oY,n=[],a=[],r=[];let o;for(let t=0;t<e.length;t++){o=e[t];for(let e=0;e<o.buffers.length;e++)a[e]=a[e]||0,a[e]+=o.buffers[e].data.length,r[e]=0}for(let e=0;e<o.buffers.length;e++)n[e]=new(rY[bH(o.buffers[e].data)])(a[e]),t.buffers[e]=new QH(n[e]);for(let t=0;t<e.length;t++){o=e[t];for(let e=0;e<o.buffers.length;e++)n[e].set(o.buffers[e].data,r[e]),r[e]+=o.buffers[e].data.length}if(t.attributes=o.attributes,o.indexBuffer){t.indexBuffer=t.buffers[o.buffers.indexOf(o.indexBuffer)],t.indexBuffer.type=dG.ELEMENT_ARRAY_BUFFER;let n=0,a=0,r=0,i=0;for(let e=0;e<o.buffers.length;e++)if(o.buffers[e]!==o.indexBuffer){i=e;break}for(const e in o.attributes){const t=o.attributes[e];(0|t.buffer)===i&&(a+=t.size*nY[t.type]/4)}for(let o=0;o<e.length;o++){const s=e[o].indexBuffer.data;for(let e=0;e<s.length;e++)t.indexBuffer.data[e+r]+=n;n+=e[o].buffers[i].data.length/a,r+=s.length}}return t}}class iY extends oY{constructor(e=!1){super(),this._buffer=new QH(null,e,!1),this._indexBuffer=new QH(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Qq.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Qq.FLOAT).addAttribute("aColor",this._buffer,4,!0,Qq.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Qq.FLOAT).addIndex(this._indexBuffer)}}const sY=2*Math.PI,lY=180/Math.PI,cY=Math.PI/180;var dY=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(dY||{});class uY{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new uY(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}uY.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const mY=[new uY,new uY,new uY,new uY];class pY{constructor(e=0,t=0,n=0,a=0){this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(a),this.type=dY.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new pY(0,0,0,0)}clone(){return new pY(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;const n=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>n}const n=this.left,a=this.right,r=this.top,o=this.bottom;if(a<=n||o<=r)return!1;const i=mY[0].set(e.left,e.top),s=mY[1].set(e.left,e.bottom),l=mY[2].set(e.right,e.top),c=mY[3].set(e.right,e.bottom);if(l.x<=i.x||s.y<=i.y)return!1;const d=Math.sign(t.a*t.d-t.b*t.c);if(0===d||(t.apply(i,i),t.apply(s,s),t.apply(l,l),t.apply(c,c),Math.max(i.x,s.x,l.x,c.x)<=n||Math.min(i.x,s.x,l.x,c.x)>=a||Math.max(i.y,s.y,l.y,c.y)<=r||Math.min(i.y,s.y,l.y,c.y)>=o))return!1;const u=d*(s.y-i.y),m=d*(i.x-s.x),p=u*n+m*r,g=u*a+m*r,h=u*n+m*o,f=u*a+m*o;if(Math.max(p,g,h,f)<=u*i.x+m*i.y||Math.min(p,g,h,f)>=u*c.x+m*c.y)return!1;const v=d*(i.y-l.y),b=d*(l.x-i.x),y=v*n+b*r,x=v*a+b*r,k=v*n+b*o,w=v*a+b*o;return!(Math.max(y,x,k,w)<=v*i.x+b*i.y||Math.min(y,x,k,w)>=v*c.x+b*c.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),a=Math.max(this.y,e.y),r=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=a,this.height=Math.max(r-a,0),this}ceil(e=1,t=.001){const n=Math.ceil((this.x+this.width-t)*e)/e,a=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=a-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),a=Math.min(this.y,e.y),r=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=a,this.height=r-a,this}}pY.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class gY{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.radius=n,this.type=dY.CIRC}clone(){return new gY(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const n=this.radius*this.radius;let a=this.x-e,r=this.y-t;return a*=a,r*=r,a+r<=n}getBounds(){return new pY(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}gY.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class hY{constructor(e=0,t=0,n=0,a=0){this.x=e,this.y=t,this.width=n,this.height=a,this.type=dY.ELIP}clone(){return new hY(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,a=(t-this.y)/this.height;return n*=n,a*=a,n+a<=1}getBounds(){return new pY(this.x-this.width,this.y-this.height,this.width,this.height)}}hY.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class fY{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if("number"!=typeof t[0]){const e=[];for(let n=0,a=t.length;n<a;n++)e.push(t[n].x,t[n].y);t=e}this.points=t,this.type=dY.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new fY(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let n=!1;const a=this.points.length/2;for(let r=0,o=a-1;r<a;o=r++){const a=this.points[2*r],i=this.points[2*r+1],s=this.points[2*o],l=this.points[2*o+1];i>t!=l>t&&e<(t-i)/(l-i)*(s-a)+a&&(n=!n)}return n}}fY.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`};class vY{constructor(e=0,t=0,n=0,a=0,r=20){this.x=e,this.y=t,this.width=n,this.height=a,this.radius=r,this.type=dY.RREC}clone(){return new vY(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let a=e-(this.x+n),r=t-(this.y+n);const o=n*n;if(a*a+r*r<=o||(a=e-(this.x+this.width-n),a*a+r*r<=o)||(r=t-(this.y+this.height-n),a*a+r*r<=o)||(a=e-(this.x+n),a*a+r*r<=o))return!0}return!1}}vY.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class bY{constructor(e=1,t=0,n=0,a=1,r=0,o=0){this.array=null,this.a=e,this.b=t,this.c=n,this.d=a,this.tx=r,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,a,r,o){return this.a=e,this.b=t,this.c=n,this.d=a,this.tx=r,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,t){t=t||new uY;const n=e.x,a=e.y;return t.x=this.a*n+this.c*a+this.tx,t.y=this.b*n+this.d*a+this.ty,t}applyInverse(e,t){t=t||new uY;const n=1/(this.a*this.d+this.c*-this.b),a=e.x,r=e.y;return t.x=this.d*n*a+-this.c*n*r+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*r+-this.b*n*a+(-this.ty*this.a+this.tx*this.b)*n,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),a=this.a,r=this.c,o=this.tx;return this.a=a*t-this.b*n,this.b=a*n+this.b*t,this.c=r*t-this.d*n,this.d=r*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this}append(e){const t=this.a,n=this.b,a=this.c,r=this.d;return this.a=e.a*t+e.b*a,this.b=e.a*n+e.b*r,this.c=e.c*t+e.d*a,this.d=e.c*n+e.d*r,this.tx=e.tx*t+e.ty*a+this.tx,this.ty=e.tx*n+e.ty*r+this.ty,this}setTransform(e,t,n,a,r,o,i,s,l){return this.a=Math.cos(i+l)*r,this.b=Math.sin(i+l)*r,this.c=-Math.sin(i-s)*o,this.d=Math.cos(i-s)*o,this.tx=e-(n*this.a+a*this.c),this.ty=t-(n*this.b+a*this.d),this}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const t=this.a,n=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,n=this.b,a=this.c,r=this.d,o=e.pivot,i=-Math.atan2(-a,r),s=Math.atan2(n,t),l=Math.abs(i+s);return l<1e-5||Math.abs(sY-l)<1e-5?(e.rotation=s,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=i,e.skew.y=s),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(a*a+r*r),e.position.x=this.tx+(o.x*t+o.y*a),e.position.y=this.ty+(o.x*n+o.y*r),e}invert(){const e=this.a,t=this.b,n=this.c,a=this.d,r=this.tx,o=e*a-t*n;return this.a=a/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-a*r)/o,this.ty=-(e*this.ty-t*r)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new bY;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new bY}static get TEMP_MATRIX(){return new bY}}bY.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const yY=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xY=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],kY=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],wY=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],EY=[],NY=[],SY=Math.sign;!function(){for(let e=0;e<16;e++){const t=[];EY.push(t);for(let n=0;n<16;n++){const a=SY(yY[e]*yY[n]+kY[e]*xY[n]),r=SY(xY[e]*yY[n]+wY[e]*xY[n]),o=SY(yY[e]*kY[n]+kY[e]*wY[n]),i=SY(xY[e]*kY[n]+wY[e]*wY[n]);for(let e=0;e<16;e++)if(yY[e]===a&&xY[e]===r&&kY[e]===o&&wY[e]===i){t.push(e);break}}}for(let e=0;e<16;e++){const t=new bY;t.set(yY[e],xY[e],kY[e],wY[e],0,0),NY.push(t)}}();const _Y={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>yY[e],uY:e=>xY[e],vX:e=>kY[e],vY:e=>wY[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>EY[e][t],sub:(e,t)=>EY[e][_Y.inv(t)],rotate180:e=>4^e,isVertical:e=>2==(3&e),byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?_Y.S:_Y.N:2*Math.abs(t)<=Math.abs(e)?e>0?_Y.E:_Y.W:t>0?e>0?_Y.SE:_Y.SW:e>0?_Y.NE:_Y.NW,matrixAppendRotationInv:(e,t,n=0,a=0)=>{const r=NY[_Y.inv(t)];r.tx=n,r.ty=a,e.append(r)}};class VY{constructor(e,t,n=0,a=0){this._x=n,this._y=a,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new VY(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}VY.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const CY=class{constructor(){this.worldTransform=new bY,this.localTransform=new bY,this.position=new VY(this.onChange,this,0,0),this.scale=new VY(this.onChange,this,1,1),this.pivot=new VY(this.onChange,this,0,0),this.skew=new VY(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const n=e.worldTransform,a=this.worldTransform;a.a=t.a*n.a+t.b*n.c,a.b=t.a*n.b+t.b*n.d,a.c=t.c*n.a+t.d*n.c,a.d=t.c*n.b+t.d*n.d,a.tx=t.tx*n.a+t.ty*n.c+n.tx,a.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};CY.IDENTITY=new CY;let AY=CY;AY.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};const DY=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>`\n            if(uv["${e}"] !== ud["${e}"].value)\n            {\n                ud["${e}"].value = uv["${e}"]\n                gl.uniform1f(ud["${e}"].location, uv["${e}"])\n            }\n            `},{test:(e,t)=>!("sampler2D"!==e.type&&"samplerCube"!==e.type&&"sampler2DArray"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture),code:e=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${e}"], t);\n\n            if(ud["${e}"].value !== t)\n            {\n                ud["${e}"].value = t;\n                gl.uniform1i(ud["${e}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>`\n            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));\n            `,codeUbo:e=>`\n                var ${e}_matrix = uv.${e}.toArray(true);\n\n                data[offset] = ${e}_matrix[0];\n                data[offset+1] = ${e}_matrix[1];\n                data[offset+2] = ${e}_matrix[2];\n        \n                data[offset + 4] = ${e}_matrix[3];\n                data[offset + 5] = ${e}_matrix[4];\n                data[offset + 6] = ${e}_matrix[5];\n        \n                data[offset + 8] = ${e}_matrix[6];\n                data[offset + 9] = ${e}_matrix[7];\n                data[offset + 10] = ${e}_matrix[8];\n            `},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${e}"].location, v.x, v.y);\n                }`,codeUbo:e=>`\n                v = uv.${e};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);\n                }\n            `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])\n                }`}],TY={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},BY={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},IY={};let MY,zY=IY;const PY={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function RY(e){return PY[e]}let $Y=null;const OY={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function LY(e,t){if(!$Y){const t=Object.keys(OY);$Y={};for(let n=0;n<t.length;++n){const a=t[n];$Y[e[a]]=OY[a]}}return $Y[t]}function FY(e,t,n){if("precision"!==e.substring(0,9)){let a=t;return t===sG.HIGH&&n!==sG.HIGH&&(a=sG.MEDIUM),`precision ${a} float;\n${e}`}return n!==sG.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}let jY=0;const UY={},qY=class e{constructor(t,n,a="pixi-shader",r={}){this.extra={},this.id=jY++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,"#version"!==this.vertexSrc.substring(0,8)&&(a=a.replace(/\s+/g,"-"),UY[a]?(UY[a]++,a+=`-${UY[a]}`):UY[a]=1,this.vertexSrc=`#define SHADER_NAME ${a}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${a}\n${this.fragmentSrc}`,this.vertexSrc=FY(this.vertexSrc,e.defaultVertexPrecision,sG.HIGH),this.fragmentSrc=FY(this.fragmentSrc,e.defaultFragmentPrecision,function(){if(!MY){MY=sG.MEDIUM;const e=function(){if(zY===IY||zY?.isContextLost()){const e=mG.ADAPTER.createCanvas();let t;mG.PREFER_ENV>=Hq.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),zY=t}return zY}();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(MY=t.precision?sG.HIGH:sG.MEDIUM)}}return MY}())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}static from(t,n,a){const r=t+n;let o=CH[r];return o||(CH[r]=o=new e(t,n,a)),o}};qY.defaultVertexPrecision=sG.HIGH,qY.defaultFragmentPrecision=DG.apple.device?sG.HIGH:sG.MEDIUM;let GY=qY,HY=0;class YY{constructor(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=HY++,this.static=!!t,this.ubo=!!n,e instanceof QH?(this.buffer=e,this.buffer.type=dG.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new QH(new Float32Array(1)),this.buffer.type=dG.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,n){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new YY(t,n)}static from(e,t,n){return new YY(e,t,n)}static uboFrom(e,t){return new YY(e,t??!0,!0)}}class WY{constructor(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof YY?t:new YY(t):new YY({}),this.disposeRunner=new GH("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const n in t.uniforms){const a=t.uniforms[n];if(!0===a.group&&this.checkUniformExists(e,a))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,n){const a=GY.from(e,t);return new WY(a,n)}}class XY{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=YY.from({uSamplers:t},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new GY(this.vertexSrc,n)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new bY,default:this.defaultGroupCache[e]};return new WY(this.programCache[e],t)}generateSampleSrc(e){let t="";t+="\n",t+="\n";for(let n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+=`if(vTextureId < ${n}.5)`),t+="\n{",t+=`\n\tcolor = texture2D(uSamplers[${n}], vTextureCoord);`,t+="\n}";return t+="\n",t+="\n",t}}class JY{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class KY{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}const ZY=class e extends KY{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=iY,this.vertexSize=6,this.state=jH.for2d(),this.size=4*e.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??function(){let e=!0;const t=mG.ADAPTER.getNavigator();if(DG.tablet||DG.phone){if(DG.apple.device){const n=t.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(DG.android.device){const n=t.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?32:4}(),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??!DG.apple.device,this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return MG("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}static get defaultFragmentTemplate(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}setShaderGenerator({vertex:t=e.defaultVertexSrc,fragment:n=e.defaultFragmentTemplate}={}){this.shaderGenerator=new XY(t,n)}contextChange(){const t=this.renderer.gl;mG.PREFER_ENV===Hq.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);for(;;){const a=LH.replace(/%forloop%/gi,FH(e));if(t.shaderSource(n,a),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:n}=e,a=this.size/4,r=Math.floor(a/this.maxTextures)+1;for(;t.length<a;)t.push(new KH);for(;n.length<r;)n.push(new JY);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:n}=this,a=e._textureArrayPool,r=this.renderer.batch,o=this._tempBoundTextures,i=this.renderer.textureGC.count;let s=++JH._globalBatch,l=0,c=a[0],d=0;r.copyBoundTextures(o,n);for(let e=0;e<this._bufferSize;++e){const u=t[e];t[e]=null,u._batchEnabled!==s&&(c.count>=n&&(r.boundArray(c,o,s,n),this.buildDrawCalls(c,d,e),d=e,c=a[++l],++s),u._batchEnabled=s,u.touched=i,c.elements[c.count++]=u)}c.count>0&&(r.boundArray(c,o,s,n),this.buildDrawCalls(c,d,this._bufferSize),++l,++s);for(let e=0;e<o.length;e++)o[e]=null;JH._globalBatch=s}buildDrawCalls(t,n,a){const{_bufferedElements:r,_attributeBuffer:o,_indexBuffer:i,vertexSize:s}=this,l=e._drawCallPool;let c=this._dcIndex,d=this._aIndex,u=this._iIndex,m=l[c];m.start=this._iIndex,m.texArray=t;for(let e=n;e<a;++e){const a=r[e],p=a._texture.baseTexture,g=fH[p.alphaMode?1:0][a.blendMode];r[e]=null,n<e&&m.blend!==g&&(m.size=u-m.start,n=e,m=l[++c],m.texArray=t,m.start=u),this.packInterleavedGeometry(a,o,i,d,u),d+=a.vertexData.length/2*s,u+=a.indices.length,m.blend=g}n<a&&(m.size=u-m.start,++c),this._dcIndex=c,this._aIndex=d,this._iIndex=u}bindAndClearTexArray(e){const t=this.renderer.texture;for(let n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:n,_indexBuffer:a}=this;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:n,state:a}=this.renderer,r=e._drawCallPool;let o=null;for(let e=0;e<t;e++){const{texArray:t,type:i,size:s,start:l,blend:c}=r[e];o!==t&&(o=t,this.bindAndClearTexArray(t)),this.state.blendMode=c,a.set(this.state),n.drawElements(i,s,n.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=yH(Math.ceil(e/8)),n=kH(t),a=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let r=this._aBuffers[a];return r||(this._aBuffers[a]=r=new OH(a*this.vertexSize*4)),r}getIndexBuffer(e){const t=yH(Math.ceil(e/12)),n=kH(t),a=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let r=this._iBuffers[n];return r||(this._iBuffers[n]=r=new Uint16Array(a)),r}packInterleavedGeometry(e,t,n,a,r){const{uint32View:o,float32View:i}=t,s=a/this.vertexSize,l=e.uvs,c=e.indices,d=e.vertexData,u=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),p=hH.shared.setValue(e._tintRGB).toPremultiplied(m,e._texture.baseTexture.alphaMode>0);for(let e=0;e<d.length;e+=2)i[a++]=d[e],i[a++]=d[e+1],i[a++]=l[e],i[a++]=l[e+1],o[a++]=p,i[a++]=u;for(let e=0;e<c.length;e++)n[r++]=s+c[e]}};ZY.defaultBatchSize=4096,ZY.extension={name:"batch",type:zH.RendererPlugin},ZY._drawCallPool=[],ZY._textureArrayPool=[];let QY=ZY;$H.add(QY);const eW=class e extends WY{constructor(t,n,a){super(GY.from(t||e.defaultVertexSrc,n||e.defaultFragmentSrc),a),this.padding=0,this.resolution=e.defaultResolution,this.multisample=e.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new jH}apply(e,t,n,a,r){e.applyFilter(this,t,n,a)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}};eW.defaultResolution=1,eW.defaultMultisample=cG.NONE;let tW=eW;class nW{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new hH(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:n,backgroundAlpha:a}=e,r=n??t;void 0!==r&&(this.color=r),this.alpha=a}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}nW.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},nW.extension={type:[zH.RendererSystem,zH.CanvasRendererSystem],name:"background"},$H.add(nW);class aW{constructor(e){this.renderer=e,this.emptyRenderer=new KY(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:n}=this.renderer.texture;for(let a=t-1;a>=0;--a)e[a]=n[a]||null,e[a]&&(e[a]._batchLocation=a)}boundArray(e,t,n,a){const{elements:r,ids:o,count:i}=e;let s=0;for(let e=0;e<i;e++){const i=r[e],l=i._batchLocation;if(l>=0&&l<a&&t[l]===i)o[e]=l;else for(;s<a;){const a=t[s];if(!a||a._batchEnabled!==n||a._batchLocation!==s){o[e]=s,i._batchLocation=s,t[s]=i;break}s++}}}destroy(){this.renderer=null}}aW.extension={type:zH.RendererSystem,name:"batch"},$H.add(aW);let rW=0;class oW{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=rW++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=rW++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let n;if(mG.PREFER_ENV>=Hq.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const a=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=a,a||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}oW.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},oW.extension={type:zH.RendererSystem,name:"context"},$H.add(oW);class iW{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new GH("disposeFramebuffer"),this.multisample=cG.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new JH(null,{scaleMode:tG.NEAREST,resolution:1,mipmap:aG.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new JH(null,{scaleMode:tG.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:aG.OFF,format:Kq.DEPTH_COMPONENT,type:Qq.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const a=this.colorTextures[n],r=a.resolution;a.setSize(e/r,t/r)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class sW extends JH{constructor(e={}){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=cG.NONE),super(null,e),this.mipmap=aG.OFF,this.valid=!0,this._clear=new hH([0,0,0,0]),this.framebuffer=new iW(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class lW extends HH{constructor(e){const t=e;super(t.naturalWidth||t.videoWidth||t.displayWidth||t.width,t.naturalHeight||t.videoHeight||t.displayHeight||t.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,n){void 0!==n||t.startsWith("data:")?!1!==n&&(e.crossOrigin="string"==typeof n?n:"anonymous"):e.crossOrigin=function(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;const n=new URL(e,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}(t)}upload(e,t,n,a){const r=e.gl,o=t.realWidth,i=t.realHeight;if(a=a||this.source,typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement){if(!a.complete||0===a.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===rG.UNPACK),this.noSubImage||t.target!==r.TEXTURE_2D||n.width!==o||n.height!==i?(n.width=o,n.height=i,r.texImage2D(t.target,0,n.internalFormat,t.format,n.type,a)):r.texSubImage2D(r.TEXTURE_2D,0,0,0,t.format,n.type,a),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),super.update()}dispose(){this.source=null}}class cW extends lW{constructor(e,t){if(t=t||{},"string"==typeof e){const n=new Image;lW.crossOrigin(n,e,t.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??mG.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((e,t)=>{const n=this.source;this.url=n.src;const a=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};n.complete&&n.src?a():(n.onload=a,n.onerror=e=>{t(e),this.onError.emit(e)})})),this._load}process(){const e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,n=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(e=>e.blob()).then(n=>t(n,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===rG.UNPACK?"premultiply":"none"})).then(e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,n){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,n,this.bitmap),!this.preserveBitmap){let e=!0;const a=t._glTextures;for(const r in a){const o=a[r];if(o!==n&&o.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&("string"==typeof e||e instanceof HTMLImageElement)}}class dW{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){const a=t.width,r=t.height;if(n){const t=e.width/2/a,o=e.height/2/r,i=e.x/a+t,s=e.y/r+o;n=_Y.add(n,_Y.NW),this.x0=i+t*_Y.uX(n),this.y0=s+o*_Y.uY(n),n=_Y.add(n,2),this.x1=i+t*_Y.uX(n),this.y1=s+o*_Y.uY(n),n=_Y.add(n,2),this.x2=i+t*_Y.uX(n),this.y2=s+o*_Y.uY(n),n=_Y.add(n,2),this.x3=i+t*_Y.uX(n),this.y3=s+o*_Y.uY(n)}else this.x0=e.x/a,this.y0=e.y/r,this.x1=(e.x+e.width)/a,this.y1=e.y/r,this.x2=(e.x+e.width)/a,this.y2=(e.y+e.height)/r,this.x3=e.x/a,this.y3=(e.y+e.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}dW.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const uW=new dW;function mW(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class pW extends TG{constructor(e,t,n,a,r,o,i){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new pY(0,0,1,1)),e instanceof pW&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=a,this.valid=!1,this.destroyed=!1,this._uvs=uW,this.uvMatrix=null,this.orig=n||t,this._rotate=Number(r||0),!0===r)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new uY(o.x,o.y):new uY(0,0),this.defaultBorders=i,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:e}=this.baseTexture;e?.url&&AH[e.url]&&pW.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,pW.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),n=new pW(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===uW&&(this._uvs=new dW),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},n=mG.STRICT_TEXTURE_CACHE){const a="string"==typeof e;let r=null;if(a)r=e;else if(e instanceof JH){if(!e.cacheId){const n=t?.pixiIdPrefix||"pixiid";e.cacheId=`${n}-${SH()}`,JH.addToCache(e,e.cacheId)}r=e.cacheId}else{if(!e._pixiId){const n=t?.pixiIdPrefix||"pixiid";e._pixiId=`${n}_${SH()}`}r=e._pixiId}let o=AH[r];if(a&&n&&!o)throw new Error(`The cacheId "${r}" does not exist in TextureCache.`);return o||e instanceof JH?!o&&e instanceof JH&&(o=new pW(e),pW.addToCache(o,r)):(t.resolution||(t.resolution=MH(e)),o=new pW(new JH(e,t)),o.baseTexture.cacheId=r,JH.addToCache(o.baseTexture,r),pW.addToCache(o,r)),o}static fromURL(e,t){const n=Object.assign({autoLoad:!1},t?.resourceOptions),a=pW.from(e,Object.assign({resourceOptions:n},t),!1),r=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):r.load().then(()=>Promise.resolve(a))}static fromBuffer(e,t,n,a){return new pW(JH.fromBuffer(e,t,n,a))}static fromLoader(e,t,n,a){const r=new JH(e,Object.assign({scaleMode:JH.defaultOptions.scaleMode,resolution:MH(t)},a)),{resource:o}=r;o instanceof cW&&(o.url=t);const i=new pW(r);return n||(n=t),JH.addToCache(i.baseTexture,n),pW.addToCache(i,n),n!==t&&(JH.addToCache(i.baseTexture,t),pW.addToCache(i,t)),i.baseTexture.valid?Promise.resolve(i):new Promise(e=>{i.baseTexture.once("loaded",()=>e(i))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),AH[t]&&AH[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),AH[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=AH[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete AH[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)AH[e.textureCacheIds[t]]===e&&delete AH[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:n,width:a,height:r}=e,o=t+a>this.baseTexture.width,i=n+r>this.baseTexture.height;if(o||i){const e=o&&i?"and":"or",s=`X: ${t} + ${a} = ${t+a} > ${this.baseTexture.width}`,l=`Y: ${n} + ${r} = ${n+r} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${s} ${e} ${l}`)}this.valid=a&&r&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return pW._EMPTY||(pW._EMPTY=new pW(new JH),mW(pW._EMPTY),mW(pW._EMPTY.baseTexture)),pW._EMPTY}static get WHITE(){if(!pW._WHITE){const e=mG.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),pW._WHITE=new pW(JH.from(e)),mW(pW._WHITE),mW(pW._WHITE.baseTexture)}return pW._WHITE}}class gW extends pW{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,n=!0){const a=this.baseTexture.resolution,r=Math.round(e*a)/a,o=Math.round(t*a)/a;this.valid=r>0&&o>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(r,o),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new gW(new sW(e))}}class hW{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,n=cG.NONE){const a=new sW(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new gW(a)}getOptimalTexture(e,t,n=1,a=cG.NONE){let r;e=Math.max(Math.ceil(e*n-1e-6),1),t=Math.max(Math.ceil(t*n-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?r=a>1?-a:-1:(r=((65535&(e=yH(e)))<<16|65535&(t=yH(t)))>>>0,a>1&&(r+=4294967296*a)),this.texturePool[r]||(this.texturePool[r]=[]);let o=this.texturePool[r].pop();return o||(o=this.createTexture(e,t,a)),o.filterPoolKey=r,o.setResolution(n),o}getFilterTexture(e,t,n){const a=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||cG.NONE);return a.filterFrame=e.filterFrame,a}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(const e in this.texturePool){const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this.texturePool={}}setScreenSize(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){this.enableFullScreen=e.width>0&&e.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}hW.SCREEN_KEY=-1;class fW extends oY{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class vW extends oY{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new QH(this.vertices),this.uvBuffer=new QH(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let n=0,a=0;return this.uvs[0]=n,this.uvs[1]=a,this.uvs[2]=n+t.width/e.width,this.uvs[3]=a,this.uvs[4]=n+t.width/e.width,this.uvs[5]=a+t.height/e.height,this.uvs[6]=n,this.uvs[7]=a+t.height/e.height,n=t.x,a=t.y,this.vertices[0]=n,this.vertices[1]=a,this.vertices[2]=n+t.width,this.vertices[3]=a,this.vertices[4]=n+t.width,this.vertices[5]=a+t.height,this.vertices[6]=n,this.vertices[7]=a+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class bW{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=cG.NONE,this.sourceFrame=new pY,this.destinationFrame=new pY,this.bindingSourceFrame=new pY,this.bindingDestinationFrame=new pY,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const yW=[new uY,new uY,new uY,new uY],xW=new bY;class kW{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new hW,this.statePool=[],this.quad=new fW,this.quadUv=new vW,this.tempRect=new pY,this.activeState={},this.globalUniforms=new YY({outputFrame:new pY,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const n=this.renderer,a=this.defaultFilterStack,r=this.statePool.pop()||new bW,o=n.renderTexture;let i,s;if(o.current){const e=o.current;i=e.resolution,s=e.multisample}else i=n.resolution,s=n.multisample;let l=t[0].resolution||i,c=t[0].multisample??s,d=t[0].padding,u=t[0].autoFit,m=t[0].legacy??!0;for(let e=1;e<t.length;e++){const n=t[e];l=Math.min(l,n.resolution||i),c=Math.min(c,n.multisample??s),d=this.useMaxPadding?Math.max(d,n.padding):d+n.padding,u=u&&n.autoFit,m=m||(n.legacy??!0)}1===a.length&&(this.defaultFilterStack[0].renderTexture=o.current),a.push(r),r.resolution=l,r.multisample=c,r.legacy=m,r.target=e,r.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),r.sourceFrame.pad(d);const p=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(xW.copyFrom(n.projection.transform).invert(),p),u?(r.sourceFrame.fit(p),(r.sourceFrame.width<=0||r.sourceFrame.height<=0)&&(r.sourceFrame.width=0,r.sourceFrame.height=0)):r.sourceFrame.intersects(p)||(r.sourceFrame.width=0,r.sourceFrame.height=0),this.roundFrame(r.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),r.renderTexture=this.getOptimalFilterTexture(r.sourceFrame.width,r.sourceFrame.height,l,c),r.filters=t,r.destinationFrame.width=r.renderTexture.width,r.destinationFrame.height=r.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=r.sourceFrame.width,g.height=r.sourceFrame.height,r.renderTexture.filterFrame=r.sourceFrame,r.bindingSourceFrame.copyFrom(o.sourceFrame),r.bindingDestinationFrame.copyFrom(o.destinationFrame),r.transform=n.projection.transform,n.projection.transform=null,o.bind(r.renderTexture,r.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;const a=this.globalUniforms.uniforms;a.outputFrame=t.sourceFrame,a.resolution=t.resolution;const r=a.inputSize,o=a.inputPixel,i=a.inputClamp;if(r[0]=t.destinationFrame.width,r[1]=t.destinationFrame.height,r[2]=1/r[0],r[3]=1/r[1],o[0]=Math.round(r[0]*t.resolution),o[1]=Math.round(r[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],i[0]=.5*o[2],i[1]=.5*o[3],i[2]=t.sourceFrame.width*r[2]-.5*o[2],i[3]=t.sourceFrame.height*r[3]-.5*o[3],t.legacy){const e=a.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,a.filterClamp=a.inputClamp}this.globalUniforms.update();const s=e[e.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,s.renderTexture,oG.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,a=this.getOptimalFilterTexture(e.width,e.height,t.resolution);a.filterFrame=e.filterFrame;let r=0;for(r=0;r<n.length-1;++r){1===r&&t.multisample>1&&(a=this.getOptimalFilterTexture(e.width,e.height,t.resolution),a.filterFrame=e.filterFrame),n[r].apply(this,e,a,oG.CLEAR,t);const o=e;e=a,a=o}n[r].apply(this,e,s.renderTexture,oG.BLEND,t),r>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(a)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=oG.CLEAR){const{renderTexture:n,state:a}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,n.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const r=1&a.stateId||this.forceClear;(t===oG.CLEAR||t===oG.BLIT&&r)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,n,a){const r=this.renderer;r.state.set(e.state),this.bindAndClear(n,a),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,r.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(Jq.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(Jq.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:n,destinationFrame:a}=this.activeState,{orig:r}=t._texture,o=e.set(a.width,0,0,a.height,n.x,n.y),i=t.worldTransform.copyTo(bY.TEMP_MATRIX);return i.invert(),o.prepend(i),o.scale(1/r.width,1/r.height),o.translate(t.anchor.x,t.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,n=1,a=cG.NONE){return this.texturePool.getOptimalTexture(e,t,n,a)}getFilterTexture(e,t,n){if("number"==typeof e){const n=e;e=t,t=n}e=e||this.activeState.renderTexture;const a=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||cG.NONE);return a.filterFrame=e.filterFrame,a}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const n=yW[0],a=yW[1],r=yW[2],o=yW[3];n.set(t.left,t.top),a.set(t.left,t.bottom),r.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(n,n),e.apply(a,a),e.apply(r,r),e.apply(o,o);const i=Math.min(n.x,a.x,r.x,o.x),s=Math.min(n.y,a.y,r.y,o.y),l=Math.max(n.x,a.x,r.x,o.x),c=Math.max(n.y,a.y,r.y,o.y);t.x=i,t.y=s,t.width=l-i,t.height=c-s}roundFrame(e,t,n,a,r){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(r){const{a:e,b:t,c:n,d:a}=r;if((Math.abs(t)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(a)>1e-4))return}(r=r?xW.copyFrom(r):xW.identity()).translate(-n.x,-n.y).scale(a.width/n.width,a.height/n.height).translate(a.x,a.y),this.transformAABB(r,e),e.ceil(t),this.transformAABB(r.invert(),e)}}}kW.extension={type:zH.RendererSystem,name:"filter"},$H.add(kW);class wW{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=cG.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const EW=new pY;class NW{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new iW(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new pY,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;mG.PREFER_ENV===Hq.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,n=0){const{gl:a}=this;if(e){const r=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,a.bindFramebuffer(a.FRAMEBUFFER,r.framebuffer)),r.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,r.mipLevel=n),r.dirtyId!==e.dirtyId&&(r.dirtyId=e.dirtyId,r.dirtyFormat!==e.dirtyFormat?(r.dirtyFormat=e.dirtyFormat,r.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):r.dirtySize!==e.dirtySize&&(r.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){const n=e.colorTextures[t];this.renderer.texture.unbind(n.parentTextureArray||n)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const e=t.width>>n,a=t.height>>n,r=e/t.width;this.setViewport(t.x*r,t.y*r,e,a)}else{const t=e.width>>n,a=e.height>>n;this.setViewport(0,0,t,a)}}else this.current&&(this.current=null,a.bindFramebuffer(a.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,n,a){const r=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),a=Math.round(a),(r.width!==n||r.height!==a||r.x!==e||r.y!==t)&&(r.x=e,r.y=t,r.width=n,r.height=a,this.gl.viewport(e,t,n,a))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,n,a,r=Wq.COLOR|Wq.DEPTH){const{gl:o}=this;o.clearColor(e,t,n,a),o.clear(r)}initFramebuffer(e){const{gl:t}=this,n=new wW(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:t}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){let a;t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),a=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,a,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,a,e.width,e.height)}const a=e.colorTextures;let r=a.length;t.drawBuffers||(r=Math.min(r,1));for(let o=0;o<r;o++){const r=a[o],i=r.parentTextureArray||r;this.renderer.texture.bind(i,0),0===o&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,i._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:n}=this,a=e.glFramebuffers[this.CONTEXT_UID],r=e.colorTextures;let o=r.length;n.drawBuffers||(o=Math.min(o,1)),a.multisample>1&&this.canMultisampleFramebuffer(e)?a.msaaBuffer=a.msaaBuffer||n.createRenderbuffer():a.msaaBuffer&&(n.deleteRenderbuffer(a.msaaBuffer),a.msaaBuffer=null,a.blitFramebuffer&&(a.blitFramebuffer.dispose(),a.blitFramebuffer=null));const i=[];for(let s=0;s<o;s++){const o=r[s],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),0===s&&a.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,a.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,a.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,a.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+s,o.target,l._glTextures[this.CONTEXT_UID].texture,t),i.push(n.COLOR_ATTACHMENT0+s))}if(i.length>1&&n.drawBuffers(i),e.depthTexture&&this.writeDepthTexture){const a=e.depthTexture;this.renderer.texture.bind(a,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,t)}if(!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture)a.stencil&&(n.deleteRenderbuffer(a.stencil),a.stencil=null);else{let t,r;a.stencil=a.stencil||n.createRenderbuffer(),1===this.renderer.context.webGLVersion?(t=n.DEPTH_STENCIL_ATTACHMENT,r=n.DEPTH_STENCIL):e.depth&&e.stencil?(t=n.DEPTH_STENCIL_ATTACHMENT,r=n.DEPTH24_STENCIL8):e.depth?(t=n.DEPTH_ATTACHMENT,r=n.DEPTH_COMPONENT24):(t=n.STENCIL_ATTACHMENT,r=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,a.stencil),a.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,a.multisample,r,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,r,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,t,n.RENDERBUFFER,a.stencil)}}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let n=cG.NONE;if(e<=1||null===t)return n;for(let a=0;a<t.length;a++)if(t[a]<=e){n=t[a];break}return 1===n&&(n=cG.NONE),n}blit(e,t,n){const{current:a,renderer:r,gl:o,CONTEXT_UID:i}=this;if(2!==r.context.webGLVersion||!a)return;const s=a.glFramebuffers[i];if(!s)return;if(!e){if(!s.msaaBuffer)return;const t=a.colorTextures[0];if(!t)return;s.blitFramebuffer||(s.blitFramebuffer=new iW(a.width,a.height),s.blitFramebuffer.addColorTexture(0,t)),(e=s.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}t||((t=EW).width=a.width,t.height=a.height),n||(n=t);const l=t.width===n.width&&t.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,s.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const n=e.glFramebuffers[this.CONTEXT_UID],a=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const r=this.managedFramebuffers.indexOf(e);r>=0&&this.managedFramebuffers.splice(r,1),e.disposeRunner.remove(this),t||(a.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&a.deleteRenderbuffer(n.msaaBuffer),n.stencil&&a.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,a=e.height,r=this.gl,o=t.stencil=r.createRenderbuffer();let i,s;r.bindRenderbuffer(r.RENDERBUFFER,o),1===this.renderer.context.webGLVersion?(i=r.DEPTH_STENCIL_ATTACHMENT,s=r.DEPTH_STENCIL):e.depth?(i=r.DEPTH_STENCIL_ATTACHMENT,s=r.DEPTH24_STENCIL8):(i=r.STENCIL_ATTACHMENT,s=r.STENCIL_INDEX8),t.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,t.multisample,s,n,a):r.renderbufferStorage(r.RENDERBUFFER,s,n,a),r.framebufferRenderbuffer(r.FRAMEBUFFER,i,r.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new pY}destroy(){this.renderer=null}}NW.extension={type:zH.RendererSystem,name:"framebuffer"},$H.add(NW);const SW={5126:4,5123:2,5121:1};class _W{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;mG.PREFER_ENV===Hq.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){const t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,n)=>t.vertexAttribDivisorANGLE(e,n),e.drawElementsInstanced=(e,n,a,r,o)=>t.drawElementsInstancedANGLE(e,n,a,r,o),e.drawArraysInstanced=(e,n,a,r)=>t.drawArraysInstancedANGLE(e,n,a,r)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:n}=this;let a=e.glVertexArrayObjects[this.CONTEXT_UID],r=!1;a||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=a={},r=!0);const o=a[t.program.id]||this.initGeometryVao(e,t,r);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const a=e.buffers[n];t.update(a)}}checkCompatibility(e,t){const n=e.attributes,a=t.attributeData;for(const e in a)if(!n[e])throw new Error(`shader and geometry incompatible, geometry missing the "${e}" attribute`)}getSignature(e,t){const n=e.attributes,a=t.attributeData,r=["g",e.id];for(const e in n)a[e]&&r.push(e,a[e].location);return r.join("-")}initGeometryVao(e,t,n=!0){const a=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,i=t.program;i.glPrograms[r]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,i);const s=this.getSignature(e,i),l=e.glVertexArrayObjects[this.CONTEXT_UID];let c=l[s];if(c)return l[i.id]=c,c;const d=e.buffers,u=e.attributes,m={},p={};for(const e in d)m[e]=0,p[e]=0;for(const e in u)!u[e].size&&i.attributeData[e]?u[e].size=i.attributeData[e].size:u[e].size||console.warn(`PIXI Geometry attribute '${e}' size cannot be determined (likely the bound shader does not have the attribute)`),m[u[e].buffer]+=u[e].size*SW[u[e].type];for(const e in u){const t=u[e],n=t.size;void 0===t.stride&&(m[t.buffer]===n*SW[t.type]?t.stride=0:t.stride=m[t.buffer]),void 0===t.start&&(t.start=p[t.buffer],p[t.buffer]+=n*SW[t.type])}c=a.createVertexArray(),a.bindVertexArray(c);for(let e=0;e<d.length;e++){const t=d[e];o.bind(t),n&&t._glBuffers[r].refCount++}return this.activateVao(e,i),l[i.id]=c,l[s]=c,a.bindVertexArray(null),o.unbind(dG.ARRAY_BUFFER),c}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,r=e.buffers,o=this.renderer?.buffer;if(e.disposeRunner.remove(this),n){if(o)for(let e=0;e<r.length;e++){const n=r[e]._glBuffers[this.CONTEXT_UID];n&&(n.refCount--,0===n.refCount&&!t&&o.dispose(r[e],t))}if(!t)for(const e in n)if("g"===e[0]){const t=n[e];this._activeVao===t&&this.unbind(),a.deleteVertexArray(t)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}activateVao(e,t){const n=this.gl,a=this.CONTEXT_UID,r=this.renderer.buffer,o=e.buffers,i=e.attributes;e.indexBuffer&&r.bind(e.indexBuffer);let s=null;for(const e in i){const l=i[e],c=o[l.buffer],d=c._glBuffers[a];if(t.attributeData[e]){s!==d&&(r.bind(c),s=d);const a=t.attributeData[e].location;if(n.enableVertexAttribArray(a),n.vertexAttribPointer(a,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(a,l.divisor)}}}}draw(e,t,n,a){const{gl:r}=this,o=this._activeGeometry;if(o.indexBuffer){const i=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===i?r.UNSIGNED_SHORT:r.UNSIGNED_INT;2===i||4===i&&this.canUseUInt32ElementIndex?o.instanced?r.drawElementsInstanced(e,t||o.indexBuffer.data.length,s,(n||0)*i,a||1):r.drawElements(e,t||o.indexBuffer.data.length,s,(n||0)*i):console.warn("unsupported index buffer type: uint32")}else o.instanced?r.drawArraysInstanced(e,n,t||o.getSize(),a||1):r.drawArrays(e,n,t||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}_W.extension={type:zH.RendererSystem,name:"geometry"},$H.add(_W);const VW=new bY;class CW{constructor(e,t){this._texture=e,this.mapCoord=new bY,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);const n=this.mapCoord;for(let a=0;a<e.length;a+=2){const r=e[a],o=e[a+1];t[a]=r*n.a+o*n.c+n.tx,t[a+1]=r*n.b+o*n.d+n.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const a=t.orig,r=t.trim;r&&(VW.set(a.width/r.width,0,0,a.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(VW));const o=t.baseTexture,i=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return i[0]=(t._frame.x+s+l)/o.width,i[1]=(t._frame.y+s+l)/o.height,i[2]=(t._frame.x+t._frame.width-s+l)/o.width,i[3]=(t._frame.y+t._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0}}class AW extends tW{constructor(e,t,n){let a=null;"string"!=typeof e&&void 0===t&&void 0===n&&(a=e,e=void 0,t=void 0,n=void 0),super(e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",t||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",n),this.maskSprite=a,this.maskMatrix=new bY}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,n,a){const r=this._maskSprite,o=r._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new CW(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,r).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,a))}}class DW{constructor(e=null){this.type=lG.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=tW.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=lG.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class TW{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let n=t;if(!n.isMaskData){const e=this.maskDataPool.pop()||new DW;e.pooled=!0,e.maskObject=t,n=e}const a=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n._colorMask=a?a._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==lG.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case lG.SCISSOR:this.renderer.scissor.push(n);break;case lG.STENCIL:this.renderer.stencil.push(n);break;case lG.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case lG.COLOR:this.pushColorMask(n)}n.type===lG.SPRITE&&this.maskStack.push(n)}pop(e){const t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case lG.SCISSOR:this.renderer.scissor.pop(t);break;case lG.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case lG.SPRITE:this.popSpriteMask(t);break;case lG.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){const e=this.maskStack[this.maskStack.length-1];e.type===lG.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=lG.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=lG.SCISSOR:e.type=lG.STENCIL:e.type=lG.COLOR}pushSpriteMask(e){const{maskObject:t}=e,n=e._target;let a=e._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new AW])),a[0].resolution=e.resolution,a[0].multisample=e.multisample,a[0].maskSprite=t;const r=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,a),n.filterArea=r,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask(!!(1&n),!!(2&n),!!(4&n),!!(8&n))}popColorMask(e){const t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask(!!(1&n),!!(2&n),!!(4&n),!!(8&n))}destroy(){this.renderer=null}}TW.extension={type:zH.RendererSystem,name:"mask"},$H.add(TW);class BW{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,n=this.getStackLength();this.maskStack=e;const a=this.getStackLength();a!==n&&(0===a?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const IW=new bY,MW=[],zW=class e extends BW{constructor(e){super(e),this.glConst=mG.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:n}=e,{renderer:a}=this,r=a.renderTexture,o=n.getBounds(!0,MW.pop()??new pY);this.roundFrameToPixels(o,r.current?r.current.resolution:a.resolution,r.sourceFrame,r.destinationFrame,a.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:n,c:a,d:r}=e;return(Math.abs(n)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(r)>1e-4)}testScissor(t){const{maskObject:n}=t;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const a=t._scissorRectLocal;return a.width>0&&a.height>0}roundFrameToPixels(t,n,a,r,o){e.isMatrixRotated(o)||((o=o?IW.copyFrom(o):IW.identity()).translate(-a.x,-a.y).scale(r.width/a.width,r.height/a.height).translate(r.x,r.y),this.renderer.filter.transformAABB(o,t),t.fit(r),t.x=Math.round(t.x*n),t.y=Math.round(t.y*n),t.width=Math.round(t.width*n),t.height=Math.round(t.height*n))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&MW.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};zW.extension={type:zH.RendererSystem,name:"scissor"};let PW=zW;$H.add(PW);class RW extends BW{constructor(e){super(e),this.glConst=mG.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:n}=this.renderer,a=e._stencilCounter;0===a&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const r=e._colorMask;0!==r&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,a,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==r&&(e._colorMask=r,n.colorMask(!!(1&r),!!(2&r),!!(4&r),!!(8&r))),this._useCurrent()}pop(e){const t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{const n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,a=n?n._colorMask:15;0!==a&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==a&&(n._colorMask=a,t.colorMask(!!(1&a),!!(2&a),!!(4&a),!!(8&a))),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}RW.extension={type:zH.RendererSystem,name:"stencil"},$H.add(RW);class $W{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(MG("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>(MG("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>(MG("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}$W.extension={type:[zH.RendererSystem,zH.CanvasRendererSystem],name:"_plugin"},$H.add($W);class OW{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new bY,this.transform=null}update(e,t,n,a){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,a),this.transform&&this.projectionMatrix.append(this.transform);const r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)}calculateProjection(e,t,n,a){const r=this.projectionMatrix,o=a?-1:1;r.identity(),r.a=1/t.width*2,r.d=o*(1/t.height*2),r.tx=-1-t.x*r.a,r.ty=-o-t.y*r.d}setTransform(e){}destroy(){this.renderer=null}}OW.extension={type:zH.RendererSystem,name:"projection"},$H.add(OW);const LW=new AY,FW=new pY;class jW{constructor(e){this.renderer=e,this._tempMatrix=new bY}generateTexture(e,t){const{region:n,...a}=t||{},r=n?.copyTo(FW)||e.getLocalBounds(FW,!0),o=a.resolution||this.renderer.resolution;r.width=Math.max(r.width,1/o),r.height=Math.max(r.height,1/o),a.width=r.width,a.height=r.height,a.resolution=o,a.multisample??(a.multisample=this.renderer.multisample);const i=gW.create(a);this._tempMatrix.tx=-r.x,this._tempMatrix.ty=-r.y;const s=e.transform;return e.transform=LW,this.renderer.render(e,{renderTexture:i,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=s,i}destroy(){}}jW.extension={type:[zH.RendererSystem,zH.CanvasRendererSystem],name:"textureGenerator"},$H.add(jW);const UW=new pY,qW=new pY;class GW{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new pY,this.destinationFrame=new pY,this.viewportFrame=new pY}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,n){const a=this.renderer;let r,o,i;this.current=e,e?(r=e.baseTexture,i=r.resolution,t||(UW.width=e.frame.width,UW.height=e.frame.height,t=UW),n||(qW.x=e.frame.x,qW.y=e.frame.y,qW.width=t.width,qW.height=t.height,n=qW),o=r.framebuffer):(i=a.resolution,t||(UW.width=a._view.screen.width,UW.height=a._view.screen.height,t=UW),n||((n=UW).width=t.width,n.height=t.height));const s=this.viewportFrame;s.x=n.x*i,s.y=n.y*i,s.width=n.width*i,s.height=n.height*i,e||(s.y=a.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(o,s),this.renderer.projection.update(n,t,i,!o),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)}clear(e,t){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,a=hH.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&a.premultiply(a.alpha);const r=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,i=r.width!==o.width||r.height!==o.height;if(i){let{x:e,y:t,width:n,height:a}=this.viewportFrame;e=Math.round(e),t=Math.round(t),n=Math.round(n),a=Math.round(a),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,n,a)}this.renderer.framebuffer.clear(a.red,a.green,a.blue,a.alpha,t),i&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}GW.extension={type:zH.RendererSystem,name:"renderTexture"},$H.add(GW);class HW{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function YW(e,t,n){const a=e.createShader(t);return e.shaderSource(a,n),e.compileShader(a),a}function WW(e){const t=new Array(e);for(let e=0;e<t.length;e++)t[e]=!1;return t}function XW(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return WW(2*t);case"bvec3":return WW(3*t);case"bvec4":return WW(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function JW(e,t){const n=e.getShaderSource(t).split("\n").map((e,t)=>`${t}: ${e}`),a=e.getShaderInfoLog(t),r=a.split("\n"),o={},i=r.map(e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(e=>!(!e||o[e]||(o[e]=!0,0))),s=[""];i.forEach(e=>{n[e-1]=`%c${n[e-1]}%c`,s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join("\n");s[0]=l,console.error(a),console.groupCollapsed("click to view full shader code"),console.warn(...s),console.groupEnd()}function KW(e,t,n,a,r){n.buffer.update(r)}const ZW={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},QW={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};let eX,tX=0;const nX={textureCount:0,uboCount:0};class aX{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=tX++}systemCheck(){if(!function(){if("boolean"==typeof eX)return eX;try{eX=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch{eX=!1}return eX}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,a=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(a.program)),t||(nX.textureCount=0,nX.uboCount=0,this.syncUniformGroup(e.uniformGroup,nX)),a}setUniforms(e){const t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,t){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}syncUniforms(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){const n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const a in e.uniforms){const r=t[a];if(!r){!0===e.uniforms[a]?.group&&(e.uniforms[a].ubo?n.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${a}, '${a}');\n                    `):n.push(`\n                        renderer.shader.syncUniformGroup(uv.${a}, syncData);\n                    `));continue}const o=e.uniforms[a];let i=!1;for(let e=0;e<DY.length;e++)if(DY[e].test(r,o)){n.push(DY[e].code(a,o)),i=!0;break}if(!i){const e=(1!==r.size||r.isArray?BY:TY)[r.type].replace("location",`ud["${a}"].location`);n.push(`\n            cu = ud["${a}"];\n            cv = cu.value;\n            v = uv["${a}"];\n            ${e};`)}}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const n=this.getGlProgram();if(!e.static||0!==e.dirtyId||!n.uniformGroups[e.id]){e.dirtyId=0;const a=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),a(n.uniformData,e.uniforms,this.renderer,nX,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}createSyncBufferGroup(e,t,n){const{gl:a}=this.renderer;this.renderer.buffer.bind(e.buffer);const r=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,a.uniformBlockBinding(t.program,r,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let i=this._uboCache[o];if(i||(i=this._uboCache[o]=function(e,t){if(!e.autoManage)return{size:0,syncFunc:KW};const n=function(e,t){const n=[];for(const a in e)t[a]&&n.push(t[a]);return n.sort((e,t)=>e.index-t.index),n}(e.uniforms,t),{uboElements:a,size:r}=function(e){const t=e.map(e=>({data:e,offset:0,dataLen:0,dirty:0}));let n=0,a=0,r=0;for(let e=0;e<t.length;e++){const o=t[e];if(n=QW[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,a%n!==0&&a<16){const e=a%n%16;a+=e,r+=e}a+n>16?(r=16*Math.ceil(r/16),o.offset=r,r+=n,a=n):(o.offset=r,a+=n,r+=n)}return r=16*Math.ceil(r/16),{uboElements:t,size:r}}(n),o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let t=0;t<a.length;t++){const n=a[t],r=e.uniforms[n.data.name],i=n.data.name;let s=!1;for(let e=0;e<DY.length;e++){const t=DY[e];if(t.codeUbo&&t.test(n.data,r)){o.push(`offset = ${n.offset/4};`,DY[e].codeUbo(n.data.name,r)),s=!0;break}}if(!s)if(n.data.size>1){const e=RY(n.data.type),t=Math.max(QW[n.data.type]/16,1),a=e/t,r=(4-a%4)%4;o.push(`\n                cv = ud.${i}.value;\n                v = uv.${i};\n                offset = ${n.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${n.data.size*t}; i++)\n                {\n                    for(var j = 0; j < ${a}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${r};\n                }\n\n                `)}else{const e=ZW[n.data.type];o.push(`\n                cv = ud.${i}.value;\n                v = uv.${i};\n                offset = ${n.offset/4};\n                ${e};\n                `)}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:r,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}(e,this.shader.program.uniformData)),e.autoManage){const t=new Float32Array(i.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=i.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,n){const a=e.uniforms,r=[`${n}-`];for(const e in a)r.push(e),t[e]&&r.push(t[e].type);return r.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,n=e.program,a=function(e,t){const n=YW(e,e.VERTEX_SHADER,t.vertexSrc),a=YW(e,e.FRAGMENT_SHADER,t.fragmentSrc),r=e.createProgram();e.attachShader(r,n),e.attachShader(r,a);const o=t.extra?.transformFeedbackVaryings;if(o&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(r,o.names,"separate"===o.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)||function(e,t,n,a){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||JW(e,n),e.getShaderParameter(a,e.COMPILE_STATUS)||JW(e,a),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,r,n,a),t.attributeData=function(e,t){const n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<a;r++){const a=t.getActiveAttrib(e,r);if(a.name.startsWith("gl_"))continue;const o=LY(t,a.type),i={type:o,name:a.name,size:RY(o),location:t.getAttribLocation(e,a.name)};n[a.name]=i}return n}(r,e),t.uniformData=function(e,t){const n={},a=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<a;r++){const a=t.getActiveUniform(e,r),o=a.name.replace(/\[.*?\]$/,""),i=!!a.name.match(/\[.*?\]$/),s=LY(t,a.type);n[o]={name:o,index:r,type:s,size:a.size,isArray:i,value:XW(s,a.size)}}return n}(r,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const n=Object.keys(t.attributeData);n.sort((e,t)=>e>t?1:-1);for(let a=0;a<n.length;a++)t.attributeData[n[a]].location=a,e.bindAttribLocation(r,a,n[a]);e.linkProgram(r)}e.deleteShader(n),e.deleteShader(a);const i={};for(const n in t.uniformData){const a=t.uniformData[n];i[n]={location:e.getUniformLocation(r,n),value:XW(a.type,a.size)}}return new HW(r,i)}(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=a,a}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}aX.extension={type:zH.RendererSystem,name:"shader"},$H.add(aX);class rX{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.3 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}rX.defaultOptions={hello:!1},rX.extension={type:[zH.RendererSystem,zH.CanvasRendererSystem],name:"startup"},$H.add(rX);const oX=class e{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Xq.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new jH,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=function(e,t=[]){return t[Xq.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.ADD]=[e.ONE,e.ONE],t[Xq.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.NONE]=[0,0],t[Xq.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Xq.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Xq.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Xq.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Xq.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Xq.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Xq.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Xq.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Xq.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Xq.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Xq.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):!t&&-1!==n&&this.checks.splice(n,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};oX.extension={type:zH.RendererSystem,name:"state"};let iX=oX;$H.add(iX);class sX extends TG{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(t=>e.systems[t]),n=[...t,...Object.keys(e.systems).filter(e=>!t.includes(e))];for(const t of n)this.addSystem(e.systems[t],t)}addRunners(...e){e.forEach(e=>{this.runners[e]=new GH(e)})}addSystem(e,t){const n=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=n,this._systemsHash[t]=n;for(const e in this.runners)this.runners[e].add(n);return this}emitWithCustomOptions(e,t){const n=Object.keys(this._systemsHash);e.items.forEach(a=>{const r=n.find(e=>this._systemsHash[e]===a);a[e.name](t[r])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const lX=class e{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==iG.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let n=!1;for(let a=0;a<t.length;a++){const r=t[a];r.resource&&this.count-r.touched>this.maxIdle&&(e.destroyTexture(r,!0),t[a]=null,n=!0)}if(n){let e=0;for(let n=0;n<t.length;n++)null!==t[n]&&(t[e++]=t[n]);t.length=e}}unload(e){const t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(let t=e.children.length-1;t>=0;t--)this.unload(e.children[t])}destroy(){this.renderer=null}};lX.defaultMode=iG.AUTO,lX.defaultMaxIdle=3600,lX.defaultCheckCountMax=600,lX.extension={type:zH.RendererSystem,name:"textureGC"};let cX=lX;$H.add(cX);class dX{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Qq.UNSIGNED_BYTE,this.internalFormat=Kq.RGBA,this.samplerType=0}}class uX{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new JH,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[Qq.UNSIGNED_BYTE]:{[Kq.RGBA]:e.RGBA8,[Kq.RGB]:e.RGB8,[Kq.RG]:e.RG8,[Kq.RED]:e.R8,[Kq.RGBA_INTEGER]:e.RGBA8UI,[Kq.RGB_INTEGER]:e.RGB8UI,[Kq.RG_INTEGER]:e.RG8UI,[Kq.RED_INTEGER]:e.R8UI,[Kq.ALPHA]:e.ALPHA,[Kq.LUMINANCE]:e.LUMINANCE,[Kq.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Qq.BYTE]:{[Kq.RGBA]:e.RGBA8_SNORM,[Kq.RGB]:e.RGB8_SNORM,[Kq.RG]:e.RG8_SNORM,[Kq.RED]:e.R8_SNORM,[Kq.RGBA_INTEGER]:e.RGBA8I,[Kq.RGB_INTEGER]:e.RGB8I,[Kq.RG_INTEGER]:e.RG8I,[Kq.RED_INTEGER]:e.R8I},[Qq.UNSIGNED_SHORT]:{[Kq.RGBA_INTEGER]:e.RGBA16UI,[Kq.RGB_INTEGER]:e.RGB16UI,[Kq.RG_INTEGER]:e.RG16UI,[Kq.RED_INTEGER]:e.R16UI,[Kq.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[Qq.SHORT]:{[Kq.RGBA_INTEGER]:e.RGBA16I,[Kq.RGB_INTEGER]:e.RGB16I,[Kq.RG_INTEGER]:e.RG16I,[Kq.RED_INTEGER]:e.R16I},[Qq.UNSIGNED_INT]:{[Kq.RGBA_INTEGER]:e.RGBA32UI,[Kq.RGB_INTEGER]:e.RGB32UI,[Kq.RG_INTEGER]:e.RG32UI,[Kq.RED_INTEGER]:e.R32UI,[Kq.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[Qq.INT]:{[Kq.RGBA_INTEGER]:e.RGBA32I,[Kq.RGB_INTEGER]:e.RGB32I,[Kq.RG_INTEGER]:e.RG32I,[Kq.RED_INTEGER]:e.R32I},[Qq.FLOAT]:{[Kq.RGBA]:e.RGBA32F,[Kq.RGB]:e.RGB32F,[Kq.RG]:e.RG32F,[Kq.RED]:e.R32F,[Kq.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[Qq.HALF_FLOAT]:{[Kq.RGBA]:e.RGBA16F,[Kq.RGB]:e.RGB16F,[Kq.RG]:e.RG16F,[Kq.RED]:e.R16F},[Qq.UNSIGNED_SHORT_5_6_5]:{[Kq.RGB]:e.RGB565},[Qq.UNSIGNED_SHORT_4_4_4_4]:{[Kq.RGBA]:e.RGBA4},[Qq.UNSIGNED_SHORT_5_5_5_1]:{[Kq.RGBA]:e.RGB5_A1},[Qq.UNSIGNED_INT_2_10_10_10_REV]:{[Kq.RGBA]:e.RGB10_A2,[Kq.RGBA_INTEGER]:e.RGB10_A2UI},[Qq.UNSIGNED_INT_10F_11F_11F_REV]:{[Kq.RGB]:e.R11F_G11F_B10F},[Qq.UNSIGNED_INT_5_9_9_9_REV]:{[Kq.RGB]:e.RGB9_E5},[Qq.UNSIGNED_INT_24_8]:{[Kq.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[Qq.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Kq.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[Qq.UNSIGNED_BYTE]:{[Kq.RGBA]:e.RGBA,[Kq.RGB]:e.RGB,[Kq.ALPHA]:e.ALPHA,[Kq.LUMINANCE]:e.LUMINANCE,[Kq.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Qq.UNSIGNED_SHORT_5_6_5]:{[Kq.RGB]:e.RGB},[Qq.UNSIGNED_SHORT_4_4_4_4]:{[Kq.RGBA]:e.RGBA},[Qq.UNSIGNED_SHORT_5_5_5_1]:{[Kq.RGBA]:e.RGBA}},t}(e),this.samplerTypes=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[e.RGB]:eG.FLOAT,[e.RGBA]:eG.FLOAT,[e.ALPHA]:eG.FLOAT,[e.LUMINANCE]:eG.FLOAT,[e.LUMINANCE_ALPHA]:eG.FLOAT,[e.R8]:eG.FLOAT,[e.R8_SNORM]:eG.FLOAT,[e.RG8]:eG.FLOAT,[e.RG8_SNORM]:eG.FLOAT,[e.RGB8]:eG.FLOAT,[e.RGB8_SNORM]:eG.FLOAT,[e.RGB565]:eG.FLOAT,[e.RGBA4]:eG.FLOAT,[e.RGB5_A1]:eG.FLOAT,[e.RGBA8]:eG.FLOAT,[e.RGBA8_SNORM]:eG.FLOAT,[e.RGB10_A2]:eG.FLOAT,[e.RGB10_A2UI]:eG.FLOAT,[e.SRGB8]:eG.FLOAT,[e.SRGB8_ALPHA8]:eG.FLOAT,[e.R16F]:eG.FLOAT,[e.RG16F]:eG.FLOAT,[e.RGB16F]:eG.FLOAT,[e.RGBA16F]:eG.FLOAT,[e.R32F]:eG.FLOAT,[e.RG32F]:eG.FLOAT,[e.RGB32F]:eG.FLOAT,[e.RGBA32F]:eG.FLOAT,[e.R11F_G11F_B10F]:eG.FLOAT,[e.RGB9_E5]:eG.FLOAT,[e.R8I]:eG.INT,[e.R8UI]:eG.UINT,[e.R16I]:eG.INT,[e.R16UI]:eG.UINT,[e.R32I]:eG.INT,[e.R32UI]:eG.UINT,[e.RG8I]:eG.INT,[e.RG8UI]:eG.UINT,[e.RG16I]:eG.INT,[e.RG16UI]:eG.UINT,[e.RG32I]:eG.INT,[e.RG32UI]:eG.UINT,[e.RGB8I]:eG.INT,[e.RGB8UI]:eG.UINT,[e.RGB16I]:eG.INT,[e.RGB16UI]:eG.UINT,[e.RGB32I]:eG.INT,[e.RGB32UI]:eG.UINT,[e.RGBA8I]:eG.INT,[e.RGBA8UI]:eG.UINT,[e.RGBA16I]:eG.INT,[e.RGBA16UI]:eG.UINT,[e.RGBA32I]:eG.INT,[e.RGBA32UI]:eG.UINT,[e.DEPTH_COMPONENT16]:eG.FLOAT,[e.DEPTH_COMPONENT24]:eG.FLOAT,[e.DEPTH_COMPONENT32F]:eG.FLOAT,[e.DEPTH_STENCIL]:eG.FLOAT,[e.DEPTH24_STENCIL8]:eG.FLOAT,[e.DEPTH32F_STENCIL8]:eG.FLOAT}:{[e.RGB]:eG.FLOAT,[e.RGBA]:eG.FLOAT,[e.ALPHA]:eG.FLOAT,[e.LUMINANCE]:eG.FLOAT,[e.LUMINANCE_ALPHA]:eG.FLOAT,[e.DEPTH_STENCIL]:eG.FLOAT},t}(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let e=0;e<t;e++)this.boundTextures[e]=null;this.emptyTextures={};const n=new dX(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new dX(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let t=0;t<6;t++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let e=0;e<this.boundTextures.length;e++)this.bind(null,e)}bind(e,t=0){const{gl:n}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const a=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,a.texture)),a.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):a.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<n.length;e++)n[e]===this.unknownTexture&&this.bind(null,e)}for(let a=0;a<n.length;a++)n[a]===e&&(this.currentLocation!==a&&(t.activeTexture(t.TEXTURE0+a),this.currentLocation=a),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[a]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:n,CONTEXT_UID:a}=this;if(n)for(let n=e-1;n>=0;--n){const e=t[n];e&&e._glTextures[a].samplerType!==eG.FLOAT&&this.renderer.texture.unbind(e)}}initTexture(e){const t=new dX(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??eG.FLOAT,2===this.webGLVersion&&e.type===Qq.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const n=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(n,e,t))t.samplerType!==eG.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,r=e.realHeight,o=n.gl;(t.width!==a||t.height!==r||t.dirtyId<0)&&(t.width=a,t.height=r,o.texImage2D(e.target,0,t.internalFormat,a,r,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:n}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const t=this.managedTextures.indexOf(e);-1!==t&&wH(this.managedTextures,t,1)}}updateTextureStyle(e){const t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==aG.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=nG.CLAMP,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const n=this.gl;if(t.mipmap&&e.mipmap!==aG.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===tG.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===tG.LINEAR){const a=Math.min(e.anisotropicLevel,n.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===tG.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===tG.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}uX.extension={type:zH.RendererSystem,name:"texture"},$H.add(uX);class mX{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,a=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:n,renderer:a}=this;t&&a.shader.bind(t),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:n,CONTEXT_UID:a}=this,r=t.createTransformFeedback();e._glTransformFeedbacks[a]=r,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r);for(let r=0;r<e.buffers.length;r++){const o=e.buffers[r];o&&(n.buffer.update(o),o._glBuffers[a].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,r,o._glBuffers[a].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),r}disposeTransformFeedback(e,t){const n=e._glTransformFeedbacks[this.CONTEXT_UID],a=this.gl;e.disposeRunner.remove(this);const r=this.renderer.buffer;if(r)for(let n=0;n<e.buffers.length;n++){const a=e.buffers[n];if(!a)continue;const o=a._glBuffers[this.CONTEXT_UID];o&&(o.refCount--,0===o.refCount&&!t&&r.dispose(a,t))}n&&(t||a.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}mX.extension={type:zH.RendererSystem,name:"transformFeedback"},$H.add(mX);class pX{constructor(e){this.renderer=e}init(e){this.screen=new pY(0,0,e.width,e.height),this.element=e.view||mG.ADAPTER.createCanvas(),this.resolution=e.resolution||mG.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const n=this.element.width/this.resolution,a=this.element.height/this.resolution;this.screen.width=n,this.screen.height=a,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${a}px`),this.renderer.emit("resize",n,a),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}pX.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},pX.extension={type:[zH.RendererSystem,zH.CanvasRendererSystem],name:"_view"},$H.add(pX),mG.PREFER_ENV=Hq.WEBGL2,mG.STRICT_TEXTURE_CACHE=!1,mG.RENDER_OPTIONS={...oW.defaultOptions,...nW.defaultOptions,...pX.defaultOptions,...rX.defaultOptions},Object.defineProperties(mG,{WRAP_MODE:{get:()=>JH.defaultOptions.wrapMode,set(e){MG("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),JH.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>JH.defaultOptions.scaleMode,set(e){MG("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),JH.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>JH.defaultOptions.mipmap,set(e){MG("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),JH.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>JH.defaultOptions.anisotropicLevel,set(e){MG("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),JH.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>(MG("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),tW.defaultResolution),set(e){tW.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>(MG("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),tW.defaultMultisample),set(e){tW.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>QY.defaultMaxTextures,set(e){MG("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),QY.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>QY.defaultBatchSize,set(e){MG("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),QY.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>QY.canUploadSameBuffer,set(e){MG("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),QY.canUploadSameBuffer=e}},GC_MODE:{get:()=>cX.defaultMode,set(e){MG("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),cX.defaultMode=e}},GC_MAX_IDLE:{get:()=>cX.defaultMaxIdle,set(e){MG("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),cX.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>cX.defaultCheckCountMax,set(e){MG("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),cX.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>GY.defaultVertexPrecision,set(e){MG("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),GY.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>GY.defaultFragmentPrecision,set(e){MG("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),GY.defaultFragmentPrecision=e}}});var gX=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(gX||{});class hX{constructor(e,t=null,n=0,a=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=a}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const fX=class e{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new hX(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,n=gX.NORMAL){return this._addListener(new hX(e,t,n))}addOnce(e,t,n=gX.NORMAL){return this._addListener(new hX(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*e.targetFPMS;const a=this._head;let r=a.next;for(;r;)r=r.emit(this.deltaTime);a.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),a=Math.min(Math.max(0,n)/1e3,e.targetFPMS);this._maxElapsedMS=1/a}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){const t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){const t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}};fX.targetFPMS=.06;let vX=fX;Object.defineProperties(mG,{TARGET_FPMS:{get:()=>vX.targetFPMS,set(e){MG("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),vX.targetFPMS=e}}});class bX{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,gX.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?vX.shared:new vX,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}bX.extension=zH.Application,$H.add(bX);const yX=[];$H.handleByList(zH.Renderer,yX);const xX="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";class kX{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=cG.HIGH?this.multisample=cG.HIGH:t>=cG.MEDIUM?this.multisample=cG.MEDIUM:t>=cG.LOW?this.multisample=cG.LOW:this.multisample=cG.NONE}destroy(){}}kX.extension={type:zH.RendererSystem,name:"_multisample"},$H.add(kX);class wX{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class EX{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,a=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,a.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:n,CONTEXT_UID:a}=this;if(this.boundBufferBases[t]!==e){const r=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,r.buffer)}}bindBufferRange(e,t,n){const{gl:a,CONTEXT_UID:r}=this;n=n||0;const o=e._glBuffers[r]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,t||0,o.buffer,256*n,256)}update(e){const{gl:t,CONTEXT_UID:n}=this,a=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==a.updateID)if(a.updateID=e._updateID,t.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const n=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,n)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],a=this.gl;e.disposeRunner.remove(this),n&&(t||a.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:n}=this;return e._glBuffers[t]=new wX(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}EX.extension={type:zH.RendererSystem,name:"buffer"},$H.add(EX);class NX{constructor(e){this.renderer=e}render(e,t){const n=this.renderer;let a,r,o,i;if(t&&(a=t.renderTexture,r=t.clear,o=t.transform,i=t.skipUpdateTransform),this.renderingToScreen=!a,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(a||(this.lastObjectRendered=e),!i){const t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}n.renderTexture.bind(a),n.batch.currentRenderer.start(),(r??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),a&&(t.blit&&n.framebuffer.blit(),a.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}NX.extension={type:zH.RendererSystem,name:"objectRenderer"},$H.add(NX);const SX=class e extends sX{constructor(t){super(),this.type=Yq.WEBGL,t=Object.assign({},mG.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new YY({projectionMatrix:new bY},!0);const n={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(n),"useContextAlpha"in t&&(MG("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=e.__plugins,this.options=t,this.startup.run(this.options)}static test(e){return!e?.forceCanvas&&(typeof OG>"u"&&(OG=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:mG.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!mG.ADAPTER.getWebGLRenderingContext())return!1;const t=mG.ADAPTER.createCanvas();let n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);const a=!!n?.getContextAttributes()?.stencil;if(n){const e=n.getExtension("WEBGL_lose_context");e&&e.loseContext()}return n=null,a}catch{return!1}}()),OG)}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return MG("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return MG("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return MG("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return MG("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){MG("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return MG("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){MG("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return MG("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};SX.extension={type:zH.Renderer,priority:1},SX.__plugins={},SX.__systems={};let _X=SX;$H.handleByMap(zH.RendererPlugin,_X.__plugins),$H.handleByMap(zH.RendererSystem,_X.__systems),$H.add(_X);class VX extends HH{constructor(e,t){const{width:n,height:a}=t||{};super(n,a),this.items=[],this.itemDirtyIds=[];for(let t=0;t<e;t++){const e=new JH;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof HH?this.addResourceAt(e[n],n):this.addResourceAt(qH(e[n],t),n))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(e).then(()=>{const{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),this.update(),Promise.resolve(this)}),this._load}}const CX=class e extends VX{constructor(t,n){const{width:a,height:r,autoLoad:o,linkBaseTexture:i}=n||{};if(t&&t.length!==e.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:a,height:r});for(let t=0;t<e.SIDES;t++)this.items[t].target=Zq.TEXTURE_CUBE_MAP_POSITIVE_X+t;this.linkBaseTexture=!1!==i,t&&this.initFromArray(t,n),!1!==o&&this.load()}bind(e){super.bind(e),e.target=Zq.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=Zq.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,n,a){const r=this.itemDirtyIds;for(let o=0;o<e.SIDES;o++){const e=this.items[o];(r[o]<e.dirtyId||a.dirtyId<n.dirtyId)&&(e.valid&&e.resource?(e.resource.upload(t,e,a),r[o]=e.dirtyId):r[o]<-1&&(t.gl.texImage2D(e.target,0,a.internalFormat,n.realWidth,n.realHeight,0,n.format,a.type,null),r[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===e.SIDES}};CX.SIDES=6;let AX=CX;class DX extends lW{constructor(e,t){let n,a,r;t=t||{},"string"==typeof e?(n=DX.EMPTY,a=e,r=!0):(n=e,a=null,r=!1),super(n),this.url=a,this.crossOrigin=t.crossOrigin??!0,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??r,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(async(e,t)=>{if(null!==this.url)try{const t=await mG.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await t.blob();if(this.destroyed)return;const a=await createImageBitmap(n,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===rG.UNPACK?"premultiply":"none"});if(this.destroyed)return void a.close();this.source=a,this.update(),e(this)}catch(e){if(this.destroyed)return;t(e),this.onError.emit(e)}else e(this)})),this._load}upload(e,t,n){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){return DX._EMPTY=DX._EMPTY??mG.ADAPTER.createCanvas(0,0),DX._EMPTY}}const TX=class e extends lW{constructor(e,t){t=t||{},super(mG.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},e.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()})),this._load}_loadSvg(){const e=new Image;lW.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,n=e.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let a=t*this.scale,r=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(a=this._overrideWidth||this._overrideHeight/n*t,r=this._overrideHeight||this._overrideWidth/t*n),a=Math.round(a),r=Math.round(r);const o=this.source;o.width=a,o.height=r,o._pixiId=`canvas_${SH()}`,o.getContext("2d").drawImage(e,0,0,t,n,0,0,a,r),this._resolve(),this._resolve=null}}static getSize(t){const n=e.SVG_SIZE.exec(t),a={};return n&&(a[n[1]]=Math.round(parseFloat(n[3])),a[n[5]]=Math.round(parseFloat(n[7]))),a}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,n){return"svg"===n||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}};TX.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,TX.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let BX=TX;const IX=class e extends lW{constructor(t,n){if(n=n||{},!(t instanceof HTMLVideoElement)){const a=document.createElement("video");!1!==n.autoLoad&&a.setAttribute("preload","auto"),!1!==n.playsinline&&(a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline","")),!0===n.muted&&(a.setAttribute("muted",""),a.muted=!0),!0===n.loop&&a.setAttribute("loop",""),!1!==n.autoPlay&&a.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);const r=t[0].src||t[0];lW.crossOrigin(a,r,n.crossorigin);for(let n=0;n<t.length;++n){const r=document.createElement("source");let{src:o,mime:i}=t[n];if(o=o||t[n],o.startsWith("data:"))i=o.slice(5,o.indexOf(";"));else if(!o.startsWith("blob:")){const t=o.split("?").shift().toLowerCase(),n=t.slice(t.lastIndexOf(".")+1);i=i||e.MIME_TYPES[n]||`video/${n}`}r.src=o,i&&(r.type=i),a.appendChild(r)}t=a}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=n.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==n.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==n.autoLoad&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const e=vX.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,n)=>{this.valid?t(this):(this._resolve=t,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(vX.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(vX.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(vX.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,n){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(n)}};IX.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],IX.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let MX=IX;UH.push(DX,cW,class extends lW{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}},MX,class extends lW{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}},BX,YH,AX,class extends VX{constructor(e,t){const{width:n,height:a}=t||{};let r,o;Array.isArray(e)?(r=e,o=e.length):o=e,super(o,{width:n,height:a}),r&&this.initFromArray(r,t)}addBaseTextureAt(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}bind(e){super.bind(e),e.target=Zq.TEXTURE_2D_ARRAY}upload(e,t,n){const{length:a,itemDirtyIds:r,items:o}=this,{gl:i}=e;n.dirtyId<0&&i.texImage3D(i.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,a,0,t.format,n.type,null);for(let e=0;e<a;e++){const a=o[e];r[e]<a.dirtyId&&(r[e]=a.dirtyId,a.valid&&i.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,e,a.resource.width,a.resource.height,1,t.format,n.type,a.resource.source))}return!0}});class zX{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?pY.EMPTY:((e=e||new pY(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:n,b:a,c:r,d:o,tx:i,ty:s}=e,l=n*t.x+r*t.y+i,c=a*t.x+o*t.y+s;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let t=this.minX,n=this.minY,a=this.maxX,r=this.maxY,o=e[0],i=e[1];t=o<t?o:t,n=i<n?i:n,a=o>a?o:a,r=i>r?i:r,o=e[2],i=e[3],t=o<t?o:t,n=i<n?i:n,a=o>a?o:a,r=i>r?i:r,o=e[4],i=e[5],t=o<t?o:t,n=i<n?i:n,a=o>a?o:a,r=i>r?i:r,o=e[6],i=e[7],t=o<t?o:t,n=i<n?i:n,a=o>a?o:a,r=i>r?i:r,this.minX=t,this.minY=n,this.maxX=a,this.maxY=r}addFrame(e,t,n,a,r){this.addFrameMatrix(e.worldTransform,t,n,a,r)}addFrameMatrix(e,t,n,a,r){const o=e.a,i=e.b,s=e.c,l=e.d,c=e.tx,d=e.ty;let u=this.minX,m=this.minY,p=this.maxX,g=this.maxY,h=o*t+s*n+c,f=i*t+l*n+d;u=h<u?h:u,m=f<m?f:m,p=h>p?h:p,g=f>g?f:g,h=o*a+s*n+c,f=i*a+l*n+d,u=h<u?h:u,m=f<m?f:m,p=h>p?h:p,g=f>g?f:g,h=o*t+s*r+c,f=i*t+l*r+d,u=h<u?h:u,m=f<m?f:m,p=h>p?h:p,g=f>g?f:g,h=o*a+s*r+c,f=i*a+l*r+d,u=h<u?h:u,m=f<m?f:m,p=h>p?h:p,g=f>g?f:g,this.minX=u,this.minY=m,this.maxX=p,this.maxY=g}addVertexData(e,t,n){let a=this.minX,r=this.minY,o=this.maxX,i=this.maxY;for(let s=t;s<n;s+=2){const t=e[s],n=e[s+1];a=t<a?t:a,r=n<r?n:r,o=t>o?t:o,i=n>i?n:i}this.minX=a,this.minY=r,this.maxX=o,this.maxY=i}addVertices(e,t,n,a){this.addVerticesMatrix(e.worldTransform,t,n,a)}addVerticesMatrix(e,t,n,a,r=0,o=r){const i=e.a,s=e.b,l=e.c,c=e.d,d=e.tx,u=e.ty;let m=this.minX,p=this.minY,g=this.maxX,h=this.maxY;for(let e=n;e<a;e+=2){const n=t[e],a=t[e+1],f=i*n+l*a+d,v=c*a+s*n+u;m=Math.min(m,f-r),g=Math.max(g,f+r),p=Math.min(p,v-o),h=Math.max(h,v+o)}this.minX=m,this.minY=p,this.maxX=g,this.maxY=h}addBounds(e){const t=this.minX,n=this.minY,a=this.maxX,r=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>a?e.maxX:a,this.maxY=e.maxY>r?e.maxY:r}addBoundsMask(e,t){const n=e.minX>t.minX?e.minX:t.minX,a=e.minY>t.minY?e.minY:t.minY,r=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=r&&a<=o){const e=this.minX,t=this.minY,i=this.maxX,s=this.maxY;this.minX=n<e?n:e,this.minY=a<t?a:t,this.maxX=r>i?r:i,this.maxY=o>s?o:s}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const n=e.minX>t.x?e.minX:t.x,a=e.minY>t.y?e.minY:t.y,r=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=r&&a<=o){const e=this.minX,t=this.minY,i=this.maxX,s=this.maxY;this.minX=n<e?n:e,this.minY=a<t?a:t,this.maxX=r>i?r:i,this.maxY=o>s?o:s}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,n,a,r,o){e-=r,t-=o,n+=r,a+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>a?this.maxY:a}}class PX extends TG{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new AY,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new zX,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let n=0;n<t.length;++n){const a=t[n];Object.defineProperty(PX.prototype,a,Object.getOwnPropertyDescriptor(e,a))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new pY),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new pY),e=this._localBoundsRect),this._localBounds||(this._localBounds=new zX);const t=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=n?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const a=this._bounds,r=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=a,this._bounds.updateID+=this._boundsID-r,o}toGlobal(e,t,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,n,a){return t&&(e=t.toGlobal(e,n,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,n=1,a=1,r=0,o=0,i=0,s=0,l=0){return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=a||1,this.rotation=r,this.skew.x=o,this.skew.y=i,this.pivot.x=s,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new RX),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*lY}set angle(e){this.transform.rotation=e*cY}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=e,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class RX extends PX{constructor(){super(...arguments),this.sortDirty=null}}PX.prototype.displayObjectUpdateTransform=PX.prototype.updateTransform;const $X=new bY;function OX(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const LX=class e extends PX{constructor(){super(),this.children=[],this.sortableChildren=e.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const n=this.getChildIndex(e),a=this.getChildIndex(t);this.children[n]=t,this.children[a]=e,this.onChildrenChange(n<a?n:a)}getChildIndex(e){const t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);wH(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,wH(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,wH(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const n=e,a=t-n;let r;if(a>0&&a<=t){r=this.children.splice(n,a);for(let e=0;e<r.length;++e)r[e].parent=null,r[e].transform&&(r[e].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let e=0;e<r.length;++e)r[e].emit("removed",this),this.emit("childRemoved",r[e],this,e);return r}if(0===a&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,n=this.children.length;t<n;++t){const n=this.children[t];n._lastSortedIndex=t,!e&&0!==n.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(OX),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const t=this.children[e];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){const e=t._mask.isMaskData?t._mask.maskObject:t._mask;e?(e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const n=super.getLocalBounds(e);if(!t)for(let e=0,t=this.children.length;e<t;++e){const t=this.children[e];t.visible&&t.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const n=t.renderTexture.sourceFrame;if(!(n.width>0&&n.height>0))return;let a,r;this.cullArea?(a=this.cullArea,r=this.worldTransform):this._render!==e.prototype._render&&(a=this.getBounds(!0));const o=t.projection.transform;if(o&&(r?(r=$X.copyFrom(r),r.prepend(o)):r=o),a&&n.intersects(a,r))this._render(t);else if(this.cullArea)return;for(let e=0,n=this.children.length;e<n;++e){const n=this.children[e],a=n.cullable;n.cullable=a||!this.cullArea,n.render(t),n.cullable=a}}render(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}}renderAdvanced(e){const t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let e=0;e<t.length;e++)t[e].enabled&&this._enabledFilters.push(t[e])}const a=t&&this._enabledFilters?.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==lG.NONE));if(a&&e.batch.flush(),t&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}a&&e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t="boolean"==typeof e?e:e?.children,n=this.removeChildren(0,this.children.length);if(t)for(let t=0;t<n.length;++t)n[t].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}};LX.defaultSortableChildren=!1;let FX=LX;FX.prototype.containerUpdateTransform=FX.prototype.updateTransform,Object.defineProperties(mG,{SORTABLE_CHILDREN:{get:()=>FX.defaultSortableChildren,set(e){MG("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),FX.defaultSortableChildren=e}}});const jX=new uY,UX=new Uint16Array([0,1,2,0,2,3]);class qX extends FX{constructor(e){super(),this._anchor=new VY(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new hH(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Xq.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||pW.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=UX,this.pluginName="batch",this.isSprite=!0,this._roundPixels=mG.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=EH(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=EH(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,n=t.a,a=t.b,r=t.c,o=t.d,i=t.tx,s=t.ty,l=this.vertexData,c=e.trim,d=e.orig,u=this._anchor;let m=0,p=0,g=0,h=0;if(c?(p=c.x-u._x*d.width,m=p+c.width,h=c.y-u._y*d.height,g=h+c.height):(p=-u._x*d.width,m=p+d.width,h=-u._y*d.height,g=h+d.height),l[0]=n*p+r*h+i,l[1]=o*h+a*p+s,l[2]=n*m+r*h+i,l[3]=o*h+a*m+s,l[4]=n*m+r*g+i,l[5]=o*g+a*m+s,l[6]=n*p+r*g+i,l[7]=o*g+a*p+s,this._roundPixels){const e=mG.RESOLUTION;for(let t=0;t<l.length;++t)l[t]=Math.round(l[t]*e)/e}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,n=e.orig,a=this._anchor,r=this.transform.worldTransform,o=r.a,i=r.b,s=r.c,l=r.d,c=r.tx,d=r.ty,u=-a._x*n.width,m=u+n.width,p=-a._y*n.height,g=p+n.height;if(t[0]=o*u+s*p+c,t[1]=l*p+i*u+d,t[2]=o*m+s*p+c,t[3]=l*p+i*m+d,t[4]=o*m+s*g+c,t[5]=l*g+i*m+d,t[6]=o*u+s*g+c,t[7]=l*g+i*u+d,this._roundPixels){const e=mG.RESOLUTION;for(let n=0;n<t.length;++n)t[n]=Math.round(t[n]*e)/e}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new zX),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new pY),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,jX);const t=this._texture.orig.width,n=this._texture.orig.height,a=-t*this.anchor.x;let r=0;return jX.x>=a&&jX.x<a+t&&(r=-n*this.anchor.y,jX.y>=r&&jX.y<r+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e?.texture){const t="boolean"==typeof e?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const n=e instanceof pW?e:pW.from(e,t);return new qX(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=EH(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=EH(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||pW.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const GX=new bY;PX.prototype._cacheAsBitmap=!1,PX.prototype._cacheData=null,PX.prototype._cacheAsBitmapResolution=null,PX.prototype._cacheAsBitmapMultisample=null;class HX{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(PX.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){if(this._cacheAsBitmap===e)return;let t;this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new HX),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}),PX.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},PX.prototype._initCachedDisplayObject=function(e){if(this._cacheData?.sprite)return;const t=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(new pY,!0);if(this.filters?.length){const e=this.filters[0].padding;n.pad(e)}const a=this.cacheAsBitmapResolution||e.resolution;n.ceil(a),n.width=Math.max(n.width,1/a),n.height=Math.max(n.height,1/a);const r=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),i=e.renderTexture.destinationFrame.clone(),s=e.projection.transform,l=gW.create({width:n.width,height:n.height,resolution:a,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${SH()}`;this._cacheData.textureCacheId=c,JH.addToCache(l.baseTexture,c),pW.addToCache(l,c);const d=this.transform.localTransform.copyTo(GX).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:d,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=s,e.renderTexture.bind(r,o,i),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const u=new qX(l);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-n.x/n.width,u.anchor.y=-n.y/n.height,u.alpha=t,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=u.containsPoint.bind(u)},PX.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},PX.prototype._initCachedDisplayObjectCanvas=function(e){if(this._cacheData?.sprite)return;const t=this.getLocalBounds(new pY,!0),n=this.alpha;this.alpha=1;const a=e.canvasContext.activeContext,r=e._projTransform,o=this.cacheAsBitmapResolution||e.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const i=gW.create({width:t.width,height:t.height,resolution:o}),s=`cacheAsBitmap_${SH()}`;this._cacheData.textureCacheId=s,JH.addToCache(i.baseTexture,s),pW.addToCache(i,s);const l=GX;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=t.x,l.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:i,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=a,e._projTransform=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const c=new qX(i);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-t.x/t.width,c.anchor.y=-t.y/t.height,c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)},PX.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},PX.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},PX.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,JH.removeFromCache(this._cacheData.textureCacheId),pW.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},PX.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},PX.prototype.name=null,FX.prototype.getChildByName=function(e,t){for(let t=0,n=this.children.length;t<n;t++)if(this.children[t].name===e)return this.children[t];if(t)for(let t=0,n=this.children.length;t<n;t++){const n=this.children[t];if(!n.getChildByName)continue;const a=n.getChildByName(e,!0);if(a)return a}return null},PX.prototype.getGlobalPosition=function(e=new uY,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};const YX={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},WX=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");class XX extends tW{constructor(e,t=8,n=4,a=tW.defaultResolution,r=5){const o=function(e,t){const n=Math.ceil(e/2);let a,r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";a=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let t=0;t<e;t++){let e=a.replace("%index%",t.toString());e=e.replace("%sampleIndex%",t-(n-1)+".0"),o+=e,o+="\n"}return r=r.replace("%blur%",o),r=r.replace("%size%",e.toString()),r}(r,e),i=function(e){const t=YX[e],n=t.length;let a,r=WX,o="";for(let r=0;r<e;r++){let i="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",r.toString());a=r,r>=n&&(a=e-r-1),i=i.replace("%value%",t[a].toString()),o+=i,o+="\n"}return r=r.replace("%blur%",o),r=r.replace("%size%",e.toString()),r}(r);super(o,i),this.horizontal=e,this.resolution=a,this._quality=0,this.quality=n,this.blur=t}apply(e,t,n,a){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,a);else{const r=e.getFilterTexture(),o=e.renderer;let i=t,s=r;this.state.blend=!1,e.applyFilter(this,i,s,oG.CLEAR);for(let t=1;t<this.passes-1;t++){e.bindAndClear(i,oG.BLIT),this.uniforms.uSampler=s;const t=s;s=i,i=t,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,a),e.returnFilterTexture(r)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class JX extends tW{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(xX,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}_loadMatrix(e,t=!1){let n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}tint(e,t){const[n,a,r]=hH.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,a,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(o,t)}greyscale(e,t){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){e=(e||0)/180*Math.PI;const n=Math.cos(e),a=Math.sin(e),r=1/3,o=(0,Math.sqrt)(r),i=[n+(1-n)*r,r*(1-n)-o*a,r*(1-n)+o*a,0,0,r*(1-n)+o*a,n+r*(1-n),r*(1-n)-o*a,0,0,r*(1-n)-o*a,r*(1-n)+o*a,n+r*(1-n),0,0,0,0,0,1,0];this._loadMatrix(i,t)}contrast(e,t){const n=(e||0)+1,a=-.5*(n-1),r=[n,0,0,0,a,0,n,0,0,a,0,0,n,0,a,0,0,0,1,0];this._loadMatrix(r,t)}saturate(e=0,t){const n=2*e/3+1,a=-.5*(n-1),r=[n,a,a,0,0,a,n,a,0,0,a,a,n,0,0,0,0,0,1,0];this._loadMatrix(r,t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,n,a,r){e=e||.2,t=t||.15,n=n||16770432,a=a||3375104;const o=hH.shared,[i,s,l]=o.setValue(n).toArray(),[c,d,u]=o.setValue(a).toArray(),m=[.3,.59,.11,0,0,i,s,l,e,0,c,d,u,t,0,i-c,s-d,l-u,0,0];this._loadMatrix(m,r)}night(e,t){const n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}predator(e,t){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}JX.prototype.grayscale=JX.prototype.greyscale;const KX={AlphaFilter:class extends tW{constructor(e=1){super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}},BlurFilter:class extends tW{constructor(e=8,t=4,n=tW.defaultResolution,a=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new XX(!0,e,t,n,a),this.blurYFilter=new XX(!1,e,t,n,a),this.resolution=n,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,n,a){const r=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(r&&o){const r=e.getFilterTexture();this.blurXFilter.apply(e,t,r,oG.CLEAR),this.blurYFilter.apply(e,r,n,a),e.returnFilterTexture(r)}else o?this.blurYFilter.apply(e,t,n,a):this.blurXFilter.apply(e,t,n,a)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}},BlurFilterPass:XX,ColorMatrixFilter:JX,DisplacementFilter:class extends tW{constructor(e,t){const n=new bY;e.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,null==t&&(t=20),this.scale=new uY(t,t)}apply(e,t,n,a){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const r=this.maskSprite.worldTransform,o=Math.sqrt(r.a*r.a+r.b*r.b),i=Math.sqrt(r.c*r.c+r.d*r.d);0!==o&&0!==i&&(this.uniforms.rotation[0]=r.a/o,this.uniforms.rotation[1]=r.b/o,this.uniforms.rotation[2]=r.c/i,this.uniforms.rotation[3]=r.d/i),e.applyFilter(this,t,n,a)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}},FXAAFilter:class extends tW{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}},NoiseFilter:class extends tW{constructor(e=.5,t=Math.random()){super(xX,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}};Object.entries(KX).forEach(([e,t])=>{Object.defineProperty(KX,e,{get:()=>(MG("7.1.0",`filters.${e} has moved to ${e}`),t)})});const ZX=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(vX.system.add(this.tickerUpdate,this,gX.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(vX.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}};class QX{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=QX.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new uY,this.page=new uY,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,a,r){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class eJ extends QX{constructor(){super(...arguments),this.client=new uY,this.movement=new uY,this.offset=new uY,this.global=new uY,this.screen=new uY}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,a,r,o,i,s,l,c,d,u,m,p,g){throw new Error("Method not implemented.")}}class tJ extends eJ{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class nJ extends eJ{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}nJ.DOM_DELTA_PIXEL=0,nJ.DOM_DELTA_LINE=1,nJ.DOM_DELTA_PAGE=2;const aJ=new uY,rJ=new uY;class oJ{constructor(e){this.dispatch=new TG,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,a=t.length;n<a;n++)t[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){ZX.pauseUpdate=!0;const n=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,aJ.set(e,t),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let a=0,r=n.length-1;a<r;a++)if(e.currentTarget=n[a],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let a=n.length-2;a>=0;a--)if(e.currentTarget=n[a],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,n=this._allInteractiveElements){if(0===n.length)return;e.eventPhase=e.BUBBLING_PHASE;const a=Array.isArray(t)?t:[t];for(let t=n.length-1;t>=0;t--)a.forEach(a=>{e.currentTarget=n[t],this.notifyTarget(e,a)})}propagationPath(e){const t=[e];for(let n=0;n<2048&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,a,r,o=!1){let i=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(ZX.pauseUpdate=!1),e.interactiveChildren&&e.children){const s=e.children;for(let l=s.length-1;l>=0;l--){const c=s[l],d=this.hitTestMoveRecursive(c,this._isInteractive(t)?t:c.eventMode,n,a,r,o||r(e,n));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const t=e.isInteractive();(d.length>0||t)&&(t&&this._allInteractiveElements.push(e),d.push(e)),0===this._hitElements.length&&(this._hitElements=d),i=!0}}}const s=this._isInteractive(t),l=e.isInteractive();return s&&l&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:i?this._hitElements:s&&!r(e,n)&&a(e,n)?l?[e]:[]:null}hitTestRecursive(e,t,n,a,r){if(this._interactivePrune(e)||r(e,n))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(ZX.pauseUpdate=!1),e.interactiveChildren&&e.children){const o=e.children;for(let i=o.length-1;i>=0;i--){const s=o[i],l=this.hitTestRecursive(s,this._isInteractive(t)?t:s.eventMode,n,a,r);if(l){if(l.length>0&&!l[l.length-1].parent)continue;const t=e.isInteractive();return(l.length>0||t)&&l.push(e),l}}}const o=this._isInteractive(t),i=e.isInteractive();return o&&a(e,n)?i?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&!e.isMask&&e.visible&&e.renderable&&"none"!==e.eventMode&&("passive"!==e.eventMode||e.interactiveChildren)&&!e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,rJ),!e.hitArea.contains(rJ.x,rJ.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!n.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){const n=`on${t=t??e.type}`;e.currentTarget[n]?.(e);const a=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,a),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof tJ))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){const e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof tJ))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n="mouse"===t.pointerType||"pen"===t.pointerType,a=this.trackingData(e.pointerId),r=this.findMountedTarget(a.overTargets);if(a.overTargets?.length>0&&r!==t.target){const a="mousemove"===e.type?"mouseout":"pointerout",o=this.createPointerEvent(e,a,r);if(this.dispatchEvent(o,"pointerout"),n&&this.dispatchEvent(o,"mouseout"),!t.composedPath().includes(r)){const a=this.createPointerEvent(e,"pointerleave",r);for(a.eventPhase=a.AT_TARGET;a.target&&!t.composedPath().includes(a.target);)a.currentTarget=a.target,this.notifyTarget(a),n&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;this.freeEvent(a)}this.freeEvent(o)}if(r!==t.target){const a="mousemove"===e.type?"mouseover":"pointerover",o=this.clonePointerEvent(t,a);this.dispatchEvent(o,"pointerover"),n&&this.dispatchEvent(o,"mouseover");let i=r?.parent;for(;i&&i!==this.rootTarget.parent&&i!==t.target;)i=i.parent;if(!i||i===this.rootTarget.parent){const e=this.clonePointerEvent(t,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==r&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),n&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(o)}const o=[],i=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(t,"pointermove"),i&&o.push("globalpointermove"),"touch"===t.pointerType&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),i&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),i&&o.push("globalmousemove"),this.cursor=t.target?.cursor),o.length>0&&this.all(t,o),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof tJ))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),n=this.createPointerEvent(e),a="mouse"===n.pointerType||"pen"===n.pointerType;this.dispatchEvent(n,"pointerover"),a&&this.dispatchEvent(n,"mouseover"),"mouse"===n.pointerType&&(this.cursor=n.target?.cursor);const r=this.clonePointerEvent(n,"pointerenter");for(r.eventPhase=r.AT_TARGET;r.target&&r.target!==this.rootTarget.parent;)r.currentTarget=r.target,this.notifyTarget(r),a&&this.notifyTarget(r,"mouseenter"),r.target=r.target.parent;t.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(r)}mapPointerOut(e){if(!(e instanceof tJ))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId);if(t.overTargets){const n="mouse"===e.pointerType||"pen"===e.pointerType,a=this.findMountedTarget(t.overTargets),r=this.createPointerEvent(e,"pointerout",a);this.dispatchEvent(r),n&&this.dispatchEvent(r,"mouseout");const o=this.createPointerEvent(e,"pointerleave",a);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;t.overTargets=null,this.freeEvent(r),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof tJ))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){const e=2===n.button;this.dispatchEvent(n,e?"rightup":"mouseup")}const a=this.trackingData(e.pointerId),r=this.findMountedTarget(a.pressTargetsByButton[e.button]);let o=r;if(r&&!n.composedPath().includes(r)){let t=r;for(;t&&!n.composedPath().includes(t);){if(n.currentTarget=t,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){const e=2===n.button;this.notifyTarget(n,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete a.pressTargetsByButton[e.button],o=t}if(o){const r=this.clonePointerEvent(n,"click");r.target=o,r.path=null,a.clicksByButton[e.button]||(a.clicksByButton[e.button]={clickCount:0,target:r.target,timeStamp:t});const i=a.clicksByButton[e.button];if(i.target===r.target&&t-i.timeStamp<200?++i.clickCount:i.clickCount=1,i.target=r.target,i.timeStamp=t,r.detail=i.clickCount,"mouse"===r.pointerType){const e=2===r.button;this.dispatchEvent(r,e?"rightclick":"click")}else"touch"===r.pointerType&&this.dispatchEvent(r,"tap");this.dispatchEvent(r,"pointertap"),this.freeEvent(r)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof tJ))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),a=this.createPointerEvent(e);if(n){let r=n;for(;r;)a.currentTarget=r,this.notifyTarget(a,"pointerupoutside"),"touch"===a.pointerType?this.notifyTarget(a,"touchendoutside"):("mouse"===a.pointerType||"pen"===a.pointerType)&&this.notifyTarget(a,2===a.button?"rightupoutside":"mouseupoutside"),r=r.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(a)}mapWheel(e){if(!(e instanceof nJ))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){const a=this.allocateEvent(tJ);return this.copyPointerData(e,a),this.copyMouseData(e,a),this.copyData(e,a),a.nativeEvent=e.nativeEvent,a.originalEvent=e,a.target=n??this.hitTest(a.global.x,a.global.y)??this._hitElements[0],"string"==typeof t&&(a.type=t),a}createWheelEvent(e){const t=this.allocateEvent(nJ);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(tJ);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof tJ&&t instanceof tJ&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof eJ&&t instanceof eJ&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let a=0,r=n.length;a<r&&!e.propagationImmediatelyStopped;a++)n[a].once&&e.currentTarget.removeListener(t,n[a].fn,void 0,!0),n[a].fn.call(n[a].context,e)}}const iJ={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},sJ=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new oJ(null),ZX.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new tJ(null),this.rootWheelEvent=new nJ(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...e.defaultEventFeatures},{set:(e,t,n)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=n),e[t]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:n,resolution:a}=this.renderer;this.setTargetElement(n),this.resolution=a,e._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let e=0,n=t.length;e<n;e++){const n=t[e],a=this.bootstrapEvent(this.rootPointerEvent,n);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ZX.pointerMoved();const t=this.normalizeToPointerData(e);for(let e=0,n=t.length;e<n;e++){const n=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",a=this.normalizeToPointerData(e);for(let e=0,t=a.length;e<t;e++){const t=this.bootstrapEvent(this.rootPointerEvent,a[e]);t.type+=n,this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let e=0,n=t.length;e<n;e++){const n=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,ZX.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ZX.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ZX.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,n){const a=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},r=1/this.resolution;e.x=(t-a.left)*(this.domElement.width/a.width)*r,e.y=(n-a.top)*(this.domElement.height/a.height)*r}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,a=e.changedTouches.length;n<a;n++){const a=e.changedTouches[n];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,t.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=1),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=iJ[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};sJ.extension={name:"events",type:[zH.RendererSystem,zH.CanvasRendererSystem]},sJ.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let lJ=sJ;function cJ(e){return"dynamic"===e||"static"===e}$H.add(lJ);const dJ={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??cJ(lJ.defaultEventMode)},set interactive(e){MG("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??lJ.defaultEventMode},set eventMode(e){this._internalInteractive=cJ(e),this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,n){const a="boolean"==typeof n&&n||"object"==typeof n&&n.capture,r="object"==typeof n?n.signal:void 0,o="object"==typeof n&&!0===n.once,i="function"==typeof t?void 0:t;e=a?`${e}capture`:e;const s="function"==typeof t?t:t.handleEvent,l=this;r&&r.addEventListener("abort",()=>{l.off(e,s,i)}),o?l.once(e,s,i):l.on(e,s,i)},removeEventListener(e,t,n){const a="function"==typeof t?void 0:t;e="boolean"==typeof n&&n||"object"==typeof n&&n.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,a)},dispatchEvent(e){if(!(e instanceof QX))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};PX.mixin(dJ),PX.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});class uJ{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(DG.tablet||DG.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let e=0;e<t.length;e++)this.updateAccessibleObjects(t[e])}update(){const e=performance.now();if(DG.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:n,width:a,height:r}=this.renderer.view.getBoundingClientRect(),{width:o,height:i,resolution:s}=this.renderer,l=a/o*s,c=r/i*s;let d=this.div;d.style.left=`${t}px`,d.style.top=`${n}px`,d.style.width=`${o}px`,d.style.height=`${i}px`;for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t.renderId!==this.renderId)t._accessibleActive=!1,wH(this.children,e,1),this.div.removeChild(t._accessibleDiv),this.pool.push(t._accessibleDiv),t._accessibleDiv=null,e--;else{d=t._accessibleDiv;let e=t.hitArea;const n=t.worldTransform;t.hitArea?(d.style.left=(n.tx+e.x*n.a)*l+"px",d.style.top=(n.ty+e.y*n.d)*c+"px",d.style.width=e.width*n.a*l+"px",d.style.height=e.height*n.d*c+"px"):(e=t.getBounds(),this.capHitArea(e),d.style.left=e.x*l+"px",d.style.top=e.y*c+"px",d.style.width=e.width*l+"px",d.style.height=e.height*c+"px",d.title!==t.accessibleTitle&&null!==t.accessibleTitle&&(d.title=t.accessibleTitle),d.getAttribute("aria-label")!==t.accessibleHint&&null!==t.accessibleHint&&d.setAttribute("aria-label",t.accessibleHint)),(t.accessibleTitle!==d.title||t.tabIndex!==d.tabIndex)&&(d.title=t.accessibleTitle,d.tabIndex=t.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:n}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:n}=e.target,a=this.renderer.events.rootBoundary,r=Object.assign(new QX(a),{target:n});a.rootTarget=this.renderer.lastObjectRendered,t.forEach(e=>a.dispatchEvent(r,e))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}uJ.extension={name:"accessibility",type:[zH.RendererPlugin,zH.CanvasRendererPlugin]},$H.add(uJ);const mJ=class e{constructor(t){this.stage=new FX,t=Object.assign({forceCanvas:!1},t),this.renderer=function(e){for(const t of yX)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}(t),e._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(t,n){const a=e._plugins.slice(0);a.reverse(),a.forEach(e=>{e.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};mJ._plugins=[];let pJ=mJ;$H.handleByList(zH.Application,pJ._plugins);class gJ{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this.cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:a}=this._resizeTo;e=n,t=a}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}gJ.extension=zH.Application,$H.add(gJ);const hJ={loader:zH.LoadParser,resolver:zH.ResolveParser,cache:zH.CacheParser,detection:zH.DetectionParser};$H.handle(zH.Asset,e=>{const t=e.ref;Object.entries(hJ).filter(([e])=>!!t[e]).forEach(([e,n])=>$H.add(Object.assign(t[e],{extension:t[e].extension??n})))},e=>{const t=e.ref;Object.keys(hJ).filter(e=>!!t[e]).forEach(e=>$H.remove(t[e]))});class fJ{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function vJ(e,t){const n=e.split("?")[0],a=RG.extname(n).toLowerCase();return Array.isArray(t)?t.includes(a):a===t}const bJ=(e,t,n=!1)=>(Array.isArray(e)||(e=[e]),t?e.map(e=>"string"==typeof e||n?t(e):e):e),yJ=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const n=bJ(e);let a;for(let e=0;e<this.parsers.length;e++){const r=this.parsers[e];if(r.test(t)){a=r.getCacheableAssets(n,t);break}}a||(a={},n.forEach(e=>{a[e]=t}));const r=Object.keys(a),o={cacheKeys:r,keys:n};if(n.forEach(e=>{this._cacheMap.set(e,o)}),r.forEach(e=>{const n=a?a[e]:t;this._cache.has(e)&&this._cache.get(e)!==n&&console.warn("[Cache] already has key:",e),this._cache.set(e,a[e])}),t instanceof pW){const e=t;n.forEach(t=>{e.baseTexture!==pW.EMPTY.baseTexture&&JH.addToCache(e.baseTexture,t),pW.addToCache(e,t)})}}remove(e){if(!this._cacheMap.has(e))return void console.warn(`[Assets] Asset id ${e} was not found in the Cache`);const t=this._cacheMap.get(e);t.cacheKeys.forEach(e=>{this._cache.delete(e)}),t.keys.forEach(e=>{this._cacheMap.delete(e)})}get parsers(){return this._parsers}},xJ=e=>!Array.isArray(e);class kJ{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const n={promise:null,parser:null};return n.promise=(async()=>{let a=null,r=null;if(t.loadParser&&(r=this._parserHash[t.loadParser],r||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!r){for(let n=0;n<this.parsers.length;n++){const a=this.parsers[n];if(a.load&&a.test?.(e,t,this)){r=a;break}}if(!r)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}a=await r.load(e,t,this),n.parser=r;for(let e=0;e<this.parsers.length;e++){const r=this.parsers[e];r.parse&&r.parse&&await(r.testParse?.(a,t,this))&&(a=await r.parse(a,t,this)||a,n.parser=r)}return a})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0;const a={},r=xJ(e),o=bJ(e,e=>({alias:[e],src:e})),i=o.length,s=o.map(async e=>{const r=RG.toAbsolute(e.src);if(!a[e.src])try{this.promiseCache[r]||(this.promiseCache[r]=this._getLoadPromiseAndParser(r,e)),a[e.src]=await this.promiseCache[r].promise,t&&t(++n/i)}catch(t){throw delete this.promiseCache[r],delete a[e.src],new Error(`[Loader.load] Failed to load ${r}.\n${t}`)}});return await Promise.all(s),r?a[o[0].src]:a}async unload(e){const t=bJ(e,e=>({alias:[e],src:e})).map(async e=>{const t=RG.toAbsolute(e.src),n=this.promiseCache[t];if(n){const a=await n.promise;delete this.promiseCache[t],n.parser?.unload?.(a,e,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var wJ=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(wJ||{});function EJ(e,t){if(Array.isArray(t)){for(const n of t)if(e.startsWith(`data:${n}`))return!0;return!1}return e.startsWith(`data:${t}`)}const NJ={extension:{type:zH.LoadParser,priority:wJ.Low},name:"loadJson",test:e=>EJ(e,"application/json")||vJ(e,".json"),load:async e=>await(await mG.ADAPTER.fetch(e)).json()};$H.add(NJ);const SJ={name:"loadTxt",extension:{type:zH.LoadParser,priority:wJ.Low},test:e=>EJ(e,"text/plain")||vJ(e,".txt"),load:async e=>await(await mG.ADAPTER.fetch(e)).text()};$H.add(SJ);const _J=["normal","bold","100","200","300","400","500","600","700","800","900"],VJ=[".ttf",".otf",".woff",".woff2"],CJ=["font/ttf","font/otf","font/woff","font/woff2"],AJ=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i,DJ=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function TJ(e){return DJ.test(e)?e:encodeURI(e)}const BJ={extension:{type:zH.LoadParser,priority:wJ.Low},name:"loadWebFont",test:e=>EJ(e,CJ)||vJ(e,VJ),async load(e,t){const n=mG.ADAPTER.getFontFaceSet();if(n){const a=[],r=t.data?.family??function(e){const t=RG.extname(e),n=RG.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1));let a=n.length>0;for(const e of n)if(!e.match(AJ)){a=!1;break}let r=n.join(" ");return a||(r=`"${r.replace(/[\\"]/g,"\\$&")}"`),r}(e),o=t.data?.weights?.filter(e=>_J.includes(e))??["normal"],i=t.data??{};for(let t=0;t<o.length;t++){const s=o[t],l=new FontFace(r,`url(${TJ(e)})`,{...i,weight:s});await l.load(),n.add(l),a.push(l)}return 1===a.length?a[0]:a}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(e=>mG.ADAPTER.getFontFaceSet().delete(e))}};$H.add(BJ);let IJ=null;class MJ{constructor(){IJ||(IJ=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n  async function checkImageBitmap() {\n    try {\n      if (typeof createImageBitmap != "function")\n        return !1;\n      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);\n      return imageBitmap.width === 1 && imageBitmap.height === 1;\n    } catch {\n      return !1;\n    }\n  }\n  checkImageBitmap().then((result) => {\n    self.postMessage(result);\n  });\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(IJ)}}MJ.revokeObjectURL=function(){IJ&&(URL.revokeObjectURL(IJ),IJ=null)};let zJ=null;class PJ{constructor(){zJ||(zJ=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  async function loadImageBitmap(url) {\n    const response = await fetch(url);\n    if (!response.ok)\n      throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n    const imageBlob = await response.blob();\n    return await createImageBitmap(imageBlob);\n  }\n  self.onmessage = async (event) => {\n    try {\n      const imageBitmap = await loadImageBitmap(event.data.data[0]);\n      self.postMessage({\n        data: imageBitmap,\n        uuid: event.data.uuid,\n        id: event.data.id\n      }, [imageBitmap]);\n    } catch (e) {\n      self.postMessage({\n        error: e,\n        uuid: event.data.uuid,\n        id: event.data.id\n      });\n    }\n  };\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(zJ)}}PJ.revokeObjectURL=function(){zJ&&(URL.revokeObjectURL(zJ),zJ=null)};let RJ,$J=0;const OJ=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new MJ;t.addEventListener("message",n=>{t.terminate(),MJ.revokeObjectURL(),e(n.data)})})),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===RJ&&(RJ=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<RJ&&(this._createdWorkers++,e=(new PJ).worker,e.addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const n=new Promise((n,a)=>{this.queue.push({id:e,arguments:t,resolve:n,reject:a})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),n=t.id;this.resolveHash[$J]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:$J++,id:n})}};function LJ(e,t,n){e.resource.internal=!0;const a=new pW(e),r=()=>{delete t.promiseCache[n],yJ.has(n)&&yJ.remove(n)};return a.baseTexture.once("destroyed",()=>{n in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),r())}),a.once("destroyed",()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),r())}),a}const FJ=[".jpeg",".jpg",".png",".webp",".avif"],jJ=["image/jpeg","image/png","image/webp","image/avif"],UJ={name:"loadTextures",extension:{type:zH.LoadParser,priority:wJ.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>EJ(e,jJ)||vJ(e,FJ),async load(e,t,n){const a=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let r;r=a?this.config.preferWorkers&&await OJ.isImageBitmapSupported()?await OJ.loadImageBitmap(e):await async function(e){const t=await mG.ADAPTER.fetch(e);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);const n=await t.blob();return await createImageBitmap(n)}(e):await new Promise((t,n)=>{const a=new Image;a.crossOrigin=this.config.crossOrigin,a.src=e,a.complete?t(a):(a.onload=()=>t(a),a.onerror=e=>n(e))});const o={...t.data};o.resolution??(o.resolution=MH(e)),a&&void 0===o.resourceOptions?.ownsImageBitmap&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const i=new JH(r,o);return i.resource.src=e,LJ(i,n,e)},unload(e){e.destroy(!0)}};$H.add(UJ);const qJ={extension:{type:zH.LoadParser,priority:wJ.High},name:"loadSVG",test:e=>EJ(e,"image/svg+xml")||vJ(e,".svg"),testParse:async e=>BX.test(e),async parse(e,t,n){const a=new BX(e,t?.data?.resourceOptions);await a.load();const r=new JH(a,{resolution:MH(e),...t?.data});return r.resource.src=t.src,LJ(r,n,t.src)},load:async(e,t)=>(await mG.ADAPTER.fetch(e)).text(),unload:UJ.unload};$H.add(qJ);const GJ=[".mp4",".m4v",".webm",".ogv"],HJ=["video/mp4","video/webm","video/ogg"],YJ={name:"loadVideo",extension:{type:zH.LoadParser,priority:wJ.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test:e=>EJ(e,HJ)||vJ(e,GJ),async load(e,t,n){let a;const r=await(await mG.ADAPTER.fetch(e)).blob(),o=URL.createObjectURL(r);try{const r={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...t?.data?.resourceOptions,autoLoad:!0},i=new MX(o,r);await i.load();const s=new JH(i,{alphaMode:await LG(),resolution:MH(e),...t?.data});s.resource.src=e,a=LJ(s,n,e),a.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(e){throw URL.revokeObjectURL(o),e}return a},unload(e){e.destroy(!0)}};function WJ(e,t,n,a,r){const o=t[n];for(let i=0;i<o.length;i++){const s=o[i];n<t.length-1?WJ(e.replace(a[n],s),t,n+1,a,r):r.push(e.replace(a[n],s))}}function XJ(e){const t=e.match(/\{(.*?)\}/g),n=[];if(t){const a=[];t.forEach(e=>{const t=e.substring(1,e.length-1).split(",");a.push(t)}),WJ(e,a,0,t,n)}else n.push(e);return n}$H.add(YJ);class JJ{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if("string"==typeof e)this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}}getAlias(e){const{alias:t,name:n,src:a,srcs:r}=e;return bJ(t||n||a||r,e=>"string"==typeof e?e:Array.isArray(e)?e.map(e=>e?.src??e?.srcs??e):e?.src||e?.srcs?e.src??e.srcs:e,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(e,t){const n=[];Array.isArray(t)?t.forEach(t=>{const a=t.src??t.srcs,r=t.alias??t.name;let o;if("string"==typeof r){const t=this._createBundleAssetId(e,r);n.push(t),o=[r,t]}else{const t=r.map(t=>this._createBundleAssetId(e,t));n.push(...t),o=[...r,...t]}this.add({...t,alias:o,src:a})}):Object.keys(t).forEach(a=>{const r=[a,this._createBundleAssetId(e,a)];if("string"==typeof t[a])this.add({alias:r,src:t[a]});else if(Array.isArray(t[a]))this.add({alias:r,src:t[a]});else{const e=t[a],n=e.src??e.srcs;this.add({...e,alias:r,src:Array.isArray(n)?n:[n]})}n.push(...r)}),this._bundles[e]=n}add(e,t,n,a,r){const o=[];let i;"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?(MG("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),o.push({alias:e,src:t,data:n,format:a,loadParser:r})):Array.isArray(e)?o.push(...e):o.push(e),i=e=>{this.hasKey(e)&&console.warn(`[Resolver] already has key: ${e} overwriting`)},bJ(o).forEach(e=>{const{src:t,srcs:n}=e;let{data:a,format:r,loadParser:o}=e;const s=bJ(t||n).map(e=>"string"==typeof e?XJ(e):Array.isArray(e)?e:[e]),l=this.getAlias(e);Array.isArray(l)?l.forEach(i):i(l);const c=[];s.forEach(e=>{e.forEach(e=>{let t={};if("object"!=typeof e){t.src=e;for(let n=0;n<this._parsers.length;n++){const a=this._parsers[n];if(a.test(e)){t=a.parse(e);break}}}else a=e.data??a,r=e.format??r,o=e.loadParser??o,t={...t,...e};if(!l)throw new Error(`[Resolver] alias is undefined for this asset: ${t.src}`);t=this.buildResolvedAsset(t,{aliases:l,data:a,format:r,loadParser:o}),c.push(t)})}),l.forEach(e=>{this._assetMap[e]=c})})}resolveBundle(e){const t=xJ(e);e=bJ(e);const n={};return e.forEach(e=>{const t=this._bundles[e];if(t){const a=this.resolve(t),r={};for(const t in a){const n=a[t];r[this._extractAssetIdFromBundle(e,t)]=n}n[e]=r}}),t?n[e[0]]:n}resolveUrl(e){const t=this.resolve(e);if("string"!=typeof e){const e={};for(const n in t)e[n]=t[n].src;return e}return t.src}resolve(e){const t=xJ(e);e=bJ(e);const n={};return e.forEach(e=>{if(!this._resolverHash[e])if(this._assetMap[e]){let t=this._assetMap[e];const n=t[0],a=this._getPreferredOrder(t);a?.priority.forEach(e=>{a.params[e].forEach(n=>{const a=t.filter(t=>!!t[e]&&t[e]===n);a.length&&(t=a)})}),this._resolverHash[e]=t[0]??n}else this._resolverHash[e]=this.buildResolvedAsset({alias:[e],src:e},{});n[e]=this._resolverHash[e]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const t=e[0],n=this._preferredOrder.find(e=>e.params.format.includes(t.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){return this._defaultSearchParams?`${e}${/\?/.test(e)?"&":"?"}${this._defaultSearchParams}`:e}buildResolvedAsset(e,t){const{aliases:n,data:a,loadParser:r,format:o}=t;return(this._basePath||this._rootPath)&&(e.src=RG.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...a||{},...e.data},e.loadParser=r??e.loadParser,e.format=o??e.format??RG.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}const KJ=new class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new JJ,this.loader=new kJ,this.cache=yJ,this._backgroundLoader=new fJ(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let t=e.manifest;"string"==typeof t&&(t=await this.load(t)),this.resolver.addManifest(t)}const t=e.texturePreference?.resolution??1,n="number"==typeof t?[t]:t,a=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:a,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,n,a,r){this.resolver.add(e,t,n,a,r)}async load(e,t){this._initialized||await this.init();const n=xJ(e),a=bJ(e).map(e=>{if("string"!=typeof e){const t=this.resolver.getAlias(e);return t.some(e=>!this.resolver.hasKey(e))&&this.add(e),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(e)||this.add({alias:e,src:e}),e}),r=this.resolver.resolve(a),o=await this._mapLoadToResolve(r,t);return n?o[a[0]]:o}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;"string"==typeof e&&(n=!0,e=[e]);const a=this.resolver.resolveBundle(e),r={},o=Object.keys(a);let i=0,s=0;const l=()=>{t?.(++i/s)},c=o.map(e=>{const t=a[e];return s+=Object.keys(t).length,this._mapLoadToResolve(t,l).then(t=>{r[e]=t})});return await Promise.all(c),n?r[e[0]]:r}async backgroundLoad(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(e=>{this._backgroundLoader.add(Object.values(e))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return yJ.get(e);const t={};for(let n=0;n<e.length;n++)t[n]=yJ.get(e[n]);return t}async _mapLoadToResolve(e,t){const n=Object.values(e),a=Object.keys(e);this._backgroundLoader.active=!1;const r=await this.loader.load(n,t);this._backgroundLoader.active=!0;const o={};return n.forEach((e,t)=>{const n=r[e.src],i=[e.src];e.alias&&i.push(...e.alias),o[a[t]]=n,yJ.set(i,n)}),o}async unload(e){this._initialized||await this.init();const t=bJ(e).map(e=>"string"!=typeof e?e.src:e),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=bJ(e);const t=this.resolver.resolveBundle(e),n=Object.keys(t).map(e=>this._unloadFromResolved(t[e]));await Promise.all(n)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(e=>{yJ.remove(e.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((e,n)=>t.indexOf(e)===n),t}get detections(){return this._detections}get preferWorkers(){return UJ.config.preferWorkers}set preferWorkers(e){MG("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(t=>t in e).forEach(n=>{t.config[n]=e[n]})})}};$H.handleByList(zH.LoadParser,KJ.loader.parsers).handleByList(zH.ResolveParser,KJ.resolver.parsers).handleByList(zH.CacheParser,KJ.cache.parsers).handleByList(zH.DetectionParser,KJ.detections);const ZJ={extension:zH.CacheParser,test:e=>Array.isArray(e)&&e.every(e=>e instanceof pW),getCacheableAssets:(e,t)=>{const n={};return e.forEach(e=>{t.forEach((t,a)=>{n[e+(0===a?"":a+1)]=t})}),n}};async function QJ(e){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}$H.add(ZJ);const eK={extension:{type:zH.DetectionParser,priority:1},test:async()=>QJ("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(e=>"avif"!==e)};$H.add(eK);const tK={extension:{type:zH.DetectionParser,priority:0},test:async()=>QJ("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(e=>"webp"!==e)};$H.add(tK);const nK=["png","jpg","jpeg"],aK={extension:{type:zH.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...nK],remove:async e=>e.filter(e=>!nK.includes(e))};$H.add(aK);const rK="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function oK(e){return!rK&&""!==document.createElement("video").canPlayType(e)}const iK={extension:{type:zH.DetectionParser,priority:0},test:async()=>oK("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(e=>"webm"!==e)};$H.add(iK);const sK={extension:{type:zH.DetectionParser,priority:0},test:async()=>oK("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(e=>"mp4"!==e&&"m4v"!==e)};$H.add(sK);const lK={extension:{type:zH.DetectionParser,priority:0},test:async()=>oK("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(e=>"ogv"!==e)};$H.add(lK);const cK={extension:zH.ResolveParser,test:UJ.test,parse:e=>({resolution:parseFloat(mG.RETINA_PREFIX.exec(e)?.[1]??"1"),format:RG.extname(e).slice(1),src:e})};$H.add(cK);const dK=(e,t)=>{const n=t.split("?")[1];return n&&(e+=`?${n}`),e};var uK=(e=>(e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e[e.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",e[e.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",e[e.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",e[e.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",e))(uK||{});const mK={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let pK,gK;function hK(){gK={bptc:pK.getExtension("EXT_texture_compression_bptc"),astc:pK.getExtension("WEBGL_compressed_texture_astc"),etc:pK.getExtension("WEBGL_compressed_texture_etc"),s3tc:pK.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:pK.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:pK.getExtension("WEBGL_compressed_texture_pvrtc")||pK.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:pK.getExtension("WEBGL_compressed_texture_etc1"),atc:pK.getExtension("WEBGL_compressed_texture_atc")}}const fK={extension:{type:zH.DetectionParser,priority:2},test:async()=>{const e=mG.ADAPTER.createCanvas().getContext("webgl");return e?(pK=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{gK||hK();const t=[];for(const e in gK)gK[e]&&t.push(e);return[...t,...e]},remove:async e=>(gK||hK(),e.filter(e=>!(e in gK)))};$H.add(fK);class vK extends YH{constructor(e,t={width:1,height:1,autoLoad:!0}){let n,a;"string"==typeof e?(n=e,a=new Uint8Array):(n=null,a=e),super(a,t),this.origin=n,this.buffer=a?new OH(a):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new OH(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this))),this._load}}class bK extends vK{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=bK._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||bK._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,n){const a=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;a.pixelStorei(a.UNPACK_ALIGNMENT,4);for(let e=0,t=this.levels;e<t;e++){const{levelID:t,levelWidth:n,levelHeight:r,levelBuffer:o}=this._levelBuffers[e];a.compressedTexImage2D(a.TEXTURE_2D,t,this.format,n,r,0,o)}return!0}onBlobLoaded(){this._levelBuffers=bK._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(36196===e)return"etc1";if(35986===e||35987===e||34798===e)return"atc";if(e>=36492&&e<=36495)return"bptc";if(37808===e)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,n,a,r,o,i){const s=new Array(n);let l=e.byteOffset,c=o,d=i,u=c+a-1&~(a-1),m=d+r-1&~(r-1),p=u*m*mK[t];for(let o=0;o<n;o++)s[o]={levelID:o,levelWidth:n>1?c:u,levelHeight:n>1?d:m,levelBuffer:new Uint8Array(e.buffer,l,p)},l+=p,c=c>>1||1,d=d>>1||1,u=c+a-1&~(a-1),m=d+r-1&~(r-1),p=u*m*mK[t];return s}}const yK=827611204,xK=861165636,kK=894720068,wK={[yK]:uK.COMPRESSED_RGBA_S3TC_DXT1_EXT,[xK]:uK.COMPRESSED_RGBA_S3TC_DXT3_EXT,[kK]:uK.COMPRESSED_RGBA_S3TC_DXT5_EXT},EK={70:uK.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:uK.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:uK.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:uK.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:uK.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:uK.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:uK.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:uK.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:uK.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:uK.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:uK.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:uK.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:uK.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT},NK=[171,75,84,88,32,49,49,187,13,10,26,10],SK={[Qq.UNSIGNED_BYTE]:1,[Qq.UNSIGNED_SHORT]:2,[Qq.INT]:4,[Qq.UNSIGNED_INT]:4,[Qq.FLOAT]:4,[Qq.HALF_FLOAT]:8},_K={[Kq.RGBA]:4,[Kq.RGB]:3,[Kq.RG]:2,[Kq.RED]:1,[Kq.LUMINANCE]:1,[Kq.LUMINANCE_ALPHA]:2,[Kq.ALPHA]:1},VK={[Qq.UNSIGNED_SHORT_4_4_4_4]:2,[Qq.UNSIGNED_SHORT_5_5_5_1]:2,[Qq.UNSIGNED_SHORT_5_6_5]:2};function CK(e){switch(e){case Kq.RGBA:return Kq.RGBA_INTEGER;case Kq.RGB:return Kq.RGB_INTEGER;case Kq.RG:return Kq.RG_INTEGER;case Kq.RED:return Kq.RED_INTEGER;default:return e}}const AK={extension:{type:zH.LoadParser,priority:wJ.High},name:"loadDDS",test:e=>vJ(e,".dds"),async load(e,t,n){const a=function(e){const t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");const n=new Uint32Array(e,0,124/Uint32Array.BYTES_PER_ELEMENT),a=n[3],r=n[4],o=n[7],i=new Uint32Array(e,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),s=i[1];if(4&s){const n=i[2];if(808540228!==n){const t=wK[n],i=new Uint8Array(e,128);return[new bK(i,{format:t,width:r,height:a,levels:o})]}const s=128,l=new Uint32Array(t.buffer,s,20/Uint32Array.BYTES_PER_ELEMENT),c=l[0],d=l[1],u=l[2],m=l[3],p=EK[c];if(void 0===p)throw new Error(`DDSParser cannot parse texture data with DXGI format ${c}`);if(4===u)throw new Error("DDSParser does not support cubemap textures");if(6===d)throw new Error("DDSParser does not supported 3D texture data");const g=new Array,h=148;if(1===m)g.push(new Uint8Array(e,h));else{const t=mK[p];let n=0,i=r,s=a;for(let e=0;e<o;e++)n+=Math.max(1,i+3&-4)*Math.max(1,s+3&-4)*t,i>>>=1,s>>>=1;let l=h;for(let t=0;t<m;t++)g.push(new Uint8Array(e,l,n)),l+=n}return g.map(e=>new bK(e,{format:p,width:r,height:a,levels:o}))}throw 64&s?new Error("DDSParser does not support uncompressed texture data."):512&s?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&s?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&s?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}(await(await mG.ADAPTER.fetch(e)).arrayBuffer()).map(a=>LJ(new JH(a,{mipmap:aG.OFF,alphaMode:rG.NO_PREMULTIPLIED_ALPHA,resolution:MH(e),...t.data}),n,e));return 1===a.length?a[0]:a},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};$H.add(AK);const DK={extension:{type:zH.LoadParser,priority:wJ.High},name:"loadKTX",test:e=>vJ(e,".ktx"),async load(e,t,n){const a=await(await mG.ADAPTER.fetch(e)).arrayBuffer(),{compressed:r,uncompressed:o,kvData:i}=function(e,t,n=!1){const a=new DataView(t);if(!function(e,t){for(let n=0;n<NK.length;n++)if(t.getUint8(n)!==NK[n])return console.error(`${e} is not a valid *.ktx file!`),!1;return!0}(e,a))return null;const r=67305985===a.getUint32(12,!0),o=a.getUint32(16,r),i=a.getUint32(24,r),s=a.getUint32(28,r),l=a.getUint32(36,r),c=a.getUint32(40,r)||1,d=a.getUint32(44,r)||1,u=a.getUint32(48,r)||1,m=a.getUint32(52,r),p=a.getUint32(56,r),g=a.getUint32(60,r);if(0===c||1!==d)throw new Error("Only 2D textures are supported");if(1!==m)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==u)throw new Error("WebGL does not support array textures");const h=l+3&-4,f=c+3&-4,v=new Array(u);let b,y=l*c;if(0===o&&(y=h*f),b=0!==o?SK[o]?SK[o]*_K[i]:VK[o]:mK[s],void 0===b)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const x=n?function(e,t,n){const a=new Map;let r=0;for(;r<t;){const o=e.getUint32(64+r,n),i=64+r+4,s=3-(o+3)%4;if(0===o||o>t-r){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<o&&0!==e.getUint8(i+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=(new TextDecoder).decode(new Uint8Array(e.buffer,i,l)),d=new DataView(e.buffer,i+l+1,o-l-1);a.set(c,d),r+=4+o+s}return a}(a,g,r):null;let k=y*b,w=l,E=c,N=h,S=f,_=64+g;for(let e=0;e<p;e++){const n=a.getUint32(_,r);let i=_+4;for(let n=0;n<u;n++){let a=v[n];a||(a=v[n]=new Array(p)),a[e]={levelID:e,levelWidth:p>1||0!==o?w:N,levelHeight:p>1||0!==o?E:S,levelBuffer:new Uint8Array(t,i,k)},i+=k}_+=n+4,_=_%4!=0?_+4-_%4:_,w=w>>1||1,E=E>>1||1,N=w+4-1&-4,S=E+4-1&-4,k=N*S*b}return 0!==o?{uncompressed:v.map(e=>{let t=e[0].levelBuffer,n=!1;return o===Qq.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===Qq.UNSIGNED_INT?(n=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===Qq.INT&&(n=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new YH(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:n?CK(i):i}}),kvData:x}:{compressed:v.map(e=>new bK(null,{format:s,width:l,height:c,levels:p,levelBuffers:e})),kvData:x}}(e,a),s=r??o,l={mipmap:aG.OFF,alphaMode:rG.NO_PREMULTIPLIED_ALPHA,resolution:MH(e),...t.data},c=s.map(t=>{s===o&&Object.assign(l,{type:t.type,format:t.format});const a=t.resource??t,r=new JH(a,l);return r.ktxKeyValueData=i,LJ(r,n,e)});return 1===c.length?c[0]:c},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};$H.add(DK);const TK=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],BK={extension:zH.ResolveParser,test:e=>{const t=RG.extname(e).slice(1);return["basis","ktx","dds"].includes(t)},parse:e=>{const t=e.split("."),n=t.pop();if(["ktx","dds"].includes(n)){const n=t.pop();if(TK.includes(n))return{resolution:parseFloat(mG.RETINA_PREFIX.exec(e)?.[1]??"1"),format:n,src:e}}return{resolution:parseFloat(mG.RETINA_PREFIX.exec(e)?.[1]??"1"),format:n,src:e}}};$H.add(BK);const IK=new pY,MK=class e{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,n,a){const r=new Image;return r.src=await this.base64(e,t,n,a),r}async base64(e,t,n,a){const r=this.canvas(e,a);if(void 0!==r.toBlob)return new Promise((e,a)=>{r.toBlob(t=>{if(!t)return void a(new Error("ICanvas.toBlob failed!"));const n=new FileReader;n.onload=()=>e(n.result),n.onerror=a,n.readAsDataURL(t)},t,n)});if(void 0!==r.toDataURL)return r.toDataURL(t,n);if(void 0!==r.convertToBlob){const e=await r.convertToBlob({type:t,quality:n});return new Promise((t,n)=>{const a=new FileReader;a.onload=()=>t(a.result),a.onerror=n,a.readAsDataURL(e)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,n){const{pixels:a,width:r,height:o,flipY:i,premultipliedAlpha:s}=this._rawPixels(t,n);i&&e._flipY(a,r,o),s&&e._unpremultiplyAlpha(a);const l=new TH(r,o,1),c=new ImageData(new Uint8ClampedArray(a.buffer),r,o);return l.context.putImageData(c,0,0),l.canvas}pixels(t,n){const{pixels:a,width:r,height:o,flipY:i,premultipliedAlpha:s}=this._rawPixels(t,n);return i&&e._flipY(a,r,o),s&&e._unpremultiplyAlpha(a),a}_rawPixels(e,t){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let a,r,o=!1,i=!1,s=!1;e&&(e instanceof gW?r=e:(r=n.generateTexture(e,{region:t,resolution:n.resolution,multisample:n.multisample}),s=!0,t&&(IK.width=t.width,IK.height=t.height,t=IK)));const l=n.gl;if(r){if(a=r.baseTexture.resolution,t=t??r.frame,o=!1,i=r.baseTexture.alphaMode>0&&r.baseTexture.format===Kq.RGBA,!s){n.renderTexture.bind(r);const e=r.framebuffer.glFramebuffers[n.CONTEXT_UID];e.blitFramebuffer&&n.framebuffer.bind(e.blitFramebuffer)}}else a=n.resolution,t||((t=IK).width=n.width/a,t.height=n.height/a),o=!0,i=this._rendererPremultipliedAlpha,n.renderTexture.bind();const c=Math.max(Math.round(t.width*a),1),d=Math.max(Math.round(t.height*a),1),u=new Uint8Array(4*c*d);return l.readPixels(Math.round(t.x*a),Math.round(t.y*a),c,d,l.RGBA,l.UNSIGNED_BYTE,u),s&&r?.destroy(!0),{pixels:u,width:c,height:d,flipY:o,premultipliedAlpha:i}}destroy(){this.renderer=null}static _flipY(e,t,n){const a=t<<2,r=n>>1,o=new Uint8Array(a);for(let t=0;t<r;t++){const r=t*a,i=(n-t-1)*a;o.set(e.subarray(r,r+a)),e.copyWithin(r,i,i+a),e.set(o,i)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let n=0;n<t;n+=4){const t=e[n+3];if(0!==t){const a=255.001/t;e[n]=e[n]*a+.5,e[n+1]=e[n+1]*a+.5,e[n+2]=e[n+2]*a+.5}}}};MK.extension={name:"extract",type:zH.RendererSystem};let zK=MK;$H.add(zK);const PK={build(e){const t=e.points;let n,a,r,o,i,s;if(e.type===dY.CIRC){const t=e.shape;n=t.x,a=t.y,i=s=t.radius,r=o=0}else if(e.type===dY.ELIP){const t=e.shape;n=t.x,a=t.y,i=t.width,s=t.height,r=o=0}else{const t=e.shape,l=t.width/2,c=t.height/2;n=t.x+l,a=t.y+c,i=s=Math.max(0,Math.min(t.radius,Math.min(l,c))),r=l-i,o=c-s}if(!(i>=0&&s>=0&&r>=0&&o>=0))return void(t.length=0);const l=Math.ceil(2.3*Math.sqrt(i+s)),c=8*l+(r?4:0)+(o?4:0);if(t.length=c,0===c)return;if(0===l)return t.length=8,t[0]=t[6]=n+r,t[1]=t[3]=a+o,t[2]=t[4]=n-r,void(t[5]=t[7]=a-o);let d=0,u=4*l+(r?2:0)+2,m=u,p=c;{const e=r+i,s=o,l=n+e,c=n-e,g=a+s;if(t[d++]=l,t[d++]=g,t[--u]=g,t[--u]=c,o){const e=a-s;t[m++]=c,t[m++]=e,t[--p]=e,t[--p]=l}}for(let e=1;e<l;e++){const c=Math.PI/2*(e/l),g=r+Math.cos(c)*i,h=o+Math.sin(c)*s,f=n+g,v=n-g,b=a+h,y=a-h;t[d++]=f,t[d++]=b,t[--u]=b,t[--u]=v,t[m++]=v,t[m++]=y,t[--p]=y,t[--p]=f}{const e=o+s,i=n+r,l=n-r,c=a+e,u=a-e;t[d++]=i,t[d++]=c,t[--p]=u,t[--p]=i,r&&(t[d++]=l,t[d++]=c,t[--p]=u,t[--p]=l)}},triangulate(e,t){const n=e.points,a=t.points,r=t.indices;if(0===n.length)return;let o=a.length/2;const i=o;let s,l;if(e.type!==dY.RREC){const t=e.shape;s=t.x,l=t.y}else{const t=e.shape;s=t.x+t.width/2,l=t.y+t.height/2}const c=e.matrix;a.push(e.matrix?c.a*s+c.c*l+c.tx:s,e.matrix?c.b*s+c.d*l+c.ty:l),o++,a.push(n[0],n[1]);for(let e=2;e<n.length;e+=2)a.push(n[e],n[e+1]),r.push(o++,i,o);r.push(i+1,i,o)}};function RK(e,t=!1){const n=e.length;if(n<6)return;let a=0;for(let t=0,r=e[n-2],o=e[n-1];t<n;t+=2){const n=e[t],i=e[t+1];a+=(n-r)*(i+o),r=n,o=i}if(!t&&a>0||t&&a<=0){const t=n/2;for(let a=t+t%2;a<n;a+=2){const t=n-a-2,r=n-a-1,o=a,i=a+1;[e[t],e[o]]=[e[o],e[t]],[e[r],e[i]]=[e[i],e[r]]}}}const $K={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let n=e.points;const a=e.holes,r=t.points,o=t.indices;if(n.length>=6){RK(n,!1);const e=[];for(let t=0;t<a.length;t++){const r=a[t];RK(r.points,!0),e.push(n.length/2),n=n.concat(r.points)}const t=BG(n,e,2);if(!t)return;const i=r.length/2;for(let e=0;e<t.length;e+=3)o.push(t[e]+i),o.push(t[e+1]+i),o.push(t[e+2]+i);for(let e=0;e<n.length;e++)r.push(n[e])}}},OK={build(e){const t=e.shape,n=t.x,a=t.y,r=t.width,o=t.height,i=e.points;i.length=0,r>=0&&o>=0&&i.push(n,a,n+r,a,n+r,a+o,n,a+o)},triangulate(e,t){const n=e.points,a=t.points;if(0===n.length)return;const r=a.length/2;a.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(r,r+1,r+2,r+1,r+2,r+3)}},LK={build(e){PK.build(e)},triangulate(e,t){PK.triangulate(e,t)}};var FK=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(FK||{}),jK=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(jK||{});const UK={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class qK{static curveTo(e,t,n,a,r,o){const i=o[o.length-2],s=o[o.length-1]-t,l=i-e,c=a-t,d=n-e,u=Math.abs(s*d-l*c);if(u<1e-8||0===r)return(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t),null;const m=s*s+l*l,p=c*c+d*d,g=s*c+l*d,h=r*Math.sqrt(m)/u,f=r*Math.sqrt(p)/u,v=h*g/m,b=f*g/p,y=h*d+f*l,x=h*c+f*s,k=l*(f+v),w=s*(f+v),E=d*(h+b),N=c*(h+b);return{cx:y+e,cy:x+t,radius:r,startAngle:Math.atan2(w-x,k-y),endAngle:Math.atan2(N-x,E-y),anticlockwise:l*c>d*s}}static arc(e,t,n,a,r,o,i,s,l){const c=i-o,d=UK._segmentsCount(Math.abs(c)*r,40*Math.ceil(Math.abs(c)/sY)),u=c/(2*d),m=2*u,p=Math.cos(u),g=Math.sin(u),h=d-1,f=h%1/h;for(let e=0;e<=h;++e){const t=u+o+m*(e+f*e),i=Math.cos(t),s=-Math.sin(t);l.push((p*i+g*s)*r+n,(p*-s+g*i)*r+a)}}}class GK{static curveLength(e,t,n,a,r,o,i,s){let l=0,c=0,d=0,u=0,m=0,p=0,g=0,h=0,f=0,v=0,b=0,y=e,x=t;for(let k=1;k<=10;++k)c=k/10,d=c*c,u=d*c,m=1-c,p=m*m,g=p*m,h=g*e+3*p*c*n+3*m*d*r+u*i,f=g*t+3*p*c*a+3*m*d*o+u*s,v=y-h,b=x-f,y=h,x=f,l+=Math.sqrt(v*v+b*b);return l}static curveTo(e,t,n,a,r,o,i){const s=i[i.length-2],l=i[i.length-1];i.length-=2;const c=UK._segmentsCount(GK.curveLength(s,l,e,t,n,a,r,o));let d=0,u=0,m=0,p=0,g=0;i.push(s,l);for(let h=1,f=0;h<=c;++h)f=h/c,d=1-f,u=d*d,m=u*d,p=f*f,g=p*f,i.push(m*s+3*u*f*e+3*d*p*n+g*r,m*l+3*u*f*t+3*d*p*a+g*o)}}function HK(e,t,n,a,r,o,i,s){let l,c;i?(l=a,c=-n):(l=-a,c=n);const d=e-n*r+l,u=t-a*r+c,m=e+n*o+l,p=t+a*o+c;return s.push(d,u,m,p),2}function YK(e,t,n,a,r,o,i,s){const l=n-e,c=a-t;let d=Math.atan2(l,c),u=Math.atan2(r-e,o-t);s&&d<u?d+=2*Math.PI:!s&&d>u&&(u+=2*Math.PI);let m=d;const p=u-d,g=Math.abs(p),h=Math.sqrt(l*l+c*c),f=1+(15*g*Math.sqrt(h)/Math.PI|0),v=p/f;if(m+=v,s){i.push(e,t,n,a);for(let n=1,a=m;n<f;n++,a+=v)i.push(e,t,e+Math.sin(a)*h,t+Math.cos(a)*h);i.push(e,t,r,o)}else{i.push(n,a,e,t);for(let n=1,a=m;n<f;n++,a+=v)i.push(e+Math.sin(a)*h,t+Math.cos(a)*h,e,t);i.push(r,o,e,t)}return 2*f}function WK(e,t){e.lineStyle.native?function(e,t){let n=0;const a=e.shape,r=e.points||a.points,o=a.type!==dY.POLY||a.closeStroke;if(0===r.length)return;const i=t.points,s=t.indices,l=r.length/2,c=i.length/2;let d=c;for(i.push(r[0],r[1]),n=1;n<l;n++)i.push(r[2*n],r[2*n+1]),s.push(d,d+1),d++;o&&s.push(d,c)}(e,t):function(e,t){const n=e.shape;let a=e.points||n.points.slice();const r=t.closePointEps;if(0===a.length)return;const o=e.lineStyle,i=new uY(a[0],a[1]),s=new uY(a[a.length-2],a[a.length-1]),l=n.type!==dY.POLY||n.closeStroke,c=Math.abs(i.x-s.x)<r&&Math.abs(i.y-s.y)<r;if(l){a=a.slice(),c&&(a.pop(),a.pop(),s.set(a[a.length-2],a[a.length-1]));const e=.5*(i.x+s.x),t=.5*(s.y+i.y);a.unshift(e,t),a.push(e,t)}const d=t.points,u=a.length/2;let m=a.length;const p=d.length/2,g=o.width/2,h=g*g,f=o.miterLimit*o.miterLimit;let v=a[0],b=a[1],y=a[2],x=a[3],k=0,w=0,E=-(b-x),N=v-y,S=0,_=0,V=Math.sqrt(E*E+N*N);E/=V,N/=V,E*=g,N*=g;const C=o.alignment,A=2*(1-C),D=2*C;l||(o.cap===jK.ROUND?m+=YK(v-E*(A-D)*.5,b-N*(A-D)*.5,v-E*A,b-N*A,v+E*D,b+N*D,d,!0)+2:o.cap===jK.SQUARE&&(m+=HK(v,b,E,N,A,D,!0,d))),d.push(v-E*A,b-N*A,v+E*D,b+N*D);for(let e=1;e<u-1;++e){v=a[2*(e-1)],b=a[2*(e-1)+1],y=a[2*e],x=a[2*e+1],k=a[2*(e+1)],w=a[2*(e+1)+1],E=-(b-x),N=v-y,V=Math.sqrt(E*E+N*N),E/=V,N/=V,E*=g,N*=g,S=-(x-w),_=y-k,V=Math.sqrt(S*S+_*_),S/=V,_/=V,S*=g,_*=g;const t=y-v,n=b-x,r=y-k,i=w-x,s=t*r+n*i,l=n*r-i*t,c=l<0;if(Math.abs(l)<.001*Math.abs(s)){d.push(y-E*A,x-N*A,y+E*D,x+N*D),s>=0&&(o.join===FK.ROUND?m+=YK(y,x,y-E*A,x-N*A,y-S*A,x-_*A,d,!1)+4:m+=2,d.push(y-S*D,x-_*D,y+S*A,x+_*A));continue}const u=(-E+v)*(-N+x)-(-E+y)*(-N+b),p=(-S+k)*(-_+x)-(-S+y)*(-_+w),C=(t*p-r*u)/l,T=(i*u-n*p)/l,B=(C-y)*(C-y)+(T-x)*(T-x),I=y+(C-y)*A,M=x+(T-x)*A,z=y-(C-y)*D,P=x-(T-x)*D,R=c?A:D,$=B<=Math.min(t*t+n*n,r*r+i*i)+R*R*h;let O=o.join;if(O===FK.MITER&&B/h>f&&(O=FK.BEVEL),$)switch(O){case FK.MITER:d.push(I,M,z,P);break;case FK.BEVEL:c?d.push(I,M,y+E*D,x+N*D,I,M,y+S*D,x+_*D):d.push(y-E*A,x-N*A,z,P,y-S*A,x-_*A,z,P),m+=2;break;case FK.ROUND:c?(d.push(I,M,y+E*D,x+N*D),m+=YK(y,x,y+E*D,x+N*D,y+S*D,x+_*D,d,!0)+4,d.push(I,M,y+S*D,x+_*D)):(d.push(y-E*A,x-N*A,z,P),m+=YK(y,x,y-E*A,x-N*A,y-S*A,x-_*A,d,!1)+4,d.push(y-S*A,x-_*A,z,P))}else{switch(d.push(y-E*A,x-N*A,y+E*D,x+N*D),O){case FK.MITER:c?d.push(z,P,z,P):d.push(I,M,I,M),m+=2;break;case FK.ROUND:m+=c?YK(y,x,y+E*D,x+N*D,y+S*D,x+_*D,d,!0)+2:YK(y,x,y-E*A,x-N*A,y-S*A,x-_*A,d,!1)+2}d.push(y-S*A,x-_*A,y+S*D,x+_*D),m+=2}}v=a[2*(u-2)],b=a[2*(u-2)+1],y=a[2*(u-1)],x=a[2*(u-1)+1],E=-(b-x),N=v-y,V=Math.sqrt(E*E+N*N),E/=V,N/=V,E*=g,N*=g,d.push(y-E*A,x-N*A,y+E*D,x+N*D),l||(o.cap===jK.ROUND?m+=YK(y-E*(A-D)*.5,x-N*(A-D)*.5,y-E*A,x-N*A,y+E*D,x+N*D,d,!1)+2:o.cap===jK.SQUARE&&(m+=HK(y,x,E,N,A,D,!1,d)));const T=t.indices,B=UK.epsilon*UK.epsilon;for(let e=p;e<m+p-2;++e)v=d[2*e],b=d[2*e+1],y=d[2*(e+1)],x=d[2*(e+1)+1],k=d[2*(e+2)],w=d[2*(e+2)+1],!(Math.abs(v*(x-w)+y*(w-b)+k*(b-x))<B)&&T.push(e,e+1,e+2)}(e,t)}class XK{static curveLength(e,t,n,a,r,o){const i=e-2*n+r,s=t-2*a+o,l=2*n-2*e,c=2*a-2*t,d=4*(i*i+s*s),u=4*(i*l+s*c),m=l*l+c*c,p=2*Math.sqrt(d+u+m),g=Math.sqrt(d),h=2*d*g,f=2*Math.sqrt(m),v=u/g;return(h*p+g*u*(p-f)+(4*m*d-u*u)*Math.log((2*g+v+p)/(v+f)))/(4*h)}static curveTo(e,t,n,a,r){const o=r[r.length-2],i=r[r.length-1],s=UK._segmentsCount(XK.curveLength(o,i,e,t,n,a));let l=0,c=0;for(let d=1;d<=s;++d){const u=d/s;l=o+(e-o)*u,c=i+(t-i)*u,r.push(l+(e+(n-e)*u-l)*u,c+(t+(a-t)*u-c)*u)}}}const JK={[dY.POLY]:$K,[dY.CIRC]:PK,[dY.ELIP]:PK,[dY.RECT]:OK,[dY.RREC]:LK},KK=[],ZK=[];class QK{constructor(e,t=null,n=null,a=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=a,this.type=e.type}clone(){return new QK(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}class eZ{constructor(){this.reset()}begin(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}const tZ=new uY,nZ=class e extends iY{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new zX,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ZK.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),KK.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,n=null,a=null){const r=new QK(e,t,n,a);return this.graphicsData.push(r),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const n=new QK(e,null,null,t),a=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=a.lineStyle,a.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let n=0;n<t.length;++n){const a=t[n];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(e,tZ):tZ.copyFrom(e),a.shape.contains(tZ.x,tZ.y))){let e=!1;if(a.holes)for(let t=0;t<a.holes.length;t++)if(a.holes[t].shape.contains(tZ.x,tZ.y)){e=!0;break}if(!e)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let n=null,a=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],a=n.style);for(let r=this.shapeIndex;r<t.length;r++){this.shapeIndex++;const o=t[r],i=o.fillStyle,s=o.lineStyle;JK[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(i.visible||s.visible)&&this.processHoles(o.holes);for(let t=0;t<2;t++){const r=0===t?i:s;if(!r.visible)continue;const l=r.texture.baseTexture,c=this.indices.length,d=this.points.length/2;l.wrapMode=nG.REPEAT,0===t?this.processFill(o):this.processLine(o);const u=this.points.length/2-d;0!==u&&(n&&!this._compareStyles(a,r)&&(n.end(c,d),n=null),n||(n=KK.pop()||new eZ,n.begin(r,c,d),this.batches.push(n),a=r),this.addUvs(this.points,e,r.texture,d,u,r.matrix))}}const r=this.indices.length,o=this.points.length/2;if(n&&n.end(r,o),0===this.batches.length)return void(this.batchable=!0);const i=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&i===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=i?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const t=this.graphicsData[e],n=t.fillStyle,a=t.lineStyle;if(n&&!n.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,n=e.length;t<n;t++){const n=e[t];for(let e=0;e<n.size;e++){const t=n.start+e;this.indicesUint16[t]=this.indicesUint16[t]-n.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE}buildDrawCalls(){let e=++JH._globalBatch;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ZK.push(this.drawCalls[e]);this.drawCalls.length=0;const t=this.colors,n=this.textureIds;let a=ZK.pop();a||(a=new KH,a.texArray=new JY),a.texArray.count=0,a.start=0,a.size=0,a.type=Jq.TRIANGLES;let r=0,o=null,i=0,s=!1,l=Jq.TRIANGLES,c=0;this.drawCalls.push(a);for(let d=0;d<this.batches.length;d++){const u=this.batches[d],m=8,p=u.style,g=p.texture.baseTexture;s!==!!p.native&&(s=!!p.native,l=s?Jq.LINES:Jq.TRIANGLES,o=null,r=m,e++),o!==g&&(o=g,g._batchEnabled!==e&&(r===m&&(e++,r=0,a.size>0&&(a=ZK.pop(),a||(a=new KH,a.texArray=new JY),this.drawCalls.push(a)),a.start=c,a.size=0,a.texArray.count=0,a.type=l),g.touched=1,g._batchEnabled=e,g._batchLocation=r,g.wrapMode=nG.REPEAT,a.texArray.elements[a.texArray.count++]=g,r++)),a.size+=u.size,c+=u.size,i=g._batchLocation,this.addColors(t,p.color,p.alpha,u.attribSize,u.attribStart),this.addTextureIds(n,i,u.attribSize,u.attribStart)}JH._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,n=this.colors,a=this.textureIds,r=new ArrayBuffer(3*e.length*4),o=new Float32Array(r),i=new Uint32Array(r);let s=0;for(let r=0;r<e.length/2;r++)o[s++]=e[2*r],o[s++]=e[2*r+1],o[s++]=t[2*r],o[s++]=t[2*r+1],i[s++]=n[r],o[s++]=a[r];this._buffer.update(r),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?$K.triangulate(e,this):JK[e.type].triangulate(e,this)}processLine(e){WK(e,this);for(let t=0;t<e.holes.length;t++)WK(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const n=e[t];JK[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let n=0;n<e.length/2;n++){const a=e[2*n],r=e[2*n+1];e[2*n]=t.a*a+t.c*r+t.tx,e[2*n+1]=t.b*a+t.d*r+t.ty}}addColors(e,t,n,a,r=0){const o=hH.shared.setValue(t).toLittleEndianNumber(),i=hH.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,r+a);for(let t=0;t<a;t++)e[r+t]=i}addTextureIds(e,t,n,a=0){e.length=Math.max(e.length,a+n);for(let r=0;r<n;r++)e[a+r]=t}addUvs(e,t,n,a,r,o=null){let i=0;const s=t.length,l=n.frame;for(;i<r;){let n=e[2*(a+i)],r=e[2*(a+i)+1];if(o){const e=o.a*n+o.c*r+o.tx;r=o.b*n+o.d*r+o.ty,n=e}i++,t.push(n/l.width,r/l.height)}const c=n.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(t,n,s,r)}adjustUvs(e,t,n,a){const r=t.baseTexture,o=1e-6,i=n+2*a,s=t.frame,l=s.width/r.width,c=s.height/r.height;let d=s.x/s.width,u=s.y/s.height,m=Math.floor(e[n]+o),p=Math.floor(e[n+1]+o);for(let t=n+2;t<i;t+=2)m=Math.min(m,Math.floor(e[t]+o)),p=Math.min(p,Math.floor(e[t+1]+o));d-=m,u-=p;for(let t=n;t<i;t+=2)e[t]=(e[t]+d)*l,e[t+1]=(e[t+1]+u)*c}};nZ.BATCHABLE_SIZE=100;let aZ=nZ;class rZ{constructor(){this.color=16777215,this.alpha=1,this.texture=pW.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new rZ;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=pW.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class oZ extends rZ{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=jK.BUTT,this.join=FK.MITER,this.miterLimit=10}clone(){const e=new oZ;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=jK.BUTT,this.join=FK.MITER,this.miterLimit=10}}const iZ={},sZ=class e extends FX{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new rZ,this._lineStyle=new oZ,this._matrix=null,this._holeMode=!1,this.state=jH.for2d(),this._geometry=e||new aZ,this._geometry.refCount++,this._transformID=-1,this._tintColor=new hH(16777215),this.blendMode=Xq.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new e(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,n,a=.5,r=!1){return"number"==typeof e&&(e={width:e,color:t,alpha:n,alignment:a,native:r}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:pW.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:jK.BUTT,join:FK.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new fY,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new fY,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,a=n[n.length-2],r=n[n.length-1];return(a!==e||r!==t)&&n.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,n,a){this._initCurve();const r=this.currentPath.points;return 0===r.length&&this.moveTo(0,0),XK.curveTo(e,t,n,a,r),this}bezierCurveTo(e,t,n,a,r,o){return this._initCurve(),GK.curveTo(e,t,n,a,r,o,this.currentPath.points),this}arcTo(e,t,n,a,r){this._initCurve(e,t);const o=this.currentPath.points,i=qK.curveTo(e,t,n,a,r,o);if(i){const{cx:e,cy:t,radius:n,startAngle:a,endAngle:r,anticlockwise:o}=i;this.arc(e,t,n,a,r,o)}return this}arc(e,t,n,a,r,o=!1){if(a===r)return this;if(!o&&r<=a?r+=sY:o&&a<=r&&(a+=sY),r-a===0)return this;const i=e+Math.cos(a)*n,s=t+Math.sin(a)*n,l=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const e=Math.abs(c[c.length-2]-i),t=Math.abs(c[c.length-1]-s);e<l&&t<l||c.push(i,s)}else this.moveTo(i,s),c=this.currentPath.points;return qK.arc(i,s,e,t,n,a,r,o,c),this}beginFill(e=0,t){return this.beginTextureFill({texture:pW.WHITE,color:e,alpha:t})}normalizeColor(e){const t=hH.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:pW.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,n,a){return this.drawShape(new pY(e,t,n,a))}drawRoundedRect(e,t,n,a,r){return this.drawShape(new vY(e,t,n,a,r))}drawCircle(e,t,n){return this.drawShape(new gY(e,t,n))}drawEllipse(e,t,n,a){return this.drawShape(new hY(e,t,n,a))}drawPolygon(...e){let t,n=!0;const a=e[0];a.points?(n=a.closeStroke,t=a.points):t=Array.isArray(e[0])?e[0]:e;const r=new fY(t);return r.closeStroke=n,this.drawShape(r),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==dY.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let a=0;a<n;a++){const n=e.batches[a],r=n.style.color,o=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),i=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),s={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:i,_batchRGB:hH.shared.setValue(r).toRgbArray(),_tintRGB:r,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[a]=s}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,n=this.batches.length;t<n;t++){const n=this.batches[t];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){const t=this._resolveDirectShader(e),n=this._geometry,a=this.worldAlpha,r=t.uniforms,o=n.drawCalls;r.translationMatrix=this.transform.worldTransform,hH.shared.setValue(this._tintColor).premultiply(a).toArray(r.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(let t=0,a=o.length;t<a;t++)this._renderDrawCallDirect(e,n.drawCalls[t])}_renderDrawCallDirect(e,t){const{texArray:n,type:a,size:r,start:o}=t,i=n.count;for(let t=0;t<i;t++)e.texture.bind(n.elements[t],t);e.geometry.draw(a,r,o)}_resolveDirectShader(e){let t=this.shader;const n=this.pluginName;if(!t){if(!iZ[n]){const{maxTextures:t}=e.plugins[n],a=new Int32Array(t);for(let e=0;e<t;e++)a[e]=e;const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new bY,default:YY.from({uSamplers:a},!0)},o=e.plugins[n]._shader.program;iZ[n]=new WY(o,r)}t=iZ[n]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:n,maxX:a,maxY:r}=e.bounds;this._bounds.addFrame(this.transform,t,n,a,r)}containsPoint(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=hH.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,n=t.a,a=t.b,r=t.c,o=t.d,i=t.tx,s=t.ty,l=this._geometry.points,c=this.vertexData;let d=0;for(let e=0;e<l.length;e+=2){const t=l[e],u=l[e+1];c[d++]=n*t+r*u+i,c[d++]=o*u+a*t+s}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};sZ.curves=UK,sZ._TEMP_POINT=new uY;let lZ=sZ;class cZ{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const dZ=new uY,uZ=new fY,mZ=class e extends FX{constructor(e,t,n,a=Jq.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=n||jH.for2d(),this.drawMode=a,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=mG.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(t){const n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Jq.TRIANGLES&&n.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const a=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[a]),e.plugins[a].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const a=this.transform.worldTransform,r=a.a,o=a.b,i=a.c,s=a.d,l=a.tx,c=a.ty,d=this.vertexData;for(let e=0;e<d.length/2;e++){const n=t[2*e],a=t[2*e+1];d[2*e]=r*n+i*a+l,d[2*e+1]=o*n+s*a+c}if(this._roundPixels){const e=mG.RESOLUTION;for(let t=0;t<d.length;++t)d[t]=Math.round(d[t]*e)/e}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new cZ(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,dZ);const t=this.geometry.getBuffer("aVertexPosition").data,n=uZ.points,a=this.geometry.getIndex().data,r=a.length,o=4===this.drawMode?3:1;for(let e=0;e+2<r;e+=o){const r=2*a[e],o=2*a[e+1],i=2*a[e+2];if(n[0]=t[r],n[1]=t[r+1],n[2]=t[o],n[3]=t[o+1],n[4]=t[i],n[5]=t[i+1],uZ.contains(dZ.x,dZ.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};mZ.BATCHABLE_SIZE=100;let pZ=mZ;class gZ extends oY{constructor(e,t,n){super();const a=new QH(e),r=new QH(t,!0),o=new QH(n,!0,!0);this.addAttribute("aVertexPosition",a,2,!1,Qq.FLOAT).addAttribute("aTextureCoord",r,2,!1,Qq.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}class hZ extends WY{constructor(e,t){const n={uSampler:e,alpha:1,uTextureMatrix:bY.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(n,t.uniforms),super(t.program||GY.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n),this._colorDirty=!1,this.uvMatrix=new CW(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new hH(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;hH.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class fZ{constructor(e,t,n){this.geometry=new oY,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let a=e[n];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Qq.FLOAT,offset:a.offset},t[n]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new QH(function(e,t=null){const n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${n}`);for(let e=0,a=0;e<n;e+=6,a+=4)t[e+0]=a+0,t[e+1]=a+1,t[e+2]=a+2,t[e+3]=a+0,t[e+4]=a+2,t[e+5]=a+3;return t}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let e=0;e<this.dynamicProperties.length;++e){const n=this.dynamicProperties[e];n.offset=t,t+=n.size,this.dynamicStride+=n.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new QH(this.dynamicData,!1,!1);let a=0;this.staticStride=0;for(let e=0;e<this.staticProperties.length;++e){const t=this.staticProperties[e];t.offset=a,a+=t.size,this.staticStride+=t.size}const r=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new QH(this.staticData,!0,!1);for(let t=0;t<this.dynamicProperties.length;++t){const n=this.dynamicProperties[t];e.addAttribute(n.attributeName,this.dynamicBuffer,0,n.type===Qq.UNSIGNED_BYTE,n.type,4*this.dynamicStride,4*n.offset)}for(let t=0;t<this.staticProperties.length;++t){const n=this.staticProperties[t];e.addAttribute(n.attributeName,this.staticBuffer,0,n.type===Qq.UNSIGNED_BYTE,n.type,4*this.staticStride,4*n.offset)}}uploadDynamic(e,t,n){for(let a=0;a<this.dynamicProperties.length;a++){const r=this.dynamicProperties[a];r.uploadFunction(e,t,n,r.type===Qq.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,n){for(let a=0;a<this.staticProperties.length;a++){const r=this.staticProperties[a];r.uploadFunction(e,t,n,r.type===Qq.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}class vZ extends KY{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new bY,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Qq.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=WY.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=jH.for2d()}render(e){const t=e.children,n=e._maxSize,a=e._batchSize,r=this.renderer;let o=t.length;if(0===o)return;o>n&&!e.autoResize&&(o=n);let i=e._buffers;i||(i=e._buffers=this.generateBuffers(e));const s=t[0]._texture.baseTexture,l=s.alphaMode>0;this.state.blendMode=vH(e.blendMode,l),r.state.set(this.state);const c=r.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=hH.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);let u=!1;for(let n=0,s=0;n<o;n+=a,s+=1){let l=o-n;l>a&&(l=a),s>=i.length&&i.push(this._generateOneMoreBuffer(e));const d=i[s];d.uploadDynamic(t,n,l);const m=e._bufferUpdateIDs[s]||0;u=u||d._updateID<m,u&&(d._updateID=e._updateID,d.uploadStatic(t,n,l)),r.geometry.bind(d.geometry),c.drawElements(c.TRIANGLES,6*l,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],n=e._maxSize,a=e._batchSize,r=e._properties;for(let e=0;e<n;e+=a)t.push(new fZ(this.properties,r,a));return t}_generateOneMoreBuffer(e){const t=e._batchSize,n=e._properties;return new fZ(this.properties,n,t)}uploadVertices(e,t,n,a,r,o){let i=0,s=0,l=0,c=0;for(let d=0;d<n;++d){const n=e[t+d],u=n._texture,m=n.scale.x,p=n.scale.y,g=u.trim,h=u.orig;g?(s=g.x-n.anchor.x*h.width,i=s+g.width,c=g.y-n.anchor.y*h.height,l=c+g.height):(i=h.width*(1-n.anchor.x),s=h.width*-n.anchor.x,l=h.height*(1-n.anchor.y),c=h.height*-n.anchor.y),a[o]=s*m,a[o+1]=c*p,a[o+r]=i*m,a[o+r+1]=c*p,a[o+2*r]=i*m,a[o+2*r+1]=l*p,a[o+3*r]=s*m,a[o+3*r+1]=l*p,o+=4*r}}uploadPosition(e,t,n,a,r,o){for(let i=0;i<n;i++){const n=e[t+i].position;a[o]=n.x,a[o+1]=n.y,a[o+r]=n.x,a[o+r+1]=n.y,a[o+2*r]=n.x,a[o+2*r+1]=n.y,a[o+3*r]=n.x,a[o+3*r+1]=n.y,o+=4*r}}uploadRotation(e,t,n,a,r,o){for(let i=0;i<n;i++){const n=e[t+i].rotation;a[o]=n,a[o+r]=n,a[o+2*r]=n,a[o+3*r]=n,o+=4*r}}uploadUvs(e,t,n,a,r,o){for(let i=0;i<n;++i){const n=e[t+i]._texture._uvs;n?(a[o]=n.x0,a[o+1]=n.y0,a[o+r]=n.x1,a[o+r+1]=n.y1,a[o+2*r]=n.x2,a[o+2*r+1]=n.y2,a[o+3*r]=n.x3,a[o+3*r+1]=n.y3,o+=4*r):(a[o]=0,a[o+1]=0,a[o+r]=0,a[o+r+1]=0,a[o+2*r]=0,a[o+2*r+1]=0,a[o+3*r]=0,a[o+3*r+1]=0,o+=4*r)}}uploadTint(e,t,n,a,r,o){for(let i=0;i<n;++i){const n=e[t+i],s=hH.shared.setValue(n._tintRGB).toPremultiplied(n.alpha,n.texture.baseTexture.alphaMode>0);a[o]=s,a[o+r]=s,a[o+2*r]=s,a[o+3*r]=s,o+=4*r}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}vZ.extension={name:"particle",type:zH.RendererPlugin},$H.add(vZ);var bZ=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(bZ||{});const yZ={willReadFrequently:!0},xZ=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0!==t){const n=mG.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(e,t,n,a,r,o,i,s,l){this.text=e,this.style=t,this.width=n,this.height=a,this.lines=r,this.lineWidths=o,this.lineHeight=i,this.maxLineWidth=s,this.fontProperties=l}static measureText(t,n,a,r=e._canvas){a=a??n.wordWrap;const o=n.toFontString(),i=e.measureFont(o);0===i.fontSize&&(i.fontSize=n.fontSize,i.ascent=n.fontSize);const s=r.getContext("2d",yZ);s.font=o;const l=(a?e.wordWrap(t,n,r):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let d=0;for(let t=0;t<l.length;t++){const a=e._measureText(l[t],n.letterSpacing,s);c[t]=a,d=Math.max(d,a)}let u=d+n.strokeThickness;n.dropShadow&&(u+=n.dropShadowDistance);const m=n.lineHeight||i.fontSize+n.strokeThickness;let p=Math.max(m,i.fontSize+2*n.strokeThickness)+n.leading+(l.length-1)*(m+n.leading);return n.dropShadow&&(p+=n.dropShadowDistance),new e(t,n,u,p,l,c,m+n.leading,d,i)}static _measureText(t,n,a){let r=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(a.letterSpacing=`${n}px`,a.textLetterSpacing=`${n}px`,r=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px"));let o=a.measureText(t).width;return o>0&&(r?o-=n:o+=(e.graphemeSegmenter(t).length-1)*n),o}static wordWrap(t,n,a=e._canvas){const r=a.getContext("2d",yZ);let o=0,i="",s="";const l=Object.create(null),{letterSpacing:c,whiteSpace:d}=n,u=e.collapseSpaces(d),m=e.collapseNewlines(d);let p=!u;const g=n.wordWrapWidth+c,h=e.tokenize(t);for(let t=0;t<h.length;t++){let a=h[t];if(e.isNewline(a)){if(!m){s+=e.addLine(i),p=!u,i="",o=0;continue}a=" "}if(u){const t=e.isBreakingSpace(a),n=e.isBreakingSpace(i[i.length-1]);if(t&&n)continue}const d=e.getFromCache(a,c,l,r);if(d>g)if(""!==i&&(s+=e.addLine(i),i="",o=0),e.canBreakWords(a,n.breakWords)){const t=e.wordWrapSplit(a);for(let d=0;d<t.length;d++){let u=t[d],m=u,h=1;for(;t[d+h];){const r=t[d+h];if(e.canBreakChars(m,r,a,d,n.breakWords))break;u+=r,m=r,h++}d+=h-1;const f=e.getFromCache(u,c,l,r);f+o>g&&(s+=e.addLine(i),p=!1,i="",o=0),i+=u,o+=f}}else{i.length>0&&(s+=e.addLine(i),i="",o=0);const n=t===h.length-1;s+=e.addLine(a,!n),p=!1,i="",o=0}else d+o>g&&(p=!1,s+=e.addLine(i),i="",o=0),(i.length>0||!e.isBreakingSpace(a)||p)&&(i+=a,o+=d)}return s+=e.addLine(i,!1),s}static addLine(t,n=!0){return t=e.trimRight(t),n?`${t}\n`:t}static getFromCache(t,n,a,r){let o=a[t];return"number"!=typeof o&&(o=e._measureText(t,n,r)+n,a[t]=o),o}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(t){if("string"!=typeof t)return"";for(let n=t.length-1;n>=0;n--){const a=t[n];if(!e.isBreakingSpace(a))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const n=[];let a="";if("string"!=typeof t)return n;for(let r=0;r<t.length;r++){const o=t[r],i=t[r+1];e.isBreakingSpace(o,i)||e.isNewline(o)?(""!==a&&(n.push(a),a=""),n.push(o)):a+=o}return""!==a&&n.push(a),n}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,a,r){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];const n={ascent:0,descent:0,fontSize:0},a=e._canvas,r=e._context;r.font=t;const o=e.METRICS_STRING+e.BASELINE_SYMBOL,i=Math.ceil(r.measureText(o).width);let s=Math.ceil(r.measureText(e.BASELINE_SYMBOL).width);const l=Math.ceil(e.HEIGHT_MULTIPLIER*s);if(s=s*e.BASELINE_MULTIPLIER|0,0===i||0===l)return e._fonts[t]=n,n;a.width=i,a.height=l,r.fillStyle="#f00",r.fillRect(0,0,i,l),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o,0,s);const c=r.getImageData(0,0,i,l).data,d=c.length,u=4*i;let m=0,p=0,g=!1;for(m=0;m<s;++m){for(let e=0;e<u;e+=4)if(255!==c[p+e]){g=!0;break}if(g)break;p+=u}for(n.ascent=s-m,p=d-u,g=!1,m=l;m>s;--m){for(let e=0;e<u;e+=4)if(255!==c[p+e]){g=!0;break}if(g)break;p-=u}return n.descent=m-s,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n}static clearMetrics(t=""){t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",yZ)?.measureText)return e.__canvas=n,n;t=mG.ADAPTER.createCanvas()}catch{t=mG.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",yZ)),e.__context}};xZ.METRICS_STRING="|√âq√Ö",xZ.BASELINE_SYMBOL="M",xZ.BASELINE_MULTIPLIER=1.4,xZ.HEIGHT_MULTIPLIER=2,xZ.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map(e=>e.segment)}return e=>[...e]})(),xZ.experimentalLetterSpacing=!1,xZ._fonts={},xZ._newlines=[10,13],xZ._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let kZ=xZ;const wZ=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],EZ=class e{constructor(e){this.styleID=0,this.reset(),_Z(this,e,e)}clone(){const t={};return _Z(t,this,e.defaultStyle),new e(t)}reset(){_Z(this,e.defaultStyle,e.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=SZ(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=SZ(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=SZ(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let e=t.length-1;e>=0;e--){let n=t[e].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!wZ.includes(n)&&(n=`"${n}"`),t[e]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};EZ.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:bZ.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let NZ=EZ;function SZ(e){const t=hH.shared,n=e=>{const n=t.setValue(e);return 1===n.alpha?n.toHex():n.toRgbaString()};return Array.isArray(e)?e.map(n):n(e)}function _Z(e,t,n){for(const a in n)Array.isArray(t[a])?e[a]=t[a].slice():e[a]=t[a]}const VZ={texture:!0,children:!1,baseTexture:!0},CZ=class e extends qX{constructor(t,n,a){let r=!1;a||(a=mG.ADAPTER.createCanvas(),r=!0),a.width=3,a.height=3;const o=pW.from(a);o.orig=new pY,o.trim=new pY,super(o),this._ownCanvas=r,this.canvas=a,this.context=a.getContext("2d",{willReadFrequently:!0}),this._resolution=e.defaultResolution??mG.RESOLUTION,this._autoResolution=e.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=n,this.localStyleID=-1}static get experimentalLetterSpacing(){return kZ.experimentalLetterSpacing}static set experimentalLetterSpacing(e){MG("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),kZ.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,a=kZ.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),r=a.width,o=a.height,i=a.lines,s=a.lineHeight,l=a.lineWidths,c=a.maxLineWidth,d=a.fontProperties;let u,m;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,r)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*t.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;const p=t.dropShadow?2:1;for(let e=0;e<p;++e){const r=t.dropShadow&&0===e,p=r?Math.ceil(Math.max(1,o)+2*t.padding):0,g=p*this._resolution;if(r){n.fillStyle="black",n.strokeStyle="black";const e=t.dropShadowColor,a=t.dropShadowBlur*this._resolution,r=t.dropShadowDistance*this._resolution;n.shadowColor=hH.shared.setValue(e).setAlpha(t.dropShadowAlpha).toRgbaString(),n.shadowBlur=a,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*r,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*r+g}else n.fillStyle=this._generateFillStyle(t,i,a),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let h=(s-d.fontSize)/2;s-d.fontSize<0&&(h=0);for(let e=0;e<i.length;e++)u=t.strokeThickness/2,m=t.strokeThickness/2+e*s+d.ascent+h,"right"===t.align?u+=c-l[e]:"center"===t.align&&(u+=(c-l[e])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(i[e],u+t.padding,m+t.padding-p,!0),t.fill&&this.drawLetterSpacing(i[e],u+t.padding,m+t.padding-p)}this.updateTexture()}drawLetterSpacing(e,t,n,a=!1){const r=this._style.letterSpacing;let o=!1;if(kZ.experimentalLetterSpacingSupported&&(kZ.experimentalLetterSpacing?(this.context.letterSpacing=`${r}px`,this.context.textLetterSpacing=`${r}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===r||o)return void(a?this.context.strokeText(e,t,n):this.context.fillText(e,t,n));let i=t;const s=kZ.graphemeSegmenter(e);let l=this.context.measureText(e).width,c=0;for(let e=0;e<s.length;++e){const t=s[e];a?this.context.strokeText(t,i,n):this.context.fillText(t,i,n);let o="";for(let t=e+1;t<s.length;++t)o+=s[t];c=this.context.measureText(o).width,i+=l-c+r,l=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const t=function(e){const t=function(e){const{width:t,height:n}=e,a=e.getContext("2d",{willReadFrequently:!0});if(null===a)throw new TypeError("Failed to get canvas 2D context");const r=a.getImageData(0,0,t,n).data;let o=0,i=0,s=t-1,l=n-1;for(;i<n&&BH(r,t,i);)++i;if(i===n)return VH.EMPTY;for(;BH(r,t,l);)--l;for(;IH(r,t,o,i,l);)++o;for(;IH(r,t,s,i,l);)--s;return++s,++l,new VH(o,i,s,l)}(e),{width:n,height:a}=t;let r=null;if(!t.isEmpty()){const o=e.getContext("2d");if(null===o)throw new TypeError("Failed to get canvas 2D context");r=o.getImageData(t.left,t.top,n,a)}return{width:n,height:a,data:r}}(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}const t=this._texture,n=this._style,a=n.trim?0:n.padding,r=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-a,t.trim.y=-a,t.orig.width=t._frame.width-2*a,t.orig.height=t._frame.height-2*a,this._onTextureUpdate(),r.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,n){const a=e.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];let r;const o=e.dropShadow?e.dropShadowDistance:0,i=e.padding||0,s=this.canvas.width/this._resolution-o-2*i,l=this.canvas.height/this._resolution-o-2*i,c=a.slice(),d=e.fillGradientStops.slice();if(!d.length){const e=c.length+1;for(let t=1;t<e;++t)d.push(t/e)}if(c.unshift(a[0]),d.unshift(0),c.push(a[a.length-1]),d.push(1),e.fillGradientType===bZ.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,i,s/2,l+i);const a=n.fontProperties.fontSize+e.strokeThickness;for(let e=0;e<t.length;e++){const o=n.lineHeight*(e-1)+a,i=n.lineHeight*e;let s=i;e>0&&o>i&&(s=(i+o)/2);const u=i+a,m=n.lineHeight*(e+1);let p=u;e+1<t.length&&m<u&&(p=(u+m)/2);const g=(p-s)/l;for(let e=0;e<c.length;e++){let t=0;t="number"==typeof d[e]?d[e]:e/c.length;let n=Math.min(1,Math.max(0,s/l+t*g));n=Number(n.toFixed(5)),r.addColorStop(n,c[e])}}}else{r=this.context.createLinearGradient(i,l/2,s+i,l/2);const e=c.length+1;let t=1;for(let n=0;n<c.length;n++){let a;a="number"==typeof d[n]?d[n]:t/e,r.addColorStop(a,c[n]),t++}}return r}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},VZ,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=EH(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=EH(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},this._style=e instanceof NZ?e:new NZ(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};CZ.defaultAutoResolution=!0;let AZ=CZ;class DZ{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function TZ(e,t){let n=!1;if(e?._textures?.length)for(let a=0;a<e._textures.length;a++)if(e._textures[a]instanceof pW){const r=e._textures[a].baseTexture;t.includes(r)||(t.push(r),n=!0)}return n}function BZ(e,t){if(e.baseTexture instanceof JH){const n=e.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function IZ(e,t){if(e._texture&&e._texture instanceof pW){const n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function MZ(e,t){return t instanceof AZ&&(t.updateText(!0),!0)}function zZ(e,t){if(t instanceof NZ){const e=t.toFontString();return kZ.measureFont(e),!0}return!1}function PZ(e,t){if(e instanceof AZ){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);const n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function RZ(e,t){return e instanceof NZ&&(t.includes(e)||t.push(e),!0)}const $Z=class e{constructor(t){this.limiter=new DZ(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(PZ),this.registerFindHook(RZ),this.registerFindHook(TZ),this.registerFindHook(BZ),this.registerFindHook(IZ),this.registerUploadHook(MZ),this.registerUploadHook(zZ)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,vX.system.addOnce(this.tick,this,gX.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed)for(let n=0,a=this.uploadHooks.length;n<a;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)vX.system.addOnce(this.tick,this,gX.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,n=e.length;t<n;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof FX)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&vX.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};$Z.uploadsPerFrame=4;let OZ=$Z;function LZ(e,t){return t instanceof JH&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function FZ(e,t){if(!(t instanceof lZ))return!1;const{geometry:n}=t;t.finishPoly(),n.updateBatches();const{batches:a}=n;for(let t=0;t<a.length;t++){const{texture:n}=a[t].style;n&&LZ(e,n.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function jZ(e,t){return e instanceof lZ&&(t.push(e),!0)}Object.defineProperties(mG,{UPLOADS_PER_FRAME:{get:()=>OZ.uploadsPerFrame,set(e){MG("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),OZ.uploadsPerFrame=e}}});class UZ extends OZ{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(jZ),this.registerUploadHook(LZ),this.registerUploadHook(FZ)}}UZ.extension={name:"prepare",type:zH.RendererSystem},$H.add(UZ),new uY;var qZ="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";const GZ=new bY;class HZ extends KY{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new vW,this.state=jH.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=WY.from(qZ,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?WY.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):WY.from(qZ,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}render(e){const t=this.renderer,n=this.quad;let a=n.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y);const r=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;a=n.uvs,a[0]=a[6]=-r,a[1]=a[3]=-o,a[2]=a[4]=1-r,a[5]=a[7]=1-o,n.invalidate();const i=e._texture,s=i.baseTexture,l=s.alphaMode>0,c=e.tileTransform.localTransform,d=e.uvMatrix;let u=s.isPowerOfTwo&&i.frame.width===s.width&&i.frame.height===s.height;u&&(s._glTextures[t.CONTEXT_UID]?u=s.wrapMode!==nG.CLAMP:s.wrapMode===nG.CLAMP&&(s.wrapMode=nG.REPEAT));const m=u?this.simpleShader:this.shader,p=i.width,g=i.height,h=e._width,f=e._height;GZ.set(c.a*p/h,c.b*p/f,c.c*g/h,c.d*g/f,c.tx/h,c.ty/f),GZ.invert(),u?GZ.prepend(d.mapCoord):(m.uniforms.uMapCoord=d.mapCoord.toArray(!0),m.uniforms.uClampFrame=d.uClampFrame,m.uniforms.uClampOffset=d.uClampOffset),m.uniforms.uTransform=GZ.toArray(!0),m.uniforms.uColor=hH.shared.setValue(e.tint).premultiply(e.worldAlpha,l).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=i,t.shader.bind(m),t.geometry.bind(n),this.state.blendMode=vH(e.blendMode,l),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}HZ.extension={name:"tilingSprite",type:zH.RendererPlugin},$H.add(HZ);const YZ=class e{constructor(e,t,n){this.linkedSheets=[],(e instanceof JH||e instanceof pW)&&(e={texture:e,data:t,resolutionFilename:n});const{texture:a,data:r,resolutionFilename:o=null,cachePrefix:i=""}=e;this.cachePrefix=i,this._texture=a instanceof pW?a:null,this.baseTexture=a instanceof JH?a:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const s=this.baseTexture.resource;this.resolution=this._updateResolution(o||(s?s.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let n=MH(e,null);return null===n&&(n="number"==typeof t?t:parseFloat(t??"1")),1!==n&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const a=e.BATCH_SIZE;for(;n-t<a&&n<this._frameKeys.length;){const e=this._frameKeys[n],t=this._frames[e],a=t.frame;if(a){let n=null,r=null;const o=!1!==t.trimmed&&t.sourceSize?t.sourceSize:t.frame,i=new pY(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);n=t.rotated?new pY(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new pY(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==t.trimmed&&t.spriteSourceSize&&(r=new pY(Math.floor(t.spriteSourceSize.x)/this.resolution,Math.floor(t.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[e]=new pW(this.baseTexture,n,i,r,t.rotated?2:0,t.anchor,t.borders),pW.addToCache(this.textures[e],this.cachePrefix+e.toString())}n++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let n=0;n<e[t].length;n++){const a=e[t][n];this.animations[t].push(this.textures[a])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*e.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};YZ.BATCH_SIZE=1e3;let WZ=YZ;const XZ=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function JZ(e,t,n){const a={};if(e.forEach(e=>{a[e]=t}),Object.keys(t.textures).forEach(e=>{a[`${t.cachePrefix}${e}`]=t.textures[e]}),!n){const n=RG.dirname(e[0]);t.linkedSheets.forEach((e,r)=>{Object.assign(a,JZ([`${n}/${t.data.meta.related_multi_packs[r]}`],e,!0))})}return a}const KZ={extension:zH.Asset,cache:{test:e=>e instanceof WZ,getCacheableAssets:(e,t)=>JZ(e,t,!1)},resolver:{test:e=>{const t=e.split("?")[0].split("."),n=t.pop(),a=t.pop();return"json"===n&&XZ.includes(a)},parse:e=>{const t=e.split(".");return{resolution:parseFloat(mG.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:zH.LoadParser,priority:wJ.Normal},testParse:async(e,t)=>".json"===RG.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,n){const{texture:a,imageFilename:r,cachePrefix:o}=t?.data??{};let i,s=RG.dirname(t.src);if(s&&s.lastIndexOf("/")!==s.length-1&&(s+="/"),a&&a.baseTexture)i=a;else{const a=dK(s+(r??e.meta.image),t.src);i=(await n.load([a]))[a]}const l=new WZ({texture:i.baseTexture,data:e,resolutionFilename:t.src,cachePrefix:o});await l.parse();const c=e?.meta?.related_multi_packs;if(Array.isArray(c)){const e=[];for(const a of c){if("string"!=typeof a)continue;let r=s+a;t.data?.ignoreMultiPack||(r=dK(r,t.src),e.push(n.load({src:r,data:{ignoreMultiPack:!0}})))}const a=await Promise.all(e);l.linkedSheets=a,a.forEach(e=>{e.linkedSheets=[l].concat(l.linkedSheets.filter(t=>t!==e))})}return l},unload(e){e.destroy(!0)}}};$H.add(KZ);class ZZ{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class QZ{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const e in t){const a=t[e].match(/^[a-z]+/gm)[0],r=t[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(const e in r){const t=r[e].split("="),n=t[0],a=t[1].replace(/"/gm,""),i=parseFloat(a),s=isNaN(i)?a:i;o[n]=s}n[a].push(o)}const a=new ZZ;return n.info.forEach(e=>a.info.push({face:e.face,size:parseInt(e.size,10)})),n.common.forEach(e=>a.common.push({lineHeight:parseInt(e.lineHeight,10)})),n.page.forEach(e=>a.page.push({id:parseInt(e.id,10),file:e.file})),n.char.forEach(e=>a.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})),n.kerning.forEach(e=>a.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})),n.distanceField.forEach(e=>a.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})),a}}class eQ{static test(e){const t=e;return"string"!=typeof e&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){const t=new ZZ,n=e.getElementsByTagName("info"),a=e.getElementsByTagName("common"),r=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),i=e.getElementsByTagName("kerning"),s=e.getElementsByTagName("distanceField");for(let e=0;e<n.length;e++)t.info.push({face:n[e].getAttribute("face"),size:parseInt(n[e].getAttribute("size"),10)});for(let e=0;e<a.length;e++)t.common.push({lineHeight:parseInt(a[e].getAttribute("lineHeight"),10)});for(let e=0;e<r.length;e++)t.page.push({id:parseInt(r[e].getAttribute("id"),10)||0,file:r[e].getAttribute("file")});for(let e=0;e<o.length;e++){const n=o[e];t.char.push({id:parseInt(n.getAttribute("id"),10),page:parseInt(n.getAttribute("page"),10)||0,x:parseInt(n.getAttribute("x"),10),y:parseInt(n.getAttribute("y"),10),width:parseInt(n.getAttribute("width"),10),height:parseInt(n.getAttribute("height"),10),xoffset:parseInt(n.getAttribute("xoffset"),10),yoffset:parseInt(n.getAttribute("yoffset"),10),xadvance:parseInt(n.getAttribute("xadvance"),10)})}for(let e=0;e<i.length;e++)t.kerning.push({first:parseInt(i[e].getAttribute("first"),10),second:parseInt(i[e].getAttribute("second"),10),amount:parseInt(i[e].getAttribute("amount"),10)});for(let e=0;e<s.length;e++)t.distanceField.push({fieldType:s[e].getAttribute("fieldType"),distanceRange:parseInt(s[e].getAttribute("distanceRange"),10)});return t}}class tQ{static test(e){return!("string"!=typeof e||!e.includes("<font>"))&&eQ.test(mG.ADAPTER.parseXML(e))}static parse(e){return eQ.parse(mG.ADAPTER.parseXML(e))}}const nQ=[QZ,eQ,tQ];function aQ(e,t,n,a,r,o,i){const s=n.text,l=n.fontProperties;t.translate(a,r),t.scale(o,o);const c=i.strokeThickness/2,d=-i.strokeThickness/2;if(t.font=i.toFontString(),t.lineWidth=i.strokeThickness,t.textBaseline=i.textBaseline,t.lineJoin=i.lineJoin,t.miterLimit=i.miterLimit,t.fillStyle=function(e,t,n,a,r,o){const i=n.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];let s;const l=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,d=e.width/a-l-2*c,u=e.height/a-l-2*c,m=i.slice(),p=n.fillGradientStops.slice();if(!p.length){const e=m.length+1;for(let t=1;t<e;++t)p.push(t/e)}if(m.unshift(i[0]),p.unshift(0),m.push(i[i.length-1]),p.push(1),n.fillGradientType===bZ.LINEAR_VERTICAL){s=t.createLinearGradient(d/2,c,d/2,u+c);let e=0;const a=(o.fontProperties.fontSize+n.strokeThickness)/u;for(let t=0;t<r.length;t++){const n=o.lineHeight*t;for(let t=0;t<m.length;t++){let r=0;r="number"==typeof p[t]?p[t]:t/m.length;const o=n/u+r*a;let i=Math.max(e,o);i=Math.min(i,1),s.addColorStop(i,m[t]),e=i}}}else{s=t.createLinearGradient(c,u/2,d+c,u/2);const e=m.length+1;let n=1;for(let t=0;t<m.length;t++){let a;a="number"==typeof p[t]?p[t]:n/e,s.addColorStop(a,m[t]),n++}}return s}(e,t,i,o,[s],n),t.strokeStyle=i.stroke,i.dropShadow){const e=i.dropShadowColor,n=i.dropShadowBlur*o,a=i.dropShadowDistance*o;t.shadowColor=hH.shared.setValue(e).setAlpha(i.dropShadowAlpha).toRgbaString(),t.shadowBlur=n,t.shadowOffsetX=Math.cos(i.dropShadowAngle)*a,t.shadowOffsetY=Math.sin(i.dropShadowAngle)*a}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;i.stroke&&i.strokeThickness&&t.strokeText(s,c,d+n.lineHeight-l.descent),i.fill&&t.fillText(s,c,d+n.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function rQ(e){return Array.from?Array.from(e):e.split("")}function oQ(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}const iQ=class e{constructor(e,t,n){const[a]=e.info,[r]=e.common,[o]=e.page,[i]=e.distanceField,s=MH(o.file),l={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=r.lineHeight/s,this.chars={},this.pageTextures=l;for(let n=0;n<e.page.length;n++){const{id:a,file:r}=e.page[n];l[a]=t instanceof Array?t[n]:t[r],i?.fieldType&&"none"!==i.fieldType&&(l[a].baseTexture.alphaMode=rG.NO_PREMULTIPLIED_ALPHA,l[a].baseTexture.mipmap=aG.OFF)}for(let t=0;t<e.char.length;t++){const{id:n,page:a}=e.char[t];let{x:r,y:o,width:i,height:c,xoffset:d,yoffset:u,xadvance:m}=e.char[t];r/=s,o/=s,i/=s,c/=s,d/=s,u/=s,m/=s;const p=new pY(r+l[a].frame.x/s,o+l[a].frame.y/s,i,c);this.chars[n]={xOffset:d,yOffset:u,xAdvance:m,kerning:{},texture:new pW(l[a].baseTexture,p),page:a}}for(let t=0;t<e.kerning.length;t++){let{first:n,second:a,amount:r}=e.kerning[t];n/=s,a/=s,r/=s,this.chars[a]&&(this.chars[a].kerning[n]=r)}this.distanceFieldRange=i?.distanceRange,this.distanceFieldType=i?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(t,n,a){let r;if(t instanceof ZZ)r=t;else{const e=function(e){for(let t=0;t<nQ.length;t++)if(nQ[t].test(e))return nQ[t];return null}(t);if(!e)throw new Error("Unrecognized data format for font.");r=e.parse(t)}n instanceof pW&&(n=[n]);const o=new e(r,n,a);return e.available[o.font]=o,o}static uninstall(t){const n=e.available[t];if(!n)throw new Error(`No font found named '${t}'`);n.destroy(),delete e.available[t]}static from(t,n,a){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:o,resolution:i,textureWidth:s,textureHeight:l,...c}=Object.assign({},e.defaultOptions,a),d=function(e){"string"==typeof e&&(e=[e]);const t=[];for(let n=0,a=e.length;n<a;n++){const a=e[n];if(Array.isArray(a)){if(2!==a.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${a.length}.`);const e=a[0].charCodeAt(0),n=a[1].charCodeAt(0);if(n<e)throw new Error("[BitmapFont]: Invalid character range.");for(let a=e,r=n;a<=r;a++)t.push(String.fromCharCode(a))}else t.push(...rQ(a))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(r),u=n instanceof NZ?n:new NZ(n),m=s,p=new ZZ;p.info[0]={face:u.fontFamily,size:u.fontSize},p.common[0]={lineHeight:u.fontSize};let g,h,f,v=0,b=0,y=0;const x=[],k=[];for(let e=0;e<d.length;e++){g||(g=mG.ADAPTER.createCanvas(),g.width=s,g.height=l,h=g.getContext("2d"),f=new JH(g,{resolution:i,...c}),x.push(f),k.push(new pW(f)),p.page.push({id:k.length-1,file:""}));const t=d[e],n=kZ.measureText(t,u,!1,g),a=n.width,r=Math.ceil(n.height),w=Math.ceil(("italic"===u.fontStyle?2:1)*a);if(b>=l-r*i){if(0===b)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${u.fontFamily}', fontSize: ${u.fontSize}px, char: '${t}')`);--e,g=null,h=null,f=null,b=0,v=0,y=0;continue}if(y=Math.max(r+n.fontProperties.descent,y),w*i+v>=m){if(0===v)throw new Error(`[BitmapFont] textureWidth ${s}px is too small (fontFamily: '${u.fontFamily}', fontSize: ${u.fontSize}px, char: '${t}')`);--e,b+=y*i,b=Math.ceil(b),v=0,y=0;continue}aQ(g,h,n,v,b,i,u);const E=oQ(n.text);p.char.push({id:E,page:k.length-1,x:v/i,y:b/i,width:w,height:r,xoffset:0,yoffset:0,xadvance:a-(u.dropShadow?u.dropShadowDistance:0)-(u.stroke?u.strokeThickness:0)}),v+=(w+2*o)*i,v=Math.ceil(v)}if(!a?.skipKerning)for(let e=0,t=d.length;e<t;e++){const n=d[e];for(let e=0;e<t;e++){const t=d[e],a=h.measureText(n).width,r=h.measureText(t).width,o=h.measureText(n+t).width-(a+r);o&&p.kerning.push({first:oQ(n),second:oQ(t),amount:o})}}const w=new e(p,k,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=w,w}};iQ.ALPHA=[["a","z"],["A","Z"]," "],iQ.NUMERIC=[["0","9"]],iQ.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],iQ.ASCII=[[" ","~"]],iQ.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:iQ.ALPHANUMERIC},iQ.available={};let sQ=iQ;const lQ=[],cQ=[],dQ=[];(class e extends FX{constructor(t,n={}){super();const{align:a,tint:r,maxWidth:o,letterSpacing:i,fontName:s,fontSize:l}=Object.assign({},e.styleDefaults,n);if(!sQ.available[s])throw new Error(`Missing BitmapFont "${s}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=a,this._tintColor=new hH(r),this._font=void 0,this._fontName=s,this._fontSize=l,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=i,this._anchor=new VY(()=>{this.dirty=!0},this,0,0),this._roundPixels=mG.ROUND_PIXELS,this.dirty=!0,this._resolution=mG.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=sQ.available[this._fontName],t=this.fontSize,n=t/e.size,a=new uY,r=[],o=[],i=[],s=rQ(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*e.size/t,c="none"===e.distanceFieldType?lQ:cQ;let d=null,u=0,m=0,p=0,g=-1,h=0,f=0,v=0,b=0;for(let t=0;t<s.length;t++){const n=s[t],c=oQ(n);if(/(?:\s)/.test(n)&&(g=t,h=u,b++),"\r"===n||"\n"===n){o.push(u),i.push(-1),m=Math.max(m,u),++p,++f,a.x=0,a.y+=e.lineHeight,d=null,b=0;continue}const y=e.chars[c];if(!y)continue;d&&y.kerning[d]&&(a.x+=y.kerning[d]);const x=dQ.pop()||{texture:pW.EMPTY,line:0,charCode:0,prevSpaces:0,position:new uY};x.texture=y.texture,x.line=p,x.charCode=c,x.position.x=Math.round(a.x+y.xOffset+this._letterSpacing/2),x.position.y=Math.round(a.y+y.yOffset),x.prevSpaces=b,r.push(x),u=x.position.x+Math.max(y.xAdvance-y.xOffset,y.texture.orig.width),a.x+=y.xAdvance+this._letterSpacing,v=Math.max(v,y.yOffset+y.texture.height),d=c,-1!==g&&l>0&&a.x>l&&(++f,wH(r,1+g-f,1+t-g),t=g,g=-1,o.push(h),i.push(r.length>0?r[r.length-1].prevSpaces:0),m=Math.max(m,h),p++,a.x=0,a.y+=e.lineHeight,d=null,b=0)}const y=s[s.length-1];"\r"!==y&&"\n"!==y&&(/(?:\s)/.test(y)&&(u=h),o.push(u),m=Math.max(m,u),i.push(-1));const x=[];for(let e=0;e<=p;e++){let t=0;"right"===this._align?t=m-o[e]:"center"===this._align?t=(m-o[e])/2:"justify"===this._align&&(t=i[e]<0?0:(m-o[e])/i[e]),x.push(t)}const k=r.length,w={},E=[],N=this._activePagesMeshData;c.push(...N);for(let t=0;t<k;t++){const n=r[t].texture,a=n.baseTexture.uid;if(!w[a]){let t=c.pop();if(!t){const n=new gZ;let a,r;"none"===e.distanceFieldType?(a=new hZ(pW.EMPTY),r=Xq.NORMAL):(a=new hZ(pW.EMPTY,{program:GY.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),r=Xq.NORMAL_NPM);const o=new pZ(n,a);o.blendMode=r,t={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:o,vertices:null,uvs:null,indices:null}}t.index=0,t.indexCount=0,t.vertexCount=0,t.uvsCount=0,t.total=0;const{_textureCache:r}=this;r[a]=r[a]||new pW(n.baseTexture),t.mesh.texture=r[a],t.mesh.tint=this._tintColor.value,E.push(t),w[a]=t}w[a].total++}for(let e=0;e<N.length;e++)E.includes(N[e])||this.removeChild(N[e].mesh);for(let e=0;e<E.length;e++)E[e].mesh.parent!==this&&this.addChild(E[e].mesh);this._activePagesMeshData=E;for(const e in w){const t=w[e],n=t.total;if(!(t.indices?.length>6*n)||t.vertices.length<2*pZ.BATCHABLE_SIZE)t.vertices=new Float32Array(8*n),t.uvs=new Float32Array(8*n),t.indices=new Uint16Array(6*n);else{const e=t.total,n=t.vertices;for(let t=4*e*2;t<n.length;t++)n[t]=0}t.mesh.size=6*n}for(let e=0;e<k;e++){const t=r[e];let a=t.position.x+x[t.line]*("justify"===this._align?t.prevSpaces:1);this._roundPixels&&(a=Math.round(a));const o=a*n,i=t.position.y*n,s=t.texture,l=w[s.baseTexture.uid],c=s.frame,d=s._uvs,u=l.index++;l.indices[6*u+0]=0+4*u,l.indices[6*u+1]=1+4*u,l.indices[6*u+2]=2+4*u,l.indices[6*u+3]=0+4*u,l.indices[6*u+4]=2+4*u,l.indices[6*u+5]=3+4*u,l.vertices[8*u+0]=o,l.vertices[8*u+1]=i,l.vertices[8*u+2]=o+c.width*n,l.vertices[8*u+3]=i,l.vertices[8*u+4]=o+c.width*n,l.vertices[8*u+5]=i+c.height*n,l.vertices[8*u+6]=o,l.vertices[8*u+7]=i+c.height*n,l.uvs[8*u+0]=d.x0,l.uvs[8*u+1]=d.y0,l.uvs[8*u+2]=d.x1,l.uvs[8*u+3]=d.y1,l.uvs[8*u+4]=d.x2,l.uvs[8*u+5]=d.y2,l.uvs[8*u+6]=d.x3,l.uvs[8*u+7]=d.y3}this._textWidth=m*n,this._textHeight=(a.y+e.lineHeight)*n;for(const e in w){const t=w[e];if(0!==this.anchor.x||0!==this.anchor.y){let e=0;const n=this._textWidth*this.anchor.x,a=this._textHeight*this.anchor.y;for(let r=0;r<t.total;r++)t.vertices[e++]-=n,t.vertices[e++]-=a,t.vertices[e++]-=n,t.vertices[e++]-=a,t.vertices[e++]-=n,t.vertices[e++]-=a,t.vertices[e++]-=n,t.vertices[e++]-=a}this._maxLineHeight=v*n;const a=t.mesh.geometry.getBuffer("aVertexPosition"),r=t.mesh.geometry.getBuffer("aTextureCoord"),o=t.mesh.geometry.getIndex();a.data=t.vertices,r.data=t.uvs,o.data=t.indices,a.update(),r.update(),o.update()}for(let e=0;e<r.length;e++)dQ.push(r[e]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:n,size:a}=sQ.available[this._fontName];if("none"!==n){const{a:n,b:r,c:o,d:i}=this.worldTransform,s=Math.sqrt(n*n+r*r),l=Math.sqrt(o*o+i*i),c=(Math.abs(s)+Math.abs(l))/2,d=this.fontSize/a,u=e._view.resolution;for(const e of this._activePagesMeshData)e.mesh.shader.uniforms.uFWidth=c*t*d*u}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=sQ.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!sQ.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??sQ.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,n="none"===sQ.available[this._fontName].distanceFieldType?lQ:cQ;n.push(...this._activePagesMeshData);for(const e of this._activePagesMeshData)this.removeChild(e.mesh);this._activePagesMeshData=[],n.filter(e=>t[e.mesh.texture.baseTexture.uid]).forEach(e=>{e.mesh.texture=pW.EMPTY});for(const e in t)t[e].destroy(),delete t[e];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}}).styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const uQ=[".xml",".fnt"],mQ={extension:{type:zH.LoadParser,priority:wJ.Normal},name:"loadBitmapFont",test:e=>uQ.includes(RG.extname(e).toLowerCase()),testParse:async e=>QZ.test(e)||tQ.test(e),async parse(e,t,n){const a=QZ.test(e)?QZ.parse(e):tQ.parse(e),{src:r}=t,{page:o}=a,i=[];for(let e=0;e<o.length;++e){const t=o[e].file;let n=RG.join(RG.dirname(r),t);n=dK(n,r),i.push(n)}const s=await n.load(i),l=i.map(e=>s[e]);return sQ.install(a,l,!0)},load:async(e,t)=>(await mG.ADAPTER.fetch(e)).text(),unload(e){e.destroy()}};$H.add(mQ);const pQ=class e extends NZ{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new e(Object.keys(e.defaultOptions).reduce((e,n)=>({...e,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete e.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,n={}){const{availableFonts:a}=e;if(a[t]){const e=a[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return mG.ADAPTER.fetch(t).then(e=>e.blob()).then(async e=>new Promise((t,n)=>{const a=URL.createObjectURL(e),r=new FileReader;r.onload=()=>t([a,r.result]),r.onerror=n,r.readAsDataURL(e)})).then(async([e,r])=>{const o=Object.assign({family:RG.basename(t,RG.extname(t)),weight:"normal",style:"normal",display:"auto",src:e,dataSrc:r,refs:1,originalUrl:t,fontFace:null},n);a[t]=o,this._fonts.push(o),this.styleID++;const i=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=i,await i.load(),document.fonts.add(i),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(e=>!this._overrides.includes(e));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(e=>this._overrides.includes(e));t.length>0&&(this._overrides=this._overrides.filter(e=>!t.includes(e)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}\n            @font-face {\n                font-family: "${t.family}";\n                src: url('${t.dataSrc}');\n                font-weight: ${t.weight};\n                font-style: ${t.style};\n                font-display: ${t.display};\n            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(n=e,MG("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),e=hH.shared.setValue(n).toNumber()),"number"==typeof e?(t=e,MG("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),hH.shared.setValue(t).toHex()):e;var t,n}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),a=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));const r=`${n}px ${a}px`;return this.dropShadowBlur>0?`text-shadow: ${r} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${r} ${e}`}reset(){Object.assign(this,e.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=mG.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};pQ.availableFonts={},pQ.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let gQ=pQ;const hQ=class e extends qX{constructor(t="",n={}){super(pW.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const a=new Image,r=pW.from(a,{scaleMode:mG.SCALE_MODE,resourceOptions:{autoLoad:!1}});r.orig=new pY,r.trim=new pY,this.texture=r;const o="http://www.w3.org/2000/svg",i="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg"),l=document.createElementNS(o,"foreignObject"),c=document.createElementNS(i,"div"),d=document.createElementNS(i,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",s.appendChild(l),this.maxWidth=e.defaultMaxWidth,this.maxHeight=e.defaultMaxHeight,this._domElement=c,this._styleElement=d,this._svgRoot=s,this._foreignObject=l,this._foreignObject.appendChild(d),this._foreignObject.appendChild(c),this._image=a,this._loadImage=new Image,this._autoResolution=e.defaultAutoResolution,this._resolution=e.defaultResolution??mG.RESOLUTION,this.text=t,this.style=n}measureText(e){const{text:t,style:n,resolution:a}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:n.toCSS(a)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const r=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:i}=r;(o>this.maxWidth||i>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const s=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(i));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",l.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(a)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:s+2*n.padding,height:l+2*n.padding}}async updateText(e=!0){const{style:t,_image:n,_loadImage:a}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:r,height:o}=this.measureText();n.width=a.width=Math.ceil(Math.max(1,r)),n.height=a.height=Math.ceil(Math.max(1,o)),this._updateID++;const i=this._updateID;await new Promise(e=>{a.onload=async()=>{i<this._updateID||(await t.onBeforeDraw(),n.src=a.src,a.onload=null,a.src="",this.updateTexture()),e()};const r=(new XMLSerializer).serializeToString(this._svgRoot);a.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(r)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:n,resolution:a}=this,{padding:r}=e,{baseTexture:o}=t;t.trim.width=t._frame.width=n.width/a,t.trim.height=t._frame.height=n.height/a,t.trim.x=-r,t.trim.y=-r,t.orig.width=t._frame.width-2*r,t.orig.height=t._frame.height-2*r,this._onTextureUpdate(),o.setRealSize(n.width,n.height,a),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},e.defaultDestroyOptions,t),super.destroy(t);const n=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=n,this._svgRoot?.remove(),this._svgRoot=n,this._domElement?.remove(),this._domElement=n,this._foreignObject?.remove(),this._foreignObject=n,this._styleElement?.remove(),this._styleElement=n,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=n,this._image.src="",this._image=n}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=EH(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=EH(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof gQ?(this.ownsStyle=!1,this._style=e):e instanceof NZ?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=gQ.from(e)):(this.ownsStyle=!0,this._style=new gQ(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};hQ.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},hQ.defaultMaxWidth=2024,hQ.defaultMaxHeight=2024,hQ.defaultAutoResolution=!0;class fQ{app;worldContainer;layers;config;locationSprites=new Map;eventCallbacks=new Map;continentBounds=new Map;isDragging=!1;dragStart={x:0,y:0};lastPosition={x:0,y:0};dragDistance=0;isPinching=!1;initialPinchDistance=0;initialPinchScale=1;pinchCenter={x:0,y:0};boundOnDragStart;boundOnDragMove;boundOnDragEnd;boundOnTouchStart;boundOnTouchMove;boundOnTouchEnd;boundOnWheel;constructor(e,t){this.config=t,this.boundOnDragStart=this.onDragStart.bind(this),this.boundOnDragMove=this.onDragMove.bind(this),this.boundOnDragEnd=this.onDragEnd.bind(this),this.boundOnTouchStart=this.onTouchStart.bind(this),this.boundOnTouchMove=this.onTouchMove.bind(this),this.boundOnTouchEnd=this.onTouchEnd.bind(this),this.boundOnWheel=this.onWheel.bind(this);const n=e.getBoundingClientRect(),a=n.width||e.clientWidth||800,r=n.height||e.clientHeight||600;this.app=new pJ({view:e,width:a,height:r,backgroundColor:16317180,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0,eventMode:"none"}),this.app.renderer.events&&this.app.renderer.events.destroy(),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] PixiÂ∫îÁî®ÂàùÂßãÂåñÂÆåÊàê"),this.worldContainer=new FX,this.worldContainer.sortableChildren=!0,this.worldContainer.eventMode="none",this.worldContainer.interactiveChildren=!1,this.app.stage.addChild(this.worldContainer),this.layers=new Map,this.initLayers(),this.drawBackground(),this.setupDragInteraction(),this.setZoom(.5,!1),this.centerTo(t.width/2,t.height/2,!1),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] ÂàùÂßãÂåñÂÆåÊàê",{worldSize:`${t.width}x${t.height}`,screenSize:`${a}x${r}`,initialZoom:.5,initialCenter:{x:t.width/2,y:t.height/2}})}setupDragInteraction(){const e=this.app.view;e.addEventListener("mousedown",this.boundOnDragStart),e.addEventListener("mousemove",this.boundOnDragMove),e.addEventListener("mouseup",this.boundOnDragEnd),e.addEventListener("mouseleave",this.boundOnDragEnd),e.addEventListener("touchstart",this.boundOnTouchStart,{passive:!1}),e.addEventListener("touchmove",this.boundOnTouchMove,{passive:!1}),e.addEventListener("touchend",this.boundOnTouchEnd),e.addEventListener("wheel",this.boundOnWheel,{passive:!1})}onDragStart(e){this.isDragging=!0,this.dragStart={x:e.clientX,y:e.clientY},this.lastPosition={x:this.worldContainer.x,y:this.worldContainer.y},this.dragDistance=0,this.app.view.style.cursor="grabbing",this.clickStartPos={x:e.clientX,y:e.clientY},this.clickStartTime=Date.now()}clickStartPos={x:0,y:0};clickStartTime=0;onDragMove(e){if(!this.isDragging)return;const t=e.clientX-this.dragStart.x,n=e.clientY-this.dragStart.y;this.dragDistance+=Math.abs(t-(this.worldContainer.x-this.lastPosition.x))+Math.abs(n-(this.worldContainer.y-this.lastPosition.y)),this.worldContainer.x=this.lastPosition.x+t,this.worldContainer.y=this.lastPosition.y+n}onDragEnd(e){if(e&&this.isDragging){const t=Date.now()-this.clickStartTime;console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] ÊãñÊãΩÁªìÊùü:",{dragDistance:this.dragDistance,time:t}),this.dragDistance<10&&t<500?(console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Âà§ÂÆö‰∏∫ÁÇπÂáª‰∫ã‰ª∂"),this.handleClick(e)):console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Âà§ÂÆö‰∏∫ÊãñÊãΩ‰∫ã‰ª∂Ôºå‰∏çËß¶ÂèëÁÇπÂáª")}this.isDragging=!1,this.dragDistance=0,this.app.view.style.cursor="grab"}handleClick(e){const t=this.app.view.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,r=this.worldContainer.scale.x,o=(n-this.worldContainer.x)/r,i=(a-this.worldContainer.y)/r,s=this.layers.get(4);if(s){let e=null,t=1/0;if(s.children.forEach(n=>{if(!(n instanceof FX))return;const a=n.userData;if(!a)return;const r=Math.sqrt(Math.pow(o-n.x,2)+Math.pow(i-n.y,2));r<t&&(t=r,e=a)}),e&&t<50)return console.log(`[Âú∞Âõæ] ÁÇπÂáªÂú∞ÁÇπ: ${e.data.name}ÔºåË∑ùÁ¶ª: ${t.toFixed(0)}`),void this.emit("locationClick",{...e.data,clickPosition:{x:n,y:a}})}const l=this.layers.get(3);if(l)for(const e of l.children)if(e instanceof lZ){const t=e.userData;if(t&&"location"===t.type){const r=e.territoryBounds;if(r&&this.isPointInPolygon(o,i,r))return console.log(`[Âú∞Âõæ] ÁÇπÂáªÂäøÂäõËåÉÂõ¥: ${t.data.name}`),void this.emit("locationClick",{...t.data,clickPosition:{x:n,y:a}})}}console.log(`[Âú∞Âõæ] Ê£ÄÊµãÂ§ßÈôÜÁÇπÂáªÔºå‰∏ñÁïåÂùêÊ†á: (${o.toFixed(0)}, ${i.toFixed(0)})ÔºåÂÖ±Êúâ${this.continentBounds.size}‰∏™Â§ßÈôÜ`);const c=[];if(this.continentBounds.forEach((e,t)=>{const n=this.isPointInPolygon(o,i,e.bounds);if(console.log(`[Âú∞Âõæ] Ê£ÄÊµãÂ§ßÈôÜ "${e.data.name}":`,{isInside:n,bounds:e.bounds,boundsCount:e.bounds.length}),n){const n=this.calculatePolygonArea(e.bounds);c.push({id:t,data:e.data,area:n})}}),c.length>0){c.sort((e,t)=>e.area-t.area);const e=c[0];return console.log(`[Âú∞Âõæ] ÁÇπÂáªÂ§ßÈôÜ: ${e.data.name}ÔºàÂÖ±ÂåπÈÖç${c.length}‰∏™Â§ßÈôÜÔºåÈÄâÊã©ÊúÄÂ∞èÁöÑÔºâ`),void this.emit("continentClick",{...e.data,clickPosition:{x:n,y:a}})}console.log("[Âú∞Âõæ] ÁÇπÂáªÁ©∫ÁôΩÂå∫Âüü")}emitClickEvent(e){"location"===e.type?this.emit("locationClick",e.data):"continent"===e.type&&this.emit("continentClick",e.data)}getTouchDistance(e){const t=e[0].clientX-e[1].clientX,n=e[0].clientY-e[1].clientY;return Math.sqrt(t*t+n*n)}getTouchCenter(e){return{x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}}onTouchStart(e){if(e.preventDefault(),2===e.touches.length)this.isDragging=!1,this.isPinching=!0,this.initialPinchDistance=this.getTouchDistance(e.touches),this.initialPinchScale=this.worldContainer.scale.x,this.pinchCenter=this.getTouchCenter(e.touches),this.lastPosition={x:this.worldContainer.x,y:this.worldContainer.y};else if(1===e.touches.length){this.isPinching=!1;const t=e.touches[0];this.isDragging=!0,this.dragStart={x:t.clientX,y:t.clientY},this.lastPosition={x:this.worldContainer.x,y:this.worldContainer.y},this.dragDistance=0}}onTouchMove(e){if(e.preventDefault(),2===e.touches.length&&this.isPinching){const t=this.getTouchDistance(e.touches),n=this.getTouchCenter(e.touches),a=t/this.initialPinchDistance*this.initialPinchScale,r=this.config.minZoom||.1,o=this.config.maxZoom||4,i=Math.max(r,Math.min(o,a)),s=(this.pinchCenter.x-this.lastPosition.x)/this.initialPinchScale,l=(this.pinchCenter.y-this.lastPosition.y)/this.initialPinchScale;this.worldContainer.scale.set(i);const c=n.x-this.pinchCenter.x,d=n.y-this.pinchCenter.y;this.worldContainer.x=this.pinchCenter.x-s*i+c,this.worldContainer.y=this.pinchCenter.y-l*i+d}else if(1===e.touches.length&&this.isDragging&&!this.isPinching){const t=e.touches[0],n=t.clientX-this.dragStart.x,a=t.clientY-this.dragStart.y;this.dragDistance+=Math.abs(n-(this.worldContainer.x-this.lastPosition.x))+Math.abs(a-(this.worldContainer.y-this.lastPosition.y)),this.worldContainer.x=this.lastPosition.x+n,this.worldContainer.y=this.lastPosition.y+a}}onTouchEnd(e){if(1===e.touches.length&&this.isPinching){this.isPinching=!1,this.isDragging=!0;const t=e.touches[0];this.dragStart={x:t.clientX,y:t.clientY},this.lastPosition={x:this.worldContainer.x,y:this.worldContainer.y},this.dragDistance=0}else 0===e.touches.length&&(this.isDragging=!1,this.isPinching=!1)}onWheel(e){e.preventDefault();const t=e.deltaY>0?.9:1.1,n=this.worldContainer.scale.x*t,a=this.config.minZoom||.1,r=this.config.maxZoom||4,o=Math.max(a,Math.min(r,n)),i=e.clientX,s=e.clientY,l=(i-this.worldContainer.x)/this.worldContainer.scale.x,c=(s-this.worldContainer.y)/this.worldContainer.scale.y;this.worldContainer.scale.set(o),this.worldContainer.x=i-l*o,this.worldContainer.y=s-c*o}initLayers(){[0,1,2,3,4,5,6].forEach(e=>{const t=new FX;t.sortableChildren=!0,this.layers.set(e,t),this.worldContainer.addChild(t)}),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] ÂõæÂ±ÇÂàùÂßãÂåñÂÆåÊàêÔºåÂÖ±",this.layers.size,"‰∏™ÂõæÂ±Ç")}drawBackground(){const e=this.layers.get(0);if(!e)return;const t=new lZ;t.beginFill(16317180),t.drawRect(0,0,this.config.width,this.config.height),t.endFill(),e.addChild(t);const n=new lZ,a=this.config.tileSize;n.lineStyle(.5,13358561,.3);for(let e=0;e<=this.config.width;e+=a)n.moveTo(e,0),n.lineTo(e,this.config.height);for(let e=0;e<=this.config.height;e+=a)n.moveTo(0,e),n.lineTo(this.config.width,e);e.addChild(n)}addContinent(e){const t=this.layers.get(2);if(!t)return;const n=e.continent_bounds||e.Â§ßÊ¥≤ËæπÁïå;if(!n||n.length<3)return;const a=new lZ;a.beginFill(3900150,.12),a.moveTo(n[0].x,n[0].y);for(let e=1;e<n.length;e++)a.lineTo(n[e].x,n[e].y);a.closePath(),a.endFill(),a.lineStyle(2.5,2450411,.75),a.moveTo(n[0].x,n[0].y);for(let e=1;e<n.length;e++)a.lineTo(n[e].x,n[e].y);a.closePath(),a.eventMode="none";const r={id:e.id,name:e.name||e.ÂêçÁß∞,description:e.description||e.ÊèèËø∞,ÁâπÁÇπ:e.ÁâπÁÇπ,‰∏ªË¶ÅÂäøÂäõ:e.‰∏ªË¶ÅÂäøÂäõ};a.userData={type:"continent",data:r};const o=e.id||`continent_${Date.now()}_${Math.random()}`;this.continentBounds.set(o,{bounds:n,data:r}),t.addChild(a);const i=this.calculatePolygonCenter(n),s=new AZ(e.name||e.ÂêçÁß∞||"Êú™Áü•Â§ßÈôÜ",{fontFamily:"Microsoft YaHei, SimHei, sans-serif",fontSize:280,fill:1982639,fontWeight:"bold",align:"center",stroke:"#ffffff",strokeThickness:8});s.anchor.set(.5),s.x=i.x,s.y=i.y,s.alpha=.2,s.eventMode="none",t.addChild(s),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Ê∑ªÂä†Â§ßÈôÜ:",e.name||e.ÂêçÁß∞,"| ID:",o,"| ËæπÁïåÁÇπÊï∞:",n.length,"| ÂΩìÂâçÂ≠òÂÇ®ÁöÑÂ§ßÈôÜÊï∞:",this.continentBounds.size)}addLocation(e){const t=this.layers.get(4);if(!t)return;const n=String(e.Á≠âÁ∫ß||e.level||"").toLowerCase();let a=2.5;n.includes("Ë∂Ö")?a=3.5:n.includes("‰∏Ä")?a=3.2:n.includes("‰∫å")?a=2.8:n.includes("‰∏â")&&(a=2.5);const r=new FX;r.x=e.coordinates?.x||0,r.y=e.coordinates?.y||0,r.eventMode="none";const o=this.createLocationIcon(e.type,e.iconColor||"#6B7280");o.scale.set(a),r.addChild(o);const i=new AZ(e.name,{fontFamily:"Microsoft YaHei, SimHei, sans-serif",fontSize:38*a,fill:e.iconColor||"#6B7280",fontWeight:"700",align:"center",stroke:"#ffffff",strokeThickness:5});i.anchor.set(.5,0),i.y=32*a,i.eventMode="none",r.addChild(i),r.userData={type:"location",data:{id:e.id,name:e.name,coordinates:e.coordinates||{x:0,y:0},location:e}},t.addChild(r),this.locationSprites.set(e.id,r),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Ê∑ªÂä†Âú∞ÁÇπ:",e.name,`(${e.coordinates?.x}, ${e.coordinates?.y})`)}createLocationIcon(e,t){const n=new lZ,a=parseInt(t.replace("#",""),16);switch(n.alpha=.95,e){case"natural_landmark":case"ÂêçÂ±±Â§ßÂ∑ù":n.beginFill(a,.9),n.moveTo(0,-24),n.lineTo(-16,16),n.lineTo(16,16),n.closePath(),n.endFill(),n.lineStyle(2,16777215,.8),n.moveTo(0,-24),n.lineTo(-16,16),n.lineTo(16,16),n.closePath();break;case"sect_power":n.beginFill(a,.9),n.drawRect(-16,-16,32,32),n.endFill(),n.lineStyle(2,16777215,.8),n.drawRect(-16,-16,32,32),n.beginFill(16777215,.9),n.drawRect(-6,0,12,16),n.endFill();break;case"city_town":case"ÂüéÈïáÂùäÂ∏Ç":n.beginFill(a,.9),n.drawCircle(0,0,20),n.endFill(),n.lineStyle(2,16777215,.8),n.drawCircle(0,0,20),n.beginFill(16777215,.9),n.drawCircle(0,0,8),n.endFill();break;case"blessed_land":case"Ê¥ûÂ§©Á¶èÂú∞":n.beginFill(a,.8),n.drawCircle(0,0,20),n.endFill(),n.lineStyle(2,16777215,.8),n.drawCircle(0,0,20),n.beginFill(16777215,.95);const e=5,t=12,r=6;for(let a=0;a<2*e;a++){const o=a%2==0?t:r,i=Math.PI/e*a-Math.PI/2,s=Math.cos(i)*o,l=Math.sin(i)*o;0===a?n.moveTo(s,l):n.lineTo(s,l)}n.closePath(),n.endFill();break;case"treasure_land":case"Â•áÁèçÂºÇÂú∞":n.beginFill(a,.9),n.moveTo(0,-20),n.lineTo(16,0),n.lineTo(0,20),n.lineTo(-16,0),n.closePath(),n.endFill(),n.lineStyle(2,16777215,.8),n.moveTo(0,-20),n.lineTo(16,0),n.lineTo(0,20),n.lineTo(-16,0),n.closePath();break;case"dangerous_area":case"Âá∂Èô©‰πãÂú∞":n.beginFill(a,.9),n.drawCircle(0,0,20),n.endFill(),n.lineStyle(3,16777215,.9),n.drawCircle(0,0,20),n.moveTo(0,-12),n.lineTo(0,4),n.beginFill(16777215),n.drawCircle(0,10,3),n.endFill();break;case"special_other":case"ÂÖ∂‰ªñÁâπÊÆä":n.beginFill(a,.9),n.moveTo(4,-20),n.lineTo(-12,4),n.lineTo(0,4),n.lineTo(-4,20),n.lineTo(12,-4),n.lineTo(0,-4),n.closePath(),n.endFill(),n.lineStyle(2,16777215,.8),n.moveTo(4,-20),n.lineTo(-12,4),n.lineTo(0,4),n.lineTo(-4,20),n.lineTo(12,-4),n.lineTo(0,-4),n.closePath();break;default:n.beginFill(a,.9),n.drawCircle(0,0,16),n.endFill(),n.lineStyle(2,16777215,.8),n.drawCircle(0,0,16)}return n}addTerritory(e){if(!e.territoryBounds||e.territoryBounds.length<3)return;const t=this.layers.get(3);if(!t)return;const n=e.territoryBounds,a=new lZ,r=parseInt((e.color||"#6B7280").replace("#",""),16);a.beginFill(r,.15),a.moveTo(n[0].x,n[0].y);for(let e=1;e<n.length;e++)a.lineTo(n[e].x,n[e].y);a.closePath(),a.endFill(),a.lineStyle(2,r,.6),a.moveTo(n[0].x,n[0].y);for(let e=1;e<n.length;e++)a.lineTo(n[e].x,n[e].y);a.closePath(),a.eventMode="none",a.userData={type:"location",data:{id:e.id,name:e.name,coordinates:e.coordinates||{x:0,y:0},location:e}},a.territoryBounds=n,t.addChild(a);const o=this.calculatePolygonCenter(n),i=new AZ(e.name,{fontFamily:"Microsoft YaHei, SimHei, sans-serif",fontSize:100,fill:e.iconColor||"#6B7280",fontWeight:"bold",align:"center",stroke:"#ffffff",strokeThickness:6});i.anchor.set(.5),i.x=o.x,i.y=o.y,i.alpha=.18,i.eventMode="none",t.addChild(i),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Ê∑ªÂä†ÂäøÂäõËåÉÂõ¥:",e.name)}clearPlayerMarker(){const e=this.layers.get(5);e&&e.removeChildren()}updateNPCPositions(e){const t=this.layers.get(5);t&&([...t.children].forEach(e=>{const n=e.userData;if(n&&"npc"===n.type){t.removeChild(e);try{e.destroy({children:!0,texture:!1,baseTexture:!1})}catch{}}}),e.forEach(e=>{if(!Number.isFinite(e.coordinates?.x)||!Number.isFinite(e.coordinates?.y))return;const n=new FX;n.x=e.coordinates.x,n.y=e.coordinates.y,n.userData={type:"npc",name:e.name};const a=new lZ;a.beginFill(9133302,.25),a.drawCircle(0,0,35),a.endFill(),n.addChild(a);const r=new lZ;r.beginFill(9133302,.9),r.drawCircle(0,0,22),r.endFill(),r.lineStyle(3,16777215,.9),r.drawCircle(0,0,22),r.lineStyle(0),r.beginFill(16777215,.95),r.drawCircle(0,-6,6),r.endFill(),r.beginFill(16777215,.95),r.moveTo(-8,4),r.lineTo(8,4),r.lineTo(8,14),r.lineTo(-8,14),r.closePath(),r.endFill(),n.addChild(r);const o=new AZ(e.name,{fontFamily:"Microsoft YaHei, sans-serif",fontSize:40,fill:9133302,fontWeight:"600",align:"center",stroke:"#ffffff",strokeThickness:5});o.anchor.set(.5,0),o.y=32,n.addChild(o),t.addChild(n)}),console.log(`[Âú∞ÂõæÁÆ°ÁêÜÂô®] Êõ¥Êñ∞NPC‰ΩçÁΩÆ: ÂÖ±${e.length}‰∏™NPC`))}updatePlayerPosition(e,t="Áé©ÂÆ∂"){const n=this.layers.get(5);if(!n)return;if(!Number.isFinite(e.x)||!Number.isFinite(e.y))return void this.clearPlayerMarker();n.removeChildren();const a=new FX;a.x=e.x,a.y=e.y;const r=new lZ;r.beginFill(15680580,.3),r.drawCircle(0,0,45),r.endFill(),a.addChild(r);const o=new lZ;o.beginFill(16498468,.5),o.drawCircle(0,0,28),o.endFill(),a.addChild(o);const i=new lZ;i.beginFill(14427686),i.moveTo(0,-30),i.lineTo(-20,20),i.lineTo(20,20),i.closePath(),i.endFill(),i.lineStyle(4,16708338,.95),i.moveTo(0,-30),i.lineTo(-20,20),i.lineTo(20,20),i.closePath(),i.beginFill(16708338),i.drawCircle(0,0,8),i.endFill(),i.beginFill(14427686),i.drawCircle(0,0,4),i.endFill(),a.addChild(i);const s=new AZ(t,{fontFamily:"Microsoft YaHei, sans-serif",fontSize:48,fill:14427686,fontWeight:"700",align:"center",stroke:"#ffffff",strokeThickness:6});s.anchor.set(.5,0),s.y=40,a.addChild(s),n.addChild(a),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Êõ¥Êñ∞Áé©ÂÆ∂‰ΩçÁΩÆ:",e)}centerTo(e,t,n=!0){const a=this.app.screen.width/2-e*this.worldContainer.scale.x,r=this.app.screen.height/2-t*this.worldContainer.scale.y;if(n){const e=this.worldContainer.x,t=this.worldContainer.y,n=500,o=Date.now(),i=()=>{const s=Date.now()-o,l=Math.min(s/n,1),c=l<.5?2*l*l:1-Math.pow(-2*l+2,2)/2;this.worldContainer.x=e+(a-e)*c,this.worldContainer.y=t+(r-t)*c,l<1&&requestAnimationFrame(i)};requestAnimationFrame(i)}else this.worldContainer.x=a,this.worldContainer.y=r}getViewportState(){return{x:(this.app.screen.width/2-this.worldContainer.x)/this.worldContainer.scale.x,y:(this.app.screen.height/2-this.worldContainer.y)/this.worldContainer.scale.y,scale:this.worldContainer.scale.x,screenWidth:this.app.screen.width,screenHeight:this.app.screen.height}}setZoom(e,t=!0){const n=this.config.minZoom||.1,a=this.config.maxZoom||4,r=Math.max(n,Math.min(a,e)),o=(this.app.screen.width/2-this.worldContainer.x)/this.worldContainer.scale.x,i=(this.app.screen.height/2-this.worldContainer.y)/this.worldContainer.scale.y;if(t){const e=this.worldContainer.scale.x,t=300,n=Date.now(),a=()=>{const s=Date.now()-n,l=Math.min(s/t,1),c=l<.5?2*l*l:1-Math.pow(-2*l+2,2)/2,d=e+(r-e)*c;this.worldContainer.scale.set(d),this.worldContainer.x=this.app.screen.width/2-o*d,this.worldContainer.y=this.app.screen.height/2-i*d,l<1&&requestAnimationFrame(a)};requestAnimationFrame(a)}else this.worldContainer.scale.set(r),this.worldContainer.x=this.app.screen.width/2-o*r,this.worldContainer.y=this.app.screen.height/2-i*r}calculatePolygonCenter(e){if(0===e.length)return{x:0,y:0};const t=e.reduce((e,t)=>e+t.x,0),n=e.reduce((e,t)=>e+t.y,0);return{x:t/e.length,y:n/e.length}}isPointInPolygon(e,t,n){let a=!1;for(let r=0,o=n.length-1;r<n.length;o=r++){const i=n[r].x,s=n[r].y,l=n[o].x,c=n[o].y;s>t!=c>t&&e<(l-i)*(t-s)/(c-s)+i&&(a=!a)}return a}calculatePolygonArea(e){let t=0;for(let n=0;n<e.length;n++){const a=(n+1)%e.length;t+=e[n].x*e[a].y,t-=e[a].x*e[n].y}return Math.abs(t/2)}on(e,t){this.eventCallbacks.has(e)||this.eventCallbacks.set(e,[]),this.eventCallbacks.get(e).push(t)}emit(e,t){const n=this.eventCallbacks.get(e);n&&n.forEach(e=>e(t))}clear(){this.layers.forEach(e=>{const t=[...e.children];e.removeChildren(),t.forEach(e=>{try{e.destroy({children:!0,texture:!1,baseTexture:!1})}catch{}})}),this.locationSprites.clear(),this.continentBounds.clear(),this.drawBackground(),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Âú∞ÂõæÂ∑≤Ê∏ÖÁ©∫")}resize(e,t){this.app.renderer.resize(e,t),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Ë∞ÉÊï¥Â§ßÂ∞è:",`${e}x${t}`)}destroy(){const e=this.app.view;e.removeEventListener("mousedown",this.boundOnDragStart),e.removeEventListener("mousemove",this.boundOnDragMove),e.removeEventListener("mouseup",this.boundOnDragEnd),e.removeEventListener("mouseleave",this.boundOnDragEnd),e.removeEventListener("touchstart",this.boundOnTouchStart),e.removeEventListener("touchmove",this.boundOnTouchMove),e.removeEventListener("touchend",this.boundOnTouchEnd),e.removeEventListener("wheel",this.boundOnWheel),this.app.ticker.stop();try{this.worldContainer.destroy({children:!0})}catch{}try{this.app.destroy(!0,{children:!0,texture:!0,baseTexture:!0})}catch{}this.layers.clear(),this.locationSprites.clear(),this.eventCallbacks.clear(),this.continentBounds.clear(),console.log("[Âú∞ÂõæÁÆ°ÁêÜÂô®] Â∑≤ÈîÄÊØÅ")}}const vQ=1e4,bQ=1e4,yQ={natural_landmark:"#2D7D32",sect_power:"#1565C0",city_town:"#F57C00",blessed_land:"#7B1FA2",treasure_land:"#388E3C",dangerous_area:"#D32F2F",special_other:"#6B7280"},xQ=[{match:/(Èªë|Êöó|È™á|ÂΩ±|ÂπΩ|ËØ°|ÈÇ™|ÈªëÂ∏Æ|Â∏ÆÊ¥æ|ÊöóÁΩë)/i,color:"#7F1D1D"},{match:/(ÂÖ¨Âè∏|Ë¥¢Âõ¢|ÈõÜÂõ¢|‰ºÅ‰∏ö|ËÅîÈÇ¶|ÊîøÂ∫ú|Ë≠¶|ÂÜõ|ÂÆâ‰øù|ÊâßÊ≥ï)/i,color:"#1D4ED8"},{match:/(ÂÆ∂ÊóèÂäøÂäõ|Èó®ÈòÄ|ÂÆ∂Êóè)/i,color:"#0F766E"},{match:/(ÂïÜ‰ºö|ÂïÜÁõü|ÂïÜÂè∑|‰∫§Êòì|Â∏ÇÂú∫|Áâ©ÊµÅ)/i,color:"#B45309"},{match:/(ÂºÇÁßç|ÊîπÈÄ†ÂÖΩ|‰ªøÁîü|ÂêàÊàê|ÂºÇÊóè|Êú∫‰Ωì|ÁîüÂåñ)/i,color:"#047857"},{match:/(ËÅîÁõü|‰Ω£ÂÖµ|Èõá‰Ω£|Áã¨Á´ã)/i,color:"#6B7280"}],kQ=(e,t,n)=>Math.max(t,Math.min(n,e));function wQ(e,t){const{width:n,height:a}=(e=>({width:Number(e?.width)>0?Number(e?.width):vQ,height:Number(e?.height)>0?Number(e?.height):bQ}))(t);return e.map((e,t)=>{let r;const o=String(e.type||e.Á±ªÂûã||"special_other"),i=((e,t)=>!(e=>Object.prototype.hasOwnProperty.call(yQ,e))(t)&&(!!(e.leadership||e.È¢ÜÂØºÂ±Ç||e.memberCount||e.ÊàêÂëòÊï∞Èáè)||/(ÂÖ¨Âè∏|ÈõÜÂõ¢|Ë¥¢Âõ¢|‰ºÅ‰∏ö|Â∏ÆÊ¥æ|ÈªëÂ∏Æ|ËÅîÁõü|ÂäøÂäõ|ÁªÑÁªá|‰Ω£ÂÖµ|ÂÆâ‰øù|ËÅîÈÇ¶|ÊîøÂ∫ú)/i.test(t)))(e,o)?(e=>{for(const t of xQ)if(t.match.test(e))return t.color;return"#6B7280"})(o):yQ[o]||"#6B7280";let s;void 0!==e.coordinates?.x&&void 0!==e.coordinates?.y?r={x:kQ(Number(e.coordinates.x),0,n),y:kQ(Number(e.coordinates.y),0,a)}:void 0!==e.‰ΩçÁΩÆ?.x&&void 0!==e.‰ΩçÁΩÆ?.y?r={x:kQ(Number(e.‰ΩçÁΩÆ.x),0,n),y:kQ(Number(e.‰ΩçÁΩÆ.y),0,a)}:(r=function(e=5e3,t=5e3,n=3e3,a=1e4,r=1e4){const o=.05*a,i=.05*r;return{x:kQ(o+Math.random()*(a-2*o),0,a),y:kQ(i+Math.random()*(r-2*i),0,r)}}(n/2,a/2,.4*Math.min(n,a),n,a),console.warn(`[ÂùêÊ†á] Âú∞ÁÇπ "${e.ÂêçÁß∞||e.name||`Âú∞ÁÇπ${t}`}" Áº∫Â∞ëÂùêÊ†áÔºåÂ∑≤ÈöèÊú∫ÁîüÊàê: (${r.x.toFixed(0)}, ${r.y.toFixed(0)})`));const l=e.territoryBounds||e.ÂäøÂäõËåÉÂõ¥;return l&&Array.isArray(l)&&l.length>=3&&(s=l.map(e=>({x:kQ(Number(e.x),0,n),y:kQ(Number(e.y),0,a)})),console.log(`[ÂùêÊ†á] ÂäøÂäõ "${e.ÂêçÁß∞||e.name}" ÊúâÂäøÂäõËåÉÂõ¥ÔºåÂÖ± ${s.length} ‰∏™ËæπÁïåÁÇπ`)),{...e,id:e.id||`loc_${t}_${Date.now()}`,name:e.name||e.ÂêçÁß∞||`Êú™ÂëΩÂêçÂú∞ÁÇπ${t}`,type:o,description:e.description||e.ÊèèËø∞||"",coordinates:r,territoryBounds:s,headquarters:r,iconColor:e.iconColor||i,color:e.color||i}})}var EQ=n(2347);const NQ={class:"game-map-panel"},SQ={key:0,class:"world-info-header"},_Q={class:"world-name"},VQ={class:"world-background"},CQ={key:0,class:"initialize-map-overlay"},AQ={key:1,class:"initialize-map-overlay"},DQ={class:"initialize-prompt"},TQ={class:"status-text"},BQ={class:"popup-header"},IQ={class:"popup-content"},MQ={class:"location-type"},zQ={class:"location-desc"},PQ={key:0,class:"location-detail"},RQ={key:1,class:"location-detail"},$Q={key:2,class:"location-detail"},OQ={class:"popup-header"},LQ={class:"popup-content"},FQ={class:"location-type"},jQ={class:"location-desc"},UQ={key:0,class:"location-detail"},qQ={key:1,class:"location-detail"},GQ={key:0},HQ={key:2,class:"location-detail"},YQ={key:3,class:"location-detail"},WQ={key:4,class:"location-detail"},XQ={class:"popup-header"},JQ={class:"popup-content"},KQ={class:"location-desc"},ZQ={key:0,class:"location-detail"},QQ={key:1,class:"location-detail"},e0={key:2,class:"location-detail"},t0={key:3,class:"location-detail"},n0={key:4,class:"location-detail"},a0={class:"legend-title"},r0={class:"legend-toggle"},o0={key:0,class:"legend-items"},i0={class:"legend-item"},s0={class:"legend-item"},l0={class:"legend-item"},c0={class:"legend-item"},d0={class:"legend-item"},u0={class:"legend-item"},m0={class:"legend-item"},p0={class:"legend-item"},g0={class:"legend-item"},h0=(0,r.defineComponent)({__name:"GameMapPanel",setup(e){const t=(0,Au.useGameStateStore)(),n=(0,r.ref)(null),a=(0,r.ref)(null),o=(0,r.ref)(null),i=(0,r.ref)(null),s=(0,r.ref)(null),l=(0,r.ref)("ÂàùÂßãÂåñ‰∏≠..."),c=(0,r.ref)({x:0,y:0}),d=(0,r.ref)(!1),u=(0,r.ref)(!1),m=(0,r.computed)(()=>t.worldInfo?.‰∏ñÁïåÂêçÁß∞||"ÈúìËôπÁïå"),p=(0,r.computed)(()=>t.worldInfo?.‰∏ñÁïåËÉåÊôØ||""),g=(0,r.computed)(()=>{const e=t.worldInfo?.["Âú∞ÂõæÈÖçÁΩÆ"],n=Number(e?.width)||1e4,a=Number(e?.height)||1e4;return{width:n,height:a,tileSize:Math.max(80,Math.round(Math.min(n,a)/80)),minZoom:.1,maxZoom:4}}),h=(0,r.computed)(()=>`${g.value.width}x${g.value.height}`),f=(0,r.computed)(()=>{const e=t.worldInfo;if(!e)return!1;const n=e.Âú∞ÁÇπ‰ø°ÊÅØ?.length>0,a=e.ÂäøÂäõ‰ø°ÊÅØ?.length>0;return n||a}),v={natural_landmark:"Ëá™ÁÑ∂Âú∞Ê†á",sect_power:"ÁªÑÁªáÂäøÂäõ",city_town:"ÂüéÂ∏ÇË°óÂå∫",blessed_land:"Ê†∏ÂøÉËÆæÊñΩ",treasure_land:"ËµÑÊ∫êÂå∫",dangerous_area:"Âç±Èô©Âå∫",special_other:"ÁâπÊÆäÂå∫Âüü"},b=e=>!!("ÁªÑÁªáÂäøÂäõ"===e.Á±ªÂûã||"sect_power"===e.type||e.leadership||e.È¢ÜÂØºÂ±Ç||e.memberCount||e.ÊàêÂëòÊï∞Èáè),y=(0,r.computed)(()=>{if(!i.value&&!s.value)return{};const e=a.value?.getBoundingClientRect();if(!e)return{};let t=c.value.x,n=c.value.y;return t+160>e.width-20&&(t=e.width-160-20),t-160<20&&(t=180),n-200<20?n+=60:n-=20,{position:"absolute",left:`${t}px`,top:`${n}px`,transform:"translate(-50%, -100%)",zIndex:"2000"}}),x=async()=>{if(n.value&&a.value)try{l.value="Ê≠£Âú®ÂàùÂßãÂåñÂú∞Âõæ...",await new Promise(e=>requestAnimationFrame(e));const e=a.value.getBoundingClientRect(),t=n.value;t.width=e.width,t.height=e.height,console.log("[Âú∞Âõæ] Canvas Â∞∫ÂØ∏:",{width:e.width,height:e.height}),o.value?.destroy(),o.value=new fQ(t,g.value),o.value.on("locationClick",e=>{E(e)}),o.value.on("continentClick",e=>{N(e)}),await w({silent:!0,reset:!0}),l.value="Âú∞ÂõæÂä†ËΩΩÂÆåÊàê"}catch(e){console.error("[Âú∞Âõæ] ÂàùÂßãÂåñÂ§±Ë¥•:",e),l.value="Âú∞ÂõæÂä†ËΩΩÂ§±Ë¥•",X.o.error("Âú∞ÂõæÂàùÂßãÂåñÂ§±Ë¥•: "+e.message)}};(0,r.onMounted)(async()=>{await x(),window.addEventListener("resize",_),document.addEventListener("fullscreenchange",C)}),(0,r.onUnmounted)(()=>{window.removeEventListener("resize",_),document.removeEventListener("fullscreenchange",C),o.value?.destroy()}),(0,r.watch)(()=>t.location,e=>{if(e&&o.value){const n=t.character?.ÂêçÂ≠ó||"Ê∏∏Ê∞ë";o.value.updatePlayerPosition(e,n)}},{deep:!0}),(0,r.watch)(()=>t.relationships,e=>{if(!e||!o.value)return;const t=[];Object.entries(e).forEach(([e,n])=>{const a=n?.ÂΩìÂâç‰ΩçÁΩÆ||n?.‰ΩçÁΩÆ||n?.coordinates;a&&Number.isFinite(a.x)&&Number.isFinite(a.y)&&t.push({name:e,coordinates:a})}),o.value.updateNPCPositions(t)},{deep:!0}),(0,r.watch)(()=>h.value,(e,t)=>{o.value&&e!==t&&x()}),(0,r.watch)(()=>[t.worldInfo?.Â§ßÈôÜ‰ø°ÊÅØ?.length,t.worldInfo?.ÂäøÂäõ‰ø°ÊÅØ?.length,t.worldInfo?.Âú∞ÁÇπ‰ø°ÊÅØ?.length],(e,t)=>{o.value&&!d.value&&(t&&e.every((e,n)=>e===t[n])||(console.log("[Âú∞Âõæ] Ê£ÄÊµãÂà∞‰∏ñÁïåÊï∞ÊçÆÂèòÂåñÔºåÈáçÊñ∞Âä†ËΩΩÂú∞Âõæ",{newLengths:e,oldLengths:t}),w({silent:!0,reset:!0})))});const k=async()=>{const e=t.worldInfo;if(e){d.value=!0,l.value="ÂºÄÂßãÁîüÊàêÂú∞ÂõæÂÜÖÂÆπ...";try{const n=e.Â§ßÈôÜ‰ø°ÊÅØ?.length||3,a=Math.max(3,Math.round(2*n)),r=Math.max(8,Math.round(4*n)),o=Math.max(2,Math.round(.25*r)),i=e?.["Âú∞ÂõæÈÖçÁΩÆ"]||{width:g.value.width,height:g.value.height,minLng:0,maxLng:g.value.width,minLat:0,maxLat:g.value.height},s=new EQ.U({worldName:e.‰∏ñÁïåÂêçÁß∞,worldBackground:e.‰∏ñÁïåËÉåÊôØ,worldEra:e.‰∏ñÁïåÁ∫™ÂÖÉ||"ÈúìËôπÁ∫™ÂÖÉ",factionCount:a,locationCount:r,secretRealmsCount:o,continentCount:n,mapConfig:i,maxRetries:3,retryDelay:1e3,onStreamChunk:e=>{l.value=e}});console.log("[Âú∞Âõæ] ÂºÄÂßãÁîüÊàêÂú∞ÂõæÂÜÖÂÆπ...");const c=await s.generateValidatedWorld();if(c.success&&c.worldInfo){console.log("[Âú∞Âõæ] Âú∞ÂõæÁîüÊàêÊàêÂäüÔºåÊ≠£Âú®Êõ¥Êñ∞Ê∏∏ÊàèÁä∂ÊÄÅ...");const n={...e,ÂäøÂäõ‰ø°ÊÅØ:c.worldInfo.ÂäøÂäõ‰ø°ÊÅØ||[],Âú∞ÁÇπ‰ø°ÊÅØ:c.worldInfo.Âú∞ÁÇπ‰ø°ÊÅØ||[]};t.updateState("worldInfo",n),await w({reset:!0}),X.o.success("Âú∞ÂõæÂàùÂßãÂåñÂÆåÊàêÔºÅ"),console.log("[Âú∞Âõæ] Âú∞ÂõæÂàùÂßãÂåñÂÆåÊàê")}else{const e=c.errors?.join(", ")||"ÁîüÊàêÂ§±Ë¥•";X.o.error(`Âú∞ÂõæÁîüÊàêÂ§±Ë¥•: ${e}`),console.error("[Âú∞Âõæ] ÁîüÊàêÂ§±Ë¥•:",c.errors)}}catch(e){console.error("[Âú∞Âõæ] ÂàùÂßãÂåñÂ§±Ë¥•:",e),X.o.error("Âú∞ÂõæÂàùÂßãÂåñÂ§±Ë¥•: "+e.message)}finally{d.value=!1,l.value="ÂàùÂßãÂåñÂÆåÊàê"}}else X.o.error("Êú™ÊâæÂà∞‰∏ñÁïå‰ø°ÊÅØ")},w=async e=>{try{const{silent:n=!1,reset:a=!0}=e??{};l.value="Ê≠£Âú®Âä†ËΩΩ‰∏ñÁïåÊï∞ÊçÆ...";const r=t.worldInfo;if(!r)return n||X.o.warning("Êú™ÊâæÂà∞‰∏ñÁïåÊï∞ÊçÆ"),void(l.value="Êú™ÊâæÂà∞‰∏ñÁïåÊï∞ÊçÆ");a&&o.value?.clear();const i=g.value;let s=0;if(r.Â§ßÈôÜ‰ø°ÊÅØ&&Array.isArray(r.Â§ßÈôÜ‰ø°ÊÅØ)&&(r.Â§ßÈôÜ‰ø°ÊÅØ.forEach(e=>{try{if(e.Â§ßÊ¥≤ËæπÁïå||e.continent_bounds){const t=e.Â§ßÊ¥≤ËæπÁïå||e.continent_bounds;e.continent_bounds=function(e,t=1e4,n=1e4){return e.map(e=>({x:kQ(Number(e.x),0,t),y:kQ(Number(e.y),0,n)}))}(t,i.width,i.height),e.Â§ßÊ¥≤ËæπÁïå=e.continent_bounds}o.value?.addContinent(e)}catch(t){console.error("[Âú∞Âõæ] Âä†ËΩΩÂ§ßÈôÜÂ§±Ë¥•:",e,t)}}),console.log(`[Âú∞Âõæ] Â∑≤Âä†ËΩΩ ${r.Â§ßÈôÜ‰ø°ÊÅØ.length} ‰∏™Â§ßÈôÜ`)),r.ÂäøÂäõ‰ø°ÊÅØ&&Array.isArray(r.ÂäøÂäõ‰ø°ÊÅØ)){const e=wQ(r.ÂäøÂäõ‰ø°ÊÅØ,i);e.forEach(e=>{try{e.territoryBounds&&e.territoryBounds.length>=3&&o.value?.addTerritory(e)}catch(t){console.error("[Âú∞Âõæ] Âä†ËΩΩÂäøÂäõÂ§±Ë¥•:",e,t)}}),console.log(`[Âú∞Âõæ] Â∑≤Âä†ËΩΩ ${e.length} ‰∏™ÂäøÂäõËåÉÂõ¥`)}if(r.Âú∞ÁÇπ‰ø°ÊÅØ&&Array.isArray(r.Âú∞ÁÇπ‰ø°ÊÅØ)){const e=wQ(r.Âú∞ÁÇπ‰ø°ÊÅØ,i);e.forEach(e=>{try{o.value?.addLocation(e),s++}catch(t){console.error("[Âú∞Âõæ] Âä†ËΩΩÂú∞ÁÇπÂ§±Ë¥•:",e,t)}}),console.log(`[Âú∞Âõæ] Â∑≤Âä†ËΩΩ ${e.length} ‰∏™Âú∞ÁÇπ`)}const c=t.location;if(c){const e=t.character?.ÂêçÂ≠ó||"Ê∏∏Ê∞ë";o.value?.updatePlayerPosition(c,e),console.log("[Âú∞Âõæ] Â∑≤Êõ¥Êñ∞Áé©ÂÆ∂‰ΩçÁΩÆ")}const d=t.relationships;if(d&&"object"==typeof d){const e=[];Object.entries(d).forEach(([t,n])=>{const a=n?.ÂΩìÂâç‰ΩçÁΩÆ||n?.‰ΩçÁΩÆ||n?.coordinates;a&&Number.isFinite(a.x)&&Number.isFinite(a.y)&&e.push({name:t,coordinates:a})}),e.length>0&&(o.value?.updateNPCPositions(e),console.log(`[Âú∞Âõæ] Â∑≤Êõ¥Êñ∞ ${e.length} ‰∏™NPC‰ΩçÁΩÆ`))}l.value=`Â∑≤Âä†ËΩΩ ${s} ‰∏™Âú∞ÁÇπ`,n||X.o.success("Âú∞ÂõæÂä†ËΩΩÂÆåÊàê")}catch(e){console.error("[Âú∞Âõæ] Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:",e),l.value="Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•",X.o.error("Âä†ËΩΩÂú∞ÂõæÊï∞ÊçÆÂ§±Ë¥•: "+e.message)}},E=e=>{if(console.log("[Âú∞Âõæ] handleLocationClick Ë¢´Ë∞ÉÁî®Ôºådata:",e),!e)return void console.warn("[Âú∞Âõæ] ÁÇπÂáªÊï∞ÊçÆ‰∏∫Á©∫");const t=e;s.value=null,i.value=t.location||t,console.log("[Âú∞Âõæ] selectedLocation Â∑≤ËÆæÁΩÆ:",i.value),t.clickPosition&&(c.value={x:t.clickPosition.x,y:t.clickPosition.y},console.log("[Âú∞Âõæ] ÂºπÁ™ó‰ΩçÁΩÆÔºàÁÇπÂáª‰ΩçÁΩÆÔºâ:",c.value))},N=e=>{if(console.log("[Âú∞Âõæ] handleContinentClick Ë¢´Ë∞ÉÁî®Ôºådata:",e),!e)return void console.warn("[Âú∞Âõæ] ÁÇπÂáªÊï∞ÊçÆ‰∏∫Á©∫");const t=e;i.value=null,s.value=t,console.log("[Âú∞Âõæ] selectedContinent Â∑≤ËÆæÁΩÆ:",s.value),t.clickPosition&&(c.value={x:t.clickPosition.x,y:t.clickPosition.y},console.log("[Âú∞Âõæ] ÂºπÁ™ó‰ΩçÁΩÆÔºàÁÇπÂáª‰ΩçÁΩÆÔºâ:",c.value))},S=()=>{i.value=null,s.value=null},_=()=>{if(a.value&&o.value)try{const e=a.value.getBoundingClientRect();o.value.resize(e.width,e.height)}catch(e){console.warn("[Âú∞Âõæ] Resize ÈîôËØØÔºàÂ∑≤ÂøΩÁï•Ôºâ:",e)}},C=()=>{_()};return(e,t)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",NQ,[(0,r.createCommentVNode)(" ‰∏ñÁïå‰ø°ÊÅØÂ§¥ÈÉ® "),p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",SQ,[(0,r.createElementVNode)("div",_Q,(0,r.toDisplayString)(m.value),1),(0,r.createElementVNode)("div",VQ,(0,r.toDisplayString)(p.value),1)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Pixi.js CanvasÂÆπÂô® "),(0,r.createElementVNode)("div",{class:"map-container",ref_key:"mapContainerRef",ref:a},[(0,r.createElementVNode)("canvas",{ref_key:"canvasRef",ref:n},null,512),(0,r.createCommentVNode)(" ÂàùÂßãÂåñÂú∞ÂõæÊåâÈíÆ (‰ªÖÂú®Âú∞Âõæ‰∏∫Á©∫Êó∂ÊòæÁ§∫) "),f.value||d.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",CQ,[(0,r.createElementVNode)("div",{class:"initialize-prompt"},[t[2]||(t[2]=(0,r.createElementVNode)("div",{class:"prompt-icon"},[(0,r.createElementVNode)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"map-icon"},[(0,r.createElementVNode)("path",{d:"M3 6l6-3 6 3 6-3v15l-6 3-6-3-6 3V6z"}),(0,r.createElementVNode)("path",{d:"M9 3v15M15 6v15"})])],-1)),t[3]||(t[3]=(0,r.createElementVNode)("h3",null,"Âú∞ÂõæÂ∞öÊú™ÂàùÂßãÂåñ",-1)),t[4]||(t[4]=(0,r.createElementVNode)("p",null,"ÂΩìÂâç‰∏ñÁïåËøòÊ≤°ÊúâÁîüÊàêÂäøÂäõÂíåÂú∞ÁÇπÔºåÁÇπÂáª‰∏ãÊñπÊåâÈíÆÂºÄÂßãÁîüÊàêÂú∞ÂõæÂÜÖÂÆπ",-1)),(0,r.createElementVNode)("button",{onClick:k,class:"initialize-btn"},t[1]||(t[1]=[(0,r.createElementVNode)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"btn-icon"},[(0,r.createElementVNode)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.createElementVNode)("path",{d:"M8 12h8M12 8v8"})],-1),(0,r.createTextVNode)(" ÂàùÂßãÂåñÂú∞Âõæ ",-1)]))])])),(0,r.createCommentVNode)(" ÂàùÂßãÂåñËøõË°å‰∏≠ "),d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",AQ,[(0,r.createElementVNode)("div",DQ,[t[5]||(t[5]=(0,r.createElementVNode)("div",{class:"loading-spinner"},null,-1)),t[6]||(t[6]=(0,r.createElementVNode)("h3",null,"Ê≠£Âú®ÁîüÊàêÂú∞ÂõæÂÜÖÂÆπ...",-1)),(0,r.createElementVNode)("p",TQ,(0,r.toDisplayString)(l.value),1)])])):(0,r.createCommentVNode)("v-if",!0)],512),(0,r.createCommentVNode)(" Âú∞ÁÇπ‰ø°ÊÅØÂºπÁ™ó "),i.value&&!b(i.value)?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"location-popup",style:(0,r.normalizeStyle)(y.value)},[(0,r.createElementVNode)("div",BQ,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(i.value.name),1),(0,r.createElementVNode)("button",{onClick:S,class:"close-btn"},"√ó")]),(0,r.createElementVNode)("div",IQ,[(0,r.createElementVNode)("p",MQ,(0,r.toDisplayString)((c=i.value.type,v[c]||c||"Êú™Áü•Á±ªÂûã")),1),(0,r.createElementVNode)("p",zQ,(0,r.toDisplayString)(i.value.description||i.value.ÊèèËø∞),1),i.value.danger_level?((0,r.openBlock)(),(0,r.createElementBlock)("div",PQ,[t[7]||(t[7]=(0,r.createElementVNode)("strong",null,"ÂÆâÂÖ®Á≠âÁ∫ßÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(i.value.danger_level),1)])):(0,r.createCommentVNode)("v-if",!0),i.value.suitable_for?((0,r.openBlock)(),(0,r.createElementBlock)("div",RQ,[t[8]||(t[8]=(0,r.createElementVNode)("strong",null,"ÈÄÇÂêàÁ≠âÁ∫ßÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(i.value.suitable_for),1)])):(0,r.createCommentVNode)("v-if",!0),i.value.controlled_by?((0,r.openBlock)(),(0,r.createElementBlock)("div",$Q,[t[9]||(t[9]=(0,r.createElementVNode)("strong",null,"ÊéßÂà∂ÂäøÂäõÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(i.value.controlled_by),1)])):(0,r.createCommentVNode)("v-if",!0)])],4)):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ÂäøÂäõ‰ø°ÊÅØÂºπÁ™ó "),i.value&&b(i.value)?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:"location-popup faction-popup",style:(0,r.normalizeStyle)(y.value)},[(0,r.createElementVNode)("div",OQ,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(i.value.name||i.value.ÂêçÁß∞),1),(0,r.createElementVNode)("button",{onClick:S,class:"close-btn"},"√ó")]),(0,r.createElementVNode)("div",LQ,[(0,r.createElementVNode)("p",FQ,(0,r.toDisplayString)(i.value.Á±ªÂûã||i.value.type||"ÂäøÂäõ"),1),(0,r.createElementVNode)("p",jQ,(0,r.toDisplayString)(i.value.description||i.value.ÊèèËø∞),1),i.value.Á≠âÁ∫ß?((0,r.openBlock)(),(0,r.createElementBlock)("div",UQ,[t[10]||(t[10]=(0,r.createElementVNode)("strong",null,"ÂäøÂäõÁ≠âÁ∫ßÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(i.value.Á≠âÁ∫ß),1)])):(0,r.createCommentVNode)("v-if",!0),i.value.leadership||i.value.È¢ÜÂØºÂ±Ç?((0,r.openBlock)(),(0,r.createElementBlock)("div",qQ,[t[11]||(t[11]=(0,r.createElementVNode)("strong",null,"Ë¥üË¥£‰∫∫Ôºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(i.value.leadership?.Ë¥üË¥£‰∫∫||i.value.leadership?.leader||i.value.È¢ÜÂØºÂ±Ç?.Ë¥üË¥£‰∫∫)+" ",1),i.value.leadership?.Ë¥üË¥£‰∫∫Èò∂‰Ωç||i.value.leadership?.leader_rank||i.value.È¢ÜÂØºÂ±Ç?.Ë¥üË¥£‰∫∫Èò∂‰Ωç?((0,r.openBlock)(),(0,r.createElementBlock)("span",GQ," ÔºàÁ≠âÁ∫ßÔºö"+(0,r.toDisplayString)(i.value.leadership?.Ë¥üË¥£‰∫∫Èò∂‰Ωç||i.value.leadership?.leader_rank||i.value.È¢ÜÂØºÂ±Ç?.Ë¥üË¥£‰∫∫Èò∂‰Ωç)+"Ôºâ ",1)):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0),i.value.memberCount||i.value.ÊàêÂëòÊï∞Èáè?((0,r.openBlock)(),(0,r.createElementBlock)("div",HQ,[t[12]||(t[12]=(0,r.createElementVNode)("strong",null,"ÊàêÂëòÊï∞ÈáèÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(i.value.memberCount?.total||i.value.ÊàêÂëòÊï∞Èáè?.ÊÄªÊï∞||i.value.ÊàêÂëòÊï∞Èáè?.total)+"‰∫∫ ",1)])):(0,r.createCommentVNode)("v-if",!0),i.value.ÁâπËâ≤&&i.value.ÁâπËâ≤.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",YQ,[t[13]||(t[13]=(0,r.createElementVNode)("strong",null,"ÂäøÂäõÁâπËâ≤Ôºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(Array.isArray(i.value.ÁâπËâ≤)?i.value.ÁâπËâ≤.join("„ÄÅ"):i.value.ÁâπËâ≤),1)])):(0,r.createCommentVNode)("v-if",!0),i.value.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª?((0,r.openBlock)(),(0,r.createElementBlock)("div",WQ,[t[14]||(t[14]=(0,r.createElementVNode)("strong",null,"ÂÖ≥Á≥ªÔºö",-1)),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)((o=i.value.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª,"ÂèãÂ•Ω"===o||"ÁõüÂèã"===o?"relation-friendly":"ÊïåÂØπ"===o||"‰ªáÊïå"===o?"relation-hostile":"relation-neutral"))},(0,r.toDisplayString)(i.value.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª),3)])):(0,r.createCommentVNode)("v-if",!0)])],4)):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Â§ßÈôÜ‰ø°ÊÅØÂºπÁ™ó "),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:3,class:"location-popup continent-popup",style:(0,r.normalizeStyle)(y.value)},[(0,r.createElementVNode)("div",XQ,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(s.value.name),1),(0,r.createElementVNode)("button",{onClick:S,class:"close-btn"},"√ó")]),(0,r.createElementVNode)("div",JQ,[t[20]||(t[20]=(0,r.createElementVNode)("p",{class:"location-type"},"Â§ßÈôÜ",-1)),(0,r.createElementVNode)("p",KQ,(0,r.toDisplayString)(s.value.description||"ÂπøË¢§ÁöÑÈúìËôπÂ§ßÈôÜÔºåËï¥Âê´Êó†Â∞ΩÊú∫ÈÅá‰∏éÂç±Èô©„ÄÇ"),1),s.value.Ê∞îÂÄô?((0,r.openBlock)(),(0,r.createElementBlock)("div",ZQ,[t[15]||(t[15]=(0,r.createElementVNode)("strong",null,"Ê∞îÂÄôÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(s.value.Ê∞îÂÄô),1)])):(0,r.createCommentVNode)("v-if",!0),s.value.Âú∞ÁêÜÁâπÂæÅ&&s.value.Âú∞ÁêÜÁâπÂæÅ.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",QQ,[t[16]||(t[16]=(0,r.createElementVNode)("strong",null,"Âú∞ÁêÜÁâπÂæÅÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(s.value.Âú∞ÁêÜÁâπÂæÅ.join("„ÄÅ")),1)])):(0,r.createCommentVNode)("v-if",!0),s.value.Â§©ÁÑ∂Â±èÈöú&&s.value.Â§©ÁÑ∂Â±èÈöú.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",e0,[t[17]||(t[17]=(0,r.createElementVNode)("strong",null,"Â§©ÁÑ∂Â±èÈöúÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(s.value.Â§©ÁÑ∂Â±èÈöú.join("„ÄÅ")),1)])):(0,r.createCommentVNode)("v-if",!0),s.value.ÁâπÁÇπ?((0,r.openBlock)(),(0,r.createElementBlock)("div",t0,[t[18]||(t[18]=(0,r.createElementVNode)("strong",null,"Â§ßÈôÜÁâπÁÇπÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(s.value.ÁâπÁÇπ),1)])):(0,r.createCommentVNode)("v-if",!0),s.value.‰∏ªË¶ÅÂäøÂäõ&&s.value.‰∏ªË¶ÅÂäøÂäõ.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",n0,[t[19]||(t[19]=(0,r.createElementVNode)("strong",null,"‰∏ªË¶ÅÂäøÂäõÔºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(Array.isArray(s.value.‰∏ªË¶ÅÂäøÂäõ)?s.value.‰∏ªË¶ÅÂäøÂäõ.join("„ÄÅ"):s.value.‰∏ªË¶ÅÂäøÂäõ),1)])):(0,r.createCommentVNode)("v-if",!0)])],4)):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Âú∞ÂõæÂõæ‰æã "),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["map-legend",{collapsed:u.value}])},[(0,r.createElementVNode)("div",{class:"legend-header",onClick:t[0]||(t[0]=e=>u.value=!u.value)},[(0,r.createElementVNode)("div",a0,(0,r.toDisplayString)(m.value)+"Âõæ‰æã",1),(0,r.createElementVNode)("button",r0,[u.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(jq),{key:0,size:16})),u.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Sm),{key:1,size:16})):(0,r.createCommentVNode)("v-if",!0)])]),u.value?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",o0,[(0,r.createCommentVNode)(" Ëá™ÁÑ∂Âú∞Ê†á "),(0,r.createElementVNode)("div",i0,[(0,r.createVNode)((0,r.unref)(O_),{size:16,class:"legend-icon mountain"}),t[21]||(t[21]=(0,r.createElementVNode)("span",null,"Ëá™ÁÑ∂Âú∞Ê†á",-1))]),(0,r.createCommentVNode)(" ÁªÑÁªáÂäøÂäõ "),(0,r.createElementVNode)("div",s0,[(0,r.createVNode)((0,r.unref)(Uq),{size:16,class:"legend-icon faction"}),t[22]||(t[22]=(0,r.createElementVNode)("span",null,"ÁªÑÁªáÂäøÂäõ",-1))]),(0,r.createCommentVNode)(" ÂüéÂ∏ÇË°óÂå∫ "),(0,r.createElementVNode)("div",l0,[(0,r.createVNode)((0,r.unref)(qq),{size:16,class:"legend-icon town"}),t[23]||(t[23]=(0,r.createElementVNode)("span",null,"ÂüéÂ∏ÇË°óÂå∫",-1))]),(0,r.createCommentVNode)(" Ê†∏ÂøÉËÆæÊñΩ "),(0,r.createElementVNode)("div",c0,[(0,r.createVNode)((0,r.unref)(L_),{size:16,class:"legend-icon blessed"}),t[24]||(t[24]=(0,r.createElementVNode)("span",null,"Ê†∏ÂøÉËÆæÊñΩ",-1))]),(0,r.createCommentVNode)(" ËµÑÊ∫êÂå∫ "),(0,r.createElementVNode)("div",d0,[(0,r.createVNode)((0,r.unref)(gI),{size:16,class:"legend-icon treasure"}),t[25]||(t[25]=(0,r.createElementVNode)("span",null,"ËµÑÊ∫êÂå∫",-1))]),(0,r.createCommentVNode)(" Âç±Èô©Âå∫ "),(0,r.createElementVNode)("div",u0,[(0,r.createVNode)((0,r.unref)(Gq.A),{size:16,class:"legend-icon danger"}),t[26]||(t[26]=(0,r.createElementVNode)("span",null,"Âç±Èô©Âå∫",-1))]),(0,r.createCommentVNode)(" ÁâπÊÆäÂå∫Âüü "),(0,r.createElementVNode)("div",m0,[(0,r.createVNode)((0,r.unref)(Mu),{size:16,class:"legend-icon special"}),t[27]||(t[27]=(0,r.createElementVNode)("span",null,"ÁâπÊÆäÂå∫Âüü",-1))]),(0,r.createCommentVNode)(" Áé©ÂÆ∂‰ΩçÁΩÆ "),(0,r.createElementVNode)("div",p0,[(0,r.createVNode)((0,r.unref)(V),{size:16,class:"legend-icon player"}),t[28]||(t[28]=(0,r.createElementVNode)("span",null,"Áé©ÂÆ∂‰ΩçÁΩÆ",-1))]),(0,r.createCommentVNode)(" NPC‰ΩçÁΩÆ "),(0,r.createElementVNode)("div",g0,[(0,r.createVNode)((0,r.unref)(Bu),{size:16,class:"legend-icon npc"}),t[29]||(t[29]=(0,r.createElementVNode)("span",null,"NPC‰ΩçÁΩÆ",-1))])]))],2)]);var o,c}}});var f0=n(8351),v0={};v0.styleTagTransform=k(),v0.setAttributes=v(),v0.insert=h().bind(null,"head"),v0.domAPI=p(),v0.insertStyleElement=y(),u()(f0.A,v0),f0.A&&f0.A.locals&&f0.A.locals;const b0=(0,N.A)(h0,[["__scopeId","data-v-bcca12f0"]]),y0={class:"event-panel"},x0={class:"event-toolbar"},k0={class:"title"},w0={key:0,class:"meta"},E0={key:0,class:"config-section"},N0={class:"config-item"},S0={class:"toggle-switch"},_0={class:"config-item"},V0={class:"config-item"},C0={class:"config-item config-item-full"},A0={class:"event-list"},D0={key:0,class:"empty-state"},T0={key:1,class:"events"},B0={class:"event-header"},I0={class:"event-type"},M0={class:"event-name"},z0={class:"event-time"},P0={class:"event-desc"},R0=(0,r.defineComponent)({__name:"EventPanel",setup(e){const t=(0,Au.useGameStateStore)(),n=(0,md.useCharacterStore)(),a=(0,r.ref)(!1),o=(0,r.computed)(()=>t.eventSystem),i=(0,r.computed)(()=>[...o.value?.‰∫ã‰ª∂ËÆ∞ÂΩï||[]].slice().reverse()),s=(0,r.computed)(()=>{const e=o.value?.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥;return e?u(e):""}),l=(0,r.reactive)({enabled:!0,minYears:1,maxYears:10,prompt:""}),c=async()=>{try{if(o.value?.ÈÖçÁΩÆ){const e=o.value.ÈÖçÁΩÆ;e.ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂=l.enabled,e.ÊúÄÂ∞èÈó¥ÈöîÂπ¥=Math.max(1,Math.floor(l.minYears)),e.ÊúÄÂ§ßÈó¥ÈöîÂπ¥=Math.max(e.ÊúÄÂ∞èÈó¥ÈöîÂπ¥,Math.floor(l.maxYears)),e.‰∫ã‰ª∂ÊèêÁ§∫ËØç=l.prompt||"",await n.saveCurrentGame(),X.o.success("‰∫ã‰ª∂ÈÖçÁΩÆÂ∑≤‰øùÂ≠ò")}}catch(e){console.error("‰øùÂ≠ò‰∫ã‰ª∂ÈÖçÁΩÆÂ§±Ë¥•:",e),X.o.error("‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}},d=async()=>{try{o.value&&(o.value.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=null,await n.saveCurrentGame(),X.o.success("Â∑≤ÈáçÊñ∞ÊäΩÂèñ‰∏ãÊ¨°‰∏ñÁïå‰∫ã‰ª∂Êó∂Èó¥"))}catch(e){console.error("ÈáçÁΩÆ‰∏ãÊ¨°‰∫ã‰ª∂Â§±Ë¥•:",e),X.o.error("ÈáçÁΩÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}};function u(e){return`${e.Âπ¥}Âπ¥${e.Êúà}Êúà${e.Êó•}Êó• ${String(e.Â∞èÊó∂).padStart(2,"0")}:${String(e.ÂàÜÈíü).padStart(2,"0")}`}return(0,r.onMounted)(()=>{(()=>{if(o.value?.ÈÖçÁΩÆ){const e=o.value.ÈÖçÁΩÆ;l.enabled=!1!==e.ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂,l.minYears=Number(e.ÊúÄÂ∞èÈó¥ÈöîÂπ¥??1),l.maxYears=Number(e.ÊúÄÂ§ßÈó¥ÈöîÂπ¥??10),l.prompt=String(e.‰∫ã‰ª∂ÊèêÁ§∫ËØç??"")}})()}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",y0,[(0,r.createElementVNode)("div",x0,[(0,r.createElementVNode)("div",k0,[t[5]||(t[5]=(0,r.createElementVNode)("span",{class:"title-text"},"‰∏ñÁïå‰∫ã‰ª∂",-1)),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",w0,"¬∑ ‰∏ãÊ¨°‰∫ã‰ª∂Ôºö"+(0,r.toDisplayString)(s.value),1)):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("button",{class:"tool-btn",onClick:t[0]||(t[0]=e=>a.value=!a.value)},(0,r.toDisplayString)(a.value?"ÈöêËóèÈÖçÁΩÆ":"‰∫ã‰ª∂ÈÖçÁΩÆ"),1)]),(0,r.createCommentVNode)(" ÈÖçÁΩÆÂå∫Âüü "),a.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",E0,[(0,r.createElementVNode)("div",N0,[t[7]||(t[7]=(0,r.createElementVNode)("div",{class:"config-label"},[(0,r.createElementVNode)("span",{class:"label-text"},"ÂêØÁî®‰∏ñÁïå‰∫ã‰ª∂"),(0,r.createElementVNode)("span",{class:"label-hint"},"Ê∏∏ÊàèÊó∂Èó¥Êé®ËøõÊó∂Ëá™Âä®ÂèëÁîüÂΩ±Âìç‰∏ñÁïåÁöÑ‰∫ã‰ª∂")],-1)),(0,r.createElementVNode)("label",S0,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>l.enabled=e),onChange:c},null,544),[[r.vModelCheckbox,l.enabled]]),t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"toggle-slider"},null,-1))])]),(0,r.createElementVNode)("div",_0,[t[8]||(t[8]=(0,r.createElementVNode)("div",{class:"config-label"},[(0,r.createElementVNode)("span",{class:"label-text"},"‰∫ã‰ª∂Èó¥ÈöîÔºàÊúÄÂ∞èÔºâ"),(0,r.createElementVNode)("span",{class:"label-hint"},"ÈöèÊú∫‰∫ã‰ª∂ÊúÄÁü≠Èó¥ÈöîÔºàÂπ¥Ôºâ")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",class:"config-input",min:"1",step:"1","onUpdate:modelValue":t[2]||(t[2]=e=>l.minYears=e),onChange:c},null,544),[[r.vModelText,l.minYears,void 0,{number:!0}]])]),(0,r.createElementVNode)("div",V0,[t[9]||(t[9]=(0,r.createElementVNode)("div",{class:"config-label"},[(0,r.createElementVNode)("span",{class:"label-text"},"‰∫ã‰ª∂Èó¥ÈöîÔºàÊúÄÂ§ßÔºâ"),(0,r.createElementVNode)("span",{class:"label-hint"},"ÈöèÊú∫‰∫ã‰ª∂ÊúÄÈïøÈó¥ÈöîÔºàÂπ¥Ôºâ")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",class:"config-input",min:"1",step:"1","onUpdate:modelValue":t[3]||(t[3]=e=>l.maxYears=e),onChange:c},null,544),[[r.vModelText,l.maxYears,void 0,{number:!0}]])]),(0,r.createElementVNode)("div",C0,[t[10]||(t[10]=(0,r.createElementVNode)("div",{class:"config-label"},[(0,r.createElementVNode)("span",{class:"label-text"},"Ëá™ÂÆö‰πâ‰∫ã‰ª∂ÊèêÁ§∫ËØç"),(0,r.createElementVNode)("span",{class:"label-hint"},"‰∏∫‰∏ñÁïå‰∫ã‰ª∂ÁîüÊàêÊ∑ªÂä†Ëá™ÂÆö‰πâÊåá‰ª§ÔºàÂèØÈÄâÔºâ")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.prompt=e),class:"config-textarea",placeholder:"‰æãÂ¶ÇÔºöÂÖ¨Âè∏ÁÅ´Âπ∂„ÄÅÈªëÂ∏Ç‰∫§ÊòìÂ§±Êéß„ÄÅÂå∫ÂüüÂ∞ÅÈîÅÂçáÁ∫ß„ÄÅÂ•ΩÂèãÂç∑ÂÖ•‰∫ãÊïÖÔºåÂπ∂Â∞ΩÈáèËÆ©‰∫ã‰ª∂ÂΩ±ÂìçÁé©ÂÆ∂...",rows:"3",onChange:c},null,544),[[r.vModelText,l.prompt]])]),(0,r.createElementVNode)("div",{class:"config-actions"},[(0,r.createElementVNode)("button",{class:"action-btn",onClick:d}," ÈáçÊñ∞ÊäΩÂèñ‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥ ")])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",A0,[0===i.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",D0,t[11]||(t[11]=[(0,r.createElementVNode)("div",{class:"empty-title"},"ÊöÇÊó†‰∫ã‰ª∂ËÆ∞ÂΩï",-1),(0,r.createElementVNode)("div",{class:"empty-hint"},"‰∫ã‰ª∂‰ºöÈöèÊ∏∏ÊàèÊó∂Èó¥Êé®ËøõËá™Âä®ÂèëÁîü„ÄÇ",-1)]))):((0,r.openBlock)(),(0,r.createElementBlock)("div",T0,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.‰∫ã‰ª∂ID,class:"event-item"},[(0,r.createElementVNode)("div",B0,[(0,r.createElementVNode)("span",I0,(0,r.toDisplayString)(e.‰∫ã‰ª∂Á±ªÂûã),1),(0,r.createElementVNode)("span",M0,(0,r.toDisplayString)(e.‰∫ã‰ª∂ÂêçÁß∞),1),(0,r.createElementVNode)("span",z0,(0,r.toDisplayString)(u(e.ÂèëÁîüÊó∂Èó¥)),1)]),(0,r.createElementVNode)("div",P0,(0,r.toDisplayString)(e.‰∫ã‰ª∂ÊèèËø∞),1)]))),128))]))])]))}});var $0=n(5303),O0={};O0.styleTagTransform=k(),O0.setAttributes=v(),O0.insert=h().bind(null,"head"),O0.domAPI=p(),O0.insertStyleElement=y(),u()($0.A,O0),$0.A&&$0.A.locals&&$0.A.locals;const L0=(0,N.A)(R0,[["__scopeId","data-v-02acb0a1"]]),F0=(0,_.A)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),j0=(0,_.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),U0=(0,_.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),q0=(0,_.A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),G0=(0,_.A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),H0=(0,_.A)("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),Y0={Ê∞ëÁî®:80,ÊîπË£Ö:200,ÂÜõËßÑ:500,ÁâπÁ∫ß:900,Á¶ÅÂøå:2600},W0={ËçØÂâÇ:.85,Á®ãÂ∫è:1.4,Ë£ÖÂ§á:1.2,ÊùêÊñô:.65,ÊùÇÈ°π:1},X0=[{name:"ËÉΩÈáèÊ≥®Â∞ÑÂâÇ",type:"ËçØÂâÇ",quality:"ÊîπË£Ö‰∏ã",description:"Âä†ÈÄüÁîµÈáèÊÅ¢Â§çÔºåÁ®≥ÂÆöËÆ≠ÁªÉËäÇÂ•è„ÄÇ",icon:"*"},{name:"ÁîµÊ±†ÂõûÂÖÖÈíà",type:"ËçØÂâÇ",quality:"ÊîπË£Ö‰∏≠",description:"ËøÖÈÄüÊÅ¢Â§çÁîµÈáèÊ∂àËÄóÔºåÈÄÇÂêàÊàòÊñóÂêéË°•Áªô„ÄÇ",icon:"*"},{name:"Â∫îÊÄ•Ê≠¢Ë°ÄÂñ∑Èõæ",type:"ËçØÂâÇ",quality:"Ê∞ëÁî®",description:"Â§ñ‰º§Ê≠¢Ë°ÄÔºåÁºìËß£Áñ≤Âä≥„ÄÇ",icon:"*"},{name:"ÂèçÂ∫îÊä§ÁõæÊ®°Âùó",type:"Ë£ÖÂ§á",quality:"ÊîπË£Ö‰∏ã",description:"ÂáèËΩª‰ΩéÈò∂ÁÅ´Âäõ‰º§ÂÆ≥„ÄÇ",icon:"O"},{name:"ËäØÂ∏ÅÊî∂Á∫≥Áõí",type:"ÊùÇÈ°π",quality:"Ê∞ëÁî®",description:"Áü≠ÊúüÂ≠òÊîæ‰ø°Áî®ÁÇπÁöÑËΩª‰æøÁõí„ÄÇ",icon:"O"},{name:"ÂêàÊàêËçØËçâ",type:"ÊùêÊñô",quality:"Ê∞ëÁî®",description:"Âü∫Á°ÄÂà∂ÂâÇÊùêÊñôÔºåÂ∏∏ËßÅÂüπÂÖªÁâ©„ÄÇ",icon:"O"},{name:"ÂØºÁîµÁ≤âÊú´",type:"ÊùêÊñô",quality:"ÊîπË£Ö‰∏ã",description:"Ë£ÖÈÖçËæÖÊùêÔºåÂ¢ûÂº∫ËÉΩÈáèÂØºÈÄö„ÄÇ",icon:"O"}],J0=[{name:"Âü∫Á°ÄÊï£ÁÉ≠ÂçèËÆÆ",quality:"Ê∞ëÁî®",description:"Á®≥ÂÆöËÉΩÈáèÂæ™ÁéØÔºåÈÄÇÂêàÊâìÂ∫ïËÆ≠ÁªÉ„ÄÇ"},{name:"ËÉΩÈáèÂºïÂØºÂçèËÆÆ",quality:"ÊîπË£Ö‰∏ã",description:"ÂºïÂØºËÉΩÈáèÊµÅËΩ¨ÔºåÊèêÂçáÁ≥ªÁªüÁ®≥ÂÆöÊÄß„ÄÇ"},{name:"ÂøÉÊô∫Á®≥ÂÆöÂçèËÆÆ",quality:"ÊîπË£Ö‰∏≠",description:"Èôç‰ΩéËøáËΩΩÊ≥¢Âä®ÔºåÊèêÂçá‰∏ìÊ≥®Â∫¶„ÄÇ"},{name:"Èò≤Êä§Áü©Èòµ",quality:"ÊîπË£Ö‰∏≠",description:"ÁîüÊàê‰∏¥Êó∂Êä§ÁõæÔºåÊèêÂçáÂü∫Á°ÄÈò≤Âæ°„ÄÇ"}],K0={sword:[{name:"ËøëÊàòÂçèËÆÆÊÆãÁâá",type:"Á®ãÂ∫è",quality:"ÊîπË£Ö‰∏≠",description:"ËøëÊàòÂü∫Á°ÄÁØáÁ´†ÔºåÈÄÇÂêàÂÖ•Èó®ÊàêÂëò„ÄÇ",icon:"*"},{name:"ÂêàÈáëÂàÄËÉö",type:"Ë£ÖÂ§á",quality:"ÊîπË£Ö‰∏≠",description:"ÂèØÂ°ëÊÄßËâØÂ•ΩÁöÑÂêàÈáëËÉö‰ª∂„ÄÇ",icon:"O"},{name:"ÂàÉÂè£Á†îÁ£®Âô®",type:"ÊùêÊñô",quality:"Ê∞ëÁî®",description:"ÊèêÂçáÂàÉÂè£ÈîãÈîêÂ∫¶„ÄÇ",icon:"O"}],alchemy:[{name:"Âà∂ÂâÇÂ∑•Ëâ∫",type:"Á®ãÂ∫è",quality:"ÊîπË£Ö‰∏≠",description:"Âà∂ÂâÇÂü∫Á°ÄÊµÅÁ®ãÔºåËÆ≤Á©∂Ê∏©Êéß‰∏éÁ∫ØÂ∫¶„ÄÇ",icon:"*"},{name:"‰æøÊê∫ÂêàÊàêÁÇâ",type:"Ë£ÖÂ§á",quality:"ÊîπË£Ö‰∏ã",description:"Â∞èÂûãÂà∂ÂâÇÂêàÊàêÁÇâÔºåÁ®≥ÂÆöÂèçÂ∫î„ÄÇ",icon:"O"},{name:"ËçØÂâÇÂüπÂÖªËäØ",type:"ÊùêÊñô",quality:"ÊîπË£Ö‰∏ã",description:"ÈÄÇÂêàÂüπÂÖªËà±‰ΩøÁî®Ôºå‰∫ßÈáèÁ®≥ÂÆö„ÄÇ",icon:"O"}],array:[{name:"ÁÆóÊ≥ïÊ†áËÆ∞ÂÖ•Èó®",type:"Á®ãÂ∫è",quality:"ÊîπË£Ö‰∏ã",description:"Ê†áËÆ∞ÁªòÂà∂Âü∫Á°ÄÔºåÁ®≥ÂÆöÂçèËÆÆÁªìÊûÑ„ÄÇ",icon:"*"},{name:"Â∞è‰∫îÂüüÁü©ÈòµÁõò",type:"Ë£ÖÂ§á",quality:"ÊîπË£Ö‰∏≠",description:"‰∏¥Êó∂Â∏ÉÊéßÁî®Áü©ÈòµÁõòÔºåÊïàÊûúÊúâÈôê„ÄÇ",icon:"O"},{name:"ÂØºÁîµÂ¢®",type:"ÊùêÊñô",quality:"Ê∞ëÁî®",description:"Ê†áËÆ∞ÊùêÊñôÔºåÁ®≥ÂÆöÁ∫øË∑Ø„ÄÇ",icon:"O"}],demonic:[{name:"ÊöóÁΩëÂêûÂô¨ÂçèËÆÆ",type:"Á®ãÂ∫è",quality:"ÊîπË£Ö‰∏≠",description:"È´òÊïàÂêûÂπ∂Êï∞ÊçÆÊµÅÔºå‰ΩÜÈ£éÈô©Êõ¥Â§ß„ÄÇ",icon:"*"},{name:"ËøáËΩΩÂÖ¥Â•ãÂâÇ",type:"ËçØÂâÇ",quality:"ÊîπË£Ö‰∏≠",description:"Áü≠Êó∂ÊèêÂçáËæìÂá∫ÔºåÂâØ‰ΩúÁî®ÊòéÊòæ„ÄÇ",icon:"*"},{name:"Ê±°ÊüìÊô∂‰Ωì",type:"ÊùêÊñô",quality:"ÊîπË£Ö‰∏ã",description:"ÊöóÁΩëËæÖÊùêÔºåËÉΩÈáè‰∏çÁ®≥ÂÆö„ÄÇ",icon:"O"}],merchant:[{name:"ÊäòÊâ£ÂØÜÈí•",type:"ÊùÇÈ°π",quality:"Ê∞ëÁî®",description:"ÂÖëÊç¢ÂïÜ‰ºöÊäòÊâ£ÁöÑÂØÜÈí•„ÄÇ",icon:"O"},{name:"ÊÉÖÊä•ËäØÁâá",type:"ÊùÇÈ°π",quality:"ÊîπË£Ö‰∏ã",description:"ËÆ∞ÂΩïÂë®ËæπÂäøÂäõÂä®ÊÄÅÁöÑËäØÁâá„ÄÇ",icon:"O"},{name:"ÈÄöË°åËÆ∏ÂèØ",type:"ÊùÇÈ°π",quality:"ÊîπË£Ö‰∏≠",description:"ÂèØÈÄöË°åÈÉ®ÂàÜÁÆ°ÊéßÂÖ≥Âç°„ÄÇ",icon:"O"}],beast:[{name:"Êó†‰∫∫Êú∫È©æÈ©≠ÂçèËÆÆ",type:"Á®ãÂ∫è",quality:"ÊîπË£Ö‰∏≠",description:"Âü∫Á°ÄÊó†‰∫∫Êú∫ÊéßÂà∂ÂçèËÆÆÔºåÈÄÇÂêàÂÖ•Èó®„ÄÇ",icon:"*"},{name:"Êó†‰∫∫Êú∫Ë°•ÁªôÂåÖ",type:"ÊùêÊñô",quality:"Ê∞ëÁî®",description:"Ë°•ÂÖÖÊó†‰∫∫Êú∫Áª≠Ëà™ÁöÑË°•ÁªôÂåÖ„ÄÇ",icon:"O"},{name:"ÁîüÁâ©Ê†∑Êú¨Êô∂",type:"ÊùêÊñô",quality:"ÊîπË£Ö‰∏ã",description:"Ëï¥Âê´Áîü‰ΩìÊ¥ªÊÄßÊ†∑Êú¨„ÄÇ",icon:"O"}]},Z0={sword:[{name:"ËøëÊàòÂçèËÆÆ",quality:"ÊîπË£Ö‰∏≠",description:"Ë∫´Ê≥ï‰∏éÊàòÊúØÈÖçÂêàÁöÑÂü∫Á°ÄËøëÊàòÂçèËÆÆ„ÄÇ"},{name:"ÁñæË°åÊ≠•Ê≥ï",quality:"ÂÜõËßÑ‰∏ã",description:"È´òÈÄü‰ΩçÁßªÔºåÊ≠•Ê≥ïÈ£òÈÄ∏ÈöæÊµã„ÄÇ"},{name:"Êô∫ËÉΩÊ≠¶Âô®ÊéßÂà∂",quality:"ÂÜõËßÑ‰∏ã",description:"Êô∫ËÉΩÊ≠¶Âô®ËøúÁ®ãÊéßÂà∂ÔºåÊèêÂçáÊú∫Âä®ÊÄß„ÄÇ"}],alchemy:[{name:"ËçØÂâÇÈÖçÊñπÂ∫ì",quality:"ÊîπË£Ö‰∏≠",description:"ÈÖçÊñπËæ®ËØÜ‰∏éÊùêÊñôÊê≠ÈÖçË¶ÅËØÄ„ÄÇ"},{name:"Âà∂ÂâÇÂ∑•Ëâ∫",quality:"ÂÜõËßÑ‰∏ã",description:"Âà∂ÂâÇÊ∏©Êéß‰∏éÊµÅÁ®ãÊéåÊéß‰πãÊ≥ï„ÄÇ"},{name:"ËçØÂâÇËØÜÂà´",quality:"Ê∞ëÁî®",description:"ËØÜÂà´ËçØÂâÇÂìÅË¥®‰∏éÂ±ûÊÄß„ÄÇ"}],array:[{name:"ÁÆóÊ≥ïÊ†áËÆ∞Á≤æ‰πâ",quality:"ÊîπË£Ö‰∏≠",description:"Ê†áËÆ∞ÂãæÂãíÊäÄÂ∑ßÔºåÊèêÂçáÂçèËÆÆÁ®≥ÂÆö„ÄÇ"},{name:"Â∞è‰∫îÂüüÈòµÂõæ",quality:"ÂÜõËßÑ‰∏ã",description:"Â∏∏Áî®Áü©ÈòµÁªìÊûÑÔºåÁ®≥ÂÆöÈò≤ÂÆà„ÄÇ"}],demonic:[{name:"ÊöóÁΩëÂ¢ûÂπÖÂçèËÆÆ",quality:"ÂÜõËßÑ‰∏ã",description:"Áü≠Êó∂ÁàÜÂèëÂ¢ûÂπÖÔºåÈ£éÈô©ËæÉÈ´ò„ÄÇ"},{name:"ÊöóÂΩ±ÊΩúË°åÂçèËÆÆ",quality:"ÊîπË£Ö‰∏≠",description:"Èôç‰ΩéË¢´‰æ¶ÊµãÊ¶ÇÁéáÔºåÂº∫ÂåñÊÑüÁü•„ÄÇ"}],merchant:[{name:"ÂïÜË∑ØÁ≠ñÁï•",quality:"ÊîπË£Ö‰∏ã",description:"Ê¥ûÂØü‰∫∫ÂøÉÔºåÁ®≥Âõ∫‰∫§ÊòìÁß©Â∫è„ÄÇ"},{name:"Áâ©ËµÑÈâ¥ÂÆöÂçèËÆÆ",quality:"ÂÜõËßÑ‰∏ã",description:"Ëæ®ËØÜÁâ©ËµÑÁúü‰º™‰∏éÊù•Ê∫ê„ÄÇ"}],beast:[{name:"Êó†‰∫∫Êú∫ÊÑüÂ∫îÂçèËÆÆ",quality:"ÂÜõËßÑ‰∏ã",description:"ÊÑüÁü•Êó†‰∫∫Êú∫Áä∂ÊÄÅ‰∏éÊÉÖÁª™„ÄÇ"},{name:"Êó†‰∫∫Êú∫ÁªëÂÆöÂçèËÆÆ",quality:"ÊîπË£Ö‰∏≠",description:"Á®≥Âõ∫Êó†‰∫∫Êú∫ÁªëÂÆöÁöÑÂçèËÆÆ„ÄÇ"}]},Q0=e=>{let t=0;for(let n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t)},e1=(e,t,n)=>{const a=[...e],r=[],o=Math.min(t,a.length);for(let e=0;e<o;e+=1){const e=Math.floor(n()*a.length);r.push(a.splice(e,1)[0])}return r},t1=e=>{const t=e.match(/Ê∞ëÁî®|ÊîπË£Ö|ÂÜõËßÑ|ÁâπÁ∫ß|Á¶ÅÂøå/);return t?t[0]:"Ê∞ëÁî®"},n1=e=>{const t=`${e.Á±ªÂûã||""}${Array.isArray(e.ÁâπËâ≤)?e.ÁâπËâ≤.join(""):e.ÁâπËâ≤||""}${Array.isArray(e.ÁâπËâ≤ÂàóË°®)?e.ÁâπËâ≤ÂàóË°®.join(""):""}`;return/Ââë|ÂàÄ|ÂàÉ|ËøëÊàò/i.test(t)?"sword":/ËçØÂâÇ|Âà∂ÂâÇ|ÂêàÊàê/i.test(t)?"alchemy":/Áü©Èòµ|ÁÆóÊ≥ï|Ê†áËÆ∞/i.test(t)?"array":/ÂïÜ/i.test(t)?"merchant":/Êó†‰∫∫Êú∫|ÂÖΩ/i.test(t)?"beast":/ÈªëÂüü|ÊöóÁΩë|ÁÖû/i.test(t)?"demonic":"sword"},a1=(e,t,n)=>{const a=n1(e),r=[...X0,...K0[a]||[]];return e1(r,6,t).map((e,a)=>{const r=t1(e.quality),o=Y0[r]||120,i=W0[e.type]||1,s=.85+.3*t(),l=Math.max(40,10*Math.round(o*i*s/10));let c;return c="Á®ãÂ∫è"===e.type?void 0:"Ë£ÖÂ§á"===e.type?Math.max(1,Math.floor(3*t())+1):"ËçØÂâÇ"===e.type?Math.max(3,Math.floor(8*t())+3):"ÊùêÊñô"===e.type?Math.max(5,Math.floor(14*t())+5):Math.max(2,Math.floor(6*t())+2),{id:`sect_${n}_shop_${a+1}`,name:e.name,icon:e.icon||"O",type:e.type,quality:e.quality,description:e.description,cost:l,stock:c}})},r1=(e,t,n)=>{const a=n1(e),r=[...J0,...Z0[a]||[]];return e1(r,5,t).map((e,a)=>{const r=t1(e.quality),o=Y0[r]||120,i=.85+.25*t(),s=Math.max(60,10*Math.round(1.2*o*i/10));return{id:`sect_${n}_lib_${a+1}`,name:e.name,quality:e.quality,qualityTier:r,cost:s,description:e.description}})},o1={class:"sect-panel"},i1={class:"panel-content"},s1={class:"sect-container"},l1={class:"sect-list"},c1={class:"list-header"},d1={class:"search-bar"},u1={class:"list-content"},m1={key:0,class:"loading-state"},p1={key:1,class:"empty-state"},g1={class:"empty-text"},h1={class:"empty-hint"},f1={key:2,class:"sect-list-content"},v1=["onClick"],b1={class:"sect-icon"},y1={class:"sect-emoji"},x1={class:"sect-info"},k1={class:"sect-name"},w1={class:"sect-meta"},E1={class:"sect-type"},N1={class:"sect-detail"},S1={key:0,class:"detail-content"},_1={class:"detail-header"},V1={class:"detail-icon"},C1={class:"sect-emoji-large"},A1={class:"detail-info"},D1={class:"detail-name"},T1={class:"detail-badges"},B1={class:"detail-body"},I1={key:0,class:"detail-section"},M1={class:"section-title"},z1={class:"member-stats"},P1={class:"total-members"},R1={class:"total-value"},$1={key:0,class:"realm-distribution"},O1={class:"realm-stats"},L1={class:"realm-name"},F1={class:"realm-count"},j1={key:1,class:"position-distribution"},U1={class:"position-stats"},q1={class:"position-name"},G1={class:"position-count"},H1={class:"detail-section"},Y1={class:"section-title"},W1={class:"info-grid"},X1={class:"info-item"},J1={class:"info-value"},K1={class:"info-item"},Z1={class:"info-value"},Q1={class:"info-item"},e2={class:"info-value"},t2={class:"info-item"},n2={class:"info-value"},a2={key:0,class:"leadership-info"},r2={class:"leader-grid"},o2={class:"leader-item primary-leader"},i2={class:"leader-name"},s2={key:0,class:"leader-realm"},l2={key:0,class:"leader-item"},c2={class:"leader-name"},d2={key:1,class:"leader-item"},u2={class:"leader-name"},m2={class:"sect-strength"},p2={class:"strength-item"},g2={class:"strength-value peak-power"},h2={key:0,class:"strength-item"},f2={class:"power-level"},v2={class:"sect-description"},b2={class:"desc-text"},y2={key:1,class:"sect-specialties"},x2={class:"specialties-tags"},k2={class:"detail-section"},w2={class:"section-title"},E2={class:"relationship-info"},N2={class:"relationship-item"},S2={class:"relationship-item"},_2={class:"reputation-level"},V2={key:1,class:"detail-section"},C2={class:"section-title"},A2={class:"territory-info"},D2={class:"influence-description"},T2={key:0,class:"controlled-areas"},B2={class:"areas-list"},I2={class:"strategic-value"},M2={class:"value-display"},z2={class:"value-bar"},P2={class:"value-text"},R2={key:2,class:"detail-section"},$2={class:"section-title"},O2={class:"join-requirements"},L2={key:0,class:"requirements-list"},F2={class:"requirement-text"},j2={key:1,class:"no-requirements"},U2={key:0,class:"join-benefits"},q2={class:"benefits-list"},G2={class:"benefit-text"},H2={class:"join-actions"},Y2={key:3,class:"detail-section"},W2={class:"section-title"},X2={class:"current-member-info"},J2={class:"member-status"},K2={class:"status-item"},Z2={class:"status-value position"},Q2={class:"status-item"},e5={class:"status-value contribution"},t5={class:"status-item"},n5={class:"status-value reputation"},a5={class:"status-item"},r5={class:"status-value join-date"},o5={class:"member-actions"},i5={class:"sect-actions"},s5={class:"action-buttons"},l5={key:1,class:"no-selection"},c5=(0,r.defineComponent)({__name:"SectPanel",setup(e){const t=(0,md.useCharacterStore)(),n=(0,Au.useGameStateStore)(),o=(0,a.useRouter)(),{t:i}=(0,K.s)(),s=((0,se.isTavernEnv)(),(0,r.ref)(!1)),l=(0,r.ref)(null),c=(0,r.ref)(""),d=(0,r.computed)(()=>{const e=l.value;return e?.È¢ÜÂØºÂ±Ç||e?.leadership||null}),u=()=>{Oy((()=>{const e=n.worldInfo?.Âú∞ÂõæÈÖçÁΩÆ;return`‰Ω†ÊòØGMÔºåËØ∑Ê†πÊçÆÂΩìÂâçÂâßÊÉÖ‰∏é‰∏ñÁïåËÆæÂÆöÔºåÁîüÊàê/Ë°•ÂÖ®„Äå‰∏ñÁïå.‰ø°ÊÅØ.ÂäøÂäõ‰ø°ÊÅØ„ÄçÔºàÊï∞ÁªÑÔºâ„ÄÇ\n\nË¶ÅÊ±ÇÔºö\n- ÊØèÊù°ÂäøÂäõËá≥Â∞ëÂåÖÂê´ÔºöÂêçÁß∞„ÄÅÁ±ªÂûã„ÄÅÁ≠âÁ∫ß„ÄÅÊèèËø∞„ÄÅÁªÑÁªáÈ©ªÂú∞„ÄÅ‰∏ªË¶ÅËµÑÊ∫ê„ÄÅÂèØÂê¶Âä†ÂÖ•„ÄÅÂä†ÂÖ•Êù°‰ª∂„ÄÅÈ¢ÜÂØºÂ±Ç„ÄÅÊàêÂëòÊï∞Èáè„ÄÅÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ„ÄÅ‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª„ÄÅÂ£∞ÊúõÂÄº„ÄÇ\n- ÂùêÊ†áËåÉÂõ¥Ôºöx 0-${Number(e?.width)||1e4}Ôºåy 0-${Number(e?.height)||1e4}ÔºàÊ∏∏ÊàèÂùêÊ†áÔºåÂ∑¶‰∏äËßí‰∏∫ÂéüÁÇπÔºâ„ÄÇ\n- ÂäøÂäõÂøÖÈ°ªÂåÖÂê´„Äå‰ΩçÁΩÆ„ÄçÂùêÊ†áÔºàÂØπË±°ÔºåÂê´x/yÔºâ‰∏é„ÄåÂäøÂäõËåÉÂõ¥„ÄçÔºàËá≥Â∞ë4‰∏™ÂùêÊ†áÁÇπÔºâ„ÄÇ\n- ÂÜÖÂÆπË¶Å‰∏éÂΩìÂâç‰∏ñÁïå‰∏ÄËá¥ÔºåÈÅøÂÖç‰∏éÂ∑≤Â≠òÂú®‰ø°ÊÅØÂÜ≤Á™Å„ÄÇ\n- ‰∏•Ê†ºËæìÂá∫‰∏Ä‰∏™ JSON ÂØπË±°Ôºà‰∏çË¶Å‰ª£Á†ÅÂùó/Ëß£Èáä/È¢ùÂ§ñÊñáÊú¨Ôºå‰∏çË¶Å <thinking>ÔºâÔºö\n{\n  "text": "„ÄêÁ≥ªÁªü„ÄëÂäøÂäõ‰ø°ÊÅØÂ∑≤Ë°•ÂÖ®„ÄÇ",\n  "mid_term_memory": "",\n  "tavern_commands": [\n    {"action":"set","key":"‰∏ñÁïå.‰ø°ÊÅØ.ÂäøÂäõ‰ø°ÊÅØ","value":[/*...ÂäøÂäõÊï∞ÁªÑ...*/]}\n  ],\n  "action_options": []\n}`})()),X.o.success("Â∑≤ÂèëÈÄÅÂà∞ÂØπËØù")},m=(0,r.computed)(()=>{const e=n.getCurrentSaveData();if(!e)return{availableSects:[]};let t=[];const a=n.sectSystem,r=e?.‰∏ñÁïå?.‰ø°ÊÅØ;r?.ÂäøÂäõ‰ø°ÊÅØ&&(t=r.ÂäøÂäõ‰ø°ÊÅØ.filter(e=>{if(!e.Á±ªÂûã)return!1;const t=e.Á±ªÂûã.toLowerCase();return!["ÁßòÂ¢É","ÈÅóËøπ","Á¶ÅÂú∞","Ê£ÆÊûó","Â±±ËÑâ","ÊπñÊ≥ä","ÂüéÊ±†"].some(e=>t.includes(e.toLowerCase()))})),0===t.length&&a?.ÁªÑÁªáÊ°£Ê°à&&Object.keys(a.ÁªÑÁªáÊ°£Ê°à).length>0&&(t=Object.values(a.ÁªÑÁªáÊ°£Ê°à));const o=t.filter((e,t,n)=>n.findIndex(t=>t.ÂêçÁß∞===e.ÂêçÁß∞)===t);return{availableSects:em(o)}}),p=(0,r.computed)(()=>n.sectMemberInfo||void 0),g=(0,r.computed)(()=>m.value.availableSects),h=(0,r.computed)(()=>{let e=[...g.value];if(c.value.trim()){const t=c.value.toLowerCase();e=e.filter(e=>e.ÂêçÁß∞.toLowerCase().includes(t)||e.Á±ªÂûã.toLowerCase().includes(t)||e.ÊèèËø∞&&e.ÊèèËø∞.toLowerCase().includes(t))}const t=["Ë∂ÖÁ∫ß","‰∏ÄÊµÅ","‰∫åÊµÅ","‰∏âÊµÅ","Êú´ÊµÅ"],n=e=>{if(!e)return 999;const n=t.findIndex(t=>e.includes(t));return-1===n?999:n};return e.sort((e,t)=>n(e.Á≠âÁ∫ß)-n(t.Á≠âÁ∫ß))}),f=e=>{if(e.ÊâÄÂú®Â§ßÊ¥≤)return e.ÊâÄÂú®Â§ßÊ¥≤;const t=n.worldInfo,a=t?.continents||t?.Â§ßÈôÜ‰ø°ÊÅØ;if(a)for(const t of a){if(e.id&&(t.‰∏ªË¶ÅÂäøÂäõ?.includes(e.id)||t.factions?.includes(e.id)))return t.ÂêçÁß∞||t.name||"Êú™ÂëΩÂêçÂ§ßÊ¥≤";if(t.‰∏ªË¶ÅÂäøÂäõ?.includes(e.ÂêçÁß∞)||t.factions?.includes(e.ÂêçÁß∞))return t.ÂêçÁß∞||t.name||"Êú™ÂëΩÂêçÂ§ßÊ¥≤"}if(t?.ÂäøÂäõ‰ø°ÊÅØ)for(const n of t.ÂäøÂäõ‰ø°ÊÅØ)if((n.id&&e.id&&n.id===e.id||n.ÂêçÁß∞===e.ÂêçÁß∞)&&n.ÊâÄÂú®Â§ßÊ¥≤)return n.ÊâÄÂú®Â§ßÊ¥≤;if(e.‰ΩçÁΩÆ&&"object"==typeof e.‰ΩçÁΩÆ&&"x"in e.‰ΩçÁΩÆ&&"y"in e.‰ΩçÁΩÆ){const t=e.‰ΩçÁΩÆ.x,n=e.‰ΩçÁΩÆ.y;return t<110&&n>40?"ÂåóÂ¢ÉÈõ™Âüü":t<110&&n<30?"ÂçóÁñÜËçíÊº†":t>120&&n>35?"‰∏úÊµ∑Áæ§Â≤õ":t>120&&n<35?"‰∏úÂçó‰∏õÊûó":"‰∏≠ÂúüÂ§ßÈôÜ"}return"Êú™Áü•Â§ßÊ¥≤"},v=e=>{const t=e;if(t.‰∏ªË¶ÅËµÑÊ∫ê&&Array.isArray(t.‰∏ªË¶ÅËµÑÊ∫ê))return t.‰∏ªË¶ÅËµÑÊ∫ê.slice(0,3).join("„ÄÅ");if(t.resources&&Array.isArray(t.resources))return t.resources.slice(0,3).join("„ÄÅ");const n=e.Á±ªÂûã||"";return n.includes("Ââë")?"Á•ûÈìÅ„ÄÅÂâëË∞±„ÄÅÁ£®ÂâëÁü≥":n.includes("‰∏π")?"ÁÅµËçØ„ÄÅ‰∏πÁÇâ„ÄÅËçØÂúÉ":n.includes("Á¨¶")||n.includes("Èòµ")?"Á¨¶Á∫∏„ÄÅÈòµÊ≥ï„ÄÅÊ≥ïÂô®":n.includes("È≠î")||n.includes("ÈÇ™")?"È≠îÁü≥„ÄÅÁÖûÊ∞î„ÄÅÁßòÊ≥ï":n.includes("ÂïÜ")?"‰ø°Áî®ÁÇπ„ÄÅÁèçÂÆù„ÄÅÊÉÖÊä•":n.includes("ÂÆ∂ÊóèÂäøÂäõ")?"‰º†Êâø„ÄÅ‰∫∫ËÑâ„ÄÅÂ∫ïËï¥":"‰ø°Áî®ÁÇπ„ÄÅÊ®°Âùó„ÄÅËÆ≠ÁªÉËµÑÊ∫ê"},b=e=>{const t=[];return e.ÁâπËâ≤ÂàóË°®&&Array.isArray(e.ÁâπËâ≤ÂàóË°®)&&t.push(...e.ÁâπËâ≤ÂàóË°®),e.ÁâπËâ≤&&(Array.isArray(e.ÁâπËâ≤)?t.push(...e.ÁâπËâ≤):"string"==typeof e.ÁâπËâ≤&&t.push(e.ÁâπËâ≤)),Array.from(new Set(t))},y=e=>String("object"==typeof e&&null!==e&&"name"in e?e.name:e||"‰∏≠Á´ã"),x=e=>"object"==typeof e&&null!==e&&"value"in e?Number(e.value):Number(e)||0,k=e=>({Áß©Â∫èÁªÑÁªá:"‚õ©Ô∏è",Ê†∏ÂøÉÁªÑÁªá:"‚õ©Ô∏è",ÈªëÂ∏ÇÁªÑÁªá:"üè¥",ÈªëÂ∏ÇÂäøÂäõ:"üè¥",‰∏≠Á´ãÁªÑÁªá:"üèØ",‰ºÅ‰∏öÂÆ∂Êóè:"üèòÔ∏è",ÂÆ∂ÊóèÂäøÂäõ:"üèòÔ∏è",ÂïÜ‰ºö:"üè™",ÂïÜ‰∏öËÅîÁõü:"üè™",Áã¨Á´ãËÅîÁõü:"ü§ù"}[e]||"üèõÔ∏è"),w=e=>{if(!e)return"ÁªÑÁªá";const t={Áß©Â∫èÁªÑÁªá:"Áß©Â∫èÁªÑÁªá",Ê†∏ÂøÉÁªÑÁªá:"Ê†∏ÂøÉÁªÑÁªá",ÈªëÂ∏ÇÁªÑÁªá:"ÈªëÂ∏ÇÁªÑÁªá",ÈªëÂ∏ÇÂäøÂäõ:"ÈªëÂ∏ÇÂäøÂäõ",‰∏≠Á´ãÁªÑÁªá:"‰∏≠Á´ãÁªÑÁªá",‰ºÅ‰∏öÂÆ∂Êóè:"‰ºÅ‰∏öÂÆ∂Êóè",ÂÆ∂ÊóèÂäøÂäõ:"ÂÆ∂ÊóèÂäøÂäõ",ÂïÜ‰∏öËÅîÁõü:"ÂïÜ‰∏öËÅîÁõü",ÂïÜ‰ºöÁªÑÁªá:"ÂïÜ‰∏öËÅîÁõü",Áã¨Á´ãËÅîÁõü:"Áã¨Á´ãËÅîÁõü"};return t[e]?t[e]:e.replace(/È≠îÈÅì/g,"ÈªëÂ∏Ç").replace(/Ê≠£ÈÅì/g,"Áß©Â∫è").replace(/Êï£‰øÆ/g,"Áã¨Á´ã")},E=e=>({Áß©Â∫èÁªÑÁªá:"righteous",Ê†∏ÂøÉÁªÑÁªá:"righteous",ÈªëÂ∏ÇÁªÑÁªá:"demonic",ÈªëÂ∏ÇÂäøÂäõ:"demonic",‰∏≠Á´ãÁªÑÁªá:"neutral",‰ºÅ‰∏öÂÆ∂Êóè:"family",ÂÆ∂ÊóèÂäøÂäõ:"family",ÂïÜ‰ºö:"merchant",ÂïÜ‰∏öËÅîÁõü:"merchant",Áã¨Á´ãËÅîÁõü:"alliance"}[e]||"neutral"),N=e=>e>=90?"Â§©‰∏ãÊó†Âèå":e>=80?"Áß∞Èú∏‰∏ÄÊñπ":e>=70?"ÂÆûÂäõÈõÑÂéö":e>=60?"È¢áÊúâÂÆûÂäõ":e>=50?"‰∏≠Á≠âÊ∞¥Âπ≥":e>=40?"Áï•ÊúâÂÆûÂäõ":"ÂÆûÂäõ‰∏ÄËà¨",S=e=>e>=25?"Â£∞ÂêçËøúÊâ¨":e>=20?"‰∫´ÊúâÁõõË™â":e>=15?"ÂêçÂ£∞Âú®Â§ñ":e>=10?"Â∞èÊúâÂêçÊ∞î":e>=5?"Áï•ÊúâÂ£∞Êúõ":"ÈªòÈªòÊó†Èóª",_=e=>{if(!e)return"Êú™Áü•";try{return new Date(e).toLocaleDateString("zh-CN")}catch{return"Êú™Áü•"}},V=(e,t)=>{const n=t?`‰Ω†Â∑≤Âä†ÂÖ•${e}ÔºåÊòØÂê¶ÈÄÄÂá∫Âπ∂Âä†ÂÖ•${t}ÔºüÈÄÄÂá∫ÂêéÂ∞ÜÊ∏ÖÁ©∫ËØ•ÁªÑÁªáÁöÑË¥°ÁåÆ‰∏éÂÖëÊç¢Êï∞ÊçÆ„ÄÇ`:`Á°ÆÂÆöÈÄÄÂá∫${e}ÔºüÈÄÄÂá∫ÂêéÂ∞ÜÊ∏ÖÁ©∫ËØ•ÁªÑÁªáÁöÑË¥°ÁåÆ‰∏éÂÖëÊç¢Êï∞ÊçÆ„ÄÇ`;return window.confirm(n)},C=e=>{n.updateState("sectMemberInfo",null),n.updateState("sectSystem",null),X.o.success(`Â∑≤ÈÄÄÂá∫ ${e}`)},A=()=>{o.push({name:"SectContribution"})},D=()=>{o.push({name:"SectLibrary"})},T=()=>{o.push({name:"SectMembers"})},B=()=>{t.reloadFromStorage(),X.o.info("Â∑≤Âº∫Âà∂Âà∑Êñ∞Êï∞ÊçÆ")};return(e,t)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",o1,[(0,r.createElementVNode)("div",i1,[(0,r.createElementVNode)("div",s1,[(0,r.createCommentVNode)(" Â∑¶‰æßÔºöÁªÑÁªáÂàóË°® "),(0,r.createElementVNode)("div",l1,[(0,r.createElementVNode)("div",c1,[t[3]||(t[3]=(0,r.createElementVNode)("h3",{class:"panel-title"},"ÂäøÂäõÁªÑÁªá",-1)),(0,r.createElementVNode)("div",d1,[(0,r.createVNode)((0,r.unref)(hI),{size:16}),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),placeholder:"ÊêúÁ¥¢ÁªÑÁªá...",class:"search-input"},null,512),[[r.vModelText,c.value]])])]),(0,r.createElementVNode)("div",u1,[s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",m1,[(0,r.createVNode)((0,r.unref)(zy),{size:32,class:"animate-spin"}),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)((0,r.unref)(i)("Ê≠£Âú®ËØªÂèñÁªÑÁªá‰ø°ÊÅØ...")),1)])):0===h.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",p1,[(0,r.createVNode)((0,r.unref)(F0),{size:48,class:"empty-icon"}),(0,r.createElementVNode)("p",g1,(0,r.toDisplayString)((0,r.unref)(i)("ÊöÇÊó†ÁªÑÁªá‰ø°ÊÅØ")),1),(0,r.createElementVNode)("p",h1,(0,r.toDisplayString)((0,r.unref)(i)("‰∏ñÁïå‰ø°ÊÅØÂ∞ÜÁî±AIÊ†πÊçÆÊ∏∏ÊàèËøõÁ®ãÁîüÊàê")),1),(0,r.createElementVNode)("div",{class:"empty-actions"},[(0,r.createElementVNode)("button",{class:"empty-action-btn primary",onClick:u},"ÁîüÊàêÂäøÂäõ‰ø°ÊÅØ"),(0,r.createElementVNode)("button",{class:"empty-action-btn",onClick:B},"Âà∑Êñ∞")]),t[4]||(t[4]=(0,r.createElementVNode)("p",{class:"empty-prompt-hint"},[(0,r.createTextVNode)("ÊèêÁ§∫ÔºöÁÇπÂáª‚ÄúÁîüÊàêÂäøÂäõ‰ø°ÊÅØ‚Äù‰ºöËá™Âä®ÂèëÈÄÅÂà∞ÂØπËØùÂπ∂ÂÜôÂÖ• "),(0,r.createElementVNode)("code",null,"‰∏ñÁïå.‰ø°ÊÅØ.ÂäøÂäõ‰ø°ÊÅØ"),(0,r.createTextVNode)("„ÄÇ")],-1))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",f1,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(h.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.ÂêçÁß∞,class:(0,r.normalizeClass)(["sect-card",{selected:l.value?.ÂêçÁß∞===e.ÂêçÁß∞,[`type-${E(e.Á±ªÂûã)}`]:!0,"can-join":e.ÂèØÂê¶Âä†ÂÖ•}]),onClick:t=>(e=>{l.value=l.value?.ÂêçÁß∞===e.ÂêçÁß∞?null:e})(e)},[(0,r.createElementVNode)("div",b1,[(0,r.createElementVNode)("span",y1,(0,r.toDisplayString)(k(e.Á±ªÂûã)),1)]),(0,r.createElementVNode)("div",x1,[(0,r.createElementVNode)("div",k1,(0,r.toDisplayString)(e.ÂêçÁß∞),1),(0,r.createElementVNode)("div",w1,[(0,r.createElementVNode)("span",E1,(0,r.toDisplayString)(w(e.Á±ªÂûã)),1)])]),(0,r.createVNode)((0,r.unref)(By),{size:16,class:"arrow-icon"})],10,v1))),128))]))])]),(0,r.createCommentVNode)(" Âè≥‰æßÔºöÁªÑÁªáËØ¶ÊÉÖ "),(0,r.createElementVNode)("div",N1,[l.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",S1,[(0,r.createCommentVNode)(" ËØ¶ÊÉÖÂ§¥ÈÉ® "),(0,r.createElementVNode)("div",_1,[(0,r.createElementVNode)("div",V1,[(0,r.createElementVNode)("span",C1,(0,r.toDisplayString)(k(l.value.Á±ªÂûã)),1)]),(0,r.createElementVNode)("div",A1,[(0,r.createElementVNode)("h3",D1,(0,r.toDisplayString)(l.value.ÂêçÁß∞),1),(0,r.createElementVNode)("div",T1,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["type-badge",`type-${E(l.value.Á±ªÂûã)}`])},(0,r.toDisplayString)(w(l.value.Á±ªÂûã)),3),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["level-badge",`level-${l.value.Á≠âÁ∫ß}`])},(0,r.toDisplayString)((I=l.value.Á≠âÁ∫ß,I?I.includes("ÁªÑÁªá")?I:I+"ÁªÑÁªá":"Êú™Áü•")),3)])])]),(0,r.createCommentVNode)(" ËØ¶ÊÉÖ‰∏ª‰Ωì "),(0,r.createElementVNode)("div",B1,[(0,r.createCommentVNode)(" ÊàêÂëòÁªüËÆ° "),l.value.ÊàêÂëòÊï∞Èáè?((0,r.openBlock)(),(0,r.createElementBlock)("div",I1,[(0,r.createElementVNode)("h5",M1,[(0,r.createVNode)((0,r.unref)(Bu),{size:16}),t[5]||(t[5]=(0,r.createElementVNode)("span",null,"ÊàêÂëòÁªüËÆ°",-1))]),(0,r.createElementVNode)("div",z1,[(0,r.createCommentVNode)(" ÊÄª‰ΩìÁªüËÆ° "),(0,r.createElementVNode)("div",P1,[t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"total-label"},"ÊÄª‰∫∫Êï∞",-1)),(0,r.createElementVNode)("span",R1,(0,r.toDisplayString)(l.value.ÊàêÂëòÊï∞Èáè?.ÊÄªÊï∞||l.value.ÊàêÂëòÊï∞Èáè?.total||0)+"‰∫∫",1)]),(0,r.createCommentVNode)(" Èò∂‰ΩçÂàÜÂ∏É "),l.value.ÊàêÂëòÊï∞Èáè?.ÊåâÈò∂‰Ωç||l.value.ÊàêÂëòÊï∞Èáè?.byRealm?((0,r.openBlock)(),(0,r.createElementBlock)("div",$1,[t[7]||(t[7]=(0,r.createElementVNode)("h6",{class:"distribution-title"},"Á≠âÁ∫ßÂàÜÂ∏É",-1)),(0,r.createElementVNode)("div",O1,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value.ÊàêÂëòÊï∞Èáè?.ÊåâÈò∂‰Ωç||l.value.ÊàêÂëòÊï∞Èáè?.byRealm,(e,t)=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"realm-item"},[(0,r.createElementVNode)("span",L1,(0,r.toDisplayString)((n=String(t),n||"Êú™Áü•")),1),(0,r.createElementVNode)("span",F1,(0,r.toDisplayString)(e)+"‰∫∫",1)]);var n}),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" ËÅå‰ΩçÂàÜÂ∏É "),l.value.ÊàêÂëòÊï∞Èáè?.ÊåâËÅå‰Ωç||l.value.ÊàêÂëòÊï∞Èáè?.byPosition?((0,r.openBlock)(),(0,r.createElementBlock)("div",j1,[t[8]||(t[8]=(0,r.createElementVNode)("h6",{class:"distribution-title"},"ËÅå‰ΩçÂàÜÂ∏É",-1)),(0,r.createElementVNode)("div",U1,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value.ÊàêÂëòÊï∞Èáè?.ÊåâËÅå‰Ωç||l.value.ÊàêÂëòÊï∞Èáè?.byPosition,(e,t)=>(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"position-item"},[(0,r.createElementVNode)("span",q1,(0,r.toDisplayString)(t),1),(0,r.createElementVNode)("span",G1,(0,r.toDisplayString)(e)+"‰∫∫",1)])),[[r.vShow,e>0]])),128))])])):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Âü∫Á°Ä‰ø°ÊÅØ "),(0,r.createElementVNode)("div",H1,[(0,r.createElementVNode)("h5",Y1,[(0,r.createVNode)((0,r.unref)(F0),{size:16}),t[9]||(t[9]=(0,r.createElementVNode)("span",null,"Âü∫Á°Ä‰ø°ÊÅØ",-1))]),(0,r.createElementVNode)("div",W1,[(0,r.createElementVNode)("div",X1,[t[10]||(t[10]=(0,r.createElementVNode)("span",{class:"info-label"},"ÁªÑÁªáÁ±ªÂûã",-1)),(0,r.createElementVNode)("span",J1,(0,r.toDisplayString)(w(l.value.Á±ªÂûã)),1)]),(0,r.createElementVNode)("div",K1,[t[11]||(t[11]=(0,r.createElementVNode)("span",{class:"info-label"},"ÁªÑÁªáÁ≠âÁ∫ß",-1)),(0,r.createElementVNode)("span",Z1,(0,r.toDisplayString)(l.value.Á≠âÁ∫ß),1)]),(0,r.createElementVNode)("div",Q1,[t[12]||(t[12]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊâÄÂú®Â§ßÊ¥≤",-1)),(0,r.createElementVNode)("span",e2,(0,r.toDisplayString)(f(l.value)),1)]),(0,r.createElementVNode)("div",t2,[t[13]||(t[13]=(0,r.createElementVNode)("span",{class:"info-label"},"‰∏ªË¶ÅËµÑÊ∫ê",-1)),(0,r.createElementVNode)("span",n2,(0,r.toDisplayString)(v(l.value)),1)])]),(0,r.createCommentVNode)(" ÁªÑÁªáÈ¢ÜÂØºÂ±Ç "),d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",a2,[t[19]||(t[19]=(0,r.createElementVNode)("h6",{class:"leadership-title"},"ÁªÑÁªáÈ¢ÜÂØº",-1)),(0,r.createElementVNode)("div",r2,[(0,r.createElementVNode)("div",o2,[t[14]||(t[14]=(0,r.createElementVNode)("span",{class:"leader-role"},"È¶ñÈ¢Ü",-1)),(0,r.createElementVNode)("span",i2,(0,r.toDisplayString)(d.value.È¶ñÈ¢Ü),1),d.value.È¶ñÈ¢ÜÈò∂‰Ωç?((0,r.openBlock)(),(0,r.createElementBlock)("span",s2,(0,r.toDisplayString)(d.value.È¶ñÈ¢ÜÈò∂‰Ωç),1)):(0,r.createCommentVNode)("v-if",!0)]),d.value.ÂâØÈ¶ñÈ¢Ü?((0,r.openBlock)(),(0,r.createElementBlock)("div",l2,[t[15]||(t[15]=(0,r.createElementVNode)("span",{class:"leader-role"},"ÂâØÈ¶ñÈ¢Ü",-1)),(0,r.createElementVNode)("span",c2,(0,r.toDisplayString)(d.value.ÂâØÈ¶ñÈ¢Ü),1)])):(0,r.createCommentVNode)("v-if",!0),d.value.‰ª£Ë®Ä‰∫∫?((0,r.openBlock)(),(0,r.createElementBlock)("div",d2,[t[16]||(t[16]=(0,r.createElementVNode)("span",{class:"leader-role"},"‰ª£Ë®Ä‰∫∫",-1)),(0,r.createElementVNode)("span",u2,(0,r.toDisplayString)(d.value.‰ª£Ë®Ä‰∫∫),1)])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",m2,[(0,r.createElementVNode)("div",p2,[t[17]||(t[17]=(0,r.createElementVNode)("span",{class:"strength-label"},"ÊúÄÈ´òÈò∂‰Ωç",-1)),(0,r.createElementVNode)("span",g2,(0,r.toDisplayString)(d.value.ÊúÄÈ´òÈò∂‰Ωç||d.value.È¶ñÈ¢ÜÈò∂‰Ωç),1)]),d.value?.ÁªºÂêàÊàòÂäõ?((0,r.openBlock)(),(0,r.createElementBlock)("div",h2,[t[18]||(t[18]=(0,r.createElementVNode)("span",{class:"strength-label"},"ÁªºÂêàÊàòÂäõ",-1)),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["strength-value power-rating",(g=d.value.ÁªºÂêàÊàòÂäõ||0,g>=90?"power-legendary":g>=80?"power-supreme":g>=70?"power-strong":g>=60?"power-good":g>=50?"power-average":g>=40?"power-weak":"power-poor")])},[(0,r.createTextVNode)((0,r.toDisplayString)(d.value.ÁªºÂêàÊàòÂäõ||0)+"/100 ",1),(0,r.createElementVNode)("span",f2,"("+(0,r.toDisplayString)(N(d.value.ÁªºÂêàÊàòÂäõ||0))+")",1)],2)])):(0,r.createCommentVNode)("v-if",!0)])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",v2,[t[20]||(t[20]=(0,r.createElementVNode)("h6",{class:"desc-title"},"ÁªÑÁªáÊèèËø∞",-1)),(0,r.createElementVNode)("p",b2,(0,r.toDisplayString)(l.value.ÊèèËø∞),1)]),(0,r.createCommentVNode)(" ÁªÑÁªáÁâπËâ≤ "),b(l.value).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",y2,[t[21]||(t[21]=(0,r.createElementVNode)("h6",{class:"specialties-title"},"ÁªÑÁªáÁâπËâ≤",-1)),(0,r.createElementVNode)("div",x2,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(b(l.value),e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"specialty-tag"},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" ÂÖ≥Á≥ªÁä∂ÊÄÅ "),(0,r.createElementVNode)("div",k2,[(0,r.createElementVNode)("h5",w2,[(0,r.createVNode)((0,r.unref)(R_),{size:16}),t[22]||(t[22]=(0,r.createElementVNode)("span",null,"ÂÖ≥Á≥ªÁä∂ÊÄÅ",-1))]),(0,r.createElementVNode)("div",E2,[(0,r.createElementVNode)("div",N2,[t[23]||(t[23]=(0,r.createElementVNode)("span",{class:"relationship-label"},"‰∏é‰Ω†ÁöÑÂÖ≥Á≥ª",-1)),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["relationship-value",(m=y(l.value.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª),{‰ªáÊïå:"enemy",ÊïåÂØπ:"hostile",ÂÜ∑Ê∑°:"cold",‰∏≠Á´ã:"neutral",ÂèãÂ•Ω:"friendly",ÁõüÂèã:"ally",ÈôÑÂ∫∏:"vassal"}[m]||"neutral")])},(0,r.toDisplayString)(y(l.value.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª)),3)]),(0,r.createElementVNode)("div",S2,[t[24]||(t[24]=(0,r.createElementVNode)("span",{class:"relationship-label"},"Â£∞ÊúõÂÄº",-1)),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["relationship-value reputation-value",(o=x(l.value.Â£∞ÊúõÂÄº),o>=25?"reputation-legendary":o>=20?"reputation-excellent":o>=15?"reputation-good":o>=10?"reputation-fair":o>=5?"reputation-low":"reputation-none")])},[(0,r.createTextVNode)((0,r.toDisplayString)(x(l.value.Â£∞ÊúõÂÄº))+" ",1),(0,r.createElementVNode)("span",_2,"("+(0,r.toDisplayString)(S(x(l.value.Â£∞ÊúõÂÄº)))+")",1)],2)])])]),(0,r.createCommentVNode)(" ÂäøÂäõËåÉÂõ¥ "),l.value.ÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ?((0,r.openBlock)(),(0,r.createElementBlock)("div",V2,[(0,r.createElementVNode)("h5",C2,[(0,r.createVNode)((0,r.unref)(Ru),{size:16}),t[25]||(t[25]=(0,r.createElementVNode)("span",null,"ÂäøÂäõËåÉÂõ¥",-1))]),(0,r.createElementVNode)("div",A2,[(0,r.createElementVNode)("div",D2,[t[26]||(t[26]=(0,r.createElementVNode)("strong",null,"ÂΩ±ÂìçËåÉÂõ¥Ôºö",-1)),(0,r.createTextVNode)((0,r.toDisplayString)(l.value.ÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ.ÂΩ±ÂìçËåÉÂõ¥||"Êú™Áü•"),1)]),l.value.ÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ.ÊéßÂà∂Âå∫Âüü?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",T2,[t[27]||(t[27]=(0,r.createElementVNode)("strong",null,"ÊéßÂà∂Âå∫ÂüüÔºö",-1)),(0,r.createElementVNode)("div",B2,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value.ÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ.ÊéßÂà∂Âå∫Âüü,e=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:e,class:"area-tag"},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",I2,[t[28]||(t[28]=(0,r.createElementVNode)("strong",null,"ÊàòÁï•‰ª∑ÂÄºÔºö",-1)),(0,r.createElementVNode)("div",M2,[(0,r.createElementVNode)("div",z2,[(0,r.createElementVNode)("div",{class:"value-fill",style:(0,r.normalizeStyle)({width:10*(l.value.ÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ.ÊàòÁï•‰ª∑ÂÄº||5)+"%"})},null,4)]),(0,r.createElementVNode)("span",P2,(0,r.toDisplayString)(l.value.ÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ.ÊàòÁï•‰ª∑ÂÄº||5)+"/10",1)])])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Âä†ÂÖ•Êù°‰ª∂ "),l.value.ÂèØÂê¶Âä†ÂÖ•?((0,r.openBlock)(),(0,r.createElementBlock)("div",R2,[(0,r.createElementVNode)("h5",$2,[(0,r.createVNode)((0,r.unref)(j0),{size:16}),t[29]||(t[29]=(0,r.createElementVNode)("span",null,"Âä†ÂÖ•Êù°‰ª∂",-1))]),(0,r.createElementVNode)("div",O2,[l.value.Âä†ÂÖ•Êù°‰ª∂?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",L2,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value.Âä†ÂÖ•Êù°‰ª∂,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"requirement-item"},[(0,r.createVNode)((0,r.unref)(U0),{size:14,class:"requirement-icon"}),(0,r.createElementVNode)("span",F2,(0,r.toDisplayString)(e),1)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",j2,t[30]||(t[30]=[(0,r.createElementVNode)("p",null,"ÊöÇÊó†ÁâπÊÆäÂä†ÂÖ•Êù°‰ª∂",-1)])))]),(0,r.createCommentVNode)(" Âä†ÂÖ•Â•ΩÂ§Ñ "),l.value.Âä†ÂÖ•Â•ΩÂ§Ñ?.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",U2,[t[31]||(t[31]=(0,r.createElementVNode)("h6",{class:"benefits-title"},"Âä†ÂÖ•Â•ΩÂ§Ñ",-1)),(0,r.createElementVNode)("div",q2,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value.Âä†ÂÖ•Â•ΩÂ§Ñ,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"benefit-item"},[(0,r.createVNode)((0,r.unref)(q0),{size:14,class:"benefit-icon"}),(0,r.createElementVNode)("span",G2,(0,r.toDisplayString)(e),1)]))),128))])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Âä†ÂÖ•ÊåâÈíÆ "),(0,r.createElementVNode)("div",H2,[(0,r.createElementVNode)("button",{class:"join-btn",onClick:t[1]||(t[1]=e=>(e=>{if(!e.ÂèØÂê¶Âä†ÂÖ•)return void X.o.warning("ËØ•ÁªÑÁªáÊöÇ‰∏çÊé•ÂèóÂä†ÂÖ•");const t=p.value?.ÁªÑÁªáÂêçÁß∞;if(t===e.ÂêçÁß∞)return void X.o.info(`‰Ω†Â∑≤Âä†ÂÖ• ${e.ÂêçÁß∞}`);if(t&&t!==e.ÂêçÁß∞){if(!V(t,e.ÂêçÁß∞))return;C(t)}const{sectSystem:a,memberInfo:r}=(e=>{const t=(new Date).toISOString(),n=e.ÂêçÁß∞,a=String(Q0(n)),r=(e=>{let t=e%2147483647;return t<=0&&(t+=2147483646),()=>(t=48271*t%2147483647,t/2147483647)})(Q0(`${n}_${t}`)),o={ÁªÑÁªáÂêçÁß∞:n,ÁªÑÁªáÁ±ªÂûã:(i=String(e.Á±ªÂûã||"Áß©Â∫èÁªÑÁªá"),/ÈªëÂüü|ÊöóÁΩë|ÂΩ±/i.test(i)?"ÈªëÂüüÁªÑÁªá":/Ëá™Áî±|ËÅîÁõü|Áã¨Á´ã/i.test(i)?"Ëá™Áî±ÁΩëÁªú":/‰∏≠Á´ã/i.test(i)?"‰∏≠Á´ãÁªÑÁªá":/ÂÆ∂Êóè|Èó®ÈòÄ|Ë¥¢Âõ¢/i.test(i)?"ÂÆ∂ÊóèÈõÜÂõ¢":/ÂïÜ‰ºö|ÂïÜÁõü|ÂïÜÂè∑/i.test(i)?"ÂïÜ‰ºö":"ÂÆàÂ∫èÁªÑÁªá"),ËÅå‰Ωç:"Â§ñÈÉ®ÊàêÂëò",Ë¥°ÁåÆ:0,ÂÖ≥Á≥ª:"ÂèãÂ•Ω",Â£∞Êúõ:0,Âä†ÂÖ•Êó•Êúü:t,ÊèèËø∞:e.ÊèèËø∞||""};var i;return{sectSystem:{ÁâàÊú¨:2,ÂΩìÂâçÁªÑÁªá:n,ÁªÑÁªáÊ°£Ê°à:{[n]:e},ÁªÑÁªáÊàêÂëò:{},ÁªÑÁªáËµÑÊñôÂ∫ì:{[n]:r1(e,r,a)},ÁªÑÁªáÊùÉÈôêÂïÜÂ∫ó:{[n]:a1(e,r,a)}},memberInfo:o}})(e);n.updateState("sectMemberInfo",r),n.updateState("sectSystem",a),X.o.success(`Â∑≤Âä†ÂÖ• ${e.ÂêçÁß∞}`)})(l.value))},[(0,r.createVNode)((0,r.unref)(j0),{size:16}),t[32]||(t[32]=(0,r.createElementVNode)("span",null,"Áî≥ËØ∑Âä†ÂÖ•",-1))])])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Â∑≤Âä†ÂÖ•ÁªÑÁªá‰ø°ÊÅØ "),(a=l.value,p.value?.ÁªÑÁªáÂêçÁß∞===a.ÂêçÁß∞?((0,r.openBlock)(),(0,r.createElementBlock)("div",Y2,[(0,r.createElementVNode)("h5",W2,[(0,r.createVNode)((0,r.unref)(G0),{size:16}),t[33]||(t[33]=(0,r.createElementVNode)("span",null,"ÊàëÁöÑÁªÑÁªáË∫´‰ªΩ",-1))]),(0,r.createElementVNode)("div",X2,[(0,r.createElementVNode)("div",J2,[(0,r.createElementVNode)("div",K2,[t[34]||(t[34]=(0,r.createElementVNode)("span",{class:"status-label"},"ËÅå‰Ωç",-1)),(0,r.createElementVNode)("span",Z2,(0,r.toDisplayString)(p.value?.ËÅå‰Ωç||"Ê∏∏Ê∞ë"),1)]),(0,r.createElementVNode)("div",Q2,[t[35]||(t[35]=(0,r.createElementVNode)("span",{class:"status-label"},"Ë¥°ÁåÆÁÇπ",-1)),(0,r.createElementVNode)("span",e5,(0,r.toDisplayString)(p.value?.Ë¥°ÁåÆ||0),1)]),(0,r.createElementVNode)("div",t5,[t[36]||(t[36]=(0,r.createElementVNode)("span",{class:"status-label"},"Â£∞Êúõ",-1)),(0,r.createElementVNode)("span",n5,(0,r.toDisplayString)(p.value?.Â£∞Êúõ||0),1)]),(0,r.createElementVNode)("div",a5,[t[37]||(t[37]=(0,r.createElementVNode)("span",{class:"status-label"},"Âä†ÂÖ•Êó∂Èó¥",-1)),(0,r.createElementVNode)("span",r5,(0,r.toDisplayString)(_(p.value?.Âä†ÂÖ•Êó•Êúü)),1)])]),(0,r.createElementVNode)("div",o5,[(0,r.createElementVNode)("button",{class:"leave-btn",onClick:t[2]||(t[2]=e=>(e=>{const t=p.value?.ÁªÑÁªáÂêçÁß∞;t?V(t)&&(C(t),e?.ÂêçÁß∞&&l.value?.ÂêçÁß∞===e.ÂêçÁß∞&&(l.value=null)):X.o.info("Â∞öÊú™Âä†ÂÖ•ÁªÑÁªá")})(l.value))},[(0,r.createVNode)((0,r.unref)(Vm),{size:16}),t[38]||(t[38]=(0,r.createElementVNode)("span",null,"ÈÄÄÂá∫ÁªÑÁªá",-1))])])]),(0,r.createCommentVNode)(" ÁªÑÁªáÂäüËÉΩ "),(0,r.createElementVNode)("div",i5,[t[42]||(t[42]=(0,r.createElementVNode)("h6",{class:"actions-title"},"ÁªÑÁªáÂäüËÉΩ",-1)),(0,r.createElementVNode)("div",s5,[(0,r.createElementVNode)("button",{class:"sect-action-btn",onClick:A},[(0,r.createVNode)((0,r.unref)(Lu),{size:16}),t[39]||(t[39]=(0,r.createElementVNode)("span",null,"Ë¥°ÁåÆÂÖëÊç¢",-1))]),(0,r.createElementVNode)("button",{class:"sect-action-btn",onClick:D},[(0,r.createVNode)((0,r.unref)(H0),{size:16}),t[40]||(t[40]=(0,r.createElementVNode)("span",null,"Ê®°ÂùóÂ∫ì",-1))]),(0,r.createElementVNode)("button",{class:"sect-action-btn",onClick:T},[(0,r.createVNode)((0,r.unref)(Bu),{size:16}),t[41]||(t[41]=(0,r.createElementVNode)("span",null,"ÁªÑÁªáÊàêÂëò",-1))])])])])):(0,r.createCommentVNode)("v-if",!0))])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",l5,[(0,r.createVNode)((0,r.unref)(F0),{size:64,class:"placeholder-icon"}),t[43]||(t[43]=(0,r.createElementVNode)("p",{class:"placeholder-text"},"ÈÄâÊã©‰∏Ä‰∏™ÁªÑÁªáÊü•ÁúãËØ¶ÁªÜ‰ø°ÊÅØ",-1)),t[44]||(t[44]=(0,r.createElementVNode)("p",{class:"placeholder-hint"},"ÂüéÈÇ¶‰∏≠ÁöÑÁªÑÁªáÂäøÂäõÁ≠â‰Ω†Êé¢Á¥¢",-1))]))])])])]);var a,o,m,g,I}}});var d5=n(1039),u5={};u5.styleTagTransform=k(),u5.setAttributes=v(),u5.insert=h().bind(null,"head"),u5.domAPI=p(),u5.insertStyleElement=y(),u()(d5.A,u5),d5.A&&d5.A.locals&&d5.A.locals;const m5=(0,N.A)(c5,[["__scopeId","data-v-e874c8ec"]]),p5={class:"sect-system-panel"},g5={class:"sect-tabs"},h5=["onClick"],f5={class:"sect-system-content"},v5=(0,r.defineComponent)({__name:"SectSystemPanel",setup(e){const t=(0,a.useRoute)(),n=(0,a.useRouter)(),o=(0,Au.useGameStateStore)(),i=(0,r.computed)(()=>{const e=o.sectMemberInfo;return e&&e.ÁªÑÁªáÂêçÁß∞}),s=[{name:"SectOverview",label:"ÁªÑÁªáÊ¶ÇËßà",icon:Ou,requireJoin:!1},{name:"SectMembers",label:"ÁªÑÁªáÊàêÂëò",icon:Bu,requireJoin:!0},{name:"SectLibrary",label:"ÁªÑÁªáËµÑÊñôÂ∫ì",icon:Iu.A,requireJoin:!0},{name:"SectContribution",label:"Ë¥°ÁåÆÂÖëÊç¢",icon:Lu,requireJoin:!0}],l=(0,r.computed)(()=>s.filter(e=>!e.requireJoin||i.value));return(e,a)=>{const o=(0,r.resolveComponent)("router-view");return(0,r.openBlock)(),(0,r.createElementBlock)("div",p5,[(0,r.createElementVNode)("div",g5,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value,e=>{return(0,r.openBlock)(),(0,r.createElementBlock)("button",{key:e.name,class:(0,r.normalizeClass)(["sect-tab",{active:(a=e.name,String(t.name)===a)}]),onClick:t=>(e=>{n.push({name:e})})(e.name)},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.icon),{size:14})),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.label),1)],10,h5);var a}),128))]),(0,r.createElementVNode)("div",f5,[(0,r.createVNode)(o)])])}}});var b5=n(8294),y5={};y5.styleTagTransform=k(),y5.setAttributes=v(),y5.insert=h().bind(null,"head"),y5.domAPI=p(),y5.insertStyleElement=y(),u()(b5.A,y5),b5.A&&b5.A.locals&&b5.A.locals;const x5=(0,N.A)(v5,[["__scopeId","data-v-4df64fc8"]]);var k5=n(7754);const w5=(0,_.A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),E5=(0,_.A)("swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);var N5=n(5976);const S5={class:"sect-members"},_5={class:"player-info-bar"},V5={class:"info-item"},C5={class:"info-value sect-name"},A5={class:"info-item"},D5={class:"info-value position"},T5={class:"member-tabs"},B5=["onClick"],I5={key:0,class:"count-badge"},M5={class:"member-list"},z5={key:0,class:"empty-state"},P5={key:1,class:"members"},R5=["onClick"],$5={class:"member-avatar"},O5={class:"avatar-text"},L5={class:"member-info"},F5={class:"member-header"},j5={class:"member-name"},U5={class:"member-details"},q5={class:"detail-item realm"},G5={class:"quick-actions"},H5={class:"actions-title"},Y5={class:"action-buttons"},W5={class:"members-notice"},X5=(0,r.defineComponent)({__name:"SectMembersContent",setup(e){const t=(0,Au.useGameStateStore)(),n=(0,r.ref)("all"),a=[{key:"all",label:"ÂÖ®ÈÉ®",icon:Bu},{key:"Âπ≤ÈÉ®",label:"Âπ≤ÈÉ®",icon:G0},{key:"Á≤æËã±",label:"Á≤æËã±",icon:k5.A},{key:"ÊàêÂëò",label:"ÊàêÂëò",icon:V}],o=(0,r.computed)(()=>t.sectMemberInfo),i=(0,r.computed)(()=>o.value?.ÁªÑÁªáÂêçÁß∞||"Êú™Âä†ÂÖ•ÁªÑÁªá"),s=(0,r.computed)(()=>o.value?.ËÅå‰Ωç||"Ê∏∏Ê∞ë"),l=(0,r.computed)(()=>{const e=t.relationships||{};return Object.entries(e).filter(([e,t])=>(t.ÂäøÂäõÂΩíÂ±û||t.ÁªÑÁªá)===i.value).map(([e,t])=>{return{id:e,name:t.ÂêçÂ≠ó||e,gender:t.ÊÄßÂà´||"Áî∑",position:t.ËÅå‰Ωç||"ÊàêÂëò",realm:(a=t.Èò∂‰Ωç,a?"string"==typeof a?a:"object"==typeof a?`${a.ÂêçÁß∞||""}${a.Èò∂ÊÆµ||""}`:"Êú™Áü•":"Êú™Áü•"),relation:u(t.Â•ΩÊÑüÂ∫¶),favorability:t.Â•ΩÊÑüÂ∫¶||50,isSelf:!1,category:(n=t.ËÅå‰Ωç,n?n.includes("Âπ≤ÈÉ®")||n.includes("ÂÖÉËÄÅ")?"Âπ≤ÈÉ®":n.includes("Á≤æËã±")||n.includes("Ê†∏ÂøÉ")?"Á≤æËã±":"ÊàêÂëò":"ÊàêÂëò")};var n,a})}),c=(0,r.computed)(()=>"all"===n.value?l.value:l.value.filter(e=>e.category===n.value));function d(e){return"all"===e?l.value.length:l.value.filter(t=>t.category===e).length}function u(e){const t=e||50;return t>=90?"ÊåöÂèã":t>=75?"Â•ΩÂèã":t>=60?"ÂèãÂ•Ω":t>=40?"ÊôÆÈÄö":t>=20?"ÂÜ∑Ê∑°":"ÊïåËßÜ"}function m(e){Oy(e),X.o.success("Â∑≤ÂèëÈÄÅÂà∞ÂØπËØù")}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",S5,[(0,r.createCommentVNode)(" Áé©ÂÆ∂‰ø°ÊÅØÊ†è "),(0,r.createElementVNode)("div",_5,[(0,r.createElementVNode)("div",V5,[t[5]||(t[5]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊâÄÂ±ûÁªÑÁªá",-1)),(0,r.createElementVNode)("span",C5,(0,r.toDisplayString)(i.value),1)]),(0,r.createElementVNode)("div",A5,[t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"info-label"},"ÊàëÁöÑËÅå‰Ωç",-1)),(0,r.createElementVNode)("span",D5,(0,r.toDisplayString)(s.value),1)])]),(0,r.createCommentVNode)(" ÊàêÂëòÂàÜÁ±ª "),(0,r.createElementVNode)("div",T5,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a,e=>(0,r.createElementVNode)("button",{key:e.key,class:(0,r.normalizeClass)(["tab-btn",{active:n.value===e.key}]),onClick:t=>n.value=e.key},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.icon),{size:14})),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.label),1),d(e.key)>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",I5,(0,r.toDisplayString)(d(e.key)),1)):(0,r.createCommentVNode)("v-if",!0)],10,B5)),64))]),(0,r.createCommentVNode)(" ÊàêÂëòÂàóË°® "),(0,r.createElementVNode)("div",M5,[0===c.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",z5,[(0,r.createVNode)((0,r.unref)(Bu),{size:48,class:"empty-icon"}),t[8]||(t[8]=(0,r.createElementVNode)("p",{class:"empty-text"},"ÊöÇÊó†ÁªÑÁªáÊàêÂëò‰ø°ÊÅØ",-1)),t[9]||(t[9]=(0,r.createElementVNode)("p",{class:"empty-hint"},"ÁªÑÁªáÊàêÂëò‰ø°ÊÅØÁî±AIÊ†πÊçÆÂâßÊÉÖÁîüÊàê",-1)),(0,r.createElementVNode)("button",{class:"ask-btn",onClick:t[0]||(t[0]=e=>m("ËØ∑ÂëäËØâÊàëÁªÑÁªáÊúâÂì™‰∫õÊàêÂëò"))},[(0,r.createVNode)((0,r.unref)(w5),{size:14}),t[7]||(t[7]=(0,r.createElementVNode)("span",null,"ËØ¢ÈóÆÊàêÂëò‰ø°ÊÅØ",-1))])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",P5,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(c.value,e=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["member-card",{"is-self":e.isSelf}]),onClick:t=>function(e){m(`ÊàëÊÉ≥Âíå${e.name}‰∫§Ë∞à`)}(e)},[(0,r.createElementVNode)("div",$5,[(0,r.createElementVNode)("span",O5,(0,r.toDisplayString)(e.name.charAt(0)),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["gender-badge","Â•≥"===e.gender?"female":"male"])},(0,r.toDisplayString)("Â•≥"===e.gender?"‚ôÄ":"‚ôÇ"),3)]),(0,r.createElementVNode)("div",L5,[(0,r.createElementVNode)("div",F5,[(0,r.createElementVNode)("span",j5,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["member-position",(n=e.position,n.includes("Âπ≤ÈÉ®")||n.includes("ÂÖÉËÄÅ")?"position-elder":n.includes("Á≤æËã±")||n.includes("Ê†∏ÂøÉ")?"position-true":n.includes("ÂÜÖÈÉ®")?"position-inner":"position-outer")])},(0,r.toDisplayString)(e.position),3)]),(0,r.createElementVNode)("div",U5,[(0,r.createElementVNode)("span",q5,[(0,r.createVNode)((0,r.unref)(Mu),{size:12}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.realm),1)]),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["detail-item relation",(t=e.relation,{ÊåöÂèã:"relation-best",Â•ΩÂèã:"relation-good",ÂèãÂ•Ω:"relation-friendly",ÊôÆÈÄö:"relation-normal",ÂÜ∑Ê∑°:"relation-cold",ÊïåËßÜ:"relation-hostile"}[t]||"relation-normal")])},[(0,r.createVNode)((0,r.unref)(R_),{size:12}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.relation),1)],2)])]),(0,r.createVNode)((0,r.unref)(By),{size:16,class:"arrow-icon"})],10,R5);var t,n}),128))]))]),(0,r.createCommentVNode)(" Âø´Êç∑Êìç‰Ωú "),(0,r.createElementVNode)("div",G5,[(0,r.createElementVNode)("h4",H5,[(0,r.createVNode)((0,r.unref)(w5),{size:14}),t[10]||(t[10]=(0,r.createElementVNode)("span",null,"Âø´Êç∑ÂØπËØù",-1))]),(0,r.createElementVNode)("div",Y5,[(0,r.createElementVNode)("button",{class:"action-btn",onClick:t[1]||(t[1]=e=>m("ÊàëÊÉ≥ÊâæÁªÑÁªáÊàêÂëòÂàáÁ£ãËÆ≠ÁªÉ"))},[(0,r.createVNode)((0,r.unref)(E5),{size:14}),t[11]||(t[11]=(0,r.createElementVNode)("span",null,"ÈÇÄËØ∑ÂàáÁ£ã",-1))]),(0,r.createElementVNode)("button",{class:"action-btn",onClick:t[2]||(t[2]=e=>m("ÊàëÊÉ≥ËØ∑ÊïôÁªÑÁªáÊàêÂëòËÆ≠ÁªÉÂøÉÂæó"))},[(0,r.createVNode)((0,r.unref)(Iu.A),{size:14}),t[12]||(t[12]=(0,r.createElementVNode)("span",null,"ËØ∑ÊïôËÆ≠ÁªÉ",-1))]),(0,r.createElementVNode)("button",{class:"action-btn",onClick:t[3]||(t[3]=e=>m("ÊàëÊÉ≥ÂíåÁªÑÁªáÊàêÂëò‰∏ÄËµ∑Êé¢Èô©"))},[(0,r.createVNode)((0,r.unref)(EF),{size:14}),t[13]||(t[13]=(0,r.createElementVNode)("span",null,"ÁªÑÈòüÊé¢Èô©",-1))]),(0,r.createElementVNode)("button",{class:"action-btn",onClick:t[4]||(t[4]=e=>m("ÊàëÊÉ≥‰∫ÜËß£ÁªÑÁªáÊúÄËøëÊúâ‰ªÄ‰πàÊ∂àÊÅØ"))},[(0,r.createVNode)((0,r.unref)($u),{size:14}),t[14]||(t[14]=(0,r.createElementVNode)("span",null,"ÁªÑÁªáÊ∂àÊÅØ",-1))])])]),(0,r.createCommentVNode)(" ÊèêÁ§∫‰ø°ÊÅØ "),(0,r.createElementVNode)("div",W5,[(0,r.createVNode)((0,r.unref)(N5.A),{size:14}),t[15]||(t[15]=(0,r.createElementVNode)("span",null,"ÁªÑÁªáÂÖ≥Á≥ª‰ºöÂΩ±ÂìçÊ∏∏ÊàèÂèëÂ±ïÔºåÂèØÂú®ÂØπËØù‰∏≠‰∏éÊàêÂëò‰∫íÂä®",-1))])]))}});var J5=n(5385),K5={};K5.styleTagTransform=k(),K5.setAttributes=v(),K5.insert=h().bind(null,"head"),K5.domAPI=p(),K5.insertStyleElement=y(),u()(J5.A,K5),J5.A&&J5.A.locals&&J5.A.locals;const Z5=(0,N.A)(X5,[["__scopeId","data-v-4956a212"]]),Q5={class:"sect-library"},e4={class:"player-info-bar"},t4={class:"info-item"},n4={class:"info-value position"},a4={class:"info-item"},r4={class:"info-value contribution"},o4={class:"library-floors"},i4=["onClick"],s4={class:"floor-info"},l4={class:"floor-icon"},c4={class:"floor-name"},d4={class:"floor-requirement"},u4={class:"floor-status"},m4={key:0,class:"floor-content"},p4={key:0,class:"empty-floor"},g4={key:1,class:"technique-list"},h4={class:"tech-header"},f4={class:"tech-name"},v4={class:"tech-desc"},b4={class:"tech-footer"},y4={class:"tech-cost"},x4=["disabled","onClick"],k4={key:1,class:"owned-badge"},w4={class:"library-tips"},E4=(0,r.defineComponent)({__name:"SectLibraryContent",setup(e){const t=(0,Au.useGameStateStore)(),n=(0,r.ref)(1),a={ËßÅ‰π†ÊàêÂëò:0,Â§ñÂõ¥ÊàêÂëò:1,ÂÜÖÈÉ®ÊàêÂëò:2,Á≤æËã±ÊàêÂëò:3,Ê†∏ÂøÉÊàêÂëò:4,Âπ≤ÈÉ®:5,ÂÖÉËÄÅ:6},o=(0,r.computed)(()=>t.sectMemberInfo),i=(0,r.computed)(()=>o.value?.ËÅå‰Ωç||"Ê∏∏Ê∞ë"),s=(0,r.computed)(()=>o.value?.Ë¥°ÁåÆ||0),l=(0,r.computed)(()=>a[i.value]??-1),c=(0,r.computed)(()=>{const e=t.inventory?.Áâ©ÂìÅ||{};return Object.values(e).filter(e=>"Ê®°Âùó"===e.Á±ªÂûã).map(e=>e.Áâ©ÂìÅID)}),d=(0,r.computed)(()=>{const e=function(){const e=o.value?.ÁªÑÁªáÂêçÁß∞;if(!e)return[];const n=t.sectSystem?.ÁªÑÁªáÊ®°ÂùóÂ∫ì?.[e];return Array.isArray(n)?n.map((e,t)=>{const n=e?.id||e?.Áâ©ÂìÅID||`sect_tech_${t}`,a=e?.name||e?.ÂêçÁß∞||"Êú™Áü•Ê®°Âùó",r=e?.quality||e?.ÂìÅË¥®||"Ê∞ëÁî®",o=e?.qualityTier||(e=>{const t=e.match(/Ê∞ëÁî®|ÊîπË£Ö|ÂÜõËßÑ|ÁâπÁ∫ß|Á¶ÅÂøå/);return t?t[0]:"Ê∞ëÁî®"})(String(r)),i=Number(e?.cost??e?.‰ª∑Ê†º??0);return{id:n,name:a,quality:r,qualityTier:o,cost:i,description:e?.description||e?.ÊèèËø∞||"",owned:c.value.includes(n),canAfford:s.value>=i}}):[]}();return[{level:1,name:"Á¨¨‰∏ÄÂ±Ç",icon:"üìñ",requirement:"Â§ñÂõ¥ÊàêÂëòÂèØÂÖ•",minPosition:1,accessible:l.value>=1,techniques:e.filter(e=>["Ê∞ëÁî®","ÊîπË£Ö"].includes(e.qualityTier))},{level:2,name:"Á¨¨‰∫åÂ±Ç",icon:"üìö",requirement:"ÂÜÖÈÉ®ÊàêÂëòÂèØÂÖ•",minPosition:2,accessible:l.value>=2,techniques:e.filter(e=>"ÂÜõËßÑ"===e.qualityTier)},{level:3,name:"Á¨¨‰∏âÂ±Ç",icon:"üìú",requirement:"Á≤æËã±ÊàêÂëòÂèØÂÖ•",minPosition:3,accessible:l.value>=3,techniques:e.filter(e=>"ÁâπÁ∫ß"===e.qualityTier)},{level:4,name:"Á¶ÅÂå∫ÂØÜÂ∫ì",icon:"üîÆ",requirement:"Ê†∏ÂøÉÊàêÂëò+È´òÂ±ÇÊùÉÈôê",minPosition:4,accessible:l.value>=4,techniques:e.filter(e=>"Á¶ÅÂøå"===e.qualityTier)}]});return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Q5,[(0,r.createCommentVNode)(" Áé©ÂÆ∂‰ø°ÊÅØÊ†è "),(0,r.createElementVNode)("div",e4,[(0,r.createElementVNode)("div",t4,[t[0]||(t[0]=(0,r.createElementVNode)("span",{class:"info-label"},"ËÅå‰Ωç",-1)),(0,r.createElementVNode)("span",n4,(0,r.toDisplayString)(i.value),1)]),(0,r.createElementVNode)("div",a4,[t[1]||(t[1]=(0,r.createElementVNode)("span",{class:"info-label"},"Ë¥°ÁåÆÁÇπ",-1)),(0,r.createElementVNode)("span",r4,(0,r.toDisplayString)(s.value),1)])]),(0,r.createCommentVNode)(" Ê®°ÂùóÂ∫ìÂàÜÂ±Ç "),(0,r.createElementVNode)("div",o4,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(d.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.level,class:(0,r.normalizeClass)(["floor-section",{locked:!e.accessible,expanded:n.value===e.level}])},[(0,r.createElementVNode)("div",{class:"floor-header",onClick:t=>function(e){e.accessible?n.value=n.value===e.level?null:e.level:X.o.warning("ËÅå‰Ωç‰∏çË∂≥ÔºåÊó†Ê≥ïËøõÂÖ•Ê≠§Â±Ç")}(e)},[(0,r.createElementVNode)("div",s4,[(0,r.createElementVNode)("span",l4,(0,r.toDisplayString)(e.icon),1),(0,r.createElementVNode)("span",c4,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("span",d4,(0,r.toDisplayString)(e.requirement),1)]),(0,r.createElementVNode)("div",u4,[e.accessible?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Sm),{key:1,size:16,class:(0,r.normalizeClass)({rotated:n.value===e.level})},null,8,["class"])):((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(dS),{key:0,size:16}))])],8,i4),(0,r.createVNode)(r.Transition,{name:"slide"},{default:(0,r.withCtx)(()=>[n.value===e.level&&e.accessible?((0,r.openBlock)(),(0,r.createElementBlock)("div",m4,[0===e.techniques.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",p4,[(0,r.createVNode)((0,r.unref)(Iu.A),{size:32,class:"empty-icon"}),t[2]||(t[2]=(0,r.createElementVNode)("p",null,"Ê≠§Â±ÇÊöÇÊó†ÂèØËß£ÈîÅÊ®°Âùó",-1)),t[3]||(t[3]=(0,r.createElementVNode)("p",{class:"hint"},"Ê®°ÂùóÂ∞ÜÁî±AIÊ†πÊçÆÂâßÊÉÖÁîüÊàê",-1))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",g4,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.techniques,e=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["technique-card",{owned:e.owned,"can-afford":e.canAfford&&!e.owned}])},[(0,r.createElementVNode)("div",h4,[(0,r.createElementVNode)("span",f4,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tech-quality",(t=e.quality,t.includes("Ê∞ëÁî®")?"quality-common":t.includes("ÊîπË£Ö")?"quality-yellow":t.includes("ÂÜõËßÑ")?"quality-xuan":t.includes("ÁâπÁ∫ß")?"quality-earth":t.includes("Á¶ÅÂøå")?"quality-heaven":"quality-common")])},(0,r.toDisplayString)(e.quality),3)]),(0,r.createElementVNode)("p",v4,(0,r.toDisplayString)(e.description),1),(0,r.createElementVNode)("div",b4,[(0,r.createElementVNode)("span",y4,[(0,r.createVNode)((0,r.unref)(Lu),{size:14}),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.cost)+" Ë¥°ÁåÆ ",1)]),e.owned?((0,r.openBlock)(),(0,r.createElementBlock)("span",k4,"Â∑≤Ëß£ÈîÅ")):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"learn-btn",disabled:!e.canAfford,onClick:t=>function(e){Oy(`ÊàëÊÉ≥Áî®${e.cost}Ë¥°ÁåÆÁÇπÂú®Ê®°ÂùóÂ∫ìËß£ÈîÅ„Äå${e.name}„Äç`),X.o.success("Â∑≤ÂèëÈÄÅÂà∞ÂØπËØù")}(e)},(0,r.toDisplayString)(e.canAfford?"Ëß£ÈîÅ":"Ë¥°ÁåÆ‰∏çË∂≥"),9,x4))])],2);var t}),128))]))])):(0,r.createCommentVNode)("v-if",!0)]),_:2},1024)],2))),128))]),(0,r.createCommentVNode)(" ÊèêÁ§∫‰ø°ÊÅØ "),(0,r.createElementVNode)("div",w4,[(0,r.createVNode)((0,r.unref)(N5.A),{size:14}),t[4]||(t[4]=(0,r.createElementVNode)("span",null,"Ê®°ÂùóÈúÄË¶ÅÈÄöËøáÊ∏∏ÊàèÂâßÊÉÖËé∑ÂèñÊàñËÆ©AIÁîüÊàêÔºåÊ≠§Â§ÑÂ±ïÁ§∫Â∑≤ÊúâÊ®°Âùó‰æõÂÖëÊç¢Ëß£ÈîÅ",-1))])]))}});var N4=n(2792),S4={};S4.styleTagTransform=k(),S4.setAttributes=v(),S4.insert=h().bind(null,"head"),S4.domAPI=p(),S4.insertStyleElement=y(),u()(N4.A,S4),N4.A&&N4.A.locals&&N4.A.locals;const _4=(0,N.A)(E4,[["__scopeId","data-v-d9849f2a"]]),V4=(0,_.A)("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),C4=(0,_.A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),A4=(0,_.A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),D4={class:"sect-contribution"},T4={class:"player-info-bar"},B4={class:"info-item"},I4={class:"info-value position"},M4={class:"info-item highlight"},z4={class:"info-value contribution"},P4={class:"exchange-tabs"},R4=["onClick"],$4={class:"exchange-list"},O4={key:0,class:"empty-state"},L4={key:1,class:"items-grid"},F4={class:"item-header"},j4={class:"item-icon"},U4={class:"item-info"},q4={class:"item-name"},G4={class:"item-desc"},H4={class:"item-footer"},Y4={class:"item-cost"},W4={key:0,class:"item-stock"},X4=["disabled","onClick"],J4={class:"contribution-tips"},K4={class:"tips-title"},Z4={class:"tips-list"},Q4={class:"tip-item"},e3={class:"tip-item"},t3={class:"tip-item"},n3={class:"tip-item"},a3={class:"exchange-notice"},r3=(0,r.defineComponent)({__name:"SectContributionContent",setup(e){const t=(0,Au.useGameStateStore)(),n=(0,r.ref)("all"),a=[{key:"all",label:"ÂÖ®ÈÉ®",icon:Du},{key:"‰∏πËçØ",label:"‰∏πËçØ",icon:V4},{key:"Ê®°Âùó",label:"Ê®°Âùó",icon:Iu.A},{key:"Ë£ÖÂ§á",label:"Ë£ÖÂ§á",icon:pI},{key:"ÊùêÊñô",label:"ÊùêÊñô",icon:gI}],o=(0,r.computed)(()=>t.sectMemberInfo),i=(0,r.computed)(()=>o.value?.ËÅå‰Ωç||"Ê∏∏Ê∞ë"),s=(0,r.computed)(()=>o.value?.Ë¥°ÁåÆ||0),l=(e,t)=>({id:e?.id||e?.Áâ©ÂìÅID||`sect_item_${t}`,name:e?.name||e?.ÂêçÁß∞||"Êú™Áü•Áâ©ÂìÅ",icon:e?.icon||"O",type:e?.type||e?.Á±ªÂûã||"ÂÖ∂‰ªñ",quality:e?.quality||e?.ÂìÅË¥®||"Ê∞ëÁî®",description:e?.description||e?.ÊèèËø∞||"",cost:Number(e?.cost??e?.‰ª∑Ê†º??0),stock:e?.stock??e?.Â∫ìÂ≠ò}),c=(0,r.computed)(()=>{const e=o.value?.ÁªÑÁªáÂêçÁß∞;if(!e)return[];const n=t.sectSystem?.ÁªÑÁªáÊùÉÈôêÂïÜÂ∫ó?.[e];return Array.isArray(n)?n.map(l):[]}),d=(0,r.computed)(()=>"all"===n.value?c.value:c.value.filter(e=>e.type===n.value));function u(e){return 0===e.stock?"Â∑≤ÂîÆÁΩÑ":s.value<e.cost?"Ë¥°ÁåÆ‰∏çË∂≥":"ÂÖëÊç¢"}function m(e){Oy(e),X.o.success("Â∑≤ÂèëÈÄÅÂà∞ÂØπËØù")}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",D4,[(0,r.createCommentVNode)(" Áé©ÂÆ∂‰ø°ÊÅØÊ†è "),(0,r.createElementVNode)("div",T4,[(0,r.createElementVNode)("div",B4,[t[1]||(t[1]=(0,r.createElementVNode)("span",{class:"info-label"},"ËÅå‰Ωç",-1)),(0,r.createElementVNode)("span",I4,(0,r.toDisplayString)(i.value),1)]),(0,r.createElementVNode)("div",M4,[t[2]||(t[2]=(0,r.createElementVNode)("span",{class:"info-label"},"ÂèØÁî®Ë¥°ÁåÆÁÇπ",-1)),(0,r.createElementVNode)("span",z4,(0,r.toDisplayString)(s.value),1)])]),(0,r.createCommentVNode)(" ÂÖëÊç¢ÂàÜÁ±ª "),(0,r.createElementVNode)("div",P4,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a,e=>(0,r.createElementVNode)("button",{key:e.key,class:(0,r.normalizeClass)(["tab-btn",{active:n.value===e.key}]),onClick:t=>n.value=e.key},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.icon),{size:14})),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.label),1)],10,R4)),64))]),(0,r.createCommentVNode)(" ÂÖëÊç¢Áâ©ÂìÅÂàóË°® "),(0,r.createElementVNode)("div",$4,[0===d.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",O4,[(0,r.createVNode)((0,r.unref)(Du),{size:48,class:"empty-icon"}),t[4]||(t[4]=(0,r.createElementVNode)("p",{class:"empty-text"},"ÊöÇÊó†ÂèØÂÖëÊç¢Áâ©ÂìÅ",-1)),t[5]||(t[5]=(0,r.createElementVNode)("p",{class:"empty-hint"},"ÂèØÂÖëÊç¢Áâ©ÂìÅÁî±AIÊ†πÊçÆÁªÑÁªáËÆæÂÆöÁîüÊàê",-1)),(0,r.createElementVNode)("button",{class:"ask-btn",onClick:t[0]||(t[0]=e=>m("ËØ∑ÂëäËØâÊàëÁªÑÁªáË¥°ÁåÆÂèØ‰ª•ÂÖëÊç¢‰ªÄ‰πàÁâ©ÂìÅ"))},[(0,r.createVNode)((0,r.unref)(w5),{size:14}),t[3]||(t[3]=(0,r.createElementVNode)("span",null,"ËØ¢ÈóÆÂèØÂÖëÊç¢Áâ©ÂìÅ",-1))])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",L4,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(d.value,e=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["item-card",{"can-afford":s.value>=e.cost,"out-of-stock":0===e.stock}])},[(0,r.createElementVNode)("div",F4,[(0,r.createElementVNode)("span",j4,(0,r.toDisplayString)(e.icon),1),(0,r.createElementVNode)("div",U4,[(0,r.createElementVNode)("span",q4,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["item-quality",(t=e.quality,t.includes("Ê∞ëÁî®")?"quality-common":t.includes("ÊîπË£Ö")?"quality-yellow":t.includes("ÂÜõËßÑ")?"quality-xuan":t.includes("ÁâπÁ∫ß")||t.includes("Á¶ÅÂøå")?"quality-heaven":"quality-common")])},(0,r.toDisplayString)(e.quality),3)])]),(0,r.createElementVNode)("p",G4,(0,r.toDisplayString)(e.description),1),(0,r.createElementVNode)("div",H4,[(0,r.createElementVNode)("div",Y4,[(0,r.createVNode)((0,r.unref)(Lu),{size:14}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.cost)+" Ë¥°ÁåÆ",1)]),void 0!==e.stock?((0,r.openBlock)(),(0,r.createElementBlock)("div",W4,[(0,r.createVNode)((0,r.unref)(Du),{size:12}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.stock>0?`Ââ©‰Ωô ${e.stock}`:"Â∑≤ÂîÆÁΩÑ"),1)])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("button",{class:"exchange-btn",disabled:s.value<e.cost||0===e.stock,onClick:t=>function(e){m(`ÊàëÊÉ≥Áî®${e.cost}Ë¥°ÁåÆÁÇπÂÖëÊç¢„Äå${e.name}„Äç`)}(e)},[(0,r.createVNode)((0,r.unref)(C4),{size:14}),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(u(e)),1)],8,X4)],2);var t}),128))]))]),(0,r.createCommentVNode)(" Ë¥°ÁåÆËé∑ÂèñÈÄîÂæÑ "),(0,r.createElementVNode)("div",J4,[(0,r.createElementVNode)("h4",K4,[(0,r.createVNode)((0,r.unref)(A4),{size:14}),t[6]||(t[6]=(0,r.createElementVNode)("span",null,"Ë¥°ÁåÆÁÇπËé∑ÂèñÈÄîÂæÑ",-1))]),(0,r.createElementVNode)("div",Z4,[(0,r.createElementVNode)("div",Q4,[(0,r.createVNode)((0,r.unref)(zu),{size:12}),t[7]||(t[7]=(0,r.createElementVNode)("span",null,"ÂèÇ‰∏éÁªÑÁªá‰∫ãÂä°",-1))]),(0,r.createElementVNode)("div",e3,[(0,r.createVNode)((0,r.unref)(Du),{size:12}),t[8]||(t[8]=(0,r.createElementVNode)("span",null,"‰∏ä‰∫§ÁèçÁ®ÄËµÑÊ∫ê",-1))]),(0,r.createElementVNode)("div",t3,[(0,r.createVNode)((0,r.unref)(E5),{size:12}),t[9]||(t[9]=(0,r.createElementVNode)("span",null,"ÂèÇ‰∏éÁªÑÁªáÊàòÊñó",-1))]),(0,r.createElementVNode)("div",n3,[(0,r.createVNode)((0,r.unref)(Bu),{size:12}),t[10]||(t[10]=(0,r.createElementVNode)("span",null,"ÊåáÂØº‰ΩéÈò∂ÊàêÂëò",-1))])])]),(0,r.createCommentVNode)(" ÊèêÁ§∫‰ø°ÊÅØ "),(0,r.createElementVNode)("div",a3,[(0,r.createVNode)((0,r.unref)(N5.A),{size:14}),t[11]||(t[11]=(0,r.createElementVNode)("span",null,"ÁÇπÂáªÂÖëÊç¢Â∞ÜÁõ¥Êé•ÂèëÈÄÅÂà∞ÂØπËØùÔºàÁî±AIÂà§ÂÆöÂπ∂ÊâßË°åÂÖëÊç¢Ôºâ",-1))])]))}});var o3=n(631),i3={};i3.styleTagTransform=k(),i3.setAttributes=v(),i3.insert=h().bind(null,"head"),i3.domAPI=p(),i3.insertStyleElement=y(),u()(o3.A,i3),o3.A&&o3.A.locals&&o3.A.locals;const s3=(0,N.A)(r3,[["__scopeId","data-v-0933afe0"]]),l3={class:"game-variable-data-header"},c3={class:"panel-header"},d3={class:"panel-title"},u3={class:"header-actions"},m3={class:"search-bar"},p3=["value"],g3=(0,r.defineComponent)({__name:"GameVariableDataHeader",props:{searchQuery:{},isRefreshing:{type:Boolean}},emits:["update:search-query","show-format-guide","refresh","export","show-stats"],setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",l3,[(0,r.createElementVNode)("div",c3,[(0,r.createElementVNode)("h2",d3,[(0,r.createVNode)((0,r.unref)(Fu),{size:20}),t[2]||(t[2]=(0,r.createElementVNode)("span",null,"Ê∏∏ÊàèÂèòÈáèÊü•Áúã",-1))]),(0,r.createElementVNode)("div",u3,[(0,r.createElementVNode)("div",m3,[(0,r.createVNode)((0,r.unref)(hI),{size:16}),(0,r.createElementVNode)("input",{value:e.searchQuery,onInput:t[0]||(t[0]=t=>e.$emit("update:search-query",t.target.value)),placeholder:"ÊêúÁ¥¢Êï∞ÊçÆ...",class:"search-input"},null,40,p3)]),(0,r.createElementVNode)("button",{class:"format-guide-btn",onClick:t[1]||(t[1]=t=>e.$emit("show-format-guide")),title:"Êü•ÁúãÊï∞ÊçÆÊ†ºÂºèËØ¥Êòé"},[(0,r.createVNode)((0,r.unref)(Iu.A),{size:16}),t[3]||(t[3]=(0,r.createElementVNode)("span",null,"Ê†ºÂºèËØ¥Êòé",-1))])])])]))});var h3=n(6119),f3={};f3.styleTagTransform=k(),f3.setAttributes=v(),f3.insert=h().bind(null,"head"),f3.domAPI=p(),f3.insertStyleElement=y(),u()(h3.A,f3),h3.A&&h3.A.locals&&h3.A.locals;const v3=(0,N.A)(g3,[["__scopeId","data-v-759e00bb"]]),b3=(0,_.A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),y3=(0,_.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),x3=(0,_.A)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),k3=(0,_.A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),w3={class:"data-type-selector"},E3=["onClick"],N3={key:0,class:"count-badge"},S3=(0,r.defineComponent)({__name:"GameVariableDataSelector",props:{dataTypes:{},selectedType:{},getDataCount:{type:Function}},emits:["update:selected-type"],setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",w3,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.dataTypes,t=>{return(0,r.openBlock)(),(0,r.createElementBlock)("button",{key:t.key,onClick:n=>e.$emit("update:selected-type",t.key),class:(0,r.normalizeClass)(["type-btn",{active:e.selectedType===t.key}])},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)((n=t.icon,{MessageSquare:b3,Globe:y3,Users:Bu,Archive:x3,Book:H0,Brain:Tu,Code:k3}[n]||k3)),{size:16})),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(t.label),1),e.getDataCount(t.key)>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",N3,(0,r.toDisplayString)(e.getDataCount(t.key)),1)):(0,r.createCommentVNode)("v-if",!0)],10,E3);var n}),128))]))});var _3=n(1703),V3={};V3.styleTagTransform=k(),V3.setAttributes=v(),V3.insert=h().bind(null,"head"),V3.domAPI=p(),V3.insertStyleElement=y(),u()(_3.A,V3),_3.A&&_3.A.locals&&_3.A.locals;const C3=(0,N.A)(S3,[["__scopeId","data-v-2d9375b2"]]),A3=(0,_.A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),D3=(0,_.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),T3={class:"variable-section"},B3={class:"section-header"},I3={class:"section-title"},M3=["disabled"],z3={class:"variable-content"},P3={key:0,class:"variable-list"},R3={class:"variable-header"},$3={class:"variable-key"},O3={class:"variable-type"},L3={class:"variable-actions"},F3=["onClick","disabled"],j3=["onClick"],U3=["onClick","disabled"],q3={class:"variable-value"},G3={key:0,class:"code-pre"},H3={key:1},Y3={key:1,class:"empty-state"},W3={key:0},X3={key:1},J3={class:"debug-info"},K3={class:"debug-content"},Z3={class:"debug-actions"},Q3=(0,r.defineComponent)({__name:"CustomOptionsSection",props:{type:{},variables:{},searchQuery:{},readOnly:{type:Boolean,default:!1},chatVariables:{},customOptions:{},coreDataViews:{}},emits:["edit-variable","copy-variable","delete-variable","add-new-variable","debug-log"],setup(e){const t=e=>null===e?"null":void 0===e?"undefined":Array.isArray(e)?`array[${e.length}]`:"object"==typeof e?`object{${Object.keys(e).length}}`:typeof e;return(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",T3,[(0,r.createElementVNode)("div",B3,[(0,r.createElementVNode)("h3",I3,(0,r.toDisplayString)("chat"===e.type?"Chat Variables (ËÅäÂ§©ÂèòÈáè)":"core"===e.type?"Core Data (Ê†∏ÂøÉÊï∞ÊçÆ)":"Custom Options (Ëá™ÂÆö‰πâÈÄâÈ°π)"),1),(0,r.createElementVNode)("button",{onClick:n[0]||(n[0]=t=>e.$emit("add-new-variable",e.type)),class:"add-btn",disabled:e.readOnly},[(0,r.createVNode)((0,r.unref)(Qj.A),{size:14}),n[2]||(n[2]=(0,r.createElementVNode)("span",null,"Êñ∞Â¢ûÂèòÈáè",-1))],8,M3)]),(0,r.createElementVNode)("div",z3,[Object.keys(e.variables).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",P3,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.variables,(n,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:a,class:"variable-item"},[(0,r.createElementVNode)("div",R3,[(0,r.createElementVNode)("span",$3,(0,r.toDisplayString)(a),1),(0,r.createElementVNode)("span",O3,(0,r.toDisplayString)(t(n)),1),(0,r.createElementVNode)("div",L3,[(0,r.createElementVNode)("button",{onClick:t=>e.$emit("edit-variable",{type:e.type,key:a,value:n}),class:"action-btn edit",title:"ÁºñËæë",disabled:e.readOnly},[(0,r.createVNode)((0,r.unref)(A3),{size:12})],8,F3),(0,r.createElementVNode)("button",{onClick:t=>e.$emit("copy-variable",{key:a,value:n}),class:"action-btn copy",title:"Â§çÂà∂"},[(0,r.createVNode)((0,r.unref)(D3),{size:12})],8,j3),(0,r.createElementVNode)("button",{onClick:t=>e.$emit("delete-variable",{type:e.type,key:a}),class:"action-btn delete",title:"Âà†Èô§",disabled:e.readOnly},[(0,r.createVNode)((0,r.unref)(Yn.A),{size:12})],8,U3)])]),(0,r.createElementVNode)("div",q3,["object"==typeof n?((0,r.openBlock)(),(0,r.createElementBlock)("pre",G3,(0,r.toDisplayString)(JSON.stringify(n,null,2)),1)):((0,r.openBlock)(),(0,r.createElementBlock)("span",H3,(0,r.toDisplayString)(n),1))])]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Y3,[(0,r.createVNode)((0,r.unref)(Du),{size:32}),e.searchQuery?((0,r.openBlock)(),(0,r.createElementBlock)("p",W3,"Êó†ÂåπÈÖçÁöÑÂèòÈáè")):((0,r.openBlock)(),(0,r.createElementBlock)("p",X3,(0,r.toDisplayString)("chat"===e.type?"ÊöÇÊó†ËÅäÂ§©ÂèòÈáè":"core"===e.type?"ÊöÇÊó†Ê†∏ÂøÉÊï∞ÊçÆ":"ÊöÇÊó†Ëá™ÂÆö‰πâÈÄâÈ°π"),1)),(0,r.createElementVNode)("div",J3,[(0,r.createElementVNode)("details",null,[n[5]||(n[5]=(0,r.createElementVNode)("summary",null,"üîç Ë∞ÉËØï‰ø°ÊÅØ (ÁÇπÂáªÂ±ïÂºÄ)",-1)),(0,r.createElementVNode)("div",K3,[n[4]||(n[4]=(0,r.createElementVNode)("p",null,[(0,r.createElementVNode)("strong",null,"ËøûÊé•Áä∂ÊÄÅ:"),(0,r.createTextVNode)(" ‚úÖÂ∑≤ËøûÊé•")],-1)),(0,r.createElementVNode)("p",null,[n[3]||(n[3]=(0,r.createElementVNode)("strong",null,"ÂèòÈáèÊï∞Èáè:",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(Object.keys(e.variables).length),1)]),(0,r.createElementVNode)("div",Z3,[(0,r.createElementVNode)("button",{onClick:n[1]||(n[1]=t=>e.$emit("debug-log")),class:"debug-btn"}," üñºÔ∏è ÊéßÂà∂Âè∞ËæìÂá∫ ")])])])])]))])]))}});var e6=n(6896),t6={};t6.styleTagTransform=k(),t6.setAttributes=v(),t6.insert=h().bind(null,"head"),t6.domAPI=p(),t6.insertStyleElement=y(),u()(e6.A,t6),e6.A&&e6.A.locals&&e6.A.locals;const n6=(0,N.A)(Q3,[["__scopeId","data-v-510a4b50"]]),a6={class:"character-section"},r6={key:0,class:"character-info"},o6={class:"info-grid"},i6={class:"info-item"},s6={class:"info-value"},l6={class:"info-item"},c6={class:"info-value"},d6={class:"data-detail"},u6={class:"code-pre"},m6={key:1,class:"empty-state"},p6=(0,r.defineComponent)({__name:"GameVariableCharacterSection",props:{characterData:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",a6,[t[4]||(t[4]=(0,r.createElementVNode)("div",{class:"section-header"},[(0,r.createElementVNode)("h3",{class:"section-title"},"Character Data (ËßíËâ≤Êï∞ÊçÆ)")],-1)),e.characterData?((0,r.openBlock)(),(0,r.createElementBlock)("div",r6,[(0,r.createElementVNode)("div",o6,[(0,r.createElementVNode)("div",i6,[t[0]||(t[0]=(0,r.createElementVNode)("span",{class:"info-label"},"ËßíËâ≤ÂêçÁß∞:",-1)),(0,r.createElementVNode)("span",s6,(0,r.toDisplayString)(e.characterData?.name||e.characterData?.ÂêçÂ≠ó||"Êú™Áü•"),1)]),(0,r.createElementVNode)("div",l6,[t[1]||(t[1]=(0,r.createElementVNode)("span",{class:"info-label"},"ËßíËâ≤ID:",-1)),(0,r.createElementVNode)("span",c6,(0,r.toDisplayString)(e.characterData?.id||"Êú™Áü•"),1)])]),(0,r.createElementVNode)("div",d6,[t[2]||(t[2]=(0,r.createElementVNode)("h4",{class:"detail-title"},"ÂÆåÊï¥ËßíËâ≤Êï∞ÊçÆ:",-1)),(0,r.createElementVNode)("pre",u6,(0,r.toDisplayString)(JSON.stringify(e.characterData,null,2)),1)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",m6,[(0,r.createVNode)((0,r.unref)(Bu),{size:32}),t[3]||(t[3]=(0,r.createElementVNode)("p",null,"ÊöÇÊó†ËßíËâ≤Êï∞ÊçÆ",-1))]))]))});var g6=n(3509),h6={};h6.styleTagTransform=k(),h6.setAttributes=v(),h6.insert=h().bind(null,"head"),h6.domAPI=p(),h6.insertStyleElement=y(),u()(g6.A,h6),g6.A&&g6.A.locals&&g6.A.locals;const f6=(0,N.A)(p6,[["__scopeId","data-v-6cf48088"]]),v6={class:"save-data-section"},b6={class:"save-data-content"},y6={key:0,class:"data-tree"},x6={key:1,class:"empty-state"},k6=(0,r.defineComponent)({__name:"GameVariableSaveDataSection",props:{saveData:{},readOnly:{type:Boolean,default:!1}},emits:["edit-variable"],setup(e,{emit:t}){const a=(0,r.defineAsyncComponent)(()=>Promise.resolve().then(n.bind(n,1419))),o=e,i=t,s=(0,Au.useGameStateStore)(),l=(0,r.computed)(()=>{const e=o.saveData??{},t=(0,gd.ru)(e)?e:(0,gd.jj)(e).migrated;return{ÂÖÉÊï∞ÊçÆ:t.ÂÖÉÊï∞ÊçÆ,ËßíËâ≤:t.ËßíËâ≤,Á§æ‰∫§:t.Á§æ‰∫§,‰∏ñÁïå:t.‰∏ñÁïå,Á≥ªÁªü:t.Á≥ªÁªü}}),c=(e,t)=>{o.readOnly?X.o.warning("ËÅîÊú∫Ê®°Âºè‰∏ã‰∏çÂÖÅËÆ∏Áõ¥Êé•‰øÆÊîπÂ≠òÊ°£Êï∞ÊçÆÔºàÊúçÂä°Âô®ÊùÉÂ®ÅÊéßÂà∂Ôºâ"):i("edit-variable",{type:"saveData",key:e,value:t})},d=async e=>{if(o.readOnly)X.o.warning("ËÅîÊú∫Ê®°Âºè‰∏ã‰∏çÂÖÅËÆ∏Áõ¥Êé•Âà†Èô§Â≠òÊ°£Êï∞ÊçÆÔºàÊúçÂä°Âô®ÊùÉÂ®ÅÊéßÂà∂Ôºâ");else if(Gw.Yz.log("[TavernSaveData]",`ËØ∑Ê±ÇÂà†Èô§: ${e}`),confirm(`Á°ÆÂÆöË¶ÅÂà†Èô§Ê≠§È°πÁõÆÂêóÔºü\nË∑ØÂæÑ: ${e}\n\nÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄÔºÅ`))try{const t=e.split("."),n=e.startsWith("ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.")&&4===t.length,a=e.startsWith("Á§æ‰∫§.ÂÖ≥Á≥ª.")&&3===t.length;if(!n&&!a)return void X.o.warning("ËØ•Ë∑ØÂæÑÊöÇ‰∏çÊîØÊåÅÂà†Èô§ÔºåËØ∑ÈÄöËøáÊ∏∏ÊàèÂÜÖÊìç‰ΩúÂ§ÑÁêÜ");if(n){const e=t[3],n=s.inventory;if(!n?.Áâ©ÂìÅ?.[e])throw new Error(`Áâ©ÂìÅ‰∏çÂ≠òÂú®: ${e}`);const a=JSON.parse(JSON.stringify(n));delete a.Áâ©ÂìÅ[e],s.updateState("inventory",a)}else{const e=t[2],n=s.relationships;if(!n?.[e])throw new Error(`NPC‰∏çÂ≠òÂú®: ${e}`);const a=JSON.parse(JSON.stringify(n));delete a[e],s.updateState("relationships",a)}await s.saveGame(),X.o.success(`È°πÁõÆ ${e} Â∑≤Âà†Èô§`),Gw.Yz.log("[TavernSaveData]",`ÊàêÂäüÂà†Èô§Âπ∂ÂêåÊ≠•: ${e}`)}catch(e){Gw.Yz.error("[TavernSaveData]","Âà†Èô§Â§±Ë¥•",e),X.o.error(`Âà†Èô§Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",v6,[t[1]||(t[1]=(0,r.createElementVNode)("div",{class:"section-header"},[(0,r.createElementVNode)("h3",{class:"section-title"},"Save Data (Â≠òÊ°£Êï∞ÊçÆ)")],-1)),(0,r.createElementVNode)("div",b6,[l.value&&Object.keys(l.value).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",y6,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value,(t,n)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a),{key:n,"node-key":n,value:t,path:String(n),"read-only":e.readOnly,onDeleteItem:d,onEditItem:c},null,8,["node-key","value","path","read-only"]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",x6,[(0,r.createVNode)((0,r.unref)(x3),{size:32}),t[0]||(t[0]=(0,r.createElementVNode)("p",null,"ÊöÇÊó†Â≠òÊ°£Êï∞ÊçÆ",-1))]))])]))}});var w6=n(7986),E6={};E6.styleTagTransform=k(),E6.setAttributes=v(),E6.insert=h().bind(null,"head"),E6.domAPI=p(),E6.insertStyleElement=y(),u()(w6.A,E6),w6.A&&w6.A.locals&&w6.A.locals;const N6=(0,N.A)(k6,[["__scopeId","data-v-68cac9c5"]]),S6={class:"world-info-section"},_6={class:"world-info-content"},V6={key:0,class:"data-display"},C6={class:"code-pre"},A6={key:1,class:"empty-state"},D6=(0,r.defineComponent)({__name:"GameVariableWorldInfoSection",props:{worldInfo:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",S6,[t[1]||(t[1]=(0,r.createElementVNode)("div",{class:"section-header"},[(0,r.createElementVNode)("h3",{class:"section-title"},"World Info (‰∏ñÁïå‰ø°ÊÅØ)")],-1)),(0,r.createElementVNode)("div",_6,[e.worldInfo&&Object.keys(e.worldInfo).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",V6,[(0,r.createElementVNode)("pre",C6,(0,r.toDisplayString)(JSON.stringify(e.worldInfo,null,2)),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",A6,[(0,r.createVNode)((0,r.unref)(H0),{size:32}),t[0]||(t[0]=(0,r.createElementVNode)("p",null,"ÊöÇÊó†‰∏ñÁïå‰ø°ÊÅØ",-1))]))])]))});var T6=n(2748),B6={};B6.styleTagTransform=k(),B6.setAttributes=v(),B6.insert=h().bind(null,"head"),B6.domAPI=p(),B6.insertStyleElement=y(),u()(T6.A,B6),T6.A&&T6.A.locals&&T6.A.locals;const I6=(0,N.A)(D6,[["__scopeId","data-v-dbebcd90"]]),M6={class:"memory-section"},z6={class:"memory-content"},P6={key:0,class:"data-display"},R6={class:"code-pre"},$6={key:1,class:"empty-state"},O6=(0,r.defineComponent)({__name:"GameVariableMemorySection",props:{memoryData:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",M6,[t[1]||(t[1]=(0,r.createElementVNode)("div",{class:"section-header"},[(0,r.createElementVNode)("h3",{class:"section-title"},"Memory Data (ËÆ∞ÂøÜÊï∞ÊçÆ)")],-1)),(0,r.createElementVNode)("div",z6,[e.memoryData&&Object.keys(e.memoryData).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",P6,[(0,r.createElementVNode)("pre",R6,(0,r.toDisplayString)(JSON.stringify(e.memoryData,null,2)),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",$6,[(0,r.createVNode)((0,r.unref)(Tu),{size:32}),t[0]||(t[0]=(0,r.createElementVNode)("p",null,"ÊöÇÊó†ËÆ∞ÂøÜÊï∞ÊçÆ",-1))]))])]))});var L6=n(8092),F6={};F6.styleTagTransform=k(),F6.setAttributes=v(),F6.insert=h().bind(null,"head"),F6.domAPI=p(),F6.insertStyleElement=y(),u()(L6.A,F6),L6.A&&L6.A.locals&&L6.A.locals;const j6=(0,N.A)(O6,[["__scopeId","data-v-04e0cd04"]]),U6={class:"raw-data-section"},q6={class:"raw-data-content"},G6={key:0,class:"data-display"},H6={class:"code-pre"},Y6={key:1,class:"empty-state"},W6=(0,r.defineComponent)({__name:"GameVariableRawDataSection",props:{allTavernData:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",U6,[t[1]||(t[1]=(0,r.createElementVNode)("div",{class:"section-header"},[(0,r.createElementVNode)("h3",{class:"section-title"},"Raw Data (ÂéüÂßãÊï∞ÊçÆ)")],-1)),(0,r.createElementVNode)("div",q6,[e.allTavernData&&Object.keys(e.allTavernData).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",G6,[(0,r.createElementVNode)("pre",H6,(0,r.toDisplayString)(JSON.stringify(e.allTavernData,null,2)),1)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Y6,[(0,r.createVNode)((0,r.unref)(k3),{size:32}),t[0]||(t[0]=(0,r.createElementVNode)("p",null,"ÊöÇÊó†ÂéüÂßãÊï∞ÊçÆ",-1))]))])]))});var X6=n(1021),J6={};J6.styleTagTransform=k(),J6.setAttributes=v(),J6.insert=h().bind(null,"head"),J6.domAPI=p(),J6.insertStyleElement=y(),u()(X6.A,J6),X6.A&&X6.A.locals&&X6.A.locals;const K6=(0,N.A)(W6,[["__scopeId","data-v-2cab0dce"]]),Z6={class:"data-display"},Q6={key:0,class:"loading-state"},e8={key:1,class:"data-content"},t8={key:0,class:"error-state"},n8=(0,r.defineComponent)({__name:"GameVariableDataDisplay",props:{isLoading:{type:Boolean},selectedDataType:{},searchQuery:{},readOnly:{type:Boolean,default:!1},coreDataViews:{},customOptions:{},characterData:{},saveData:{},worldInfo:{},memoryData:{},allGameData:{},filteredCoreDataViews:{},filteredCustomOptions:{},filteredChatVariables:{}},emits:["edit-variable","copy-variable","delete-variable","add-new-variable","debug-log"],setup(e){const t=e,n=(0,r.ref)(!1),a=()=>{n.value=!1},o=()=>{switch(t.selectedDataType){case"core":case"custom":default:return n6;case"character":return f6;case"saveData":return N6;case"worldInfo":return I6;case"memory":return j6;case"raw":return K6}},i=()=>{const e={searchQuery:t.searchQuery,coreDataViews:t.coreDataViews||{},customOptions:t.customOptions||{},readOnly:t.readOnly};switch(t.selectedDataType){case"core":return{...e,type:"core",variables:t.filteredCoreDataViews||{}};case"custom":return{...e,type:"custom",variables:t.filteredCustomOptions||{}};case"character":return{characterData:t.characterData};case"saveData":return{saveData:t.saveData,readOnly:t.readOnly};case"worldInfo":return{worldInfo:t.worldInfo};case"memory":return{memoryData:t.memoryData};case"raw":return{allGameData:t.allGameData};default:return{...e,type:"chat",variables:t.filteredChatVariables||{}}}};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Z6,[e.isLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",Q6,[(0,r.createVNode)((0,r.unref)(zy),{size:32,class:"animate-spin"}),t[5]||(t[5]=(0,r.createElementVNode)("p",null,"Ê≠£Âú®Âä†ËΩΩÊï∞ÊçÆ...",-1))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",e8,[n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",t8,[(0,r.createVNode)((0,r.unref)($_),{size:48}),t[6]||(t[6]=(0,r.createElementVNode)("p",null,"Êï∞ÊçÆÊòæÁ§∫Âá∫Èîô",-1)),t[7]||(t[7]=(0,r.createElementVNode)("p",{class:"hint"},"ËØ∑Â∞ùËØïÂà∑Êñ∞Êï∞ÊçÆ",-1)),(0,r.createElementVNode)("button",{onClick:a,class:"retry-btn"},"ÈáçËØï")])):((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(o()),(0,r.mergeProps)({key:1},i(),{onEditVariable:t[0]||(t[0]=t=>e.$emit("edit-variable",t)),onCopyVariable:t[1]||(t[1]=t=>e.$emit("copy-variable",t)),onDeleteVariable:t[2]||(t[2]=t=>e.$emit("delete-variable",t)),onAddNewVariable:t[3]||(t[3]=t=>e.$emit("add-new-variable",t)),onDebugLog:t[4]||(t[4]=t=>e.$emit("debug-log"))}),null,16))]))]))}});var a8=n(7816),r8={};r8.styleTagTransform=k(),r8.setAttributes=v(),r8.insert=h().bind(null,"head"),r8.domAPI=p(),r8.insertStyleElement=y(),u()(a8.A,r8),a8.A&&a8.A.locals&&a8.A.locals;const o8=(0,N.A)(n8,[["__scopeId","data-v-3e8f894e"]]),i8={class:"modal-header"},s8={class:"modal-body"},l8={class:"form-group"},c8=["disabled"],d8={key:0,class:"form-hint-text"},u8={class:"form-group"},m8={class:"value-type-selector"},p8=["onClick"],g8=["placeholder"],h8={key:0,class:"error-message"},f8={key:1,class:"form-hint"},v8={key:0,class:"preview-section"},b8={class:"preview-content"},y8={class:"modal-footer"},x8=["disabled"],k8=(0,r.defineComponent)({__name:"GameVariableEditModal",props:{editingItem:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,a=t,o=(0,r.ref)({type:"",key:"",value:""}),i=(0,r.ref)("string"),s=(0,r.ref)(""),l=[{value:"string",label:"Â≠óÁ¨¶‰∏≤"},{value:"number",label:"Êï∞Â≠ó"},{value:"boolean",label:"Â∏ÉÂ∞îÂÄº"},{value:"object",label:"ÂØπË±°"},{value:"array",label:"Êï∞ÁªÑ"}],c=(0,r.computed)({get:()=>{if(!o.value)return"";const e=o.value.value;return"object"==typeof e&&null!==e?JSON.stringify(e,null,2):String(e??"")},set:e=>{o.value&&(o.value.value=e,m())}}),d=(0,r.computed)(()=>{if(s.value||!c.value)return null;try{if("object"===i.value||"array"===i.value){const e=JSON.parse(c.value);return JSON.stringify(e,null,2)}return null}catch{return null}}),u=(0,r.computed)(()=>""!==o.value.key.trim()&&""!==c.value.trim()&&!s.value),m=()=>{if(s.value="",c.value.trim()&&("object"===i.value||"array"===i.value))try{const e=JSON.parse(c.value);"array"!==i.value||Array.isArray(e)?"object"!==i.value||!Array.isArray(e)&&"object"==typeof e||(s.value="ÊúüÊúõÊòØÂØπË±°Á±ªÂûãÔºå‰ΩÜËß£ÊûêÁªìÊûú‰∏çÊòØÂØπË±°"):s.value="ÊúüÊúõÊòØÊï∞ÁªÑÁ±ªÂûãÔºå‰ΩÜËß£ÊûêÁªìÊûú‰∏çÊòØÊï∞ÁªÑ"}catch(e){s.value="JSON Ê†ºÂºèÈîôËØØ: "+(e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ")}},p=()=>{switch(i.value){case"string":return"ËØ∑ËæìÂÖ•Â≠óÁ¨¶‰∏≤ÂÄºÔºå‰æãÂ¶Ç: Hello World";case"number":return"ËØ∑ËæìÂÖ•Êï∞Â≠óÂÄºÔºå‰æãÂ¶Ç: 123 Êàñ 3.14";case"boolean":return"ËØ∑ËæìÂÖ• true Êàñ false";case"object":return'ËØ∑ËæìÂÖ• JSON ÂØπË±°Ôºå‰æãÂ¶Ç: {"name": "Âº†‰∏â", "age": 25}';case"array":return'ËØ∑ËæìÂÖ• JSON Êï∞ÁªÑÔºå‰æãÂ¶Ç: [1, 2, 3] Êàñ ["a", "b", "c"]';default:return"ËØ∑ËæìÂÖ•ÂÄº"}},g=()=>{switch(i.value){case"string":return"‚úÖ Áõ¥Êé•ËæìÂÖ•ÊñáÊú¨ÂÜÖÂÆπÂç≥ÂèØ";case"number":return"‚úÖ ËæìÂÖ•Êï∞Â≠óÔºåÊîØÊåÅÊï¥Êï∞ÂíåÂ∞èÊï∞";case"boolean":return"‚úÖ ËæìÂÖ• true Êàñ false";case"object":return'‚úÖ ‰ΩøÁî® JSON Ê†ºÂºèÔºå‰æãÂ¶Ç: {"key": "value"}';case"array":return"‚úÖ ‰ΩøÁî® JSON Êï∞ÁªÑÊ†ºÂºèÔºå‰æãÂ¶Ç: [1, 2, 3]";default:return"ÊîØÊåÅÂ≠óÁ¨¶‰∏≤„ÄÅÊï∞Â≠ó„ÄÅÂ∏ÉÂ∞îÂÄº„ÄÅÂØπË±°ÂíåÊï∞ÁªÑ"}},h=()=>{if(u.value)try{console.log("=== [ModalËØäÊñ≠] ÂºÄÂßã‰øùÂ≠ò ==="),console.log("[Modal-1] editingValue.value (ÂéüÂßãÂ≠óÁ¨¶‰∏≤):",c.value),console.log("[Modal-2] selectedType:",i.value);let e=c.value;switch(i.value){case"number":if(e=Number(c.value),isNaN(e))return void(s.value="Êó†ÊïàÁöÑÊï∞Â≠óÊ†ºÂºè");break;case"boolean":e="true"===c.value.toLowerCase();break;case"object":case"array":console.log("[Modal-3] Ëß£ÊûêÂâçÁöÑJSONÂ≠óÁ¨¶‰∏≤:",c.value),e=JSON.parse(c.value),console.log("[Modal-4] Ëß£ÊûêÂêéÁöÑÂØπË±°:",e),console.log("[Modal-5] Ëß£ÊûêÂêéÁöÑJSON:",JSON.stringify(e));break;default:e=c.value}o.value.value=e,console.log("[Modal-6] Âç≥Â∞ÜemitÁöÑlocalEditingItem:",o.value),console.log("[Modal-7] Âç≥Â∞ÜemitÁöÑfinalValue:",e,"JSON:",JSON.stringify(e)),a("save",o.value)}catch(e){s.value="‰øùÂ≠òÂ§±Ë¥•: "+(e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ")}};return(0,r.watch)(()=>n.editingItem,e=>{var t;e&&(o.value={...e},i.value=null==(t=e.value)?"string":Array.isArray(t)?"array":"object"==typeof t?"object":"boolean"==typeof t?"boolean":"number"==typeof t?"number":"string",s.value="",m())},{immediate:!0}),(e,t)=>e.editingItem?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t[5]||(t[5]=t=>e.$emit("close"))},[(0,r.createElementVNode)("div",{class:"modal-content",onClick:t[4]||(t[4]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",i8,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(o.value.key?"ÁºñËæëÂèòÈáè":"Êñ∞Â¢ûÂèòÈáè"),1),(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-btn"},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:16})])]),(0,r.createElementVNode)("div",s8,[(0,r.createElementVNode)("div",l8,[t[6]||(t[6]=(0,r.createElementVNode)("label",null,"ÂèòÈáèÂêç (Key)",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.key=e),class:"form-input",disabled:!!e.editingItem.key,placeholder:"ËØ∑ËæìÂÖ•ÂèòÈáèÂêç"},null,8,c8),[[r.vModelText,o.value.key]]),e.editingItem.key?((0,r.openBlock)(),(0,r.createElementBlock)("p",d8," ‚ÑπÔ∏è ÁºñËæëÊ®°Âºè‰∏ãÊó†Ê≥ï‰øÆÊîπÂèòÈáèÂêç ")):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",u8,[t[7]||(t[7]=(0,r.createElementVNode)("label",null,"ÂèòÈáèÂÄº (Value)",-1)),(0,r.createElementVNode)("div",m8,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l,e=>(0,r.createElementVNode)("button",{key:e.value,onClick:t=>(e=>{if(i.value=e,!c.value)switch(e){case"string":c.value="";break;case"number":c.value="0";break;case"boolean":c.value="true";break;case"object":c.value="{}";break;case"array":c.value="[]"}m()})(e.value),class:(0,r.normalizeClass)(["type-btn",{active:i.value===e.value}])},(0,r.toDisplayString)(e.label),11,p8)),64))]),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),class:(0,r.normalizeClass)(["form-textarea",{"has-error":s.value}]),rows:"10",placeholder:p()},null,10,g8),[[r.vModelText,c.value]]),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",h8," ‚ö†Ô∏è "+(0,r.toDisplayString)(s.value),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",f8,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(g()),1)]))]),d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",v8,[t[8]||(t[8]=(0,r.createElementVNode)("label",null,"È¢ÑËßà",-1)),(0,r.createElementVNode)("pre",b8,(0,r.toDisplayString)(d.value),1)])):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",y8,[(0,r.createElementVNode)("button",{onClick:t[3]||(t[3]=t=>e.$emit("close")),class:"cancel-btn"},"ÂèñÊ∂à"),(0,r.createElementVNode)("button",{onClick:h,class:"save-btn",disabled:!u.value},[(0,r.createVNode)((0,r.unref)(Pu.A),{size:14}),t[9]||(t[9]=(0,r.createElementVNode)("span",null,"‰øùÂ≠ò",-1))],8,x8)])])])):(0,r.createCommentVNode)("v-if",!0)}});var w8=n(8470),E8={};E8.styleTagTransform=k(),E8.setAttributes=v(),E8.insert=h().bind(null,"head"),E8.domAPI=p(),E8.insertStyleElement=y(),u()(w8.A,E8),w8.A&&w8.A.locals&&w8.A.locals;const N8=(0,N.A)(k8,[["__scopeId","data-v-01a0fb92"]]),S8={class:"modal-header"},_8={class:"modal-body"},V8={class:"stats-grid"},C8={class:"stat-card"},A8={class:"stat-icon core"},D8={class:"stat-info"},T8={class:"stat-value"},B8={class:"stat-card"},I8={class:"stat-icon global"},M8={class:"stat-info"},z8={class:"stat-value"},P8={class:"stat-card"},R8={class:"stat-icon memory"},$8={class:"stat-info"},O8={class:"stat-value"},L8={class:"stat-card"},F8={class:"stat-icon world"},j8={class:"stat-info"},U8={class:"stat-value"},q8={class:"data-size-info"},G8={class:"size-list"},H8={class:"size-item"},Y8={class:"size-item"},W8={class:"size-item"},X8={class:"data-size-info",style:{"margin-top":"1rem"}},J8={class:"size-list"},K8={style:{"font-family":"monospace","font-size":"0.8rem"}},Z8=(0,r.defineComponent)({__name:"GameVariableStatsModal",props:{coreDataViews:{},customOptions:{},allGameData:{},getMemoryCount:{type:Function},getWorldItemCount:{type:Function}},emits:["close"],setup(e){const t=e,n=e=>new Blob([JSON.stringify(e)]).size,a=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"modal-overlay",onClick:o[2]||(o[2]=t=>e.$emit("close"))},[(0,r.createElementVNode)("div",{class:"modal-content stats-modal",onClick:o[1]||(o[1]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("div",S8,[o[3]||(o[3]=(0,r.createElementVNode)("h3",null,"Êï∞ÊçÆÁªüËÆ°",-1)),(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=t=>e.$emit("close")),class:"close-btn"},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:16})])]),(0,r.createElementVNode)("div",_8,[(0,r.createElementVNode)("div",V8,[(0,r.createElementVNode)("div",C8,[(0,r.createElementVNode)("div",A8,[(0,r.createVNode)((0,r.unref)(Fu),{size:24})]),(0,r.createElementVNode)("div",D8,[(0,r.createElementVNode)("div",T8,(0,r.toDisplayString)(Object.keys(e.coreDataViews).length),1),o[4]||(o[4]=(0,r.createElementVNode)("div",{class:"stat-label"},"Ê†∏ÂøÉÊï∞ÊçÆ",-1))])]),(0,r.createElementVNode)("div",B8,[(0,r.createElementVNode)("div",I8,[(0,r.createVNode)((0,r.unref)(Wn.A),{size:24})]),(0,r.createElementVNode)("div",M8,[(0,r.createElementVNode)("div",z8,(0,r.toDisplayString)(Object.keys(e.customOptions).length),1),o[5]||(o[5]=(0,r.createElementVNode)("div",{class:"stat-label"},"Ëá™ÂÆö‰πâÈÄâÈ°π",-1))])]),(0,r.createElementVNode)("div",P8,[(0,r.createElementVNode)("div",R8,[(0,r.createVNode)((0,r.unref)(Tu),{size:24})]),(0,r.createElementVNode)("div",$8,[(0,r.createElementVNode)("div",O8,(0,r.toDisplayString)(e.getMemoryCount()),1),o[6]||(o[6]=(0,r.createElementVNode)("div",{class:"stat-label"},"ËÆ∞ÂøÜÊù°ÁõÆ",-1))])]),(0,r.createElementVNode)("div",L8,[(0,r.createElementVNode)("div",F8,[(0,r.createVNode)((0,r.unref)(H0),{size:24})]),(0,r.createElementVNode)("div",j8,[(0,r.createElementVNode)("div",U8,(0,r.toDisplayString)(e.getWorldItemCount()),1),o[7]||(o[7]=(0,r.createElementVNode)("div",{class:"stat-label"},"‰∏ñÁïåÂÖÉÁ¥†",-1))])])]),(0,r.createElementVNode)("div",q8,[o[11]||(o[11]=(0,r.createElementVNode)("h4",null,"Êï∞ÊçÆÂ§ßÂ∞èÁªüËÆ°",-1)),(0,r.createElementVNode)("div",G8,[(0,r.createElementVNode)("div",H8,[o[8]||(o[8]=(0,r.createElementVNode)("span",null,"Ê†∏ÂøÉÊï∞ÊçÆÂ§ßÂ∞è:",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(a(n(e.coreDataViews))),1)]),(0,r.createElementVNode)("div",Y8,[o[9]||(o[9]=(0,r.createElementVNode)("span",null,"Ëá™ÂÆö‰πâÈÄâÈ°πÂ§ßÂ∞è:",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(a(n(e.customOptions))),1)]),(0,r.createElementVNode)("div",W8,[o[10]||(o[10]=(0,r.createElementVNode)("span",null,"ÊÄªÊï∞ÊçÆÂ§ßÂ∞è:",-1)),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(a(n(e.allGameData))),1)])])]),(0,r.createElementVNode)("div",X8,[o[12]||(o[12]=(0,r.createElementVNode)("h4",null,"Ê†∏ÂøÉÊï∞ÊçÆËØ¶ÁªÜÂ§ßÂ∞èÔºàÂâç10‰∏™ÊúÄÂ§ßÁöÑÔºâ",-1)),(0,r.createElementVNode)("div",J8,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Object.entries(t.coreDataViews).map(([e,t])=>({key:e,size:n(t)})).sort((e,t)=>t.size-e.size).slice(0,10),e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.key,class:"size-item"},[(0,r.createElementVNode)("span",K8,(0,r.toDisplayString)(e.key),1),(0,r.createElementVNode)("span",{style:(0,r.normalizeStyle)({color:e.size>5e4?"#ef4444":e.size>1e4?"#f59e0b":"inherit"})},(0,r.toDisplayString)(a(e.size)),5)]))),128))])])])])]))}});var Q8=n(8537),e7={};e7.styleTagTransform=k(),e7.setAttributes=v(),e7.insert=h().bind(null,"head"),e7.domAPI=p(),e7.insertStyleElement=y(),u()(Q8.A,e7),Q8.A&&Q8.A.locals&&Q8.A.locals;const t7=(0,N.A)(Z8,[["__scopeId","data-v-594e2d00"]]);var n7=n(406);const a7={class:"format-guide-modal"},r7={class:"modal-header"},o7={class:"modal-title"},i7={class:"modal-body"},s7={class:"format-guide-content"},l7={class:"quick-nav"},c7=["onClick"],d7={class:"modal-footer"},u7=(0,r.defineComponent)({__name:"GameVariableFormatGuideModal",emits:["close"],setup(e){const t=(0,r.ref)("character"),n=(0,n7.lS)((0,se.isTavernEnv)()),a=[{id:"character",title:"ËßíËâ≤/Áä∂ÊÄÅ"},{id:"dao",title:"ÊµÅÊ¥æ"},{id:"inventory",title:"ËÉåÂåÖÁâ©ÂìÅ"},{id:"relationships",title:"ÂÖ≥Á≥ª"},{id:"world",title:"‰∏ñÁïå"},{id:"event",title:"‰∫ã‰ª∂"}],o=async()=>{try{await navigator.clipboard.writeText(n),X.o.success("Â∑≤Â§çÂà∂ÂÆåÊï¥Êï∞ÊçÆÊ†ºÂºèËØ¥Êòé")}catch(e){console.error("Â§çÂà∂Â§±Ë¥•:",e),X.o.error("Â§çÂà∂Â§±Ë¥•")}};return(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"format-guide-modal-overlay",onClick:n[2]||(n[2]=(0,r.withModifiers)(t=>e.$emit("close"),["self"]))},[(0,r.createElementVNode)("div",a7,[(0,r.createElementVNode)("div",r7,[(0,r.createElementVNode)("h3",o7,[(0,r.createVNode)((0,r.unref)(Iu.A),{size:20}),n[3]||(n[3]=(0,r.createTextVNode)(" Êï∞ÊçÆÊ†ºÂºèËØ¥Êòé ",-1))]),(0,r.createElementVNode)("button",{class:"close-btn",onClick:n[0]||(n[0]=t=>e.$emit("close")),title:"ÂÖ≥Èó≠"},[(0,r.createVNode)((0,r.unref)(Xu.A),{size:20})])]),(0,r.createElementVNode)("div",i7,[(0,r.createElementVNode)("div",s7,[(0,r.createCommentVNode)(" Âø´ÈÄüÂØºËà™ "),(0,r.createElementVNode)("div",l7,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a,e=>(0,r.createElementVNode)("button",{key:e.id,class:(0,r.normalizeClass)(["nav-btn",{active:t.value===e.id}]),onClick:n=>(e=>{t.value=e;const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})})(e.id)},(0,r.toDisplayString)(e.title),11,c7)),64))]),(0,r.createCommentVNode)(" Ê†ºÂºèËØ¥ÊòéÂÜÖÂÆπ "),n[4]||(n[4]=(0,r.createStaticVNode)('<div class="format-sections" data-v-07601240>\x3c!-- ËßíËâ≤‰ø°ÊÅØ --\x3e<section id="character" class="format-section" data-v-07601240><h4 class="section-title" data-v-07601240>1. ËßíËâ≤‰∏éÁä∂ÊÄÅ</h4><div class="section-content" data-v-07601240><h5 data-v-07601240>1.1 ËßíËâ≤ÔºàÂü∫Á°ÄÊ°£Ê°àÔºâ</h5><pre class="code-block" data-v-07601240>ÂêçÂ≠ó: string (Âè™ËØª)\nÊÄßÂà´: &quot;Áî∑&quot;|&quot;Â•≥&quot;|&quot;ÂÖ∂‰ªñ&quot; (Âè™ËØª)\nÂπ¥ÈæÑ: number (Ëá™Âä®ËÆ°ÁÆó)\nÂá∫ÁîüÊó•Êúü: {Âπ¥, Êúà, Êó•, Â∞èÊó∂?, ÂàÜÈíü?} (Âè™ËØª)\nÂàùÂßãÂÖ≠Áª¥: {‰ΩìË¥®, ËÉΩÊ∫ê, ÁÆóÊ≥ï, ËµÑÊ∫êÊÑüÁü•, È≠ÖÂäõ, ÂøÉÊô∫} (Âè™ËØªÔºå1-10)\nÊàêÈïøÂÖ≠Áª¥: {‰ΩìË¥®, ËÉΩÊ∫ê, ÁÆóÊ≥ï, ËµÑÊ∫êÊÑüÁü•, È≠ÖÂäõ, ÂøÉÊô∫} (ÂèØ‰øÆÊîπÔºåÁî®add)</pre><h5 data-v-07601240>1.2 Â±ûÊÄßÔºàÂèØ‰øÆÊîπÔºâ</h5><pre class="code-block" data-v-07601240>Èò∂‰Ωç: {ÂêçÁß∞, Èò∂ÊÆµ, ÂΩìÂâçËøõÂ∫¶, ‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ, ÊôãÂçáÊèèËø∞}\n  ‚Üí Áî®setÊõ¥Êñ∞Êï¥‰∏™ÂØπË±°\n  ‚Üí ÊôãÂçáÊó∂ÂøÖÈ°ªÊõ¥Êñ∞ÊôãÂçáÊèèËø∞\n\nÁîüÂëΩÂÄº/ÁîµÈáè/Â∏¶ÂÆΩ: {ÂΩìÂâç, ‰∏äÈôê}\n  ‚Üí ÂΩìÂâçÁî®addÔºå‰∏äÈôêÁ™ÅÁ†¥Êó∂Áî®add\n\nÂØøÂëΩ: {ÂΩìÂâç, ‰∏äÈôê}\n  ‚Üí ÂΩìÂâçÁî®add/ÊàñÂú®Êó∂Èó¥Êé®ËøõÊó∂Áî±Á≥ªÁªüÊõ¥Êñ∞Ôºå‰∏äÈôêÁ™ÅÁ†¥Êó∂Áî®add\n\nÂ£∞Êúõ: number\n  ‚Üí Áî®addÂ¢ûÂáèÊàñsetË¶ÜÁõñ\n\n‰ΩçÁΩÆ: {ÊèèËø∞:&quot;Â§ßÈôÜ¬∑Âú∞ÁÇπ&quot;, x, y}\n  ‚Üí È°∂Á∫ßÂ≠óÊÆµ key=&quot;‰ΩçÁΩÆ&quot;ÔºåÁî®setÊõ¥Êñ∞Êï¥‰∏™ÂØπË±°Ôºå‰∏â‰∏™Â≠óÊÆµÂøÖÈ°ªÂêåÊó∂ËÆæÁΩÆ\n\nÊïàÊûú: [{Áä∂ÊÄÅÂêçÁß∞, Á±ªÂûã, ÁîüÊàêÊó∂Èó¥, ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü, Áä∂ÊÄÅÊèèËø∞}]\n  ‚Üí Âè™ËÉΩÁî®pushÊ∑ªÂä†\n  ‚Üí Á±ªÂûãÂøÖÈ°ªÊòØ&quot;buff&quot;Êàñ&quot;debuff&quot;ÔºàÂÖ®Â∞èÂÜôÔºâ\n  ‚Üí ÁîüÊàêÊó∂Èó¥‰ΩøÁî®ÂΩìÂâçÊ∏∏ÊàèÊó∂Èó¥\n  ‚Üí ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíüÔºöÊï∞ÂÄºÁ±ªÂûãÔºà99999Ë°®Á§∫Ê∞∏‰πÖÔºâ</pre><div class="example-box" data-v-07601240><strong data-v-07601240>Á§∫‰æãÔºö</strong><pre class="code-block" data-v-07601240>// Ê∑ªÂä†Â¢ûÁõäÁä∂ÊÄÅ\n{\n  &quot;action&quot;: &quot;push&quot;,\n  &quot;key&quot;: &quot;ÊïàÊûú&quot;,\n  &quot;value&quot;: {\n    &quot;Áä∂ÊÄÅÂêçÁß∞&quot;: &quot;ÁîµÈáèÂÖÖÁõà&quot;,\n    &quot;Á±ªÂûã&quot;: &quot;buff&quot;,\n    &quot;ÁîüÊàêÊó∂Èó¥&quot;: {&quot;Âπ¥&quot;: 1000, &quot;Êúà&quot;: 3, &quot;Êó•&quot;: 15, &quot;Â∞èÊó∂&quot;: 10, &quot;ÂàÜÈíü&quot;: 30},\n    &quot;ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü&quot;: 120,\n    &quot;Áä∂ÊÄÅÊèèËø∞&quot;: &quot;ÁîµÈáèÊÅ¢Â§çÈÄüÂ∫¶ÊèêÂçá50%&quot;\n  }\n}</pre></div></div></section>\x3c!-- ‰∏ìÁ≤æ --\x3e<section id="dao" class="format-section" data-v-07601240><h4 class="section-title" data-v-07601240>2. ‰∏ìÁ≤æ</h4><div class="section-content" data-v-07601240><pre class="code-block" data-v-07601240>ÊµÅÊ¥æÂàóË°®: {‰∏ìÁ≤æÂêç: SpecDataÂØπË±°}\n  - ‰∏ìÁ≤æÂêç: string\n  - ÊèèËø∞: string\n  - Èò∂ÊÆµÂàóË°®: [{ÂêçÁß∞, ÊèèËø∞, Á™ÅÁ†¥ÁªèÈ™å}]\n  - ÊòØÂê¶Ëß£ÈîÅ: boolean\n  - ÂΩìÂâçÈò∂ÊÆµ: number\n  - ÂΩìÂâçÁªèÈ™å: number\n  - ÊÄªÁªèÈ™å: number</pre><div class="example-box" data-v-07601240><strong data-v-07601240>Á§∫‰æãÔºö</strong><pre class="code-block" data-v-07601240>// Ëß£ÈîÅÂπ∂ÂàùÂßãÂåñ‰∏ìÁ≤æ\n{\n  &quot;action&quot;: &quot;set&quot;,\n  &quot;key&quot;: &quot;ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.ÊàòÊúØ&quot;,\n  &quot;value&quot;: {\n    &quot;‰∏ìÁ≤æÂêç&quot;: &quot;ÊàòÊúØ&quot;,\n    &quot;ÊèèËø∞&quot;: &quot;ÊàòÊúØÂçèÂêå‰∏éËµÑÊ∫êË∞ÉÂ∫¶&quot;,\n    &quot;ÊòØÂê¶Ëß£ÈîÅ&quot;: true,\n    &quot;ÂΩìÂâçÈò∂ÊÆµ&quot;: 0,\n    &quot;ÂΩìÂâçÁªèÈ™å&quot;: 0,\n    &quot;ÊÄªÁªèÈ™å&quot;: 0,\n    &quot;Èò∂ÊÆµÂàóË°®&quot;: [\n      {&quot;ÂêçÁß∞&quot;: &quot;ÂàùÁ™•Èó®ÂæÑ&quot;, &quot;ÊèèËø∞&quot;: &quot;...&quot;, &quot;Á™ÅÁ†¥ÁªèÈ™å&quot;: 100},\n      {&quot;ÂêçÁß∞&quot;: &quot;Â∞èÊúâÊâÄÊàê&quot;, &quot;ÊèèËø∞&quot;: &quot;...&quot;, &quot;Á™ÅÁ†¥ÁªèÈ™å&quot;: 500}\n    ]\n  }\n}\n\n// Â¢ûÂä†ÁªèÈ™å\n{\n  &quot;action&quot;: &quot;add&quot;,\n  &quot;key&quot;: &quot;ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.ÊàòÊúØ.ÂΩìÂâçÁªèÈ™å&quot;,\n  &quot;value&quot;: 50\n}</pre></div></div></section>\x3c!-- ËÉåÂåÖ‰∏éÁâ©ÂìÅ --\x3e<section id="inventory" class="format-section" data-v-07601240><h4 class="section-title" data-v-07601240>3. ËÉåÂåÖ‰∏éÁâ©ÂìÅ</h4><div class="section-content" data-v-07601240><pre class="code-block" data-v-07601240>ËÉåÂåÖ:\n  - ‰ø°Áî®ÁÇπ: {‰ΩéÈ¢ù, ‰∏≠È¢ù, È´òÈ¢ù, ÊúÄÈ´òÈ¢ù} (Áî®addÂ¢ûÂáè)\n  - Áâ©ÂìÅ: {Áâ©ÂìÅID: ItemÂØπË±°}\n\nÁâ©ÂìÅÁ±ªÂûã:\n  - Ë£ÖÂ§á: {Áâ©ÂìÅID, ÂêçÁß∞, Á±ªÂûã:&quot;Ë£ÖÂ§á&quot;, ÂìÅË¥®, Êï∞Èáè, ÊèèËø∞, Ë£ÖÂ§áÂ¢ûÂπÖ, ÁâπÊÆäÊïàÊûú}\n  - Ê®°Âùó: {Áâ©ÂìÅID, ÂêçÁß∞, Á±ªÂûã:&quot;Ê®°Âùó&quot;, ÂìÅË¥®, Êï∞Èáè, ÊèèËø∞, Ê®°ÂùóÊïàÊûú, Ê®°ÂùóÊäÄËÉΩ[], ËÆ≠ÁªÉËøõÂ∫¶, Â∑≤Ëß£ÈîÅÊäÄËÉΩ[]}\n  - Ê∂àËÄóÂìÅ/ÊùêÊñô: {Áâ©ÂìÅID, ÂêçÁß∞, Á±ªÂûã:&quot;‰∏πËçØ&quot;|&quot;ÊùêÊñô&quot;|&quot;ÂÖ∂‰ªñ&quot;, ÂìÅË¥®, Êï∞Èáè, ÊèèËø∞, ‰ΩøÁî®ÊïàÊûú?}\n\nÂìÅË¥®Ê†ºÂºè: {quality:&quot;Ê∞ëÁî®&quot;|&quot;ÊîπË£Ö&quot;|&quot;ÂÜõËßÑ&quot;|&quot;ÁâπÁ∫ß&quot;|&quot;Á¶ÅÂøå&quot;, grade:0-10}</pre><div class="warning-box" data-v-07601240><strong data-v-07601240>‚ö†Ô∏è ÈáçË¶ÅÔºö</strong><ul data-v-07601240><li data-v-07601240>ËÆ≠ÁªÉËøõÂ∫¶ÂíåÂ∑≤Ëß£ÈîÅÊäÄËÉΩÂ≠òÂÇ®Âú®<strong data-v-07601240>ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}</strong>‰∏≠</li><li data-v-07601240>‚ùå ÈîôËØØÔºö‰øÆÊîπ&quot;ËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÊ®°Âùó&quot;Â≠óÊÆµÔºàËøôÊòØÂºïÁî®ÊßΩ‰ΩçÔºå‰∏çÊòØËøõÂ∫¶Êù•Ê∫êÔºâ</li><li data-v-07601240>‚úÖ Ê≠£Á°ÆÔºö‰øÆÊîπ&quot;ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{Ê®°ÂùóID}.ËÆ≠ÁªÉËøõÂ∫¶&quot;</li></ul></div><div class="example-box" data-v-07601240><strong data-v-07601240>Á§∫‰æãÔºö</strong><pre class="code-block" data-v-07601240>// Â¢ûÂä†Ê®°ÂùóËÆ≠ÁªÉËøõÂ∫¶\n{\n  &quot;action&quot;: &quot;add&quot;,\n  &quot;key&quot;: &quot;ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.module_001.ËÆ≠ÁªÉËøõÂ∫¶&quot;,\n  &quot;value&quot;: 10\n}\n\n// Ëß£ÈîÅÊñ∞ÊäÄËÉΩ\n{\n  &quot;action&quot;: &quot;push&quot;,\n  &quot;key&quot;: &quot;ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.module_001.Â∑≤Ëß£ÈîÅÊäÄËÉΩ&quot;,\n  &quot;value&quot;: &quot;Âæ°ÂâëÊúØ&quot;\n}</pre></div></div></section>\x3c!-- ‰∫∫Áâ©ÂÖ≥Á≥ª --\x3e<section id="relationships" class="format-section" data-v-07601240><h4 class="section-title" data-v-07601240>4. ÂÖ≥Á≥ª</h4><div class="section-content" data-v-07601240><pre class="code-block" data-v-07601240>ÂÖ≥Á≥ª: {NPCÂêçÂ≠ó: NPCÊ°£Ê°àÂØπË±°}\n  - ÂêçÂ≠ó: string\n  - ÊÄßÂà´: &quot;Áî∑&quot;|&quot;Â•≥&quot;|&quot;ÂÖ∂‰ªñ&quot;\n  - Èò∂‰Ωç: {ÂêçÁß∞, Èò∂ÊÆµ} (‚ö†Ô∏è NPCÈò∂‰ΩçÊòØÁÆÄÂåñÁªìÊûÑÔºå‰∏•Á¶ÅÊ∑ªÂä†&quot;ÂΩìÂâçËøõÂ∫¶&quot;Á≠âÁé©ÂÆ∂‰∏ìÂ±ûÂ≠óÊÆµ)\n  - ‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª: string\n  - Â•ΩÊÑüÂ∫¶: number (-100~100ÔºåÁî®add)\n  - ËÆ∞ÂøÜ: [string] (Áî®pushÊ∑ªÂä†)\n  - ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ: string (Áî®setÂÆûÊó∂Êõ¥Êñ∞)\n  - ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï: string (Áî®setÂÆûÊó∂Êõ¥Êñ∞)</pre><div class="warning-box" data-v-07601240><strong data-v-07601240>‚ö†Ô∏è NPCÈò∂‰ΩçÊ†ºÂºèÔºö</strong><ul data-v-07601240><li data-v-07601240>‚úÖ Ê≠£Á°ÆÔºö{&quot;ÂêçÁß∞&quot;: &quot;Ê†∏ÂøÉÁ∫ß&quot;, &quot;Èò∂ÊÆµ&quot;: &quot;‰∏≠Êúü&quot;}</li><li data-v-07601240>‚ùå ÈîôËØØÔºö{&quot;ÂêçÁß∞&quot;: &quot;Ê†∏ÂøÉÁ∫ß&quot;, &quot;Èò∂ÊÆµ&quot;: &quot;‰∏≠Êúü&quot;, &quot;ÂΩìÂâçËøõÂ∫¶&quot;: 0}</li></ul></div><div class="example-box" data-v-07601240><strong data-v-07601240>Á§∫‰æãÔºö</strong><pre class="code-block" data-v-07601240>// Â¢ûÂä†Â•ΩÊÑüÂ∫¶\n{\n  &quot;action&quot;: &quot;add&quot;,\n  &quot;key&quot;: &quot;ÂÖ≥Á≥ª.Âº†‰∏â.Â•ΩÊÑüÂ∫¶&quot;,\n  &quot;value&quot;: 10\n}\n\n// Ê∑ªÂä†ËÆ∞ÂøÜ\n{\n  &quot;action&quot;: &quot;push&quot;,\n  &quot;key&quot;: &quot;ÂÖ≥Á≥ª.Âº†‰∏â.ËÆ∞ÂøÜ&quot;,\n  &quot;value&quot;: &quot;„Äê1000Âπ¥3Êúà15Êó•„Äë‰∏éÁé©ÂÆ∂‰∏ÄËµ∑ËÆ≠ÁªÉÔºåÊÑüËßâÂæàÊÑâÂø´&quot;\n}\n\n// Êõ¥Êñ∞ÂÖ≥Á≥ª\n{\n  &quot;action&quot;: &quot;set&quot;,\n  &quot;key&quot;: &quot;ÂÖ≥Á≥ª.Âº†‰∏â.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª&quot;,\n  &quot;value&quot;: &quot;ÊúãÂèã&quot;\n}</pre></div></div></section>\x3c!-- ‰∏ñÁïå‰ø°ÊÅØ --\x3e<section id="world" class="format-section" data-v-07601240><h4 class="section-title" data-v-07601240>5. ‰∏ñÁïå</h4><div class="section-content" data-v-07601240><pre class="code-block" data-v-07601240>‰∏ñÁïå:\n  - ÂäøÂäõ‰ø°ÊÅØ: [{ÂêçÁß∞, Á±ªÂûã, Á≠âÁ∫ß, ‰ΩçÁΩÆ, ‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª, Â£∞ÊúõÂÄº, ...}]\n  - Âú∞ÁÇπ‰ø°ÊÅØ: [{ÂêçÁß∞, Á±ªÂûã, ‰ΩçÁΩÆ, coordinates, ...}]\n\nÂäøÂäõ‰ø°ÊÅØÂ≠óÊÆµ:\n  - ÂêçÁß∞: string\n  - Á±ªÂûã: &quot;Ê†∏ÂøÉÁªÑÁªá&quot;|&quot;ÈªëÂ∏ÇÁªÑÁªá&quot;|&quot;‰ºÅ‰∏öÂÆ∂Êóè&quot;\n  - Á≠âÁ∫ß: &quot;Ë∂ÖÁ∫ß&quot;|&quot;‰∏ÄÊµÅ&quot;|&quot;‰∫åÊµÅ&quot;|&quot;‰∏âÊµÅ&quot;\n  - ‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª: &quot;ÊïåÂØπ&quot;|&quot;‰∏≠Á´ã&quot;|&quot;ÂèãÂ•Ω&quot;\n  - Â£∞ÊúõÂÄº: number\n  - È¢ÜÂØºÂ±Ç: {Ë¥üË¥£‰∫∫, Ë¥üË¥£‰∫∫Èò∂‰Ωç, ÁªºÂêàÊàòÂäõ}\n  - ÊàêÂëòÊï∞Èáè: {ÊÄªÊï∞, ÊåâÈò∂‰Ωç, ÊåâËÅå‰Ωç}</pre><div class="example-box" data-v-07601240><strong data-v-07601240>Á§∫‰æãÔºö</strong><pre class="code-block" data-v-07601240>// ‰øÆÊîπË¥üË¥£‰∫∫\n{\n  &quot;action&quot;: &quot;set&quot;,\n  &quot;key&quot;: &quot;‰∏ñÁïå.ÂäøÂäõ‰ø°ÊÅØ[0].È¢ÜÂØºÂ±Ç.Ë¥üË¥£‰∫∫&quot;,\n  &quot;value&quot;: &quot;Êñ∞Ë¥üË¥£‰∫∫ÂêçÂ≠ó&quot;\n}\n\n// Â¢ûÂä†Â£∞Êúõ\n{\n  &quot;action&quot;: &quot;add&quot;,\n  &quot;key&quot;: &quot;‰∏ñÁïå.ÂäøÂäõ‰ø°ÊÅØ[2].Â£∞ÊúõÂÄº&quot;,\n  &quot;value&quot;: 50\n}\n\n// Ê∑ªÂä†Êñ∞Âú∞ÁÇπ\n{\n  &quot;action&quot;: &quot;push&quot;,\n  &quot;key&quot;: &quot;‰∏ñÁïå.Âú∞ÁÇπ‰ø°ÊÅØ&quot;,\n  &quot;value&quot;: {\n    &quot;ÂêçÁß∞&quot;: &quot;xxÂ∞ÅÈîÅÂå∫&quot;,\n    &quot;Á±ªÂûã&quot;: &quot;Â∞ÅÈîÅÂå∫&quot;,\n    &quot;‰ΩçÁΩÆ&quot;: &quot;ÈúìËôπÂüéÂå∫¬∑ÂåóÈÉ®&quot;,\n    &quot;coordinates&quot;: {&quot;x&quot;: 108.5, &quot;y&quot;: 28.3},\n    &quot;ÊèèËø∞&quot;: &quot;...&quot;,\n    &quot;ÂÆâÂÖ®Á≠âÁ∫ß&quot;: &quot;Âç±Èô©&quot;\n  }\n}</pre></div></div></section>\x3c!-- ‰∏ñÁïå‰∫ã‰ª∂Á≥ªÁªü --\x3e<section id="event" class="format-section" data-v-07601240><h4 class="section-title" data-v-07601240>6. ‰∫ã‰ª∂</h4><div class="section-content" data-v-07601240><pre class="code-block" data-v-07601240>Á§æ‰∫§.‰∫ã‰ª∂:\n  - ÈÖçÁΩÆ: {ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂, ÊúÄÂ∞èÈó¥ÈöîÂπ¥, ÊúÄÂ§ßÈó¥ÈöîÂπ¥, ‰∫ã‰ª∂ÊèêÁ§∫ËØç}\n  - ‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥: {Âπ¥, Êúà, Êó•, Â∞èÊó∂, ÂàÜÈíü} | null\n  - ‰∫ã‰ª∂ËÆ∞ÂΩï: [‰∫ã‰ª∂ÂØπË±°]\n\n‰∫ã‰ª∂ÂØπË±°ÁªìÊûÑ:\n  - ‰∫ã‰ª∂ID: string (Ê†ºÂºè: event_Êó∂Èó¥Êà≥_ÈöèÊú∫Êï∞)\n  - ‰∫ã‰ª∂ÂêçÁß∞: string\n  - ‰∫ã‰ª∂Á±ªÂûã: string (ÁªÑÁªáÂÜ≤Á™Å/‰∏ñÁïåÂèòÂåñ/Á®ÄÊúâÁâ©ËµÑÁé∞‰∏ñ/Â∞ÅÈîÅÂå∫Áé∞‰∏ñ/Â•ΩÂèãÈÅ≠ÈÅáÁ≠â)\n  - ‰∫ã‰ª∂ÊèèËø∞: string\n  - ÂΩ±ÂìçÁ≠âÁ∫ß: &quot;ËΩªÂæÆ&quot;|&quot;‰∏≠Á≠â&quot;|&quot;ÈáçÂ§ß&quot;|&quot;ÁÅæÈöæ&quot;\n  - ÂΩ±ÂìçËåÉÂõ¥: string\n  - Áõ∏ÂÖ≥‰∫∫Áâ©: string[]\n  - Áõ∏ÂÖ≥ÂäøÂäõ: string[]\n  - ‰∫ã‰ª∂Êù•Ê∫ê: &quot;ÈöèÊú∫&quot;|&quot;Áé©ÂÆ∂Ë°å‰∏∫&quot;|&quot;ÂâßÊÉÖ&quot;\n  - ÂèëÁîüÊó∂Èó¥: {Âπ¥, Êúà, Êó•, Â∞èÊó∂, ÂàÜÈíü}</pre><div class="example-box" data-v-07601240><strong data-v-07601240>Á§∫‰æãÔºö</strong><pre class="code-block" data-v-07601240>// Ê∑ªÂä†‰∏ÄÊù°ÂàöÂàöÂèëÁîüÁöÑ‰∏ñÁïå‰∫ã‰ª∂\n{\n  &quot;action&quot;: &quot;push&quot;,\n  &quot;key&quot;: &quot;Á§æ‰∫§.‰∫ã‰ª∂.‰∫ã‰ª∂ËÆ∞ÂΩï&quot;,\n  &quot;value&quot;: {\n    &quot;‰∫ã‰ª∂ID&quot;: &quot;event_1700000000000_42&quot;,\n    &quot;‰∫ã‰ª∂ÂêçÁß∞&quot;: &quot;ÈúìËôπËÅîÁõü‰∏éËµ§ÁÇéÂÆâ‰øùÂºÄÊàò&quot;,\n    &quot;‰∫ã‰ª∂Á±ªÂûã&quot;: &quot;ÁªÑÁªáÂÜ≤Á™Å&quot;,\n    &quot;‰∫ã‰ª∂ÊèèËø∞&quot;: &quot;‚Ä¶‚Ä¶&quot;,\n    &quot;ÂΩ±ÂìçÁ≠âÁ∫ß&quot;: &quot;ÈáçÂ§ß&quot;,\n    &quot;ÂΩ±ÂìçËåÉÂõ¥&quot;: &quot;‰∏úÁéÑÂ§ßÈôÜÂåóÂ¢É&quot;,\n    &quot;Áõ∏ÂÖ≥‰∫∫Áâ©&quot;: [],\n    &quot;Áõ∏ÂÖ≥ÂäøÂäõ&quot;: [&quot;ÈúìËôπËÅîÁõü&quot;, &quot;Ëµ§ÁÇéÂÆâ‰øù&quot;],\n    &quot;‰∫ã‰ª∂Êù•Ê∫ê&quot;: &quot;ÈöèÊú∫&quot;,\n    &quot;ÂèëÁîüÊó∂Èó¥&quot;: {&quot;Âπ¥&quot;: 12, &quot;Êúà&quot;: 3, &quot;Êó•&quot;: 18, &quot;Â∞èÊó∂&quot;: 14, &quot;ÂàÜÈíü&quot;: 0}\n  }\n}</pre></div></div></section></div>',1))])]),(0,r.createElementVNode)("div",d7,[(0,r.createElementVNode)("button",{class:"copy-btn",onClick:o},[(0,r.createVNode)((0,r.unref)(D3),{size:16}),n[5]||(n[5]=(0,r.createTextVNode)(" Â§çÂà∂ÂÖ®ÈÉ®Ê†ºÂºè ",-1))]),(0,r.createElementVNode)("button",{class:"close-footer-btn",onClick:n[1]||(n[1]=t=>e.$emit("close"))}," ÂÖ≥Èó≠ ")])])]))}});var m7=n(6012),p7={};p7.styleTagTransform=k(),p7.setAttributes=v(),p7.insert=h().bind(null,"head"),p7.domAPI=p(),p7.insertStyleElement=y(),u()(m7.A,p7),m7.A&&m7.A.locals&&m7.A.locals;const g7=(0,N.A)(u7,[["__scopeId","data-v-07601240"]]),h7={class:"game-variable-panel"},f7=(0,r.defineComponent)({__name:"GameVariablePanel",setup(e){const{t}=(0,K.s)(),n=(0,Au.useGameStateStore)(),a=(0,md.useCharacterStore)(),o=(0,r.computed)(()=>"ËÅîÊú∫"===a.activeCharacterProfile?.Ê®°Âºè),i=(0,r.ref)(!1),s=(0,r.ref)(!1),l=(0,r.ref)(""),c=(0,r.ref)("saveData"),d=(0,r.ref)(""),u=(0,r.ref)(!1),m=(0,r.ref)(!1),p=(0,r.ref)(null),g=(0,r.ref)(!1),h=(0,r.computed)(()=>{if(!n.isGameLoaded)return{};const e=a.activeSaveSlot,t=a.activeCharacterProfile,r="ËÅîÊú∫"===t?.Ê®°Âºè?t.Â≠òÊ°£?.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ:void 0,o=n.toSaveData()||{},i=(0,gd.ru)(o)?o:(0,gd.jj)(o).migrated,s={ÂÖÉÊï∞ÊçÆ:i.ÂÖÉÊï∞ÊçÆ,ËßíËâ≤:i.ËßíËâ≤,Á§æ‰∫§:i.Á§æ‰∫§,‰∏ñÁïå:i.‰∏ñÁïå,Á≥ªÁªü:i.Á≥ªÁªü};return s.ÂÖÉÊï∞ÊçÆ={...s.ÂÖÉÊï∞ÊçÆ&&"object"==typeof s.ÂÖÉÊï∞ÊçÆ?s.ÂÖÉÊï∞ÊçÆ:{},Â≠òÊ°£ID:e?.id??e?.Â≠òÊ°£Âêç??void 0,ËßíËâ≤ID:a.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID,Ê®°Âºè:t?.Ê®°Âºè,Ê∏∏Áé©Êó∂Èïø:e?.Ê∏∏ÊàèÊó∂Èïø,ÂàõÂª∫Êó∂Èó¥:e?.‰øùÂ≠òÊó∂Èó¥??void 0,Êõ¥Êñ∞Êó∂Èó¥:e?.ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥??e?.‰øùÂ≠òÊó∂Èó¥??void 0},r&&(s.Á≥ªÁªü&&"object"==typeof s.Á≥ªÁªü||(s.Á≥ªÁªü={}),s.Á≥ªÁªü.ËÅîÊú∫&&"object"==typeof s.Á≥ªÁªü.ËÅîÊú∫||(s.Á≥ªÁªü.ËÅîÊú∫={}),s.Á≥ªÁªü.ËÅîÊú∫.ÂêåÊ≠•Áä∂ÊÄÅ=r),s}),f=(0,r.computed)(()=>n.isGameLoaded?(n.$state,{[t("Â≠òÊ°£Êï∞ÊçÆ (Áü≠Ë∑ØÂæÑ)")]:h.value,[t("ËßíËâ≤")]:n.character,[t("ËÆ∞ÂøÜ")]:n.memory,[t("‰∏ñÁïå")]:n.worldInfo}):{}),v=(0,r.computed)(()=>({[t("Ê∏∏ÊàèÁâàÊú¨")]:"2.0.0",[t("Êû∂ÊûÑÊ®°Âºè")]:"PiniaÂÜÖÂ≠ò + DBÊåÅ‰πÖÂåñ"})),b=(0,r.computed)(()=>n.character||{}),y=(0,r.computed)(()=>n.isGameLoaded?h.value:{}),x=(0,r.computed)(()=>n.worldInfo||{}),k=(0,r.computed)(()=>n.memory||{}),w=(0,r.computed)(()=>({...f.value,...v.value})),E=(0,r.computed)(()=>{if(!d.value)return f.value;const e=d.value.toLowerCase();return Object.fromEntries(Object.entries(f.value).filter(([t])=>t.toLowerCase().includes(e)))}),N=(0,r.computed)(()=>{if(!d.value)return v.value;const e=d.value.toLowerCase();return Object.fromEntries(Object.entries(v.value).filter(([t])=>t.toLowerCase().includes(e)))}),S=e=>{switch(e){case"core":return Object.keys(f.value).length;case"custom":return Object.keys(v.value).length;case"character":return Object.keys(b.value).length;case"saveData":return Object.keys(y.value).length;case"worldInfo":return V();case"memory":return _();case"raw":return Object.keys(w.value).length;default:return 0}},_=()=>"object"==typeof k.value&&null!==k.value?Object.keys(k.value).length:0,V=()=>"object"==typeof x.value&&null!==x.value?Object.keys(x.value).length:0,C=[{key:"saveData",label:t("Â≠òÊ°£Êï∞ÊçÆ(Áü≠Ë∑ØÂæÑ)"),icon:"Archive"},{key:"core",label:t("Ê†∏ÂøÉÊï∞ÊçÆ"),icon:"Database"},{key:"character",label:t("ËßíËâ≤Êï∞ÊçÆ"),icon:"Users"},{key:"worldInfo",label:t("‰∏ñÁïå‰ø°ÊÅØ"),icon:"Book"},{key:"memory",label:t("ËÆ∞ÂøÜÊï∞ÊçÆ"),icon:"Brain"},{key:"custom",label:t("Ëá™ÂÆö‰πâÈÄâÈ°π"),icon:"Settings"},{key:"raw",label:t("ÂéüÂßãÊï∞ÊçÆ"),icon:"Code"}],A=async()=>{s.value=!0,i.value=!0;try{if(!n.isGameLoaded)return void X.o.warning(t("ËØ∑ÂÖàÂä†ËΩΩÊ∏∏ÊàèÂ≠òÊ°£"));l.value=(new Date).toLocaleString("zh-CN"),X.o.success(t("Êï∞ÊçÆÂ∑≤‰ªéPinia StoreÂà∑Êñ∞"))}catch(e){console.error("[Ê∏∏ÊàèÂèòÈáè] Âà∑Êñ∞Â§±Ë¥•:",e),X.o.error(t("Êï∞ÊçÆÂà∑Êñ∞Â§±Ë¥•: ")+(e instanceof Error?e.message:t("Êú™Áü•ÈîôËØØ")))}finally{i.value=!1,s.value=!1}},D=()=>{try{const e=JSON.stringify(w.value,null,2),n=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=`game-variables-${Date.now()}.json`,r.click(),URL.revokeObjectURL(a),X.o.success(t("Êï∞ÊçÆÂØºÂá∫ÊàêÂäü"))}catch(e){console.error("[Ê∏∏ÊàèÂèòÈáè] ÂØºÂá∫Â§±Ë¥•:",e),X.o.error(t("Êï∞ÊçÆÂØºÂá∫Â§±Ë¥•"))}},T=()=>{u.value=!0},B=()=>{X.o.warning(t("Êñ∞Êû∂ÊûÑ‰∏ã‰∏çÊîØÊåÅÁõ¥Êé•Ê∑ªÂä†ÂèòÈáèÔºåËØ∑ÈÄöËøáÊ∏∏ÊàèÊìç‰Ωú‰øÆÊîπÊï∞ÊçÆ"))},I=e=>{o.value?X.o.warning(t("ËÅîÊú∫Ê®°Âºè‰∏ã‰∏çÂÖÅËÆ∏Áõ¥Êé•‰øÆÊîπÂèòÈáèÔºàÊúçÂä°Âô®ÊùÉÂ®ÅÊéßÂà∂Ôºâ")):(p.value={...e},g.value=!0)},M=async e=>{try{const n="object"==typeof e.value?JSON.stringify(e.value,null,2):String(e.value);await navigator.clipboard.writeText(`${e.key}: ${n}`),X.o.success(t("Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø"))}catch(e){console.error("[Ê∏∏ÊàèÂèòÈáè] Â§çÂà∂Â§±Ë¥•:",e),X.o.error(t("Â§çÂà∂Â§±Ë¥•"))}},z=async()=>{o.value?X.o.warning(t("ËÅîÊú∫Ê®°Âºè‰∏ã‰∏çÂÖÅËÆ∏Áõ¥Êé•Âà†Èô§ÂèòÈáèÔºàÊúçÂä°Âô®ÊùÉÂ®ÅÊéßÂà∂Ôºâ")):X.o.warning(t("Êñ∞Êû∂ÊûÑ‰∏ã‰∏çÊîØÊåÅÁõ¥Êé•Âà†Èô§ÂèòÈáèÔºåËØ∑ÈÄöËøáÊ∏∏ÊàèÊìç‰Ωú‰øÆÊîπÊï∞ÊçÆ"))},P=async e=>{if(e)if(o.value)X.o.warning(t("ËÅîÊú∫Ê®°Âºè‰∏ã‰∏çÂÖÅËÆ∏Áõ¥Êé•‰øÆÊîπÂèòÈáèÔºàÊúçÂä°Âô®ÊùÉÂ®ÅÊéßÂà∂Ôºâ"));else try{const{key:a,value:r}=e;let o=r;if("string"==typeof r&&(r.trim().startsWith("{")||r.trim().startsWith("[")))try{o=JSON.parse(r)}catch{}console.log("=== [ËØäÊñ≠Êó•Âøó] ÂºÄÂßã‰øùÂ≠òÂèòÈáè ==="),console.log("[1] ÂéüÂßãKey:",a),console.log("[2-A] editingItem.valueÂÆåÊï¥ÂØπË±°:",p.value),console.log("[2-B] Ëß£ÊûÑÂêéÁöÑvalue:",r,"typeof:",typeof r),console.log("[2-C] parsedValue:",o,"typeof:",typeof o);const i=(e=>{const n=(t,n)=>e===t?n:e.startsWith(`${t}.`)?`${n}${e.slice(t.length)}`:null,a=[{from:"ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥",to:"gameTime"},{from:"ÂÖÉÊï∞ÊçÆ",to:"saveMeta"},{from:"ËßíËâ≤.Ë∫´‰ªΩ",to:"character"},{from:"ËßíËâ≤.Â±ûÊÄß",to:"attributes"},{from:"ËßíËâ≤.‰ΩçÁΩÆ",to:"location"},{from:"ËßíËâ≤.ÊïàÊûú",to:"effects"},{from:"ËßíËâ≤.Ë∫´‰Ωì.ÈÉ®‰ΩçÂºÄÂèë",to:"bodyPartDevelopment"},{from:"ËßíËâ≤.ËÉåÂåÖ",to:"inventory"},{from:"ËßíËâ≤.Ë£ÖÂ§á",to:"equipment"},{from:"ËßíËâ≤.Á®ãÂ∫è",to:"techniqueSystem"},{from:"ËßíËâ≤.ËÆ≠ÁªÉ",to:"cultivation"},{from:"ËßíËâ≤.ÊµÅÊ¥æ",to:"thousandDao"},{from:"ËßíËâ≤.ÊäÄËÉΩ",to:"skillState"},{from:"Á§æ‰∫§.ÂÖ≥Á≥ª",to:"relationships"},{from:"Á§æ‰∫§.ÁªÑÁªá",to:"sectSystem"},{from:"Á§æ‰∫§.‰∫ã‰ª∂",to:"eventSystem"},{from:"Á§æ‰∫§.ËÆ∞ÂøÜ",to:"memory"},{from:"‰∏ñÁïå.‰ø°ÊÅØ",to:"worldInfo"},{from:"Á≥ªÁªü.ÈÖçÁΩÆ",to:"systemConfig"},{from:"Á≥ªÁªü.ËÆæÁΩÆ",to:"userSettings"},{from:"Á≥ªÁªü.ÁºìÂ≠ò.ÊéåÊè°ÊäÄËÉΩ",to:"masteredSkills"},{from:"Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã",to:"narrativeHistory"},{from:"Á≥ªÁªü.ËÅîÊú∫",to:"onlineState"}];for(const{from:e,to:t}of a){const a=n(e,t);if(a)return a}return X.o.warning(t("‰∏çÊîØÊåÅÁöÑÂ≠óÊÆµË∑ØÂæÑÔºà‰ªÖÊîØÊåÅV3‰∫îÂüüË∑ØÂæÑÔºâ")),null})(a);if(!i)return void X.o.warning(t("Â≠óÊÆµË∑ØÂæÑÊó†Ê≥ïÊò†Â∞ÑÂà∞ StoreÔºåËØ∑Ê£ÄÊü•Ë∑ØÂæÑÊòØÂê¶Ê≠£Á°Æ"));console.log("[3] Êò†Â∞ÑÂêéStoreË∑ØÂæÑ:",i),console.log("[3.5] üîç Âç≥Â∞Ü‰º†ÁªôupdateStateÁöÑÂÄº:",o,"Á±ªÂûã:",typeof o);const s=i.split(".");let l=n;for(const e of s)l=l?.[e];console.log("[4] updateStateÂâçÁöÑStoreÂÄº:",l),console.log("[4-CRITICAL] Âç≥Â∞Ü‰º†ÈÄíÁªôupdateStateÁöÑparsedValue:",o,"typeof:",typeof o,"JSON:",JSON.stringify(o)),n.updateState(i,o);let c=n;for(const e of s)c=c?.[e];console.log("[5] updateStateÂêéÁöÑStoreÂÄº:",c),console.log("[6] ÂºÄÂßãË∞ÉÁî® gameStateStore.saveGame()"),await n.saveGame(),console.log("[7] gameStateStore.saveGame() ÂÆåÊàê"),console.log("=== [ËØäÊñ≠Êó•Âøó] ‰øùÂ≠òÂèòÈáèÁªìÊùü ==="),X.o.success(t("‚úÖ Â∑≤ÊàêÂäüÊõ¥Êñ∞ ")+`${a}`),R(),await A()}catch(e){const n=e instanceof Error?e.message:t("Êú™Áü•ÈîôËØØ");X.o.error(t("‰øùÂ≠òÂ§±Ë¥•: ")+`${n}`),console.error("[Ê∏∏ÊàèÂèòÈáè] ‰øùÂ≠òÂ§±Ë¥•:",e)}else X.o.error(t("Ê≤°ÊúâË¶Å‰øùÂ≠òÁöÑÊï∞ÊçÆ"))},R=()=>{g.value=!1,p.value=null},$=()=>{console.group("[Ê∏∏ÊàèÂèòÈáè] ËØ¶ÁªÜË∞ÉËØï‰ø°ÊÅØ (PiniaÊ®°Âºè)"),console.log(t("Âü∫Êú¨ÁªüËÆ°:"),{[t("Ê∏∏ÊàèÂ∑≤Âä†ËΩΩ")]:n.isGameLoaded,[t("ËßíËâ≤Âêç")]:n.character?.ÂêçÂ≠ó,coreDataViewsCount:Object.keys(f.value).length,customOptionsCount:Object.keys(v.value).length,lastUpdateTime:l.value}),console.log(t("Ê†∏ÂøÉÊï∞ÊçÆÈîÆÂêç:"),Object.keys(f.value)),console.log(t("Ëá™ÂÆö‰πâÈÄâÈ°πÈîÆÂêç:"),Object.keys(v.value)),console.log(t("ÂÆåÊï¥SaveData:"),n.toSaveData()),console.groupEnd(),X.o.success(t("Ë∞ÉËØï‰ø°ÊÅØÂ∑≤ËæìÂá∫Âà∞ÊéßÂà∂Âè∞"))};return(0,r.onMounted)(()=>{A(),Ju.on("refresh",()=>A()),Ju.on("export",()=>D()),Ju.on("stats",()=>T())}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",h7,[(0,r.createVNode)(v3,{isRefreshing:s.value,searchQuery:d.value,"onUpdate:searchQuery":t[0]||(t[0]=e=>d.value=e),onRefresh:A,onExport:D,onShowStats:T,onShowFormatGuide:t[1]||(t[1]=e=>m.value=!0)},null,8,["isRefreshing","searchQuery"]),(0,r.createVNode)(C3,{dataTypes:C,selectedType:c.value,getDataCount:S,"onUpdate:selectedType":t[2]||(t[2]=e=>c.value=e)},null,8,["selectedType"]),(0,r.createVNode)(o8,{isLoading:i.value,selectedDataType:c.value,searchQuery:d.value,readOnly:o.value,coreDataViews:f.value,customOptions:v.value,characterData:b.value,saveData:y.value,worldInfo:x.value,memoryData:k.value,allGameData:w.value,filteredCoreDataViews:E.value,filteredCustomOptions:N.value,onEditVariable:I,onCopyVariable:M,onDeleteVariable:z,onAddNewVariable:B,onDebugLog:$},null,8,["isLoading","selectedDataType","searchQuery","readOnly","coreDataViews","customOptions","characterData","saveData","worldInfo","memoryData","allGameData","filteredCoreDataViews","filteredCustomOptions"]),g.value?((0,r.openBlock)(),(0,r.createBlock)(N8,{key:0,editingItem:p.value,onClose:R,onSave:P},null,8,["editingItem"])):(0,r.createCommentVNode)("v-if",!0),u.value?((0,r.openBlock)(),(0,r.createBlock)(t7,{key:1,coreDataViews:f.value,customOptions:v.value,allGameData:w.value,getMemoryCount:_,getWorldItemCount:V,onClose:t[3]||(t[3]=e=>u.value=!1)},null,8,["coreDataViews","customOptions","allGameData"])):(0,r.createCommentVNode)("v-if",!0),m.value?((0,r.openBlock)(),(0,r.createBlock)(g7,{key:2,onClose:t[4]||(t[4]=e=>m.value=!1)})):(0,r.createCommentVNode)("v-if",!0)]))}});var v7=n(3625),b7={};b7.styleTagTransform=k(),b7.setAttributes=v(),b7.insert=h().bind(null,"head"),b7.domAPI=p(),b7.insertStyleElement=y(),u()(v7.A,b7),v7.A&&v7.A.locals&&v7.A.locals;const y7=(0,N.A)(f7,[["__scopeId","data-v-2b49d13c"]]),x7={class:"prompt-panel"},k7={class:"panel-header compact"},w7={class:"panel-actions"},E7=["disabled"],N7=["disabled"],S7=["disabled"],_7=["disabled"],V7=["disabled"],C7={key:0,class:"online-mode-warning"},A7={class:"prompt-list"},D7=["onClick"],T7={class:"category-title"},B7={class:"category-icon"},I7={class:"category-name"},M7={class:"category-count"},z7={class:"category-actions"},P7={class:"category-desc"},R7={key:0,class:"category-content"},$7=["onClick"],O7={class:"prompt-title-area"},L7=["checked","onChange"],F7={class:"prompt-meta"},j7=["value","disabled","onChange"],U7=["title"],q7={key:0,class:"prompt-content"},G7={key:0,class:"prompt-description-full"},H7=["onUpdate:modelValue","onInput","disabled"],Y7={class:"prompt-actions"},W7=["onClick","disabled"],X7=["onClick"],J7=["onClick","disabled"],K7=(0,r.defineComponent)({__name:"PromptManagementPanel",setup(e){const t=(0,md.useCharacterStore)(),n=(0,r.computed)(()=>"ËÅîÊú∫"===t.activeCharacterProfile?.Ê®°Âºè),a=(0,r.ref)({}),o=(0,r.ref)({}),i=(0,r.ref)({});async function s(){a.value=await ud.promptStorage.loadByCategory();const e=Object.keys(a.value)[0];e&&(i.value[e]=!0)}function l(){for(const e in a.value)i.value[e]=!0}function c(){for(const e in a.value)i.value[e]=!1;o.value={}}async function d(){let e=0;for(const t in a.value)for(const n of a.value[t].prompts)n.modified&&(await ud.promptStorage.save(n.key,n.content,n.enabled,n.weight),e++);e>0?(await g({silent:!0}),X.o.success(`Â∑≤‰øùÂ≠ò ${e} È°π‰øÆÊîπ`)):X.o.info("Ê≤°ÊúâÈúÄË¶Å‰øùÂ≠òÁöÑ‰øÆÊîπ")}async function u(){const e=await ud.promptStorage.exportAll();v((0,pd.q3)("prompts",e),"prompts_all.json"),X.o.success("Â∑≤ÂØºÂá∫ÂÖ®ÈÉ®ÊèêÁ§∫ËØç")}async function m(){if((0,D.isBackendConfigured)())if(localStorage.getItem("access_token"))try{const e=await T.Em.get("/api/v1/prompts/defaults"),t=e?.prompts||{};if(!Object.keys(t).length)return void X.o.error("ÂêéÁ´ØÊú™ÈÖçÁΩÆÈªòËÆ§ÊèêÁ§∫ËØç");await ud.promptStorage.resetAll(),await ud.promptStorage.importPrompts(t),await s(),await g({silent:!0}),X.o.success("Â∑≤ÊÅ¢Â§çÈªòËÆ§ÊèêÁ§∫ËØç")}catch(e){X.o.error("ÊÅ¢Â§çÈªòËÆ§ÊèêÁ§∫ËØçÂ§±Ë¥•")}else X.o.error("ËØ∑ÂÖàÁôªÂΩïÂêéÁ´Ø");else X.o.error("ÂêéÁ´ØÊú™ÈÖçÁΩÆÔºåÊó†Ê≥ïÊÅ¢Â§çÈªòËÆ§ÊèêÁ§∫ËØç")}function p(){const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const t=e.target.files?.[0];if(t)try{const e=await t.text(),n=JSON.parse(e),a=(0,pd.ZT)(n),r="prompts"===a.type?a.payload:n,o=await ud.promptStorage.importPrompts(r);await s(),await g({silent:!0}),X.o.success(`ÊàêÂäüÂØºÂÖ• ${o} ‰∏™ÊèêÁ§∫ËØç`)}catch(e){X.o.error("ÂØºÂÖ•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•Êñá‰ª∂Ê†ºÂºè")}},e.click()}async function g(e){if((0,D.isBackendConfigured)()&&localStorage.getItem("access_token"))try{const e=await ud.promptStorage.exportAll();await T.Em.put("/api/v1/user/prompts",{prompts:e})}catch(t){console.error("ÂêåÊ≠•Áî®Êà∑ÊèêÁ§∫ËØçÂ§±Ë¥•:",t),e?.silent||X.o.error("ÂêåÊ≠•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØËøûÊé•ÊàñÁôªÂΩïÁä∂ÊÄÅ")}}async function h(){if((0,D.isBackendConfigured)())if(localStorage.getItem("access_token"))try{await T.Em.delete("/api/v1/user/prompts"),await g({silent:!1}),X.o.success("Â∑≤ÂêåÊ≠•Âà∞‰∫ëÁ´Ø")}catch{X.o.error("ÂêåÊ≠•Â§±Ë¥•")}else X.o.error("ËØ∑ÂÖàÁôªÂΩïÂêéÁ´Ø");else X.o.error("ÂêéÁ´ØÊú™ÈÖçÁΩÆÔºåÊó†Ê≥ïÂêåÊ≠•")}async function f(){if((0,D.isBackendConfigured)())if(localStorage.getItem("access_token"))try{const e=await T.Em.get("/api/v1/user/prompts"),t=e?.prompts||{};await ud.promptStorage.resetAll(),Object.keys(t).length&&await ud.promptStorage.importPrompts(t),await s(),X.o.success("Â∑≤‰ªé‰∫ëÁ´ØÂêåÊ≠•")}catch{X.o.error("ÂêåÊ≠•Â§±Ë¥•")}else X.o.error("ËØ∑ÂÖàÁôªÂΩïÂêéÁ´Ø");else X.o.error("ÂêéÁ´ØÊú™ÈÖçÁΩÆÔºåÊó†Ê≥ïÂêåÊ≠•")}function v(e,t){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=t,r.click(),URL.revokeObjectURL(a)}return(0,r.onMounted)(async()=>{await s()}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",x7,[(0,r.createElementVNode)("div",k7,[t[11]||(t[11]=(0,r.createElementVNode)("div",{class:"panel-title-compact"},[(0,r.createElementVNode)("span",{class:"title-text"},"üìù ÊèêÁ§∫ËØçÁÆ°ÁêÜ")],-1)),(0,r.createElementVNode)("div",w7,[(0,r.createElementVNode)("button",{class:"action-btn-compact",onClick:m,title:"ÊÅ¢Â§çÈªòËÆ§",disabled:n.value},t[3]||(t[3]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("polyline",{points:"1 4 1 10 7 10"}),(0,r.createElementVNode)("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})],-1)]),8,E7),(0,r.createElementVNode)("button",{class:"action-btn-compact",onClick:h,title:"ÂêåÊ≠•Âà∞‰∫ëÁ´Ø",disabled:n.value},t[4]||(t[4]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{d:"M21 12a9 9 0 1 1-3.5-7.1"}),(0,r.createElementVNode)("polyline",{points:"22 4 21 12 13 11"})],-1)]),8,N7),(0,r.createElementVNode)("button",{class:"action-btn-compact",onClick:f,title:"‰ªé‰∫ëÁ´ØÂêåÊ≠•",disabled:n.value},t[5]||(t[5]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{d:"M3 12a9 9 0 1 0 3.5-7.1"}),(0,r.createElementVNode)("polyline",{points:"2 4 3 12 11 11"})],-1)]),8,S7),(0,r.createElementVNode)("button",{class:"action-btn-compact",onClick:l,title:"ÂÖ®ÈÉ®Â±ïÂºÄ"},t[6]||(t[6]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("polyline",{points:"6 9 12 15 18 9"})],-1)])),(0,r.createElementVNode)("button",{class:"action-btn-compact",onClick:c,title:"ÂÖ®ÈÉ®ÊäòÂè†"},t[7]||(t[7]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("polyline",{points:"18 15 12 9 6 15"})],-1)])),(0,r.createElementVNode)("button",{class:"action-btn-compact",onClick:u,title:"ÂØºÂá∫ÂÖ®ÈÉ®"},t[8]||(t[8]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.createElementVNode)("polyline",{points:"7 10 12 15 17 10"}),(0,r.createElementVNode)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)])),(0,r.createElementVNode)("button",{class:"action-btn-compact",onClick:p,title:"ÂØºÂÖ•",disabled:n.value},t[9]||(t[9]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.createElementVNode)("polyline",{points:"17 8 12 3 7 8"}),(0,r.createElementVNode)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})],-1)]),8,_7),(0,r.createElementVNode)("button",{class:"action-btn-compact primary",onClick:d,title:"‰øùÂ≠òÂÖ®ÈÉ®",disabled:n.value},t[10]||(t[10]=[(0,r.createElementVNode)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,r.createElementVNode)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,r.createElementVNode)("polyline",{points:"17 21 17 13 7 13 7 21"}),(0,r.createElementVNode)("polyline",{points:"7 3 7 8 15 8"})],-1)]),8,V7)])]),(0,r.createCommentVNode)(" ËÅîÊú∫Ê®°ÂºèË≠¶Âëä "),n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",C7,t[12]||(t[12]=[(0,r.createElementVNode)("span",{class:"warning-icon"},"üîí",-1),(0,r.createElementVNode)("span",{class:"warning-text"},"ËÅîÊú∫Ê®°Âºè‰∏ãÊèêÁ§∫ËØç‰ªÖ‰æõÊü•ÁúãÔºåÊó†Ê≥ïÁºñËæë",-1)]))):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",A7,[(0,r.createCommentVNode)(" ÂàÜÁ±ªÊòæÁ§∫ "),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.value,(e,s)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:s,class:"category-section"},[(0,r.createCommentVNode)(" ÂàÜÁ±ªÂ§¥ÈÉ® "),(0,r.createElementVNode)("div",{class:"category-header",onClick:e=>function(e){i.value[e]=!i.value[e]}(String(s))},[(0,r.createElementVNode)("div",T7,[(0,r.createElementVNode)("span",B7,(0,r.toDisplayString)(e.info.icon),1),(0,r.createElementVNode)("span",I7,(0,r.toDisplayString)(e.info.name),1),(0,r.createElementVNode)("span",M7,(0,r.toDisplayString)(e.prompts.length)+" ‰∏™ÊèêÁ§∫ËØç",1)]),(0,r.createElementVNode)("div",z7,[(0,r.createElementVNode)("span",P7,(0,r.toDisplayString)(e.info.description),1),((0,r.openBlock)(),(0,r.createElementBlock)("svg",{class:(0,r.normalizeClass)(["expand-icon",{expanded:i.value[s]}]),width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},t[13]||(t[13]=[(0,r.createElementVNode)("polyline",{points:"6 9 12 15 18 9"},null,-1)]),2))])],8,D7),(0,r.createCommentVNode)(" ÂàÜÁ±ªÂÜÖÂÆπ "),i.value[s]?((0,r.openBlock)(),(0,r.createElementBlock)("div",R7,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.prompts,e=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.key,class:"prompt-item"},[(0,r.createElementVNode)("div",{class:"prompt-header",onClick:t=>{return n=e.key,void(o.value[n]=!o.value[n]);var n}},[(0,r.createElementVNode)("div",O7,[(0,r.createCommentVNode)(" ÂêØÁî®/Á¶ÅÁî®ÂºÄÂÖ≥ "),(0,r.createElementVNode)("label",{class:"toggle-switch",onClick:t[0]||(t[0]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.createElementVNode)("input",{type:"checkbox",checked:e.enabled,onChange:t=>async function(e,t){for(const n in a.value){const r=a.value[n].prompts.find(t=>t.key===e);if(r){r.enabled=t;break}}await ud.promptStorage.setEnabled(e,t),await g({silent:!0}),X.o.info(t?"Â∑≤ÂêØÁî®":"Â∑≤Á¶ÅÁî®")}(e.key,t.target.checked)},null,40,L7),t[14]||(t[14]=(0,r.createElementVNode)("span",{class:"toggle-slider"},null,-1))]),(0,r.createCommentVNode)(" Â∫èÂè∑Â∑≤ÂåÖÂê´Âú®name‰∏≠Ôºå‰∏çÂÜçÂçïÁã¨ÊòæÁ§∫ "),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["prompt-title",{disabled:!e.enabled}])},(0,r.toDisplayString)(e.name),3)]),(0,r.createElementVNode)("div",F7,[void 0!==e.weight?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"weight-editor",onClick:t[2]||(t[2]=(0,r.withModifiers)(()=>{},["stop"]))},[t[15]||(t[15]=(0,r.createElementVNode)("label",{class:"weight-label"},"W",-1)),(0,r.createElementVNode)("input",{type:"number",class:(0,r.normalizeClass)(["weight-input",(s=e.weight,s>=9?"weight-high":s>=6?"weight-medium":"weight-low")]),value:e.weight,min:"1",max:"10",disabled:n.value,onChange:t=>async function(e,t){const n=Math.min(10,Math.max(1,Math.round(t)));for(const t in a.value){const r=a.value[t].prompts.find(t=>t.key===e);if(r){r.weight=n,await ud.promptStorage.save(e,r.content,r.enabled,n),await g({silent:!0}),X.o.success(`ÊùÉÈáçÂ∑≤Êõ¥Êñ∞‰∏∫ ${n}`);break}}}(e.key,Number(t.target.value)),onClick:t[1]||(t[1]=(0,r.withModifiers)(()=>{},["stop"]))},null,42,j7)])):(0,r.createCommentVNode)("v-if",!0),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:1,class:"prompt-desc",title:e.description},(0,r.toDisplayString)((i=e.description,i.length<=30?i:i.substring(0,30)+"...")),9,U7)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["prompt-status",{modified:e.modified}])},(0,r.toDisplayString)(e.modified?"Â∑≤‰øÆÊîπ":"ÈªòËÆ§"),3)])],8,$7),o.value[e.key]?((0,r.openBlock)(),(0,r.createElementBlock)("div",q7,[e.description?((0,r.openBlock)(),(0,r.createElementBlock)("div",G7,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t=>e.content=t,onInput:t=>function(e){for(const t in a.value){const n=a.value[t].prompts.find(t=>t.key===e);if(n){n.modified=n.content!==n.default;break}}}(e.key),rows:"20",class:(0,r.normalizeClass)(["prompt-textarea",{"readonly-mode":n.value}]),disabled:n.value},null,42,H7),[[r.vModelText,e.content]]),(0,r.createElementVNode)("div",Y7,[(0,r.createElementVNode)("button",{class:"btn-small",onClick:t=>async function(e){for(const t in a.value){const n=a.value[t].prompts.find(t=>t.key===e);if(n){n.content=n.default,n.modified=!1,await ud.promptStorage.reset(e),await g({silent:!0}),X.o.info(`Â∑≤ÈáçÁΩÆ: ${n.name}`);break}}}(e.key),disabled:n.value},"ÈáçÁΩÆ‰∏∫ÈªòËÆ§",8,W7),(0,r.createElementVNode)("button",{class:"btn-small",onClick:t=>function(e){for(const t in a.value){const n=a.value[t].prompts.find(t=>t.key===e);if(n){v((0,pd.q3)("prompts",{[e]:n.content}),`prompt_${e}.json`);break}}}(e.key)},"ÂØºÂá∫Ê≠§È°π",8,X7),(0,r.createElementVNode)("button",{class:"btn-small btn-primary",onClick:t=>async function(e){for(const t in a.value){const n=a.value[t].prompts.find(t=>t.key===e);if(n){await ud.promptStorage.save(e,n.content,n.enabled,n.weight),await g({silent:!0}),X.o.success(`Â∑≤‰øùÂ≠ò: ${n.name}`);break}}}(e.key),disabled:n.value},"‰øùÂ≠ò‰øÆÊîπ",8,J7)])])):(0,r.createCommentVNode)("v-if",!0)]);var i,s}),128))])):(0,r.createCommentVNode)("v-if",!0)]))),128))])]))}});var Z7=n(8345),Q7={};Q7.styleTagTransform=k(),Q7.setAttributes=v(),Q7.insert=h().bind(null,"head"),Q7.domAPI=p(),Q7.insertStyleElement=y(),u()(Z7.A,Q7),Z7.A&&Z7.A.locals&&Z7.A.locals;const e9=(0,N.A)(K7,[["__scopeId","data-v-8a368f36"]]);var t9=n(7832);const n9={setup(){const e=(0,a.useRouter)(),t=()=>{e.push("/")},n=t=>{e.push("/game")};return()=>(0,r.h)(db,{fullscreen:!0,onClose:t,onCharacterSelected:n})}},a9=[{path:"/",name:"ModeSelection",component:W},{path:"/creation",name:"CharacterCreation",component:xc},{path:"/login",name:"Login",component:dd},{path:"/workshop",name:"Workshop",component:Cu},{path:"/account",name:"AccountCenter",component:Dy},{path:"/prompts",name:"PromptsStandalone",component:e9},{path:"/game",name:"Game",component:uy,children:[{path:"",name:"GameMain",component:Fw},{path:"memory",name:"Memory",component:lS},{path:"character-details",name:"CharacterDetails",component:mI},{path:"inventory",name:"Inventory",component:Lz},{path:"relationships",name:"Relationships",component:SO},{path:"techniques",name:"Techniques",component:xF},{path:"thousand-dao",name:"ThousandDao",component:Kj},{path:"settings",name:"Settings",component:Zj.A},{path:"save",name:"Save",component:Fq},{path:"world-map",name:"WorldMap",component:b0},{path:"events",name:"Events",component:L0},{path:"sect",name:"Sect",component:x5,children:[{path:"",redirect:{name:"SectOverview"}},{path:"overview",name:"SectOverview",component:m5},{path:"members",name:"SectMembers",component:Z5},{path:"library",name:"SectLibrary",component:_4},{path:"contribution",name:"SectContribution",component:s3}]},{path:"game-variables",name:"GameVariables",component:y7},{path:"prompts",name:"Prompts",component:e9},{path:"api-management",name:"APIManagement",component:t9.A}]},{path:"/management",name:"CharacterManagement",component:n9}],r9=(0,a.createRouter)({history:(0,a.createMemoryHistory)(),routes:a9})},2224:e=>{"use strict";e.exports=_},2271:(e,t,n)=>{"use strict";var a=n(453),r=n(6556),o=n(8859),i=n(507),s=n(9675),l=a("%WeakMap%",!0),c=r("WeakMap.prototype.get",!0),d=r("WeakMap.prototype.set",!0),u=r("WeakMap.prototype.has",!0),m=r("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(n){if(l&&n&&("object"==typeof n||"function"==typeof n)){if(e)return m(e,n)}else if(i&&t)return t.delete(n);return!1},get:function(n){return l&&n&&("object"==typeof n||"function"==typeof n)&&e?c(e,n):t&&t.get(n)},has:function(n){return l&&n&&("object"==typeof n||"function"==typeof n)&&e?u(e,n):!!t&&t.has(n)},set:function(n,a){l&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new l),d(e,n,a)):i&&(t||(t=i()),t.set(n,a))}};return n}:i},2347:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var a=n(8651),r=n(4191);const o={ËµõÂçöÁªÑÁªá:1,ÂÆàÂ∫èÁªÑÁªá:1,ÈªëÂüüÁªÑÁªá:1.1,ÂΩ±ÂüüÂäøÂäõ:1.1,ÂÆ∂ÊóèÈõÜÂõ¢:.9,Ë¥¢Âõ¢:.9,ÂïÜ‰ºö:.7,ÂïÜ‰∏öËÅîÁõü:.7,‰∏≠Á´ãÁªÑÁªá:.85,Ëá™Áî±ÁΩëÁªú:.75};function i(e){let t=0;const n=e.ÊúÄÂº∫Èò∂‰Ωç||e.È¶ñÈ¢ÜÈò∂‰Ωç||"";t=n.includes("Ë°óÂå∫")?5:n.includes("Âå∫Âüü")?15:n.includes("ÂüéÂ∏Ç")?25:n.includes("Ê†∏ÂøÉ")?35:n.includes("‰∏ªÂÆ∞")?45:n.includes("Ë∂ÖÂüü")?55:n.includes("ÊòüÂüü")?65:n.includes("ÁªàÊûÅ")?75:20;const a=e.ÁÆ°ÁêÜÂ±ÇÊï∞Èáè||0,r=(e.Ê†∏ÂøÉÊàêÂëòÊï∞||0)+(e.ÂÜÖÈÉ®ÊàêÂëòÊï∞||0)+(e.Â§ñÂõ¥ÊàêÂëòÊï∞||0);let o=0;o+=a>=50?15:a>=30?12:a>=20?10:a>=10?7:a>=5?4:Math.max(0,a),o+=r>=1e4?10:r>=5e3?8:r>=2e3?6:r>=1e3?4:r>=500?2:Math.max(0,Math.floor(r/250));let i=0;switch(e.Á≠âÁ∫ß){case"Ë∂ÖÁ∫ß":case"Ë∂ÖÁ∫ßÁªÑÁªá":i=10;break;case"‰∏ÄÊµÅ":case"‰∏ÄÊµÅÁªÑÁªá":i=7;break;case"‰∫åÊµÅ":case"‰∫åÊµÅÁªÑÁªá":i=4;break;case"‰∏âÊµÅ":case"‰∏âÊµÅÁªÑÁªá":i=2;break;default:i=0}let s=0;switch(e.Á±ªÂûã){case"ÈªëÂüüÁªÑÁªá":case"ÂΩ±ÂüüÂäøÂäõ":s=3;break;case"ÂÆàÂ∫èÁªÑÁªá":case"ËµõÂçöÁªÑÁªá":s=1;break;case"ÂÆ∂ÊóèÈõÜÂõ¢":case"Ë¥¢Âõ¢":s=-1;break;case"ÂïÜ‰ºö":case"ÂïÜ‰∏öËÅîÁõü":s=-3;break;case"Ëá™Áî±ÁΩëÁªú":s=-2;break;default:s=0}let l=t+o+i+s;return n.includes("ÁªàÊûÅ")?l=Math.max(l,85):n.includes("ÊòüÂüü")?l=Math.max(l,75):n.includes("Ë∂ÖÂüü")?l=Math.max(l,65):n.includes("‰∏ªÂÆ∞")&&(l=Math.max(l,55)),Math.min(100,Math.max(1,Math.round(l)))}function s(e){let t=5;switch(e.Á≠âÁ∫ß){case"Ë∂ÖÁ∫ß":case"Ë∂ÖÁ∫ßÁªÑÁªá":t=25;break;case"‰∏ÄÊµÅ":case"‰∏ÄÊµÅÁªÑÁªá":t=20;break;case"‰∫åÊµÅ":case"‰∫åÊµÅÁªÑÁªá":t=15;break;case"‰∏âÊµÅ":case"‰∏âÊµÅÁªÑÁªá":t=10;break;default:t=5}const n=o[e.Á±ªÂûã]||1;let a=0;const r=e.ÁÆ°ÁêÜÂ±ÇÊï∞Èáè||0;r>=10?a+=3:r>=5?a+=2:r>=3&&(a+=1);const i=.8+.4*Math.random(),s=Math.round((t*n+a)*i);return Math.min(30,Math.max(0,s))}var l=n(4459);class c{config;previousErrors=[];originalConfig;constructor(e){this.config=e,this.originalConfig={factionCount:e.factionCount,locationCount:e.locationCount,secretRealmsCount:e.secretRealmsCount,continentCount:e.continentCount}}async generateValidatedWorld(){for(let e=0;e<=this.config.maxRetries;e++)try{e>0&&(await new Promise(t=>setTimeout(t,this.config.retryDelay*e)),this.reduceCountsForRetry(e));const t=await this.generateWorldData(),n=this.validateWorldData(t);if(n.isValid)return{success:!0,worldInfo:t};this.previousErrors=n.errors.map(e=>e.message)}catch(e){const t=e instanceof Error?e.message:String(e);this.previousErrors=[t]}return{success:!1,errors:this.previousErrors}}reduceCountsForRetry(e){const t=Math.pow(.8,e);this.config.factionCount=Math.max(3,Math.floor(this.originalConfig.factionCount*t)),this.config.locationCount=Math.max(5,Math.floor(this.originalConfig.locationCount*t)),this.config.secretRealmsCount=Math.max(2,Math.floor(this.originalConfig.secretRealmsCount*t)),this.config.continentCount=Math.max(2,Math.floor(this.originalConfig.continentCount*t))}async generateWorldData(){const e=(0,a.getTavernHelper)();if(!e)throw new Error("AIÊúçÂä°Êú™ÂàùÂßãÂåñÔºåËØ∑Âú®ËÆæÁΩÆ‰∏≠ÈÖçÁΩÆAIÊúçÂä°");const t=await this.buildPromptWithErrors();try{const n=[{role:"user",content:t},{role:"user",content:"ËØ∑Ê†πÊçÆ‰∏äËø∞Ë¶ÅÊ±ÇÁîüÊàêÂÆåÊï¥ÁöÑ‰∏ñÁïåÊï∞ÊçÆJSON„ÄÇ"}],a=await e.generateRaw({ordered_prompts:n,should_stream:!0,usageType:"world_generation",overrides:{world_info_before:"",world_info_after:""},onStreamChunk:e=>{this.config.onStreamChunk&&this.config.onStreamChunk(e)}}),r=this.parseAIResponse(String(a));return this.convertToWorldInfo(r)}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`AIÁîüÊàêÂ§±Ë¥•: ${t}`)}}async buildPromptWithErrors(){return await this.buildPrompt()}async buildPrompt(){const e=await l.promptStorage.get("worldGeneration"),t=(0,a.isTavernEnv)()&&Math.random()>.3;t&&console.log("[‰∏ñÁïåÁîüÊàê] üé≤ ÂΩ©ËõãËß¶ÂèëÔºöÂ∞ÜÂº∫Âà∂ÁîüÊàêÂ§úÂÆ¥ÁªÑÁªá");const{factionCount:n,locationCount:o,secretRealmsCount:i,continentCount:s,mapConfig:c}=this.config,d={factionCount:n,totalLocations:o,secretRealms:i,continentCount:s,characterBackground:this.config.characterBackground,worldBackground:this.config.worldBackground,worldEra:this.config.worldEra,worldName:this.config.worldName,mapConfig:c};let u=r.c.buildPrompt(d);if(t&&(u+='\n\n„ÄêÁâπÊÆäË¶ÅÊ±Ç„Äë\n    ËØ∑Âä°ÂøÖÂú®ÂäøÂäõÂàóË°®‰∏≠ÂåÖÂê´‰∏Ä‰∏™Âêç‰∏∫"Â§úÂÆ¥ÁªÑÁªá"ÁöÑÂäøÂäõ„ÄÇËÆæÂÆö‰∏∫ÈªëÂüüÊàñ‰∏≠Á´ãÔºå‰ª•ÊÑüÂÆòÊîπÈÄ†‰∏éÊÉÖÊä•‰∫§ÊòìÈóªÂêçÔºåÁªÑÁªáÈ£éÊ†ºÂºÄÊîæËØ°Áßò„ÄÇ'),e&&e.trim()){const t=await l.promptStorage.loadAll();if(t.worldGeneration?.modified)return e}return u}parseAIResponse(e){try{let t=null,n="";if(t=e.match(/```json\s*(\{[\s\S]*?\})\s*```/),t&&(n=t[1]),t||(t=e.match(/(\{[\s\S]*?"continents"\s*:\s*\[[\s\S]*?\][\s\S]*?\})/),t&&(n=t[1])),!t){const t=e.match(/\{[\s\S]*?\}/g);if(t)for(const e of t)try{const t=JSON.parse(e);if(t.continents||t.factions||t.locations){n=e;break}}catch{continue}}if(!n)throw new Error("Êó†Ê≥ïËß£ÊûêAIÂìçÂ∫î‰∏≠ÁöÑJSONÊï∞ÊçÆ");let a=JSON.parse(n);return a.world_data&&"object"==typeof a.world_data&&(a=a.world_data),{continents:Array.isArray(a.continents)?a.continents:[],factions:Array.isArray(a.factions)?a.factions:[],locations:Array.isArray(a.locations)?a.locations:[]}}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`JSONËß£ÊûêÂ§±Ë¥•: ${t}`)}}convertToWorldInfo(e){return{‰∏ñÁïåÂêçÁß∞:this.config.worldName||e.world_name||e.worldName||"ÈúìËôπÂüü",‰∏ñÁïåËÉåÊôØ:this.config.worldBackground||e.world_background||e.worldBackground||"",Â§ßÈôÜ‰ø°ÊÅØ:(e.continents||[]).map(e=>({ÂêçÁß∞:e.ÂêçÁß∞||e.name||"Êú™ÂêçÂ§ßÈôÜ",ÊèèËø∞:e.ÊèèËø∞||e.description||"‰∏ÄÁâáÈúìËôπÈó™ÁÉÅÁöÑËµõÂçöÂ§ßÈôÜÔºåÊï∞ÊçÆËÑâÁªú‰∫§ÁªáÔºåÂäøÂäõÊûóÁ´ã",Âú∞ÁêÜÁâπÂæÅ:e.terrain_features||e.Âú∞ÁêÜÁâπÂæÅ||[],ÁßëÊäÄÁîüÊÄÅ:e.tech_ecosystem||e.ÁßëÊäÄÁîüÊÄÅ||"È´òÂØÜÂ∫¶ÁΩëÁªú‰∏éÊîπÈÄ†ËÆæÊñΩÂπ∂Â≠ò",Ê∞îÂÄô:e.climate||e.Ê∞îÂÄô||"ÂõõÂ≠£ÂàÜÊòéÔºåÊ∏©ÂíåÂÆú‰∫∫",Â§©ÁÑ∂Â±èÈöú:e.natural_barriers||e.Â§©ÁÑ∂Â±èÈöú||[],Â§ßÊ¥≤ËæπÁïå:e.continent_bounds||e.Â§ßÊ¥≤ËæπÁïå||[]})),ÂäøÂäõ‰ø°ÊÅØ:(e.factions||[]).map(e=>{const t={Â£∞ÊúõÂÄº:s(l={ÂêçÁß∞:e.name||e.ÂêçÁß∞,Á±ªÂûã:e.type||e.Á±ªÂûã||"‰ºÅ‰∏öÈõÜÂõ¢",Á≠âÁ∫ß:e.level||e.Á≠âÁ∫ß||"‰∏âÊµÅ",È¶ñÈ¢ÜÈò∂‰Ωç:e.leadership?.È¶ñÈ¢ÜÁ≠âÁ∫ß,ÊúÄÂº∫Èò∂‰Ωç:e.leadership?.ÊúÄÂº∫Á≠âÁ∫ß,ÁÆ°ÁêÜÂ±ÇÊï∞Èáè:e.leadership?.È°æÈóÆÊï∞Èáè??e.memberCount?.byPosition?.È°æÈóÆ??0,Ê†∏ÂøÉÊàêÂëòÊï∞:e.leadership?.Ê†∏ÂøÉÊàêÂëòÊï∞,ÂÜÖÈÉ®ÊàêÂëòÊï∞:e.leadership?.ÂÜÖÈÉ®ÊàêÂëòÊï∞,Â§ñÂõ¥ÊàêÂëòÊï∞:e.leadership?.Â§ñÂõ¥ÊàêÂëòÊï∞}),ÁªºÂêàÊàòÂäõ:i(l)},n=String(e.name||e.ÂêçÁß∞||"").includes("Â§úÂÆ¥"),a=e.leadership?{È¶ñÈ¢Ü:e.leadership.È¶ñÈ¢Ü,È¶ñÈ¢ÜÁ≠âÁ∫ß:e.leadership.È¶ñÈ¢ÜÁ≠âÁ∫ß,ÂâØÈ¶ñÈ¢Ü:e.leadership.ÂâØÈ¶ñÈ¢Ü??void 0,Áâπ‰Ωø:n?e.leadership.Áâπ‰Ωø??void 0:void 0,È¶ñÂ∏≠ÂàÜÊûêÂ∏à:e.leadership.È¶ñÂ∏≠ÂàÜÊûêÂ∏à??void 0,È¶ñÂ∏≠Â∑•Á®ãÂ∏à:e.leadership.È¶ñÂ∏≠Â∑•Á®ãÂ∏à??void 0,Ëë£‰∫ã:e.leadership.Ëë£‰∫ã??void 0,Ëë£‰∫ãÁ≠âÁ∫ß:e.leadership.Ëë£‰∫ãÁ≠âÁ∫ß??void 0,ÊúÄÂº∫Á≠âÁ∫ß:e.leadership.ÊúÄÂº∫Á≠âÁ∫ß||e.leadership.È¶ñÈ¢ÜÁ≠âÁ∫ß,ÁªºÂêàÊàòÂäõ:t.ÁªºÂêàÊàòÂäõ,Ê†∏ÂøÉÊàêÂëòÊï∞:e.leadership.Ê†∏ÂøÉÊàêÂëòÊï∞,ÂÜÖÈÉ®ÊàêÂëòÊï∞:e.leadership.ÂÜÖÈÉ®ÊàêÂëòÊï∞,Â§ñÂõ¥ÊàêÂëòÊï∞:e.leadership.Â§ñÂõ¥ÊàêÂëòÊï∞}:void 0,r=e.memberCount?{total:Number(e.memberCount.total)||0,byRank:e.memberCount.byRank||e.memberCount.byRealm||{},byPosition:e.memberCount.byPosition||{}}:void 0,o=e.territoryInfo?{controlledAreas:e.territoryInfo.controlledAreas||[],influenceRange:e.territoryInfo.influenceRange,strategicValue:e.territoryInfo.strategicValue}:void 0;var l;return{ÂêçÁß∞:e.name||e.ÂêçÁß∞,Á±ªÂûã:e.type||e.Á±ªÂûã,Á≠âÁ∫ß:e.level||e.Á≠âÁ∫ß,‰ΩçÁΩÆ:e.location||e.headquarters||e.‰ΩçÁΩÆ,ÂäøÂäõËåÉÂõ¥:e.territory||e.territory_bounds||e.ÂäøÂäõËåÉÂõ¥||[],ÊèèËø∞:e.description||e.ÊèèËø∞,ÁâπËâ≤:e.specialties||e.features||e.ÁâπËâ≤||[],‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª:e.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª||"‰∏≠Á´ã",Â£∞ÊúõÂÄº:t.Â£∞ÊúõÂÄº,È¢ÜÂØºÂ±Ç:a,leadership:a,ÊàêÂëòÊï∞Èáè:r?{ÊÄªÊï∞:r.total,ÊåâÈò∂‰Ωç:r.byRank,ÊåâËÅå‰Ωç:r.byPosition,...r}:void 0,memberCount:r,ÂäøÂäõËåÉÂõ¥ËØ¶ÊÉÖ:o?{ÊéßÂà∂Âå∫Âüü:o.controlledAreas,ÂΩ±ÂìçËåÉÂõ¥:o.influenceRange,ÊàòÁï•‰ª∑ÂÄº:o.strategicValue}:void 0,territoryInfo:o,ÂèØÂê¶Âä†ÂÖ•:void 0===e.canJoin||!!e.canJoin,canJoin:void 0===e.canJoin||!!e.canJoin,Âä†ÂÖ•Êù°‰ª∂:e.joinRequirements||[],joinRequirements:e.joinRequirements||[],Âä†ÂÖ•Â•ΩÂ§Ñ:e.benefits||[],benefits:e.benefits||[]}}),Âú∞ÁÇπ‰ø°ÊÅØ:(e.locations||[]).map(e=>({ÂêçÁß∞:e.name||e.ÂêçÁß∞,Á±ªÂûã:e.type||e.Á±ªÂûã,‰ΩçÁΩÆ:e.‰ΩçÁΩÆ,coordinates:e.coordinates,ÊèèËø∞:e.description||e.ÊèèËø∞,ÁâπËâ≤:e.features||e.ÁâπËâ≤,ÂÆâÂÖ®Á≠âÁ∫ß:e.safety_level||e.danger_level||e.ÂÆâÂÖ®Á≠âÁ∫ß||"ËæÉÂÆâÂÖ®",ÂºÄÊîæÁä∂ÊÄÅ:e.status||e.ÂºÄÊîæÁä∂ÊÄÅ||"ÂºÄÊîæ",Áõ∏ÂÖ≥ÂäøÂäõ:e.related_factions||e.Áõ∏ÂÖ≥ÂäøÂäõ||[],ÁâπÊÆäÂäüËÉΩ:e.special_functions||e.ÁâπÊÆäÂäüËÉΩ||[]})),Âú∞ÂõæÈÖçÁΩÆ:this.config.mapConfig||e.Âú∞ÂõæÈÖçÁΩÆ||e.map_config||{width:1e4,height:1e4,minLng:0,maxLng:1e4,minLat:0,maxLat:1e4},ÁîüÊàêÊó∂Èó¥:(new Date).toISOString(),‰∏ñÁïåÁ∫™ÂÖÉ:this.config.worldEra||e.world_era||"ÈúìËôπÁ∫™ÂÖÉ",ÁâπÊÆäËÆæÂÆö:e.special_settings||[],ÁâàÊú¨:"2.0-Enhanced"}}validateWorldData(e){const t={isValid:!0,errors:[]};return this.performCustomValidation(e,t),t.isValid||(this.previousErrors=t.errors.map(e=>e.message)),t}performCustomValidation(e,t){const n=e.ÂäøÂäõ‰ø°ÊÅØ.reduce((e,t)=>{const n=t.Á≠âÁ∫ß;return e[n]=(e[n]||0)+1,e},{});n["Ë∂ÖÁ∫ß"]>1&&t.errors.push({path:"ÂäøÂäõ‰ø°ÊÅØ.Á≠âÁ∫ß",message:"Ë∂ÖÁ∫ßÂäøÂäõ‰∏çËÉΩË∂ÖËøá1‰∏™",expected:"1‰∏™Ë∂ÖÁ∫ßÂäøÂäõ",received:`${n["Ë∂ÖÁ∫ß"]}‰∏™Ë∂ÖÁ∫ßÂäøÂäõ`});const a=e.ÂäøÂäõ‰ø°ÊÅØ.map(e=>e.ÂêçÁß∞),r=new Set(a);a.length!==r.size&&t.errors.push({path:"ÂäøÂäõ‰ø°ÊÅØ.ÂêçÁß∞",message:"ÂäøÂäõÂêçÁß∞Â≠òÂú®ÈáçÂ§ç",expected:"ÊâÄÊúâÂêçÁß∞ÂîØ‰∏Ä",received:"Â≠òÂú®ÈáçÂ§çÂêçÁß∞"});const o=e.Âú∞ÁÇπ‰ø°ÊÅØ.map(e=>e.ÂêçÁß∞),i=new Set(o);o.length!==i.size&&t.errors.push({path:"Âú∞ÁÇπ‰ø°ÊÅØ.ÂêçÁß∞",message:"Âú∞ÁÇπÂêçÁß∞Â≠òÂú®ÈáçÂ§ç",expected:"ÊâÄÊúâÂêçÁß∞ÂîØ‰∏Ä",received:"Â≠òÂú®ÈáçÂ§çÂêçÁß∞"}),this.config.worldName&&e.‰∏ñÁïåÂêçÁß∞!==this.config.worldName&&t.errors.push({path:"‰∏ñÁïåÂêçÁß∞",message:"‰∏ñÁïåÂêçÁß∞ÂøÖÈ°ª‰∏éÁé©ÂÆ∂ÈÄâÊã©‰∏ÄËá¥",expected:this.config.worldName,received:e.‰∏ñÁïåÂêçÁß∞}),t.isValid=0===t.errors.length}}},2497:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.cloud-sync-button[data-v-5cceb5b0] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.5rem 0.8rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 0.85rem;\n  min-width: 80px;\n  white-space: nowrap;\n}\n.cloud-sync-button[data-v-5cceb5b0]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.sync-text[data-v-5cceb5b0] {\n  font-weight: 500;\n}\n.sync-icon[data-v-5cceb5b0] {\n  font-size: 1em;\n  flex-shrink: 0;\n}\n\n/* Â∑≤ÂêåÊ≠•Áä∂ÊÄÅÊ†∑Âºè */\n.cloud-sync-button.synced[data-v-5cceb5b0] {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-success-rgb), 0.1));\n  border-color: var(--color-success);\n  color: var(--color-success);\n}\n.cloud-sync-button[data-v-5cceb5b0]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n.cloud-sync-button.synced[data-v-5cceb5b0]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.2), rgba(var(--color-success-rgb), 0.2));\n}\n\n/* Size variants */\n.cloud-sync-button.small[data-v-5cceb5b0] {\n  padding: 0.5rem 0.75rem;\n  font-size: 0.9rem;\n  min-width: 100px;\n}\n.cloud-sync-button.large[data-v-5cceb5b0] {\n  padding: 1rem 1.5rem;\n  font-size: 1.1rem;\n  min-width: 180px;\n}\n\n/* Compact variant */\n.cloud-sync-button.compact[data-v-5cceb5b0] {\n  min-width: auto;\n  padding: 0.5rem;\n}\n.cloud-sync-button.compact .sync-text[data-v-5cceb5b0] {\n  display: none;\n}\n",""]);const s=i},2634:()=>{},2642:(e,t,n)=>{"use strict";var a=n(7720),r=Object.prototype.hasOwnProperty,o=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:a.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,a){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,d=[];if(c){if(!n.plainObjects&&r.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}for(var u=0;n.depth>0&&null!==(s=i.exec(o))&&u<n.depth;){if(u+=1,!n.plainObjects&&r.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(s[1])}if(s){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+o.slice(s.index)+"]")}return function(e,t,n,a){for(var r=a?t:l(t,n),o=e.length-1;o>=0;--o){var i,s=e[o];if("[]"===s&&n.parseArrays)i=n.allowEmptyArrays&&(""===r||n.strictNullHandling&&null===r)?[]:[].concat(r);else{i=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,d=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(d,10);n.parseArrays||""!==d?!isNaN(u)&&s!==d&&String(u)===d&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(i=[])[u]=r:"__proto__"!==d&&(i[d]=r):i={0:r}}r=i}return r}(d,t,n,a)}};e.exports=function(e,t){var n=function(e){if(!e)return i;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?i.charset:e.charset,n=void 0===e.duplicates?i.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||i.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:i.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:i.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:i.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:i.decoder,delimiter:"string"==typeof e.delimiter||a.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:i.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:i.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var d="string"==typeof e?function(e,t){var n={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var d,u=t.parameterLimit===1/0?void 0:t.parameterLimit,m=c.split(t.delimiter,u),p=-1,g=t.charset;if(t.charsetSentinel)for(d=0;d<m.length;++d)0===m[d].indexOf("utf8=")&&("utf8=%E2%9C%93"===m[d]?g="utf-8":"utf8=%26%2310003%3B"===m[d]&&(g="iso-8859-1"),p=d,d=m.length);for(d=0;d<m.length;++d)if(d!==p){var h,f,v=m[d],b=v.indexOf("]="),y=-1===b?v.indexOf("="):b+1;-1===y?(h=t.decoder(v,i.decoder,g,"key"),f=t.strictNullHandling?null:""):(h=t.decoder(v.slice(0,y),i.decoder,g,"key"),f=a.maybeMap(l(v.slice(y+1),t),function(e){return t.decoder(e,i.decoder,g,"value")})),f&&t.interpretNumericEntities&&"iso-8859-1"===g&&(f=s(f)),v.indexOf("[]=")>-1&&(f=o(f)?[f]:f);var x=r.call(n,h);x&&"combine"===t.duplicates?n[h]=a.combine(n[h],f):x&&"last"!==t.duplicates||(n[h]=f)}return n}(e,n):e,u=n.plainObjects?Object.create(null):{},m=Object.keys(d),p=0;p<m.length;++p){var g=m[p],h=c(g,d[g],n,"string"==typeof e);u=a.merge(u,h,n)}return!0===n.allowSparse?u:a.compact(u)}},2748:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.world-info-section[data-v-dbebcd90] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-dbebcd90] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-dbebcd90] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.world-info-content[data-v-dbebcd90] {\n  flex: 1;\n  overflow: hidden;\n}\n.data-display[data-v-dbebcd90] {\n  height: 100%;\n  overflow: hidden;\n}\n.code-pre[data-v-dbebcd90] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  height: 100%;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.empty-state[data-v-dbebcd90] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n\n/* ÊâãÊú∫Á´ØÈÄÇÈÖç */\n@media (max-width: 640px) {\n.world-info-section[data-v-dbebcd90] {\n    padding: 0.75rem;\n}\n.section-title[data-v-dbebcd90] {\n    font-size: 1rem;\n    text-align: center;\n}\n.code-pre[data-v-dbebcd90] {\n    font-size: 0.75rem;\n    padding: 0.5rem;\n}\n.empty-state[data-v-dbebcd90] {\n    padding: 2rem 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.world-info-section[data-v-dbebcd90] {\n    padding: 0.5rem;\n}\n.section-title[data-v-dbebcd90] {\n    font-size: 0.9rem;\n}\n.code-pre[data-v-dbebcd90] {\n    font-size: 0.7rem;\n    padding: 0.4rem;\n}\n}\n",""]);const s=i},2780:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* ========== Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º ========== */\n/* ‰∏ªÂÆπÂô® */\n.preview-container[data-v-25a4a35c] {\n  height: 100%;\n  padding: 2rem;\n  box-sizing: border-box;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.preview-container[data-v-25a4a35c]::-webkit-scrollbar { width: 6px;\n}\n.preview-container[data-v-25a4a35c]::-webkit-scrollbar-track { background: transparent;\n}\n.preview-container[data-v-25a4a35c]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n\n/* Ê†áÈ¢ò */\n.title[data-v-25a4a35c] {\n  text-align: center;\n  color: #93c5fd;\n  margin: 0 0 0.5rem 0;\n  font-family: var(--font-family-serif);\n  font-size: 2rem;\n  font-weight: 600;\n  text-shadow: 0 0 20px rgba(147, 197, 253, 0.3);\n}\n.subtitle[data-v-25a4a35c] {\n  text-align: center;\n  color: #94a3b8;\n  margin: 0 0 2rem 0;\n  font-size: 1rem;\n  font-style: italic;\n}\n\n/* ÁΩëÊ†ºÂ∏ÉÂ±Ä */\n.preview-grid[data-v-25a4a35c] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 1.5rem;\n}\n\n/* Âü∫Á°ÄÂç°ÁâáÊ†∑Âºè */\n.preview-item[data-v-25a4a35c] {\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  transition: all 0.25s ease;\n}\n.preview-item[data-v-25a4a35c]:hover {\n  background: rgba(30, 41, 59, 0.7);\n  border-color: rgba(147, 197, 253, 0.2);\n}\n.preview-item h3[data-v-25a4a35c] {\n  margin: 0;\n  color: #93c5fd;\n  border-bottom: 1px solid rgba(147, 197, 253, 0.2);\n  padding-bottom: 0.5rem;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n.preview-item p[data-v-25a4a35c] {\n  margin: 0;\n  font-size: 1rem;\n  color: #f1f5f9;\n  line-height: 1.5;\n}\n.preview-item h4[data-v-25a4a35c] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #bfdbfe;\n}\n.item-description[data-v-25a4a35c] {\n  font-size: 0.9rem !important;\n  color: #94a3b8 !important;\n  margin-top: 0.5rem !important;\n}\n.talents-item li .item-description[data-v-25a4a35c] {\n  margin-top: 0.25rem !important;\n  padding-left: 0.5rem;\n  border-left: 2px solid rgba(147, 197, 253, 0.3);\n}\n\n/* ÂêçÂ≠óËæìÂÖ• */\n.name-item[data-v-25a4a35c], .race-item[data-v-25a4a35c] {\n  grid-column: span 2;\n}\n@media (min-width: 769px) {\n.name-item[data-v-25a4a35c], .race-item[data-v-25a4a35c] {\n    grid-column: 1 / -1;\n}\n}\n.name-item label[data-v-25a4a35c] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #93c5fd;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n.name-item input[data-v-25a4a35c], .input-field input[data-v-25a4a35c] {\n  width: 100%;\n  background: rgba(30, 41, 59, 0.6);\n  border: 1px solid rgba(147, 197, 253, 0.3);\n  color: #f1f5f9;\n  padding: 0.75rem;\n  border-radius: 8px;\n  font-size: 1rem;\n  box-sizing: border-box;\n  transition: all 0.25s ease;\n}\n.input-field input[data-v-25a4a35c] {\n  background: rgba(30, 41, 59, 0.4);\n}\n.name-item input[data-v-25a4a35c]:focus, .input-field input[data-v-25a4a35c]:focus {\n  outline: none;\n  border-color: #93c5fd;\n  box-shadow: 0 0 0 2px rgba(147, 197, 253, 0.1);\n}\n\n/* Âè™ËØªËæìÂÖ•Ê°ÜÊ†∑Âºè */\n.readonly-input[data-v-25a4a35c] {\n  background: rgba(30, 41, 59, 0.3) !important;\n  cursor: not-allowed !important;\n  opacity: 0.7;\n  user-select: none;\n}\n.readonly-input[data-v-25a4a35c]:focus {\n  border-color: rgba(147, 197, 253, 0.2) !important;\n  box-shadow: none !important;\n}\n\n/* ÂêçÂ≠óÊèêÁ§∫ÊñáÂ≠ó */\n.name-hint[data-v-25a4a35c] {\n  font-size: 0.85rem;\n  color: #94a3b8;\n  margin-top: 0.5rem;\n  display: block;\n}\n\n/* ÊÄßÂà´ÈÄâÊã© */\n.gender-control[data-v-25a4a35c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.gender-label[data-v-25a4a35c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-size: 1rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 8px;\n  color: #f1f5f9;\n  background: rgba(30, 41, 59, 0.4);\n  border: 1px solid transparent;\n  transition: all 0.25s ease;\n}\n.gender-label[data-v-25a4a35c]:hover {\n  background: rgba(51, 65, 85, 0.6);\n  border-color: rgba(147, 197, 253, 0.2);\n}\n.gender-label input[type="radio"][data-v-25a4a35c] {\n  width: 16px;\n  height: 16px;\n  margin: 0;\n  accent-color: #93c5fd;\n}\n\n/* ÂºÄÂ±ÄÊ®°ÂºèÈÄâÊã© */\n.streaming-control[data-v-25a4a35c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.streaming-label[data-v-25a4a35c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-size: 1rem;\n  padding: 0.5rem;\n  border-radius: 4px;\n  color: var(--color-text);\n  transition: all 0.2s ease;\n}\n.streaming-label[data-v-25a4a35c]:hover {\n  background: var(--color-surface-light);\n}\n.streaming-label input[type="radio"][data-v-25a4a35c] {\n  width: 16px;\n  height: 16px;\n  margin: 0;\n  accent-color: var(--color-primary);\n}\n.streaming-hint[data-v-25a4a35c] {\n  font-size: 0.85rem !important;\n  color: var(--color-text-secondary) !important;\n  margin-top: 0.5rem !important;\n  padding: 0.5rem;\n  background: var(--color-surface-light);\n  border-radius: 4px;\n  border-left: 3px solid var(--color-primary);\n  line-height: 1.4;\n}\n\n/* ÁîüÊàêÊñπÂºèÈÄâÊã© */\n.generate-mode-control[data-v-25a4a35c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.generate-mode-label[data-v-25a4a35c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-size: 1rem;\n  padding: 0.5rem;\n  border-radius: 4px;\n  color: var(--color-text);\n  transition: all 0.2s ease;\n}\n.generate-mode-label[data-v-25a4a35c]:hover {\n  background: var(--color-surface-light);\n}\n.generate-mode-label input[type="radio"][data-v-25a4a35c] {\n  width: 16px;\n  height: 16px;\n  margin: 0;\n  accent-color: var(--color-primary);\n}\n.generate-mode-hint[data-v-25a4a35c] {\n  font-size: 0.85rem !important;\n  color: var(--color-text-secondary) !important;\n  margin-top: 0.5rem !important;\n  padding: 0.5rem;\n  background: var(--color-surface-light);\n  border-radius: 4px;\n  border-left: 3px solid var(--color-primary);\n  line-height: 1.4;\n}\n\n/* Âπ¥ÈæÑÊéßÂà∂ */\n.age-control[data-v-25a4a35c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n}\n.age-btn[data-v-25a4a35c] {\n  width: 32px;\n  height: 32px;\n  border: 1px solid rgba(147, 197, 253, 0.3);\n  background: rgba(30, 41, 59, 0.6);\n  color: #93c5fd;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.25s ease;\n}\n.age-btn[data-v-25a4a35c]:hover:not(:disabled) {\n  background: rgba(59, 130, 246, 0.3);\n  border-color: #93c5fd;\n  color: #bfdbfe;\n}\n.age-btn[data-v-25a4a35c]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n.age-display[data-v-25a4a35c] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #f1f5f9;\n  min-width: 60px;\n  text-align: center;\n}\n.age-input[data-v-25a4a35c] {\n  width: 80px;\n  padding: 0.5rem;\n  border: 1px solid rgba(147, 197, 253, 0.3);\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.6);\n  color: #f1f5f9;\n  font-size: 1.1rem;\n  font-weight: 600;\n  text-align: center;\n  transition: all 0.25s ease;\n}\n.age-input[data-v-25a4a35c]:focus {\n  outline: none;\n  border-color: #93c5fd;\n  box-shadow: 0 0 0 2px rgba(147, 197, 253, 0.1);\n}\n.age-input[data-v-25a4a35c]::-webkit-inner-spin-button,\n.age-input[data-v-25a4a35c]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.age-input[type="number"][data-v-25a4a35c] {\n  -moz-appearance: textfield;\n}\n.age-unit[data-v-25a4a35c] {\n  font-size: 1rem;\n  color: #94a3b8;\n  font-weight: 500;\n}\n\n/* ÂàóË°®Ê†∑Âºè */\n.preview-item ul[data-v-25a4a35c] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.preview-item li[data-v-25a4a35c] {\n  margin-bottom: 0.75rem;\n  padding: 0.75rem;\n  background: rgba(30, 41, 59, 0.4);\n  border-radius: 8px;\n  color: #f1f5f9;\n  line-height: 1.4;\n  border: 1px solid transparent;\n  transition: all 0.25s ease;\n}\n.preview-item li[data-v-25a4a35c]:hover {\n  background: rgba(51, 65, 85, 0.5);\n  border-color: rgba(147, 197, 253, 0.15);\n}\n.preview-item li strong[data-v-25a4a35c] {\n  display: block;\n  margin-bottom: 0.25rem;\n  color: #93c5fd;\n}\n\n/* ‰∫ëÁ´Ø‰ø°ÊÅØ */\n.cloud-info-item[data-v-25a4a35c] {\n  text-align: center;\n  background: rgba(30, 41, 59, 0.3);\n  border: 1px dashed rgba(147, 197, 253, 0.3);\n}\n.cloud-info-text[data-v-25a4a35c] {\n  font-size: 0.95rem;\n  color: #94a3b8;\n  line-height: 1.6;\n  font-style: italic;\n}\n\n/* ÂìçÂ∫îÂºè */\n@media (max-width: 768px) {\n.preview-container[data-v-25a4a35c] {\n    padding: 1rem;\n}\n.preview-grid[data-v-25a4a35c] {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n}\n.gender-control[data-v-25a4a35c] {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-around;\n}\n.gender-label[data-v-25a4a35c] {\n    flex: 1;\n    min-width: 80px;\n    justify-content: center;\n}\n}\n@media (min-width: 769px) and (max-width: 1024px) {\n.preview-grid[data-v-25a4a35c] {\n    grid-template-columns: repeat(2, 1fr);\n}\n}\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .preview-item[data-v-25a4a35c] {\n  background: rgba(248, 250, 252, 0.8);\n  border-color: rgba(0, 0, 0, 0.08);\n}\n[data-theme="light"] .preview-item[data-v-25a4a35c]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] .preview-item h3[data-v-25a4a35c] {\n  color: #2563eb;\n  border-bottom-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] .preview-item h4[data-v-25a4a35c] {\n  color: #1e40af;\n}\n[data-theme="light"] .preview-item p[data-v-25a4a35c] {\n  color: #1e293b;\n}\n[data-theme="light"] .title[data-v-25a4a35c] {\n  color: #2563eb;\n}\n[data-theme="light"] .subtitle[data-v-25a4a35c] {\n  color: #475569;\n}\n[data-theme="light"] .name-item label[data-v-25a4a35c] {\n  color: #2563eb;\n}\n[data-theme="light"] .name-item input[data-v-25a4a35c],\n[data-theme="light"] .input-field input[data-v-25a4a35c] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #1e293b;\n}\n[data-theme="light"] .gender-label[data-v-25a4a35c] {\n  background: rgba(255, 255, 255, 0.6);\n  color: #1e293b;\n}\n[data-theme="light"] .gender-label[data-v-25a4a35c]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] .age-btn[data-v-25a4a35c] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #2563eb;\n}\n[data-theme="light"] .age-btn[data-v-25a4a35c]:hover:not(:disabled) {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n}\n[data-theme="light"] .age-input[data-v-25a4a35c] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #1e293b;\n}\n[data-theme="light"] .preview-item li[data-v-25a4a35c] {\n  background: rgba(255, 255, 255, 0.6);\n  color: #1e293b;\n}\n[data-theme="light"] .preview-item li[data-v-25a4a35c]:hover {\n  background: rgba(241, 245, 249, 0.95);\n}\n[data-theme="light"] .preview-item li strong[data-v-25a4a35c] {\n  color: #2563eb;\n}\n[data-theme="light"] .cloud-info-item[data-v-25a4a35c] {\n  background: rgba(248, 250, 252, 0.6);\n  border-color: rgba(59, 130, 246, 0.3);\n}\n[data-theme="light"] .cloud-info-text[data-v-25a4a35c] {\n  color: #475569;\n}\n@media (max-width: 480px) {\n.preview-container[data-v-25a4a35c] {\n    padding: 1rem;\n}\n.title[data-v-25a4a35c] {\n    font-size: 1.6rem;\n}\n.subtitle[data-v-25a4a35c] {\n    font-size: 0.9rem;\n    margin-bottom: 1.5rem;\n}\n.preview-item[data-v-25a4a35c] {\n    padding: 1rem;\n    gap: 0.8rem;\n}\n.preview-item h3[data-v-25a4a35c] {\n    font-size: 1rem;\n}\n.preview-item h4[data-v-25a4a35c] {\n    font-size: 1rem;\n}\n.item-description[data-v-25a4a35c] {\n    font-size: 0.85rem !important;\n}\n.name-item label[data-v-25a4a35c] {\n    font-size: 1rem;\n}\n.name-item input[data-v-25a4a35c] {\n    padding: 0.6rem;\n    font-size: 0.9rem;\n}\n.gender-label[data-v-25a4a35c] {\n    font-size: 0.9rem;\n    padding: 0.4rem;\n}\n.age-control[data-v-25a4a35c] {\n    gap: 0.8rem;\n}\n.age-btn[data-v-25a4a35c] {\n    width: 28px;\n    height: 28px;\n    font-size: 0.9rem;\n}\n.age-display[data-v-25a4a35c] {\n    font-size: 1rem;\n}\n.preview-item li[data-v-25a4a35c] {\n    padding: 0.6rem;\n}\n}\n',""]);const s=i},2792:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.sect-library[data-v-d9849f2a] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n.player-info-bar[data-v-d9849f2a] {\n  display: flex;\n  gap: 1.5rem;\n  padding: 0.75rem 1rem;\n  background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(168, 85, 247, 0.05));\n  border-radius: 8px;\n  border: 1px solid rgba(147, 51, 234, 0.2);\n}\n.info-item[data-v-d9849f2a] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.info-label[data-v-d9849f2a] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.info-value[data-v-d9849f2a] {\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n.info-value.position[data-v-d9849f2a] {\n  color: #9333ea;\n}\n.info-value.contribution[data-v-d9849f2a] {\n  color: #f59e0b;\n}\n.library-floors[data-v-d9849f2a] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.floor-section[data-v-d9849f2a] {\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.2s ease;\n}\n.floor-section.locked[data-v-d9849f2a] {\n  opacity: 0.6;\n}\n.floor-section.expanded[data-v-d9849f2a] {\n  border-color: rgba(147, 51, 234, 0.3);\n}\n.floor-header[data-v-d9849f2a] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: var(--color-background);\n  cursor: pointer;\n  transition: background 0.2s;\n}\n.floor-header[data-v-d9849f2a]:hover {\n  background: var(--color-surface);\n}\n.floor-info[data-v-d9849f2a] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.floor-icon[data-v-d9849f2a] {\n  font-size: 1.25rem;\n}\n.floor-name[data-v-d9849f2a] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.floor-requirement[data-v-d9849f2a] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: var(--color-surface);\n  padding: 0.2rem 0.5rem;\n  border-radius: 4px;\n}\n.floor-status[data-v-d9849f2a] {\n  color: var(--color-text-secondary);\n}\n.floor-status svg.rotated[data-v-d9849f2a] {\n  transform: rotate(180deg);\n}\n.floor-content[data-v-d9849f2a] {\n  padding: 1rem;\n  background: var(--color-surface);\n  border-top: 1px solid var(--color-border);\n}\n.empty-floor[data-v-d9849f2a] {\n  text-align: center;\n  padding: 2rem;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-d9849f2a] {\n  opacity: 0.5;\n  margin-bottom: 0.5rem;\n}\n.hint[data-v-d9849f2a] {\n  font-size: 0.8rem;\n  opacity: 0.7;\n}\n.technique-list[data-v-d9849f2a] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.technique-card[data-v-d9849f2a] {\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.technique-card.can-afford[data-v-d9849f2a] {\n  border-color: rgba(34, 197, 94, 0.3);\n}\n.technique-card.owned[data-v-d9849f2a] {\n  opacity: 0.7;\n  border-color: rgba(147, 51, 234, 0.3);\n}\n.tech-header[data-v-d9849f2a] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n.tech-name[data-v-d9849f2a] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.tech-quality[data-v-d9849f2a] {\n  font-size: 0.75rem;\n  padding: 0.15rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n}\n.quality-common[data-v-d9849f2a] { background: rgba(156, 163, 175, 0.2); color: #6b7280;\n}\n.quality-yellow[data-v-d9849f2a] { background: rgba(245, 158, 11, 0.2); color: #f59e0b;\n}\n.quality-xuan[data-v-d9849f2a] { background: rgba(139, 92, 246, 0.2); color: #8b5cf6;\n}\n.quality-earth[data-v-d9849f2a] { background: rgba(59, 130, 246, 0.2); color: #3b82f6;\n}\n.quality-heaven[data-v-d9849f2a] { background: rgba(239, 68, 68, 0.2); color: #ef4444;\n}\n.tech-desc[data-v-d9849f2a] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin: 0 0 0.5rem 0;\n  line-height: 1.4;\n}\n.tech-footer[data-v-d9849f2a] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.tech-cost[data-v-d9849f2a] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  font-size: 0.8rem;\n  color: #f59e0b;\n  font-weight: 500;\n}\n.learn-btn[data-v-d9849f2a] {\n  padding: 0.35rem 0.75rem;\n  background: linear-gradient(135deg, #22c55e, #16a34a);\n  border: none;\n  border-radius: 4px;\n  color: white;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.learn-btn[data-v-d9849f2a]:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3);\n}\n.learn-btn[data-v-d9849f2a]:disabled {\n  background: #6b7280;\n  cursor: not-allowed;\n}\n.owned-badge[data-v-d9849f2a] {\n  font-size: 0.75rem;\n  color: #9333ea;\n  font-weight: 500;\n}\n.library-tips[data-v-d9849f2a] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 6px;\n  font-size: 0.75rem;\n  color: #3b82f6;\n}\n.slide-enter-active[data-v-d9849f2a],\n.slide-leave-active[data-v-d9849f2a] {\n  transition: all 0.3s ease;\n}\n.slide-enter-from[data-v-d9849f2a],\n.slide-leave-to[data-v-d9849f2a] {\n  opacity: 0;\n  max-height: 0;\n  padding: 0 1rem;\n}\n",""]);const s=i},2794:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},2814:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 viewBox=%270 0 12 12%27%3E%3Cpath fill=%27%2394a3b8%27 d=%27M6 8L1 3h10z%27/%3E%3C/svg%3E"},2914:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.loading-overlay[data-v-23d51e69] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.85), rgba(15, 21, 53, 0.85));\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n  border-top: 2px solid var(--tech-primary);\n}\n.loading-content[data-v-23d51e69] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n.spinner[data-v-23d51e69] {\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(0, 217, 255, 0.2);\n  border-top-color: var(--tech-primary);\n  border-right-color: var(--tech-secondary);\n  border-radius: 50%;\n  animation: spin-23d51e69 1.2s linear infinite;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.4), inset 0 0 20px rgba(0, 217, 255, 0.1);\n}\n@keyframes spin-23d51e69 {\nto {\n    transform: rotate(360deg);\n}\n}\n.loading-text[data-v-23d51e69] {\n  color: var(--tech-primary);\n  font-size: 1.2rem;\n  font-weight: 600;\n  text-shadow: 0 0 15px rgba(0, 217, 255, 0.5);\n  letter-spacing: 0.05em;\n}\n.fade-enter-active[data-v-23d51e69],\n.fade-leave-active[data-v-23d51e69] {\n  transition: opacity 0.3s ease;\n}\n.fade-enter-from[data-v-23d51e69],\n.fade-leave-to[data-v-23d51e69] {\n  opacity: 0;\n}\n",""]);const s=i},3093:(e,t,n)=>{"use strict";var a=n(6840);e.exports=function(e){return a(e)||0===e?e:e<0?-1:1}},3098:(e,t,n)=>{"use strict";n.d(t,{deepCleanForClone:()=>r,zB:()=>o});var a=n(6988);function r(e){return JSON.parse(JSON.stringify(e))}function o(e,t,n){if(!e)return{isValid:!1,errors:["Â≠òÊ°£Êï∞ÊçÆ‰∏∫Á©∫"]};const r=[...(0,a.$)(e).errors];if(t?.ËßíËâ≤){const e=t.ËßíËâ≤;e.ÂêçÂ≠ó&&"string"==typeof e.ÂêçÂ≠ó||r.push("ËßíËâ≤ÂßìÂêçÊó†Êïà"),e.ÊÄßÂà´||r.push("ËßíËâ≤ÊÄßÂà´Áº∫Â§±")}if("creation"===n){const t=e?.ËßíËâ≤?.‰ΩçÁΩÆ;t&&"object"==typeof t||r.push("ËßíËâ≤.‰ΩçÁΩÆ Áº∫Â§±");const n=e?.ËßíËâ≤?.Â±ûÊÄß?.Èò∂‰Ωç;n&&"object"==typeof n||r.push("ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç Áº∫Â§±")}return{isValid:0===r.length,errors:r}}},3126:(e,t,n)=>{"use strict";var a=n(6743),r=n(9675),o=n(76),i=n(3144);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new r("a function is required");return i(a,o,e)}},3144:(e,t,n)=>{"use strict";var a=n(6743),r=n(1002),o=n(76),i=n(7119);e.exports=i||a.call(o,r)},3302:(e,t,n)=>{"use strict";n.d(t,{Yz:()=>o,w9:()=>r});class a{static instance;debugMode=!1;consoleDebug=!1;performanceMonitor=!1;constructor(){this.loadDebugSettings()}static getInstance(){return a.instance||(a.instance=new a),a.instance}loadDebugSettings(){try{const e=localStorage.getItem("dad_game_settings");if(e){const t=JSON.parse(e);this.debugMode=t.debugMode||!1,this.consoleDebug=t.consoleDebug||!1,this.performanceMonitor=t.performanceMonitor||!1}}catch(e){console.error("Âä†ËΩΩË∞ÉËØïËÆæÁΩÆÂ§±Ë¥•:",e),this.debugMode=!1,this.consoleDebug=!1,this.performanceMonitor=!1}}reloadSettings(){this.loadDebugSettings()}setDebugMode(e){this.debugMode=e,this.reloadSettings(),this.consoleDebug&&console.log("[Ë∞ÉËØï] Ë∞ÉËØïÊ®°Âºè"+(e?"Â∑≤ÂêØÁî®":"Â∑≤Á¶ÅÁî®"))}isDebugMode(){return this.debugMode}isConsoleDebugEnabled(){return this.debugMode&&this.consoleDebug}isPerformanceMonitorEnabled(){return this.debugMode&&this.performanceMonitor}log(e,t,n){this.isConsoleDebugEnabled()&&(void 0!==n?console.log(`[${e}] ${t}`,n):console.log(`[${e}] ${t}`))}warn(e,t,n){this.isConsoleDebugEnabled()&&(void 0!==n?console.warn(`[${e}] ${t}`,n):console.warn(`[${e}] ${t}`))}error(e,t,n){void 0!==n?console.error(`[${e}] ${t}`,n):console.error(`[${e}] ${t}`)}timeStart(e){if(this.isPerformanceMonitorEnabled())try{console.time(`[ÊÄßËÉΩ] ${e}`)}catch(e){}}timeEnd(e){if(this.isPerformanceMonitorEnabled())try{console.timeEnd(`[ÊÄßËÉΩ] ${e}`)}catch(e){}}group(e){this.isConsoleDebugEnabled()&&console.group(`[Ë∞ÉËØï] ${e}`)}groupEnd(){this.isConsoleDebugEnabled()&&console.groupEnd()}info(e,t,n){this.debugMode&&(void 0!==n?console.info(`[${e}] ${t}`,n):console.info(`[${e}] ${t}`))}table(e,t,n){this.isConsoleDebugEnabled()&&(console.log(`[${e}] ${t}:`),console.table(n))}count(e){this.isPerformanceMonitorEnabled()&&console.count(`[ÁªüËÆ°] ${e}`)}countReset(e){this.isPerformanceMonitorEnabled()&&console.countReset(`[ÁªüËÆ°] ${e}`)}}const r=a.getInstance(),o={log:(e,t,n)=>r.log(e,t,n),warn:(e,t,n)=>r.warn(e,t,n),error:(e,t,n)=>r.error(e,t,n),info:(e,t,n)=>r.info(e,t,n),timeStart:e=>r.timeStart(e),timeEnd:e=>r.timeEnd(e),group:e=>r.group(e),groupEnd:()=>r.groupEnd(),table:(e,t,n)=>r.table(e,t,n),count:e=>r.count(e),countReset:e=>r.countReset(e),setMode:e=>r.setDebugMode(e),isEnabled:()=>r.isDebugMode(),reload:()=>r.reloadSettings()}},3310:(e,t,n)=>{"use strict";n.d(t,{useActionQueueStore:()=>o});var a=n(810),r=n(4061);const o=(0,a.nY)("actionQueue",()=>{const e=(0,r.ref)([]),t=()=>{console.log("[Êìç‰ΩúÈòüÂàó] Ê∏ÖÁ©∫Êìç‰ΩúÈòüÂàóÔºåÂÖ±",e.value.length,"‰∏™Êìç‰Ωú"),e.value=[],a()},n=()=>0===e.value.length?"":`\n\n„ÄêÁé©ÂÆ∂ÊúÄËøëÊìç‰Ωú„Äë\nÂú®Êú¨ËΩÆÂØπËØùÂâçÔºåÁé©ÂÆ∂ËøõË°å‰∫Ü‰ª•‰∏ãÊìç‰ΩúÔºö\n${e.value.map(e=>{switch(e.type){case"train":return"ÊµÅÊ¥æ"===e.itemType?`Ëß£Êûê‰∫Ü„Ää${e.itemName}„ÄãÊµÅÊ¥æ`:`ËÆ≠ÁªÉ‰∫Ü„Ää${e.itemName}„ÄãÁ®ãÂ∫è`;case"equip":return`Ë£ÖÂ§á‰∫Ü„Ää${e.itemName}„Äã${e.itemType||"Ê≥ïÂÆù"}`;case"use":return e.description||`‰ΩøÁî®‰∫Ü„Ää${e.itemName}„Äã`;case"unequip":return`Âç∏‰∏ã‰∫Ü„Ää${e.itemName}„ÄãË£ÖÂ§á`;case"discard":return`‰∏¢ÂºÉ‰∫Ü„Ää${e.itemName}„Äã`;case"npc_trade":return`Â∞ùËØï‰∏é ${e.npcName} ‰∫§Êòì ${e.itemName}`;case"npc_request":return`Âêë ${e.npcName} Á¥¢Ë¶Å ${e.itemName}`;case"npc_steal":return`Â∞ùËØï‰ªé ${e.npcName} Ë∫´‰∏äÂÅ∑Âèñ ${e.itemName}`;case"npc_memory_summarize":return`‰Ω†ÂºÄÂßãÊï¥ÁêÜÂÖ≥‰∫é ${e.npcName} ÁöÑËÆ∞ÂøÜÁ¢éÁâáÔºåËØïÂõæ‰ªéÊúÄÊóßÁöÑ ${e.count||10} Êù°ËÆ∞ÂøÜ‰∏≠ÊÄªÁªìÂá∫ÂÖ≥ÈîÆ‰ø°ÊÅØ„ÄÇ`;default:return e.description}}).map(e=>`‚Ä¢ ${e}`).join("\n")}\n\n‚ö†Ô∏è **ÈáçË¶ÅÊèêÈÜí**ÔºöËØ∑‰ºòÂÖàÂü∫‰∫éËøô‰∫õÁé©ÂÆ∂Êìç‰ΩúÊù•ÁîüÊàêÂõûÂ∫îÔºÅÂÖàÂ§ÑÁêÜÂíåÂèçÊò†Ëøô‰∫õÂÖ∑‰ΩìÂä®‰ΩúÁöÑÁªìÊûúÔºåÁÑ∂ÂêéÂÜçÂõûÂ∫îÁî®Êà∑ËæìÂÖ•ÁöÑÊñáÊú¨ÂÜÖÂÆπ„ÄÇËøô‰∫õÊìç‰ΩúÂÖ∑ÊúâÊõ¥È´òÁöÑ‰ºòÂÖàÁ∫ßÔºåÂ∫îËØ•Âú®Âèô‰∫ã‰∏≠ÂæóÂà∞ÊòéÁ°Æ‰ΩìÁé∞„ÄÇ`,a=()=>{try{localStorage.setItem("dao_action_queue",JSON.stringify(e.value))}catch(e){console.warn("[Êìç‰ΩúÈòüÂàó] ‰øùÂ≠òÂà∞localStorageÂ§±Ë¥•:",e)}};return(()=>{try{const t=localStorage.getItem("dao_action_queue");if(t){const n=JSON.parse(t),a=Date.now()-36e5;e.value=n.filter(e=>e.timestamp>a),console.log("[Êìç‰ΩúÈòüÂàó] ‰ªéÂ≠òÂÇ®Âä†ËΩΩ",e.value.length,"‰∏™Êìç‰Ωú")}}catch(e){console.warn("[Êìç‰ΩúÈòüÂàó] ‰ªélocalStorageÂä†ËΩΩÂ§±Ë¥•:",e)}})(),{pendingActions:e,addAction:t=>{const n={...t,id:`action_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};"equip"===n.type?e.value=e.value.filter(e=>!("unequip"===e.type&&e.itemName===n.itemName)):"unequip"===n.type&&(e.value=e.value.filter(e=>!("equip"===e.type&&e.itemName===n.itemName))),"train"===n.type&&(e.value=e.value.filter(e=>"train"!==e.type)),"comprehend"===n.type&&(e.value=e.value.filter(e=>"comprehend"!==e.type));const r=e.value.findIndex(e=>e.type===t.type&&e.itemName===t.itemName);-1!==r?e.value[r]=n:e.value.push(n),console.log("[Êìç‰ΩúÈòüÂàó] Ê∑ªÂä†Êìç‰Ωú:",n),a()},removeAction:t=>{const n=e.value.findIndex(e=>e.id===t);if(-1!==n){const t=e.value.splice(n,1)[0];return console.log("[Êìç‰ΩúÈòüÂàó] ÁßªÈô§Êìç‰Ωú:",t),a(),t}return null},clearActions:t,getActionPrompt:n,consumeActions:()=>{const e=n();return e&&t(),e}}})},3353:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.state-change-overlay[data-v-a2a95590] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n}\n.state-change-viewer[data-v-a2a95590] {\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  background-color: var(--color-surface);\n  border-radius: 16px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n  display: flex;\n  flex-direction: column;\n  border: 1px solid var(--color-border);\n  animation: modal-fade-in-a2a95590 0.3s ease-out;\n}\n@keyframes modal-fade-in-a2a95590 {\nfrom {\n    opacity: 0;\n    transform: scale(0.95);\n}\nto {\n    opacity: 1;\n    transform: scale(1);\n}\n}\n.viewer-header[data-v-a2a95590] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1.25rem;\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.viewer-header h3[data-v-a2a95590] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.close-btn[data-v-a2a95590] {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  padding: 0.25rem;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n}\n.close-btn[data-v-a2a95590]:hover {\n  background-color: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.viewer-summary[data-v-a2a95590] {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: var(--color-surface-light);\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.summary-item[data-v-a2a95590] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n.summary-item.added[data-v-a2a95590] { color: var(--color-success);\n}\n.summary-item.removed[data-v-a2a95590] { color: #ff9800;\n}\n.summary-item.updated[data-v-a2a95590] { color: var(--color-info);\n}\n.summary-item.errors[data-v-a2a95590] { color: var(--color-error);\n}\n.viewer-content[data-v-a2a95590] {\n  overflow-y: auto;\n  padding: 1rem 1.25rem;\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-border) transparent;\n}\n.viewer-content[data-v-a2a95590]::-webkit-scrollbar { width: 6px;\n}\n.viewer-content[data-v-a2a95590]::-webkit-scrollbar-thumb {\n  background: var(--color-border);\n  border-radius: 3px;\n}\n.no-changes[data-v-a2a95590] {\n  text-align: center;\n  padding: 2rem;\n  color: var(--color-text-secondary);\n}\n.changes-list[data-v-a2a95590] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.change-item[data-v-a2a95590] {\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n  padding: 1rem;\n  border-radius: 10px;\n  border-left: 4px solid;\n  background: var(--color-surface-light);\n  transition: all 0.2s ease;\n}\n.change-item[data-v-a2a95590]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n.item-green[data-v-a2a95590] { border-color: var(--color-success);\n}\n.item-red[data-v-a2a95590] { border-color: var(--color-error);\n}\n.item-blue[data-v-a2a95590] { border-color: var(--color-info);\n}\n.item-gray[data-v-a2a95590] { border-color: var(--color-text-secondary);\n}\n.item-orange[data-v-a2a95590] { border-color: #ff9800;\n}\n.item-icon[data-v-a2a95590] {\n  flex-shrink: 0;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  color: white;\n}\n.item-green .item-icon[data-v-a2a95590] { background: var(--color-success);\n}\n.item-red .item-icon[data-v-a2a95590] { background: var(--color-error);\n}\n.item-blue .item-icon[data-v-a2a95590] { background: var(--color-info);\n}\n.item-gray .item-icon[data-v-a2a95590] { background: var(--color-text-secondary);\n}\n.item-orange .item-icon[data-v-a2a95590] { background: #ff9800;\n}\n.item-content[data-v-a2a95590] { flex: 1;\n}\n.item-title[data-v-a2a95590] {\n  margin: 0 0 0.25rem 0;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.item-description[data-v-a2a95590] {\n  margin: 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n.item-details[data-v-a2a95590] {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: rgba(0, 0, 0, 0.05);\n  border-radius: 6px;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  font-family: 'Courier New', monospace;\n}\n.item-details p[data-v-a2a95590] {\n  margin: 0.25rem 0;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n",""]);const s=i},3509:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.character-section[data-v-6cf48088] {\n  border-radius: 8px;\n  padding: 1rem;\n}\n.section-header[data-v-6cf48088] {\n  margin-bottom: 1rem;\n}\n.section-title[data-v-6cf48088] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.info-grid[data-v-6cf48088] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 1rem;\n}\n.info-item[data-v-6cf48088] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n}\n.info-label[data-v-6cf48088] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-value[data-v-6cf48088] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.data-detail[data-v-6cf48088] {\n  margin-top: 1rem;\n  border-top: 1px solid var(--color-border);\n  padding-top: 1rem;\n}\n.detail-title[data-v-6cf48088] {\n  margin: 0 0 1rem 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 0.5rem;\n}\n.code-pre[data-v-6cf48088] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  max-height: 60vh;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.85rem;\n  line-height: 1.5;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n}\n.empty-state[data-v-6cf48088] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  padding: 3rem;\n  color: var(--color-text-secondary);\n}\n\n/* ÊâãÊú∫Á´ØÈÄÇÈÖç */\n@media (max-width: 768px) {\n.code-pre[data-v-6cf48088] {\n    max-height: 50vh;\n    font-size: 0.8rem;\n    padding: 0.5rem;\n}\n.character-section[data-v-6cf48088] {\n    padding: 0.75rem;\n}\n.info-grid[data-v-6cf48088] {\n    grid-template-columns: 1fr;\n    gap: 0.75rem;\n}\n}\n@media (max-width: 480px) {\n.code-pre[data-v-6cf48088] {\n    max-height: 40vh;\n    font-size: 0.75rem;\n    padding: 0.4rem;\n}\n.character-section[data-v-6cf48088] {\n    padding: 0.5rem;\n}\n.empty-state[data-v-6cf48088] {\n    padding: 2rem;\n}\n}\n",""]);const s=i},3528:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},3625:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.game-variable-panel[data-v-2b49d13c] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n  overflow: hidden;\n}\n",""]);const s=i},3628:(e,t,n)=>{"use strict";var a=n(8648),r=n(1064),o=n(7176);e.exports=a?function(e){return a(e)}:r?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return r(e)}:o?function(e){return o(e)}:null},3830:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.body-stats-panel[data-v-7f6fd3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  animation: fade-in-7f6fd3e6 0.3s ease;\n}\n@keyframes fade-in-7f6fd3e6 {\nfrom { opacity: 0; transform: translateY(10px);\n}\nto { opacity: 1; transform: translateY(0);\n}\n}\n.privacy-notice[data-v-7f6fd3e6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px dashed var(--color-primary);\n  border-radius: 8px;\n  color: var(--color-primary);\n  font-size: 0.85rem;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n.empty-stats[data-v-7f6fd3e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  color: var(--color-text-secondary);\n  text-align: center;\n  background: var(--color-surface-light);\n  border-radius: 12px;\n  border: 1px dashed var(--color-border);\n}\n.empty-icon[data-v-7f6fd3e6] {\n  margin-bottom: 12px;\n  opacity: 0.5;\n}\n\n/* ÂØøÂÖÉÊ†∑Âºè */\n.lifespan-section[data-v-7f6fd3e6] {\n  background: linear-gradient(135deg, rgba(34, 211, 238, 0.08) 0%, rgba(56, 189, 248, 0.05) 100%);\n  border: 1px solid rgba(34, 211, 238, 0.2);\n}\n.lifespan-display[data-v-7f6fd3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.lifespan-info[data-v-7f6fd3e6] {\n  display: flex;\n  align-items: baseline;\n  gap: 4px;\n  font-family: monospace;\n}\n.lifespan-current[data-v-7f6fd3e6] {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: #22d3ee;\n}\n.lifespan-divider[data-v-7f6fd3e6] {\n  color: var(--color-text-secondary);\n  font-size: 1rem;\n}\n.lifespan-max[data-v-7f6fd3e6] {\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.lifespan-unit[data-v-7f6fd3e6] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin-left: 4px;\n}\n.lifespan-bar[data-v-7f6fd3e6] {\n  height: 8px;\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  overflow: hidden;\n}\n.lifespan-fill[data-v-7f6fd3e6] {\n  height: 100%;\n  background: linear-gradient(90deg, #22d3ee, #38bdf8);\n  border-radius: 4px;\n  transition: width 0.5s ease;\n}\n.lifespan-fill.warning[data-v-7f6fd3e6] {\n  background: linear-gradient(90deg, #fbbf24, #f59e0b);\n}\n.lifespan-fill.danger[data-v-7f6fd3e6] {\n  background: linear-gradient(90deg, #f87171, #ef4444);\n}\n.lifespan-hint[data-v-7f6fd3e6] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  text-align: right;\n}\n.sub-text[data-v-7f6fd3e6] {\n  font-size: 0.85rem;\n  opacity: 0.8;\n  margin-top: 4px;\n}\n.section-title[data-v-7f6fd3e6] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 16px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid var(--color-border);\n}\n.title-icon[data-v-7f6fd3e6] {\n  color: var(--color-primary);\n}\n.stats-grid[data-v-7f6fd3e6] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  gap: 12px;\n  margin-bottom: 16px;\n}\n.stat-card[data-v-7f6fd3e6] {\n  background: var(--color-surface);\n  padding: 12px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n.label[data-v-7f6fd3e6] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.value[data-v-7f6fd3e6] {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.unit[data-v-7f6fd3e6] {\n  font-size: 0.8rem;\n  font-weight: normal;\n  color: var(--color-text-secondary);\n}\n.tags-container[data-v-7f6fd3e6] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.feature-tag[data-v-7f6fd3e6] {\n  padding: 4px 10px;\n  background: var(--color-surface-hover);\n  border-radius: 12px;\n  font-size: 0.85rem;\n  color: var(--color-text);\n}\n.measurements-display[data-v-7f6fd3e6] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n  margin-bottom: 16px;\n  padding: 20px;\n  background: var(--color-surface);\n  border-radius: 12px;\n}\n.measurement-item[data-v-7f6fd3e6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.measure-circle[data-v-7f6fd3e6] {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  border: 2px solid var(--color-accent);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: rgba(var(--color-accent-rgb), 0.05);\n}\n.measure-val[data-v-7f6fd3e6] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: var(--color-accent);\n}\n.measure-label[data-v-7f6fd3e6] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n}\n.measurement-divider[data-v-7f6fd3e6] {\n  font-size: 1.5rem;\n  color: var(--color-border);\n  font-weight: 300;\n}\n.cup-display[data-v-7f6fd3e6] {\n  text-align: center;\n  font-size: 1rem;\n  color: var(--color-text);\n}\n.cup-value[data-v-7f6fd3e6] {\n  font-weight: 700;\n  color: var(--color-accent);\n  margin-left: 4px;\n}\n.description-list[data-v-7f6fd3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.desc-item[data-v-7f6fd3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n.desc-label[data-v-7f6fd3e6] {\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.desc-content[data-v-7f6fd3e6] {\n  margin: 0;\n  padding: 12px;\n  background: var(--color-surface);\n  border-radius: 8px;\n  font-size: 0.9rem;\n  line-height: 1.5;\n  color: var(--color-text);\n}\n.sensitive-points[data-v-7f6fd3e6] {\n  margin-bottom: 16px;\n}\n.sub-title[data-v-7f6fd3e6] {\n  display: block;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  margin-bottom: 8px;\n}\n.points-list[data-v-7f6fd3e6] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.point-tag[data-v-7f6fd3e6] {\n  padding: 4px 10px;\n  background: rgba(var(--color-danger-rgb), 0.1);\n  color: var(--color-danger);\n  border: 1px solid rgba(var(--color-danger-rgb), 0.2);\n  border-radius: 12px;\n  font-size: 0.85rem;\n}\n.development-list[data-v-7f6fd3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.dev-item[data-v-7f6fd3e6] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.dev-header[data-v-7f6fd3e6] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.85rem;\n}\n.dev-bar[data-v-7f6fd3e6] {\n  height: 8px;\n  background: var(--color-border);\n  border-radius: 4px;\n  overflow: hidden;\n}\n.dev-fill[data-v-7f6fd3e6] {\n  height: 100%;\n  background: linear-gradient(90deg, #f472b6, #ec4899);\n  border-radius: 4px;\n}\n.markings-list[data-v-7f6fd3e6] {\n  list-style: disc;\n  padding-left: 20px;\n  margin: 0;\n  color: var(--color-text);\n}\n.marking-item[data-v-7f6fd3e6] {\n  margin-bottom: 4px;\n}\n",""]);const s=i},3901:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.dialog-overlay[data-v-fc41b826] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.75);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  padding: 1rem;\n  animation: fadeIn-fc41b826 0.3s ease-out;\n}\n@keyframes fadeIn-fc41b826 {\nfrom { opacity: 0;\n}\nto { opacity: 1;\n}\n}\n.dialog-container[data-v-fc41b826] {\n  background-color: var(--color-surface);\n  border-radius: 16px;\n  padding: 2rem;\n  width: 100%;\n  max-width: 550px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border);\n  animation: slideInUp-fc41b826 0.4s cubic-bezier(0.25, 1, 0.5, 1);\n}\n@keyframes slideInUp-fc41b826 {\nfrom {\n    opacity: 0;\n    transform: translateY(30px) scale(0.98);\n}\nto {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n}\n}\n.dialog-header[data-v-fc41b826] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n  color: var(--color-danger);\n}\n.header-icon[data-v-fc41b826] {\n  flex-shrink: 0;\n}\n.header-title[data-v-fc41b826] {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n}\n.dialog-content[data-v-fc41b826] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n.content-lead[data-v-fc41b826] {\n  font-size: 1rem;\n  line-height: 1.6;\n  color: var(--color-text);\n}\n.error-list-container[data-v-fc41b826] {\n  background-color: rgba(var(--color-danger-rgb), 0.05);\n  border: 1px solid rgba(var(--color-danger-rgb), 0.2);\n  border-radius: 8px;\n  padding: 1rem;\n}\n.error-list-title[data-v-fc41b826] {\n  display: block;\n  margin-bottom: 0.75rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.error-list[data-v-fc41b826] {\n  list-style-type: none;\n  padding-left: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.error-item[data-v-fc41b826] {\n  font-family: 'Courier New', Courier, monospace;\n  font-size: 0.875rem;\n  color: var(--color-danger);\n  padding: 0.5rem;\n  background-color: rgba(var(--color-danger-rgb), 0.05);\n  border-radius: 4px;\n}\n.content-suggestion[data-v-fc41b826] {\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: var(--color-text-secondary);\n}\n.content-suggestion strong[data-v-fc41b826] {\n  color: var(--color-warning);\n  font-weight: 600;\n}\n.dialog-actions[data-v-fc41b826] {\n  display: flex;\n  justify-content: flex-end;\n}\n.action-button[data-v-fc41b826] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.confirm-button[data-v-fc41b826] {\n  background-color: var(--color-primary);\n  color: white;\n}\n.confirm-button[data-v-fc41b826]:hover {\n  background-color: var(--color-primary-hover);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n",""]);const s=i},3943:(e,t,n)=>{"use strict";n.d(t,{E0:()=>l,QS:()=>o,UZ:()=>d,wG:()=>u});var a=n(2224);function r(e){const t=e.ÂàÜÈíü??0;return 365*e.Âπ¥*24*60+30*e.Êúà*24*60+24*e.Êó•*60+60*e.Â∞èÊó∂+t}function o(e){if(e<=0)return"Â∑≤ËøáÊúü";if(e>=99999)return"Ê∞∏‰πÖ";const t=Math.floor(e/525600),n=Math.floor(e%525600/43200),a=Math.floor(e%43200/1440),r=Math.floor(e%1440/60),o=e%60,i=[];return t>0&&i.push(`${t}Âπ¥`),n>0&&i.push(`${n}Êúà`),a>0&&i.push(`${a}Â§©`),r>0&&i.push(`${r}Â∞èÊó∂`),o>0&&i.push(`${o}ÂàÜÈíü`),i.length>0?i.join(""):"‰∏çË∂≥1ÂàÜÈíü"}function i(e){if(!e||"string"!=typeof e)return 0;let t=0;const n=e.match(/(\d+)Âπ¥/);n&&(t+=365*parseInt(n[1])*24*60);const a=e.match(/(\d+)Êúà/);a&&(t+=30*parseInt(a[1])*24*60);const r=e.match(/(\d+)Â§©/);r&&(t+=24*parseInt(r[1])*60);const o=e.match(/(\d+)Â∞èÊó∂/);o&&(t+=60*parseInt(o[1]));const i=e.match(/(\d+)ÂàÜÈíü/);return i&&(t+=parseInt(i[1])),t}function s(e,t){if(e.ÁîüÊàêÊó∂Èó¥&&"number"==typeof e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü){if(e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü<0||e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü>=99999)return!1;const n=r(e.ÁîüÊàêÊó∂Èó¥);return r(t)-n>=e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü}return!(!e.Êó∂Èó¥||!e.Ââ©‰ΩôÊó∂Èó¥)&&i(e.Ââ©‰ΩôÊó∂Èó¥)<=0}function l(e,t){if(e.ÁîüÊàêÊó∂Èó¥&&"number"==typeof e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü){if(e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü<0||e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü>=99999)return 99999;const n=r(e.ÁîüÊàêÊó∂Èó¥),a=r(t)-n,o=e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü-a;return Math.max(0,o)}return 60}function c(e,t){try{if(!e||"object"!=typeof e)return console.warn("[Áä∂ÊÄÅÊïàÊûú] Êó†ÊïàÁöÑÁä∂ÊÄÅÊïàÊûúÊï∞ÊçÆ:",e),null;if(e.ÁîüÊàêÊó∂Èó¥&&"number"==typeof e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü)return e;const n={Áä∂ÊÄÅÂêçÁß∞:e.Áä∂ÊÄÅÂêçÁß∞||e.name||"Êú™Áü•Áä∂ÊÄÅ",Á±ªÂûã:e.Á±ªÂûã||e.type||"buff",ÁîüÊàêÊó∂Èó¥:{Âπ¥:t.Âπ¥,Êúà:t.Êúà,Êó•:t.Êó•,Â∞èÊó∂:t.Â∞èÊó∂||0,ÂàÜÈíü:t.ÂàÜÈíü??0},ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü:0,Áä∂ÊÄÅÊèèËø∞:e.Áä∂ÊÄÅÊèèËø∞||e.description||"Êó†ÊèèËø∞",Âº∫Â∫¶:e.Âº∫Â∫¶||e.intensity,Êù•Ê∫ê:e.Êù•Ê∫ê||e.source};return e.Ââ©‰ΩôÊó∂Èó¥?n.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü=i(e.Ââ©‰ΩôÊó∂Èó¥):e.duration?n.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü=i(e.duration):n.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü=60,n}catch(e){return console.error("[Áä∂ÊÄÅÊïàÊûú] ËßÑËåÉÂåñÁä∂ÊÄÅÊïàÊûúÂ§±Ë¥•:",e),null}}function d(e){const t=[];try{const n=(0,a.get)(e,"ËßíËâ≤.ÊïàÊûú",(0,a.get)(e,"ÊïàÊûú",[]));if(!Array.isArray(n)||0===n.length)return{removedEffects:t};const r=e.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥??e.Êó∂Èó¥;if(!r)return console.warn("[Áä∂ÊÄÅÊïàÊûú] Êó∂Èó¥‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïÊõ¥Êñ∞Áä∂ÊÄÅÊïàÊûú"),{removedEffects:t};const o=[];for(const e of n){if(!e||"object"!=typeof e){console.warn("[Áä∂ÊÄÅÊïàÊûú] Ë∑≥ËøáÊó†ÊïàÁöÑÁä∂ÊÄÅÊïàÊûú:",e);continue}const n=c(e,r);n?s(n,r)?(console.log(`[Áä∂ÊÄÅÊïàÊûú] Áä∂ÊÄÅÊïàÊûú"${n.Áä∂ÊÄÅÂêçÁß∞}"Â∑≤ËøáÊúüÔºåÂ∞ÜË¢´ÁßªÈô§`),t.push(n.Áä∂ÊÄÅÂêçÁß∞)):o.push(n):console.warn("[Áä∂ÊÄÅÊïàÊûú] Ë∑≥ËøáÊó†Ê≥ïËßÑËåÉÂåñÁöÑÁä∂ÊÄÅÊïàÊûú:",e)}return t.length>0&&(e.ËßíËâ≤||(e.ËßíËâ≤={}),(0,a.set)(e,"ËßíËâ≤.ÊïàÊûú",o)),{removedEffects:t}}catch(e){return console.error("[Áä∂ÊÄÅÊïàÊûú] Êõ¥Êñ∞Áä∂ÊÄÅÊïàÊûúÂ§±Ë¥•:",e),{removedEffects:t}}}function u(e,t){try{const n=(0,a.get)(e,"ËßíËâ≤.ÊïàÊûú",(0,a.get)(e,"ÊïàÊûú",[])),r=n.length;console.log("[Áä∂ÊÄÅÊïàÊûú-Ë∞ÉËØï] Â∞ùËØïÁßªÈô§:",t),console.log("[Áä∂ÊÄÅÊïàÊûú-Ë∞ÉËØï] ÂΩìÂâçÁä∂ÊÄÅÊïàÊûúÂàóË°®:",n.map(e=>e.Áä∂ÊÄÅÂêçÁß∞||e.name||"Êú™Áü•"));const o=n.filter(e=>(e.Áä∂ÊÄÅÂêçÁß∞||e.name)!==t);e.ËßíËâ≤||(e.ËßíËâ≤={}),(0,a.set)(e,"ËßíËâ≤.ÊïàÊûú",o);const i=r>o.length;return console.log("[Áä∂ÊÄÅÊïàÊûú-Ë∞ÉËØï] ÁßªÈô§ÁªìÊûú:",i?"ÊàêÂäü":"Â§±Ë¥•",`(${r} -> ${o.length})`),i}catch(e){return console.error("[Áä∂ÊÄÅÊïàÊûú] ÁßªÈô§Áä∂ÊÄÅÊïàÊûúÂ§±Ë¥•:",e),!1}}},3992:e=>{"use strict";e.exports=VueRouter},4039:(e,t,n)=>{"use strict";var a="undefined"!=typeof Symbol&&Symbol,r=n(1333);e.exports=function(){return"function"==typeof a&&"function"==typeof Symbol&&"symbol"==typeof a("foo")&&"symbol"==typeof Symbol("bar")&&r()}},4061:e=>{"use strict";e.exports=Vue},4178:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.modal-overlay[data-v-431f1334] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n}\n.modal-container[data-v-431f1334] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  width: 90%;\n  max-width: 500px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  animation: slideUp-431f1334 0.3s ease-out;\n}\n@keyframes slideUp-431f1334 {\nfrom {\n    opacity: 0;\n    transform: translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.modal-header[data-v-431f1334] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-title[data-v-431f1334] {\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--color-text);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.modal-close[data-v-431f1334] {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.modal-close[data-v-431f1334]:hover {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-text);\n}\n.modal-content[data-v-431f1334] {\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n}\n.form-group[data-v-431f1334] {\n  margin-bottom: 1.5rem;\n}\n.form-label[data-v-431f1334] {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n.required[data-v-431f1334] {\n  color: var(--color-danger);\n}\n.optional[data-v-431f1334] {\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  font-weight: normal;\n}\n.form-input[data-v-431f1334],\n.form-textarea[data-v-431f1334] {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 0.9rem;\n  font-family: inherit;\n  transition: all 0.2s ease;\n  box-sizing: border-box;\n}\n.form-input[data-v-431f1334]:focus,\n.form-textarea[data-v-431f1334]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  background: var(--color-surface-lighter);\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);\n}\n.form-textarea[data-v-431f1334] {\n  resize: vertical;\n  min-height: 80px;\n}\n.char-count[data-v-431f1334] {\n  margin-top: 0.25rem;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  text-align: right;\n}\n.preset-preview[data-v-431f1334] {\n  padding: 1rem;\n  background: rgba(var(--color-accent-rgb), 0.05);\n  border: 1px solid rgba(var(--color-accent-rgb), 0.15);\n  border-radius: 8px;\n  margin-top: 1rem;\n}\n.preview-header[data-v-431f1334] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.75rem;\n}\n.preview-tags[data-v-431f1334] {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.info-tag[data-v-431f1334] {\n  padding: 0.3rem 0.7rem;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n  border-radius: 12px;\n  font-size: 0.75rem;\n  color: var(--color-primary);\n}\n.info-tag.talent-tag[data-v-431f1334] {\n  background: rgba(var(--color-accent-rgb), 0.1);\n  border-color: rgba(var(--color-accent-rgb), 0.3);\n  color: var(--color-accent);\n  font-weight: 500;\n}\n.preset-info[data-v-431f1334] {\n  padding: 1rem;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.1);\n  border-radius: 6px;\n  margin-top: 1rem;\n}\n.info-item[data-v-431f1334] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.85rem;\n}\n.info-label[data-v-431f1334] {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-value[data-v-431f1334] {\n  color: var(--color-text);\n  font-family: 'Monaco', 'Courier New', monospace;\n}\n.modal-footer[data-v-431f1334] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding: 1.5rem;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n}\n.btn[data-v-431f1334] {\n  padding: 0.7rem 1.5rem;\n  border-radius: 6px;\n  border: none;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n.btn-cancel[data-v-431f1334] {\n  background: var(--color-surface-lighter);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-cancel[data-v-431f1334]:hover:not(:disabled) {\n  background: rgba(var(--color-text-rgb), 0.05);\n  border-color: var(--color-text-secondary);\n}\n.btn-confirm[data-v-431f1334] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: #fff;\n  border: none;\n  min-width: 120px;\n}\n.btn-confirm[data-v-431f1334]:hover:not(:disabled) {\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);\n  transform: translateY(-2px);\n}\n.btn-confirm[data-v-431f1334]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* ÁßªÂä®Á´ØÈÄÇÈÖç */\n@media (max-width: 768px) {\n.modal-container[data-v-431f1334] {\n    width: 95%;\n    max-width: 100%;\n    border-radius: 8px;\n}\n.modal-header[data-v-431f1334] {\n    padding: 1rem;\n}\n.modal-title[data-v-431f1334] {\n    font-size: 1.1rem;\n}\n.modal-content[data-v-431f1334] {\n    padding: 1rem;\n}\n.form-group[data-v-431f1334] {\n    margin-bottom: 1rem;\n}\n.modal-footer[data-v-431f1334] {\n    padding: 1rem;\n    flex-direction: column-reverse;\n    gap: 0.75rem;\n}\n.btn[data-v-431f1334] {\n    width: 100%;\n    padding: 0.8rem 1rem;\n}\n}\n",""]);const s=i},4191:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});class a{static buildPrompt(e){const t=e.factionCount,n=e.totalLocations,a=e.continentCount,r=Math.min(e.secretRealms,n);if(0===t&&0===n)return this.buildContinentsOnlyPrompt(e);const o=Math.max(2,Math.floor(.25*n)),i=Math.max(2,Math.floor(.25*n)),s=Math.max(1,Math.floor(.15*n)),l=Math.max(2,Math.floor(.2*n)),c=Math.max(0,n-o-i-s-l),d=Math.floor(r*(.3+.3*Math.random())),u=Math.floor(r*(.2+.3*Math.random())),m=Math.max(0,r-d-u),p=e.characterBackground?`\nËßíËâ≤Âá∫Ë∫´: ${e.characterBackground}`:"",g=e.worldBackground?`\n‰∏ñÁïåËÉåÊôØ: ${e.worldBackground}`:"",h=e.worldEra?`\n‰∏ñÁïåÊó∂‰ª£: ${e.worldEra}`:"",f=e.worldName?`\n‰∏ñÁïåÂêçÁß∞: ${e.worldName}`:"",v=e.mapConfig,b=Number(v?.minLng??0),y=Number(v?.minLat??0),x=Number(v?.width)||1e4,k=Number(v?.height)||1e4,w=Number(v?.maxLng??b+x),E=Number(v?.maxLat??y+k),N=Math.max(1,Math.floor(w-b)),S=Math.max(1,Math.floor(E-y)),_=Math.max(.6,Math.min(N,S)/1e4),V=Math.max(120,Math.round(150*_)),C=Math.max(240,Math.round(400*_)),A=Math.max(1e3,Math.round(2e3*_)),D=Math.max(2400,Math.round(5e3*_)),T=Date.now()+Math.floor(1e6*Math.random()),B=Math.random().toString(36).substring(7),I=Math.ceil(Math.sqrt(a)),M=Math.ceil(a/I),z=Math.floor(N/M),P=Math.floor(S/I),R=Math.floor(b+.25*N),$=Math.floor(y+.15*S),O=Math.floor(b+.23*N),L=Math.floor(b+.27*N),F=Math.floor(y+.13*S),j=Math.floor(y+.17*S);return`# ÈÉΩÂ∏ÇÂäøÂäõÂú∞ÂõæÁîüÊàê‰ªªÂä°\n\n‰ºöËØùID: ${B} | ÈöèÊú∫ÁßçÂ≠ê: ${T}\n\n## üéÆ Ê∏∏ÊàèÂùêÊ†áÁ≥ªÁªüËØ¥Êòé\n**ÈáçË¶Å**ÔºöÊú¨È°πÁõÆ‰ΩøÁî®Ê∏∏ÊàèÂùêÊ†áÁ≥ªÁªüÔºå‰∏çÊòØÁªèÁ∫¨Â∫¶ÔºÅ\n- ÂùêÊ†áËåÉÂõ¥Ôºöx: ${b}-${w}, y: ${y}-${E}ÔºàÂÉèÁ¥†ÂùêÊ†áÔºâ\n- ÂéüÁÇπ(${b},${y})Âú®Â∑¶‰∏äËßíÔºåxÂêëÂè≥Â¢ûÂä†ÔºåyÂêë‰∏ãÂ¢ûÂä†\n- ÊâÄÊúâ‰ΩçÁΩÆ„ÄÅËæπÁïå„ÄÅËåÉÂõ¥ÈÉΩÂøÖÈ°ª‰ΩøÁî®Ê≠§ÂùêÊ†áÁ≥ªÁªü\n- Á¶ÅÊ≠¢‰ΩøÁî®ÁªèÁ∫¨Â∫¶Êàñ‰ªª‰ΩïÂú∞ÁêÜÂùêÊ†áÁ≥ªÁªü\n\n## üö® ÊúÄÈ´ò‰ºòÂÖàÁ∫ßË¶ÅÊ±Ç\nÂøÖÈ°ªÁîüÊàêÂÆåÊï¥JSONÔºö\n1. continentsÊï∞ÁªÑÔºö${a}‰∏™Â§ßÊ¥≤ÔºàËæπÁïå‰∏çÈáçÂè†Ôºâ\n2. factionsÊï∞ÁªÑÔºö${t}‰∏™ÂäøÂäõÔºà‰∏çËÉΩ‰∏∫Á©∫Ôºâ\n3. locationsÊï∞ÁªÑÔºö${n}‰∏™Âú∞ÁÇπÔºà‰∏çËÉΩ‰∏∫Á©∫Ôºâ\n\n## üìê ÂàÜÂ∏É‰∏éÊï£ÁÇπË¶ÅÊ±ÇÔºàÂº∫Âà∂Ôºâ\n- Á¶ÅÊ≠¢ËÅöÈõÜÔºöÂäøÂäõ/Âú∞ÁÇπÂùêÊ†á‰∏çÂæóÈÉΩÊå§Âú®Âú∞Âõæ‰∏≠ÂøÉÊàñÂêå‰∏ÄÂå∫Âüü\n- Ë¶ÜÁõñÂÖ®ÈÉ®Â§ßÊ¥≤ÔºöÊØè‰∏™Â§ßÊ¥≤ÈÉΩË¶ÅÊúâÂäøÂäõÂíåÂú∞ÁÇπÔºå‰∏çËÉΩÂè™Âá∫Áé∞Âú®Âçï‰∏™Â§ßÊ¥≤\n- ËæπË∑ùÁïôÁôΩÔºöÂùêÊ†áÈúÄË∑ùÁ¶ªÂú∞ÂõæËæπÁºò‚â•2%ÂÆΩÈ´òÔºåÈÅøÂÖçË¥¥Ëæπ\n- ÁΩëÊ†ºÊï£ÁÇπÔºöÂêÑÂ§ßÊ¥≤ÂÜÖÈÉ®ÊåâÁΩëÊ†º/Ë±°ÈôêÂèñÊ†∑ÂùêÊ†áÔºåÁ°Æ‰øùÂçóÂåó/‰∏úË•øÊñπÂêëÈÉΩÊúâÁÇπ‰Ωç\n- ÂùêÊ†áÈöèÊú∫‰ΩÜÂàÜÊï£ÔºöÂêå‰∏ÄÂ§ßÊ¥≤ÁöÑÂäøÂäõ/Âú∞ÁÇπ‰ΩøÁî®‰∏çÂêåË±°ÈôêÁöÑÈöèÊú∫ÂÄºÔºåÈÅøÂÖçÂùêÊ†áÈáçÂè†\n\n## ‰∏ñÁïåËÆæÂÆö\n${p}${g}${h}${f}\n\n## üö® ‰∏ñÁïåÈ£éÊ†ºÈÄÇÈÖçÔºàÈáçË¶ÅÔºâ\n**ÂøÖÈ°ªÊ†πÊçÆ‰∏äËø∞‰∏ñÁïåËÉåÊôØÔºåËá™Ë°åÂà§Êñ≠Âπ∂ÈÄâÊã©ÂêàÈÄÇÁöÑÈ£éÊ†ºÔºö**\n- ÂëΩÂêçÈ£éÊ†ºÔºöÂäøÂäõ„ÄÅÂú∞ÁÇπÁöÑÂëΩÂêçÂøÖÈ°ªÁ¨¶Âêà‰∏ñÁïåËÉåÊôØËÆæÂÆö\n- Á≠âÁ∫ß‰ΩìÁ≥ªÔºöÊ†πÊçÆ‰∏ñÁïåËÉåÊôØÈÄâÊã©ÂêàÈÄÇÁöÑÁ≠âÁ∫ß‰ΩìÁ≥ªÔºàÂ¶ÇË°óÂ§¥‰∫∫/Ë∑ëËÄÖ/ÊΩúÂΩ±ËÄÖÁ≠âÔºâ\n- ÂäøÂäõÁ±ªÂûãÔºöÊ†πÊçÆ‰∏ñÁïåËÉåÊôØÈÄâÊã©ÂêàÈÄÇÁöÑÂäøÂäõÁ±ªÂûãÔºàÂ¶ÇÂÖ¨Âè∏„ÄÅÂ∏ÆÊ¥æ„ÄÅËµ∞ÁßÅËÅîÁõü„ÄÅÂÆâ‰øùÈõÜÂõ¢Á≠âÔºâ\n- ‰øùÊåÅ‰∏ÄËá¥ÊÄßÔºöÊï¥‰∏™‰∏ñÁïåÁöÑÈ£éÊ†ºÂøÖÈ°ªÁªü‰∏ÄÔºå‰∏çË¶ÅÊ∑∑Êê≠\n\n**Á¶ÅÁî®ËØçÊ†π**ÔºöÊú¨ÂøÉ„ÄÅÈóÆÂøÉ„ÄÅËßÅÊÄß„ÄÅÂΩí‰∏Ä„ÄÅÂ§™ÁéÑ„ÄÅÂ§™Ëôö„ÄÅÁ¥´Ëñá„ÄÅÂ§©Êú∫„ÄÅÈùíÈúû„ÄÅÊó†Èáè„ÄÅÊòäÂ§©„ÄÅÁéÑÂ§©„ÄÅÂ§™Ê∏Ö„ÄÅÂ§™‰∏ä„ÄÅÊó†ÊûÅ„ÄÅ‰πùÂ§©\n\n**ÈáçË¶Å**Ôºö\n- Âè™ÁîüÊàêcontinents/factions/locations‰∏â‰∏™Â≠óÊÆµ\n- ‰∏•Á¶ÅËæìÂá∫world_name/world_background/generation_info/player_spawn\n- ÊØèÊ¨°ÁîüÊàêÂøÖÈ°ªÊòæËëó‰∏çÂêåÔºåÈÅøÂÖçÂõ∫Âåñ\n\n## Ê†∏ÂøÉÂéüÂàô\n### ÈÉΩÂ∏Ç‰∏ñÁïåÂü∫Á°Ä\n- Ê†∏ÂøÉ‰ΩìÁ≥ª: ‰πâ‰Ωì„ÄÅÁΩëÁªú„ÄÅÂÖ¨Âè∏ÊùÉÂäõ„ÄÅÈªëÂ∏Ç‰∫§Êòì„ÄÅ‰ø°ÊÅØÊàò\n- ÊùÉÂäõÁªìÊûÑ: ËµÑÊ∫ê‰∏éÊùÉÈôê‰∏∫Â∞ä\n\n### Â§öÊ†∑ÊÄß‰∏éÂàõÊñ∞\n- ÂäøÂäõÂ§öÊ†∑Âåñ: ÊØèÊ¨°‰∏çÂêåÁ±ªÂûãÁªÑÂêà\n- Âú∞ÂêçÂàõÊñ∞: ÈÅøÂÖçÊ®°ÊùøÂåñ\n- ËßÑÊ®°Âπ≥Ë°°: Ê†πÊçÆËÉåÊôØË∞ÉÊï¥\n\n### ÂäøÂäõÂàÜÂ∏ÉÂèÇËÄÉ\nÂÖ¨Âè∏(35-45%) | Â∏ÆÊ¥æ(20-30%) | Ëµ∞ÁßÅËÅîÁõü(10-20%) | ÊÉÖÊä•ÁªÑÁªá(10-15%) | ÂÆâ‰øùÈõÜÂõ¢(5-15%) | ÈªëÂÆ¢Âõ¢‰Ωì(5-10%)\n\n## Â§ßÊ¥≤ÁîüÊàêË¶ÅÊ±ÇÔºà${a}‰∏™Ôºâ\n### üö® ÂÖ≥ÈîÆË¶ÅÊ±ÇÔºöÂ§ßÊ¥≤ÂøÖÈ°ªÂÆåÂÖ®Ë¶ÜÁõñÂú∞ÂõæÔºåËæπÁïåÂøÖÈ°ªÁõ∏ËøûÔºÅ\n\n### ÁΩëÊ†ºÂàÜÂâ≤Ê≥ïÔºàÂº∫Âà∂ÊâßË°åÔºâ\n- ÁΩëÊ†ºÂ∏ÉÂ±Ä: ${I}Ë°å √ó ${M}Âàó\n- XËΩ¥ÂàÜÊÆµ: ÊØèÊÆµ${z}ÂÉèÁ¥†ÔºàÊ∏∏ÊàèÂùêÊ†áÔºâ\n- YËΩ¥ÂàÜÊÆµ: ÊØèÊÆµ${P}ÂÉèÁ¥†ÔºàÊ∏∏ÊàèÂùêÊ†áÔºâ\n- ÊØè‰∏™Â§ßÊ¥≤Âç†ÊçÆ‰∏Ä‰∏™ÁΩëÊ†ºÂçïÂÖÉ\n\n### Â§ßÊ¥≤ËæπÁïåÁîüÊàêËßÑÂàôÔºàÈáçË¶ÅÔºÅÔºâ\n**ÂøÖÈ°ª‰ΩøÁî®‰ª•‰∏ãÊñπÊ≥ïÁ°Æ‰øùËæπÁïåÁõ∏ËøûÔºö**\n\n1. **Á¨¨‰∏Ä‰∏™Â§ßÊ¥≤ÔºàÂ∑¶‰∏äËßíÔºâ**Ôºö\n   - Â∑¶‰∏äËßí: (${b}, ${y})\n   - Âè≥‰∏äËßí: (${b+z}, ${y})\n   - Âè≥‰∏ãËßí: (${b+z}, ${y+P})\n   - Â∑¶‰∏ãËßí: (${b}, ${y+P})\n   - ÂèØÂú®‰∏≠Èó¥Ê∑ªÂä†1-2‰∏™ÁÇπÂΩ¢ÊàêËá™ÁÑ∂ÂΩ¢Áä∂\n\n2. **ÂÖ∂‰ªñÂ§ßÊ¥≤**Ôºö\n   - ÂøÖÈ°ª‰∏éÁõ∏ÈÇªÂ§ßÊ¥≤ÂÖ±‰∫´ËæπÁïåÁÇπ\n   - ÁΩëÊ†ºËæπÁïåÁöÑÂõõ‰∏™ËßíÁÇπÂøÖÈ°ªÁ≤æÁ°ÆÂØπÈΩê\n   - ÂèØÂú®ËæπÁïå‰∏≠Èó¥Ê∑ªÂä†1-2‰∏™ÁÇπÂΩ¢ÊàêËá™ÁÑ∂Êõ≤Á∫ø\n   - ÊÄªÁÇπÊï∞Ôºö4-6‰∏™ÔºàÊé®Ëçê4-5‰∏™Ôºâ\n\n### Â§ßÊ¥≤Ë¶ÅÊ±Ç\n- ËæπÁïå: 4-5‰∏™ÂùêÊ†áÁÇπÔºàÊúÄÂ§ö6‰∏™ÔºâÔºåÂΩ¢ÊàêÁÆÄÂçïÂ§öËæπÂΩ¢\n- ÂùêÊ†áÊ†ºÂºè: {"x": Êï¥Êï∞, "y": Êï¥Êï∞}ÔºåËåÉÂõ¥${b}-${w}\n- **Ë¶ÜÁõñ: ÂøÖÈ°ªÂÆåÂÖ®Ë¶ÜÁõñÂú∞ÂõæÔºåÁõ∏ÈÇªÂ§ßÊ¥≤ËæπÁïåÂøÖÈ°ªÁ≤æÁ°ÆÂØπÊé•Ôºå‰∏çÁïôÁ©∫Èöô**\n- ÂëΩÂêç: Áã¨ÁâπÂêçÁß∞ÔºåÈÅøÂÖçÊñπ‰ΩçËØçÔºåÁ¨¶Âêà‰∏ñÁïåËÉåÊôØ\n- ÊèèËø∞: ËØ¶ÁªÜÊèèËø∞Â§ßÈôÜÁöÑÂú∞ÁêÜÁâπÂæÅ„ÄÅÊ∞îÂÄô„ÄÅÊñáÂåñÁâπËâ≤\n- ÁâπËâ≤: Áã¨ÁâπÂú∞ÁêÜÁâπÂæÅÔºàÈõ™Âüü„ÄÅÊ≤ôÊº†„ÄÅÊ£ÆÊûó„ÄÅÂ±±ËÑâ„ÄÅÊµ∑Ê¥ãÁ≠âÔºâ\n- ÂäøÂäõ: ÊØè‰∏™Â§ßÊ¥≤1-3‰∏™‰∏ªË¶ÅÂäøÂäõ\n\n### Êé®ËçêÂΩ¢Áä∂ÔºàÁÆÄÂçïËßÑÂàôÔºâ\n- **Áü©ÂΩ¢Âèò‰Ωì**ÔºöÂú®Áü©ÂΩ¢Âü∫Á°Ä‰∏äÔºåÊüêÊù°Ëæπ‰∏≠Èó¥Âä†1‰∏™ÁÇπÂΩ¢ÊàêÂá∏Ëµ∑ÊàñÂáπÈô∑\n- **Ê¢ØÂΩ¢**Ôºö‰∏ä‰∏ãËæπ‰∏çÁ≠âÈïøÁöÑÂõõËæπÂΩ¢\n- **‰∫îËæπÂΩ¢**ÔºöÂú®Áü©ÂΩ¢Âü∫Á°Ä‰∏äÂàáÊéâ‰∏Ä‰∏™Ëßí\n- ‚ùå Á¶ÅÊ≠¢ÔºöÂ§çÊùÇÁöÑÂ§öËßíÊòüÂΩ¢„ÄÅ‰∏çËßÑÂàôÈîØÈΩøÁä∂\n\n### ËæπÁïåÈìÅÂæã\n- ‚úÖ Áõ∏ÈÇªÂ§ßÊ¥≤ÂøÖÈ°ªÂÖ±‰∫´ËæπÁïåÁÇπÔºàÁ≤æÁ°ÆÂà∞ÂÉèÁ¥†Ôºâ\n- ‚úÖ ÁΩëÊ†ºËßíÁÇπÂøÖÈ°ªÂØπÈΩêÔºàÂ¶Ç (${b+z}, ${y}) ÂøÖÈ°ªÊòØ‰∏§‰∏™Â§ßÊ¥≤ÁöÑÂÖ±ÂêåÈ°∂ÁÇπÔºâ\n- ‚úÖ ËæπÁïåÁÇπÊåâÈ°∫Êó∂ÈíàÊàñÈÄÜÊó∂ÈíàÈ°∫Â∫èÊéíÂàó\n- ‚úÖ ÂΩ¢Áä∂ÁÆÄÊ¥ÅÔºå‰∏çË¶ÅÂ•áÂΩ¢ÊÄ™Áä∂\n- ‚ùå Á¶ÅÊ≠¢ÔºöËæπÁïå‰∏≠Èó¥Êñ≠ÂºÄ„ÄÅÁïôÊúâÁ©∫Èöô\n- ‚ùå Á¶ÅÊ≠¢ÔºöË∑®Ë∂äÁΩëÊ†ºËæπÁïå\n- ‚ùå Á¶ÅÊ≠¢ÔºöËøá‰∫éÂ§çÊùÇÁöÑÂΩ¢Áä∂ÔºàË∂ÖËøá6‰∏™ÁÇπÔºâ\n\n## ÂäøÂäõÁîüÊàêË¶ÅÊ±ÇÔºà${t}‰∏™Ôºâ\n### ÂäøÂäõÁ≠âÁ∫ß‰∏éËßÑÊ®°\n- Ë∂ÖÁ∫ßÂäøÂäõÔºöÂäøÂäõËåÉÂõ¥Ë∑®Â∫¶‚âà${Math.round(1.2*C)} ÂÉèÁ¥†ÔºåÂç†Â§ßÊ¥≤Ê†∏ÂøÉÂå∫\n- ‰∏ÄÊµÅÂäøÂäõÔºö‚âà${Math.round((V+C)/2)} ÂÉèÁ¥†\n- ‰∫åÊµÅÂäøÂäõÔºö‚âà${Math.round(.9*V)} ÂÉèÁ¥†\n- ‰∏âÊµÅÂäøÂäõÔºö‚âà${Math.round(.7*V)} ÂÉèÁ¥†ÔºàÈù¢ÁßØÊúÄÂ∞èÔºâ\n- ÂãøÈöèÊÑè‰ΩøÁî®Ë∂ÖÂ§ßËåÉÂõ¥ÔºåÂøÖÈ°ª‰∏éÁ≠âÁ∫ßÂåπÈÖç\n\n### ËßÑÊ®°ÂÖ≥Á≥ªÔºàÊ∏∏ÊàèÂùêÊ†áÔºâ\n- Â§ßÊ¥≤: Ë∂ÖÂ§ßÂú∞ÁêÜÊùøÂùóÔºåË∑®Â∫¶${A}-${D}ÂÉèÁ¥†ÔºàÊ∏∏ÊàèÂùêÊ†áÔºâ\n- **ÂäøÂäõËåÉÂõ¥: Âç†Â§ßÊ¥≤3%-8%ÔºåË∑®Â∫¶${V}-${C}ÂÉèÁ¥†ÔºàÊ∏∏ÊàèÂùêÊ†áÔºâ** ‚ö†Ô∏è ‰∏çË¶ÅÂ§™Â§ßÔºÅ\n- ÂäøÂäõ‰ΩçÁΩÆ: ÂøÖÈ°ªÂú®ÂØπÂ∫îÂ§ßÊ¥≤ËæπÁïåÂÜÖÔºå‰ΩøÁî®Ê∏∏ÊàèÂùêÊ†á{"x": Êï∞Â≠ó, "y": Êï∞Â≠ó}\n- ÂäøÂäõËåÉÂõ¥ÂΩ¢Áä∂: ÁÆÄÂçïÁöÑ4-5ËæπÂΩ¢Ôºå‰∏çË¶ÅÂ§çÊùÇÂΩ¢Áä∂\n\n### ÂøÖÈúÄÂ≠óÊÆµ\n1. **Âü∫Á°Ä‰ø°ÊÅØ**\n   - ÂêçÁß∞„ÄÅÁ±ªÂûã„ÄÅÁ≠âÁ∫ßÔºàË∂ÖÁ∫ß/‰∏ÄÊµÅ/‰∫åÊµÅ/‰∏âÊµÅÔºâ\n   - ÊèèËø∞„ÄÅÂéÜÂè≤ËÉåÊôØ\n   - ÁâπËâ≤‰∏ìÈïøÔºàÊï∞ÁªÑÊ†ºÂºèÔºâ\n\n2. **È¢ÜÂØºÂ±ÇÂ≠óÊÆµ**ÔºàÂâçÁ´ØÁõ¥Êé•ÊòæÁ§∫Ôºâ\n\`\`\`json\n{\n  "Ë¥üË¥£‰∫∫": "ÂÖ∑‰ΩìÂßìÂêçÔºàÂ¶ÇÔºöÊûóÊõúÔºâ",\n  "Ë¥üË¥£‰∫∫Á≠âÁ∫ß": "ÂÖ∑‰ΩìÁ≠âÁ∫ßÔºàÂ¶ÇÔºöÊàòÊúØÂ§ßÂ∏à¬∑Âº∫ÂåñÔºâ",\n  "ÊúÄÈ´òÁ≠âÁ∫ß": "ÁªÑÁªáÊúÄÈ´òÁ≠âÁ∫ßÔºàÂøÖÂ°´Ôºâ",\n  "ÁªºÂêàÊàòÂäõ": Êï∞Â≠ó1-100,\n  "Ê†∏ÂøÉÊàêÂëòÊï∞": Êï∞Â≠ó,\n  "ÂÜÖÈÉ®ÊàêÂëòÊï∞": Êï∞Â≠ó,\n  "Â§ñÂõ¥ÊàêÂëòÊï∞": Êï∞Â≠ó\n}\n\`\`\`\n\n3. **ÊàêÂëòÊï∞ÈáèÂ≠óÊÆµ**ÔºàÂâçÁ´ØÊòæÁ§∫Ôºâ\n\`\`\`json\n{\n  "ÊÄªÊï∞": ÊÄª‰∫∫Êï∞,\n  "ÊåâÁ≠âÁ∫ß": {\n    // üö® Á≠âÁ∫ß‰∏çËÉΩË∂ÖËøáÈ¢ÜÂØºÂ±Ç.ÊúÄÈ´òÁ≠âÁ∫ß\n    // Á≠âÁ∫ßÔºöË°óÂ§¥‰∫∫ < Ë∑ëËÄÖ < ÊΩúÂΩ±ËÄÖ < Èõá‰Ω£ÁåéÊâã < ÊàòÊúØÂ§ßÂ∏à < ‰ºÅ‰∏öÁâπ‰Ωø < ÂπΩÁΩë‰∏ªÂÆ∞ < ÂüéÈÇ¶ÊâßÊéå < ‰º†ËØ¥Á∫ß\n    "Ë∑ëËÄÖ": Êï∞Èáè,\n    "ÊΩúÂΩ±ËÄÖ": Êï∞Èáè\n  },\n  "ÊåâËÅå‰Ωç": {\n    "Áã¨Ë°åËÄÖ": 0,\n    "Â§ñÂõ¥ÊàêÂëò": Êï∞Èáè,\n    "ÂÜÖÈÉ®ÊàêÂëò": Êï∞Èáè,\n    "Ê†∏ÂøÉÊàêÂëò": Êï∞Èáè,\n    "ÁªßÊâø‰∫∫": Êï∞Èáè,\n    "ÊâßË°åÂÆò": Êï∞Èáè,\n    "È°æÈóÆ": Êï∞Èáè,\n    "Ëë£‰∫ã": Êï∞ÈáèÔºàÂèØÈÄâÔºåÂ§ßÂäøÂäõÊâçÊúâÔºâ,\n    "ÂâØÈ¶ñÈ¢Ü": 1,\n    "È¶ñÈ¢Ü": 1\n  }\n}\n\`\`\`\n\n### Êï∞ÊçÆ‰∏ÄËá¥ÊÄß\n- ÊÄªÊï∞ = ÊåâËÅå‰ΩçÊâÄÊúâËÅå‰ΩçÊÄªÂíå\n- ÊåâÁ≠âÁ∫ßÊÄªÂíå = ÊÄªÊï∞\n- ÊåâÁ≠âÁ∫ß ‚â§ ÊúÄÈ´òÁ≠âÁ∫ß\n- ÊâÄÊúâÊï∞ÂÄºÂøÖÈ°ªÊòØÊï∞Â≠óÁ±ªÂûã\n\n### ‰∫∫ÂêçË¶ÅÊ±Ç\n- ÂÖ∑‰Ωì‰∏≠ÂºèÂßìÂêçÔºàÊ¨ßÈò≥ÁÉàÈ£é„ÄÅÂè∏Âæí‰∫ëÈõÖ„ÄÅÁã¨Â≠§ÂâëÂøÉÔºâ\n- 2-3‰∏™Ê±âÂ≠óÔºåÁ¨¶Âêà‰º†ÁªüÂëΩÂêç\n- ÊØè‰∏™‰∫∫ÂêçÂîØ‰∏ÄÔºå‰∏çÈáçÂ§ç\n\n## Âú∞ÁÇπÁîüÊàêË¶ÅÊ±ÇÔºà${n}‰∏™Ôºâ\n### ÂàÜÂ∏É\n- ÂüéÂ∏ÇÂ§©ÈôÖÁ∫ø: ${l}‰∏™\n- ÂüéÂå∫ÈõÜÊï£Âú∞: ${o}‰∏™\n- ÁâπÊÆäÂú∞ÁÇπ: ${i}‰∏™\n- Âç±Èô©Âå∫Âüü: ${s}‰∏™\n- ÂÖ∂‰ªñÂú∞ÁÇπ: ${c}‰∏™\n- ÂùáÂåÄÊï£ÁÇπÔºöÂêÑÂ§ßÊ¥≤ÈÉΩË¶ÅÊúâÂú∞ÁÇπÔºåÁ¶ÅÊ≠¢ÊâÄÊúâÂú∞ÁÇπÈõÜ‰∏≠Âú®Âú∞Âõæ‰∏≠ÂøÉÊàñÂçï‰∏ÄÂ§ßÊ¥≤\n- ÂùêÊ†áË±°ÈôêÔºöÂêå‰∏ÄÂ§ßÊ¥≤ÁöÑÂú∞ÁÇπËØ∑ÂàÜÂ∏ÉÂú®‰∏çÂêåË±°ÈôêÔºå‰øùÊåÅ‰∏úË•ø/ÂçóÂåóÊñπÂêëÁöÑÂπ≥Ë°°\n\n### 6ÁßçÊ†áÂáÜÁ±ªÂûãÔºàÂÖ®ÈÉ®‰ΩøÁî®‰∏≠ÊñáÔºâ\n1. ÂüéÂ∏ÇÂ§©ÈôÖÁ∫ø - ÈÉΩÂ∏ÇÂú∞Ê†áÔºàÊë©Â§©Ê•º„ÄÅÂ∑®ÊûÑÔºâ\n2. ÂüéÂå∫ÈõÜÊï£Âú∞ - ÂüéÂ∏ÇËÅöÂ±ÖÂú∞ÔºàÂïÜ‰∏öË°ó„ÄÅ‰∫§ÈÄöÊû¢Á∫ΩÔºâ\n3. Ê†∏ÂøÉËäÇÁÇπ - È´ò‰ª∑ÂÄºÂå∫ÂüüÔºàÊï∞ÊçÆ‰∏≠ÂøÉ„ÄÅÊ†∏ÂøÉÊú∫ÊàøÔºâ\n4. ËµÑÊ∫êËäÇÁÇπ - ËµÑÊ∫ê‰∫ßÂú∞ÔºàÁüøÂå∫„ÄÅÂõûÊî∂Á´ôÔºâ\n5. È´òÂç±Âå∫Âüü - Âç±Èô©Âå∫ÂüüÔºàÈªëÁΩëË£ÇÈöô„ÄÅËæêÂ∞ÑÂå∫Ôºâ\n6. ÂÖ∂‰ªñÁâπÊÆä - ÁâπÊÆäÂú∞ÁÇπÔºàÈÅóËøπ„ÄÅÂ∞ÅÂ≠òÂÖ•Âè£Ôºâ\n\n### ÁâπÊÆäÂ±ûÊÄßÔºà${r}‰∏™Ôºâ\n- È´ò‰ª∑ÂÄºËäÇÁÇπ: ${d}‰∏™\n- ÈÅóÁïôËÆæÊñΩ: ${u}‰∏™\n- È´òÂç±Á¶ÅÂå∫: ${m}‰∏™\n\n### Âú∞ÁÇπÂùêÊ†áË¶ÅÊ±ÇÔºàÈáçË¶ÅÔºâ\n- ÂùêÊ†áÊ†ºÂºè: "ÂùêÊ†á": {"x": Êï∞Â≠ó, "y": Êï∞Â≠ó}\n- ÂùêÊ†áËåÉÂõ¥: xÂíåyÂøÖÈ°ªÂú®${b}-${w}‰πãÈó¥ÔºàÊ∏∏ÊàèÂùêÊ†áÔºâ\n- Âú∞ÁÇπ‰ΩçÁΩÆÂøÖÈ°ªÂú®ÂØπÂ∫îÂ§ßÊ¥≤ËæπÁïåÂÜÖ\n- ÂèØÂú®ÂäøÂäõËåÉÂõ¥ÂÜÖÂ§ñ\n- ‰∏≠Á´ãÂú∞ÁÇπÂèØ‰∏çÂ±û‰∫é‰ªª‰ΩïÂäøÂäõ\n- Á¶ÅÊ≠¢‰ΩøÁî®ÁªèÁ∫¨Â∫¶ÊàñÂÖ∂‰ªñÂùêÊ†áÁ≥ªÁªü\n\n## Êï∞ÊçÆÁªìÊûÑÊ£ÄÊü•\n### ‰∏•Á¶ÅÈîôËØØÊ†ºÂºè\n- ‚úó Á©∫Êï∞ÁªÑ: "ÂäøÂäõËåÉÂõ¥": []\n- ‚úó Á©∫Êï∞ÁªÑ: "Â§ßÊ¥≤ËæπÁïå": []\n- ‚úó Á©∫Êï∞ÁªÑ: "Âú∞ÁêÜÁâπÂæÅ": []\n- ‚úó Á©∫Êï∞ÁªÑ: "Â§©ÁÑ∂Â±èÈöú": []\n- ‚úó Êó†ÊïàÂùêÊ†á: "‰ΩçÁΩÆ": "ÂàùÂßãÂú∞"\n- ‚úó Áº∫Â§±ÂøÖÈúÄÂ≠óÊÆµ\n- ‚úó ÂäøÂäõËåÉÂõ¥Â∞ë‰∫é4‰∏™ÁÇπ\n- ‚úó Â§ßÊ¥≤ËæπÁïåÂ∞ë‰∫é4‰∏™ÁÇπÊàñË∂ÖËøá8‰∏™ÁÇπ\n- ‚úó Â§ßÊ¥≤ËæπÁïåÁÇπÈ°∫Â∫èÈîôËØØÔºàÂøÖÈ°ªÊåâÈ°∫Êó∂ÈíàÊàñÈÄÜÊó∂ÈíàÊéíÂàóÔºåÁõ∏ÈÇªÁÇπËøûÊé•Ôºâ\n\n### ÂøÖÈúÄÂ≠óÊÆµ\n**ÂäøÂäõ**Ôºö\n- ‰ΩçÁΩÆÔºàÂØπË±°ÔºåÊ∏∏ÊàèÂùêÊ†áÔºâ: {"x": Êï∞Â≠ó, "y": Êï∞Â≠ó}\n- ÂäøÂäõËåÉÂõ¥Ôºà‚â•4ÁÇπÔºåÊåâÈ°∫Êó∂ÈíàÊàñÈÄÜÊó∂ÈíàÈ°∫Â∫èÔºåÊ∏∏ÊàèÂùêÊ†áÔºâ\n- È¢ÜÂØºÂ±ÇÔºàÂÆåÊï¥Ôºâ\n- ÊàêÂëòÊï∞ÈáèÔºàÂÆåÊï¥Ôºâ\n\n**Âú∞ÁÇπ**Ôºö\n- ÂùêÊ†áÔºàÂØπË±°ÔºåÊ∏∏ÊàèÂùêÊ†áÔºâ: {"x": Êï∞Â≠ó, "y": Êï∞Â≠ó}\n- ÂêçÁß∞ÔºàÂ≠óÁ¨¶‰∏≤Ôºâ\n- Á±ªÂûãÔºà7ÁßçÁ±ªÂûã‰πã‰∏ÄÔºâ\n- ÊèèËø∞ÔºàËØ¶ÁªÜÊèèËø∞Ôºâ\n\n**Â§ßÊ¥≤**Ôºö\n- Â§ßÊ¥≤ËæπÁïåÔºà4-6ÁÇπÔºåÊé®Ëçê4-5ÁÇπÔºå**ÂøÖÈ°ªÊåâÈ°∫Êó∂ÈíàÊàñÈÄÜÊó∂ÈíàÈ°∫Â∫èÊéíÂàóÂΩ¢ÊàêÈó≠ÂêàÂ§öËæπÂΩ¢**ÔºåÊ∏∏ÊàèÂùêÊ†áÔºâ\n- Âú∞ÁêÜÁâπÂæÅÔºà‚â•3‰∏™Ôºâ\n- Â§©ÁÑ∂Â±èÈöúÔºà‚â•2‰∏™Ôºâ\n- ÊèèËø∞ÔºàËØ¶ÁªÜÁöÑÂú∞ÁêÜÂíåÊñáÂåñÊèèËø∞Ôºâ\n\n## JSONËæìÂá∫Ê†ºÂºè\n\`\`\`json\n{\n  "continents": [\n    {\n      "id": "continent_1",\n      "ÂêçÁß∞": "Â§ßÊ¥≤ÂêçÁß∞",\n      "ÊèèËø∞": "Âú∞ÁêÜÁâπÂæÅÂíåÊñáÂåñÊèèËø∞",\n      "Ê∞îÂÄô": "Ê∞îÂÄôÁ±ªÂûã",\n      "Âú∞ÁêÜÁâπÂæÅ": ["ÁâπÂæÅ1", "ÁâπÂæÅ2", "ÁâπÂæÅ3"],\n      "Â§©ÁÑ∂Â±èÈöú": ["Â±èÈöú1", "Â±èÈöú2"],\n      "Â§ßÊ¥≤ËæπÁïå": [\n        {"x": ${b}, "y": ${y}},\n        {"x": ${b+z}, "y": ${y}},\n        {"x": ${b+z}, "y": ${y+P}},\n        {"x": ${b}, "y": ${y+P}}\n      ],\n      // ‚ö†Ô∏è Ê∏∏ÊàèÂùêÊ†áÁ≥ªÁªüÔºöx: ${b}-${w}, y: ${y}-${E}ÔºàÂÉèÁ¥†ÂùêÊ†áÔºå‰∏çÊòØÁªèÁ∫¨Â∫¶Ôºâ\n      // ‚ö†Ô∏è Â§ßÊ¥≤ËæπÁïåÂøÖÈ°ªÊåâÈ°∫Êó∂ÈíàÊàñÈÄÜÊó∂ÈíàÈ°∫Â∫èÊéíÂàóÔºåÁõ∏ÈÇªÁÇπËøûÊé•ÂΩ¢ÊàêÈó≠ÂêàÂ§öËæπÂΩ¢\n      // ‚ö†Ô∏è Áõ∏ÈÇªÂ§ßÊ¥≤ÂøÖÈ°ªÂÖ±‰∫´ËæπÁïåÁÇπÔºåÁ°Æ‰øùÊó†ÁºùÂØπÊé•ÔºÅ\n      // ‚ö†Ô∏è ÁΩëÊ†ºËßíÁÇπÂøÖÈ°ªÁ≤æÁ°ÆÂØπÈΩêÔºàÂ¶ÇÁ¨¨‰∏Ä‰∏™Â§ßÊ¥≤ÁöÑÂè≥‰∏äËßí (${b+z}, ${y}) ÂøÖÈ°ªÊòØÁ¨¨‰∫å‰∏™Â§ßÊ¥≤ÁöÑÂ∑¶‰∏äËßíÔºâ\n      // ‚ö†Ô∏è Êé®Ëçê4-5‰∏™ÁÇπÔºåÊúÄÂ§ö6‰∏™ÁÇπÔºå‰øùÊåÅÂΩ¢Áä∂ÁÆÄÊ¥Å\n      // ‚ö†Ô∏è Á§∫‰æãÔºöÁü©ÂΩ¢Âèò‰ΩìÂèØ‰ª•Âú®Âè≥Ëæπ‰∏≠Èó¥Âä†‰∏Ä‰∏™ÁÇπ {"x": ${b+z}, "y": ${y+Math.floor(P/2)}} ÂΩ¢ÊàêÂá∏Ëµ∑\n      "‰∏ªË¶ÅÂäøÂäõ": ["ÂäøÂäõIDÂàóË°®"]\n    }\n  ],\n  "factions": [\n    {\n      "id": "faction_1",\n      "ÂêçÁß∞": "ÂäøÂäõÂêçÁß∞",\n      "Á±ªÂûã": "ÂÖ¨Âè∏/Â∏ÆÊ¥æ/Ëµ∞ÁßÅËÅîÁõü/ÊÉÖÊä•ÁªÑÁªáÁ≠â",\n      "Á≠âÁ∫ß": "Ë∂ÖÁ∫ß/‰∏ÄÊµÅ/‰∫åÊµÅ/‰∏âÊµÅ",\n      "ÊèèËø∞": "ÂäøÂäõËÉåÊôØÊèèËø∞",\n      "ÁâπËâ≤": ["‰∏ìÈïø1", "‰∏ìÈïø2"],\n      "‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª": "‰∏≠Á´ã",\n      "Â£∞ÊúõÂÄº": "Á®ãÂ∫èËá™Âä®ËÆ°ÁÆó",\n      "‰ΩçÁΩÆ": {"x": ${R}, "y": ${$}},\n      // ‚ö†Ô∏è ‰ΩçÁΩÆ‰ΩøÁî®Ê∏∏ÊàèÂùêÊ†á (${b}-${w})Ôºå‰∏çÊòØÁªèÁ∫¨Â∫¶\n      "ÂäøÂäõËåÉÂõ¥": [\n        {"x": ${O}, "y": ${F}},\n        {"x": ${L}, "y": ${F}},\n        {"x": ${L}, "y": ${j}},\n        {"x": ${O}, "y": ${j}}\n      ],\n      // ‚ö†Ô∏è ÂäøÂäõËåÉÂõ¥ÂùêÊ†áÂøÖÈ°ªÂú®Ê∏∏ÊàèÂùêÊ†áÁ≥ªÁªüÂÜÖ (${b}-${w})Ôºå‰∏çÊòØÁªèÁ∫¨Â∫¶\n      // ‚ö†Ô∏è ÂäøÂäõËåÉÂõ¥ÂøÖÈ°ªÊåâÈ°∫Êó∂ÈíàÊàñÈÄÜÊó∂ÈíàÈ°∫Â∫èÊéíÂàó\n      // ‚ö†Ô∏è ÂäøÂäõËåÉÂõ¥ÂøÖÈ°ªÂú®ÂØπÂ∫îÂ§ßÊ¥≤ËæπÁïåÂÜÖ\n      // ‚ö†Ô∏è ÂäøÂäõËåÉÂõ¥‰∏çË¶ÅÂ§™Â§ßÔºÅË∑®Â∫¶Âª∫ËÆÆ${V}-${C}ÂÉèÁ¥†ÔºåÂç†Â§ßÊ¥≤3%-8%\n      // ‚ö†Ô∏è ÂΩ¢Áä∂ÁÆÄÂçïÔºö4-5‰∏™ÁÇπÁöÑÁü©ÂΩ¢Êàñ‰∫îËæπÂΩ¢Âç≥ÂèØ\n      "È¢ÜÂØºÂ±Ç": {\n        "È¶ñÈ¢Ü": "Ê¨ßÈò≥ÁÉàÈ£é",\n        "È¶ñÈ¢ÜÁ≠âÁ∫ß": "Ê†∏ÂøÉÁ∫ß‰∏≠Êúü",\n        "ÂâØÈ¶ñÈ¢Ü": "ÁéãÊòéÊúà",\n        "ÊúÄÂº∫Á≠âÁ∫ß": "Ê†∏ÂøÉÁ∫ßÂúÜÊª°",\n        "ÁªºÂêàÊàòÂäõ": 85,\n        "Ê†∏ÂøÉÊàêÂëòÊï∞": 50,\n        "ÂÜÖÈÉ®ÊàêÂëòÊï∞": 300,\n        "Â§ñÂõ¥ÊàêÂëòÊï∞": 1200\n      },\n      "ÊàêÂëòÊï∞Èáè": {\n        "ÊÄªÊï∞": 1565,\n        "ÊåâÈò∂‰Ωç": {\n          "Ë°óÂå∫Á∫ß": 1200,\n          "Âå∫ÂüüÁ∫ß": 300,\n          "ÂüéÂ∏ÇÁ∫ß": 50,\n          "Ê†∏ÂøÉÁ∫ß": 10,\n          "‰∏ªÂÆ∞Á∫ß": 5\n        },\n        "ÊåâËÅå‰Ωç": {\n          "Áã¨Ë°åËÄÖ": 0,\n          "Â§ñÂõ¥ÊàêÂëò": 1200,\n          "ÂÜÖÈÉ®ÊàêÂëò": 300,\n          "Ê†∏ÂøÉÊàêÂëò": 50,\n          "ÁªßÊâø‰∫∫": 10,\n          "ÊâßË°åÂÆò": 20,\n          "È°æÈóÆ": 15,\n          "Ëë£‰∫ã": 1,\n          "ÂâØÈ¶ñÈ¢Ü": 1,\n          "È¶ñÈ¢Ü": 1\n        }\n      },\n      "ÊâÄÂ±ûÂ§ßÊ¥≤": "continent_1"\n    }\n  ],\n  "locations": [\n    {\n      "id": "loc_1",\n      "ÂêçÁß∞": "Âú∞ÁÇπÂêçÁß∞",\n      "Á±ªÂûã": "ÂüéÂå∫/ÂïÜ‰ºö/ÈªëÂ∏Ç/Á¶ÅÂå∫/Èô©Âú∞/ÈÅøÈöæÊâÄ",\n      "ÂùêÊ†á": {"x": 2500, "y": 1500},\n      // ‚ö†Ô∏è Âú∞ÁÇπÂùêÊ†á‰ΩøÁî®Ê∏∏ÊàèÂùêÊ†áÁ≥ªÁªü (${b}-${w})Ôºå‰∏çÊòØÁªèÁ∫¨Â∫¶\n      // ‚ö†Ô∏è Âú∞ÁÇπÂùêÊ†áÂøÖÈ°ªÂú®ÂØπÂ∫îÂ§ßÊ¥≤ËæπÁïåÂÜÖ\n      // ‚ö†Ô∏è Á±ªÂûãÂøÖÈ°ªÊòØ‰∏≠ÊñáÔºöÂüéÂå∫/ÂïÜ‰ºö/ÈªëÂ∏Ç/Á¶ÅÂå∫/Èô©Âú∞/ÈÅøÈöæÊâÄ/ÂÖ∂‰ªñÁâπÊÆä\n      "ÊèèËø∞": "Âú∞ÁÇπËØ¶ÁªÜÊèèËø∞",\n      "ÂÆâÂÖ®Á≠âÁ∫ß": "ÂÆâÂÖ®",\n      "ÈÄÇÂêàÈò∂‰Ωç": ["Ë°óÂå∫Á∫ß‰ª•‰∏ä"],\n      "ÊâÄÂ±ûÂäøÂäõ": "ÈúìËôπËÆÆ‰ºö",\n      "ÁâπÊÆäÁâπÂæÅ": ["Èò≤ÁÅ´Â¢ôÁü©Èòµ", "Êï∞ÊçÆÊµÅÂØÜÈõÜ"],\n      "ÁâπÊÆäÂ±ûÊÄß": []\n    }\n  ]\n}\n\`\`\`\n\n## ÊúÄÁªàÊ£ÄÊü•Ê∏ÖÂçï\nÁîüÊàêÂâçÂøÖÈ°ªÁ°ÆËÆ§Ôºö\n1. ‚úÖ continentsÊï∞ÁªÑÊúâ${a}‰∏™ÂØπË±°ÔºåËæπÁïå‰∏çÈáçÂè†\n2. ‚úÖ factionsÊï∞ÁªÑÊúâ${t}‰∏™ÂØπË±°Ôºà‰∏çÊòØ0‰∏™Ôºâ\n3. ‚úÖ locationsÊï∞ÁªÑÊúâ${n}‰∏™ÂØπË±°Ôºà‰∏çÊòØ0‰∏™Ôºâ\n4. ‚úÖ ÊØè‰∏™ÂäøÂäõÊúâÂÆåÊï¥È¢ÜÂØºÂ±ÇÂíåÊàêÂëòÊï∞Èáè\n5. ‚úÖ ÊØè‰∏™ÂäøÂäõËåÉÂõ¥‚â•4‰∏™ÂùêÊ†áÁÇπ\n6. ‚úÖ ÊØè‰∏™Â§ßÊ¥≤ËæπÁïå4-8‰∏™ÂùêÊ†áÁÇπ\n7. ‚úÖ ÊâÄÊúâÂùêÊ†á‰∏∫Êï∞Â≠óÁ±ªÂûãÔºåËåÉÂõ¥Âú®${b}-${w}‰πãÈó¥\n8. ‚úÖ ÊàêÂëòÊï∞ÈáèÊï∞ÊçÆ‰∏ÄËá¥ÊÄß\n9. ‚úÖ ÊåâÈò∂‰Ωç‚â§ÊúÄÈ´òÈò∂‰Ωç\n10. ‚úÖ ÈÅøÂÖçÈáçÂ§çÂêçÁß∞\n\nüî• Ê†∏ÂøÉÁõÆÊ†áÔºöÂàõÈÄ†Áã¨‰∏ÄÊó†‰∫åÁöÑ‰∏ñÁïåÔºåÂåÖÂê´ÂÆåÊï¥ÂäøÂäõÁªÑÁªáÊû∂ÊûÑÔºÅ\n\nÁé∞Âú®ËØ∑ÁîüÊàêÂÆåÊï¥JSONÊï∞ÊçÆÔºåÁ°Æ‰øùÊâÄÊúâÊï∞ÁªÑÈÉΩ‰∏ç‰∏∫Á©∫ÔºÅ\n`}static buildContinentsOnlyPrompt(e){const t=e.continentCount,n=e.characterBackground?`\nËßíËâ≤Âá∫Ë∫´: ${e.characterBackground}`:"",a=e.worldBackground?`\n‰∏ñÁïåËÉåÊôØ: ${e.worldBackground}`:"",r=e.worldEra?`\n‰∏ñÁïåÊó∂‰ª£: ${e.worldEra}`:"",o=e.worldName?`\n‰∏ñÁïåÂêçÁß∞: ${e.worldName}`:"",i=e.mapConfig,s=Number(i?.minLng??0),l=Number(i?.minLat??0),c=Number(i?.width)||1e4,d=Number(i?.height)||1e4,u=Number(i?.maxLng??s+c),m=Number(i?.maxLat??l+d),p=Math.max(1,Math.floor(u-s)),g=Math.max(1,Math.floor(m-l)),h=Date.now()+Math.floor(1e6*Math.random()),f=Math.random().toString(36).substring(7),v=Math.ceil(Math.sqrt(t)),b=Math.ceil(t/v),y=Math.floor(p/b),x=Math.floor(g/v);return`# ‰∏ñÁïåÂ§ßÈôÜÊ°ÜÊû∂ÁîüÊàê‰ªªÂä°ÔºàÁÆÄÂåñÊ®°ÂºèÔºâ\n\n‰ºöËØùID: ${f} | ÈöèÊú∫ÁßçÂ≠ê: ${h}\n\n## üéÆ Ê∏∏ÊàèÂùêÊ†áÁ≥ªÁªüËØ¥Êòé\n**ÈáçË¶Å**ÔºöÊú¨È°πÁõÆ‰ΩøÁî®Ê∏∏ÊàèÂùêÊ†áÁ≥ªÁªüÔºå‰∏çÊòØÁªèÁ∫¨Â∫¶ÔºÅ\n- ÂùêÊ†áËåÉÂõ¥Ôºöx: ${s}-${u}, y: ${l}-${m}ÔºàÂÉèÁ¥†ÂùêÊ†áÔºâ\n- ÂéüÁÇπ(${s},${l})Âú®Â∑¶‰∏äËßíÔºåxÂêëÂè≥Â¢ûÂä†ÔºåyÂêë‰∏ãÂ¢ûÂä†\n- ÊâÄÊúâËæπÁïåÈÉΩÂøÖÈ°ª‰ΩøÁî®Ê≠§ÂùêÊ†áÁ≥ªÁªü\n- Á¶ÅÊ≠¢‰ΩøÁî®ÁªèÁ∫¨Â∫¶Êàñ‰ªª‰ΩïÂú∞ÁêÜÂùêÊ†áÁ≥ªÁªü\n\n## üö® ÊúÄÈ´ò‰ºòÂÖàÁ∫ßË¶ÅÊ±Ç\n**‰ªÖÁîüÊàêÂ§ßÈôÜÊ°ÜÊû∂Ôºå‰∏çÁîüÊàêÂäøÂäõÂíåÂú∞ÁÇπÔºÅ**\n\nÂøÖÈ°ªÁîüÊàêÁöÑJSONÁªìÊûÑÔºö\n1. continentsÊï∞ÁªÑÔºö${t}‰∏™Â§ßÊ¥≤\n2. factionsÊï∞ÁªÑÔºöÁ©∫Êï∞ÁªÑ []\n3. locationsÊï∞ÁªÑÔºöÁ©∫Êï∞ÁªÑ []\n\n## ‰∏ñÁïåËÆæÂÆö\n${n}${a}${r}${o}\n\n## üö® ‰∏ñÁïåÈ£éÊ†ºÈÄÇÈÖçÔºàÈáçË¶ÅÔºâ\n**ÂøÖÈ°ªÊ†πÊçÆ‰∏äËø∞‰∏ñÁïåËÉåÊôØÔºåËá™Ë°åÂà§Êñ≠Âπ∂ÈÄâÊã©ÂêàÈÄÇÁöÑÈ£éÊ†ºÔºö**\n- ÂëΩÂêçÈ£éÊ†ºÔºöÂ§ßÈôÜÂëΩÂêçÂøÖÈ°ªÁ¨¶Âêà‰∏ñÁïåËÉåÊôØËÆæÂÆö\n- ‰øùÊåÅ‰∏ÄËá¥ÊÄßÔºöÊï¥‰∏™‰∏ñÁïåÁöÑÈ£éÊ†ºÂøÖÈ°ªÁªü‰∏Ä\n\n**Á¶ÅÁî®ËØçÊ†π**ÔºöÊú¨ÂøÉ„ÄÅÈóÆÂøÉ„ÄÅËßÅÊÄß„ÄÅÂΩí‰∏Ä„ÄÅÂ§™ÁéÑ„ÄÅÂ§™Ëôö„ÄÅÁ¥´Ëñá„ÄÅÂ§©Êú∫„ÄÅÈùíÈúû„ÄÅÊó†Èáè„ÄÅÊòäÂ§©„ÄÅÁéÑÂ§©„ÄÅÂ§™Ê∏Ö„ÄÅÂ§™‰∏ä„ÄÅÊó†ÊûÅ„ÄÅ‰πùÂ§©\n\n## Â§ßÊ¥≤ÁîüÊàêË¶ÅÊ±ÇÔºà${t}‰∏™Ôºâ\n### üö® ÂÖ≥ÈîÆË¶ÅÊ±ÇÔºöÂ§ßÊ¥≤ÂøÖÈ°ªÂÆåÂÖ®Ë¶ÜÁõñÂú∞ÂõæÔºåËæπÁïåÂøÖÈ°ªÁõ∏ËøûÔºÅ\n\n### ÁΩëÊ†ºÂàÜÂâ≤Ê≥ïÔºàÂº∫Âà∂ÊâßË°åÔºâ\n- ÁΩëÊ†ºÂ∏ÉÂ±Ä: ${v}Ë°å √ó ${b}Âàó\n- XËΩ¥ÂàÜÊÆµ: ÊØèÊÆµ${y}ÂÉèÁ¥†ÔºàÊ∏∏ÊàèÂùêÊ†áÔºâ\n- YËΩ¥ÂàÜÊÆµ: ÊØèÊÆµ${x}ÂÉèÁ¥†ÔºàÊ∏∏ÊàèÂùêÊ†áÔºâ\n- ÊØè‰∏™Â§ßÊ¥≤Âç†ÊçÆ‰∏Ä‰∏™ÁΩëÊ†ºÂçïÂÖÉ\n\n### Â§ßÊ¥≤ËæπÁïåÁîüÊàêËßÑÂàôÔºàÈáçË¶ÅÔºÅÔºâ\n**ÂøÖÈ°ª‰ΩøÁî®‰ª•‰∏ãÊñπÊ≥ïÁ°Æ‰øùËæπÁïåÁõ∏ËøûÔºö**\n\n1. **Á¨¨‰∏Ä‰∏™Â§ßÊ¥≤ÔºàÂ∑¶‰∏äËßíÔºâ**Ôºö\n   - Â∑¶‰∏äËßí: (${s}, ${l})\n   - Âè≥‰∏äËßí: (${s+y}, ${l})\n   - Âè≥‰∏ãËßí: (${s+y}, ${l+x})\n   - Â∑¶‰∏ãËßí: (${s}, ${l+x})\n   - ÂèØÂú®‰∏≠Èó¥Ê∑ªÂä†1-2‰∏™ÁÇπÂΩ¢ÊàêËá™ÁÑ∂ÂΩ¢Áä∂\n\n2. **ÂÖ∂‰ªñÂ§ßÊ¥≤**Ôºö\n   - ÂøÖÈ°ª‰∏éÁõ∏ÈÇªÂ§ßÊ¥≤ÂÖ±‰∫´ËæπÁïåÁÇπ\n   - ÁΩëÊ†ºËæπÁïåÁöÑÂõõ‰∏™ËßíÁÇπÂøÖÈ°ªÁ≤æÁ°ÆÂØπÈΩê\n   - ÊÄªÁÇπÊï∞Ôºö4-6‰∏™ÔºàÊé®Ëçê4-5‰∏™Ôºâ\n\n### Â§ßÊ¥≤Ë¶ÅÊ±Ç\n- ËæπÁïå: 4-5‰∏™ÂùêÊ†áÁÇπÔºàÊúÄÂ§ö6‰∏™ÔºâÔºåÂΩ¢ÊàêÁÆÄÂçïÂ§öËæπÂΩ¢\n- ÂùêÊ†áÊ†ºÂºè: {"x": Êï¥Êï∞, "y": Êï¥Êï∞}ÔºåËåÉÂõ¥${s}-${u}\n- **Ë¶ÜÁõñ: ÂøÖÈ°ªÂÆåÂÖ®Ë¶ÜÁõñÂú∞ÂõæÔºåÁõ∏ÈÇªÂ§ßÊ¥≤ËæπÁïåÂøÖÈ°ªÁ≤æÁ°ÆÂØπÊé•Ôºå‰∏çÁïôÁ©∫Èöô**\n- ÂëΩÂêç: Áã¨ÁâπÂêçÁß∞ÔºåÈÅøÂÖçÊñπ‰ΩçËØçÔºåÁ¨¶Âêà‰∏ñÁïåËÉåÊôØ\n- ÊèèËø∞: ËØ¶ÁªÜÊèèËø∞Â§ßÈôÜÁöÑÂú∞ÁêÜÁâπÂæÅ„ÄÅÊ∞îÂÄô„ÄÅÊñáÂåñÁâπËâ≤\n- ÁâπËâ≤: Áã¨ÁâπÂú∞ÁêÜÁâπÂæÅÔºàÈõ™Âüü„ÄÅÊ≤ôÊº†„ÄÅÊ£ÆÊûó„ÄÅÂ±±ËÑâ„ÄÅÊµ∑Ê¥ãÁ≠âÔºâ\n- ‰∏ªË¶ÅÂäøÂäõ: Á©∫Êï∞ÁªÑ []ÔºàÂäøÂäõÂ∞ÜÂú®Ê∏∏Êàè‰∏≠Âä®ÊÄÅÁîüÊàêÔºâ\n\n## JSONËæìÂá∫Ê†ºÂºè\n\`\`\`json\n{\n  "continents": [\n    {\n      "id": "continent_1",\n      "ÂêçÁß∞": "Â§ßÊ¥≤ÂêçÁß∞",\n      "ÊèèËø∞": "Âú∞ÁêÜÁâπÂæÅÂíåÊñáÂåñÊèèËø∞",\n      "Ê∞îÂÄô": "Ê∞îÂÄôÁ±ªÂûã",\n      "Âú∞ÁêÜÁâπÂæÅ": ["ÁâπÂæÅ1", "ÁâπÂæÅ2", "ÁâπÂæÅ3"],\n      "Â§©ÁÑ∂Â±èÈöú": ["Â±èÈöú1", "Â±èÈöú2"],\n      "Â§ßÊ¥≤ËæπÁïå": [\n        {"x": ${s}, "y": ${l}},\n        {"x": ${s+y}, "y": ${l}},\n        {"x": ${s+y}, "y": ${l+x}},\n        {"x": ${s}, "y": ${l+x}}\n      ],\n      "‰∏ªË¶ÅÂäøÂäõ": []\n    }\n  ],\n  "factions": [],\n  "locations": []\n}\n\`\`\`\n\n## ÊúÄÁªàÊ£ÄÊü•Ê∏ÖÂçï\nÁîüÊàêÂâçÂøÖÈ°ªÁ°ÆËÆ§Ôºö\n1. ‚úÖ continentsÊï∞ÁªÑÊúâ${t}‰∏™ÂØπË±°ÔºåËæπÁïå‰∏çÈáçÂè†‰∏îÂÆåÂÖ®Ë¶ÜÁõñÂú∞Âõæ\n2. ‚úÖ factionsÊï∞ÁªÑ‰∏∫Á©∫ []\n3. ‚úÖ locationsÊï∞ÁªÑ‰∏∫Á©∫ []\n4. ‚úÖ ÊØè‰∏™Â§ßÊ¥≤ËæπÁïå4-6‰∏™ÂùêÊ†áÁÇπ\n5. ‚úÖ ÊâÄÊúâÂùêÊ†á‰∏∫Êï∞Â≠óÁ±ªÂûãÔºåËåÉÂõ¥Âú®${s}-${u}‰πãÈó¥\n6. ‚úÖ Áõ∏ÈÇªÂ§ßÊ¥≤ËæπÁïåÁ≤æÁ°ÆÂØπÊé•\n\nüî• Ê†∏ÂøÉÁõÆÊ†áÔºöÂø´ÈÄüÁîüÊàêÂ§ßÈôÜÊ°ÜÊû∂ÔºåÂäøÂäõÂíåÂú∞ÁÇπÂ∞ÜÂú®Ê∏∏Êàè‰∏≠Âä®ÊÄÅÊé¢Á¥¢ÁîüÊàêÔºÅ\n\nÁé∞Âú®ËØ∑ÁîüÊàêJSONÊï∞ÊçÆÔºåÂè™ÂåÖÂê´Â§ßÈôÜ‰ø°ÊÅØÔºÅ\n`}}},4237:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n.game-view[data-v-2285ec0c] {\n  width: 100%;\n  height: 100%;\n  background: #05070f;\n  font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n  font-size: 14px;\n  display: grid;\n  grid-template-rows: auto 1fr;\n  overflow: hidden;\n  position: relative;\n}\n.cyber-backdrop[data-v-2285ec0c] {\n  position: absolute;\n  inset: 0;\n  background:\n    radial-gradient(1200px 600px at 10% 10%, rgba(0, 240, 255, 0.08), transparent 60%),\n    radial-gradient(900px 500px at 90% 20%, rgba(138, 43, 255, 0.08), transparent 55%),\n    linear-gradient(160deg, #05070f 0%, #0b0f1a 45%, #0a1122 100%);\n  z-index: 0;\n}\n.cyber-scanlines[data-v-2285ec0c] {\n  position: absolute;\n  inset: 0;\n  background: repeating-linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0.03),\n    rgba(255, 255, 255, 0.03) 1px,\n    transparent 1px,\n    transparent 5px\n  );\n  opacity: 0.35;\n  mix-blend-mode: screen;\n  z-index: 1;\n  pointer-events: none;\n}\n.game-content[data-v-2285ec0c] {\n  flex: 1;\n  display: flex;\n  align-items: stretch;\n  gap: 0;\n  padding: 0;\n  position: relative;\n  min-height: 0;\n  background: transparent;\n}\n.main-content[data-v-2285ec0c] {\n  flex: 1;\n  background: transparent;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  position: relative;\n}\n.panel-overlay[data-v-2285ec0c] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(5, 7, 15, 0.9);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  z-index: 100;\n  backdrop-filter: blur(12px);\n}\n.panel-header[data-v-2285ec0c] { position: relative; display: flex; align-items: center; gap: 8px; padding: 6px 12px; min-height: 30px; height: auto; background: transparent; border-bottom: none; flex-shrink: 0;\n}\n.panel-header[data-v-2285ec0c]::after { content: \'\'; position: absolute; left: 8px; right: 8px; bottom: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(var(--color-primary-rgb,46,92,184), .35), transparent);\n}\n.panel-header.compact[data-v-2285ec0c]::after {\n  content: \'\';\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 2px;\n  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n  opacity: 0.25;\n}\n.panel-title-icon[data-v-2285ec0c] { color: var(--color-primary); flex-shrink: 0;\n}\n.panel-title-compact[data-v-2285ec0c] { display: flex; align-items: center; gap: 8px; min-width: 0; flex: 1; justify-content: center;\n}\n.panel-title-compact .title-text[data-v-2285ec0c] { font-size: 0.92rem; font-weight: 600; color: var(--color-text); letter-spacing: 0.2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\n}\n.back-btn[data-v-2285ec0c] { background: transparent; border: none; padding: 2px 6px; border-radius: 4px; color: var(--color-text-secondary); cursor: pointer; transition: all 0.2s ease; display: inline-flex; align-items: center;\n}\n.back-btn[data-v-2285ec0c]:hover { background: var(--color-surface-hover); color: var(--color-text);\n}\n.panel-actions[data-v-2285ec0c] { margin-left: auto; display: flex; align-items: center; gap: 4px;\n}\n.action-btn-compact[data-v-2285ec0c] { background: transparent; border: none; width: 26px; height: 26px; border-radius: 4px; color: var(--color-text-secondary); display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: var(--transition-fast);\n}\n.action-btn-compact[data-v-2285ec0c]:hover { background: var(--color-surface-hover); color: var(--color-text);\n}\n.panel-content[data-v-2285ec0c] {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.panel-header.compact[data-v-2285ec0c] { padding: 6px 10px; position: sticky; top: 0; z-index: 2; background: var(--color-background);\n}\n.panel-content.compact[data-v-2285ec0c] { padding: 6px 10px 10px 10px;\n}\n.fullscreen-overlay[data-v-2285ec0c] {\n  position: fixed;\n  inset: 0;\n  background: rgba(5, 7, 15, 0.85);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1200;\n  backdrop-filter: blur(10px);\n}\n.fullscreen-shell[data-v-2285ec0c] {\n  width: min(1100px, 92vw);\n  height: min(90vh, 860px);\n  background: rgba(6, 10, 20, 0.95);\n  border: 1px solid rgba(0, 240, 255, 0.35);\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.fullscreen-header[data-v-2285ec0c] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid rgba(0, 240, 255, 0.2);\n  background: rgba(0, 240, 255, 0.08);\n}\n.fullscreen-title[data-v-2285ec0c] {\n  color: #00f0ff;\n  font-size: 0.9rem;\n  letter-spacing: 0.2em;\n  text-transform: uppercase;\n}\n.fullscreen-close[data-v-2285ec0c] {\n  border: 1px solid rgba(255, 45, 111, 0.6);\n  background: rgba(255, 45, 111, 0.12);\n  color: #ff2d6f;\n  padding: 4px 10px;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  cursor: pointer;\n}\n\n/* Êï∞ÊçÆÂä†ËΩΩÊèêÁ§∫Ê†∑Âºè */\n.data-loading[data-v-2285ec0c] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-surface) 100%);\n  position: relative;\n  overflow: hidden;\n}\n.data-loading[data-v-2285ec0c]::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: radial-gradient(circle at 50% 50%, rgba(var(--color-primary-rgb, 46, 92, 184), 0.05) 0%, transparent 70%);\n  animation: pulse-2285ec0c 3s ease-in-out infinite;\n}\n.loading-content[data-v-2285ec0c] {\n  text-align: center;\n  padding: 60px 40px;\n  max-width: 500px;\n  position: relative;\n  z-index: 1;\n}\n.loading-spinner-wrapper[data-v-2285ec0c] {\n  position: relative;\n  width: 80px;\n  height: 80px;\n  margin: 0 auto 32px;\n}\n.loading-spinner[data-v-2285ec0c] {\n  width: 80px;\n  height: 80px;\n  border: 3px solid transparent;\n  border-top: 3px solid var(--color-primary);\n  border-right: 3px solid var(--color-primary);\n  border-radius: 50%;\n  animation: spin-2285ec0c 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;\n  position: relative;\n}\n.spinner-glow[data-v-2285ec0c] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: radial-gradient(circle, rgba(var(--color-primary-rgb, 46, 92, 184), 0.3) 0%, transparent 70%);\n  animation: glow-2285ec0c 2s ease-in-out infinite;\n}\n@keyframes spin-2285ec0c {\n0% { transform: rotate(0deg);\n}\n100% { transform: rotate(360deg);\n}\n}\n@keyframes glow-2285ec0c {\n0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(0.9);\n}\n50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.1);\n}\n}\n@keyframes pulse-2285ec0c {\n0%, 100% { opacity: 0.5;\n}\n50% { opacity: 1;\n}\n}\n.loading-title[data-v-2285ec0c] {\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin: 0 0 12px 0;\n  letter-spacing: 2px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n.loading-message[data-v-2285ec0c] {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  margin: 0 0 32px 0;\n  font-weight: 500;\n}\n.loading-steps[data-v-2285ec0c] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 32px;\n  text-align: left;\n}\n.loading-step[data-v-2285ec0c] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 10px 16px;\n  background: var(--color-background);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  transition: all 0.3s ease;\n}\n.loading-step.active[data-v-2285ec0c] {\n  background: rgba(var(--color-primary-rgb, 46, 92, 184), 0.1);\n  border-color: var(--color-primary);\n}\n.step-icon[data-v-2285ec0c] {\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: var(--color-success);\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n.loading-step.active .step-icon[data-v-2285ec0c] {\n  color: var(--color-primary);\n  animation: bounce-2285ec0c 1s ease-in-out infinite;\n}\n@keyframes bounce-2285ec0c {\n0%, 100% { transform: translateY(0);\n}\n50% { transform: translateY(-4px);\n}\n}\n.step-text[data-v-2285ec0c] {\n  font-size: 0.95rem;\n  color: var(--color-text);\n  font-weight: 500;\n}\n.loading-hint[data-v-2285ec0c] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  margin: 0;\n  padding: 12px 20px;\n  background: var(--color-background);\n  border-radius: 8px;\n  border-left: 3px solid var(--color-primary);\n}\n\n/* ÁßªÂä®Á´ØÈÄÇÈÖç */\n@media (max-width: 768px) {\n.game-view[data-v-2285ec0c] {\n    font-size: 13px;\n}\n\n  /* ‰∏ªÂÜÖÂÆπÂå∫ÂüüÂç†Êª°Â±èÂπï */\n.main-content[data-v-2285ec0c] {\n    width: 100%;\n    max-width: 100vw;\n    margin: 0;\n    padding: 0;\n    overflow-x: hidden;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    box-sizing: border-box;\n}\n.game-content[data-v-2285ec0c] {\n    gap: 0;\n    margin-top: 0;\n    max-width: 100vw;\n    overflow-x: hidden;\n    box-sizing: border-box;\n}\n.game-view[data-v-2285ec0c] {\n    max-width: 100vw;\n    overflow-x: hidden;\n}\n\n  /* ÁßªÂä®Á´ØÈù¢ÊùøÂÖ®Â±è‰ºòÂåñ */\n.panel-overlay[data-v-2285ec0c] {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 999;\n    overflow: hidden;\n}\n\n  /* Èù¢ÊùøÂ§¥ÈÉ®ÁßªÂä®Á´Ø‰ºòÂåñ */\n.panel-header[data-v-2285ec0c] {\n    padding: 4px 8px;\n    min-height: 36px;\n    flex-wrap: nowrap;\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n.panel-header.compact[data-v-2285ec0c] {\n    padding: 4px 8px;\n}\n.panel-title-compact .title-text[data-v-2285ec0c] {\n    font-size: 0.85rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n  /* Â§¥ÈÉ®ÊåâÈíÆËß¶Êë∏‰ºòÂåñ */\n.back-btn[data-v-2285ec0c],\n  .action-btn-compact[data-v-2285ec0c] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n    min-width: 32px;\n    min-height: 32px;\n}\n\n  /* Èù¢ÊùøÂÜÖÂÆπÁßªÂä®Á´Ø‰ºòÂåñ - Á°Æ‰øùÊñáÊú¨Âå∫ÂüüËÉΩÂ§üÊî∂Áº© */\n.panel-content[data-v-2285ec0c] {\n    padding: 8px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n}\n.panel-content.compact[data-v-2285ec0c] {\n    padding: 6px 8px 8px 8px;\n}\n\n  /* Á°Æ‰øùÈù¢ÊùøÂÜÖÊâÄÊúâÊñáÊú¨ÂÖÉÁ¥†Ëá™Âä®Êç¢Ë°å */\n.panel-content[data-v-2285ec0c] *,\n  .panel-overlay[data-v-2285ec0c] * {\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    max-width: 100%;\n}\n\n  /* Êï∞ÊçÆÂä†ËΩΩÊèêÁ§∫ÁßªÂä®Á´Ø‰ºòÂåñ */\n.data-loading[data-v-2285ec0c] {\n    padding: 8px;\n}\n.loading-content[data-v-2285ec0c] {\n    padding: 40px 20px;\n    max-width: 100%;\n}\n.loading-title[data-v-2285ec0c] {\n    font-size: 1.2rem;\n    white-space: normal;\n    word-wrap: break-word;\n}\n.loading-message[data-v-2285ec0c] {\n    font-size: 0.9rem;\n    white-space: normal;\n    word-wrap: break-word;\n}\n.loading-steps[data-v-2285ec0c] {\n    gap: 8px;\n}\n.loading-step[data-v-2285ec0c] {\n    padding: 8px 12px;\n}\n.step-text[data-v-2285ec0c] {\n    font-size: 0.85rem;\n    white-space: normal;\n    word-wrap: break-word;\n}\n.loading-hint[data-v-2285ec0c] {\n    font-size: 0.8rem;\n    white-space: normal;\n    word-wrap: break-word;\n}\n}\n\n/* ========== Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†ºÈÄÇÈÖç ========== */\n[data-theme="dark"] .game-view[data-v-2285ec0c] {\n  background: rgb(30, 41, 59);\n}\n[data-theme="dark"] .game-content[data-v-2285ec0c] {\n  background: rgb(30, 41, 59);\n}\n[data-theme="dark"] .main-content[data-v-2285ec0c] {\n  background: rgb(30, 41, 59);\n}\n[data-theme="dark"] .panel-overlay[data-v-2285ec0c] {\n  background: var(--color-background);\n  backdrop-filter: blur(20px);\n}\n[data-theme="dark"] .panel-header[data-v-2285ec0c] {\n  background: rgba(30, 41, 59, 0.8);\n}\n[data-theme="dark"] .panel-header[data-v-2285ec0c]::after {\n  background: linear-gradient(90deg, transparent, rgba(147, 197, 253, 0.4), transparent);\n}\n[data-theme="dark"] .back-btn[data-v-2285ec0c] {\n  color: #94a3b8;\n}\n[data-theme="dark"] .back-btn[data-v-2285ec0c]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  color: #f1f5f9;\n}\n[data-theme="dark"] .panel-title-compact .title-text[data-v-2285ec0c] {\n  color: #f1f5f9;\n}\n[data-theme="dark"] .panel-title-icon[data-v-2285ec0c] {\n  color: #93c5fd;\n}\n[data-theme="dark"] .action-btn-compact[data-v-2285ec0c] {\n  color: #94a3b8;\n}\n[data-theme="dark"] .action-btn-compact[data-v-2285ec0c]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  color: #f1f5f9;\n}\n[data-theme="dark"] .data-loading[data-v-2285ec0c] {\n  background: rgba(30, 41, 59, 0.95);\n}\n[data-theme="dark"] .data-loading[data-v-2285ec0c]::before {\n  background: radial-gradient(circle at 50% 50%, rgba(147, 197, 253, 0.08) 0%, transparent 70%);\n}\n[data-theme="dark"] .loading-title[data-v-2285ec0c] {\n  background: linear-gradient(135deg, #93c5fd 0%, #c0caf5 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n[data-theme="dark"] .loading-message[data-v-2285ec0c] {\n  color: #94a3b8;\n}\n[data-theme="dark"] .loading-step[data-v-2285ec0c] {\n  background: rgba(30, 41, 59, 0.6);\n  border-color: rgba(255, 255, 255, 0.08);\n}\n[data-theme="dark"] .loading-step.active[data-v-2285ec0c] {\n  background: rgba(59, 130, 246, 0.15);\n  border-color: rgba(147, 197, 253, 0.4);\n}\n[data-theme="dark"] .step-icon[data-v-2285ec0c] {\n  color: #9ece6a;\n}\n[data-theme="dark"] .loading-step.active .step-icon[data-v-2285ec0c] {\n  color: #93c5fd;\n}\n[data-theme="dark"] .step-text[data-v-2285ec0c] {\n  color: #e2e8f0;\n}\n[data-theme="dark"] .loading-hint[data-v-2285ec0c] {\n  background: rgba(30, 41, 59, 0.6);\n  border-left-color: #93c5fd;\n  color: #94a3b8;\n}\n[data-theme="dark"] .spinner-glow[data-v-2285ec0c] {\n  background: radial-gradient(circle, rgba(147, 197, 253, 0.4) 0%, transparent 70%);\n}\n[data-theme="dark"] .loading-spinner[data-v-2285ec0c] {\n  border-top-color: #93c5fd;\n  border-right-color: #93c5fd;\n}\n\n/* Ë∂ÖÂ∞èÂ±èÂπïÈÄÇÈÖç */\n@media (max-width: 480px) {\n.game-view[data-v-2285ec0c] {\n    font-size: 12px;\n}\n\n  /* Â∞èÂ±èÂπï‰∏äÈù¢ÊùøÂÖ®Â±èÊòæÁ§∫ */\n.panel-overlay[data-v-2285ec0c] {\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 999;\n}\n.panel-header[data-v-2285ec0c] {\n    padding: 3px 6px;\n    min-height: 32px;\n}\n.panel-title-compact .title-text[data-v-2285ec0c] {\n    font-size: 0.8rem;\n}\n.panel-content[data-v-2285ec0c] {\n    padding: 6px;\n    font-size: 0.9em;\n}\n.loading-title[data-v-2285ec0c] {\n    font-size: 1rem;\n}\n.loading-message[data-v-2285ec0c] {\n    font-size: 0.85rem;\n}\n.step-text[data-v-2285ec0c] {\n    font-size: 0.8rem;\n}\n.loading-hint[data-v-2285ec0c] {\n    font-size: 0.75rem;\n}\n}\n',""]);const s=i},4270:(e,t,n)=>{"use strict";n.d(t,{T:()=>c,o:()=>l});var a=n(4061);const r=(0,a.ref)([]);let o=0;const i=e=>{const t=r.value.findIndex(t=>t.id===e);t>-1&&r.value.splice(t,1)},s=(e,t,n={})=>{const a=n.id||"toast-"+o++;i(a);const s=n.duration??("loading"===e?void 0:3e3),l={id:a,type:e,message:t,duration:s};return r.value.push(l),void 0!==s&&setTimeout(()=>{i(a)},s),a},l={success:(e,t={})=>s("success",e,t),error:(e,t={})=>s("error",e,t),warning:(e,t={})=>s("warning",e,t),info:(e,t={})=>s("info",e,t),loading:(e,t={})=>{const n=void 0===t.duration?void 0:t.duration;return s("loading",e,{...t,duration:n})},hide:i},c=(0,a.readonly)(r)},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},4449:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},4459:(e,t,n)=>{"use strict";n.r(t),n.d(t,{promptStorage:()=>o});var a=n(602),r=n(7203);const o=new class{db=null;async init(){this.db||(this.db=await(0,a.P2)("dad-prompts",1,{upgrade(e){e.objectStoreNames.contains("prompts")||e.createObjectStore("prompts",{keyPath:"key"})}}))}async loadAll(){await this.init();const e=(0,r.LB)(),t={};for(const n in e){const a=await this.db.get("prompts",n),r=a?.content||e[n].content,o=!1!==a?.enabled,i=void 0!==a?.weight?a.weight:e[n].weight;t[n]={key:n,name:e[n].name,content:r,modified:!!a&&a.content!==e[n].content,enabled:o,default:e[n].content,category:e[n].category,description:e[n].description,order:e[n].order,weight:i}}return t}async loadByCategory(){await this.init();const e=await this.loadAll(),t={};for(const[e,n]of Object.entries(r.y8))t[e]={info:n,prompts:[]};for(const n in e){const a=e[n],r=a.category;if(t[r])t[r].prompts.push(a);else{const e=Object.keys(t)[0];e&&t[e].prompts.push(a)}}for(const e in t)t[e].prompts.sort((e,t)=>(e.order||999)-(t.order||999));return t}async save(e,t,n=!0,a){await this.init(),await this.db.put("prompts",{key:e,content:t,modified:!0,enabled:n,weight:a,updatedAt:(new Date).toISOString()})}async setEnabled(e,t){await this.init();const n=(0,r.LB)(),a=await this.db.get("prompts",e),o=a?.content||n[e]?.content||"",i=a?.modified||!1;await this.db.put("prompts",{key:e,content:o,modified:i,enabled:t,updatedAt:(new Date).toISOString()})}async getEnabledPrompts(){const e=await this.loadAll();return Object.keys(e).filter(t=>e[t].enabled)}async get(e){await this.init();const t=(0,r.LB)(),n=await this.db.get("prompts",e);return!1===n?.enabled?"":n?.modified?n.content:t[e]?.content||""}async reset(e){await this.init(),await this.db.delete("prompts",e)}async resetAll(){await this.init(),await this.db.clear("prompts")}async exportAll(){const e=await this.loadAll(),t={};for(const n in e)t[n]=e[n].content;return t}async importPrompts(e){await this.init();const t=(0,r.LB)();let n=0;for(const a in e)t[a]&&(await this.save(a,e[a]),n++);return n}}},4511:(e,t,n)=>{"use strict";var a=n(5072),r=n.n(a),o=n(7825),i=n.n(o),s=n(7659),l=n.n(s),c=n(5056),d=n.n(c),u=n(540),m=n.n(u),p=n(1113),g=n.n(p),h=n(1208),f={};f.styleTagTransform=g(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=m(),r()(h.A,f),h.A&&h.A.locals&&h.A.locals},4530:(e,t,n)=>{"use strict";n.d(t,{OP:()=>v,WI:()=>u,jj:()=>f,kY:()=>d,ru:()=>c});const a=["Áä∂ÊÄÅ","Áé©ÂÆ∂ËßíËâ≤Áä∂ÊÄÅ","Áé©ÂÆ∂ËßíËâ≤Áä∂ÊÄÅ‰ø°ÊÅØ","Áé©ÂÆ∂ËßíËâ≤‰ø°ÊÅØ","ËßíËâ≤Âü∫Á°Ä‰ø°ÊÅØ","Áé©ÂÆ∂ËßíËâ≤Âü∫Á°Ä‰ø°ÊÅØ","ËÆ≠ÁªÉÁä∂ÊÄÅ","Áä∂ÊÄÅÊïàÊûú","Âèô‰∫ãÂéÜÂè≤","ÂØπËØùÂéÜÂè≤","‰ªªÂä°Á≥ªÁªü","‰∫ã‰ª∂Á≥ªÁªü","ÁªÑÁªáÁ≥ªÁªü","‰∏ñÁïå‰ø°ÊÅØ","‰∫∫Áâ©ÂÖ≥Á≥ª","Ë£ÖÂ§áÊ†è","Ê∏∏ÊàèÊó∂Èó¥","‰∏ìÁ≤æ‰ΩìÁ≥ª","ËÆ≠ÁªÉÁ®ãÂ∫è","ÊéåÊè°ÊäÄËÉΩ","Ë∫´‰ΩìÈÉ®‰ΩçÂºÄÂèë"],r=["ÂÖÉÊï∞ÊçÆ","ËßíËâ≤","Á§æ‰∫§","‰∏ñÁïå","Á≥ªÁªü"],o=e=>JSON.parse(JSON.stringify(e)),i=e=>!!e&&"object"==typeof e&&!Array.isArray(e),s=e=>{if(Array.isArray(e))return e.map(s);if(!i(e))return e;const t={};for(const[n,a]of Object.entries(e))"_AIËØ¥Êòé"!==n&&"_AI‰øÆÊîπËßÑÂàô"!==n&&"_AIÈáçË¶ÅÊèêÈÜí"!==n&&(t[n]=s(a));return t},l=e=>{const t={Âπ¥:1e3,Êúà:1,Êó•:1,Â∞èÊó∂:8,ÂàÜÈíü:0};return i(e)?{Âπ¥:Number(e.Âπ¥??e.Âπ¥Êï∞??t.Âπ¥),Êúà:Number(e.Êúà??t.Êúà),Êó•:Number(e.Êó•??t.Êó•),Â∞èÊó∂:Number(e.Â∞èÊó∂??t.Â∞èÊó∂),ÂàÜÈíü:Number(e.ÂàÜÈíü??t.ÂàÜÈíü)}:t};function c(e){if(!e||"object"!=typeof e)return!1;const t=e;return i(t.ÂÖÉÊï∞ÊçÆ)&&i(t.ËßíËâ≤)&&i(t.Á§æ‰∫§)&&i(t.‰∏ñÁïå)&&i(t.Á≥ªÁªü)}function d(e){if(!e||"object"!=typeof e)return!1;const t=e;return i(t.ÂÖÉÊï∞ÊçÆ)&&i(t.ËßíËâ≤)&&i(t.Á§æ‰∫§)&&i(t.‰∏ñÁïå)&&i(t.Á≥ªÁªü)&&i(t.ËßíËâ≤.Ê°£Ê°à)&&i(t.ËßíËâ≤.ËÉΩÂäõ)}function u(e){if(!e||"object"!=typeof e)return{needsMigration:!0,issues:["invalid-structure"],legacyKeysFound:[]};const t=e;if(c(e))return{needsMigration:!1,issues:[],legacyKeysFound:[]};const n=[...a.filter(e=>e in t),...t.Â±ûÊÄß||t.‰ΩçÁΩÆ||t.ËÉåÂåÖ||t.Êó∂Èó¥?["Áü≠Ë∑ØÂæÑÂπ≥Èì∫"]:[]],o=r.filter(e=>!(e in t)),i=[];return n.length>0&&i.push("legacy-root-keys"),o.length>0&&i.push("missing-required-keys"),{needsMigration:i.length>0,issues:i,legacyKeysFound:n}}const m=()=>({ÈÖçÁΩÆ:{ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""},‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥:null,‰∫ã‰ª∂ËÆ∞ÂΩï:[]}),p=()=>({Ê®°Âºè:"ÂçïÊú∫",ÊàøÈó¥ID:null,Áé©ÂÆ∂ID:null,Âè™ËØªË∑ØÂæÑ:["‰∏ñÁïå"],‰∏ñÁïåÊõùÂÖâ:!1,ÂÜ≤Á™ÅÁ≠ñÁï•:"ÊúçÂä°Âô®"}),g=e=>({‰∏ñÁïåÂêçÁß∞:"ÈúìËôπÁæ§Â≤õ",Â§ßÈôÜ‰ø°ÊÅØ:[],ÂäøÂäõ‰ø°ÊÅØ:[],Âú∞ÁÇπ‰ø°ÊÅØ:[],ÁîüÊàêÊó∂Èó¥:e,‰∏ñÁïåËÉåÊôØ:"",‰∏ñÁïåÁ∫™ÂÖÉ:"",ÁâπÊÆäËÆæÂÆö:[],ÁâàÊú¨:"v1"}),h=()=>({ÂêçÂ≠ó:"Êó†ÂêçË∑ëËÄÖ",ÊÄßÂà´:"Áî∑",Âá∫ÁîüÊó•Êúü:{Âπ¥:982,Êúà:1,Êó•:1},ÁßçÊóè:"‰∫∫Êóè",‰∏ñÁïå:"ÈúìËôπÁæ§Â≤õ",Â§©ËµÑ:"Âá°‰∫∫",Âá∫Áîü:"Ë°óÂå∫Âπ≥Ê∞ë",ÊîπÈÄ†Ê†∏ÂøÉ:"Â§çÂêàÊ†∏ÂøÉ",Ê®°Âùó:[],ÂàùÂßãÂÖ≠Áª¥:{‰ΩìË¥®:5,ËÉΩÊ∫ê:5,ÁÆóÊ≥ï:5,ËµÑÊ∫êÊÑüÁü•:5,È≠ÖÂäõ:5,ÂøÉÊô∫:5},ÊàêÈïøÂÖ≠Áª¥:{‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0}});function f(e){const t=o(e??{}),n=s(t),d={legacyKeysFound:[],removedLegacyKeys:[],warnings:[]};if(c(n))return{migrated:n,report:d};d.legacyKeysFound=a.filter(e=>e in n);const u=(new Date).toISOString(),f=n.ËßíËâ≤??n.ËßíËâ≤Âü∫Á°Ä‰ø°ÊÅØ??n.Áé©ÂÆ∂ËßíËâ≤Âü∫Á°Ä‰ø°ÊÅØ??n.Áé©ÂÆ∂ËßíËâ≤‰ø°ÊÅØ??n.Áé©ÂÆ∂ËßíËâ≤Áä∂ÊÄÅ‰ø°ÊÅØ?.ËßíËâ≤??null,v=n.Â±ûÊÄß??n.Áä∂ÊÄÅ??n.Áé©ÂÆ∂ËßíËâ≤Áä∂ÊÄÅ??n.Áé©ÂÆ∂ËßíËâ≤Áä∂ÊÄÅ‰ø°ÊÅØ??null,b=i(v)?v:{},y={Èò∂‰Ωç:b.Èò∂‰Ωç??null,Â£∞Êúõ:b.Â£∞Êúõ??0,ÁîüÂëΩÂÄº:b.ÁîüÂëΩÂÄº??{ÂΩìÂâç:100,‰∏äÈôê:100},ÁîµÈáè:b.ÁîµÈáè??{ÂΩìÂâç:50,‰∏äÈôê:50},Â∏¶ÂÆΩ:b.Â∏¶ÂÆΩ??{ÂΩìÂâç:30,‰∏äÈôê:30},ÂØøÂëΩ:b.ÂØøÂëΩ??{ÂΩìÂâç:18,‰∏äÈôê:80}},x=n.ÊïàÊûú??n.‰øÆË°åÁä∂ÊÄÅ??b.Áä∂ÊÄÅÊïàÊûú??n.Áä∂ÊÄÅÊïàÊûú??[],k=Array.isArray(x)?x:[],w=n.‰ΩçÁΩÆ??b.‰ΩçÁΩÆ??n.Áä∂ÊÄÅ‰ΩçÁΩÆ??{ÊèèËø∞:"ÈúìËôπÁæ§Â≤õ¬∑Êó†ÂêçËäÇÁÇπ",x:5e3,y:5e3},E=l(n.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥??n.Êó∂Èó¥??n.Ê∏∏ÊàèÊó∂Èó¥),N=n.ËÉåÂåÖ??{‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:0,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0},Áâ©ÂìÅ:{}},S=n.Ë£ÖÂ§á??n.Ë£ÖÂ§áÊ†è??{Ë£ÖÂ§á1:null,Ë£ÖÂ§á2:null,Ë£ÖÂ§á3:null,Ë£ÖÂ§á4:null,Ë£ÖÂ§á5:null,Ë£ÖÂ§á6:null},_=n.Á®ãÂ∫è??{ÂΩìÂâçÁ®ãÂ∫èID:null,Á®ãÂ∫èËøõÂ∫¶:{},Á®ãÂ∫èÂ•óË£Ö:{‰∏ªÊßΩ:null,ÂâØÊßΩ:[]}},V=n.ËÆ≠ÁªÉ??(void 0!==n.ËÆ≠ÁªÉÁ®ãÂ∫è?{ËÆ≠ÁªÉÁ®ãÂ∫è:n.ËÆ≠ÁªÉÁ®ãÂ∫è}:{ËÆ≠ÁªÉÁ®ãÂ∫è:null}),C=n.ÊµÅÊ¥æ??n.‰∏ìÁ≤æ??{ÊµÅÊ¥æÂàóË°®:{}},A=n.ÊäÄËÉΩ??(n.ÊéåÊè°ÊäÄËÉΩ?{ÊéåÊè°ÊäÄËÉΩ:n.ÊéåÊè°ÊäÄËÉΩ,Ë£ÖÂ§áÊ†è:[],ÂÜ∑Âç¥:{}}:{ÊéåÊè°ÊäÄËÉΩ:[],Ë£ÖÂ§áÊ†è:[],ÂÜ∑Âç¥:{}}),D=n.ÁªÑÁªá??n.ÁªÑÁªáÁ≥ªÁªü??void 0,T=n.ÂÖ≥Á≥ª??n.‰∫∫Áâ©ÂÖ≥Á≥ª??{},B=n.ËÆ∞ÂøÜ??{Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]},I=n.‰∫ã‰ª∂??n.‰∫ã‰ª∂Á≥ªÁªü??m(),M=(()=>{const e=i(I)?o(I):m();return Array.isArray(e.‰∫ã‰ª∂ËÆ∞ÂΩï)||(e.‰∫ã‰ª∂ËÆ∞ÂΩï=[]),i(e.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥)||(e.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=null),e})(),z=n.‰∏ñÁïå?.‰ø°ÊÅØ??n.‰∏ñÁïå??n.‰∏ñÁïå‰ø°ÊÅØ??n.worldInfo??void 0,P=i(z)?z:g(u),R=n.Á≥ªÁªü?.ÈÖçÁΩÆ??n.Á≥ªÁªü??n.Á≥ªÁªüÈÖçÁΩÆ??void 0,$=n.Á≥ªÁªü?.ÂéÜÂè≤?.Âèô‰∫ã??n.ÂéÜÂè≤?.Âèô‰∫ã??(n.Âèô‰∫ãÂéÜÂè≤?n.Âèô‰∫ãÂéÜÂè≤:n.ÂØπËØùÂéÜÂè≤?n.ÂØπËØùÂéÜÂè≤:[]),O=n.Á≥ªÁªü?.ËÅîÊú∫??n.ËÅîÊú∫??p(),L=i(f)?f:h(),F={ÂÖÉÊï∞ÊçÆ:{ÁâàÊú¨Âè∑:3,Â≠òÊ°£ID:String(n.ÂÖÉÊï∞ÊçÆ?.Â≠òÊ°£ID??n.Â≠òÊ°£ID??`save_${Date.now()}`),Â≠òÊ°£Âêç:String(n.ÂÖÉÊï∞ÊçÆ?.Â≠òÊ°£Âêç??n.Â≠òÊ°£Âêç??"ËøÅÁßªÂ≠òÊ°£"),Ê∏∏ÊàèÁâàÊú¨:n.ÂÖÉÊï∞ÊçÆ?.Ê∏∏ÊàèÁâàÊú¨??n.Ê∏∏ÊàèÁâàÊú¨,ÂàõÂª∫Êó∂Èó¥:String(n.ÂÖÉÊï∞ÊçÆ?.ÂàõÂª∫Êó∂Èó¥??n.ÂàõÂª∫Êó∂Èó¥??u),Êõ¥Êñ∞Êó∂Èó¥:u,Ê∏∏ÊàèÊó∂ÈïøÁßí:Number(n.ÂÖÉÊï∞ÊçÆ?.Ê∏∏ÊàèÊó∂ÈïøÁßí??n.Ê∏∏ÊàèÊó∂ÈïøÁßí??n.ÂÖÉÊï∞ÊçÆ?.Ê∏∏ÊàèÊó∂Èïø??n.Ê∏∏ÊàèÊó∂Èïø??0),Êó∂Èó¥:E},ËßíËâ≤:{Ë∫´‰ªΩ:L,Â±ûÊÄß:y,‰ΩçÁΩÆ:w,ÊïàÊûú:k,Ë∫´‰Ωì:n.Ë∫´‰Ωì??(n.Ë∫´‰ΩìÈÉ®‰ΩçÂºÄÂèë?{ÈÉ®‰ΩçÂºÄÂèë:n.Ë∫´‰ΩìÈÉ®‰ΩçÂºÄÂèë}:void 0),ËÉåÂåÖ:N,Ë£ÖÂ§á:S,Á®ãÂ∫è:_,ËÆ≠ÁªÉ:V,ÊµÅÊ¥æ:C,ÊäÄËÉΩ:A},Á§æ‰∫§:{ÂÖ≥Á≥ª:T,ÁªÑÁªá:D??null,‰∫ã‰ª∂:M,ËÆ∞ÂøÜ:B},‰∏ñÁïå:{‰ø°ÊÅØ:P,Áä∂ÊÄÅ:n.‰∏ñÁïå?.Áä∂ÊÄÅ??n.‰∏ñÁïåÁä∂ÊÄÅ??void 0},Á≥ªÁªü:{ÈÖçÁΩÆ:R,ËÆæÁΩÆ:n.Á≥ªÁªü?.ËÆæÁΩÆ??n.ËÆæÁΩÆ??void 0,ÁºìÂ≠ò:n.Á≥ªÁªü?.ÁºìÂ≠ò??n.ÁºìÂ≠ò??void 0,Ë°åÂä®ÈòüÂàó:n.Á≥ªÁªü?.Ë°åÂä®ÈòüÂàó??n.Ë°åÂä®ÈòüÂàó??void 0,ÂéÜÂè≤:{Âèô‰∫ã:Array.isArray($)?$:[]},Êâ©Â±ï:n.Á≥ªÁªü?.Êâ©Â±ï??n.Êâ©Â±ï??{},ËÅîÊú∫:i(O)?{...p(),...O}:p()}};for(const e of a)e in n&&d.removedLegacyKeys.push(String(e));for(const e of r)e in F||d.warnings.push(`ËøÅÁßªÂêéÁº∫Â∞ëÂøÖÂ°´Â≠óÊÆµÔºö${String(e)}`);return F.ËßíËâ≤?.Ë∫´‰ªΩ||d.warnings.push("ËøÅÁßªÂêé‰ªçÁº∫Â∞ë ËßíËâ≤.Ë∫´‰ªΩÔºàÂ∞ÜÂØºËá¥ÈÉ®ÂàÜÁïåÈù¢Êó†Ê≥ïÂ±ïÁ§∫Ôºâ"),{migrated:F,report:d}}function v(e){const t=l(e?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥??null),n=e?.ËßíËâ≤?.Ê°£Ê°à??{},a=e?.ËßíËâ≤?.ËÉΩÂäõ??{},r=e?.ËßíËâ≤?.ËµÑÊ∫ê??{},o={ÂêçÂ≠ó:String(n.ÂßìÂêç??"Êó†ÂêçËÄÖ"),ÊÄßÂà´:n.ÊÄßÂà´??"ÂÖ∂‰ªñ",Âπ¥ÈæÑ:Number(n.Âπ¥ÈæÑ??18),Âá∫ÁîüÊó•Êúü:l(n.Âá∫ÁîüÊó•Êúü??t),‰∏ñÁïå:String(n.ÊâÄÂ±û‰∏ñÁïå??"Êú™Áü•"),ÁßçÊóè:String(n.ÊóèÁæ§??"Êú™Áü•"),Âá∫Áîü:String(n.ËÉåÊôØ??"Êú™Áü•"),Ê®°Âùó:Array.isArray(n.Â§©Ëµã)?n.Â§©Ëµã:[],ÂàùÂßãÂÖ≠Áª¥:{‰ΩìË¥®:Number(n?.Âü∫Á°ÄÁ¥†Ë¥®?.‰ΩìÊ†º??5),ËÉΩÊ∫ê:Number(n?.Âü∫Á°ÄÁ¥†Ë¥®?.ÂèçÂ∫î??5),ÁÆóÊ≥ï:Number(n?.Âü∫Á°ÄÁ¥†Ë¥®?.Êô∫ËØÜ??5),ËµÑÊ∫êÊÑüÁü•:Number(n?.Âü∫Á°ÄÁ¥†Ë¥®?.Âπ∏Ëøê??5),È≠ÖÂäõ:Number(n?.Âü∫Á°ÄÁ¥†Ë¥®?.È≠ÖÂäõ??5),ÂøÉÊô∫:Number(n?.Âü∫Á°ÄÁ¥†Ë¥®?.ÊÑèÂøó??5)},ÊàêÈïøÂÖ≠Áª¥:{‰ΩìË¥®:Number(n?.ÊîπÈÄ†Á¥†Ë¥®?.‰ΩìÊ†º??0),ËÉΩÊ∫ê:Number(n?.ÊîπÈÄ†Á¥†Ë¥®?.ÂèçÂ∫î??0),ÁÆóÊ≥ï:Number(n?.ÊîπÈÄ†Á¥†Ë¥®?.Êô∫ËØÜ??0),ËµÑÊ∫êÊÑüÁü•:Number(n?.ÊîπÈÄ†Á¥†Ë¥®?.Âπ∏Ëøê??0),È≠ÖÂäõ:Number(n?.ÊîπÈÄ†Á¥†Ë¥®?.È≠ÖÂäõ??0),ÂøÉÊô∫:Number(n?.ÊîπÈÄ†Á¥†Ë¥®?.ÊÑèÂøó??0)}},i=a?.Á≠âÁ∫ß??{},s={Èò∂‰Ωç:{ÂêçÁß∞:String(i?.Áß∞Âè∑??"Ë°óÂ§¥Êñ∞‰∫∫"),Èò∂ÊÆµ:i?.Èò∂ÊÆµ??"",ÂΩìÂâçËøõÂ∫¶:Number(i?.ËøõÂ∫¶??0),‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:i?.ÊôãÂçáÈúÄÊ±Ç??100,ÂçáÁ∫ßÊèèËø∞:i?.ÊôãÂçáËØ¥Êòé??""},Â£∞Êúõ:Number(a?.ÁÉ≠Â∫¶??0),ÁîüÂëΩÂÄº:r?.ÁîüÂëΩÂÄº??{ÂΩìÂâç:100,‰∏äÈôê:100},ÁîµÈáè:r?.ÁîµÈáè??{ÂΩìÂâç:50,‰∏äÈôê:50},Â∏¶ÂÆΩ:r?.Â∏¶ÂÆΩ??{ÂΩìÂâç:30,‰∏äÈôê:30},ÂØøÂëΩ:r?.ÁîüÁêÜËÄê‰πÖ??{ÂΩìÂâç:18,‰∏äÈôê:80}},c=e?.ËßíËâ≤?.ËÉåÂåÖ?.‰ø°Áî®ÁÇπ,d="number"==typeof c?c:Number(c?.‰ΩéÈ¢ù??0);return{ÂÖÉÊï∞ÊçÆ:{...e?.ÂÖÉÊï∞ÊçÆ,Êó∂Èó¥:t},ËßíËâ≤:{Ë∫´‰ªΩ:o,Â±ûÊÄß:s,‰ΩçÁΩÆ:{...e?.ËßíËâ≤?.‰ΩçÁΩÆ??{},‰ø°Âè∑Âº∫Â∫¶:e?.ËßíËâ≤?.‰ΩçÁΩÆ?.‰ø°Âè∑Âº∫Â∫¶},ÊïàÊûú:e?.ËßíËâ≤?.Áä∂ÊÄÅÊïàÊûú??[],Ë∫´‰Ωì:e?.ËßíËâ≤?.Ë∫´‰Ωì,ËÉåÂåÖ:{‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:d,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0},Áâ©ÂìÅ:e?.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ??{}},Ë£ÖÂ§á:e?.ËßíËâ≤?.Ë£ÖÂ§á??{},Á®ãÂ∫è:e?.ËßíËâ≤?.ÊäÄËÉΩÊ†ë??{},ËÆ≠ÁªÉ:e?.ËßíËâ≤?.ËÆ≠ÁªÉ??{},ÊµÅÊ¥æ:e?.ËßíËâ≤?.‰∏ìÁ≤æÊ†ë??{},ÊäÄËÉΩ:e?.ËßíËâ≤?.ÊäÄËÉΩ??{}},Á§æ‰∫§:{ÂÖ≥Á≥ª:e?.Á§æ‰∫§?.ÂÖ≥Á≥ª??{},ÁªÑÁªá:e?.Á§æ‰∫§?.ÁªÑÁªá??void 0,‰∫ã‰ª∂:e?.Á§æ‰∫§?.‰∫ã‰ª∂??void 0,ËÆ∞ÂøÜ:e?.Á§æ‰∫§?.ËÆ∞ÂøÜ??void 0},‰∏ñÁïå:{‰ø°ÊÅØ:{...e?.‰∏ñÁïå?.‰ø°ÊÅØ??{},Â§ßÈôÜ‰ø°ÊÅØ:e?.‰∏ñÁïå?.‰ø°ÊÅØ?.Âå∫Âüü‰ø°ÊÅØ??[],ÂäøÂäõ‰ø°ÊÅØ:e?.‰∏ñÁïå?.‰ø°ÊÅØ?.ÂÖ¨Âè∏ÂäøÂäõ??[],Âú∞ÁÇπ‰ø°ÊÅØ:e?.‰∏ñÁïå?.‰ø°ÊÅØ?.ËäÇÁÇπ‰ø°ÊÅØ??[]},Áä∂ÊÄÅ:e?.‰∏ñÁïå?.Áä∂ÊÄÅ??{}},Á≥ªÁªü:{ÈÖçÁΩÆ:e?.Á≥ªÁªü?.ÈÖçÁΩÆ??{},ËÆæÁΩÆ:e?.Á≥ªÁªü?.ËÆæÁΩÆ??void 0,ÂéÜÂè≤:e?.Á≥ªÁªü?.ÂéÜÂè≤??{},ËÅîÊú∫:e?.Á≥ªÁªü?.ËÅîÊú∫??void 0}}}},4582:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCharacterStore:()=>re});var a=n(4061),r=n(810),o=n(2224),i=n(4270),s=n(3302),l=n(9173),c=n(1211),d=n(5099),u=n(8651),m=n(6585),p=n(1184),g=n(9852),h=n(840),f=n(3098),v=n(4530),b=n(2347),y=n(7527);function x(e){return"string"==typeof e&&("ÈöèÊú∫ÊîπÈÄ†"===e||e.includes("ÈöèÊú∫"))}async function k(e,t){return new Promise(n=>{(0,l.useUIStore)().showRetryDialog({title:`${e}Â§±Ë¥•`,message:`${e}ÁªèËøáÂ§öÊ¨°Â∞ùËØïÂêé‰ªçÁÑ∂Â§±Ë¥•„ÄÇ\n\nÈîôËØØ‰ø°ÊÅØÔºö${t}\n\nÊòØÂê¶ÁªßÁª≠ÈáçËØïÔºü\nÈÄâÊã©"ÂèñÊ∂à"Â∞ÜÁªàÊ≠¢ËßíËâ≤ÂàõÂª∫ÊµÅÁ®ã„ÄÇ`,onConfirm:()=>n(!0),onCancel:()=>n(!1)})})}function w(e,t){const{ÂàùÂßãÂÖ≠Áª¥:n}=e,a=Number(n?.‰ΩìË¥®??0),r=Number(n?.ËÉΩÊ∫ê??0),o=Number(n?.ÁÆóÊ≥ï??0),i=100+10*a,s=50+5*r,l=30+3*o,c=80+5*a;return console.log(`[ËßíËâ≤ÂàùÂßãÂåñ] Â±ûÊÄßËÆ°ÁÆó: ÁîüÂëΩÂÄº=${i}, ÁîµÈáè=${s}, Â∏¶ÂÆΩ=${l}, Âπ¥ÈæÑ=${t}/${c}`),console.log(`[ËßíËâ≤ÂàùÂßãÂåñ] ÂàùÂßãÂÖ≠Áª¥: ‰ΩìË¥®=${a}, ËÉΩÊ∫ê=${r}, ÁÆóÊ≥ï=${o}`),{Èò∂‰Ωç:{ÂêçÁß∞:"Ë°óÂ§¥‰∫∫",Èò∂ÊÆµ:"",ÂΩìÂâçËøõÂ∫¶:0,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:100,ÊôãÂçáÊèèËø∞:"ÂÆåÊàêÂü∫Á°ÄÈÄÇÈÖçÔºåÂºÄÂßãËøõÂÖ•Ë°óÂ§¥Á∫ßËÆ≠ÁªÉ"},Â£∞Êúõ:0,‰ΩçÁΩÆ:{ÊèèËø∞:"‰ΩçÁΩÆÁîüÊàêÂ§±Ë¥•"},ÁîüÂëΩÂÄº:{ÂΩìÂâç:i,‰∏äÈôê:i},ÁîµÈáè:{ÂΩìÂâç:s,‰∏äÈôê:s},Â∏¶ÂÆΩ:{ÂΩìÂâç:l,‰∏äÈôê:l},ÂØøÂëΩ:{ÂΩìÂâç:t,‰∏äÈôê:c}}}async function E(e,t,n,a,r=!0,o="generate"){console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ===== initializeCharacter ÂÖ•Âè£ =====");const i=(0,c.N)();!t.ÁßçÊóè&&i.characterPayload.race&&(console.log(`[ÂàùÂßãÂåñÊµÅÁ®ã] Ë°•‰∏ÅÔºö‰ªé store ÂêåÊ≠•ÁßçÊóè‰ø°ÊÅØ: ${i.characterPayload.race}`),t.ÁßçÊóè=i.characterPayload.race),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] Êé•Êî∂Âà∞ÁöÑ baseInfo.ÂàùÂßãÂÖ≠Áª¥:",t.ÂàùÂßãÂÖ≠Áª¥);try{const{saveData:e,processedBaseInfo:i}=function(e,t){let n;console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] 1. ÂáÜÂ§áÂàùÂßãÂ≠òÊ°£Êï∞ÊçÆ"),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] prepareInitialData Êé•Êî∂Âà∞ÁöÑ baseInfo.ÂàùÂßãÂÖ≠Áª¥:",e.ÂàùÂßãÂÖ≠Áª¥);try{n=JSON.parse(JSON.stringify(e)),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] JSON Â∫èÂàóÂåñÂêéÁöÑ processedBaseInfo.ÂàùÂßãÂÖ≠Áª¥:",n.ÂàùÂßãÂÖ≠Áª¥)}catch(t){console.error("[ËßíËâ≤ÂàùÂßãÂåñ] JSON Â∫èÂàóÂåñÂ§±Ë¥•Ôºå‰ΩøÁî®ÂéüÂßãÂØπË±°",t),n=e}const a=t;Math.floor(12*Math.random()),Math.floor(60*Math.random()),n.Âá∫ÁîüÊó•Êúü||(n.Âá∫ÁîüÊó•Êúü={Âπ¥:a-t,Êúà:1,Êó•:1,Â∞èÊó∂:0,ÂàÜÈíü:0},console.log(`[ËßíËâ≤ÂàùÂßãÂåñ] ‰∏¥Êó∂Âá∫ÁîüÊó•Êúü(AIÂèØËÉΩ‰ºöÈáçÊñ∞ËÆ°ÁÆó): ${n.Âá∫ÁîüÊó•Êúü.Âπ¥}Âπ¥${n.Âá∫ÁîüÊó•Êúü.Êúà}Êúà${n.Âá∫ÁîüÊó•Êúü.Êó•}Êó• (ÂΩìÂâç${t}Â≤Å)`)),n.ÊàêÈïøÂÖ≠Áª¥||(n.ÊàêÈïøÂÖ≠Áª¥={‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0},console.log("[ËßíËâ≤ÂàùÂßãÂåñ] ÂàùÂßãÂåñÊàêÈïøÂÖ≠Áª¥‰∏∫ÂÖ®0")),x(n.ÊîπÈÄ†Ê†∏ÂøÉ)?console.log("[ÊîπÈÄ†ÁîüÊàê] Ê£ÄÊµãÂà∞ÈöèÊú∫ÊîπÈÄ†ÔºåÂ∞ÜÁî± AI ÂàõÈÄ†ÊÄßÁîüÊàê"):console.log("[ÊîπÈÄ†ÁîüÊàê] Ê£ÄÊµãÂà∞Áé©ÂÆ∂Â∑≤ÈÄâÊã©ÁâπÂÆöÊîπÈÄ†Ê†∏ÂøÉÔºåÂ∞ÜÁõ¥Êé•‰ΩøÁî®ËØ•ÊîπÈÄ†Ôºå‰∏çËøõË°åÈöèÊú∫ÂåñÂ§ÑÁêÜ„ÄÇ"),"string"!=typeof n.Âá∫Áîü||"ÈöèÊú∫Âá∫Áîü"!==n.Âá∫Áîü&&!n.Âá∫Áîü.includes("ÈöèÊú∫")||console.log("[Âá∫ÁîüÁîüÊàê] Ê£ÄÊµãÂà∞ÈöèÊú∫Âá∫ÁîüÔºåÂ∞ÜÁî± AI ÂàõÈÄ†ÊÄßÁîüÊàê");const r=w(n,t),o={Èò∂‰Ωç:r.Èò∂‰Ωç,Â£∞Êúõ:r.Â£∞Êúõ,ÁîüÂëΩÂÄº:r.ÁîüÂëΩÂÄº,ÁîµÈáè:r.ÁîµÈáè,Â∏¶ÂÆΩ:r.Â∏¶ÂÆΩ,ÂØøÂëΩ:r.ÂØøÂëΩ},i=r.‰ΩçÁΩÆ,s=(0,u.isTavernEnv)(),l={ËßíËâ≤:n,Â±ûÊÄß:o,‰ΩçÁΩÆ:i,ÊïàÊûú:[],Êó∂Èó¥:{Âπ¥:t,Êúà:1,Êó•:1,Â∞èÊó∂:Math.floor(12*Math.random())+6,ÂàÜÈíü:Math.floor(60*Math.random())},ËÉåÂåÖ:{‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:0,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0},Áâ©ÂìÅ:{}},Ë£ÖÂ§á:{Ë£ÖÂ§á1:null,Ë£ÖÂ§á2:null,Ë£ÖÂ§á3:null,Ë£ÖÂ§á4:null,Ë£ÖÂ§á5:null,Ë£ÖÂ§á6:null},Ê®°Âùó:{ÂΩìÂâçÊ®°ÂùóID:null,Ê®°ÂùóËøõÂ∫¶:{},Ê®°ÂùóÂ•óË£Ö:{‰∏ª‰øÆ:null,ËæÖ‰øÆ:[]}},ËÆ≠ÁªÉ:{ËÆ≠ÁªÉÊ®°Âùó:null},ÊµÅÊ¥æ:{ÊµÅÊ¥æÂàóË°®:{}},ÊäÄËÉΩ:{ÊéåÊè°ÊäÄËÉΩ:[],Ë£ÖÂ§áÊ†è:[],ÂÜ∑Âç¥:{}},ÁªÑÁªá:void 0,‰∫ã‰ª∂:{ÈÖçÁΩÆ:{ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""},‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥:null,‰∫ã‰ª∂ËÆ∞ÂΩï:[]},ËÆ∞ÂøÜ:{Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]},ÂÖ≥Á≥ª:{},ÂéÜÂè≤:{Âèô‰∫ã:[]},Á≥ªÁªü:{ËßÑÂàô:{Â±ûÊÄß‰∏äÈôê:{ÂàùÂßãÂÖ≠Áª¥:{ÊØèÈ°π‰∏äÈôê:10}},Ë£ÖÂ§áÁ≥ªÁªü:"Ë£ÖÂ§áÂ≠òÂÇ®ÂºïÁî®{Áâ©ÂìÅID,ÂêçÁß∞}ÔºåÂÆåÊï¥Êï∞ÊçÆÂú®ËÉåÂåÖ.Áâ©ÂìÅ‰∏≠",ÂìÅË¥®ÊéßÂà∂:"‰∏•Ê†ºÈÅµÂÆàÈò∂‰ΩçÂØπÂ∫îÂìÅË¥®ËåÉÂõ¥ÔºåË∂ÖËßÑÊ†ºÁâ©ÂìÅÊûÅÂÖ∂Á®ÄÊúâÔºåÊØè‰∏Ä‰∏™ÈÉΩÂèØËÉΩÂºïÂèëÁªÑÁªáÈúáËç°"},ÊèêÁ§∫:["‚ö†Ô∏è ÂÖàÂàõÂª∫Âêé‰øÆÊîπÔºö‰øÆÊîπÊï∞ÊçÆÂâçÂøÖÈ°ªÁ°Æ‰øùÊï∞ÊçÆÂ∑≤Â≠òÂú®","Ë£ÖÂ§áÂ≠óÊÆµÔºöË£ÖÂ§á1-6"],...s?{...(0,m.rW)()}:{}}};if(s&&l.Á≥ªÁªü?.nsfwMode){console.log(`[ËßíËâ≤ÂàùÂßãÂåñ] NSFWÊ®°ÂºèÂ∑≤ÂºÄÂêØÔºåÊ≠£Âú®ÂàùÂßãÂåñ[${e.ÊÄßÂà´}]ÊÄßË∫´‰ΩìÁªìÊûÑ...`);const t="Â•≥"===e.ÊÄßÂà´,n="Áî∑"===e.ÊÄßÂà´,a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r={Ë∫´È´ò:n?a(170,185):t?a(158,172):a(165,178),‰ΩìÈáç:n?a(65,80):t?a(45,58):a(55,70),‰ΩìËÑÇÁéá:n?a(12,18):t?a(18,26):a(15,22),‰∏âÂõ¥:{ËÉ∏Âõ¥:n?a(92,105):t?a(80,95):a(85,98),ËÖ∞Âõ¥:n?a(75,88):t?a(58,68):a(65,78),ËáÄÂõ¥:n?a(90,100):t?a(85,98):a(88,95)},Â§ñËßÇÁâπÂæÅ:[],ÊïèÊÑüÁÇπ:[],ÂºÄÂèëÂ∫¶:{},Á∫πË∫´‰∏éÂç∞ËÆ∞:[]};if(t){const e=["A","B","C","D","E"];r.ÁΩ©ÊùØ=e[a(0,e.length-1)],r.ËÉ∏ÈÉ®ÊèèËø∞="ÂΩ¢Áä∂È•±Êª°ÔºåËÇ§Â¶ÇÂáùËÑÇ",r.ÁßÅÂ§ÑÊèèËø∞="Á¥ßËá¥Á≤âÂ´©ÔºåÊØõÂèëÁ®ÄÁñè",r.ÁîüÊÆñÂô®ÊèèËø∞="ÂêçÂô®Â§©Êàê"}else n?(r.ËÉ∏ÈÉ®ÊèèËø∞="ËÉ∏ËÇåÁªìÂÆûÔºåËΩÆÂªìÂàÜÊòé",r.ÁîüÊÆñÂô®ÊèèËø∞="Â∞∫ÂØ∏ÊÉä‰∫∫ÔºåÈùíÁ≠ãÊö¥Ëµ∑"):(r.ËÉ∏ÈÉ®ÊèèËø∞="ÂæÖAIÁîüÊàê",r.ÁîüÊÆñÂô®ÊèèËø∞="ÂæÖAIÁîüÊàê");l.Ë∫´‰Ωì=r}const{migrated:c}=(0,v.jj)(l);return{saveData:c,processedBaseInfo:n}}(t,a),s=await async function(e,t){console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] 2. ÁîüÊàê‰∏ñÁïåÊï∞ÊçÆ");const n=(0,l.useUIStore)();n.updateLoadingText("üåç ‰∏ñÁïåÁîüÊàê: ÂáÜÂ§áÈÖçÁΩÆ...");const a=(0,c.N)(),r=a.worldGenerationConfig,o=a.selectedWorld;console.log("[‰∏ñÁïåÁîüÊàê] Áî®Êà∑ÈÖçÁΩÆÁöÑ‰∏ñÁïåËßÑÊ®°:",{‰∏ªË¶ÅÂäøÂäõ:r.majorFactionsCount,Âú∞ÁÇπÊÄªÊï∞:r.totalLocations,ÁßòÂ¢ÉÊï∞Èáè:r.secretRealmsCount,Â§ßÈôÜÊï∞Èáè:r.continentCount,‰ªÖÁîüÊàêÂ§ßÈôÜ:r.generateOnlyContinents});const i=!r.generateOnlyContinents,s=i?r.majorFactionsCount||5:0,d=i?r.totalLocations||12:0,u=i?r.secretRealmsCount||5:0;r.generateOnlyContinents?console.log('[‰∏ñÁïåÁîüÊàê] ‚úÖ ÂºÄÂêØ"‰ªÖÁîüÊàêÂ§ßÈôÜ"Ê®°ÂºèÔºåÂäøÂäõ„ÄÅÂú∞ÁÇπÂíåÁßòÂ¢ÉÂ∞ÜÂú®Â±ÄÂÜÖÂä®ÊÄÅÁîüÊàê'):console.log("[‰∏ñÁïåÁîüÊàê] üìã ÂÆåÊï¥‰∏ñÁïåÁîüÊàêÊ®°ÂºèÔºåÂ∞ÜÁîüÊàêÂäøÂäõ„ÄÅÂú∞ÁÇπÂíåÁßòÂ¢É");const m={worldName:o?.name||t.name,worldBackground:o?.description??t.description??void 0,worldEra:o?.era??t.era??void 0,factionCount:s,locationCount:d,secretRealmsCount:u,continentCount:r.continentCount||4,maxRetries:3,retryDelay:2e3,characterBackground:(e=>{if("string"==typeof e)return e;if(e&&"object"==typeof e&&"ÂêçÁß∞"in e){const t=e.ÂêçÁß∞;if("string"==typeof t)return t}return String(e??"")})(e.Âá∫Áîü),mapConfig:r.mapConfig,onStreamChunk:e=>{n.updateLoadingText(`üåç ‰∏ñÁïåÁîüÊàê‰∏≠...\n\n${e.substring(0,150)}...`)}};console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ÂºÄÂßãË∞ÉÁî®‰∏ñÁïåÁîüÊàêÂô®..."),n.updateLoadingText("üåç ÁîüÊàê‰∏≠: AIÊ≠£Âú®‰∏∫‰Ω†ÁîüÊàêÁã¨ÁâπÁöÑ‰∏ñÁïå...");const p=new b.U(m),g=Date.now(),h=await p.generateValidatedWorld(),f=Date.now()-g;if(console.log(`[ÂàùÂßãÂåñÊµÅÁ®ã] ‰∏ñÁïåÁîüÊàêÂô®ËøîÂõû,ËÄóÊó∂: ${f}ms`),h.success&&h.worldInfo)return console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ‰∏ñÁïåÁîüÊàêÊàêÂäü"),n.updateLoadingText("üåç ‰∏ñÁïåÁîüÊàê: ÂÆåÊàê"),h.worldInfo;throw new Error(`‰∏ñÁïåÁîüÊàêÂ§±Ë¥•Ôºö${h.errors?.join(", ")||"Êú™Áü•ÈîôËØØ"}`)}(i,n);e.‰∏ñÁïå||(e.‰∏ñÁïå={‰ø°ÊÅØ:{},Áä∂ÊÄÅ:{}}),e.‰∏ñÁïå.‰ø°ÊÅØ=s;const d=s.ÂäøÂäõ‰ø°ÊÅØ.find(e=>e.ÂêçÁß∞?.includes("Â§úÂÆ¥")||e.name?.includes("Â§úÂÆ¥"));if(d){const t=d.ÂêçÁß∞||d.name||"Â§úÂÆ¥ÁªÑÁªá",n=d.È¢ÜÂØºÂ±Ç||d.leadership,r=n&&"object"==typeof n?{...n}:{};if(r.È¶ñÈ¢Ü||(r.È¶ñÈ¢Ü="Â§úÂÆ¥‰∏ªÁêÜ‰∫∫"),r.ÊúÄÂº∫Á≠âÁ∫ß||(r.ÊúÄÂº∫Á≠âÁ∫ß=r.È¶ñÈ¢ÜÁ≠âÁ∫ß||"‰∏ªÂÆ∞Á∫ß"),r.Áâπ‰Ωø||(r.Áâπ‰Ωø="ÁÅ∞Â§´‰∫∫(Â§úÂÆ¥Áâπ‰Ωø)",console.log("[ËßíËâ≤ÂàùÂßãÂåñ] ‚úÖ Â∑≤Ë°•ÈΩêÂ§úÂÆ¥ÁªÑÁªáÈ¢ÜÂØºÂ±ÇÔºöÁâπ‰Ωø=ÁÅ∞Â§´‰∫∫(Â§úÂÆ¥Áâπ‰Ωø)")),d.È¢ÜÂØºÂ±Ç=r,d.leadership=r,(0,u.isTavernEnv)()){console.log("[ËßíËâ≤ÂàùÂßãÂåñ] üé≤ Ëß¶ÂèëÂ§úÂÆ¥ÁªÑÁªáÂΩ©ËõãÔºöÁîüÊàêÁÅ∞Â§´‰∫∫NPC");const n={ÂêçÂ≠ó:"ÁÅ∞Â§´‰∫∫(Â§úÂÆ¥Áâπ‰Ωø)",ÊÄßÂà´:"Â•≥",Âá∫ÁîüÊó•Êúü:{Âπ¥:Math.max(0,a-20),Êúà:1,Êó•:1},ÁßçÊóè:"‰∫∫Êóè",Âá∫Áîü:"Â§úÂÆ¥ÁªÑÁªá",Â§ñË≤åÊèèËø∞:"Ë∫´ÊùêÊûÅÂ∫¶‰∏∞Êª°ÔºåÊã•ÊúâÂ§∏Âº†ÁöÑ‰∏∞‰π≥ËÇ•ËáÄÔºåËÖ∞ËÇ¢Á∫§ÁªÜÂ¶ÇËõá„ÄÇÈù¢ÂÆπÂ¶ñÂ™öÔºåÁúºÁ•ûÂê´Êò•Ôºå‰∏æÊâãÊäïË∂≥Èó¥Êï£ÂèëÁùÄÊÉä‰∫∫ÁöÑÈ≠ÖÊÉëÂäõ„ÄÇË∫´ÁùÄËΩªËñÑÁ∫±Ë°£ÔºåÊõºÂ¶ôË∫´ÂßøËã•ÈöêËã•Áé∞„ÄÇ",ÊÄßÊ†ºÁâπÂæÅ:["Âπ≥ÊòìËøë‰∫∫","ÂºÄÊîæ","ÂèåÊÄßÊÅã","M‰ΩìË¥®","S‰ΩìË¥®","Áó¥Â•≥(ÊΩúÂú®)"],Èò∂‰Ωç:{ÂêçÁß∞:"Ê†∏ÂøÉÁ∫ß",Èò∂ÊÆµ:"ÂúÜÊª°",ÂΩìÂâçËøõÂ∫¶:0,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:100,ÂçáÁ∫ßÊèèËø∞:"Á≥ªÁªüËøáËΩΩËæπÁºòÔºåÊ†∏ÂøÉÁ®≥ÂÆö"},ÊîπÈÄ†Ê†∏ÂøÉ:{name:"Â§úÂÆ¥Ê†∏ÂøÉ",tier:"È°∂Á∫ß"},Ê®°Âùó:[{name:"Â§úÂÆ¥ÁâπÂåñ",description:"ÊÑüÂÆòÊîπÈÄ†‰∏éÊÉÖÊä•ÁΩëÁªúÂä†Êàê"}],ÂàùÂßãÂÖ≠Áª¥:{‰ΩìË¥®:8,ËÉΩÊ∫ê:9,ÁÆóÊ≥ï:8,ËµÑÊ∫êÊÑüÁü•:7,È≠ÖÂäõ:10,ÂøÉÊô∫:5},‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª:"ÈôåÁîü‰∫∫",Â•ΩÊÑüÂ∫¶:10,ÂΩìÂâç‰ΩçÁΩÆ:{ÊèèËø∞:`${t}È©ªÂú∞`},ÂäøÂäõÂΩíÂ±û:t,‰∫∫Ê†ºÂ∫ïÁ∫ø:[],ËÆ∞ÂøÜ:["ÊàëÊòØÂêàÊ¨¢ÁªÑÁªáÁöÑ‰ª£Ë®Ä‰∫∫Ôºå‰∫∫Áß∞ÁÅ∞Â§´‰∫∫„ÄÇ","ÊàëÁöÑÁúüÂÆûÂßìÂêçÊòØ‰∏Ä‰∏™ÁßòÂØÜÔºåÂè™ÊúâÁúüÊ≠£ÂæÅÊúçÊàëÁöÑ‰∫∫ÊâçËÉΩÁü•ÈÅì„ÄÇ","ÊàëÊ∏¥Êúõ‰ΩìÈ™å‰∏ñÈó¥ÊûÅËá¥ÁöÑÂø´‰πê‰∏éÁóõËã¶ÔºåÊó†ËÆ∫ÊòØÁªô‰∫àËøòÊòØÊé•Âèó„ÄÇ"],ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ:"Ë°£Ë°´ÂçäËß£ÔºåÂ™öÁúºÂ¶Ç‰∏ù",ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï:"ËßÇÂØüÁùÄÂë®Âõ¥ÁöÑ‰∫∫ÔºåÂØªÊâæËÉΩËÆ©ÊàëÊÑüÂÖ¥Ë∂£ÁöÑÁåéÁâ©",ËÉåÂåÖ:{‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:5e3,‰∏≠È¢ù:500,È´òÈ¢ù:50,ÊúÄÈ´òÈ¢ù:0},Áâ©ÂìÅ:{}},ÂÆûÊó∂ÂÖ≥Ê≥®:!0,ÁßÅÂØÜ‰ø°ÊÅØ:{ÊòØÂê¶‰∏∫Â§ÑÂ•≥:!0,Ë∫´‰ΩìÈÉ®‰Ωç:[{ÈÉ®‰ΩçÂêçÁß∞:"ÂêéÂ∫≠",ÁâπÂæÅÊèèËø∞:"‰πùÊõ≤ÂõûÂªäÔºåÁ¥ßËá¥ÂπΩÊ∑±ÔºåÂÜÖÂ£ÅË§∂Áö±ÁπÅÂ§çÔºå‰ªø‰ΩõËÉΩÂêûÂô¨‰∏ÄÂàá",ÊïèÊÑüÂ∫¶:80,ÂºÄÂèëÂ∫¶:0,ÁâπÊÆäÂç∞ËÆ∞:"Êú™ÂºÄÂèë"},{ÈÉ®‰ΩçÂêçÁß∞:"Èò¥ÈÅì",ÁâπÂæÅÊèèËø∞:"Êò•Ê∞¥ÁéâÂ£∂ÔºåÂêçÂô®Â§©ÊàêÔºåÂ∏∏Âπ¥ÊπøÊ∂¶ÔºåÁ¥ßËá¥Â¶ÇÂàù",ÊïèÊÑüÂ∫¶:90,ÂºÄÂèëÂ∫¶:0,ÁâπÊÆäÂç∞ËÆ∞:"ÁôΩËôé"},{ÈÉ®‰ΩçÂêçÁß∞:"ËÖ∞ÈÉ®",ÁâπÂæÅÊèèËø∞:"‰∏ÉÂØ∏ÁõòËõáÔºåÊüîËã•Êó†È™®ÔºåÂèØÂÅöÂá∫‰ªª‰ΩïÈ´òÈöæÂ∫¶ÂßøÂäø",ÊïèÊÑüÂ∫¶:70,ÂºÄÂèëÂ∫¶:0},{ÈÉ®‰ΩçÂêçÁß∞:"Êâã",ÁâπÂæÅÊèèËø∞:"Á∫§ÊâãËßÇÈü≥ÔºåÊåáËã•ÂâäËë±ÔºåÁÅµÊ¥ªÂ§öÂèòÔºåÊìÖÈïøÊåëÈÄó",ÊïèÊÑüÂ∫¶:60,ÂºÄÂèëÂ∫¶:0},{ÈÉ®‰ΩçÂêçÁß∞:"Ë∂≥",ÁâπÂæÅÊèèËø∞:"Áé≤ÁèëÈ∏≥È∏ØÔºåÂºìË∂≥Â¶ÇÁéâÔºåËÑöË∂æÂúÜÊ∂¶ÂèØÁà±ÔºåË∂≥Âºì‰ºòÁæé",ÊïèÊÑüÂ∫¶:85,ÂºÄÂèëÂ∫¶:0},{ÈÉ®‰ΩçÂêçÁß∞:"Âò¥",ÁâπÂæÅÊèèËø∞:"Â¶ÇÊÑèÈ±ºÂîáÔºåÊ®±Ê°ÉÂ∞èÂè£ÔºåËàåÂ§¥ÁÅµÊ¥ªÔºåÊ∑±ÂñâÂ§©ËµãÂºÇÁ¶Ä",ÊïèÊÑüÂ∫¶:75,ÂºÄÂèëÂ∫¶:0},{ÈÉ®‰ΩçÂêçÁß∞:"ËÉ∏ÈÉ®",ÁâπÂæÅÊèèËø∞:"‰π≥ÁáïÁéâÂ≥∞ÔºåÊ≥¢Ê∂õÊ±πÊ∂åÔºå‰π≥ÊôïÁ≤âÂ´©Ôºå‰π≥Â§¥ÊïèÊÑüÊòìÁ°¨",ÊïèÊÑüÂ∫¶:95,ÂºÄÂèëÂ∫¶:0}],ÊÄßÊ†ºÂÄæÂêë:"ÂºÄÊîæ‰∏îÈ°∫‰ªé(ÂæÖË∞ÉÊïô)",ÊÄßÂèñÂêë:"ÂèåÊÄßÊÅã",ÊÄßÁôñÂ•Ω:["BDSM","Ë∂≥‰∫§","‰π≥‰∫§","ÊçÜÁªë","Ë∞ÉÊïô","ÈááË°•","ËßíËâ≤ÊâÆÊºî","ÊîØÈÖç","Ë¢´ÊîØÈÖç","Èú≤Âá∫","ÊîæÂ∞ø","ÂáåËæ±","ÂàëÂÖ∑"],ÊÄßÊ∏¥ÊúõÁ®ãÂ∫¶:80,ÂΩìÂâçÊÄßÁä∂ÊÄÅ:"Ê∏¥Êúõ",‰ΩìÊ∂≤ÂàÜÊ≥åÁä∂ÊÄÅ:"ÂÖÖÊ≤õ",ÊÄß‰∫§ÊÄªÊ¨°Êï∞:0,ÊÄß‰º¥‰æ£ÂêçÂçï:[],ÊúÄËøë‰∏ÄÊ¨°ÊÄßË°å‰∏∫Êó∂Èó¥:"Êó†",ÁâπÊÆä‰ΩìË¥®:["ÂêàÊ¨¢Âú£‰Ωì","ÂêçÂô®ÂêàÈõÜ"]}};e.Á§æ‰∫§||(e.Á§æ‰∫§={ÂÖ≥Á≥ª:{},‰∫ã‰ª∂:{},ËÆ∞ÂøÜ:{}}),e.Á§æ‰∫§.ÂÖ≥Á≥ª||(e.Á§æ‰∫§.ÂÖ≥Á≥ª={}),e.Á§æ‰∫§.ÂÖ≥Á≥ª[n.ÂêçÂ≠ó]||(e.Á§æ‰∫§.ÂÖ≥Á≥ª[n.ÂêçÂ≠ó]=n)}}console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] 2.5 ‰∏ñÁïåÂ∑≤ÂåÖÂê´Âú®saveData‰∏≠ÔºàÊñ∞Êû∂ÊûÑË∑≥ËøáÈÖíÈ¶ÜÂêåÊ≠•Ôºâ"),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ‰∏ñÁïåÂåÖÂê´",s.Â§ßÈôÜ‰ø°ÊÅØ?.length||0,"‰∏™Â§ßÈôÜ"),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] Â§ßÈôÜÂàóË°®:",s.Â§ßÈôÜ‰ø°ÊÅØ?.map(e=>e.ÂêçÁß∞||e.name).join("„ÄÅ")),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ÂáÜÂ§áË∞ÉÁî®generateOpeningScene..."),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ‰ΩøÁî®ÊµÅÂºèÊ®°Âºè:",r),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ‰ΩøÁî®ÁîüÊàêÊ®°Âºè:",o);const{finalSaveData:E}=await async function(e,t,n,a,r=!0,o="generate"){console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] 3. ÁîüÊàêÂºÄÂú∫ÂâßÊÉÖ");const i=(0,l.useUIStore)();i.updateLoadingText("Ê≠£Âú®‰∏∫ÊÇ®ÂàõÂª∫‰Ω†ÁöÑ‰∏ìÂ±ûÊïÖ‰∫ã...");const s=(0,c.N)(),d={name:t.ÂêçÂ≠ó,gender:t.ÊÄßÂà´,race:t.ÁßçÊóè??"‰∫∫Êóè",age:a,world:t.‰∏ñÁïå||n,talentTier:t.Â§©ËµÑ,origin:t.Âá∫Áîü,spiritRoot:t.ÊîπÈÄ†Ê†∏ÂøÉ,talents:t.Â§©Ëµã||[],attributes:t.ÂàùÂßãÂÖ≠Áª¥||{},difficultyPrompt:s.currentDifficultyPrompt};console.log("[ÂàùÂßãÂåñ] üî• Áî®Êà∑ÈÄâÊã©Êï∞ÊçÆÊ£ÄÊü•:"),console.log("  - ÁßçÊóè:",t.ÁßçÊóè,"->",d.race),console.log("  - Â§©ËµÑ:",d.talentTier),console.log("  - Âá∫Ë∫´:",d.origin),console.log("  - ÊîπÈÄ†Ê†∏ÂøÉ:",d.spiritRoot),console.log("  - Â§©ËµãÊï∞Èáè:",d.talents?.length),console.log("  - ÈöæÂ∫¶:",s.gameDifficulty);const f=(0,u.isTavernEnv)(),v={worldInfo:e.‰∏ñÁïå?.‰ø°ÊÅØ,availableContinents:e.‰∏ñÁïå?.‰ø°ÊÅØ?.Â§ßÈôÜ‰ø°ÊÅØ?.map(e=>({ÂêçÁß∞:e.ÂêçÁß∞,ÊèèËø∞:e.ÊèèËø∞,Â§ßÊ¥≤ËæπÁïå:e.Â§ßÊ¥≤ËæπÁïå}))||[],availableLocations:e.‰∏ñÁïå?.‰ø°ÊÅØ?.Âú∞ÁÇπ‰ø°ÊÅØ?.map(e=>({ÂêçÁß∞:e.name||e.ÂêçÁß∞,Á±ªÂûã:e.type||e.Á±ªÂûã,ÊèèËø∞:e.description||e.ÊèèËø∞,ÊâÄÂ±ûÂäøÂäõ:e.faction||e.ÊâÄÂ±ûÂäøÂäõ,coordinates:e.coordinates}))||[],mapConfig:e.‰∏ñÁïå?.‰ø°ÊÅØ?.Âú∞ÂõæÈÖçÁΩÆ,systemSettings:f?(0,m.Md)(e.Á≥ªÁªü?.ÈÖçÁΩÆ??{}):e.Á≥ªÁªü?.ÈÖçÁΩÆ||{}};console.log("[ÂàùÂßãÂåñ] üî• ‰∏ñÁïåÊ£ÄÊü•:"),console.log("  - ‰∏ñÁïåÊèèËø∞:",e.‰∏ñÁïå?.‰ø°ÊÅØ?.‰∏ñÁïåËÉåÊôØ||"Êú™ÊâæÂà∞"),console.log("  - Â§ßÈôÜÊï∞Èáè:",v.availableContinents.length),console.log("  - Âú∞ÁÇπÊï∞Èáè:",v.availableLocations.length);const b=await(0,h.IJ)(),y=(0,h.p$)(d,v),w=`ÊàëÂàõÂª∫‰∫ÜËßíËâ≤"${t.ÂêçÂ≠ó}"ÔºåËØ∑Ê†πÊçÆÊàëÁöÑÈÄâÊã©ÁîüÊàêÂºÄÂ±ÄÊïÖ‰∫ãÂíåÂàùÂßãÊï∞ÊçÆ„ÄÇ\n\n${y}\n\n**ÈáçË¶ÅÊèêÁ§∫**Ôºö\n- ‰∏•Ê†ºÊåâÁÖßÊàëÁöÑËßíËâ≤ËÆæÂÆöÊù•ÁîüÊàêÂÜÖÂÆπ\n- ÊàëÈÄâÊã©ÁöÑÊòØ‰ªÄ‰πàÊ†∑ÁöÑÂá∫Ë∫´„ÄÅÂ§©Ëµã„ÄÅÊîπÈÄ†Ê†∏ÂøÉÔºå‰Ω†Â∞±Â¶ÇÂÆûÂ±ïÁé∞\n- ‰∏çË¶ÅÂº∫Âä†‰ªª‰ΩïÈ¢ÑËÆæÁöÑÂâßÊÉÖÊñπÂêëÊàñÁîüÊ¥ªÊñπÂºè\n- ËøôÂè™ÊòØ‰∏Ä‰∏™ÂºÄÂßãÔºåÊàëÁöÑ‰∫∫ÁîüÊàëÂÅö‰∏ª`;console.log(`[ÂàùÂßãÂåñ] ÂáÜÂ§áÁîüÊàêÂºÄÂú∫ÂâßÊÉÖÔºåËßíËâ≤: ${t.ÂêçÂ≠ó}`),console.log("[ÂàùÂßãÂåñ] ÂèØÁî®Â§ßÈôÜÂàóË°®:",v.availableContinents.map(e=>e.ÂêçÁß∞)),console.log("[ÂàùÂßãÂåñ] ÂèØÁî®Âú∞ÁÇπÊï∞Èáè:",v.availableLocations?.length||0);let E="";const N=e=>{E+=e;const t=E.length>300?"..."+E.slice(-300):E;i.updateLoadingText(`Ê≠£Âú®‰∏∫ÊÇ®ÂàõÂª∫‰Ω†ÁöÑ‰∏ìÂ±ûÊïÖ‰∫ã...<br/><br/><div style="text-align: left; font-size: 0.9em; opacity: 0.8; white-space: pre-wrap;">${t}</div>`)},S=await async function(e,t,n,a){const r=(0,l.useUIStore)();let o=null,i=0;for(;;){i++;try{i>1&&r.updateLoadingText(`${a} (Á¨¨ ${i-1} Ê¨°ÈáçËØï)`),console.log(`[robustAICall] Ê≠£Âú®Â∞ùËØï: ${a}, Á¨¨ ${i} Ê¨°`);const n=await e();if(console.log(`[robustAICall] Êî∂Âà∞ÂìçÂ∫î for ${a}:`,n),t(n))return console.log(`[robustAICall] ÂìçÂ∫îÈ™åËØÅÊàêÂäü for ${a}`),n;throw new Error("AIÂìçÂ∫îÊ†ºÂºèÊó†ÊïàÊàñÊú™ÈÄöËøáÈ™åËØÅ")}catch(e){if(o=e instanceof Error?e:new Error(String(e)),console.warn(`[AIË∞ÉÁî®ÈáçËØï] Á¨¨ ${i} Ê¨°Â∞ùËØïÂ§±Ë¥•:`,o.message),i>3){if(await k(a,o.message)){i=0;continue}throw new Error(`${a}Â§±Ë¥•ÔºåÁî®Êà∑ÈÄâÊã©‰∏çÁªßÁª≠ÈáçËØï: ${o.message}`)}await new Promise(e=>setTimeout(e,1e3*i))}}}(async()=>{console.log("[ÂàùÂßãÂåñ] ===== ÂºÄÂßãÁîüÊàêÂºÄÂú∫ÂâßÊÉÖ =====");const e=Date.now();try{const t=g.J,n=await t.generateInitialMessage(b,w,{useStreaming:r,generateMode:o,onStreamChunk:N}),a=Date.now()-e;return console.log(`[ÂàùÂßãÂåñ] ‚úÖ AIÁîüÊàêÂÆåÊàê,ËÄóÊó∂: ${a}ms, ÊµÅÂºèÊ®°Âºè: ${r}, ÁîüÊàêÊ®°Âºè: ${o}`),n}catch(e){throw console.error("[ÂàùÂßãÂåñ] ‚ùå AIÁîüÊàêÂ§±Ë¥•:",e),e}},e=>{if(console.log("[AIÈ™åËØÅ-ËØäÊñ≠] ===== ÂºÄÂßãÈ™åËØÅAIÂìçÂ∫î ====="),console.log("[AIÈ™åËØÅ-ËØäÊñ≠] ÂìçÂ∫îÁ±ªÂûã:",typeof e),console.log("[AIÈ™åËØÅ-ËØäÊñ≠] ÂìçÂ∫îÂÜÖÂÆπ(Ââç500Â≠ó):",JSON.stringify(e).substring(0,500)),!e||"object"!=typeof e)return console.warn("[AIÈ™åËØÅ] ‚ùå ÂìçÂ∫î‰∏çÊòØÂØπË±°ÔºåÂÆûÈôÖÁ±ªÂûã:",typeof e),console.warn("[AIÈ™åËØÅ] ÂìçÂ∫îÂÜÖÂÆπ:",e),!1;if(!e.text||"string"!=typeof e.text)return console.warn("[AIÈ™åËØÅ] ‚ùå textÂ≠óÊÆµÊó†Êïà"),console.warn("[AIÈ™åËØÅ] textÂÄº:",e.text),!1;if(e.text.trim().length<200)return console.warn("[AIÈ™åËØÅ] ‚ùå ÊñáÊú¨Â§™Áü≠ (ÈïøÂ∫¶:",e.text.length,")"),!1;if(e.text.includes("placeholder")||e.text.includes("TODO")||e.text.includes("ÂæÖÂ°´ÂÖÖ"))return console.warn("[AIÈ™åËØÅ] ‚ùå ÊñáÊú¨ÂåÖÂê´Âç†‰ΩçÁ¨¶"),!1;if(!Array.isArray(e.tavern_commands))return console.warn("[AIÈ™åËØÅ] ‚ùå tavern_commands‰∏çÊòØÊï∞ÁªÑÔºåÂÆûÈôÖÁ±ªÂûã:",typeof e.tavern_commands),console.warn("[AIÈ™åËØÅ] tavern_commandsÂÄº:",e.tavern_commands),!1;if(0===e.tavern_commands.length)return console.warn("[AIÈ™åËØÅ] ‚ùå tavern_commandsÊòØÁ©∫Êï∞ÁªÑ"),!1;console.log("[AIÈ™åËØÅ-ËØäÊñ≠] tavern_commandsÊï∞Èáè:",e.tavern_commands.length);const t=e.tavern_commands.find(e=>!(!e||"set"!==e.action||"ËßíËâ≤.‰ΩçÁΩÆ"!==e.key&&"‰ΩçÁΩÆ"!==e.key));if(t){const e=t.value;if(!e||"object"!=typeof e)return console.warn("[AIÈ™åËØÅ] ‚ùå ‰ΩçÁΩÆÂÄº‰∏çÊòØÂØπË±°ÔºåÁ±ªÂûã:",typeof e),console.warn("[AIÈ™åËØÅ] ‰ΩçÁΩÆÂÄº:",e),!1;const n=e;if(!n.ÊèèËø∞||"string"!=typeof n.ÊèèËø∞||0===n.ÊèèËø∞.trim().length)return console.warn("[AIÈ™åËØÅ] ‚ùå ‰ΩçÁΩÆÊèèËø∞Êó†Êïà"),console.warn("[AIÈ™åËØÅ] ÊèèËø∞ÂÄº:",n.ÊèèËø∞),!1;if(n.ÊèèËø∞.includes("undefined")||n.ÊèèËø∞.includes("null"))return console.warn("[AIÈ™åËØÅ] ‚ùå ‰ΩçÁΩÆÊèèËø∞ÂåÖÂê´Êó†ÊïàÂÜÖÂÆπ:",n.ÊèèËø∞),!1;if("number"!=typeof n.x||"number"!=typeof n.y)return console.warn("[AIÈ™åËØÅ] ‚ùå ‰ΩçÁΩÆÂùêÊ†áÊó†Êïà"),console.warn("[AIÈ™åËØÅ] x:",n.x,"y:",n.y),!1;console.log("[AIÈ™åËØÅ] ‚úÖ ‰ΩçÁΩÆÂëΩ‰ª§ÊúâÊïà:",n.ÊèèËø∞,`(${n.x}, ${n.y})`)}else console.warn("[AIÈ™åËØÅ] ‚ö†Ô∏è Êú™Êèê‰æõ‰ΩçÁΩÆÂëΩ‰ª§ÔºàÂ∞ÜÁªßÁª≠ÊµÅÁ®ãÔºåÂêéÁª≠Áî±ÈªòËÆ§ÂÄº/ÊúÄÁªàÊ†°È™åÂÖúÂ∫ïÔºâ");return Array.isArray(e.action_options)?0===e.action_options.length?console.warn("[AIÈ™åËØÅ] ‚ö†Ô∏è action_optionsÊòØÁ©∫Êï∞ÁªÑÔºåÂ∞Ü‰ΩøÁî®ÈªòËÆ§ÈÄâÈ°π"):console.log("[AIÈ™åËØÅ] ‚úÖ action_optionsÊúâÊïàÔºåÊï∞Èáè:",e.action_options.length):console.warn("[AIÈ™åËØÅ] ‚ö†Ô∏è action_options‰∏çÊòØÊï∞ÁªÑÔºåÂ∞Ü‰ΩøÁî®ÈªòËÆ§ÈÄâÈ°π"),console.log("[AIÈ™åËØÅ] ‚úÖ ÊâÄÊúâÈ™åËØÅÈÄöËøá"),!0},0,"Ê≠£Âú®‰∏∫ÊÇ®ÂàõÂª∫‰Ω†ÁöÑ‰∏ìÂ±ûÊïÖ‰∫ã..."),_=g.J,{saveData:V,stateChanges:C}=await _.processGmResponse(S,e,!0),A=(0,c.N)();if(x(String(A.selectedSpiritRoot?.name||""))&&V.ËßíËâ≤?.Ë∫´‰ªΩ?.ÊîπÈÄ†Ê†∏ÂøÉ){const e=V.ËßíËâ≤.Ë∫´‰ªΩ.ÊîπÈÄ†Ê†∏ÂøÉ;"object"==typeof e&&A.setAIGeneratedSpiritRoot(e)}if("ÈöèÊú∫Âá∫Ë∫´"===A.selectedOrigin?.name&&V.ËßíËâ≤?.Ë∫´‰ªΩ?.Âá∫Áîü){const e=V.ËßíËâ≤.Ë∫´‰ªΩ.Âá∫Áîü;"object"==typeof e&&A.setAIGeneratedOrigin(e)}if((0,p.useGameStateStore)().loadFromSaveData(V),!String(S.text||"").trim())throw new Error("AIÁîüÊàêÁöÑÂºÄÂú∫ÂâßÊÉÖ‰∏∫Á©∫");return V.Á≥ªÁªü?.ÂéÜÂè≤?.Âèô‰∫ã&&V.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã.length>0&&(V.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã[V.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã.length-1].stateChanges=C),{finalSaveData:V,aiResponse:S}}(e,i,n,a,r,o);console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] generateOpeningSceneÂ∑≤ËøîÂõû"),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] Ê†∏ÂøÉÂ±ûÊÄßÊ†°ÂáÜÔºöÂêàÂπ∂AI‰øÆÊîπ‰∏éÂàùÂßãÂ±ûÊÄß...");const N=w(t,a),S=E.Áä∂ÊÄÅ||{},_=S.Èò∂‰Ωç&&"object"==typeof S.Èò∂‰Ωç?{ÂêçÁß∞:S.Èò∂‰Ωç.ÂêçÁß∞||N.Èò∂‰Ωç.ÂêçÁß∞,Èò∂ÊÆµ:void 0!==S.Èò∂‰Ωç.Èò∂ÊÆµ?S.Èò∂‰Ωç.Èò∂ÊÆµ:N.Èò∂‰Ωç.Èò∂ÊÆµ,ÂΩìÂâçËøõÂ∫¶:void 0!==S.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶?S.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶:N.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:void 0!==S.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ?S.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:N.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ,ÊôãÂçáÊèèËø∞:S.Èò∂‰Ωç.ÊôãÂçáÊèèËø∞||N.Èò∂‰Ωç.ÊôãÂçáÊèèËø∞}:N.Èò∂‰Ωç;E.Áä∂ÊÄÅ={...N,...S,Èò∂‰Ωç:_},console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] Ê†∏ÂøÉÂ±ûÊÄßÊ†°ÂáÜÂÆåÊàêÔºåÈò∂‰Ωç:",_),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ÂáÜÂ§áÊúÄÁªàÂåñÂπ∂ÂêåÊ≠•Êï∞ÊçÆ...");const V=await async function(e,t,n,a){console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] 4. ÂêàÂπ∂„ÄÅÈ™åËØÅÂπ∂ÂêåÊ≠•ÊúÄÁªàÊï∞ÊçÆ");const r=(0,l.useUIStore)();r.updateLoadingText(`Ê≠£Âú®ÂêåÊ≠•Êï∞ÊçÆÔºåÂç≥Â∞ÜËøõÂÖ•${t.ÂêçÂ≠ó}ÁöÑÈúìËôπ‰∏ñÁïå...`);const o={...e.ËßíËâ≤?.Ë∫´‰ªΩ??{},...t,ÂêçÂ≠ó:t.ÂêçÂ≠ó,ÊÄßÂà´:t.ÊÄßÂà´,ÁßçÊóè:t.ÁßçÊóè,ÂàùÂßãÂÖ≠Áª¥:t.ÂàùÂßãÂÖ≠Áª¥,Â§©Ëµã:t.Â§©Ëµã};if("object"==typeof t.ÊîπÈÄ†Ê†∏ÂøÉ&&t.ÊîπÈÄ†Ê†∏ÂøÉ?.name?.includes("ÈöèÊú∫")||"string"==typeof t.ÊîπÈÄ†Ê†∏ÂøÉ&&t.ÊîπÈÄ†Ê†∏ÂøÉ.includes("ÈöèÊú∫")){console.log("[Êï∞ÊçÆÊúÄÁªàÂåñ] üé≤ Áî®Êà∑ÈÄâÊã©ÈöèÊú∫ÊîπÈÄ†Ôºå‰ΩøÁî®AIÁîüÊàêÁöÑÊï∞ÊçÆ");const n=e.ËßíËâ≤?.Ë∫´‰ªΩ?.ÊîπÈÄ†Ê†∏ÂøÉ;if(o.ÊîπÈÄ†Ê†∏ÂøÉ=n||"ÈöèÊú∫ÊîπÈÄ†","string"==typeof o.ÊîπÈÄ†Ê†∏ÂøÉ&&o.ÊîπÈÄ†Ê†∏ÂøÉ.includes("ÈöèÊú∫")){console.warn("[Êï∞ÊçÆÊúÄÁªàÂåñ] ‚ö†Ô∏è Ë≠¶ÂëäÔºöAIÊú™ËÉΩÊ≠£Á°ÆÊõøÊç¢ÈöèÊú∫ÊîπÈÄ†Ôºå‰ΩøÁî®Êú¨Âú∞Êï∞ÊçÆÂ∫ìÁîüÊàê");const e=t.Â§©ËµÑ;let n=y.Gr.filter(t=>"Â∫üÊü¥"===e.name||"Âá°‰∫∫"===e.name?"Ê∞ëÁî®"===t.tier||"‰∏ãÂìÅ"===t.tier:"‰øäÊù∞"===e.name?"‰∏≠ÂìÅ"===t.tier||"‰∏äÂìÅ"===t.tier:"Â§©È™Ñ"===e.name?"‰∏äÂìÅ"===t.tier||"ÊûÅÂìÅ"===t.tier:"Â¶ñÂ≠Ω"===e.name?"ÊûÅÂìÅ"===t.tier:"Ê∞ëÁî®"===t.tier||"‰∏ãÂìÅ"===t.tier);0===n.length&&(n=y.Gr);const a=n[Math.floor(Math.random()*n.length)];o.ÊîπÈÄ†Ê†∏ÂøÉ=a,console.log(`[Êï∞ÊçÆÊúÄÁªàÂåñ] ‚úÖ Â∑≤‰ªéÊú¨Âú∞Êï∞ÊçÆÂ∫ìÁîüÊàêÈöèÊú∫ÊîπÈÄ†: ${a.name} (${a.tier})`)}}else console.log(`[Êï∞ÊçÆÊúÄÁªàÂåñ] ‚úÖ Áî®Êà∑ÈÄâÊã©ÁâπÂÆöÊîπÈÄ†Ê†∏ÂøÉÔºåÂº∫Âà∂‰ΩøÁî®Áî®Êà∑ÈÄâÊã©: ${t.ÊîπÈÄ†Ê†∏ÂøÉ?.name}`),o.ÊîπÈÄ†Ê†∏ÂøÉ=t.ÊîπÈÄ†Ê†∏ÂøÉ;if("object"==typeof t.Âá∫Áîü&&t.Âá∫Áîü?.name?.includes("ÈöèÊú∫")||"string"==typeof t.Âá∫Áîü&&t.Âá∫Áîü.includes("ÈöèÊú∫")){console.log("[Êï∞ÊçÆÊúÄÁªàÂåñ] üé≤ Áî®Êà∑ÈÄâÊã©ÈöèÊú∫Âá∫Ë∫´Ôºå‰ΩøÁî®AIÁîüÊàêÁöÑÊï∞ÊçÆ");const t=e.ËßíËâ≤?.Ë∫´‰ªΩ?.Âá∫Áîü;if(o.Âá∫Áîü=t||"ÈöèÊú∫Âá∫Ë∫´","string"==typeof o.Âá∫Áîü&&o.Âá∫Áîü.includes("ÈöèÊú∫")){console.warn("[Êï∞ÊçÆÊúÄÁªàÂåñ] ‚ö†Ô∏è Ë≠¶ÂëäÔºöAIÊú™ËÉΩÊ≠£Á°ÆÊõøÊç¢ÈöèÊú∫Âá∫Ë∫´Ôºå‰ΩøÁî®Êú¨Âú∞Êï∞ÊçÆÂ∫ìÁîüÊàê");const e=y.yM[Math.floor(Math.random()*y.yM.length)];o.Âá∫Áîü=e,console.log(`[Êï∞ÊçÆÊúÄÁªàÂåñ] ‚úÖ Â∑≤‰ªéÊú¨Âú∞Êï∞ÊçÆÂ∫ìÁîüÊàêÈöèÊú∫Âá∫Ë∫´: ${e.name}`)}}else console.log(`[Êï∞ÊçÆÊúÄÁªàÂåñ] ‚úÖ Áî®Êà∑ÈÄâÊã©ÁâπÂÆöÂá∫Ë∫´ÔºåÂº∫Âà∂‰ΩøÁî®Áî®Êà∑ÈÄâÊã©: ${t.Âá∫Áîü?.name}`),o.Âá∫Áîü=t.Âá∫Áîü;const i=function(e){const t={...e},n=(0,c.N)();console.log("[Êï∞ÊçÆÊ†°ÂáÜ] ÂºÄÂßã‰ªéÂàõËßí‰ªìÂ∫ìÂêåÊ≠•ÊâÄÊúâÊùÉÂ®ÅÊï∞ÊçÆ..."),console.log("[Êï∞ÊçÆÊ†°ÂáÜ] „ÄêÈáçË¶Å„ÄëÊâÄÊúâÁî®Êà∑ÊâãÂä®ÈÄâÊã©ÁöÑÊï∞ÊçÆÈÉΩÂ∞ÜË¢´‰øùÊä§Ôºå‰∏çË¢´AIÊàñ‰ª£Á†Å‰øÆÊîπ");const a=n.selectedTalentTier;a?(console.log(`[Êï∞ÊçÆÊ†°ÂáÜ] ‚úÖ ÂêåÊ≠•Áî®Êà∑ÈÄâÊã©ÁöÑÂ§©ËµÑ: ${a.name}`),t.Â§©ËµÑ=a):console.warn("[Êï∞ÊçÆÊ†°ÂáÜ] Ë≠¶Âëä: Êó†Ê≥ïÊâæÂà∞ÊùÉÂ®ÅÁöÑÂ§©ËµÑÊï∞ÊçÆ„ÄÇ");const r=n.selectedOrigin,o=t.Âá∫Áîü&&"object"==typeof t.Âá∫Áîü&&"ÈöèÊú∫Âá∫Ë∫´"!==t.Âá∫Áîü.ÂêçÁß∞;r&&!o?(console.log(`[Êï∞ÊçÆÊ†°ÂáÜ] ‚úÖ ÂêåÊ≠•Áî®Êà∑ÈÄâÊã©ÁöÑÂá∫Ë∫´: ${r.name}`),t.Âá∫Áîü=r):o?console.log("[Êï∞ÊçÆÊ†°ÂáÜ] ‚úÖ ‰øùÁïôÂ∑≤ÁîüÊàêÁöÑÂÖ∑‰ΩìÂá∫Ë∫´:",t.Âá∫Áîü.name):null===n.characterPayload.origin_id?(console.log("[Êï∞ÊçÆÊ†°ÂáÜ] üé≤ Áî®Êà∑ÈÄâÊã©ÈöèÊú∫Âá∫Ë∫´Ôºå‰ΩÜÊó†ÊúâÊïàÁîüÊàêÂÄºÔºåÊ†áËÆ∞‰∏∫ÈöèÊú∫"),t.Âá∫Áîü="ÈöèÊú∫Âá∫Ë∫´"):console.warn("[Êï∞ÊçÆÊ†°ÂáÜ] Ë≠¶Âëä: Êó†Ê≥ïÊâæÂà∞ÊùÉÂ®ÅÁöÑÂá∫Ë∫´Êï∞ÊçÆ„ÄÇ");const i=n.selectedSpiritRoot,s=t.ÊîπÈÄ†Ê†∏ÂøÉ&&"object"==typeof t.ÊîπÈÄ†Ê†∏ÂøÉ&&!String(t.ÊîπÈÄ†Ê†∏ÂøÉ.ÂêçÁß∞||"").includes("ÈöèÊú∫");i&&!s?(console.log(`[Êï∞ÊçÆÊ†°ÂáÜ] ‚úÖ ÂêåÊ≠•Áî®Êà∑ÈÄâÊã©ÁöÑÊîπÈÄ†Ê†∏ÂøÉ: ${i.name} (${i.tier})`),t.ÊîπÈÄ†Ê†∏ÂøÉ=i):s?console.log("[Êï∞ÊçÆÊ†°ÂáÜ] ‚úÖ ‰øùÁïôÂ∑≤ÁîüÊàêÁöÑÂÖ∑‰ΩìÊîπÈÄ†Ê†∏ÂøÉ:",t.ÊîπÈÄ†Ê†∏ÂøÉ.name):null===n.characterPayload.spirit_root_id?(console.log("[Êï∞ÊçÆÊ†°ÂáÜ] üé≤ Áî®Êà∑ÈÄâÊã©ÈöèÊú∫ÊîπÈÄ†Ôºå‰ΩÜÊó†ÊúâÊïàÁîüÊàêÂÄºÔºåÊ†áËÆ∞‰∏∫ÈöèÊú∫"),t.ÊîπÈÄ†Ê†∏ÂøÉ="ÈöèÊú∫ÊîπÈÄ†"):console.warn("[Êï∞ÊçÆÊ†°ÂáÜ] Ë≠¶Âëä: Êó†Ê≥ïÊâæÂà∞ÊùÉÂ®ÅÁöÑÊîπÈÄ†Ê†∏ÂøÉÊï∞ÊçÆ„ÄÇ");const l=n.selectedTalents;l&&l.length>0?(console.log(`[Êï∞ÊçÆÊ†°ÂáÜ] ‚úÖ ÂêåÊ≠•Áî®Êà∑ÈÄâÊã©ÁöÑÂ§©ËµãÔºåÂÖ± ${l.length} ‰∏™`),t.Â§©Ëµã=l):(console.log("[Êï∞ÊçÆÊ†°ÂáÜ] Áî®Êà∑Êú™ÈÄâÊã©‰ªª‰ΩïÂ§©ËµãÔºåÂ§©ËµãÂ≠óÊÆµËÆæÁΩÆ‰∏∫Á©∫Êï∞ÁªÑ„ÄÇ"),t.Â§©Ëµã=[]);const d=n.attributes;return d&&(console.log("[Êï∞ÊçÆÊ†°ÂáÜ] ‚úÖ ÂêåÊ≠•Áî®Êà∑ÂàÜÈÖçÁöÑÂàùÂßãÂÖ≠Áª¥:",d),t.ÂàùÂßãÂÖ≠Áª¥={‰ΩìË¥®:d.root_bone,ËÉΩÊ∫ê:d.spirituality,ÁÆóÊ≥ï:d.comprehension,ËµÑÊ∫êÊÑüÁü•:d.fortune,È≠ÖÂäõ:d.charm,ÂøÉÊô∫:d.temperament}),console.log("[Êï∞ÊçÆÊ†°ÂáÜ] ÊùÉÂ®ÅÊï∞ÊçÆÂêåÊ≠•ÂÆåÊàê„ÄÇ"),t}(o);e.ËßíËâ≤||(e.ËßíËâ≤={}),e.ËßíËâ≤.Ë∫´‰ªΩ=i,console.log("[Êï∞ÊçÆÊúÄÁªàÂåñ] ÈáçÊñ∞ËÆ°ÁÆóÂπ∂Ê†°ÂáÜÊ†∏ÂøÉÁé©ÂÆ∂Áä∂ÊÄÅ...");const s=w(t,a),d=e.ËßíËâ≤?.Â±ûÊÄß??e.Â±ûÊÄß??{},u=e.ËßíËâ≤?.‰ΩçÁΩÆ??e.‰ΩçÁΩÆ,m=d.Èò∂‰Ωç&&"object"==typeof d.Èò∂‰Ωç?{ÂêçÁß∞:d.Èò∂‰Ωç.ÂêçÁß∞||s.Èò∂‰Ωç.ÂêçÁß∞,Èò∂ÊÆµ:void 0!==d.Èò∂‰Ωç.Èò∂ÊÆµ?d.Èò∂‰Ωç.Èò∂ÊÆµ:s.Èò∂‰Ωç.Èò∂ÊÆµ,ÂΩìÂâçËøõÂ∫¶:void 0!==d.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶?d.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶:s.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:void 0!==d.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ?d.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:s.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ,ÊôãÂçáÊèèËø∞:d.Èò∂‰Ωç.ÊôãÂçáÊèèËø∞||s.Èò∂‰Ωç.ÊôãÂçáÊèèËø∞}:s.Èò∂‰Ωç;e.Â±ûÊÄß={Èò∂‰Ωç:m,Â£∞Êúõ:"number"==typeof d.Â£∞Êúõ?d.Â£∞Êúõ:s.Â£∞Êúõ,ÁîüÂëΩÂÄº:d.ÁîüÂëΩÂÄº??s.ÁîüÂëΩÂÄº,ÁîµÈáè:d.ÁîµÈáè??s.ÁîµÈáè,Â∏¶ÂÆΩ:d.Â∏¶ÂÆΩ??s.Â∏¶ÂÆΩ,ÂØøÂëΩ:d.ÂØøÂëΩ??s.ÂØøÂëΩ},console.log("[Êï∞ÊçÆÊúÄÁªàÂåñ] Èò∂‰ΩçÂêàÂπ∂ÁªìÊûú:",m);const p=u;if(!p||"string"!=typeof p.ÊèèËø∞||!p.ÊèèËø∞.includes("¬∑")){console.error("[Êï∞ÊçÆÊúÄÁªàÂåñ] ‚ùå ‰ΩçÁΩÆ‰ø°ÊÅØÊó†ÊïàÊàñ‰∏¢Â§±"),console.error("[Êï∞ÊçÆÊúÄÁªàÂåñ-ËØäÊñ≠] aiLocation:",p),console.error("[Êï∞ÊçÆÊúÄÁªàÂåñ-ËØäÊñ≠] aiLocation.ÊèèËø∞:",p?.ÊèèËø∞),console.error("[Êï∞ÊçÆÊúÄÁªàÂåñ-ËØäÊñ≠] ÂÆåÊï¥saveData keys:",Object.keys(e));const t=e.ÂéÜÂè≤?.Âèô‰∫ã||[];if(t.length>0){const e=t[t.length-1];console.error("[Êï∞ÊçÆÊúÄÁªàÂåñ-ËØäÊñ≠] ÊúÄÂêéÁöÑÂèô‰∫ãÂéÜÂè≤:",JSON.stringify(e).substring(0,500))}throw new Error(`‰ΩçÁΩÆ‰ø°ÊÅØÂú®Â§ÑÁêÜËøáÁ®ã‰∏≠‰∏¢Â§±ÔºåaiLocation=${JSON.stringify(p)}`)}e.ËßíËâ≤||(e.ËßíËâ≤={}),e.ËßíËâ≤.‰ΩçÁΩÆ=p,console.log(`[Êï∞ÊçÆÊúÄÁªàÂåñ] ‚úÖ Â∑≤‰øùÁïôAIÁîüÊàêÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ: "${p.ÊèèËø∞}"`),console.log("[Êï∞ÊçÆÊúÄÁªàÂåñ] Ê†∏ÂøÉÁé©ÂÆ∂Áä∂ÊÄÅÊ†°ÂáÜÂÆåÊàê„ÄÇ"),delete e.Áä∂ÊÄÅ;const g=e.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥??e.Êó∂Èó¥;if(g){const t={Âπ¥:g.Âπ¥-a,Êúà:g.Êúà,Êó•:g.Êó•,Â∞èÊó∂:0,ÂàÜÈíü:0};e.ËßíËâ≤||(e.ËßíËâ≤={}),e.ËßíËâ≤.Ë∫´‰ªΩ=e.ËßíËâ≤.Ë∫´‰ªΩ||{},e.ËßíËâ≤.Ë∫´‰ªΩ.Âá∫ÁîüÊó•Êúü=t,console.log(`[Êï∞ÊçÆÊúÄÁªàÂåñ] ÈáçÊñ∞ËÆ°ÁÆóÂá∫ÁîüÊó•Êúü: ${t.Âπ¥}Âπ¥${t.Êúà}Êúà${t.Êó•}Êó• (Êó∂Èó¥${g.Âπ¥}Âπ¥ - ÂºÄÂ±ÄÂπ¥ÈæÑ${a}Â≤Å)`);const n=e.Á§æ‰∫§?.ÂÖ≥Á≥ª??e.ÂÖ≥Á≥ª;n&&Object.keys(n).length>0&&(console.log("[Êï∞ÊçÆÊúÄÁªàÂåñ] È™åËØÅNPCÂá∫ÁîüÊó•Êúü:"),Object.entries(n).forEach(([e,t])=>{const n=t;if(n.Âá∫ÁîüÊó•Êúü&&n.Âπ¥ÈæÑ){const t=g.Âπ¥-n.Âá∫ÁîüÊó•Êúü.Âπ¥;console.log(`  - ${e}: Âá∫Áîü${n.Âá∫ÁîüÊó•Êúü.Âπ¥}Âπ¥, Â£∞Áß∞Âπ¥ÈæÑ${n.Âπ¥ÈæÑ}Â≤Å, ÂÆûÈôÖÂπ¥ÈæÑ${t}Â≤Å ${t===n.Âπ¥ÈæÑ?"‚úÖ":"‚ùå‰∏çÂåπÈÖç"}`)}}))}const h=e.ËßíËâ≤?.‰ΩçÁΩÆ?.ÊèèËø∞;if(console.log(`[Êï∞ÊçÆÊ†°ÂáÜ] ‚úÖ ‰ΩçÁΩÆ‰ø°ÊÅØÊúÄÁªàÁ°ÆËÆ§: "${h}"`),!h||!h.includes("¬∑"))throw console.error("[Êï∞ÊçÆÊ†°ÂáÜ] ‚ùå ‰ΩçÁΩÆÊ†ºÂºèÂºÇÂ∏∏ÔºåËøô‰∏çÂ∫îËØ•ÂèëÁîüÔºàÈ™åËØÅÂô®Â∫îËØ•Â∑≤Êã¶Êà™Ôºâ"),console.error("[Êï∞ÊçÆÊ†°ÂáÜ-ËØäÊñ≠] saveData.ËßíËâ≤.‰ΩçÁΩÆ:",e.ËßíËâ≤?.‰ΩçÁΩÆ),new Error(`‰ΩçÁΩÆÊ†ºÂºèÈ™åËØÅÂ§±Ë¥•: "${h}"`);const{migrated:b,report:x}=(0,v.jj)(e);x.legacyKeysFound.length>0&&console.log("[Êï∞ÊçÆÊúÄÁªàÂåñ] ËøÅÁßªÊä•Âëä legacyKeysFound:",x.legacyKeysFound);const k=(0,f.zB)(b,{ËßíËâ≤:t,Ê®°Âºè:"ÂçïÊú∫"},"creation");if(!k.isValid)throw new Error(`ËßíËâ≤Êï∞ÊçÆÊúÄÁªàÈ™åËØÅÂ§±Ë¥•: ${k.errors.join(", ")}`);const E=b?.ËßíËâ≤?.ËÆ≠ÁªÉ?.ËÆ≠ÁªÉÊ®°Âùó,N=b?.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ??{};if(E?.Áâ©ÂìÅID&&"string"==typeof E.ÂêçÁß∞){const e=N[E.Áâ©ÂìÅID];!e||"Ê®°Âùó"!==e.Á±ªÂûã||e.ÂêçÁß∞!==E.ÂêçÁß∞&&!e.ÂêçÁß∞||!0!==e.ËÆ≠ÁªÉ‰∏≠&&!0!==e.Â∑≤Ë£ÖÂ§á?(console.warn("[Êï∞ÊçÆÊ†°ÂáÜ] Ê£ÄÊµãÂà∞Êó†ÊïàÁöÑ‚ÄúÂπΩÁÅµÊ®°Âùó‚ÄùÔºöËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÊ®°Âùó ÈùûÁ©∫Ôºå‰ΩÜËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ‰∏≠Êó†ÂØπÂ∫îÂÆû‰Ωì„ÄÇÊ≠£Âú®Ê∏ÖÈô§Êó†ÊïàËÆ≠ÁªÉÁä∂ÊÄÅ..."),b.ËßíËâ≤?.ËÆ≠ÁªÉ&&(b.ËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÊ®°Âùó=null)):console.log(`[Êï∞ÊçÆÊ†°ÂáÜ] Ê®°Âùó‰∏ÄËá¥ÊÄßÊ†°È™åÈÄöËøá: "${E.ÂêçÁß∞}"`)}return console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ‚úÖ ËßíËâ≤ÂàõÂª∫ÂÆåÊàêÔºàÊñ∞Êû∂ÊûÑË∑≥ËøáÈÖíÈ¶ÜÂêåÊ≠•Ôºâ"),r.updateLoadingText("‚úÖ ËßíËâ≤ÂàõÂª∫ÂÆåÊàêÔºÅ"),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] finalizeAndSyncDataÂç≥Â∞ÜËøîÂõû V3 saveData"),b}(E,t,0,a);return console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ÊúÄÁªàÂåñÂÆåÊàê"),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] ‚úÖ ËßíËâ≤ÂàõÂª∫ÊàêÂäüÔºÅÂáÜÂ§áËøîÂõûcompletedSaveData"),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] completedSaveDataÁ±ªÂûã:",typeof V),console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] completedSaveDataÊúâÊïà:",!!V),V}catch(e){throw console.error("[ÂàùÂßãÂåñÊµÅÁ®ã] ‚ùå ËßíËâ≤ÂàùÂßãÂåñÂ§±Ë¥•Ôºö",e),console.error("[ÂàùÂßãÂåñÊµÅÁ®ã] ÈîôËØØÂ†ÜÊ†à:",e instanceof Error?e.stack:"N/A"),e}finally{console.log("[ÂàùÂßãÂåñÊµÅÁ®ã] initializeCharacterÂáΩÊï∞ÊâßË°åÂÆåÊØï")}}var N=n(9333),S=n(8546),_=n(6939),V=n(8708),C=(n(3943),n(6988));const A={class:"save-migration"},D={class:"migration-meta"},T={class:"meta-item"},B={class:"value"},I={class:"meta-item"},M={class:"value"},z={class:"migration-reasons"},P={class:"reason-list"},R={class:"migration-actions"},$=["disabled"],O=["disabled"],L=(0,a.defineComponent)({__name:"SaveMigrationModal",props:{characterId:{},saveSlot:{},legacyKeysFound:{},onConfirm:{type:Function},onCancel:{type:Function}},setup(e){const t=e,n=(0,a.ref)(!1);let r=!1;const o=async()=>{if(!n.value){n.value=!0;try{r=!0,await(t.onConfirm?.())}finally{n.value=!1}}},i=()=>{n.value||(r=!0,t.onCancel?.())};return(0,a.onBeforeUnmount)(()=>{r||t.onCancel?.()}),(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",A,[t[3]||(t[3]=(0,a.createElementVNode)("div",{class:"migration-header"},[(0,a.createElementVNode)("h4",null,"Ê£ÄÊµãÂà∞ÊóßÁâàÂ≠òÊ°£ÁªìÊûÑ"),(0,a.createElementVNode)("p",null,"Ê≠§Â≠òÊ°£‰∏çÁ¨¶Âêà V3Ôºà5È¢ÜÂüüÔºöÂÖÉÊï∞ÊçÆ/ËßíËâ≤/Á§æ‰∫§/‰∏ñÁïå/Á≥ªÁªüÔºâÔºåÂøÖÈ°ªËøÅÁßªÂêéÊâçËÉΩÂä†ËΩΩ„ÄÇ")],-1)),(0,a.createElementVNode)("div",D,[(0,a.createElementVNode)("div",T,[t[0]||(t[0]=(0,a.createElementVNode)("span",{class:"label"},"ËßíËâ≤ID",-1)),(0,a.createElementVNode)("span",B,(0,a.toDisplayString)(e.characterId),1)]),(0,a.createElementVNode)("div",I,[t[1]||(t[1]=(0,a.createElementVNode)("span",{class:"label"},"Â≠òÊ°£ÊßΩ‰Ωç",-1)),(0,a.createElementVNode)("span",M,(0,a.toDisplayString)(e.saveSlot),1)])]),(0,a.createElementVNode)("div",z,[t[2]||(t[2]=(0,a.createElementVNode)("div",{class:"reason-title"},"Ê£ÄÊµãÂà∞ÁöÑÊóßÂ≠óÊÆµ",-1)),(0,a.createElementVNode)("div",P,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.legacyKeysFound,e=>((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"tag"},(0,a.toDisplayString)(e),1))),128))])]),t[4]||(t[4]=(0,a.createElementVNode)("div",{class:"migration-hint"},[(0,a.createElementVNode)("div",null,"Êìç‰Ωú‰ºöËá™Âä®Ôºö"),(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",null,"ÂÖàÂú® IndexedDB ÂàõÂª∫‰∏Ä‰ªΩÈöêËóèÂ§á‰ªΩÔºà‰∏çÂá∫Áé∞Âú®Â≠òÊ°£ÂàóË°®Ôºâ"),(0,a.createElementVNode)("li",null,"Ë¶ÜÁõñÂÜôÂõûÂΩìÂâçÊßΩ‰Ωç‰∏∫ V3 Êñ∞ÁªìÊûÑÂ≠òÊ°£")])],-1)),(0,a.createElementVNode)("div",R,[(0,a.createElementVNode)("button",{class:"primary",disabled:n.value,onClick:o},(0,a.toDisplayString)(n.value?"Ê≠£Âú®ËøÅÁßª‚Ä¶":"Â§á‰ªΩÂπ∂ËøÅÁßª"),9,$),(0,a.createElementVNode)("button",{class:"secondary",disabled:n.value,onClick:i},"ÂèñÊ∂à",8,O)])]))}});var F=n(5072),j=n.n(F),U=n(7825),q=n.n(U),G=n(7659),H=n.n(G),Y=n(5056),W=n.n(Y),X=n(540),J=n.n(X),K=n(1113),Z=n.n(K),Q=n(9197),ee={};ee.styleTagTransform=Z(),ee.setAttributes=W(),ee.insert=H().bind(null,"head"),ee.domAPI=q(),ee.insertStyleElement=J(),j()(Q.A,ee),Q.A&&Q.A.locals&&Q.A.locals;const te=(0,n(6262).A)(L,[["__scopeId","data-v-230bf738"]]);function ne(e){return"ËÅîÊú∫"!==e.Ê®°Âºè?null:e.Â≠òÊ°£ÂàóË°®?.["‰∫ëÁ´ØËÆ≠ÁªÉ"]?e.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]:e.Â≠òÊ°£?(s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚ö†Ô∏è Ê£ÄÊµãÂà∞ÊóßÂ≠òÊ°£ÁªìÊûÑÔºåÊ≠£Âú®ËøÅÁßªÂà∞Áªü‰∏ÄÁªìÊûÑ..."),e.Â≠òÊ°£ÂàóË°®||(e.Â≠òÊ°£ÂàóË°®={}),e.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]=e.Â≠òÊ°£,delete e.Â≠òÊ°£,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",'‚úÖ ÊóßÂ≠òÊ°£Êï∞ÊçÆÂ∑≤ËøÅÁßªÂà∞ Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]'),e.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]):null}function ae(e){if(!e)return null;const t=JSON.parse(JSON.stringify(e)),n=t;let a=!1;return n?.Á≥ªÁªü?.ÂéÜÂè≤&&"object"==typeof n.Á≥ªÁªü.ÂéÜÂè≤&&"Âèô‰∫ã"in n.Á≥ªÁªü.ÂéÜÂè≤&&(delete n.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã,a=!0),n?.ÂéÜÂè≤&&"object"==typeof n.ÂéÜÂè≤&&"Âèô‰∫ã"in n.ÂéÜÂè≤&&(delete n.ÂéÜÂè≤.Âèô‰∫ã,a=!0),"Âèô‰∫ãÂéÜÂè≤"in n&&(delete n.Âèô‰∫ãÂéÜÂè≤,a=!0),"ÂØπËØùÂéÜÂè≤"in n&&(delete n.ÂØπËØùÂéÜÂè≤,a=!0),a&&s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ Â∑≤ÁßªÈô§Âèô‰∫ãÂéÜÂè≤Áî®‰∫é‰∫ëÁ´ØÂêåÊ≠•"),t}const re=(0,r.nY)("characterV3",()=>{const e=(0,a.ref)({ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£:null,ËßíËâ≤ÂàóË°®:{}}),t=(0,a.ref)(null),r=(0,a.ref)(!1),g=async()=>{if(!r.value)try{await d.YK()&&s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ Êï∞ÊçÆÂ∑≤ËøÅÁßªÂà∞IndexedDB"),e.value=await d.$v();let t=!1;Object.entries(e.value.ËßíËâ≤ÂàóË°®).forEach(([e,n])=>{"ËÅîÊú∫"===n.Ê®°Âºè&&n.Â≠òÊ°£&&!n.Â≠òÊ°£ÂàóË°®?.["‰∫ëÁ´ØËÆ≠ÁªÉ"]&&(s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`üîÑ ËøÅÁßªËÅîÊú∫ËßíËâ≤„Äå${n.ËßíËâ≤.ÂêçÂ≠ó}„ÄçÁöÑÂ≠òÊ°£ÁªìÊûÑ`),n.Â≠òÊ°£ÂàóË°®||(n.Â≠òÊ°£ÂàóË°®={}),n.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]={...n.Â≠òÊ°£,Â≠òÊ°£Âêç:"‰∫ëÁ´ØËÆ≠ÁªÉ"},n.Â≠òÊ°£ÂàóË°®["‰∏äÊ¨°ÂØπËØù"]||(n.Â≠òÊ°£ÂàóË°®["‰∏äÊ¨°ÂØπËØù"]={Â≠òÊ°£Âêç:"‰∏äÊ¨°ÂØπËØù",‰øùÂ≠òÊó∂Èó¥:null,Â≠òÊ°£Êï∞ÊçÆ:null}),delete n.Â≠òÊ°£,t=!0,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ ËßíËâ≤„Äå${n.ËßíËâ≤.ÂêçÂ≠ó}„ÄçÂ≠òÊ°£ÁªìÊûÑËøÅÁßªÂÆåÊàê`))}),t&&(await d.c5(e.value),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ ËøÅÁßªÂêéÁöÑÊï∞ÊçÆÂ∑≤‰øùÂ≠ò")),r.value=!0,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ StoreÂàùÂßãÂåñÂÆåÊàêÔºåÊï∞ÊçÆÂ∑≤Âä†ËΩΩ")}catch(t){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","‚ùå StoreÂàùÂßãÂåñÂ§±Ë¥•",t),e.value={ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£:null,ËßíËâ≤ÂàóË°®:{}},r.value=!0}};g();const h=(0,a.computed)(()=>Object.values(e.value.ËßíËâ≤ÂàóË°®)),f=(0,a.computed)(()=>{const t=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£;return t&&e.value.ËßíËâ≤ÂàóË°®[t.ËßíËâ≤ID]||null}),b=(0,a.computed)(()=>{const t=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,n=f.value;return t&&n?"ÂçïÊú∫"===n.Ê®°Âºè&&n.Â≠òÊ°£ÂàóË°®?n.Â≠òÊ°£ÂàóË°®[t.Â≠òÊ°£ÊßΩ‰Ωç]||null:"ËÅîÊú∫"===n.Ê®°Âºè?ne(n):null:null}),y=(0,a.computed)(()=>{const e=f.value;if(!e)return[];if("ÂçïÊú∫"===e.Ê®°Âºè&&e.Â≠òÊ°£ÂàóË°®)return Object.entries(e.Â≠òÊ°£ÂàóË°®).map(([t,n])=>({...n,id:t,ËßíËâ≤ÂêçÂ≠ó:n.ËßíËâ≤ÂêçÂ≠ó||e.ËßíËâ≤?.ÂêçÂ≠ó||"Êú™Áü•",Èò∂‰Ωç:n.Èò∂‰Ωç||n.Â≠òÊ°£Êï∞ÊçÆ?.Â±ûÊÄß?.Èò∂‰Ωç?.ÂêçÁß∞||"Ë°óÂ§¥‰∫∫",‰ΩçÁΩÆ:n.‰ΩçÁΩÆ||n.Â≠òÊ°£Êï∞ÊçÆ?.‰ΩçÁΩÆ?.ÊèèËø∞||"Êú™Áü•",‰øùÂ≠òÊó∂Èó¥:n.‰øùÂ≠òÊó∂Èó¥||null,ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥:n.ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥??n.‰øùÂ≠òÊó∂Èó¥??null,Ê∏∏ÊàèÊó∂Èïø:n.Ê∏∏ÊàèÊó∂Èïø||0}));if("ËÅîÊú∫"===e.Ê®°Âºè){const t=ne(e);if(t)return[{...t,id:"‰∫ëÁ´Ø‰ªªÂä°",ËßíËâ≤ÂêçÂ≠ó:t.ËßíËâ≤ÂêçÂ≠ó||e.ËßíËâ≤?.ÂêçÂ≠ó||"Êú™Áü•",Èò∂‰Ωç:t.Èò∂‰Ωç||t.Â≠òÊ°£Êï∞ÊçÆ?.Â±ûÊÄß?.Èò∂‰Ωç?.ÂêçÁß∞||"Ë°óÂ§¥‰∫∫",‰ΩçÁΩÆ:t.‰ΩçÁΩÆ||t.Â≠òÊ°£Êï∞ÊçÆ?.‰ΩçÁΩÆ?.ÊèèËø∞||"Êú™Áü•",‰øùÂ≠òÊó∂Èó¥:t.‰øùÂ≠òÊó∂Èó¥||null,ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥:t.ÊúÄÂêé‰øùÂ≠òÊó∂Èó¥??t.‰øùÂ≠òÊó∂Èó¥??null,Ê∏∏ÊàèÊó∂Èïø:t.Ê∏∏ÊàèÊó∂Èïø||0}]}return[]}),x=async()=>{try{const t=JSON.parse(JSON.stringify(e.value));Object.values(t.ËßíËâ≤ÂàóË°®).forEach(e=>{e.Â≠òÊ°£ÂàóË°®&&Object.values(e.Â≠òÊ°£ÂàóË°®).forEach(e=>{delete e.Â≠òÊ°£Êï∞ÊçÆ}),e.Â≠òÊ°£&&delete e.Â≠òÊ°£}),await d.c5(t),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ ËßíËâ≤ÂÖÉÊï∞ÊçÆÂ∑≤Êèê‰∫§Âà∞Â≠òÂÇ®"),D(),e.value={...e.value}}catch(e){throw s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","ÊåÅ‰πÖÂåñÂÖÉÊï∞ÊçÆÂà∞IndexedDBÂ§±Ë¥•",e),e}};let k=null;const A=async()=>{if(localStorage.getItem("access_token")&&(0,S.isBackendConfigured)())try{const t=await(async()=>{const t=JSON.parse(JSON.stringify(e.value.ËßíËâ≤ÂàóË°®||{})),n={};for(const[e,a]of Object.entries(t)){const t=a?.Â≠òÊ°£ÂàóË°®?Object.keys(a.Â≠òÊ°£ÂàóË°®):[];t.length&&(n[e]={},await Promise.all(t.map(async t=>{const a=await d.loadSaveData(e,t);a&&(n[e][t]=a)})))}return{characters:t,saves:n}})();await N.Em.put("/api/v1/user/local-data",t)}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","ÂêåÊ≠•Êú¨Âú∞Â≠òÊ°£Êï∞ÊçÆÂà∞ÂêéÁ´ØÂ§±Ë¥•",e)}},D=()=>{localStorage.getItem("access_token")&&(0,S.isBackendConfigured)()&&(k&&clearTimeout(k),k=window.setTimeout(()=>{k=null,A()},1200))},T=async()=>{e.value={ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£:null,ËßíËâ≤ÂàóË°®:{}},await d.ag({}),await d.N5(null),await d.Ky()},B=async()=>{e.value=await d.$v(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","Â∑≤‰ªé‰πæÂù§ÂÆùÂ∫ìÈáçÊñ∞ÂêåÊ≠•ÊâÄÊúâÊï∞ÊçÆ")},I=async()=>(s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","syncRootStateToCloud called. (Placeholder - no backend implementation yet)"),Promise.resolve()),M=async(t,a)=>{s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`ÂºÄÂßãÂä†ËΩΩÊ∏∏ÊàèÔºåËßíËâ≤ID: ${t}, Â≠òÊ°£ÊßΩ: ${a}`);const r=(0,l.useUIStore)(),o=e.value.ËßíËâ≤ÂàóË°®[t];if(!o)return s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Êâæ‰∏çÂà∞Ë¶ÅÂä†ËΩΩÁöÑËßíËâ≤",t),i.o.error("Êâæ‰∏çÂà∞Ë¶ÅÂä†ËΩΩÁöÑËßíËâ≤ÔºÅ"),!1;let c;if(c="ÂçïÊú∫"===o.Ê®°Âºè?o.Â≠òÊ°£ÂàóË°®?.[a]:ne(o),!c)return s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Êâæ‰∏çÂà∞ÊåáÂÆöÁöÑÂ≠òÊ°£ÊßΩ‰Ωç",a),i.o.error("Êâæ‰∏çÂà∞ÊåáÂÆöÁöÑÂ≠òÊ°£ÊßΩ‰ΩçÔºÅ"),!1;const g=ne(o),h=g?.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÂêéÁ´ØÂàõÂª∫Â§±Ë¥•;if("ËÅîÊú∫"===o.Ê®°Âºè&&(0,S.isBackendConfigured)()&&!h){if(!await(0,N.verifyStoredToken)())return s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","ËÅîÊú∫Ê®°ÂºètokenÊó†ÊïàÔºåÈúÄË¶ÅÁôªÂΩï"),i.o.warning("ËÅîÊú∫Ê®°ÂºèÈúÄË¶ÅÁôªÂΩï"),!1;try{const e=await(0,N.NX)(t),n=e?.game_save,r=n?.save_data;if(r){c.Â≠òÊ°£Êï∞ÊçÆ=r,n?.game_time&&"string"==typeof n.game_time&&(c.Ê∏∏ÊàèÂÜÖÊó∂Èó¥=n.game_time),n?.world_map&&"object"==typeof n.world_map&&(c.‰∏ñÁïåÂú∞Âõæ=n.world_map),await d.dc(t,a,c.Â≠òÊ°£Êï∞ÊçÆ);const e=ne(o);e&&(e.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ={ÊúÄÂêéÂêåÊ≠•:n?.last_sync?String(n.last_sync):(new Date).toISOString(),ÁâàÊú¨:"number"==typeof n?.version?n.version:e.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÁâàÊú¨??1,ÈúÄË¶ÅÂêåÊ≠•:!1},await x()),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","ËÅîÊú∫Â≠òÊ°£Â∑≤‰ªé‰∫ëÁ´ØÊãâÂèñÂπ∂ÁºìÂ≠òÂà∞Êú¨Âú∞")}}catch(e){s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","ËÅîÊú∫Â≠òÊ°£‰∫ëÁ´ØÊãâÂèñÂ§±Ë¥•ÔºåÂõûÈÄÄÊú¨Âú∞ÁºìÂ≠ò",e)}}else"ËÅîÊú∫"===o.Ê®°Âºè&&h&&s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","Ê£ÄÊµãÂà∞ÂêéÁ´ØÂàõÂª∫Â§±Ë¥•Ê†áËÆ∞ÔºåË∑≥Ëøá‰∫ëÁ´ØËé∑ÂèñÔºå‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠ò");if(!c.Â≠òÊ°£Êï∞ÊçÆ){console.log("=== [ËØäÊñ≠Êó•Âøó-loadGame] ‰ªéIndexedDBÂä†ËΩΩ ==="),console.log("[14] Âä†ËΩΩKey:",{ËßíËâ≤ID:t,Â≠òÊ°£ÊßΩ‰Ωç:a}),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Â≠òÊ°£Êï∞ÊçÆ‰∏çÂú®ÂÜÖÂ≠ò‰∏≠Ôºå‰ªé IndexedDB Âä†ËΩΩ: ${t}/${a}`);try{const e=await d.loadSaveData(t,a);if(!e)return s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó",`IndexedDB ‰∏≠‰∏çÂ≠òÂú®Â≠òÊ°£Êï∞ÊçÆ: ${t}/${a}`),i.o.error("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®ÔºÅ"),!1;console.log("[15] ‰ªéIndexedDBÂä†ËΩΩÁöÑËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπÊï∞ÊçÆ:",e.ËßíËâ≤?.ËÉåÂåÖ?.‰ø°Áî®ÁÇπ),c.Â≠òÊ°£Êï∞ÊçÆ=e,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ Â∑≤‰ªé IndexedDB Âä†ËΩΩÂ≠òÊ°£Êï∞ÊçÆ")}catch(e){return s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","‰ªé IndexedDB Âä†ËΩΩÂ≠òÊ°£Êï∞ÊçÆÂ§±Ë¥•",e),i.o.error("Âä†ËΩΩÂ≠òÊ°£Êï∞ÊçÆÂ§±Ë¥•ÔºÅ"),!1}}if(c.Â≠òÊ°£Êï∞ÊçÆ){const e=(0,v.WI)(c.Â≠òÊ°£Êï∞ÊçÆ);if(e.needsMigration&&!await new Promise(n=>{r.showDetailModal({title:"Â≠òÊ°£ËøÅÁßªÔºàÂøÖÈ°ªÔºâ",component:te,props:{characterId:t,saveSlot:a,legacyKeysFound:e.legacyKeysFound,onConfirm:async()=>{try{const e=c.Â≠òÊ°£Êï∞ÊçÆ,r=`__backup__${a}__${(new Date).toISOString().replace(/[:.]/g,"-")}`;await d.dc(t,r,e);const{migrated:o,report:l}=(0,v.jj)(e),u=(0,C.$)(o);if(!u.isValid)return console.error("[Â≠òÊ°£ËøÅÁßª] ËøÅÁßªÂêéÊ†°È™åÂ§±Ë¥•:",u.errors,l),i.o.error("ËøÅÁßªÂ§±Ë¥•ÔºöÊñ∞ÁªìÊûÑÊ†°È™å‰∏çÈÄöËøáÔºåËØ∑Êü•ÁúãÊéßÂà∂Âè∞"),void n(!1);u.warnings.length>0&&console.warn("[Â≠òÊ°£ËøÅÁßª] ËøÅÁßªÂëäË≠¶:",u.warnings),await d.dc(t,a,o),c.Â≠òÊ°£Êï∞ÊçÆ=o,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[Â≠òÊ°£ËøÅÁßª] ‚úÖ Â∑≤ÂÜôÂõû V3Ôºö${t}/${a}`),n(!0)}catch(e){console.error("[Â≠òÊ°£ËøÅÁßª] ‚ùå ËøÅÁßªËøáÁ®ãÂºÇÂ∏∏:",e),i.o.error("ËøÅÁßªÂ§±Ë¥•ÔºöÂèëÁîüÂºÇÂ∏∏ÔºåËØ∑Êü•ÁúãÊéßÂà∂Âè∞"),n(!1)}finally{r.hideDetailModal()}},onCancel:()=>{r.hideDetailModal(),n(!1)}}})}))return i.o.info("Â∑≤ÂèñÊ∂àËøÅÁßªÔºåÂ≠òÊ°£Êú™Âä†ËΩΩ"),!1}try{r.startLoading("ÂºÄÂßãÂä†ËΩΩÂ≠òÊ°£..."),await(0,u.clearAllCharacterData)(),r.updateLoadingText("‰∏ñÁïåÈáçÁΩÆÂÆåÊØïÔºåÊ≠£Âú®Âä†ËΩΩÂ≠òÊ°£..."),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","ËÆæÁΩÆÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£"),e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£={ËßíËâ≤ID:t,Â≠òÊ°£ÊßΩ‰Ωç:a},await x(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","Â∞ÜÂ≠òÊ°£Êï∞ÊçÆÂä†ËΩΩÂà∞ gameStateStore");const l=(0,p.useGameStateStore)();if(c.Â≠òÊ°£Êï∞ÊçÆ){const e=(0,u.isTavernEnv)()?(0,m.kL)(c.Â≠òÊ°£Êï∞ÊçÆ):c.Â≠òÊ°£Êï∞ÊçÆ;c.Â≠òÊ°£Êï∞ÊçÆ=e,l.loadFromSaveData(e),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ Â≠òÊ°£Êï∞ÊçÆÂ∑≤Âä†ËΩΩÂà∞ gameStateStore");try{const{vectorMemoryService:e}=await Promise.resolve().then(n.bind(n,5184)),r=`${t}_${a}`;if(await e.init(r),e.isEnabled()){const t=c.Â≠òÊ°£Êï∞ÊçÆ.Á§æ‰∫§?.ËÆ∞ÂøÜ?.ÈïøÊúüËÆ∞ÂøÜ||[];t.length>0&&0===(await e.getStats()).total&&(s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`ÂêëÈáèËÆ∞ÂøÜÂ∫ì‰∏∫Á©∫ÔºåÂºÄÂßãÂØºÂÖ• ${t.length} Êù°ÈïøÊúüËÆ∞ÂøÜ`),await e.importLongTermMemories(t))}}catch(e){console.warn("[ËßíËâ≤ÂïÜÂ∫ó] ÂàùÂßãÂåñÂêëÈáèËÆ∞ÂøÜÊúçÂä°Â§±Ë¥•ÔºàÈùûËá¥ÂëΩÔºâ:",e)}}return s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","Âä†ËΩΩÂÆåÊàê"),i.o.success(`Â∑≤ÊàêÂäüÂä†ËΩΩ„Äê${o.ËßíËâ≤?.ÂêçÂ≠ó||"Êú™Áü•ËßíËâ≤"}„ÄëÁöÑÂ≠òÊ°£: ${c.Â≠òÊ°£Âêç||a}`),!0}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Âä†ËΩΩËøáÁ®ãÂá∫Èîô",e);const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";return i.o.error(`Â≠òÊ°£Âä†ËΩΩÂ§±Ë¥•Ôºö${t}`),!1}finally{r.stopLoading()}},z=async t=>{r.value||await g();const n=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,a=f.value,o=b.value,l=(0,p.useGameStateStore)();if(!n||!a||!o)return t?.notifyIfNoActive&&l.isGameLoaded&&i.o.error("Ê≤°ÊúâÊøÄÊ¥ªÁöÑÂ≠òÊ°£ÔºåÊó†Ê≥ï‰øùÂ≠òÔºÅ",{id:"save-no-active"}),void s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","ÂΩìÂâçÊ≤°ÊúâÊøÄÊ¥ªÁöÑÂ≠òÊ°£ÔºåË∑≥Ëøá‰øùÂ≠ò");const c=`save-game-${Date.now()}`;try{console.log("=== [ËØäÊñ≠Êó•Âøó-characterStore] ÂºÄÂßã‰øùÂ≠òÊ∏∏Êàè ==="),console.log("[10] ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£:",{ËßíËâ≤ID:n.ËßíËâ≤ID,Â≠òÊ°£ÊßΩ‰Ωç:n.Â≠òÊ°£ÊßΩ‰Ωç});const e=l.toSaveData();if(!e)throw new Error("Êó†Ê≥ïÁîüÊàêÂ≠òÊ°£Êï∞ÊçÆÔºåÊ∏∏ÊàèÁä∂ÊÄÅ‰∏çÂÆåÊï¥„ÄÇ");console.log("[11] toSaveData()ËøîÂõûÁöÑËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπÊï∞ÊçÆ:",e.ËßíËâ≤?.ËÉåÂåÖ?.‰ø°Áî®ÁÇπ),(0,_.DT)(e),(0,V.F)(e),e.Á§æ‰∫§?.ÂÖ≥Á≥ª&&e.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥&&Object.values(e.Á§æ‰∫§.ÂÖ≥Á≥ª).forEach(t=>{t&&"object"==typeof t&&(0,_.UY)(t,e.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥)}),console.log("[12] Âç≥Â∞Ü‰øùÂ≠òÂà∞IndexedDBÁöÑÊï∞ÊçÆ:",{ËßíËâ≤ID:n.ËßíËâ≤ID,Â≠òÊ°£ÊßΩ‰Ωç:n.Â≠òÊ°£ÊßΩ‰Ωç,ËÉåÂåÖ‰ø°Áî®ÁÇπ:e.ËßíËâ≤?.ËÉåÂåÖ?.‰ø°Áî®ÁÇπ}),await d.dc(n.ËßíËâ≤ID,n.Â≠òÊ°£ÊßΩ‰Ωç,e),D(),console.log("[13] IndexedDB‰øùÂ≠òÂÆåÊàê"),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ Â≠òÊ°£ÂÜÖÂÆπÂ∑≤‰øùÂ≠òÂà∞ IndexedDB (Key: ${n.ËßíËâ≤ID}_${n.Â≠òÊ°£ÊßΩ‰Ωç})`),o.‰øùÂ≠òÊó∂Èó¥=(new Date).toISOString();const t=e.ËßíËâ≤?.Â±ûÊÄß,r=e.ËßíËâ≤?.‰ΩçÁΩÆ;if(o.Èò∂‰Ωç=t?.Èò∂‰Ωç?.ÂêçÁß∞||"Ë°óÂ§¥Êñ∞‰∫∫",o.‰ΩçÁΩÆ=r?.ÊèèËø∞||"Êú™Áü•",e.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥){const t=e.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥;o.Ê∏∏ÊàèÂÜÖÊó∂Èó¥=`${t.Âπ¥}Âπ¥${t.Êúà}Êúà${t.Êó•}Êó•`}if(delete o.Â≠òÊ°£Êï∞ÊçÆ,"ÂçïÊú∫"===a.Ê®°Âºè&&a.Â≠òÊ°£ÂàóË°®?a.Â≠òÊ°£ÂàóË°®[n.Â≠òÊ°£ÊßΩ‰Ωç]=o:"ËÅîÊú∫"===a.Ê®°Âºè&&(a.Â≠òÊ°£ÂàóË°®||(a.Â≠òÊ°£ÂàóË°®={}),a.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]=o),await x(),"ËÅîÊú∫"===a.Ê®°Âºè){const t=ne(a),r=t?.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÂêéÁ´ØÂàõÂª∫Â§±Ë¥•;if(r)try{s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","Ê£ÄÊµãÂà∞ÂêéÁ´ØÂàõÂª∫Â§±Ë¥•Ê†áËÆ∞ÔºåÂ∞ùËØïÈáçÊñ∞ÂàõÂª∫ËßíËâ≤...");const e={char_id:n.ËßíËâ≤ID,base_info:a.ËßíËâ≤};await(0,N.OW)(e),t?.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ&&(t.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ.ÂêéÁ´ØÂàõÂª∫Â§±Ë¥•=!1),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ ÂêéÁ´ØËßíËâ≤ÈáçÊñ∞ÂàõÂª∫ÊàêÂäü")}catch(e){return void s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","ÂêéÁ´ØËßíËâ≤ÈáçÊñ∞ÂàõÂª∫Â§±Ë¥•ÔºåË∑≥Ëøá‰∫ëÁ´ØÂêåÊ≠•",e)}try{const t=o.‰∏ñÁïåÂú∞Âõæ??{},r=o.Ê∏∏ÊàèÂÜÖÊó∂Èó¥??null,i=ae(e),s=await(0,N.Sj)(n.ËßíËâ≤ID,{save_data:i,world_map:t,game_time:r}),l=ne(a),c="number"==typeof s?.version?s.version:(l?.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÁâàÊú¨??1)+1;l&&(l.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ={ÊúÄÂêéÂêåÊ≠•:(new Date).toISOString(),ÁâàÊú¨:c,ÈúÄË¶ÅÂêåÊ≠•:!1}),await x()}catch(e){s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","‰∫ëÁ´ØÂêåÊ≠•Â§±Ë¥•ÔºàËÅîÊú∫Ê®°ÂºèÔºâ",e);const t=ne(a);t&&(t.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ={ÊúÄÂêéÂêåÊ≠•:t.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÊúÄÂêéÂêåÊ≠•||(new Date).toISOString(),ÁâàÊú¨:t.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÁâàÊú¨||1,ÈúÄË¶ÅÂêåÊ≠•:!0},await x())}}s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Â≠òÊ°£„Äê${o.Â≠òÊ°£Âêç}„ÄëÂÖÉÊï∞ÊçÆÂ∑≤Êõ¥Êñ∞`)}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Â≠òÊ°£‰øùÂ≠òËøáÁ®ãÂá∫Èîô",e);const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";i.o.error(`Â≠òÊ°£‰øùÂ≠òÂ§±Ë¥•Ôºö${t}`,{id:c})}},P=async(t,n)=>{console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] ÂºÄÂßãÂà†Èô§Â≠òÊ°£:",{charId:t,slotKey:n});const a=e.value.ËßíËâ≤ÂàóË°®[t];if(!a||"ÂçïÊú∫"!==a.Ê®°Âºè||!a.Â≠òÊ°£ÂàóË°®)return console.warn("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] Êó†Ê≥ïÂà†Èô§ÔºöËßíËâ≤‰∏çÂ≠òÂú®ÊàñÈùûÂçïÊú∫Ê®°Âºè"),void i.o.error("Êó†Ê≥ïÂà†Èô§Â≠òÊ°£ÔºöËßíËâ≤‰∏çÂ≠òÂú®ÊàñÈùûÂçïÊú∫Ê®°Âºè");console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] ÂΩìÂâçÂ≠òÊ°£ÂàóË°®:",Object.keys(a.Â≠òÊ°£ÂàóË°®));const r=Object.entries(a.Â≠òÊ°£ÂàóË°®).filter(([e,t])=>t&&"‰∏äÊ¨°ÂØπËØù"!==e).length;if(console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] ÂèØÂà†Èô§Â≠òÊ°£Êï∞Èáè:",r),r<=1)return console.warn("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] ÊúÄÂêé‰∏Ä‰∏™Â≠òÊ°£‰∏çËÉΩÂà†Èô§"),void i.o.error("ÊúÄÂêé‰∏Ä‰∏™Â≠òÊ°£‰∏çËÉΩÂà†Èô§");const o=a.Â≠òÊ°£ÂàóË°®?.[n]?.Â≠òÊ°£Âêç||n;if(!a.Â≠òÊ°£ÂàóË°®?.[n])return console.warn("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] Â≠òÊ°£‰∏çÂ≠òÂú®:",n),void i.o.error(`Â≠òÊ°£„Äê${o}„Äë‰∏çÂ≠òÂú®`);const l=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£;if(l?.ËßíËâ≤ID===t&&l?.Â≠òÊ°£ÊßΩ‰Ωç===n){console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] Âà†Èô§ÁöÑÊòØÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£ÔºåÊ∏ÖÁêÜÈÖíÈ¶ÜÁéØÂ¢É");try{await(0,u.clearAllCharacterData)(),i.o.info((0,u.isTavernEnv)()?"ÂΩìÂâçÂ≠òÊ°£Â∑≤ÊøÄÊ¥ªÔºåÂêåÊ≠•Ê∏ÖÁêÜÈÖíÈ¶ÜÁéØÂ¢ÉÂèòÈáè„ÄÇ":"ÂΩìÂâçÂ≠òÊ°£Â∑≤ÊøÄÊ¥ªÔºåÂ∑≤Ê∏ÖÁêÜÁéØÂ¢ÉÂèòÈáè„ÄÇ")}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Âà†Èô§ÊøÄÊ¥ªÂ≠òÊ°£Êó∂Ê∏ÖÁêÜÈÖíÈ¶ÜÊï∞ÊçÆÂ§±Ë¥•",e),i.o.error((0,u.isTavernEnv)()?"Ê∏ÖÁêÜÈÖíÈ¶ÜÁéØÂ¢ÉÂèòÈáèÂ§±Ë¥•ÔºåÂª∫ËÆÆÂà∑Êñ∞È°µÈù¢„ÄÇ":"Ê∏ÖÁêÜÁéØÂ¢ÉÂèòÈáèÂ§±Ë¥•ÔºåÂª∫ËÆÆÂà∑Êñ∞È°µÈù¢„ÄÇ")}e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£=null}try{console.log(`[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] ‰ªé IndexedDB Âà†Èô§Â≠òÊ°£: ${t}/${n}`),await d.Jx(t,n),console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] ‚úÖ IndexedDB Â≠òÊ°£Êï∞ÊçÆÂ∑≤Âà†Èô§")}catch(e){console.error("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] Âà†Èô§ IndexedDB Â≠òÊ°£Êï∞ÊçÆÂ§±Ë¥•:",e),i.o.warning("Ê∏ÖÁêÜÂ≠òÊ°£Êï∞ÊçÆÊó∂Âá∫Áé∞ÈîôËØØ")}console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] ÊâßË°å delete Êìç‰Ωú"),delete a.Â≠òÊ°£ÂàóË°®[n],a.Â≠òÊ°£ÂàóË°®={...a.Â≠òÊ°£ÂàóË°®},console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] Âà†Èô§ÂêéÂ≠òÊ°£ÂàóË°®:",Object.keys(a.Â≠òÊ°£ÂàóË°®)),console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] ÂºÄÂßã‰øùÂ≠òÂà∞ IndexedDB"),await x(),console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] IndexedDB ‰øùÂ≠òÂÆåÊàê");try{await I(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","Âà†Èô§Â≠òÊ°£ÂêéÂ∑≤ÂêåÊ≠•Âà∞‰∫ëÁ´Ø")}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Âà†Èô§Â≠òÊ°£ÂêéÂêåÊ≠•‰∫ëÁ´ØÂ§±Ë¥•",e)}i.o.success("Â≠òÊ°£Â∑≤Âà†Èô§"),console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§Â≠òÊ°£] Âà†Èô§Â≠òÊ°£ÂÆåÊàê")};return{rootState:e,initialized:r,allCharacterProfiles:h,activeCharacterProfile:f,activeSaveSlot:b,saveSlots:y,initializeStore:g,reloadFromStorage:B,createNewCharacter:async t=>{const n=(0,l.useUIStore)(),a=(0,c.N)(),{charId:r,baseInfo:o,world:g,mode:h,age:f}=t;if(e.value.ËßíËâ≤ÂàóË°®[r])return void i.o.error(`ËßíËâ≤ID ${r} Â∑≤Â≠òÂú®ÔºåÂàõÂª∫Â§±Ë¥•ÔºÅ`);const v={...o,‰∏ñÁïå:a.selectedWorld,Ê®°ÂùóÈò∂‰Ωç:a.selectedTalentTier,Âá∫Áîü:a.selectedOrigin||"ÈöèÊú∫Âá∫Ë∫´",ÊîπÈÄ†Ê†∏ÂøÉ:a.selectedSpiritRoot||"ÈöèÊú∫ÊîπÈÄ†",Ê®°Âùó:a.selectedTalents,ÊàêÈïøÂÖ≠Áª¥:o.ÊàêÈïøÂÖ≠Áª¥||{‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0}};s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","ÊûÑÂª∫ÊùÉÂ®ÅÂàõËßí‰ø°ÊÅØ:",v);try{n.updateLoadingText("Âç≥Â∞ÜÂºÄÂßãËßíËâ≤ÂàõÂª∫..."),await(0,u.clearAllCharacterData)();let t=!1;if("ËÅîÊú∫"===h)try{n.updateLoadingText("Ê≠£Âú®Âêë‰∫ëÁ´ØÊèê‰∫§ËßíËâ≤‰ø°ÊÅØ...");const e={char_id:r,base_info:v};s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","ÂêëÂêéÁ´ØÊèê‰∫§ÁöÑÊï∞ÊçÆ",e);const a=await(0,N.OW)(e);s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","ÂêéÁ´ØËøîÂõûÁªìÊûú",a),n.updateLoadingText("ËßíËâ≤‰ø°ÊÅØÂ∑≤ÊàêÂäüÊèê‰∫§Ëá≥‰∫ëÁ´ØÔºÅ"),t=!0}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","ÂêëÂêéÁ´ØÊèê‰∫§Â§±Ë¥•",e),i.o.warning("Âêë‰∫ëÁ´ØÊèê‰∫§ËßíËâ≤‰ø°ÊÅØÂ§±Ë¥•ÔºåÂ∞ÜÁªßÁª≠Êú¨Âú∞ÂàõÂª∫ÊµÅÁ®ã"),t=!1}console.log("[ËßíËâ≤ÂïÜÂ∫ó] ÂáÜÂ§áË∞ÉÁî®initializeCharacter...");let o,l=null;try{console.log("[ËßíËâ≤ÂïÜÂ∫ó] Ë∞ÉÁî®initializeCharacter,ÂèÇÊï∞:",{charId:r,baseInfo:v,world:g.name,age:f,useStreaming:a.useStreamingStart,generateMode:a.generateMode}),l=await E(0,v,g,f,a.useStreamingStart,a.generateMode),console.log("[ËßíËâ≤ÂïÜÂ∫ó] ‚úÖ initializeCharacterËøîÂõûÊàêÂäü,Êï∞ÊçÆÊúâÊïà:",!!l)}catch(e){if(console.error("[ËßíËâ≤ÂïÜÂ∫ó] ‚ùå initializeCharacterÂ§±Ë¥•:",e),"ÂçïÊú∫"!==h)throw e;console.log("[ËßíËâ≤ÂïÜÂ∫ó] Á©øË∂äÂºÇ‰∏ñÁïå,Â∞ùËØïÁ¶ªÁ∫øÂàùÂßãÂåñ..."),l=await async function(e,t,n,a){console.log("[Á¶ªÁ∫øÂàùÂßãÂåñ] ÂºÄÂßãÊâßË°åÊú¨Âú∞ËßíËâ≤ÂàõÂª∫..."),t.ÊàêÈïøÂÖ≠Áª¥||(t.ÊàêÈïøÂÖ≠Áª¥={‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0},console.log("[Á¶ªÁ∫øÂàùÂßãÂåñ] ÂàùÂßãÂåñÊàêÈïøÂÖ≠Áª¥‰∏∫ÂÖ®0"));const r=w(t,a);r.‰ΩçÁΩÆ={ÊèèËø∞:"‰∏¥Êó∂‰ΩçÁΩÆÔºàÁ≠âÂæÖAIÂàùÂßãÂåñÔºâ",x:115,y:35};const o=(new Date).toISOString(),i={ÂÖÉÊï∞ÊçÆ:{ÁâàÊú¨Âè∑:3,Â≠òÊ°£ID:`save_${e}_${Date.now()}`,Â≠òÊ°£Âêç:`${t.ÂêçÂ≠ó}ÔºàÁ¶ªÁ∫øÂºÄÂ±ÄÔºâ`,ÂàõÂª∫Êó∂Èó¥:o,Êõ¥Êñ∞Êó∂Èó¥:o,Ê∏∏ÊàèÊó∂ÈïøÁßí:0,Êó∂Èó¥:{Âπ¥:1e3,Êúà:1,Êó•:1,Â∞èÊó∂:8,ÂàÜÈíü:0}},ËßíËâ≤:{Ë∫´‰ªΩ:t,Â±ûÊÄß:{Èò∂‰Ωç:r.Èò∂‰Ωç,Â£∞Êúõ:r.Â£∞Êúõ,ÁîüÂëΩÂÄº:r.ÁîüÂëΩÂÄº,ÁîµÈáè:r.ÁîµÈáè,Â∏¶ÂÆΩ:r.Â∏¶ÂÆΩ,ÂØøÂëΩ:r.ÂØøÂëΩ},‰ΩçÁΩÆ:r.‰ΩçÁΩÆ,ÊïàÊûú:[],ËÉåÂåÖ:{‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:10,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0},Áâ©ÂìÅ:{consumable_starter_injector_01:{Áâ©ÂìÅID:"consumable_starter_injector_01",ÂêçÁß∞:"Â∫îÊÄ•Ê≥®Â∞ÑÂâÇ",Á±ªÂûã:"ÂÖ∂‰ªñ",Êï∞Èáè:3,ÂìÅË¥®:{quality:"Ê∞ëÁî®",grade:1},ÊèèËø∞:"‰∏ÄÊ¨°ÊÄßÊ≥®Â∞ÑÂâÇÔºåËÉΩÊÅ¢Â§çÂ∞ëÈáèÁîüÂëΩÂÄº„ÄÇ"},equipment_street_jacket_01:{Áâ©ÂìÅID:"equipment_street_jacket_01",ÂêçÁß∞:"Ë°óÂ§¥Â§πÂÖã",Á±ªÂûã:"Ë£ÖÂ§á",Êï∞Èáè:1,ÂìÅË¥®:{quality:"Ê∞ëÁî®",grade:1},ÊèèËø∞:"‰∏Ä‰ª∂ËΩª‰æøÂ§πÂÖãÔºåËÉΩÊèê‰æõÊúâÈôêÁöÑÈò≤Êä§„ÄÇ"}}},Ë£ÖÂ§á:{Ë£ÖÂ§á1:null,Ë£ÖÂ§á2:null,Ë£ÖÂ§á3:null,Ë£ÖÂ§á4:null,Ë£ÖÂ§á5:null,Ë£ÖÂ§á6:null},Á®ãÂ∫è:{ÂΩìÂâçÁ®ãÂ∫èID:null,Á®ãÂ∫èËøõÂ∫¶:{},Á®ãÂ∫èÂ•óË£Ö:{‰∏ªÊßΩ:null,ÂâØÊßΩ:[]}},ËÆ≠ÁªÉ:{ËÆ≠ÁªÉÁ®ãÂ∫è:null,ËÆ≠ÁªÉÁä∂ÊÄÅ:{Ê®°Âºè:"Êú™ËÆ≠ÁªÉ"}},ÊµÅÊ¥æ:{ÊµÅÊ¥æÂàóË°®:{}},ÊäÄËÉΩ:{ÊéåÊè°ÊäÄËÉΩ:[],Ë£ÖÂ§áÊ†è:[],ÂÜ∑Âç¥:{}}},Á§æ‰∫§:{ÂÖ≥Á≥ª:{},ÁªÑÁªá:null,‰∫ã‰ª∂:{ÈÖçÁΩÆ:{ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""},‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥:null,‰∫ã‰ª∂ËÆ∞ÂΩï:[]},ËÆ∞ÂøÜ:{Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]}},‰∏ñÁïå:{‰ø°ÊÅØ:{‰∏ñÁïåÂêçÁß∞:n.name,Â§ßÈôÜ‰ø°ÊÅØ:[],ÂäøÂäõ‰ø°ÊÅØ:[],Âú∞ÁÇπ‰ø°ÊÅØ:[],ÁîüÊàêÊó∂Èó¥:o,‰∏ñÁïåËÉåÊôØ:n.description??"",‰∏ñÁïåÁ∫™ÂÖÉ:n.era||"Êú™Áü•Á∫™ÂÖÉ",ÁâπÊÆäËÆæÂÆö:[],ÁâàÊú¨:"offline-1.1"},Áä∂ÊÄÅ:{}},Á≥ªÁªü:{ÈÖçÁΩÆ:{ËßÑÂàô:{Â±ûÊÄß‰∏äÈôê:{ÂàùÂßãÂÖ≠Áª¥:{ÊØèÈ°π‰∏äÈôê:10}}},ÊèêÁ§∫:["Á≥ªÁªüËßÑÂàôÔºöÂàùÂßãÂÖ≠Áª¥ÊØèÈ°π‰∏äÈôê‰∏∫10ÔºàNPCÂêåÊ†∑ÈÄÇÁî®ÔºâÔºåÂ¶ÇË∂ÖÈôêÈúÄË£ÅÂâ™Ëá≥‰∏äÈôê„ÄÇ","Á≥ªÁªü‰ºöÊ†πÊçÆÊó∂Èó¥Ëá™Âä®ËÆ°ÁÆóÂΩìÂâçÂπ¥ÈæÑÔºåÊó†ÈúÄÊâãÂä®Êõ¥Êñ∞ÂØøÂëΩ.ÂΩìÂâçÂ≠óÊÆµ„ÄÇ"]},ÁºìÂ≠ò:{ÊéåÊè°ÊäÄËÉΩ:[]},ÂéÜÂè≤:{Âèô‰∫ã:[]},Êâ©Â±ï:{Á¶ªÁ∫øÂàùÂßãÂåñ:{ÂàùÂßãÂπ¥ÈæÑ:a,ÂºÄÂ±ÄÊó∂Èó¥:{Âπ¥:1e3-a,Êúà:1,Êó•:1,Â∞èÊó∂:8,ÂàÜÈíü:0}}},ËÅîÊú∫:{Ê®°Âºè:"ÂçïÊú∫",ÊàøÈó¥ID:null,Áé©ÂÆ∂ID:null,Âè™ËØªË∑ØÂæÑ:["‰∏ñÁïå"],‰∏ñÁïåÊõùÂÖâ:!1,ÂÜ≤Á™ÅÁ≠ñÁï•:"ÊúçÂä°Âô®"}}};return console.log("[Á¶ªÁ∫øÂàùÂßãÂåñ] Êú¨Âú∞ËßíËâ≤ÂàõÂª∫ÂÆåÊàê:",i),i}(r,v,g,f)}if((0,u.isTavernEnv)()&&l&&(l=(0,m.kL)(l)),"ÂçïÊú∫"===h){const e=(new Date).toISOString();o={Ê®°Âºè:"ÂçïÊú∫",ËßíËâ≤:l?.ËßíËâ≤?.Ë∫´‰ªΩ||v,Â≠òÊ°£ÂàóË°®:{Â≠òÊ°£1:{Â≠òÊ°£Âêç:"Â≠òÊ°£1",‰øùÂ≠òÊó∂Èó¥:e,Ê∏∏ÊàèÂÜÖÊó∂Èó¥:"ÈúìËôπÁ∫™ÂÖÉ ÂÖÉÂπ¥ Êò•",ËßíËâ≤ÂêçÂ≠ó:v.ÂêçÂ≠ó,Èò∂‰Ωç:"Ë°óÂ§¥Êñ∞‰∫∫",‰ΩçÁΩÆ:"Êú™Áü•",Èò∂‰ΩçËøõÂ∫¶:0,Â≠òÊ°£Êï∞ÊçÆ:l},‰∏äÊ¨°ÂØπËØù:{Â≠òÊ°£Âêç:"‰∏äÊ¨°ÂØπËØù",‰øùÂ≠òÊó∂Èó¥:null,Â≠òÊ°£Êï∞ÊçÆ:null}}}}else{const e=(new Date).toISOString();o={Ê®°Âºè:"ËÅîÊú∫",ËßíËâ≤:l?.ËßíËâ≤?.Ë∫´‰ªΩ||v,Â≠òÊ°£ÂàóË°®:{‰∫ëÁ´ØËÆ≠ÁªÉ:{Â≠òÊ°£Âêç:"‰∫ëÁ´ØËÆ≠ÁªÉ",‰øùÂ≠òÊó∂Èó¥:e,Ê∏∏ÊàèÂÜÖÊó∂Èó¥:"ÈúìËôπÁ∫™ÂÖÉ ÂÖÉÂπ¥ Êò•",ËßíËâ≤ÂêçÂ≠ó:v.ÂêçÂ≠ó,Èò∂‰Ωç:"Ë°óÂ§¥Êñ∞‰∫∫",‰ΩçÁΩÆ:"Êú™Áü•",Èò∂‰ΩçËøõÂ∫¶:0,Â≠òÊ°£Êï∞ÊçÆ:l,‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ:{ÊúÄÂêéÂêåÊ≠•:t?e:"",ÁâàÊú¨:1,ÈúÄË¶ÅÂêåÊ≠•:!t,ÂêéÁ´ØÂàõÂª∫Â§±Ë¥•:!t}},‰∏äÊ¨°ÂØπËØù:{Â≠òÊ°£Âêç:"‰∏äÊ¨°ÂØπËØù",‰øùÂ≠òÊó∂Èó¥:null,Â≠òÊ°£Êï∞ÊçÆ:null}}}}e.value.ËßíËâ≤ÂàóË°®[r]=o;const c="ÂçïÊú∫"===h?"Â≠òÊ°£1":"‰∫ëÁ´ØËÆ≠ÁªÉ";if(e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£={ËßíËâ≤ID:r,Â≠òÊ°£ÊßΩ‰Ωç:c},await(async t=>{const n=e.value.ËßíËâ≤ÂàóË°®[t];if(!n)throw new Error(`[Â≠òÊ°£Ê†∏ÂøÉ] Êó†Ê≥ïÊâæÂà∞ID‰∏∫ ${t} ÁöÑËßíËâ≤Ê°£Ê°à`);const a=b.value;if(a&&a.Â≠òÊ°£Êï∞ÊçÆ)try{const t=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£;if(!t)throw new Error("[Â≠òÊ°£Ê†∏ÂøÉ] Ê≤°ÊúâÊøÄÊ¥ªÁöÑÂ≠òÊ°£");s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‰øùÂ≠òÂ≠òÊ°£Êï∞ÊçÆÂà∞ IndexedDB"),await d.dc(t.ËßíËâ≤ID,t.Â≠òÊ°£ÊßΩ‰Ωç,a.Â≠òÊ°£Êï∞ÊçÆ),D(),delete a.Â≠òÊ°£Êï∞ÊçÆ,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ Â∑≤Â∞Ü„Äê${n.ËßíËâ≤.ÂêçÂ≠ó}„ÄëÁöÑÂ≠òÊ°£‰øùÂ≠òËá≥ IndexedDB`)}catch(e){throw s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","‰øùÂ≠òËßíËâ≤Â≠òÊ°£Â§±Ë¥•",e),i.o.error("‰øùÂ≠òËßíËâ≤Â≠òÊ°£Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÊéßÂà∂Âè∞„ÄÇ"),e}else s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó",`ËßíËâ≤ ${t} Ê≤°ÊúâÂèØÁî®ÁöÑÂ≠òÊ°£Êï∞ÊçÆÊù•‰øùÂ≠ò`)})(r),await x(),(0,p.useGameStateStore)().loadFromSaveData(l),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ ÂàùÂßãÂ≠òÊ°£Â∑≤Âä†ËΩΩÂà∞ gameStateStore"),"ËÅîÊú∫"===h&&t)try{n.updateLoadingText("Ê≠£Âú®ÂêåÊ≠•ÂàùÂßãÂ≠òÊ°£Âà∞‰∫ëÁ´Ø...");const e={save_data:ae(l),world_map:{},game_time:"ÈúìËôπÁ∫™ÂÖÉ ÂÖÉÂπ¥ Êò•"};s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","ÂáÜÂ§áÂêåÊ≠•Âà∞‰∫ëÁ´ØÁöÑÂàùÂßãÂ≠òÊ°£Êï∞ÊçÆ",e),await(0,N.Sj)(r,e),n.updateLoadingText("ÂàùÂßãÂ≠òÊ°£Â∑≤ÊàêÂäüÂêåÊ≠•Âà∞‰∫ëÁ´ØÔºÅ")}catch(e){s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","ÂêåÊ≠•ÂàùÂßãÂ≠òÊ°£Êï∞ÊçÆÂà∞‰∫ëÁ´ØÂ§±Ë¥•",e);const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";i.o.warning(`‰∫ëÁ´ØÂêåÊ≠•Â§±Ë¥•(ÂêéÁ´ØÊú™ÂêØÂä®): ${t}`)}else"ËÅîÊú∫"!==h||t||s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","ÂêéÁ´ØÂàõÂª∫ËßíËâ≤Â§±Ë¥•ÔºåË∑≥ËøáÂàùÂßãÂ≠òÊ°£ÂêåÊ≠•");return v}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","ËßíËâ≤ÂàõÂª∫Â§±Ë¥•",e);const t=e instanceof Error?e.message:String(e);throw new Error(`ËßíËâ≤ÂàõÂª∫Â§±Ë¥•: ${t}`)}},deleteCharacter:async t=>{if(console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] ÂºÄÂßãÂà†Èô§ËßíËâ≤:",t),console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] Âà†Èô§ÂâçËßíËâ≤ÂàóË°®:",Object.keys(e.value.ËßíËâ≤ÂàóË°®)),!e.value.ËßíËâ≤ÂàóË°®[t])return void console.warn("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] ËßíËâ≤‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïÂà†Èô§");const n=e.value.ËßíËâ≤ÂàóË°®[t]?.ËßíËâ≤.ÂêçÂ≠ó||t;e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID===t&&(console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] Âà†Èô§ÁöÑÊòØÂΩìÂâçÊøÄÊ¥ªËßíËâ≤ÔºåÈáçÁΩÆ gameStateStore"),(0,p.useGameStateStore)().resetState(),e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£=null);try{console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] ÂºÄÂßãÊ∏ÖÁêÜ IndexedDB ‰∏≠ÁöÑÊâÄÊúâÂ≠òÊ°£Êï∞ÊçÆ...");const e=await d.Wj(t);console.log(`[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] ‚úÖ Â∑≤Ê∏ÖÁêÜ ${e} ‰∏™Â≠òÊ°£ËÆ∞ÂΩï`)}catch(e){console.error("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] Ê∏ÖÁêÜ IndexedDB Â≠òÊ°£Êï∞ÊçÆÂ§±Ë¥•:",e),i.o.warning("Ê∏ÖÁêÜÂ≠òÊ°£Êï∞ÊçÆÊó∂Âá∫Áé∞ÈîôËØØÔºåÈÉ®ÂàÜÊï∞ÊçÆÂèØËÉΩÊú™Âà†Èô§")}console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] ÊâßË°å delete Êìç‰Ωú"),delete e.value.ËßíËâ≤ÂàóË°®[t],console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] Âà†Èô§ÂêéËßíËâ≤ÂàóË°®:",Object.keys(e.value.ËßíËâ≤ÂàóË°®)),console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] ÂºÄÂßã‰øùÂ≠òÂà∞ IndexedDB"),await x(),console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] IndexedDB ‰øùÂ≠òÂÆåÊàê");try{await I(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","Âà†Èô§ËßíËâ≤ÂêéÂ∑≤ÂêåÊ≠•Âà∞‰∫ëÁ´Ø")}catch(e){s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","Âà†Èô§ËßíËâ≤ÂêéÂêåÊ≠•‰∫ëÁ´ØÂ§±Ë¥•ÔºàÂêéÁ´ØÊú™ÂêØÂä®Ôºâ:",e)}i.o.success(`ËßíËâ≤„Äê${n}„ÄëÂ∑≤‰ªéÊú¨Âú∞Êï∞ÊçÆÂ∫ìÂà†Èô§„ÄÇ`),console.log("[ËßíËâ≤ÂïÜÂ∫ó-Âà†Èô§] Âà†Èô§ËßíËâ≤ÂÆåÊàê")},deleteNpc:async e=>{const t=(0,p.useGameStateStore)(),n=t.relationships;if(!n){const e="Êó†Ê≥ïÂà†Èô§NPCÔºöÊ≤°ÊúâÊøÄÊ¥ªÁöÑÂ≠òÊ°£ÊàñÂÖ≥Á≥ªÊï∞ÊçÆ„ÄÇ";throw i.o.error(e),new Error(e)}const a=Object.keys(n).find(t=>n[t]?.ÂêçÂ≠ó===e);if(!a){const t=`Êâæ‰∏çÂà∞Âêç‰∏∫ ${e} ÁöÑNPC„ÄÇ`;throw i.o.error(t),new Error(t)}const r={...n[a]};try{console.log("[Âà†Èô§NPC-Ë∞ÉËØï] Âà†Èô§Ââç gameStateStore.relationships ÁöÑÂºïÁî®:",t.relationships===n),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] Âà†Èô§Ââç relationships ‰∏≠ÁöÑNPCÂàóË°®:",Object.keys(n).map(e=>n[e]?.ÂêçÂ≠ó)),delete n[a],console.log(`[Âà†Èô§NPC-Ë∞ÉËØï] Â∑≤‰ªéÂÜÖÂ≠ò‰∏≠Âà†Èô§NPC: ${e}`),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] Âà†Èô§Âêé relationships ‰∏≠ÁöÑNPCÊï∞Èáè:",Object.keys(n).length),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] Âà†Èô§ÂêéÊòØÂê¶ËøòÂ≠òÂú®ËØ•NPC:",!!n[a]),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] Âà†Èô§Âêé gameStateStore.relationships ‰∏≠ÊòØÂê¶ËøòÂ≠òÂú®:",!!t.relationships?.[a]),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] Âà†Èô§Âêé relationships ‰∏≠ÁöÑNPCÂàóË°®:",Object.keys(n).map(e=>n[e]?.ÂêçÂ≠ó)),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Â∑≤‰ªé gameStateStore ‰∏≠Âà†Èô§NPC: ${e}`),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] ÂºÄÂßã‰øùÂ≠òÂà∞Â≠òÂÇ®..."),await t.saveGame(),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] ‰øùÂ≠òÂÆåÊàê");const r=t.toSaveData();if(r?.Á§æ‰∫§?.ÂÖ≥Á≥ª){const t=Object.values(r.Á§æ‰∫§.ÂÖ≥Á≥ª).some(t=>t?.ÂêçÂ≠ó===e);console.log("[Âà†Èô§NPC-Ë∞ÉËØï] toSaveData() ËøîÂõûÁöÑÊï∞ÊçÆ‰∏≠ÊòØÂê¶ËøòÂ≠òÂú®ËØ•NPC:",t),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] toSaveData() ËøîÂõûÁöÑÂÖ≥Á≥ªÊï∞Èáè:",Object.keys(r.Á§æ‰∫§.ÂÖ≥Á≥ª).length),console.log("[Âà†Èô§NPC-Ë∞ÉËØï] toSaveData() ËøîÂõûÁöÑNPCÂàóË°®:",Object.values(r.Á§æ‰∫§.ÂÖ≥Á≥ª).map(e=>e?.ÂêçÂ≠ó))}s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ NPC ${e} Â∑≤ÊàêÂäüÂà†Èô§Âπ∂‰øùÂ≠ò`),i.o.success(`NPC„Äê${e}„ÄëÂ∑≤ÊàêÂäüÂà†Èô§„ÄÇ`)}catch(t){throw s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó",`Âà†Èô§NPC ${e} Âêé‰øùÂ≠òÂ§±Ë¥•`,t),n[a]=r,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Â∑≤ÂõûÊªö gameStateStore ‰∏≠ÁöÑNPCÂà†Èô§Êìç‰Ωú: ${e}`),i.o.error(`Âà†Èô§NPCÂ§±Ë¥•: ${t instanceof Error?t.message:"Êú™Áü•ÈîôËØØ"}`),t}},deleteSave:P,deleteSaveById:async t=>{const n=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID;if(n)return P(n,t);i.o.error("Êó†Ê≥ïÁ°ÆÂÆöËßíËâ≤ID")},createNewSave:async(t,n)=>{const a=e.value.ËßíËâ≤ÂàóË°®[t];a&&"ÂçïÊú∫"===a.Ê®°Âºè?(a.Â≠òÊ°£ÂàóË°®||(a.Â≠òÊ°£ÂàóË°®={}),a.Â≠òÊ°£ÂàóË°®[n]?i.o.error("Â≠òÊ°£ÂêçÁß∞Â∑≤Â≠òÂú®"):(a.Â≠òÊ°£ÂàóË°®[n]={Â≠òÊ°£Âêç:n,‰øùÂ≠òÊó∂Èó¥:null,Â≠òÊ°£Êï∞ÊçÆ:null},await x(),i.o.success(`Â≠òÊ°£„Äê${n}„ÄëÂ∑≤ÂàõÂª∫`))):i.o.error("Êó†Ê≥ïÂàõÂª∫Â≠òÊ°£ÔºöËßíËâ≤‰∏çÂ≠òÂú®ÊàñÈùûÂçïÊú∫Ê®°Âºè")},saveAsNewSlot:async t=>{const n=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,a=f.value;if(!n||!a)return i.o.error("Ê≤°ÊúâÊøÄÊ¥ªÁöÑÊ∏∏ÊàèËøõÂ∫¶"),null;if("ÂçïÊú∫"!==a.Ê®°Âºè)return i.o.error("ËÅîÊú∫Ê®°Âºè‰∏çÊîØÊåÅÂ§öÂ≠òÊ°£"),null;if(a.Â≠òÊ°£ÂàóË°®||(a.Â≠òÊ°£ÂàóË°®={}),a.Â≠òÊ°£ÂàóË°®[t])return i.o.error("Â≠òÊ°£ÂêçÁß∞Â∑≤Â≠òÂú®"),null;try{const e=(0,p.useGameStateStore)().toSaveData();if(!e)return i.o.error("Êó†Ê≥ïËé∑ÂèñÂΩìÂâçÊ∏∏ÊàèÁä∂ÊÄÅ"),null;const r=(new Date).toISOString(),o=e.ËßíËâ≤?.Â±ûÊÄß,l=e.ËßíËâ≤?.‰ΩçÁΩÆ,c={Â≠òÊ°£Âêç:t,‰øùÂ≠òÊó∂Èó¥:r,ËßíËâ≤ÂêçÂ≠ó:e.ËßíËâ≤?.Ë∫´‰ªΩ?.ÂêçÂ≠ó,Èò∂‰Ωç:o?.Èò∂‰Ωç?.ÂêçÁß∞||"Ë°óÂ§¥Êñ∞‰∫∫",‰ΩçÁΩÆ:l?.ÊèèËø∞||"Êú™Áü•",Â≠òÊ°£Êï∞ÊçÆ:JSON.parse(JSON.stringify(e))};if(o?.Èò∂‰Ωç&&o.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ>0&&(c.Èò∂‰ΩçËøõÂ∫¶=Math.floor(o.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶/o.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ*100)),e.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥){const t=e.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥;c.Ê∏∏ÊàèÂÜÖÊó∂Èó¥=`${t.Âπ¥}Âπ¥${t.Êúà}Êúà${t.Êó•}Êó•`}return a.Â≠òÊ°£ÂàóË°®[t]=c,await d.dc(n.ËßíËâ≤ID,t,e),await x(),i.o.success(`Â∑≤Âè¶Â≠ò‰∏∫Êñ∞Â≠òÊ°£Ôºö${t}`),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Â∑≤ÂàõÂª∫Êñ∞Â≠òÊ°£ÊßΩ‰Ωç: ${t}`),t}catch(e){return s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Âè¶Â≠ò‰∏∫Êñ∞Â≠òÊ°£Â§±Ë¥•",e),i.o.error("Âè¶Â≠ò‰∏∫Êñ∞Â≠òÊ°£Â§±Ë¥•"),null}},saveToSlot:async t=>{const n=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,a=f.value;if(!n||!a){const e=`Ê≤°ÊúâÊøÄÊ¥ªÁöÑËßíËâ≤ÔºåÊó†Ê≥ï‰øùÂ≠òÂà∞ ${t}`;throw s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó",`[saveToSlot] ${e}`),console.error(`[saveToSlot] ${e}`,{active:n,profile:a}),new Error(e)}if("ÂçïÊú∫"!==a.Ê®°Âºè){const e=`ËÅîÊú∫Ê®°Âºè‰∏çÊîØÊåÅÂ§öÂ≠òÊ°£ÔºåÊó†Ê≥ï‰øùÂ≠òÂà∞ ${t}`;throw s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó",`[saveToSlot] ${e}`),console.warn(`[saveToSlot] ${e}`,{Ê®°Âºè:a.Ê®°Âºè}),new Error(e)}a.Â≠òÊ°£ÂàóË°®||(a.Â≠òÊ°£ÂàóË°®={});try{const e=(0,p.useGameStateStore)().getCurrentSaveData();if(!e)throw new Error("Êó†Ê≥ïËé∑ÂèñÂΩìÂâçÂ≠òÊ°£Êï∞ÊçÆ");try{(0,_.DT)(e),e.Á§æ‰∫§?.ÂÖ≥Á≥ª&&e.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥&&Object.values(e.Á§æ‰∫§.ÂÖ≥Á≥ª).forEach(t=>{t&&"object"==typeof t&&(0,_.UY)(t,e.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥)})}catch(e){s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","[saveToSlot] Ëá™Âä®Êõ¥Êñ∞Âπ¥ÈæÑÂ§±Ë¥•ÔºàÈùûËá¥ÂëΩÔºâ:",e)}const r=e.ËßíËâ≤?.Â±ûÊÄß,o=e.ËßíËâ≤?.‰ΩçÁΩÆ,i=(new Date).toISOString(),l=a.Â≠òÊ°£ÂàóË°®;l[t],console.log(`[saveToSlot] ‰øùÂ≠òÂà∞ÊßΩ‰Ωç "${t}"`,{ËßíËâ≤ID:n.ËßíËâ≤ID,ËßíËâ≤Âêç:a.ËßíËâ≤?.ÂêçÂ≠ó,ÂΩìÂâçÊøÄÊ¥ªÊßΩ‰Ωç:n.Â≠òÊ°£ÊßΩ‰Ωç,ÁõÆÊ†áÊßΩ‰Ωç:t,ËØ¥Êòé:"ÁâπÊÆäÂ≠òÊ°£‰∏çÂèóÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£ÂΩ±ÂìçÔºåÂßãÁªà‰øùÂ≠òÂà∞ËßíËâ≤Á∫ßÂà´"});const c={Â≠òÊ°£Âêç:t,‰øùÂ≠òÊó∂Èó¥:i,Â≠òÊ°£Êï∞ÊçÆ:e,ËßíËâ≤ÂêçÂ≠ó:e.ËßíËâ≤?.Ë∫´‰ªΩ?.ÂêçÂ≠ó,Èò∂‰Ωç:r?.Èò∂‰Ωç?.ÂêçÁß∞||"Ë°óÂ§¥Êñ∞‰∫∫",‰ΩçÁΩÆ:o?.ÊèèËø∞||"Êú™Áü•",Èò∂‰ΩçËøõÂ∫¶:0,Ê∏∏ÊàèÂÜÖÊó∂Èó¥:void 0};if(r?.Èò∂‰Ωç&&r.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ>0&&(c.Èò∂‰ΩçËøõÂ∫¶=Math.floor(r.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶/r.Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ*100)),e.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥){const t=e.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥;c.Ê∏∏ÊàèÂÜÖÊó∂Èó¥=`${t.Âπ¥}Âπ¥${t.Êúà}Êúà${t.Êó•}Êó•`}l[t]=c,await d.dc(n.ËßíËâ≤ID,t,e),D(),await x(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ Â∑≤‰øùÂ≠òÂà∞Â≠òÊ°£ÊßΩ‰Ωç: ${t}`)}catch(e){throw s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó",`‰øùÂ≠òÂà∞ÊßΩ‰Ωç ${t} Â§±Ë¥•`,e),e}},renameSave:async(t,n,a)=>{const r=e.value.ËßíËâ≤ÂàóË°®[t];if(!r||"ÂçïÊú∫"!==r.Ê®°Âºè||!r.Â≠òÊ°£ÂàóË°®)return void i.o.error("Êó†Ê≥ïÈáçÂëΩÂêçÂ≠òÊ°£ÔºöËßíËâ≤‰∏çÂ≠òÂú®ÊàñÈùûÂçïÊú∫Ê®°Âºè");const o=r.Â≠òÊ°£ÂàóË°®[n];if(!o)return void i.o.error("Ë¶ÅÈáçÂëΩÂêçÁöÑÂ≠òÊ°£‰∏çÂ≠òÂú®");if(a===n)return o.Â≠òÊ°£Âêç=a,await x(),void i.o.success("Â≠òÊ°£ÂêçÁß∞Â∑≤Êõ¥Êñ∞");if(r.Â≠òÊ°£ÂàóË°®[a])return void i.o.error("Êñ∞Â≠òÊ°£ÂêçÁß∞Â∑≤Â≠òÂú®");r.Â≠òÊ°£ÂàóË°®[a]={...o,Â≠òÊ°£Âêç:a};const s=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£;s?.ËßíËâ≤ID===t&&s?.Â≠òÊ°£ÊßΩ‰Ωç===n&&(e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£={ËßíËâ≤ID:t,Â≠òÊ°£ÊßΩ‰Ωç:a}),delete r.Â≠òÊ°£ÂàóË°®[n],await x(),i.o.success(`Â≠òÊ°£Â∑≤ÈáçÂëΩÂêç‰∏∫„Äê${a}„Äë`)},loadGame:M,loadGameById:async t=>{const n=f.value;if(!n)return i.o.error("Ê≤°ÊúâÊøÄÊ¥ªÁöÑËßíËâ≤"),!1;const a=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID;return a?"ÂçïÊú∫"===n.Ê®°Âºè?await M(a,t):await M(a,"Â≠òÊ°£"):(i.o.error("Êó†Ê≥ïÁ°ÆÂÆöËßíËâ≤ID"),!1)},saveCurrentGame:z,updateSaveDataDirectly:async t=>{const n=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,a=f.value,r=b.value;if((0,p.useGameStateStore)(),!(n&&a&&r&&t))return void s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","[Áõ¥Êé•Êõ¥Êñ∞] Áº∫Â∞ëÂøÖË¶ÅÂèÇÊï∞ÔºåË∑≥ËøáÊõ¥Êñ∞");const o=n.ËßíËâ≤ID,i=n.Â≠òÊ°£ÊßΩ‰Ωç;s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","[Áõ¥Êé•Êõ¥Êñ∞] ÂºÄÂßãÊõ¥Êñ∞Â≠òÊ°£Êï∞ÊçÆÂà∞Store...");const l=r.Â≠òÊ°£Êï∞ÊçÆ?.ÂéÜÂè≤?.Âèô‰∫ã;if(l&&Array.isArray(l)&&l.length>0&&(t.ÂéÜÂè≤={...t.ÂéÜÂè≤??{},Âèô‰∫ã:l},s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[Áõ¥Êé•Êõ¥Êñ∞] ‰øùÁïôÊú¨Âú∞Âèô‰∫ãÂéÜÂè≤Êï∞ÊçÆ (${l.length}Êù°)`)),"ÂçïÊú∫"===a.Ê®°Âºè&&a.Â≠òÊ°£ÂàóË°®)e.value.ËßíËâ≤ÂàóË°®[o].Â≠òÊ°£ÂàóË°®={...a.Â≠òÊ°£ÂàóË°®,[i]:{...a.Â≠òÊ°£ÂàóË°®[i],Â≠òÊ°£Êï∞ÊçÆ:t,‰øùÂ≠òÊó∂Èó¥:(new Date).toISOString()}};else if("ËÅîÊú∫"===a.Ê®°Âºè){a.Â≠òÊ°£ÂàóË°®||(a.Â≠òÊ°£ÂàóË°®={});const n=ne(a);e.value.ËßíËâ≤ÂàóË°®[o].Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]={...n||{Â≠òÊ°£Âêç:"‰∫ëÁ´ØËÆ≠ÁªÉ"},Â≠òÊ°£Êï∞ÊçÆ:t,‰øùÂ≠òÊó∂Èó¥:(new Date).toISOString()}}await x(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ [Áõ¥Êé•Êõ¥Êñ∞] Â≠òÊ°£Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞Âà∞StoreÂπ∂ÊåÅ‰πÖÂåñ")},updateCharacterData:async t=>{const n=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,r=f.value,i=b.value;if(!i?.Â≠òÊ°£Êï∞ÊçÆ||!n||!r)return void s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","Ê≤°ÊúâÊøÄÊ¥ªÁöÑÂ≠òÊ°£ÔºåÊó†Ê≥ïÊõ¥Êñ∞ËßíËâ≤Êï∞ÊçÆ");const l=[];if(t?.changes)for(const e of t.changes)l.push(e.key),(0,o.set)(i.Â≠òÊ°£Êï∞ÊçÆ,e.key,e.newValue);const c=n.ËßíËâ≤ID,d=n.Â≠òÊ°£ÊßΩ‰Ωç;if("ÂçïÊú∫"===r.Ê®°Âºè&&r.Â≠òÊ°£ÂàóË°®)e.value.ËßíËâ≤ÂàóË°®[c].Â≠òÊ°£ÂàóË°®={...r.Â≠òÊ°£ÂàóË°®,[d]:{...r.Â≠òÊ°£ÂàóË°®[d],Â≠òÊ°£Êï∞ÊçÆ:(0,o.cloneDeep)(i.Â≠òÊ°£Êï∞ÊçÆ),‰øùÂ≠òÊó∂Èó¥:(new Date).toISOString()}};else if("ËÅîÊú∫"===r.Ê®°Âºè){r.Â≠òÊ°£ÂàóË°®||(r.Â≠òÊ°£ÂàóË°®={});const t=ne(r);e.value.ËßíËâ≤ÂàóË°®[c].Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]={...t||{Â≠òÊ°£Âêç:"‰∫ëÁ´ØËÆ≠ÁªÉ"},Â≠òÊ°£Êï∞ÊçÆ:(0,o.cloneDeep)(i.Â≠òÊ°£Êï∞ÊçÆ),‰øùÂ≠òÊó∂Èó¥:(new Date).toISOString()}}(0,a.triggerRef)(e),await x(),l.length>0&&(await(async()=>{const t=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£,n=f.value,r=b.value;if((0,p.useGameStateStore)(),t&&n&&r?.Â≠òÊ°£Êï∞ÊçÆ)try{try{const e=(0,_.DT)(r.Â≠òÊ°£Êï∞ÊçÆ);s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[ÂêåÊ≠•] Ëá™Âä®Êõ¥Êñ∞Áé©ÂÆ∂Âπ¥ÈæÑ: ${e}Â≤Å`);const t=r.Â≠òÊ°£Êï∞ÊçÆ?.Á§æ‰∫§?.ÂÖ≥Á≥ª,n=r.Â≠òÊ°£Êï∞ÊçÆ?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥;if(t&&"object"==typeof t&&n){let e=0;Object.entries(t).forEach(([t,a])=>{const o=a;if(o&&"object"==typeof o)if(o.ÂêçÂ≠ó)try{r.Â≠òÊ°£Êï∞ÊçÆ&&((0,_.UY)(o,n),e++)}catch(e){s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó",`[ÂêåÊ≠•] Êõ¥Êñ∞NPC ${o.ÂêçÂ≠ó} Âπ¥ÈæÑÂ§±Ë¥•:`,e)}else s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó",`[ÂêåÊ≠•] Ë∑≥ËøáÁº∫Â∞ëÂêçÂ≠óÁöÑNPC: ${t}`);else s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó",`[ÂêåÊ≠•] Ë∑≥ËøáÊó†ÊïàÁöÑNPCÊï∞ÊçÆ: ${t}`)}),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[ÂêåÊ≠•] Ëá™Âä®Êõ¥Êñ∞${e}‰∏™NPCÂπ¥ÈæÑ`)}}catch(e){s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","[ÂêåÊ≠•] Ëá™Âä®Êõ¥Êñ∞Âπ¥ÈæÑÂ§±Ë¥•ÔºàÈùûËá¥ÂëΩÔºâ:",e)}s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","[ÂêåÊ≠•] Áõ¥Êé•‰øùÂ≠òÂà∞ IndexedDBÔºàÊû∂ÊûÑÂ∑≤ÈáçÊûÑÔºâ"),r.‰øùÂ≠òÊó∂Èó¥=(new Date).toISOString(),r.ËßíËâ≤ÂêçÂ≠ó=r.Â≠òÊ°£Êï∞ÊçÆ.ËßíËâ≤?.Ë∫´‰ªΩ?.ÂêçÂ≠ó;const o=r.Â≠òÊ°£Êï∞ÊçÆ.ËßíËâ≤?.Â±ûÊÄß??null,i=r.Â≠òÊ°£Êï∞ÊçÆ.ËßíËâ≤?.‰ΩçÁΩÆ??null;if(o&&(r.Èò∂‰Ωç=o.Èò∂‰Ωç?.ÂêçÁß∞||"Ë°óÂ§¥Êñ∞‰∫∫","object"==typeof o.Èò∂‰Ωç&&null!==o.Èò∂‰Ωç)){const e=o.Èò∂‰Ωç;e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ>0&&(r.Èò∂‰ΩçËøõÂ∫¶=Math.floor(e.ÂΩìÂâçËøõÂ∫¶/e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ*100))}r.‰ΩçÁΩÆ=i?.ÊèèËø∞||"Êú™Áü•";const l=r.Â≠òÊ°£Êï∞ÊçÆ?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥;l&&(r.Ê∏∏ÊàèÂÜÖÊó∂Èó¥=`${l.Âπ¥}Âπ¥${l.Êúà}Êúà${l.Êó•}Êó•`),"ÂçïÊú∫"===n.Ê®°Âºè&&n.Â≠òÊ°£ÂàóË°®?e.value.ËßíËâ≤ÂàóË°®[t.ËßíËâ≤ID].Â≠òÊ°£ÂàóË°®={...n.Â≠òÊ°£ÂàóË°®,[t.Â≠òÊ°£ÊßΩ‰Ωç]:{...r}}:"ËÅîÊú∫"===n.Ê®°Âºè&&(e.value.ËßíËâ≤ÂàóË°®[t.ËßíËâ≤ID].Â≠òÊ°£={...r}),(0,a.triggerRef)(e),await x(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","[ÂêåÊ≠•] Êï∞ÊçÆÂ∑≤‰øùÂ≠òÂà∞Êú¨Âú∞ÔºåÂÖÉÊï∞ÊçÆÂ∑≤Êõ¥Êñ∞")}catch(e){throw s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","[ÂêåÊ≠•] ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®Â§±Ë¥•",e),e}else s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","[ÂêåÊ≠•] Ê≤°ÊúâÊøÄÊ¥ªÁöÑÂ≠òÊ°£Êï∞ÊçÆ")})(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ ËßíËâ≤Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞Âπ∂Â¢ûÈáèÂêåÊ≠• ${l.length} ‰∏™Â≠óÊÆµ`,l))},loadSaves:async()=>{B()},importSave:async(t,n)=>{const a=e.value.ËßíËâ≤ÂàóË°®[t];if(!a)return void i.o.error("Êâæ‰∏çÂà∞ËßíËâ≤ÔºåÊó†Ê≥ïÂØºÂÖ•Â≠òÊ°£");if("ÂçïÊú∫"!==a.Ê®°Âºè)return void i.o.error("ËÅîÊú∫Ê®°Âºè‰∏çÊîØÊåÅÂ≠òÊ°£ÂØºÂÖ•");a.Â≠òÊ°£ÂàóË°®||(a.Â≠òÊ°£ÂàóË°®={});let r=n.Â≠òÊ°£Âêç||"ÂØºÂÖ•Â≠òÊ°£",l=1;for(;a.Â≠òÊ°£ÂàóË°®[r];)r=`${n.Â≠òÊ°£Âêç||"ÂØºÂÖ•Â≠òÊ°£"}_${l}`,l++;if(n.Â≠òÊ°£Êï∞ÊçÆ){const e=(0,u.isTavernEnv)()?(0,m.kL)(n.Â≠òÊ°£Êï∞ÊçÆ):n.Â≠òÊ°£Êï∞ÊçÆ,a=(0,v.ru)(e)?e:(0,v.jj)(e).migrated,l=(0,C.$)(a);if(!l.isValid)return console.error("[ÂØºÂÖ•Â≠òÊ°£] V3Ê†°È™åÂ§±Ë¥•:",l.errors),void i.o.error(`ÂØºÂÖ•Â§±Ë¥•ÔºöÂ≠òÊ°£ÁªìÊûÑ‰∏çÂêàÊ≥ïÔºà${l.errors[0]||"Êú™Áü•ÂéüÂõ†"}Ôºâ`);await d.dc(t,r,a);const c=a?.ËßíËâ≤?.Â±ûÊÄß,p=a?.ËßíËâ≤?.‰ΩçÁΩÆ;n={...n,ËßíËâ≤ÂêçÂ≠ó:n.ËßíËâ≤ÂêçÂ≠ó??a?.ËßíËâ≤?.Ë∫´‰ªΩ?.ÂêçÂ≠ó,Èò∂‰Ωç:n.Èò∂‰Ωç??c?.Èò∂‰Ωç?.ÂêçÁß∞,‰ΩçÁΩÆ:n.‰ΩçÁΩÆ??p?.ÊèèËø∞,Ê∏∏ÊàèÂÜÖÊó∂Èó¥:n.Ê∏∏ÊàèÂÜÖÊó∂Èó¥??(()=>{const e=a?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥;return e?`${e.Âπ¥}Âπ¥${e.Êúà}Êúà${e.Êó•}Êó•`:void 0})(),Â≠òÊ°£Êï∞ÊçÆ:(0,o.cloneDeep)(a)},s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ Â∑≤Â∞ÜÂØºÂÖ•ÁöÑÂ≠òÊ°£Êï∞ÊçÆ‰øùÂ≠òÂà∞ IndexedDB: ${t}/${r}`)}a.Â≠òÊ°£ÂàóË°®[r]={...n,Â≠òÊ°£Âêç:r},await x(),i.o.success(`Â≠òÊ°£„Äê${r}„ÄëÂØºÂÖ•ÊàêÂäü`)},clearAllSaves:async()=>{const t=f.value,n=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.ËßíËâ≤ID;if(t&&n){if("ÂçïÊú∫"===t.Ê®°Âºè&&t.Â≠òÊ°£ÂàóË°®)t.Â≠òÊ°£ÂàóË°®={};else if("ËÅîÊú∫"===t.Ê®°Âºè){const e=ne(t);e&&(e.Â≠òÊ°£Êï∞ÊçÆ=null,e.‰øùÂ≠òÊó∂Èó¥=null)}e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£=null,await x(),i.o.success("ÊâÄÊúâÂ≠òÊ°£Â∑≤Ê∏ÖÁ©∫")}else i.o.error("Ê≤°ÊúâÊøÄÊ¥ªÁöÑËßíËâ≤")},exitGameSession:async()=>{if(!e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£)return;const t=(0,l.useUIStore)();try{t.startLoading("Ê≠£Âú®ÈÄÄÂá∫Ê∏∏Êàè..."),await(0,u.clearAllCharacterData)(),e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£=null,await x(),i.o.success((0,u.isTavernEnv)()?"Â∑≤ÊàêÂäüÈÄÄÂá∫Ê∏∏ÊàèÔºåÈÖíÈ¶ÜÁéØÂ¢ÉÂ∑≤ÈáçÁΩÆ„ÄÇ":"Â∑≤ÊàêÂäüÈÄÄÂá∫Ê∏∏Êàè„ÄÇ")}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","ÈÄÄÂá∫Ê∏∏Êàè‰ºöËØùÂ§±Ë¥•",e),i.o.error("ÈÄÄÂá∫Ê∏∏ÊàèÂ§±Ë¥•ÔºåÂª∫ËÆÆÂà∑Êñ∞È°µÈù¢‰ª•Á°Æ‰øùÁéØÂ¢ÉÁ∫ØÂáÄ„ÄÇ")}finally{t.stopLoading()}},rollbackToLastConversation:async()=>{const t=f.value,n=e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£;if(!t||!n||"ÂçïÊú∫"!==t.Ê®°Âºè||!t.Â≠òÊ°£ÂàóË°®)throw new Error("Êó†Ê≥ïÊâßË°åÂõûÊªöÔºöÊó†ÊïàÁöÑÂ≠òÊ°£Áä∂ÊÄÅ");let r=t.Â≠òÊ°£ÂàóË°®["‰∏äÊ¨°ÂØπËØù"];if(!r||!r.Â≠òÊ°£Êï∞ÊçÆ){s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",'‰ªéIndexedDBÂä†ËΩΩ"‰∏äÊ¨°ÂØπËØù"Â≠òÊ°£Êï∞ÊçÆ');const e=await d.loadSaveData(n.ËßíËâ≤ID,"‰∏äÊ¨°ÂØπËØù");if(!e)throw new Error('Ê≤°ÊúâÂèØÁî®‰∫éÂõûÊªöÁöÑ"‰∏äÊ¨°ÂØπËØù"Â≠òÊ°£„ÄÇËØ∑Á°Æ‰øùÂ∑≤ÂêØÁî®"ÂØπËØùÂâçËá™Âä®Â§á‰ªΩ"ÂäüËÉΩ„ÄÇ');r?r.Â≠òÊ°£Êï∞ÊçÆ=e:(r={id:"‰∏äÊ¨°ÂØπËØù",Â≠òÊ°£Âêç:"‰∏äÊ¨°ÂØπËØù",ËßíËâ≤ÂêçÂ≠ó:e.ËßíËâ≤?.Ë∫´‰ªΩ?.ÂêçÂ≠ó||t.ËßíËâ≤?.ÂêçÂ≠ó||"Êú™Áü•",Èò∂‰Ωç:"Êú™Áü•",‰ΩçÁΩÆ:"Êú™Áü•",‰øùÂ≠òÊó∂Èó¥:(new Date).toISOString(),Â≠òÊ°£Êï∞ÊçÆ:e},t.Â≠òÊ°£ÂàóË°®["‰∏äÊ¨°ÂØπËØù"]=r)}const o=r.Â≠òÊ°£Êï∞ÊçÆ;if(!o)throw new Error('Ê≤°ÊúâÂèØÁî®‰∫éÂõûÊªöÁöÑ"‰∏äÊ¨°ÂØπËØù"Â≠òÊ°£„ÄÇËØ∑Á°Æ‰øùÂ∑≤ÂêØÁî®"ÂØπËØùÂâçËá™Âä®Â§á‰ªΩ"ÂäüËÉΩ„ÄÇ');const i=t.Â≠òÊ°£ÂàóË°®[n.Â≠òÊ°£ÊßΩ‰Ωç];if(!i)throw new Error(`Êâæ‰∏çÂà∞ÂΩìÂâçÊøÄÊ¥ªÁöÑÂ≠òÊ°£ÊßΩ‰Ωç: ${n.Â≠òÊ°£ÊßΩ‰Ωç}`);const l=JSON.parse(JSON.stringify(o));i.Â≠òÊ°£Êï∞ÊçÆ=l,i.‰øùÂ≠òÊó∂Èó¥=(new Date).toISOString();const c=l.ËßíËâ≤?.Â±ûÊÄß,u=l.ËßíËâ≤?.‰ΩçÁΩÆ;if(i.Èò∂‰Ωç=c?.Èò∂‰Ωç?.ÂêçÁß∞||"Ë°óÂ§¥Êñ∞‰∫∫",i.‰ΩçÁΩÆ=u?.ÊèèËø∞||"Êú™Áü•",l.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥){const e=l.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥;i.Ê∏∏ÊàèÂÜÖÊó∂Èó¥=`${e.Âπ¥}Âπ¥${e.Êúà}Êúà${e.Êó•}Êó•`}"ÂçïÊú∫"===t.Ê®°Âºè&&t.Â≠òÊ°£ÂàóË°®&&(e.value.ËßíËâ≤ÂàóË°®[n.ËßíËâ≤ID].Â≠òÊ°£ÂàóË°®={...t.Â≠òÊ°£ÂàóË°®,[n.Â≠òÊ°£ÊßΩ‰Ωç]:{...i}}),(0,a.triggerRef)(e),await d.dc(n.ËßíËâ≤ID,n.Â≠òÊ°£ÊßΩ‰Ωç,l),await x(),(0,p.useGameStateStore)().loadFromSaveData(l),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","‚úÖ Â∑≤ÊàêÂäüÂõûÊªöÂà∞‰∏äÊ¨°ÂØπËØùÂâçÁöÑÁä∂ÊÄÅ")},commitMetadataToStorage:x,saveLocalDataToBackend:A,loadLocalDataFromBackend:async()=>{if(!localStorage.getItem("access_token")||!(0,S.isBackendConfigured)())return!1;try{const t=await N.Em.get("/api/v1/user/local-data");if(!t||!t.characters||!t.saves)return!1;await T(),e.value.ËßíËâ≤ÂàóË°®=t.characters||{},e.value.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£=null,await d.ag(e.value.ËßíËâ≤ÂàóË°®),await d.N5(null);for(const[e,n]of Object.entries(t.saves||{}))for(const[t,a]of Object.entries(n||{}))await d.dc(e,t,a);return await x(),!0}catch(e){return s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","‰ªéÂêéÁ´ØÂØºÂÖ•Êú¨Âú∞Â≠òÊ°£Êï∞ÊçÆÂ§±Ë¥•",e),!1}},clearLocalCharacterData:T,repairCharacterDataWithAI:async(t,n)=>{const a=(0,l.useUIStore)(),r=e.value.ËßíËâ≤ÂàóË°®[t];if(!r)return void i.o.error("‰øÆÂ§çÂ§±Ë¥•ÔºöÊâæ‰∏çÂà∞ËßíËâ≤");let o;if(o="ÂçïÊú∫"===r.Ê®°Âºè?r.Â≠òÊ°£ÂàóË°®?.[n]:r.Â≠òÊ°£,o&&o.Â≠òÊ°£Êï∞ÊçÆ)try{a.startLoading("AIÊ≠£Âú®ÂàÜÊûêÂ≠òÊ°£ÁªìÊûÑÔºåËØ∑Á®çÂÄô...");const e=(c=o.Â≠òÊ°£Êï∞ÊçÆ,`\n# ‰ªªÂä°Ôºö‰øÆÂ§çÊ∏∏ÊàèÊï∞ÊçÆ\n\n‰Ω†ÈúÄË¶Å‰øÆÂ§ç‰ª•‰∏ãÊçüÂùèÁöÑÊ∏∏ÊàèÊï∞ÊçÆÔºå‰ΩøÂÖ∂Á¨¶ÂêàÁ±ªÂûãÂÆö‰πâË¶ÅÊ±Ç„ÄÇ\n\n## Á±ªÂûãÂÆö‰πâ\n${JSON.stringify({},null,2)}\n\n## ÊçüÂùèÁöÑÊï∞ÊçÆ\n${JSON.stringify(c,null,2)}\n\n## ‰øÆÂ§çË¶ÅÊ±Ç\n1. Ë°•ÂÖ®Áº∫Â§±ÁöÑÂøÖÂ°´Â≠óÊÆµ\n2. ‰øÆÊ≠£ÈîôËØØÁöÑÊï∞ÊçÆÁ±ªÂûã\n3. Â°´ÂÖÖÂêàÁêÜÁöÑÈªòËÆ§ÂÄº\n4. ‰øùÊåÅÁé∞ÊúâÊ≠£Á°ÆÊï∞ÊçÆ‰∏çÂèò\n\n## ËæìÂá∫Ê†ºÂºè\nËøîÂõû‰øÆÂ§çÂêéÁöÑÂÆåÊï¥JSONÂØπË±°„ÄÇ\n`.trim()),l=(0,u.getTavernHelper)();if(!l)throw new Error("ÈÖíÈ¶ÜËøûÊé•‰∏çÂèØÁî®");a.updateLoadingText("Á≥ªÁªüÊ≠£Âú®Êé®Êºî‰øÆÂ§çÊñπÊ°à...");const d=await l.generate({user_input:e,overrides:{temperature:.7,max_context_length:8e3,max_length:2048}});if(!d)throw new Error("AIÊú™ËÉΩÁîüÊàê‰øÆÂ§çÊåá‰ª§");let m=[];try{const e=d.replace(/```json/g,"").replace(/```/g,"").trim(),t=JSON.parse(e);if(!t.tavern_commands||!Array.isArray(t.tavern_commands))throw new Error("AIÂìçÂ∫î‰∏≠Áº∫Â∞ëÊúâÊïàÁöÑ tavern_commands Êï∞ÁªÑ");m=t.tavern_commands}catch(e){throw s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Ëß£ÊûêAI‰øÆÂ§çÊåá‰ª§Â§±Ë¥•",{error:e,response:d}),new Error("Ëß£ÊûêAI‰øÆÂ§çÊåá‰ª§Â§±Ë¥•")}if(0===m.length)return i.o.info("AIÂàÜÊûêËÆ§‰∏∫ÂΩìÂâçÂ≠òÊ°£Êó†ÈúÄ‰øÆÂ§ç„ÄÇ"),void await M(t,n);a.updateLoadingText(`AIÂ∑≤ÁîüÊàê ${m.length} Êù°‰øÆÂ§çÊåá‰ª§ÔºåÊ≠£Âú®Â∫îÁî®...`);const p=await(async(e,t,n)=>{const a=[],r=(e,t,n)=>{const a=t.split(".");let r=e;for(let e=0;e<a.length-1;e++)void 0!==r[a[e]]&&"object"==typeof r[a[e]]||(r[a[e]]={}),r=r[a[e]];r[a[a.length-1]]=n};for(const o of n)try{const{action:n,key:i,value:l}=o;if(!n||!i){a.push(`Êó†ÊïàÊåá‰ª§: ${JSON.stringify(o)}`);continue}let c,d;i.startsWith("character.profile.")?(c=t,d=i.substring(18)):(c=e,d=i),"set"===n?(r(c,d,l),s.Yz.log("AI‰øÆÂ§ç",`ÊâßË°å set: ${i} =`,l)):s.Yz.warn("AI‰øÆÂ§ç",`ÊöÇ‰∏çÊîØÊåÅÁöÑÊåá‰ª§ action: ${n}`)}catch(e){a.push(`ÊâßË°åÊåá‰ª§Â§±Ë¥•: ${JSON.stringify(o)}`),s.Yz.error("AI‰øÆÂ§ç","ÊâßË°åÊåá‰ª§Êó∂Âá∫Èîô",e)}return a})(o.Â≠òÊ°£Êï∞ÊçÆ,r,m);p.length>0&&(s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","ÊâßË°åAI‰øÆÂ§çÊåá‰ª§Êó∂Âá∫Èîô",p),i.o.error(`ÈÉ®ÂàÜ‰øÆÂ§çÊåá‰ª§ÊâßË°åÂ§±Ë¥•: ${p.join(", ")}`)),o.‰øùÂ≠òÊó∂Èó¥=(new Date).toISOString(),await x(),i.o.success("AIÂ∑≤ÂÆåÊàêÂ≠òÊ°£‰øÆÂ§çÔºÅÊ≠£Âú®ÈáçÊñ∞Âä†ËΩΩÊ∏∏Êàè..."),await new Promise(e=>setTimeout(e,500)),await M(t,n)}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","AI‰øÆÂ§çÂ≠òÊ°£Â§±Ë¥•",e),i.o.error(`Â≠òÊ°£‰øÆÂ§çÂ§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}finally{a.stopLoading()}else i.o.error("‰øÆÂ§çÂ§±Ë¥•ÔºöÊâæ‰∏çÂà∞Â≠òÊ°£Êï∞ÊçÆ");var c},initialCreationStateChanges:t,setInitialCreationStateChanges:e=>{s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","ÊöÇÂ≠òÂàùÂßãËßíËâ≤ÂàõÂª∫ÁöÑÁä∂ÊÄÅÂèòÊõ¥",e),t.value=e},consumeInitialCreationStateChanges:()=>{const e=t.value;return e&&(s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","Ê∂àË¥πÂàùÂßãÁä∂ÊÄÅÂèòÊõ¥Êó•Âøó",e),t.value=null),e},equipTechnique:async e=>{const t=(0,p.useGameStateStore)(),n=t.getCurrentSaveData();if(!n)return void i.o.error("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®");const a=n.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ?.[e];if(!a||"Ê®°Âùó"!==a.Á±ªÂûã)return void i.o.error("Ë¶ÅË£ÖÂ§áÁöÑÁâ©ÂìÅ‰∏çÊòØ‰∏Ä‰∏™ÊúâÊïàÁöÑÊ®°Âùó");if(console.log("[ËßíËâ≤ÂïÜÂ∫ó-Ë∞ÉËØï] Ë£ÖÂ§áÊ®°ÂùóÂâçÁöÑÊï∞ÊçÆ:",{Ê®°ÂùóÂêçÁß∞:a.ÂêçÁß∞,ÂìÅË¥®Â≠óÊÆµÂ≠òÂú®:!!a.ÂìÅË¥®,ÂìÅË¥®ÂÜÖÂÆπ:a.ÂìÅË¥®,ÂÆåÊï¥Áâ©ÂìÅÊï∞ÊçÆ:a}),Object.values(n.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ??{}).forEach(e=>{"Ê®°Âùó"===e.Á±ªÂûã&&(e.Â∑≤Ë£ÖÂ§á=!1)}),a.Â∑≤Ë£ÖÂ§á=!0,void 0!==a.ËÆ≠ÁªÉËøõÂ∫¶&&null!==a.ËÆ≠ÁªÉËøõÂ∫¶||(a.ËÆ≠ÁªÉËøõÂ∫¶=0,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","ÂàùÂßãÂåñÊ®°ÂùóËÆ≠ÁªÉËøõÂ∫¶‰∏∫ 0")),a.Â∑≤Ëß£ÈîÅÊäÄËÉΩ||(a.Â∑≤Ëß£ÈîÅÊäÄËÉΩ=[]),a.Ê®°ÂùóÊäÄËÉΩ&&Array.isArray(a.Ê®°ÂùóÊäÄËÉΩ)){const e=a.ËÆ≠ÁªÉËøõÂ∫¶||0;s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[ÊäÄËÉΩËß£ÈîÅÊ£ÄÊü•] Ê®°Âùó: ${a.ÂêçÁß∞}, ËøõÂ∫¶: ${e}%, ÊäÄËÉΩÊï∞: ${a.Ê®°ÂùóÊäÄËÉΩ.length}`),a.Ê®°ÂùóÊäÄËÉΩ.forEach(t=>{const n=t.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç||0;s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`  Ê£ÄÊü•ÊäÄËÉΩ: ${t.ÊäÄËÉΩÂêçÁß∞}, ÈòàÂÄº: ${n}%, ÂΩìÂâçËøõÂ∫¶: ${e}%, Â∫îËß£ÈîÅ: ${e>=n}`),e>=n&&!a.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.includes(t.ÊäÄËÉΩÂêçÁß∞)&&(a.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.push(t.ÊäÄËÉΩÂêçÁß∞),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`  ‚úÖ Á´ãÂç≥Ëß£ÈîÅÊäÄËÉΩ: ${t.ÊäÄËÉΩÂêçÁß∞} (ÈòàÂÄº: ${n}%)`))}),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","[ÊäÄËÉΩËß£ÈîÅÁªìÊûú] Â∑≤Ëß£ÈîÅÊäÄËÉΩÊï∞ÁªÑ:",a.Â∑≤Ëß£ÈîÅÊäÄËÉΩ)}n.ËßíËâ≤.ËÆ≠ÁªÉ={...n.ËßíËâ≤.ËÆ≠ÁªÉ??{},ËÆ≠ÁªÉÊ®°Âùó:{Áâ©ÂìÅID:a.Áâ©ÂìÅID,ÂêçÁß∞:a.ÂêçÁß∞}},s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Â∑≤Ë£ÖÂ§áÊ®°Âùó: ${a.ÂêçÁß∞}`),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`ËÆ≠ÁªÉËøõÂ∫¶Â≠òÂÇ®Âú®: ËÉåÂåÖ.Áâ©ÂìÅ.${a.Áâ©ÂìÅID}.ËÆ≠ÁªÉËøõÂ∫¶`),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Â∑≤Ëß£ÈîÅÊäÄËÉΩÊï∞Èáè: ${a.Â∑≤Ëß£ÈîÅÊäÄËÉΩ?.length||0}`);try{const e=(0,V.F)(n);s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Ë£ÖÂ§áÊ®°ÂùóÂêéÂ∑≤Êõ¥Êñ∞ÊéåÊè°ÊäÄËÉΩÂàóË°®ÔºåÂÖ± ${e.length} ‰∏™ÊäÄËÉΩ`)}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Ë£ÖÂ§áÊ®°ÂùóÂêéËá™Âä®ËÆ°ÁÆóÊéåÊè°ÊäÄËÉΩÂ§±Ë¥•:",e)}t.loadFromSaveData(n);const r=t.inventory?.Áâ©ÂìÅ?.[e];if(r&&"Ê®°Âùó"===r.Á±ªÂûã){r.Â∑≤Ëß£ÈîÅÊäÄËÉΩ||(r.Â∑≤Ëß£ÈîÅÊäÄËÉΩ=[]);const e=r.ËÆ≠ÁªÉËøõÂ∫¶||0;r.Ê®°ÂùóÊäÄËÉΩ&&Array.isArray(r.Ê®°ÂùóÊäÄËÉΩ)&&r.Ê®°ÂùóÊäÄËÉΩ.forEach(t=>{const n=t.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç||0;e>=n&&!r.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.includes(t.ÊäÄËÉΩÂêçÁß∞)&&(r.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.push(t.ÊäÄËÉΩÂêçÁß∞),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[‰∫åÊ¨°Á°ÆËÆ§] Ëß£ÈîÅÊäÄËÉΩ: ${t.ÊäÄËÉΩÂêçÁß∞}`))})}await z();const o=n.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ?.[e];console.log("[ËßíËâ≤ÂïÜÂ∫ó-Ë∞ÉËØï] ÊåÅ‰πÖÂåñÂêéÁöÑÊ®°ÂùóÊï∞ÊçÆ:",{Ê®°ÂùóÂêçÁß∞:o?.ÂêçÁß∞,ÂìÅË¥®Â≠óÊÆµÂ≠òÂú®:!!o?.ÂìÅË¥®,ÂìÅË¥®ÂÜÖÂÆπ:o?.ÂìÅË¥®,ÂÆåÊï¥Áâ©ÂìÅÊï∞ÊçÆ:o});const l=a.ÂêçÁß∞;i.o.success(`Â∑≤ÂºÄÂßãËÆ≠ÁªÉ„Ää${l}„Äã`)},unequipTechnique:async t=>{const n=(0,p.useGameStateStore)().getCurrentSaveData();if(!n)return void i.o.error("Â≠òÊ°£Êï∞ÊçÆ‰∏çÂ≠òÂú®");const r=n.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ?.[t],o=r.Â∑≤Ë£ÖÂ§á||r.ËÆ≠ÁªÉ‰∏≠;if(!r||"Ê®°Âùó"!==r.Á±ªÂûã||!o)return s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Ê®°ÂùóÂç∏ËΩΩÈ™åËØÅÂ§±Ë¥•:",{itemExists:!!r,itemType:r?.Á±ªÂûã,isEquipped:r?.Â∑≤Ë£ÖÂ§á,isCultivating:r?.ËÆ≠ÁªÉ‰∏≠,requestedItemId:t}),void i.o.error("Ë¶ÅÂç∏‰∏ãÁöÑÊ®°Âùó‰∏éÂΩìÂâçËÆ≠ÁªÉÁöÑÊ®°Âùó‰∏çÂåπÈÖç");r.Â∑≤Ë£ÖÂ§á=!1,r.ËÆ≠ÁªÉ‰∏≠&&(r.ËÆ≠ÁªÉ‰∏≠=!1),n.ËßíËâ≤?.ËÆ≠ÁªÉ?.ËÆ≠ÁªÉÊ®°Âùó?.Áâ©ÂìÅID===t&&(n.ËßíËâ≤.ËÆ≠ÁªÉ={...n.ËßíËâ≤.ËÆ≠ÁªÉ??{},ËÆ≠ÁªÉÊ®°Âùó:null}),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Â∑≤Âç∏‰∏ãÊ®°Âùó: ${r.ÂêçÁß∞}`),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`ËÆ≠ÁªÉËøõÂ∫¶‰øùÁïôÂú®: ËÉåÂåÖ.Áâ©ÂìÅ.${r.Áâ©ÂìÅID}.ËÆ≠ÁªÉËøõÂ∫¶`);try{const e=(0,V.F)(n);s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`Âç∏‰∏ãÊ®°ÂùóÂêéÂ∑≤Êõ¥Êñ∞ÊéåÊè°ÊäÄËÉΩÂàóË°®ÔºåÂÖ± ${e.length} ‰∏™ÊäÄËÉΩ`)}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó","Âç∏‰∏ãÊ®°ÂùóÂêéËá™Âä®ËÆ°ÁÆóÊéåÊè°ÊäÄËÉΩÂ§±Ë¥•:",e)}(0,a.triggerRef)(e),await x();const l=r.ËÆ≠ÁªÉËøõÂ∫¶||0,c=r.ÂêçÁß∞;i.o.info(`Â∑≤ÂÅúÊ≠¢ËÆ≠ÁªÉ„Ää${c}„ÄãÔºåËÆ≠ÁªÉËøõÂ∫¶${l}%Â∑≤‰øùÂ≠òÂà∞ËÉåÂåÖ`)},importCharacter:async t=>{if(!t||!t.ËßíËâ≤||!t.Ê®°Âºè)throw new Error("Êó†ÊïàÁöÑËßíËâ≤Êñá‰ª∂Ê†ºÂºè„ÄÇ");const n=`char_${Date.now()}`,a=t.ËßíËâ≤.ÂêçÂ≠ó||"Êú™Áü•ËßíËâ≤";if(Object.values(e.value.ËßíËâ≤ÂàóË°®).some(e=>e.ËßíËâ≤.ÂêçÂ≠ó===a))throw new Error(`ËßíËâ≤ "${a}" Â∑≤Â≠òÂú®ÔºåËØ∑ÂÖàÂà†Èô§ÊàñÈáçÂëΩÂêçÁé∞ÊúâËßíËâ≤„ÄÇ`);const r=t._ÂØºÂÖ•Â≠òÊ°£ÂàóË°®;if(delete t._ÂØºÂÖ•Â≠òÊ°£ÂàóË°®,t.Â≠òÊ°£ÂàóË°®||(t.Â≠òÊ°£ÂàóË°®={}),r&&Array.isArray(r)&&r.length>0){s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`ÂºÄÂßãÂØºÂÖ• ${r.length} ‰∏™Â≠òÊ°£...`);for(const e of r){const a=e.Â≠òÊ°£Âêç||"ÂØºÂÖ•Â≠òÊ°£";let r=a,o=1;for(;t.Â≠òÊ°£ÂàóË°®[r];)r=`${a}_${o}`,o++;if(e.Â≠òÊ°£Êï∞ÊçÆ){const t=(0,u.isTavernEnv)()?(0,m.kL)(e.Â≠òÊ°£Êï∞ÊçÆ):e.Â≠òÊ°£Êï∞ÊçÆ,a=(0,v.ru)(t)?t:(0,v.jj)(t).migrated,o=(0,C.$)(a);if(!o.isValid)throw console.error("[ÂØºÂÖ•ËßíËâ≤] Â≠òÊ°£V3Ê†°È™åÂ§±Ë¥•:",o.errors),new Error(`ÂØºÂÖ•ËßíËâ≤Â§±Ë¥•ÔºöÂ≠òÊ°£ÁªìÊûÑ‰∏çÂêàÊ≥ïÔºà${o.errors[0]||"Êú™Áü•ÂéüÂõ†"}Ôºâ`);await d.dc(n,r,a);const i=a?.ËßíËâ≤?.Â±ûÊÄß,l=a?.ËßíËâ≤?.‰ΩçÁΩÆ;e.ËßíËâ≤ÂêçÂ≠ó=e.ËßíËâ≤ÂêçÂ≠ó??a?.ËßíËâ≤?.Ë∫´‰ªΩ?.ÂêçÂ≠ó,e.Èò∂‰Ωç=e.Èò∂‰Ωç??i?.Èò∂‰Ωç?.ÂêçÁß∞,e.‰ΩçÁΩÆ=e.‰ΩçÁΩÆ??l?.ÊèèËø∞,e.Ê∏∏ÊàèÂÜÖÊó∂Èó¥=e.Ê∏∏ÊàèÂÜÖÊó∂Èó¥??(()=>{const e=a?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥;return e?`${e.Âπ¥}Âπ¥${e.Êúà}Êúà${e.Êó•}Êó•`:void 0})(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ Â∑≤Â∞ÜÂ≠òÊ°£Êï∞ÊçÆ‰øùÂ≠òÂà∞ IndexedDB: ${n}/${r}`)}const i={...e};delete i.Â≠òÊ°£Êï∞ÊçÆ,t.Â≠òÊ°£ÂàóË°®[r]={...i,Â≠òÊ°£Âêç:r}}s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`‚úÖ ÊàêÂäüÂØºÂÖ• ${r.length} ‰∏™Â≠òÊ°£`)}e.value.ËßíËâ≤ÂàóË°®[n]={...t},await x(),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`ÊàêÂäüÂØºÂÖ•ËßíËâ≤: ${a} (Êñ∞ID: ${n})ÔºåÂê´ ${Object.keys(t.Â≠òÊ°£ÂàóË°®).length} ‰∏™Â≠òÊ°£`)},loadSaveData:async(e,t)=>{console.log(`[CharacterStore] Loading save data for ${e} - ${t}`);return await d.loadSaveData(e,t)||(console.error(`[CharacterStore] Failed to load save data for ${e} - ${t}`),null)},loadCharacterSaves:async t=>{const n=e.value.ËßíËâ≤ÂàóË°®[t];if(n){s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[loadCharacterSaves] ÂºÄÂßã‰∏∫ËßíËâ≤ ${t} Âä†ËΩΩÂ≠òÊ°£Êï∞ÊçÆ...`);try{let r=0;if("ËÅîÊú∫"===n.Ê®°Âºè){n.Â≠òÊ°£ÂàóË°®||(n.Â≠òÊ°£ÂàóË°®={}),n.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]||(n.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"]={Â≠òÊ°£Âêç:"‰∫ëÁ´ØËÆ≠ÁªÉ",‰øùÂ≠òÊó∂Èó¥:"",Ê∏∏ÊàèÂÜÖÊó∂Èó¥:""});const e=n.Â≠òÊ°£ÂàóË°®["‰∫ëÁ´ØËÆ≠ÁªÉ"];if(!e.Â≠òÊ°£Êï∞ÊçÆ){const n=e.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ?.ÂêéÁ´ØÂàõÂª∫Â§±Ë¥•;if((0,S.isBackendConfigured)()&&!n&&await(0,N.verifyStoredToken)())try{const n=await(0,N.NX)(t),a=n?.game_save,o=a?.save_data;o&&(e.Â≠òÊ°£Êï∞ÊçÆ=o,a?.game_time&&"string"==typeof a.game_time&&(e.Ê∏∏ÊàèÂÜÖÊó∂Èó¥=a.game_time),e.‰∫ëÁ´ØÂêåÊ≠•‰ø°ÊÅØ={ÊúÄÂêéÂêåÊ≠•:a?.last_sync?String(a.last_sync):(new Date).toISOString(),ÁâàÊú¨:"number"==typeof a?.version?a.version:1,ÈúÄË¶ÅÂêåÊ≠•:!1},r++,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","  > ÊàêÂäü‰ªé‰∫ëÁ´ØÂä†ËΩΩËÅîÊú∫Â≠òÊ°£"))}catch(e){s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó","‰ªé‰∫ëÁ´ØÂä†ËΩΩËÅîÊú∫Â≠òÊ°£Â§±Ë¥•ÔºåÂ∞ùËØïÊú¨Âú∞ÁºìÂ≠ò",e)}if(!e.Â≠òÊ°£Êï∞ÊçÆ){const n=await d.loadSaveData(t,"‰∫ëÁ´ØËÆ≠ÁªÉ");n&&(e.Â≠òÊ°£Êï∞ÊçÆ=n,r++,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","  > ÊàêÂäü‰ªéÊú¨Âú∞Âä†ËΩΩËÅîÊú∫Â≠òÊ°£ÁºìÂ≠ò"))}}}else{if(!n.Â≠òÊ°£ÂàóË°®)return void s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[loadCharacterSaves] ËßíËâ≤ ${t} Êó†Â≠òÊ°£ÂàóË°®ÔºåÊó†ÈúÄÂä†ËΩΩ„ÄÇ`);const e=Object.keys(n.Â≠òÊ°£ÂàóË°®);for(const a of e){const e=n.Â≠òÊ°£ÂàóË°®[a];if(e&&!e.Â≠òÊ°£Êï∞ÊçÆ){const n=await d.loadSaveData(t,a);n&&(e.Â≠òÊ°£Êï∞ÊçÆ=n,r++,s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`  > ÊàêÂäüÂä†ËΩΩÂ≠òÊ°£: ${a}`))}}}r>0?((0,a.triggerRef)(e),s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó",`[loadCharacterSaves] ÂÆåÊàêÂä†ËΩΩÔºåÂÖ±ËΩΩÂÖ• ${r} ‰∏™Â≠òÊ°£Êï∞ÊçÆ„ÄÇ`)):s.Yz.log("ËßíËâ≤ÂïÜÂ∫ó","[loadCharacterSaves] Êó†ÈúÄÂä†ËΩΩÊñ∞ÁöÑÂ≠òÊ°£Êï∞ÊçÆ„ÄÇ")}catch(e){s.Yz.error("ËßíËâ≤ÂïÜÂ∫ó",`[loadCharacterSaves] Âä†ËΩΩËßíËâ≤ ${t} ÁöÑÂ≠òÊ°£Êó∂Âá∫Èîô`,e)}}else s.Yz.warn("ËßíËâ≤ÂïÜÂ∫ó",`[loadCharacterSaves] ËßíËâ≤‰∏çÂ≠òÂú®: ${t}`)}}})},4717:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4765:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:a}},4780:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.skills-panel[data-v-790c1423] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 16px;\n  gap: 16px;\n  overflow: hidden;\n}\n\n/* Ê†áÁ≠æÈ°µÂØºËà™ */\n.panel-tabs[data-v-790c1423] {\n  display: flex;\n  gap: 8px;\n  padding: 4px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n}\n.panel-tab[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 16px;\n  border: none;\n  border-radius: 8px;\n  background: transparent;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.panel-tab[data-v-790c1423]:hover {\n  background: rgba(var(--color-primary-rgb), 0.08);\n  color: var(--color-text);\n}\n.panel-tab.active[data-v-790c1423] {\n  background: var(--color-primary);\n  color: #fff;\n}\n.tab-count[data-v-790c1423] {\n  padding: 2px 8px;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.2);\n  font-size: 12px;\n}\n.panel-tab:not(.active) .tab-count[data-v-790c1423] {\n  background: rgba(var(--color-primary-rgb), 0.15);\n  color: var(--color-primary);\n}\n\n/* ÂÜÖÂÆπÂå∫Âüü */\n.tab-content[data-v-790c1423] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  overflow-y: auto;\n  min-height: 0;\n}\n\n/* ÊêúÁ¥¢Ê†è */\n.search-bar[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 10px 14px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  color: var(--color-text-secondary);\n}\n.search-bar input[data-v-790c1423] {\n  flex: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: var(--color-text);\n  font-size: 14px;\n}\n\n/* ËÆ≠ÁªÉÂç°Áâá */\n.cultivation-card[data-v-790c1423] {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.03) 0%, var(--color-surface) 100%);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n  transition: all 0.3s ease;\n}\n.cultivation-card[data-v-790c1423]:hover {\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n}\n.cultivation-header[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 16px;\n  padding: 16px;\n  border-bottom: 1px solid var(--color-border);\n}\n.cultivation-info[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.technique-icon[data-v-790c1423] {\n  width: 44px;\n  height: 44px;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-primary);\n}\n.technique-meta[data-v-790c1423] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.meta-label[data-v-790c1423] {\n  font-size: 12px;\n  color: var(--color-text-secondary);\n}\n.technique-name[data-v-790c1423] {\n  font-size: 16px;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.cultivation-actions[data-v-790c1423] {\n  display: flex;\n  gap: 8px;\n}\n.action-btn[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n  padding: 8px 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s;\n  font-weight: 500;\n}\n.action-btn[data-v-790c1423]:hover {\n  border-color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.08);\n}\n.action-btn.primary[data-v-790c1423] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: #fff;\n}\n.action-btn.warning[data-v-790c1423] {\n  background: rgba(var(--color-warning-rgb), 0.15);\n  border-color: var(--color-warning);\n  color: var(--color-warning);\n}\n.action-btn.danger[data-v-790c1423] {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.3);\n  color: #ef4444;\n}\n.action-btn.danger[data-v-790c1423]:hover {\n  background: rgba(239, 68, 68, 0.2);\n  border-color: #ef4444;\n}\n\n/* ËÆ≠ÁªÉÁªüËÆ° */\n.cultivation-stats[data-v-790c1423] {\n  display: flex;\n  gap: 12px;\n  padding: 16px;\n  flex-wrap: wrap;\n}\n.stat-item[data-v-790c1423] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 10px 14px;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  min-width: 80px;\n}\n.stat-item.highlight[data-v-790c1423] {\n  background: rgba(var(--color-warning-rgb), 0.1);\n  border-color: rgba(var(--color-warning-rgb), 0.3);\n}\n.stat-label[data-v-790c1423] {\n  font-size: 12px;\n  color: var(--color-text-secondary);\n}\n.stat-value[data-v-790c1423] {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.stat-value.success[data-v-790c1423] { color: var(--color-success);\n}\n.stat-value.warning[data-v-790c1423] { color: var(--color-warning);\n}\n\n/* ËøõÂ∫¶Êù° */\n.progress-bar[data-v-790c1423] {\n  height: 6px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n}\n.progress-fill[data-v-790c1423] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-primary), rgba(var(--color-primary-rgb), 0.6));\n  transition: width 0.3s;\n}\n\n/* Á®ãÂ∫èÊäÄËÉΩÂå∫Âüü */\n.skills-section[data-v-790c1423] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  overflow: hidden;\n}\n.section-header[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  border-bottom: 1px solid var(--color-border);\n  font-weight: 600;\n  color: var(--color-text);\n}\n.section-count[data-v-790c1423] {\n  margin-left: auto;\n  font-size: 12px;\n  color: var(--color-text-secondary);\n}\n.skills-grid[data-v-790c1423] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));\n  gap: 12px;\n  padding: 12px;\n}\n.skill-card[data-v-790c1423] {\n  padding: 12px;\n  background: rgba(var(--color-primary-rgb), 0.03);\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  transition: all 0.2s;\n}\n.skill-card.unlocked[data-v-790c1423] {\n  background: rgba(var(--color-success-rgb), 0.05);\n  border-color: rgba(var(--color-success-rgb), 0.2);\n}\n.skill-header[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n  margin-bottom: 8px;\n}\n.skill-name[data-v-790c1423] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.skill-badge[data-v-790c1423] {\n  padding: 2px 8px;\n  border-radius: 10px;\n  font-size: 11px;\n  font-weight: 500;\n}\n.skill-badge.success[data-v-790c1423] {\n  background: rgba(var(--color-success-rgb), 0.15);\n  color: var(--color-success);\n}\n.skill-badge.locked[data-v-790c1423] {\n  background: rgba(var(--color-text-secondary-rgb, 128, 128, 128), 0.1);\n  color: var(--color-text-secondary);\n}\n.skill-desc[data-v-790c1423] {\n  font-size: 13px;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n  margin: 0 0 8px 0;\n}\n.skill-progress[data-v-790c1423] {\n  margin-top: 8px;\n}\n.progress-info[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 12px;\n  color: var(--color-text-secondary);\n  margin-bottom: 6px;\n}\n.progress-track[data-v-790c1423] {\n  height: 4px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border-radius: 2px;\n  overflow: hidden;\n}\n.skill-cost[data-v-790c1423] {\n  font-size: 12px;\n  color: var(--color-text-secondary);\n}\n\n/* Á©∫Áä∂ÊÄÅ */\n.empty-state[data-v-790c1423] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 64px 24px;\n  text-align: center;\n  color: var(--color-text-secondary);\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.02) 0%, transparent 100%);\n  border-radius: 12px;\n  border: 1px dashed var(--color-border);\n}\n.empty-icon[data-v-790c1423] {\n  opacity: 0.4;\n  margin-bottom: 16px;\n  animation: float-790c1423 3s ease-in-out infinite;\n}\n@keyframes float-790c1423 {\n0%, 100% { transform: translateY(0);\n}\n50% { transform: translateY(-10px);\n}\n}\n\n/* ÊéåÊè°ÊäÄËÉΩÁΩëÊ†º */\n.mastered-grid[data-v-790c1423] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 16px;\n}\n.mastered-card[data-v-790c1423] {\n  padding: 16px;\n  background: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n}\n.mastered-card[data-v-790c1423]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, var(--color-primary), rgba(var(--color-primary-rgb), 0.5));\n  transform: scaleX(0);\n  transition: transform 0.3s ease;\n}\n.mastered-card[data-v-790c1423]:hover {\n  border-color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.05);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.15);\n}\n.mastered-card[data-v-790c1423]:hover::before {\n  transform: scaleX(1);\n}\n.mastered-card.active[data-v-790c1423] {\n  border-color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.08);\n  box-shadow: 0 4px 16px rgba(var(--color-primary-rgb), 0.2);\n}\n.mastered-card.active[data-v-790c1423]::before {\n  transform: scaleX(1);\n}\n.mastered-header[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n}\n.mastered-name[data-v-790c1423] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.mastered-badge[data-v-790c1423] {\n  padding: 2px 8px;\n  border-radius: 10px;\n  font-size: 11px;\n  background: rgba(var(--color-success-rgb), 0.15);\n  color: var(--color-success);\n}\n.mastered-desc[data-v-790c1423] {\n  font-size: 13px;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n  margin: 0 0 10px 0;\n}\n.mastered-meta[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 12px;\n}\n.meta-tag[data-v-790c1423] {\n  padding: 2px 8px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border-radius: 6px;\n  color: var(--color-primary);\n}\n.meta-stat[data-v-790c1423] {\n  color: var(--color-text-secondary);\n}\n\n/* ÂìÅË¥®ÊñáÊú¨ */\n.text-quality-‰ªô[data-v-790c1423] { color: #f59e0b;\n}\n.text-quality-Á•û[data-v-790c1423] { color: #ef4444;\n}\n.text-quality-Âú£[data-v-790c1423] { color: #a855f7;\n}\n.text-quality-ÈÅì[data-v-790c1423] { color: #3b82f6;\n}\n.text-quality-Â§©[data-v-790c1423] { color: #22c55e;\n}\n.text-quality-Âú∞[data-v-790c1423] { color: #06b6d4;\n}\n.text-quality-ÁéÑ[data-v-790c1423] { color: #8b5cf6;\n}\n.text-quality-ÈªÑ[data-v-790c1423] { color: #eab308;\n}\n.text-quality-Âá°[data-v-790c1423] { color: var(--color-text-secondary);\n}\n\n/* ÂìÅË¥®ËæπÊ°Ü */\n.border-quality-‰ªô[data-v-790c1423] { border-color: rgba(245, 158, 11, 0.4);\n}\n.border-quality-Á•û[data-v-790c1423] { border-color: rgba(239, 68, 68, 0.4);\n}\n.border-quality-Âú£[data-v-790c1423] { border-color: rgba(168, 85, 247, 0.4);\n}\n.border-quality-ÈÅì[data-v-790c1423] { border-color: rgba(59, 130, 246, 0.4);\n}\n.border-quality-Â§©[data-v-790c1423] { border-color: rgba(34, 197, 94, 0.4);\n}\n.border-quality-Âú∞[data-v-790c1423] { border-color: rgba(6, 182, 212, 0.4);\n}\n.border-quality-ÁéÑ[data-v-790c1423] { border-color: rgba(139, 92, 246, 0.4);\n}\n.border-quality-ÈªÑ[data-v-790c1423] { border-color: rgba(234, 179, 8, 0.4);\n}\n.border-quality-Âá°[data-v-790c1423] { border-color: var(--color-border);\n}\n\n/* ÂìÅË¥®ËÉåÊôØ */\n.bg-quality-‰ªô[data-v-790c1423] { background: rgba(245, 158, 11, 0.15); color: #f59e0b;\n}\n.bg-quality-Á•û[data-v-790c1423] { background: rgba(239, 68, 68, 0.15); color: #ef4444;\n}\n.bg-quality-Âú£[data-v-790c1423] { background: rgba(168, 85, 247, 0.15); color: #a855f7;\n}\n.bg-quality-ÈÅì[data-v-790c1423] { background: rgba(59, 130, 246, 0.15); color: #3b82f6;\n}\n.bg-quality-Â§©[data-v-790c1423] { background: rgba(34, 197, 94, 0.15); color: #22c55e;\n}\n.bg-quality-Âú∞[data-v-790c1423] { background: rgba(6, 182, 212, 0.15); color: #06b6d4;\n}\n.bg-quality-ÁéÑ[data-v-790c1423] { background: rgba(139, 92, 246, 0.15); color: #8b5cf6;\n}\n.bg-quality-ÈªÑ[data-v-790c1423] { background: rgba(234, 179, 8, 0.15); color: #eab308;\n}\n.bg-quality-Âá°[data-v-790c1423] { background: rgba(var(--color-primary-rgb), 0.1);\n}\n\n/* Á®ãÂ∫èÂ∫ìÁΩëÊ†º */\n.library-grid[data-v-790c1423] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 16px;\n}\n.technique-card[data-v-790c1423] {\n  padding: 16px;\n  background: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n}\n.technique-card[data-v-790c1423]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, var(--color-primary), rgba(var(--color-primary-rgb), 0.5));\n  transform: scaleX(0);\n  transition: transform 0.3s ease;\n}\n.technique-card[data-v-790c1423]:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\n}\n.technique-card[data-v-790c1423]:hover::before {\n  transform: scaleX(1);\n}\n.technique-card.active[data-v-790c1423] {\n  border-color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.05);\n}\n.technique-card.equipped[data-v-790c1423] {\n  border-color: var(--color-success);\n  background: linear-gradient(135deg, rgba(var(--color-success-rgb), 0.05) 0%, var(--color-surface) 100%);\n  box-shadow: 0 4px 16px rgba(var(--color-success-rgb), 0.15);\n}\n.technique-card.equipped[data-v-790c1423]::before {\n  background: linear-gradient(90deg, var(--color-success), rgba(var(--color-success-rgb), 0.5));\n  transform: scaleX(1);\n}\n.technique-header[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n}\n.technique-desc[data-v-790c1423] {\n  font-size: 13px;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n  margin: 0 0 10px 0;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n.technique-footer[data-v-790c1423] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n}\n.quality-tag[data-v-790c1423] {\n  font-size: 12px;\n  font-weight: 600;\n}\n.skill-count[data-v-790c1423] {\n  font-size: 12px;\n  color: var(--color-text-secondary);\n}\n.equipped-badge[data-v-790c1423] {\n  padding: 2px 8px;\n  border-radius: 10px;\n  font-size: 11px;\n  background: rgba(var(--color-success-rgb), 0.15);\n  color: var(--color-success);\n}\n.technique-actions[data-v-790c1423] {\n  display: flex;\n  justify-content: flex-end;\n}\n.tech-btn[data-v-790c1423] {\n  padding: 6px 14px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 13px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.tech-btn[data-v-790c1423]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n.tech-btn.primary[data-v-790c1423] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: #fff;\n}\n.tech-btn.primary[data-v-790c1423]:hover:not(:disabled) {\n  filter: brightness(1.1);\n}\n\n/* ÂìçÂ∫îÂºè */\n@media (max-width: 768px) {\n.panel-tabs[data-v-790c1423] {\n    flex-wrap: wrap;\n}\n.cultivation-header[data-v-790c1423] {\n    flex-direction: column;\n    align-items: flex-start;\n}\n.cultivation-actions[data-v-790c1423] {\n    width: 100%;\n    justify-content: flex-start;\n}\n.cultivation-stats[data-v-790c1423] {\n    flex-direction: column;\n}\n.stat-item[data-v-790c1423] {\n    width: 100%;\n}\n}\n",""]);const s=i},4803:(e,t,n)=>{"use strict";var a=n(8859),r=n(9675),o=function(e,t,n){for(var a,r=e;null!=(a=r.next);r=a)if(a.key===t)return r.next=a.next,n||(a.next=e.next,e.next=a),a};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+a(e))},delete:function(t){var n=e&&e.next,a=function(e,t){if(e)return o(e,t,!0)}(e,t);return a&&n&&n===a&&(e=void 0),!!a},get:function(t){return function(e,t){if(e){var n=o(e,t);return n&&n.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!o(e,t)}(e,t)},set:function(t,n){e||(e={next:void 0}),function(e,t,n){var a=o(e,t);a?a.value=n:e.next={key:t,next:e.next,value:n}}(e,t,n)}};return t}},4820:(e,t,n)=>{"use strict";function a(e){const t=[],n=[],a=[];try{return Array.isArray(e)?(e.forEach((e,r)=>{try{const o=function(e,t){const n=[],a=[];try{if(!e||"object"!=typeof e)return n.push(`Êåá‰ª§${t}: ‰∏çÊòØÊúâÊïàÁöÑÂØπË±°`),{valid:!1,errors:n,warnings:a};const r=e;r.action||n.push(`Êåá‰ª§${t}: Áº∫Â∞ëactionÂ≠óÊÆµ`),r.key||n.push(`Êåá‰ª§${t}: Áº∫Â∞ëkeyÂ≠óÊÆµ`);const o=["set","add","push","delete","pull"];r.action&&!o.includes(r.action)&&n.push(`Êåá‰ª§${t}: actionÂÄº"${r.action}"Êó†ÊïàÔºåÂøÖÈ°ªÊòØ: ${o.join(", ")}`),r.key&&"string"!=typeof r.key&&n.push(`Êåá‰ª§${t}: keyÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã`),"delete"!==r.action&&void 0===r.value&&n.push(`Êåá‰ª§${t}: ${r.action}Êìç‰ΩúÂøÖÈ°ªÊèê‰æõvalueÂ≠óÊÆµ`);const i=["action","key","value"],s=Object.keys(r).filter(e=>!i.includes(e));if(s.length>0&&a.push(`Êåá‰ª§${t}: ÂåÖÂê´Â§ö‰ΩôÂ≠óÊÆµ: ${s.join(", ")}ÔºàËøô‰∫õÂ≠óÊÆµ‰ºöË¢´Ëá™Âä®ÁßªÈô§Ôºâ`),r.key&&void 0!==r.value)try{const e=function(e,t,n){const a=[];try{const r=["ÂÖÉÊï∞ÊçÆ","ËßíËâ≤","Á§æ‰∫§","‰∏ñÁïå","Á≥ªÁªü"];if(!r.some(t=>e===t||e.startsWith(`${t}.`)))return a.push(`keyÂøÖÈ°ª‰ª• ${r.join(" / ")} ÂºÄÂ§¥ÔºàV3Áü≠Ë∑ØÂæÑÔºâÔºåÂΩìÂâç: ${e}`),a;const o=["‰ΩìË¥®","ËÉΩÊ∫ê","ÁÆóÊ≥ï","ËµÑÊ∫êÊÑüÁü•","È≠ÖÂäõ","ÂøÉÊô∫"];if("add"===n&&(["ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥.Âπ¥","ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥.Êúà","ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥.Êó•","ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥.Â∞èÊó∂","ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥.ÂàÜÈíü","ËßíËâ≤.Â±ûÊÄß.Â£∞Êúõ","ËßíËâ≤.Â±ûÊÄß.ÁîüÂëΩÂÄº.ÂΩìÂâç","ËßíËâ≤.Â±ûÊÄß.ÁîüÂëΩÂÄº.‰∏äÈôê","ËßíËâ≤.Â±ûÊÄß.ÁîµÈáè.ÂΩìÂâç","ËßíËâ≤.Â±ûÊÄß.ÁîµÈáè.‰∏äÈôê","ËßíËâ≤.Â±ûÊÄß.Â∏¶ÂÆΩ.ÂΩìÂâç","ËßíËâ≤.Â±ûÊÄß.Â∏¶ÂÆΩ.‰∏äÈôê","ËßíËâ≤.Â±ûÊÄß.ÂØøÂëΩ.ÂΩìÂâç","ËßíËâ≤.Â±ûÊÄß.ÂØøÂëΩ.‰∏äÈôê","ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰ΩéÈ¢ù","ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰∏≠È¢ù","ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.È´òÈ¢ù","ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.ÊúÄÈ´òÈ¢ù"].includes(e)&&"number"!=typeof t&&a.push(`${e} ‰ΩøÁî® add Êó∂ value ÂøÖÈ°ªÊòØÊï∞Â≠óÔºåÂΩìÂâçÁ±ªÂûã: ${typeof t}`),e.startsWith("ËßíËâ≤.Ë∫´‰ªΩ.ÊàêÈïøÂÖ≠Áª¥.")&&o.some(t=>e.endsWith(`.${t}`))&&"number"!=typeof t&&a.push(`${e} ‰ΩøÁî® add Êó∂ value ÂøÖÈ°ªÊòØÊï∞Â≠óÔºåÂΩìÂâçÁ±ªÂûã: ${typeof t}`)),"ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç"===e&&"set"===n)if("object"!=typeof t||null===t)a.push("ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç ÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã");else{const e=t;void 0!==e.ÂêçÁß∞&&"string"!=typeof e.ÂêçÁß∞&&a.push("Èò∂‰Ωç.ÂêçÁß∞ÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã"),void 0!==e.Èò∂ÊÆµ&&"string"!=typeof e.Èò∂ÊÆµ&&a.push("Èò∂‰Ωç.Èò∂ÊÆµÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã"),void 0!==e.ÂΩìÂâçËøõÂ∫¶&&"number"!=typeof e.ÂΩìÂâçËøõÂ∫¶&&a.push("Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶ÂøÖÈ°ªÊòØÊï∞Â≠óÁ±ªÂûã"),void 0!==e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ&&"number"!=typeof e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ&&a.push("Èò∂‰Ωç.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄÂøÖÈ°ªÊòØÊï∞Â≠óÁ±ªÂûã"),void 0!==e.ÂçáÁ∫ßÊèèËø∞&&"string"!=typeof e.ÂçáÁ∫ßÊèèËø∞&&a.push("Èò∂‰Ωç.ÂçáÁ∫ßÊèèËø∞ÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã")}if("ËßíËâ≤.‰ΩçÁΩÆ"===e&&"set"===n)if("object"!=typeof t||null===t)a.push("ËßíËâ≤.‰ΩçÁΩÆ ÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã");else{const e=t;void 0!==e.ÊèèËø∞&&"string"!=typeof e.ÊèèËø∞&&a.push("‰ΩçÁΩÆ.ÊèèËø∞ÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã"),void 0!==e.x&&"number"!=typeof e.x&&a.push("‰ΩçÁΩÆ.xÂøÖÈ°ªÊòØÊï∞Â≠óÁ±ªÂûã"),void 0!==e.y&&"number"!=typeof e.y&&a.push("‰ΩçÁΩÆ.yÂøÖÈ°ªÊòØÊï∞Â≠óÁ±ªÂûã"),void 0!==e.Âú∞ÂõæID&&"string"!=typeof e.Âú∞ÂõæID&&a.push("‰ΩçÁΩÆ.Âú∞ÂõæIDÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã")}if("ËßíËâ≤.ÊïàÊûú"===e&&"push"===n)if("object"!=typeof t||null===t)a.push("ËßíËâ≤.ÊïàÊûú push ÁöÑ value ÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã");else{const e=t;void 0===e.Á±ªÂûã||["buff","debuff"].includes(e.Á±ªÂûã)||a.push(`Áä∂ÊÄÅÊïàÊûúÁ±ªÂûãÂøÖÈ°ªÊòØ"buff"Êàñ"debuff"ÔºåÂΩìÂâçÂÄº: ${e.Á±ªÂûã}`),void 0!==e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü&&"number"!=typeof e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü&&a.push("Áä∂ÊÄÅÊïàÊûú.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíüÂøÖÈ°ªÊòØÊï∞Â≠óÁ±ªÂûã")}if("ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ"===e&&"push"===n&&("object"==typeof t&&null!==t||a.push("Êé®ÈÄÅÂà∞ ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ ÁöÑÁâ©ÂìÅÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã")),e.startsWith("ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.")&&"set"===n&&(3!==(e.match(/\./g)||[]).length||"object"==typeof t&&null!==t||a.push("Áâ©ÂìÅÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã")),e.startsWith("Á§æ‰∫§.ÂÖ≥Á≥ª.")&&2===(e.match(/\./g)||[]).length&&"set"===n&&"object"==typeof t&&null!==t){const e=t;!e.Èò∂‰Ωç||"object"==typeof e.Èò∂‰Ωç&&null!==e.Èò∂‰Ωç||a.push("NPCÈò∂‰ΩçÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"),void 0===e.Ê®°Âùó||Array.isArray(e.Ê®°Âùó)||a.push("NPCÊ®°ÂùóÂøÖÈ°ªÊòØÊï∞ÁªÑÁ±ªÂûã")}if(e.startsWith("Á§æ‰∫§.ÂÖ≥Á≥ª.")&&e.endsWith(".Èò∂‰Ωç")&&"set"===n)if("object"!=typeof t||null===t)a.push("NPCÈò∂‰ΩçÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã");else{const e=t;void 0!==e.ÂêçÁß∞&&"string"!=typeof e.ÂêçÁß∞&&a.push("NPCÈò∂‰Ωç.ÂêçÁß∞ÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã"),void 0!==e.Èò∂ÊÆµ&&"string"!=typeof e.Èò∂ÊÆµ&&a.push("NPCÈò∂‰Ωç.Èò∂ÊÆµÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã")}return e.startsWith("ËßíËâ≤.ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.")&&"set"===n&&3===(e.match(/\./g)||[]).length&&("object"==typeof t&&null!==t||a.push("ÊµÅÊ¥æÂØπË±°ÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã")),"Á§æ‰∫§.‰ªªÂä°.ÂΩìÂâç‰ªªÂä°ÂàóË°®"===e&&"push"===n&&("object"==typeof t&&null!==t||a.push("‰ªªÂä°ÂØπË±°ÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã")),a}catch(e){return console.error("[Êåá‰ª§È™åËØÅ] validateValueTypeÂèëÁîüÂºÇÂ∏∏:",e),a.push(`È™åËØÅËøáÁ®ãÂèëÁîüÂºÇÂ∏∏: ${e instanceof Error?e.message:String(e)}`),a}}(r.key,r.value,r.action);n.push(...e.map(e=>`Êåá‰ª§${t}: ${e}`))}catch(e){console.error("[Êåá‰ª§È™åËØÅ] ÂÄºÁ±ªÂûãÊ£ÄÊü•ÂºÇÂ∏∏:",e),a.push(`Êåá‰ª§${t}: ÂÄºÁ±ªÂûãÊ£ÄÊü•Êó∂ÂèëÁîüÂºÇÂ∏∏ÔºåÂ∑≤Ë∑≥Ëøá`)}return{valid:0===n.length,errors:n,warnings:a}}catch(e){return console.error("[Êåá‰ª§È™åËØÅ] validateCommandÂèëÁîü‰∏•ÈáçÂºÇÂ∏∏:",e),n.push(`Êåá‰ª§${t}: È™åËØÅËøáÁ®ãÂèëÁîü‰∏•ÈáçÂºÇÂ∏∏`),{valid:!1,errors:n,warnings:a}}}(e,r);t.push(...o.errors),n.push(...o.warnings),o.errors.length>0&&a.push({command:e,errors:o.errors})}catch(e){console.error(`[Êåá‰ª§È™åËØÅ] È™åËØÅÊåá‰ª§${r}Êó∂ÂèëÁîüÂºÇÂ∏∏:`,e),t.push(`Êåá‰ª§${r}: È™åËØÅÊó∂ÂèëÁîüÂºÇÂ∏∏`),n.push(`Êåá‰ª§${r}: Â∑≤Ë∑≥ËøáÂºÇÂ∏∏Êåá‰ª§`)}}),{valid:0===t.length,errors:t,warnings:n,invalidCommands:a}):{valid:!1,errors:["tavern_commandsÂøÖÈ°ªÊòØÊï∞ÁªÑÁ±ªÂûã"],warnings:[],invalidCommands:[]}}catch(e){return console.error("[Êåá‰ª§È™åËØÅ] validateCommandsÂèëÁîü‰∏•ÈáçÂºÇÂ∏∏:",e),{valid:!1,errors:["Êåá‰ª§Êï∞ÁªÑÈ™åËØÅËøáÁ®ãÂèëÁîü‰∏•ÈáçÂºÇÂ∏∏"],warnings:[],invalidCommands:[]}}}function r(e){const{action:t,key:n,value:a}=e,r={action:t,key:n,value:a};return"delete"===t&&delete r.value,r}function o(e){return e.map(r)}n.d(t,{cleanCommands:()=>o,validateCommands:()=>a})},4932:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.dao-panel[data-v-94b1c710] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n}\n\n/* È°∂ÈÉ®ÁªüËÆ°Âå∫ */\n.dao-stats-header[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px 16px;\n  background: var(--color-background);\n  border-bottom: 1px solid var(--color-border);\n  border-radius: 12px 12px 0 0;\n}\n.stats-card[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 8px 14px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  min-width: 100px;\n}\n.stats-icon[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n}\n.stats-icon.enlightened[data-v-94b1c710] {\n  background: linear-gradient(135deg, rgba(130, 163, 245, 0.2), rgba(192, 202, 245, 0.2));\n  color: var(--color-primary);\n}\n.stats-icon.experience[data-v-94b1c710] {\n  background: linear-gradient(135deg, rgba(255, 213, 0, 0.2), rgba(255, 179, 0, 0.2));\n  color: var(--color-warning);\n}\n.stats-info[data-v-94b1c710] {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n.stats-value[data-v-94b1c710] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: var(--color-text);\n  line-height: 1.2;\n}\n.stats-label[data-v-94b1c710] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.stats-actions[data-v-94b1c710] {\n  display: flex;\n  gap: 6px;\n  margin-left: auto;\n}\n.action-btn-icon[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 34px;\n  height: 34px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.action-btn-icon[data-v-94b1c710]:hover {\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.1);\n}\n\n/* Á≠õÈÄâÂíåÊéíÂ∫èÊ†è */\n.dao-filter-bar[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12px;\n  padding: 10px 12px;\n  background: var(--color-surface);\n  border-radius: 10px;\n  margin-bottom: 12px;\n  flex-wrap: wrap;\n}\n.filter-tags[data-v-94b1c710] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n.filter-tag[data-v-94b1c710] {\n  display: inline-flex;\n  align-items: center;\n  gap: 5px;\n  padding: 6px 10px;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.filter-tag[data-v-94b1c710]:hover {\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.filter-tag.active[data-v-94b1c710] {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.tag-count[data-v-94b1c710] {\n  font-size: 0.65rem;\n  padding: 1px 5px;\n  background: rgba(var(--color-primary-rgb), 0.15);\n  border-radius: 8px;\n  font-weight: 600;\n}\n.sort-dropdown[data-v-94b1c710] {\n  flex-shrink: 0;\n}\n.sort-select[data-v-94b1c710] {\n  padding: 6px 10px;\n  font-size: 0.75rem;\n  color: var(--color-text);\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  outline: none;\n  transition: all 0.2s;\n}\n.sort-select[data-v-94b1c710]:hover,\n.sort-select[data-v-94b1c710]:focus {\n  border-color: var(--color-primary);\n}\n\n/* Á©∫Áä∂ÊÄÅÊèíÂõæ */\n.empty-illustration[data-v-94b1c710] {\n  position: relative;\n  width: 120px;\n  height: 120px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.empty-icon-wrapper[data-v-94b1c710] {\n  position: relative;\n  z-index: 2;\n  color: var(--color-primary);\n  opacity: 0.6;\n}\n.empty-rings[data-v-94b1c710] {\n  position: absolute;\n  inset: 0;\n}\n.ring[data-v-94b1c710] {\n  position: absolute;\n  border: 1px solid var(--color-border);\n  border-radius: 50%;\n  opacity: 0.4;\n}\n.ring-1[data-v-94b1c710] {\n  inset: 20%;\n}\n.ring-2[data-v-94b1c710] {\n  inset: 10%;\n}\n.ring-3[data-v-94b1c710] {\n  inset: 0;\n}\n.empty-title[data-v-94b1c710] {\n  margin: 0;\n  font-size: 1rem;\n  color: var(--color-text);\n}\n.empty-desc[data-v-94b1c710] {\n  margin: 0;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  text-align: center;\n  max-width: 350px;\n}\n\n/* ÊµÅÊ¥æÂç°Áâá */\n.dao-card[data-v-94b1c710] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 12px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n}\n.dao-card[data-v-94b1c710]:hover {\n  border-color: var(--color-primary);\n}\n.dao-card.active[data-v-94b1c710] {\n  border-color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.05);\n}\n.dao-card-header[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n.dao-icon[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  background: linear-gradient(135deg, rgba(130, 163, 245, 0.15), rgba(192, 202, 245, 0.15));\n  border-radius: 8px;\n  color: var(--color-primary);\n}\n.dao-title-group[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex: 1;\n}\n.dao-card-body[data-v-94b1c710] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n.dao-progress-wrapper[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.dao-progress-bar[data-v-94b1c710] {\n  flex: 1;\n  height: 6px;\n  background: var(--color-border);\n  border-radius: 3px;\n  overflow: hidden;\n  position: relative;\n}\n.dao-progress-fill[data-v-94b1c710] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-primary), var(--color-info));\n  border-radius: 3px;\n  transition: width 0.3s ease;\n}\n.dao-progress-glow[data-v-94b1c710] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n  animation: glow-sweep-94b1c710 2s infinite;\n}\n@keyframes glow-sweep-94b1c710 {\n0% { transform: translateX(-100%);\n}\n100% { transform: translateX(100%);\n}\n}\n.dao-progress-text[data-v-94b1c710] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  min-width: 36px;\n  text-align: right;\n}\n.dao-exp-info[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 0.75rem;\n}\n.exp-current[data-v-94b1c710] {\n  color: var(--color-primary);\n  font-weight: 600;\n}\n.exp-divider[data-v-94b1c710] {\n  color: var(--color-text-muted);\n}\n.exp-required[data-v-94b1c710] {\n  color: var(--color-text-secondary);\n}\n.dao-card-actions[data-v-94b1c710] {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  display: flex;\n  gap: 4px;\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n.dao-card:hover .dao-card-actions[data-v-94b1c710] {\n  opacity: 1;\n}\n.dao-action-btn[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 26px;\n  height: 26px;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.dao-action-btn[data-v-94b1c710]:hover {\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.dao-action-btn.cultivate[data-v-94b1c710]:hover {\n  border-color: var(--color-warning);\n  color: var(--color-warning);\n}\n.dao-action-btn.breakthrough[data-v-94b1c710] {\n  border-color: #f59e0b;\n  color: #f59e0b;\n}\n.dao-action-btn.breakthrough[data-v-94b1c710]:hover {\n  background: #f59e0b;\n  color: white;\n}\n\n/* Èò∂ÊÆµÂæΩÁ´† */\n.dao-stage-badge[data-v-94b1c710] {\n  padding: 2px 8px;\n  border-radius: 10px;\n  font-size: 0.7rem;\n  font-weight: 500;\n}\n.dao-stage-badge.stage-low[data-v-94b1c710] {\n  background: rgba(var(--color-info-rgb), 0.15);\n  color: var(--color-info);\n}\n.dao-stage-badge.stage-mid[data-v-94b1c710] {\n  background: rgba(var(--color-success-rgb), 0.15);\n  color: var(--color-success);\n}\n.dao-stage-badge.stage-high[data-v-94b1c710] {\n  background: rgba(var(--color-warning-rgb), 0.15);\n  color: var(--color-warning);\n}\n.dao-stage-badge.stage-max[data-v-94b1c710] {\n  background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 140, 0, 0.2));\n  color: #ffa500;\n}\n\n/* ËØ¶ÊÉÖÈù¢Êùø */\n.dao-detail-panel[data-v-94b1c710] {\n  margin-top: 12px;\n  padding: 16px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n}\n.detail-title-group[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.detail-icon[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n  background: linear-gradient(135deg, rgba(130, 163, 245, 0.2), rgba(192, 202, 245, 0.2));\n  border-radius: 10px;\n  color: var(--color-primary);\n}\n.detail-title[data-v-94b1c710] {\n  margin: 0;\n  font-size: 1.1rem;\n  color: var(--color-text);\n}\n.detail-stage[data-v-94b1c710] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.detail-body[data-v-94b1c710] {\n  margin-top: 16px;\n}\n.detail-stats-grid[data-v-94b1c710] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 10px;\n  margin-bottom: 16px;\n}\n.detail-stat-card[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 10px 12px;\n  background: var(--color-background);\n  border-radius: 8px;\n}\n.stat-card-icon[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border-radius: 6px;\n  color: var(--color-primary);\n}\n.stat-card-icon.progress-icon[data-v-94b1c710] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n}\n.stat-card-content[data-v-94b1c710] {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n.stat-card-value[data-v-94b1c710] {\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.stat-card-label[data-v-94b1c710] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n}\n\n/* Èò∂ÊÆµËøõÂ∫¶Âå∫ */\n.stage-progress-section[data-v-94b1c710] {\n  margin-bottom: 16px;\n}\n.section-title[data-v-94b1c710] {\n  margin: 0 0 10px 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.stage-timeline[data-v-94b1c710] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.stage-node[data-v-94b1c710] {\n  display: flex;\n  align-items: flex-start;\n  gap: 10px;\n  padding: 8px 10px;\n  background: var(--color-background);\n  border-radius: 8px;\n  border-left: 3px solid var(--color-border);\n}\n.stage-node.done[data-v-94b1c710] {\n  border-left-color: var(--color-success);\n}\n.stage-node.current[data-v-94b1c710] {\n  border-left-color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.05);\n}\n.stage-node.locked[data-v-94b1c710] {\n  opacity: 0.5;\n}\n.node-marker[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 22px;\n  height: 22px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n.stage-node.done .node-marker[data-v-94b1c710] {\n  background: var(--color-success);\n  border-color: var(--color-success);\n  color: white;\n}\n.stage-node.current .node-marker[data-v-94b1c710] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n.node-number[data-v-94b1c710] {\n  font-size: 0.7rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n}\n.node-content[data-v-94b1c710] {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n.node-name[data-v-94b1c710] {\n  font-size: 0.85rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n.node-desc[data-v-94b1c710] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n/* Á™ÅÁ†¥ÊåáÂºï */\n.breakthrough-guide[data-v-94b1c710] {\n  margin-bottom: 16px;\n  padding: 14px;\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.05));\n  border: 1px solid rgba(245, 158, 11, 0.3);\n  border-radius: 10px;\n  border-left: 4px solid #f59e0b;\n}\n.guide-header[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 10px;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: #f59e0b;\n}\n.guide-content[data-v-94b1c710] {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.guide-desc[data-v-94b1c710] {\n  margin: 0;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n.guide-tips[data-v-94b1c710] {\n  margin: 0;\n  padding-left: 20px;\n  list-style: disc;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n}\n.guide-tips li[data-v-94b1c710] {\n  margin-bottom: 4px;\n}\n.breakthrough-chance[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px 12px;\n  background: rgba(245, 158, 11, 0.1);\n  border-radius: 8px;\n  margin-top: 6px;\n}\n.chance-label[data-v-94b1c710] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.chance-value[data-v-94b1c710] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: #f59e0b;\n}\n.detail-actions[data-v-94b1c710] {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n/* Â∑•ÂÖ∑Ê†è */\n.dao-toolbar[data-v-94b1c710] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n}\n.toolbar-left[data-v-94b1c710] {\n  display: flex;\n  gap: 16px;\n  font-size: 0.9rem;\n}\n.dao-count[data-v-94b1c710] {\n  color: var(--color-primary);\n  font-weight: 600;\n}\n.dao-exp[data-v-94b1c710] {\n  color: var(--color-text-secondary);\n}\n.toolbar-right[data-v-94b1c710] {\n  display: flex;\n  gap: 8px;\n}\n.tool-btn[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 6px 12px;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.85rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.tool-btn[data-v-94b1c710]:hover {\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n\n/* ‰∏ªÂÜÖÂÆπ */\n.dao-content[data-v-94b1c710] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding: 12px;\n}\n\n/* Á©∫Áä∂ÊÄÅ */\n.dao-empty[data-v-94b1c710] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  color: var(--color-text-secondary);\n}\n.quick-actions[data-v-94b1c710] {\n  display: flex;\n  gap: 12px;\n}\n\n/* ÊµÅÊ¥æÂàóË°® */\n.dao-list[data-v-94b1c710] {\n  flex: 1;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.dao-name[data-v-94b1c710] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n/* ÈÄöÁî®ÊåâÈíÆ */\n.action-btn[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n  padding: 10px 16px;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text);\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.action-btn[data-v-94b1c710]:hover {\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-btn.primary[data-v-94b1c710] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n.action-btn.primary[data-v-94b1c710]:hover {\n  opacity: 0.9;\n}\n.action-btn.secondary[data-v-94b1c710] {\n  background: #ffb534d0;\n  border-color: var(--color-border);\n}\n.action-btn.warning[data-v-94b1c710] {\n  background: #f59e0b;\n  border-color: #f59e0b;\n  color: white;\n}\n.action-btn.warning[data-v-94b1c710]:hover {\n  opacity: 0.9;\n}\n.action-btn.large[data-v-94b1c710] {\n  padding: 12px 20px;\n}\n.close-btn[data-v-94b1c710] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 12px;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n.close-btn[data-v-94b1c710]:hover {\n  color: var(--color-text);\n  border-color: var(--color-primary);\n  background: var(--color-surface-hover);\n}\n\n/* ÂìçÂ∫îÂºè */\n@media (max-width: 640px) {\n.dao-stats-header[data-v-94b1c710] {\n    flex-wrap: wrap;\n}\n.stats-card[data-v-94b1c710] {\n    min-width: auto;\n    flex: 1;\n}\n.quick-actions[data-v-94b1c710] {\n    flex-direction: column;\n}\n.detail-stats-grid[data-v-94b1c710] {\n    grid-template-columns: 1fr;\n}\n}\n",""]);const s=i},4954:(e,t,n)=>{"use strict";n.d(t,{generateWorldEvent:()=>s});var a=n(236),r=n(7203),o=n(758);const i=()=>`event_${Date.now()}_${Math.random().toString(36).slice(2,8)}`;async function s(e){try{const{saveData:t,now:n,customPrompt:s}=e,l=t?.ËßíËâ≤?.Ë∫´‰ªΩ?.ÂêçÂ≠ó||t?.ËßíËâ≤?.ÂêçÂ≠ó||"Êó†ÂêçÊ∏∏Ê∞ë",c=t?.ËßíËâ≤?.Â±ûÊÄß?.Èò∂‰Ωç?.ÂêçÁß∞||"Ë°óÂ§¥‰∫∫",d=t?.ËßíËâ≤?.Â±ûÊÄß?.Èò∂‰Ωç?.Èò∂ÊÆµ||"",u=t?.ËßíËâ≤?.‰ΩçÁΩÆ?.ÊèèËø∞||"Êú™Áü•",m=Number(t?.ËßíËâ≤?.Â±ûÊÄß?.Â£∞Êúõ??0),p=t?.Á§æ‰∫§?.ÂÖ≥Á≥ª||{},g=Object.values(p).filter(e=>e&&"object"==typeof e).map(e=>({ÂêçÂ≠ó:String(e.ÂêçÂ≠ó||""),‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª:String(e.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª||""),Â•ΩÊÑüÂ∫¶:Number(e.Â•ΩÊÑüÂ∫¶??0),Èò∂‰Ωç:e.Èò∂‰Ωç?`${e.Èò∂‰Ωç.ÂêçÁß∞||""}${e.Èò∂‰Ωç.Èò∂ÊÆµ?"-"+e.Èò∂‰Ωç.Èò∂ÊÆµ:""}`:""})).filter(e=>e.ÂêçÂ≠ó).sort((e,t)=>t.Â•ΩÊÑüÂ∫¶-e.Â•ΩÊÑüÂ∫¶).slice(0,6),h=(await(0,r.XH)("eventGeneration")).trim(),f=s&&String(s).trim()?`\n\n## È¢ùÂ§ñË¶ÅÊ±Ç\n${String(s).trim()}`:"",v=`${h}\n\n---\n\n${`\n# ÂΩìÂâçÁä∂ÊÄÅ\n- Êó∂Èó¥: ${n.Âπ¥}Âπ¥${n.Êúà}Êúà${n.Êó•}Êó• ${String(n.Â∞èÊó∂).padStart(2,"0")}:${String(n.ÂàÜÈíü).padStart(2,"0")}\n- Áé©ÂÆ∂: ${l}\n- Èò∂‰Ωç: ${c}${d?"-"+d:""}\n- ‰ΩçÁΩÆ: ${u}\n- Â£∞Êúõ: ${m}\n\n# Áé©ÂÆ∂ÂÖ≥Á≥ªÔºàÂ•ΩÊÑüÂ∫¶TopÔºâ\n${g.length?g.map(e=>`- ${e.ÂêçÂ≠ó} | ÂÖ≥Á≥ª:${e.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª||"Êú™Áü•"} | Â•ΩÊÑü:${e.Â•ΩÊÑüÂ∫¶} | Èò∂‰Ωç:${e.Èò∂‰Ωç||"Êú™Áü•"}`).join("\n"):"- ÔºàÊöÇÊó†Ôºâ"}\n`.trim()}${f}`.trim(),b=await(0,a.e)("ÁîüÊàê‰∏Ä‰∏™‰ºöÂΩ±ÂìçÁé©ÂÆ∂ÁöÑ‰∏ñÁïå‰∫ã‰ª∂",v,!1,"event_generation"),y=(0,o.p)(b),x=y?.event,k=String(y?.prompt_addition||"").trim();return x&&"object"==typeof x&&k?{event:{‰∫ã‰ª∂ID:String(x.‰∫ã‰ª∂ID||i()),‰∫ã‰ª∂ÂêçÁß∞:String(x.‰∫ã‰ª∂ÂêçÁß∞||"Êó†Âêç‰∫ã‰ª∂"),‰∫ã‰ª∂Á±ªÂûã:String(x.‰∫ã‰ª∂Á±ªÂûã||"‰∏ñÁïåÂèòÈù©"),‰∫ã‰ª∂ÊèèËø∞:String(x.‰∫ã‰ª∂ÊèèËø∞||k),ÂΩ±ÂìçÁ≠âÁ∫ß:x.ÂΩ±ÂìçÁ≠âÁ∫ß?String(x.ÂΩ±ÂìçÁ≠âÁ∫ß):void 0,ÂΩ±ÂìçËåÉÂõ¥:x.ÂΩ±ÂìçËåÉÂõ¥?String(x.ÂΩ±ÂìçËåÉÂõ¥):void 0,Áõ∏ÂÖ≥‰∫∫Áâ©:Array.isArray(x.Áõ∏ÂÖ≥‰∫∫Áâ©)?x.Áõ∏ÂÖ≥‰∫∫Áâ©.map(e=>String(e)).filter(Boolean):void 0,Áõ∏ÂÖ≥ÂäøÂäõ:Array.isArray(x.Áõ∏ÂÖ≥ÂäøÂäõ)?x.Áõ∏ÂÖ≥ÂäøÂäõ.map(e=>String(e)).filter(Boolean):void 0,‰∫ã‰ª∂Êù•Ê∫ê:String(x.‰∫ã‰ª∂Êù•Ê∫ê||"ÈöèÊú∫"),ÂèëÁîüÊó∂Èó¥:n},prompt_addition:k}:null}catch(e){return console.error("[‰∫ã‰ª∂ÁîüÊàê] ÁîüÊàêÂ§±Ë¥•:",e),null}}},5052:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.right-sidebar[data-v-7211c3d8] {\n  width: 100%;\n  height: 100%;\n  padding: 18px;\n  box-sizing: border-box;\n  font-family: var(--font-family-sans-serif);\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  background: rgba(6, 10, 20, 0.96);\n  color: #e2e8f0;\n}\n.right-sidebar.fullscreen[data-v-7211c3d8] {\n  height: 100%;\n  overflow: hidden;\n}\n.profile-header[data-v-7211c3d8] {\n  padding: 12px 14px;\n  border: 1px solid rgba(0, 240, 255, 0.25);\n  border-radius: 12px;\n  background: rgba(0, 240, 255, 0.06);\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n.profile-id[data-v-7211c3d8] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12px;\n}\n.profile-name[data-v-7211c3d8] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: #00f0ff;\n}\n.profile-realm[data-v-7211c3d8] {\n  font-size: 0.8rem;\n  color: rgba(138, 43, 255, 0.9);\n}\n.profile-meta[data-v-7211c3d8] {\n  display: flex;\n  gap: 14px;\n  font-size: 0.75rem;\n  color: rgba(226, 232, 240, 0.7);\n}\n.info-grid[data-v-7211c3d8] {\n  flex: 1;\n  overflow-y: auto;\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 12px;\n}\n.info-card[data-v-7211c3d8] {\n  background: rgba(8, 12, 22, 0.9);\n  border: 1px solid rgba(0, 240, 255, 0.18);\n  border-radius: 12px;\n  padding: 12px 14px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.card-title[data-v-7211c3d8] {\n  font-size: 0.8rem;\n  letter-spacing: 0.2em;\n  text-transform: uppercase;\n  color: rgba(0, 240, 255, 0.8);\n}\n.stat-grid[data-v-7211c3d8] {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 10px;\n}\n.stat-item[data-v-7211c3d8] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  padding: 8px;\n  border: 1px solid rgba(0, 240, 255, 0.12);\n  border-radius: 10px;\n  background: rgba(6, 9, 18, 0.85);\n}\n.stat-label[data-v-7211c3d8] {\n  font-size: 0.7rem;\n  color: rgba(226, 232, 240, 0.7);\n}\n.stat-value[data-v-7211c3d8] {\n  font-size: 0.8rem;\n  font-weight: 600;\n}\n.stat-bar[data-v-7211c3d8] {\n  height: 6px;\n  border-radius: 999px;\n  background: rgba(0, 240, 255, 0.1);\n  overflow: hidden;\n}\n.stat-fill[data-v-7211c3d8] {\n  display: block;\n  height: 100%;\n  border-radius: 999px;\n  transition: width 0.4s ease;\n}\n.stat-fill.health[data-v-7211c3d8] { background: #ff2d6f;\n}\n.stat-fill.mana[data-v-7211c3d8] { background: #00f0ff;\n}\n.stat-fill.spirit[data-v-7211c3d8] { background: #8a2bff;\n}\n.stat-fill.lifespan[data-v-7211c3d8] { background: #f59e0b;\n}\n.stat-fill.cultivation[data-v-7211c3d8] { background: #00ffa7;\n}\n.stat-fill.cultivation.realm-sprint[data-v-7211c3d8] { background: #f59e0b;\n}\n.stat-fill.cultivation.realm-breakthrough[data-v-7211c3d8] { background: #ff2d6f;\n}\n.realm-block[data-v-7211c3d8] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.realm-name[data-v-7211c3d8] {\n  font-size: 0.95rem;\n  color: #00ffa7;\n}\n.realm-desc[data-v-7211c3d8] {\n  font-size: 0.75rem;\n  color: rgba(226, 232, 240, 0.6);\n}\n.realm-hint[data-v-7211c3d8] {\n  font-size: 0.75rem;\n  color: rgba(226, 232, 240, 0.6);\n  padding: 6px 8px;\n  border: 1px dashed rgba(0, 240, 255, 0.3);\n  border-radius: 8px;\n}\n.realm-progress[data-v-7211c3d8] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.realm-percent[data-v-7211c3d8] {\n  font-size: 0.7rem;\n  color: rgba(226, 232, 240, 0.8);\n}\n.realm-percent.realm-sprint[data-v-7211c3d8] { color: #f59e0b;\n}\n.realm-percent.realm-breakthrough[data-v-7211c3d8] { color: #ff2d6f;\n}\n.chip-grid[data-v-7211c3d8] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.chip[data-v-7211c3d8] {\n  background: rgba(0, 240, 255, 0.12);\n  border: 1px solid rgba(0, 240, 255, 0.35);\n  color: #00f0ff;\n  padding: 6px 10px;\n  border-radius: 999px;\n  font-size: 0.7rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.chip[data-v-7211c3d8]:hover {\n  background: rgba(0, 240, 255, 0.25);\n  box-shadow: 0 0 12px rgba(0, 240, 255, 0.25);\n}\n.status-grid[data-v-7211c3d8] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 10px;\n}\n.status-card[data-v-7211c3d8] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  padding: 10px 12px;\n  border-radius: 10px;\n  border: 1px solid rgba(0, 240, 255, 0.2);\n  background: rgba(6, 9, 18, 0.85);\n  color: rgba(226, 232, 240, 0.9);\n  cursor: pointer;\n}\n.status-card.buff[data-v-7211c3d8] {\n  border-color: rgba(0, 255, 167, 0.45);\n}\n.status-card.debuff[data-v-7211c3d8] {\n  border-color: rgba(255, 45, 111, 0.45);\n}\n.status-name[data-v-7211c3d8] {\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n.status-desc[data-v-7211c3d8] {\n  font-size: 0.7rem;\n  color: rgba(226, 232, 240, 0.6);\n}\n.status-meta[data-v-7211c3d8] {\n  font-size: 0.65rem;\n  color: rgba(226, 232, 240, 0.5);\n}\n.empty-text[data-v-7211c3d8] {\n  font-size: 0.75rem;\n  color: rgba(226, 232, 240, 0.6);\n}\n.no-character[data-v-7211c3d8] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n}\n.no-char-text[data-v-7211c3d8] {\n  font-size: 0.9rem;\n  color: rgba(226, 232, 240, 0.6);\n}\n@media (max-width: 768px) {\n.stat-grid[data-v-7211c3d8] {\n    grid-template-columns: 1fr;\n}\n}\n",""]);const s=i},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],c=a.base?l[0]+a.base:l[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var m=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var g=r(p,a);a.byIndex=s,t.splice(s,0,{identifier:u,updater:g,references:1})}i.push(u)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var l=a(e,r),c=0;c<o.length;c++){var d=n(o[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},5099:(e,t,n)=>{"use strict";n.d(t,{$v:()=>m,Jx:()=>x,Ky:()=>w,N5:()=>h,Wj:()=>k,YK:()=>v,ag:()=>g,c5:()=>f,dc:()=>b,loadFromIndexedDB:()=>E,loadSaveData:()=>y,saveData:()=>p});const a="DAD_SAVES_DB",r=1,o="saves",i="root_data",s="characters",l="active_save",c="savedata_";let d=null;function u(){return new Promise((e,t)=>{if(d)return void e(d);const n=indexedDB.open(a,r);n.onerror=()=>{console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊï∞ÊçÆÂ∫ìÊâìÂºÄÂ§±Ë¥•:",n.error),t(n.error)},n.onsuccess=()=>{d=n.result,console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊï∞ÊçÆÂ∫ìÂ∑≤ÊâìÂºÄ"),e(n.result)},n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(o)||(t.createObjectStore(o,{keyPath:"id"}),console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂØπË±°Â≠òÂÇ®Â∑≤ÂàõÂª∫:",o))}})}async function m(){try{const e=(await u()).transaction([o],"readonly").objectStore(o),t=e.get(s),n=e.get(l);return new Promise((e,a)=>{let r=null,o=null,i=0;const s=()=>{2===i&&(console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂàÜÁâáÊï∞ÊçÆÂä†ËΩΩÂÆåÊàê"),e({ËßíËâ≤ÂàóË°®:r||{},ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£:o||null}))};t.onsuccess=()=>{r=t.result?.data||{},i++,s()},t.onerror=()=>a(t.error),n.onsuccess=()=>{o=n.result?.data||null,i++,s()},n.onerror=()=>a(n.error)})}catch(e){return console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂä†ËΩΩÊ†πÊï∞ÊçÆÊó∂Âá∫Èîô:",e),{ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£:null,ËßíËâ≤ÂàóË°®:{}}}}async function p(e,t){const n=await u();return new Promise((a,r)=>{const i=n.transaction([o],"readwrite").objectStore(o).put({id:e,data:JSON.parse(JSON.stringify(t)),timestamp:(new Date).toISOString()});i.onsuccess=()=>a(),i.onerror=()=>r(i.error)})}async function g(e){try{console.log("[IndexedDB-‰øùÂ≠òËßíËâ≤] ÂáÜÂ§á‰øùÂ≠òËßíËâ≤ÂàóË°®, ËßíËâ≤Êï∞:",Object.keys(e).length),await p(s,e),console.log("[IndexedDB-‰øùÂ≠òËßíËâ≤] ‚úÖ ËßíËâ≤ÂàóË°®Â∑≤‰øùÂ≠òÂà∞ IndexedDB")}catch(e){throw console.error("[IndexedDB-‰øùÂ≠òËßíËâ≤] ‚ùå ‰øùÂ≠òËßíËâ≤ÂàóË°®Â§±Ë¥•:",e),e}}async function h(e){try{await p(l,e),console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£Â∑≤‰øùÂ≠ò")}catch(e){throw console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‰øùÂ≠òÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£Â§±Ë¥•:",e),e}}async function f(e){try{console.log("[IndexedDB-‰øùÂ≠ò] ÂºÄÂßã‰øùÂ≠òÊ†πÊï∞ÊçÆ"),console.log("[IndexedDB-‰øùÂ≠ò] ËßíËâ≤ÂàóË°®ÈîÆÂêç:",Object.keys(e.ËßíËâ≤ÂàóË°®)),console.log("[IndexedDB-‰øùÂ≠ò] ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£:",e.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£),await Promise.all([g(e.ËßíËâ≤ÂàóË°®),h(e.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£)]),console.log("[IndexedDB-‰øùÂ≠ò] ‚úÖ Ê†πÊï∞ÊçÆÔºàÂàÜÁâáÔºâ‰øùÂ≠òÊàêÂäü")}catch(e){throw console.error("[IndexedDB-‰øùÂ≠ò] ‚ùå ‰øùÂ≠òÊ†πÊï∞ÊçÆÊó∂Âá∫Èîô:",e),e}}async function v(){try{const e="DAD_SAVES_V3",t=localStorage.getItem(e);if(t){console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊ£ÄÊµãÂà∞localStorageÊï∞ÊçÆÔºåÂºÄÂßãËøÅÁßª...");const n=JSON.parse(t);return await f(n),localStorage.setItem("DAD_SAVES_V3_BACKUP",t),localStorage.removeItem(e),console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‚úÖ localStorage Êï∞ÊçÆËøÅÁßªÂÆåÊàêÔºÅ"),!0}const n=(await u()).transaction([o],"readwrite").objectStore(o),a=n.get(i);return new Promise((e,t)=>{a.onsuccess=async()=>{const r=a.result;if(r&&r.data&&(r.data.ËßíËâ≤ÂàóË°®||r.data.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£)){console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊ£ÄÊµãÂà∞ÊóßÁöÑÂçï‰ΩìDBËÆ∞ÂΩïÔºåÂºÄÂßãÂàÜÁâáËøÅÁßª...");try{const a=r.data;await g(a.ËßíËâ≤ÂàóË°®||{}),await h(a.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£||null);const o=n.delete(i);o.onsuccess=()=>{console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‚úÖ ÊóßÁöÑÂçï‰ΩìDBËÆ∞ÂΩïÂ∑≤ÊàêÂäüËøÅÁßªÂπ∂Âà†Èô§"),e(!0)},o.onerror=()=>{console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‚ùå Âà†Èô§ÊóßÁöÑÂçï‰ΩìDBËÆ∞ÂΩïÂ§±Ë¥•:",o.error),t(o.error)}}catch(e){console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‚ùå ÂàÜÁâáËøÅÁßªÂ§±Ë¥•:",e),t(e)}}else console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊó†ÈúÄÊï∞ÊçÆËøÅÁßª"),e(!1)},a.onerror=()=>{console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‚ùå Ê£ÄÊü•ÊóßÊï∞ÊçÆÂ§±Ë¥•:",a.error),t(a.error)}})}catch(e){return console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‚ùå Êï∞ÊçÆËøÅÁßªËøáÁ®ãÂá∫Èîô:",e),!1}}async function b(e,t,n){try{const a=`${c}${e}_${t}`;await p(a,n),console.log(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëSaveData Â∑≤‰øùÂ≠ò (${e}/${t})`)}catch(e){throw console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‰øùÂ≠ò SaveData Â§±Ë¥•:",e),e}}async function y(e,t){try{const n=`${c}${e}_${t}`,a=await u();return new Promise((r,i)=>{const s=a.transaction([o],"readonly").objectStore(o).get(n);s.onsuccess=()=>{const n=s.result;n&&n.data?(console.log(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëSaveData Â∑≤Âä†ËΩΩ (${e}/${t})`),r(n.data)):(console.warn(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëSaveData ‰∏çÂ≠òÂú® (${e}/${t})`),r(null))},s.onerror=()=>{console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂä†ËΩΩ SaveData Â§±Ë¥•:",s.error),i(s.error)}})}catch(e){return console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂä†ËΩΩ SaveData Êó∂Âá∫Èîô:",e),null}}async function x(e,t){try{const n=`${c}${e}_${t}`,a=await u();return new Promise((r,i)=>{const s=a.transaction([o],"readwrite").objectStore(o).delete(n);s.onsuccess=()=>{console.log(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëSaveData Â∑≤Âà†Èô§ (${e}/${t})`),r()},s.onerror=()=>{console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂà†Èô§ SaveData Â§±Ë¥•:",s.error),i(s.error)}})}catch(e){throw console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂà†Èô§ SaveData Êó∂Âá∫Èîô:",e),e}}async function k(e){try{const t=await u(),n=`${c}${e}_`;return console.log(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÂºÄÂßãÊ∏ÖÁêÜËßíËâ≤ ${e} ÁöÑÊâÄÊúâÂ≠òÊ°£...`),new Promise((e,a)=>{const r=t.transaction([o],"readwrite").objectStore(o),i=r.getAllKeys();i.onsuccess=()=>{const t=i.result.filter(e=>"string"==typeof e&&e.startsWith(n));if(console.log(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊâæÂà∞ ${t.length} ‰∏™Â≠òÊ°£ËÆ∞ÂΩïÂæÖÂà†Èô§:`,t),0===t.length)return console.log("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊ≤°ÊúâÊâæÂà∞ÈúÄË¶ÅÂà†Èô§ÁöÑÂ≠òÊ°£"),void e(0);let a=0,o=0;t.forEach(n=>{const i=r.delete(n);i.onsuccess=()=>{a++,console.log(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‚úÖ Â∑≤Âà†Èô§: ${n}`),a+o===t.length&&(console.log(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊâπÈáèÂà†Èô§ÂÆåÊàêÔºåÊàêÂäü ${a} ‰∏™ÔºåÂ§±Ë¥• ${o} ‰∏™`),e(a))},i.onerror=()=>{o++,console.error(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‚ùå Âà†Èô§Â§±Ë¥•: ${n}`,i.error),a+o===t.length&&(console.log(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊâπÈáèÂà†Èô§ÂÆåÊàêÔºåÊàêÂäü ${a} ‰∏™ÔºåÂ§±Ë¥• ${o} ‰∏™`),e(a))}})},i.onerror=()=>{console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëËé∑ÂèñÊâÄÊúâÈîÆÂ§±Ë¥•:",i.error),a(i.error)}})}catch(e){throw console.error("„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„ÄëÊâπÈáèÂà†Èô§Â≠òÊ°£Êï∞ÊçÆÊó∂Âá∫Èîô:",e),e}}async function w(){const e=(await u()).transaction([o],"readwrite").objectStore(o);return new Promise((t,n)=>{let a=0;const r=e.openCursor();r.onsuccess=()=>{const e=r.result;e?(String(e.key).startsWith(c)&&(e.delete(),a++),e.continue()):t(a)},r.onerror=()=>n(r.error)})}async function E(e){try{const t=await u();return new Promise((n,a)=>{const r=t.transaction([o],"readonly").objectStore(o).get(e);r.onsuccess=()=>{const e=r.result;e&&e.data?n(e.data):n(null)},r.onerror=()=>{a(r.error)}})}catch(t){return console.error(`„Äê‰πæÂù§ÂÆùÂ∫ì-IDB„Äë‰ªé IndexedDB Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥• (key: ${e}):`,t),null}}},5184:(e,t,n)=>{"use strict";n.d(t,{vectorMemoryService:()=>v});var a=n(602),r=n(8651),o=n(1083);function i(e){return(e||"").toString().trim().replace(/\/v1\/?$/,"").replace(/\/+$/,"")}function s(e){const t=Math.sqrt(e.reduce((e,t)=>e+t*t,0));return t?e.map(e=>e/t):e}async function l(e,t){const n=e.provider,a=i(e.url),r=(e.apiKey||"").trim(),s=(e.model||"").trim();if(!a)throw new Error("Embedding API Âú∞ÂùÄÊú™ÈÖçÁΩÆ");if(!r)throw new Error("Embedding API Key Êú™ÈÖçÁΩÆ");if(!s)throw new Error("Embedding Ê®°ÂûãÊú™ÈÖçÁΩÆ");if("openai"===n||"deepseek"===n||"custom"===n){const e=await o.A.post(`${a}/v1/embeddings`,{model:s,input:t,encoding_format:"float"},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}),n=e.data?.data;if(!Array.isArray(n)||n.length!==t.length)throw new Error("Embedding ÂìçÂ∫îÊ†ºÂºèÂºÇÂ∏∏");return n.map(e=>{const t=e?.embedding;if(!Array.isArray(t))throw new Error("Embedding ÂìçÂ∫îÁº∫Â∞ë embedding");return t})}throw new Error(`ÂΩìÂâç provider ‰∏çÊîØÊåÅ EmbeddingÔºö${n}`)}const c={enabled:!1,maxRetrieveCount:10,minSimilarity:.3,tagWeight:.4,vectorWeight:.6},d=new Set(["Á≠âÁ∫ß","Èò∂‰Ωç","ÊùÉÈôê","ËÆ§ËØÅ","ÂçáÊ†º","ÊôãÂçá","ÈÄöË°åËØÅ","‰πâ‰Ωì","ÊîπÈÄ†","Ê§çÂÖ•","ËäØÁâá","Ê®°Âùó","Ê†°ÂáÜ","ÂçáÁ∫ß","ËÆ≠ÁªÉ","ÂçèËÆÆ","ÁΩëÁªú","Áü©Èòµ","Êï∞ÊçÆ","ËäÇÁÇπ","Á´ØÂè£","Êé•Âè£","ÂÖ•‰æµ","ÈªëÂÆ¢","ÊºèÊ¥û","Èò≤ÁÅ´Â¢ô","‰ø°Áî®ÁÇπ","ËµÑÊ∫ê","ÁîµÈáè","Â∏¶ÂÆΩ","ËÄóÊùê","Ë°•Áªô","Êû™Êàò","‰∫§ÁÅ´","Á™ÅË¢≠","ËøΩÂáª","ÁàÜÁÇ∏","ÁÅ´Âäõ","Êä§Áõæ","Êó†‰∫∫Êú∫","ÂÖ¨Âè∏","Ë¥¢Âõ¢","ÂÆâ‰øù","Â∏ÆÊ¥æ","‰∏≠Èó¥‰∫∫","ËÅîÁ≥ª‰∫∫","Èõá‰∏ª","ÂÆ¢Êà∑","Ë°óÂå∫","ÈªëÂ∏Ç","‰ªìÂ∫ì","È´òÂå∫","Â∫ïÂ±Ç","Â∑¢Âå∫","Á¶ÅÂå∫","‰∫ã‰ª∂","‰∫ãÊïÖ","Â∞ÅÈîÅ","ÂÅúÁîµ","Ê≥ÑÈú≤","ÈÄöÁºâ","‰ªªÂä°","ÂßîÊâò"]),u=new Set(["ÁöÑ","‰∫Ü","ÊòØ","Âú®","Êúâ","Âíå","‰∏é","Êàñ","‰πü","ÈÉΩ","Â∞±","ÁùÄ","Ë¢´","ËÆ©","Êää","Áªô","‰ªé","Âà∞","Âêë","ÂæÄ","ÂØπ","‰∫é","‰∏∫","ËÄå","‰ΩÜ","Âç¥","Âõ†","ÊâÄ","Ëøô","ÈÇ£","ÂÆÉ","‰ªñ","Â•π","Êàë","‰Ω†","‰ª¨","Ëá™","ÂÖ∂","Ê≠§","ÂΩº","‰∏Ä","‰∏™","‰∫õ","Âæà","Êõ¥","ÊúÄ","Èùû","‰∏ç","Êó†","Ê≤°","Êú™"]);function m(e){const t=[];for(const n of d)e.includes(n)&&t.push(n);const n=/[\u4e00-\u9fa5]{2,4}/g;let a;for(;null!==(a=n.exec(e));){const e=a[0];u.has(e)||d.has(e)||t.push(e)}return[...new Set(t)]}function p(e){const t=[],n=m(e);for(const e of n)d.has(e)&&t.push(e);const a=/[\u4e00-\u9fa5]{2,3}/g;let r;for(;null!==(r=a.exec(e));){const e=r[0];u.has(e)||d.has(e)||t.length<15&&t.push(e)}return[...new Set(t)].slice(0,20)}function g(e,t){const n=n=>n.some(n=>e.includes(n)||t.includes(n));return n(["Êû™Êàò","‰∫§ÁÅ´","Á™ÅË¢≠","ËøΩÂáª","ÁàÜÁÇ∏","ÊàòÊñó","ÂÜ≤Á™Å"])?"combat":n(["ËÅîÁ≥ª‰∫∫","‰∏≠Èó¥‰∫∫","Èõá‰∏ª","ÂÆ¢Êà∑","Ë∞àÂà§","ÂÖ≥Á≥ª","Â•ΩÊÑü"])?"social":n(["ÊîπÈÄ†","ÂçáÁ∫ß","ËÆ≠ÁªÉ","Ê†°ÂáÜ","Ê§çÂÖ•","ÊäÄËÉΩ","ÊùÉÈôê"])?"cultivation":n(["ÊΩúÂÖ•","Ê∏óÈÄè","‰æ¶Êü•","Êé¢Á¥¢","ÊêúÊü•","ÊΩúË°å"])?"exploration":n(["‰∫ã‰ª∂","‰∫ãÊïÖ","Â∞ÅÈîÅ","ÂÅúÁîµ","Ê≥ÑÈú≤","ÈÄöÁºâ","‰ªªÂä°","ÂßîÊâò"])?"event":"other"}class h{vocabulary;wordToIndex;constructor(){this.vocabulary=Array.from(d),this.wordToIndex=new Map,this.vocabulary.forEach((e,t)=>{this.wordToIndex.set(e,t)})}vectorize(e){const t=m(e),n=new Array(this.vocabulary.length).fill(0),a=new Map;for(const e of t)a.set(e,(a.get(e)||0)+1);for(const[e,t]of a){const a=this.wordToIndex.get(e);void 0!==a&&(n[a]=t)}const r=Math.sqrt(n.reduce((e,t)=>e+t*t,0));if(r>0)for(let e=0;e<n.length;e++)n[e]/=r;return n}cosineSimilarity(e,t){if(e.length!==t.length)return 0;let n=0;for(let a=0;a<e.length;a++)n+=e[a]*t[a];return n}}function f(e){return`mem_${function(e){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return(t>>>0).toString(16).padStart(8,"0")}((e||"").trim().replace(/\s+/g," "))}`}const v=new class{db=null;vectorizer;config;saveSlot="";constructor(){this.vectorizer=new h,this.config={...c},this.loadConfig()}async init(e){this.saveSlot=e;const t=`vector-memory-${e}`;this.db=await(0,a.P2)(t,1,{upgrade(e){if(!e.objectStoreNames.contains("memories")){const t=e.createObjectStore("memories",{keyPath:"id"});t.createIndex("tags","tags",{multiEntry:!0}),t.createIndex("category","category"),t.createIndex("timestamp","timestamp")}}}),console.log(`[ÂêëÈáèËÆ∞ÂøÜ] ÂàùÂßãÂåñÂÆåÊàê: ${t}`)}loadConfig(){try{const e=localStorage.getItem("vectorMemoryConfig");e&&(this.config={...c,...JSON.parse(e)})}catch(e){console.warn("[ÂêëÈáèËÆ∞ÂøÜ] Âä†ËΩΩÈÖçÁΩÆÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆ")}}saveConfig(e){this.config={...this.config,...e},localStorage.setItem("vectorMemoryConfig",JSON.stringify(this.config))}getConfig(){return{...this.config}}isEnabled(){return this.config.enabled}canAutoIndex(){return!!this.db&&(this.config.enabled||!!this.getEmbeddingRequestConfig())}getEmbeddingRequestConfig(){try{const{useAPIManagementStore:e}=n(100),t=e().getAPIForType("embedding");if(!t||!1===t.enabled)return null;if((0,r.isTavernEnv)()&&"default"===t.id)return null;const a=i(t.url),o=(t.apiKey||"").trim(),s=(t.model||"").trim();return a&&o&&s?{provider:t.provider,url:a,apiKey:o,model:s}:null}catch{return null}}getEmbeddingStatus(){const e=this.getEmbeddingRequestConfig();return e?{available:!0,provider:e.provider,model:e.model}:(0,r.isTavernEnv)()?{available:!1,reason:"ÈÖíÈ¶ÜÁéØÂ¢É‰∏ãÈúÄ‰∏∫ Embedding ÂàÜÈÖçÁã¨Á´ãAPIÔºàÈùûÈªòËÆ§ÔºâÂπ∂Â°´ÂÜô Key/Ê®°Âûã"}:{available:!1,reason:"ËØ∑Âú® APIÁÆ°ÁêÜ ‰∏≠‰∏∫ Embedding ÈÖçÁΩÆ API Âú∞ÂùÄ/Key/Ê®°Âûã"}}async embedText(e){const t=this.getEmbeddingRequestConfig();if(!t)return null;try{const[n]=await l(t,[e]);return{vector:s(n),model:t.model}}catch(e){return console.warn("[ÂêëÈáèËÆ∞ÂøÜ] Embedding ÁîüÊàêÂ§±Ë¥•ÔºåÂõûÈÄÄÂà∞Êú¨Âú∞ÂêëÈáè:",e),null}}async embedBatch(e){const t=this.getEmbeddingRequestConfig();if(!t)return null;try{return{vectors:(await l(t,e)).map(e=>s(e)),model:t.model}}catch(e){return console.warn("[ÂêëÈáèËÆ∞ÂøÜ] Embedding ÊâπÈáèÁîüÊàêÂ§±Ë¥•ÔºåÂõûÈÄÄÂà∞Êú¨Âú∞ÂêëÈáè:",e),null}}async addMemory(e,t=5){if(!this.db)return console.warn("[ÂêëÈáèËÆ∞ÂøÜ] Êï∞ÊçÆÂ∫ìÊú™ÂàùÂßãÂåñ"),null;const n=(e||"").trim();if(!n)return null;const a=p(e),r=g(e,a),o=await this.embedText(n),i=o?o.vector:this.vectorizer.vectorize(n),s={id:f(n),content:n,tags:a,vector:i,vectorType:o?"embedding":"tfidf",embeddingModel:o?.model,timestamp:Date.now(),importance:t,category:r,metadata:{npcs:a.filter(e=>!d.has(e)).slice(0,5)}};return await this.db.put("memories",s),console.log(`[ÂêëÈáèËÆ∞ÂøÜ] Ê∑ªÂä†ËÆ∞ÂøÜ: ${e.substring(0,50)}... Ê†áÁ≠æ: ${a.join(", ")}`),s}async rebuildFromLongTermMemories(e,t){if(!this.db)throw new Error("ÂêëÈáèÂ∫ìÊú™ÂàùÂßãÂåñ");const n=(e||[]).map(e=>(e||"").trim()).filter(Boolean),a=n.length,r=t?.importance??7,o=Math.max(1,Math.min(64,t?.batchSize??24));await this.clear();let i,s=0,l="tfidf";for(let e=0;e<n.length;e+=o){const c=n.slice(e,e+o),u=await this.embedBatch(c);if(u&&u.vectors.length===c.length){l="embedding",i=u.model;for(let e=0;e<c.length;e++){const t=c[e],n=p(t),a=g(t,n),o={id:f(t),content:t,tags:n,vector:u.vectors[e],vectorType:"embedding",embeddingModel:u.model,timestamp:Date.now(),importance:r,category:a,metadata:{npcs:n.filter(e=>!d.has(e)).slice(0,5)}};await this.db.put("memories",o),s++}}else for(const e of c){const t=p(e),n=g(e,t),a={id:f(e),content:e,tags:t,vector:this.vectorizer.vectorize(e),vectorType:"tfidf",timestamp:Date.now(),importance:r,category:n,metadata:{npcs:t.filter(e=>!d.has(e)).slice(0,5)}};await this.db.put("memories",a),s++}t?.onProgress?.(Math.min(e+c.length,a),a)}return console.log(`[ÂêëÈáèËÆ∞ÂøÜ] ÈáçÂª∫ÂÆåÊàêÔºö${s}/${a} Êù°ÔºåÊ®°Âºè=${l}${i?`(${i})`:""}`),{imported:s,vectorType:l,embeddingModel:i}}async importLongTermMemories(e){let t=0;for(const n of e)n&&n.trim()&&(await this.addMemory(n,7),t++);return console.log(`[ÂêëÈáèËÆ∞ÂøÜ] ÂØºÂÖ• ${t} Êù°ÈïøÊúüËÆ∞ÂøÜ`),t}async searchMemories(e,t){if(!this.db||!this.config.enabled)return[];const n=p(e);t?.involvedNpcs&&n.push(...t.involvedNpcs),t?.currentLocation&&n.push(t.currentLocation);const a=await this.db.getAll("memories"),r=[],o=[e,t?.currentLocation?`Âú∞ÁÇπ: ${t.currentLocation}`:"",...(t?.recentEvents||[]).slice(0,3).map(e=>`‰∫ã‰ª∂: ${e}`)].filter(Boolean).join("\n"),i=await this.embedText(o),s=i?.model,l=i?.vector,c=l&&a.some(e=>"embedding"===(e.vectorType||"tfidf")&&(!s||e.embeddingModel===s)&&Array.isArray(e.vector)&&e.vector.length===l.length)?"embedding":"tfidf",d="embedding"===c&&l?l:this.vectorizer.vectorize(e),u=[];for(const e of a){const t=e.vectorType||"tfidf";if(t!==c)continue;if("embedding"===t){if(s&&e.embeddingModel&&e.embeddingModel!==s)continue;if(e.vector.length!==d.length)continue}const a=e.tags.filter(e=>n.includes(e)),r=a.length/Math.max(n.length,1),o="tfidf"===t?this.vectorizer.cosineSimilarity(d,e.vector):(()=>{let t=0;for(let n=0;n<d.length;n++)t+=d[n]*e.vector[n];return t})(),i=r*this.config.tagWeight+o*this.config.vectorWeight;u.push({entry:e,score:i,matchedTags:a})}u.sort((e,t)=>t.score-e.score);const m=u.filter(e=>e.score>=this.config.minSimilarity),g=(m.length>0?m:u).slice(0,this.config.maxRetrieveCount);return r.push(...g),r}async getAllMemories(){return this.db?await this.db.getAll("memories"):[]}async getStats(){if(!this.db)return{total:0,byCategory:{},topTags:[],byVectorType:{},byEmbeddingModel:{}};const e=await this.db.getAll("memories"),t={},n={},a={},r={};for(const o of e){t[o.category]=(t[o.category]||0)+1;const e=o.vectorType||"tfidf";a[e]=(a[e]||0)+1,"embedding"===e&&o.embeddingModel&&(r[o.embeddingModel]=(r[o.embeddingModel]||0)+1);for(const e of o.tags)n[e]=(n[e]||0)+1}const o=Object.entries(n).map(([e,t])=>({tag:e,count:t})).sort((e,t)=>t.count-e.count).slice(0,20);return{total:e.length,byCategory:t,topTags:o,byVectorType:a,byEmbeddingModel:r}}async clear(){this.db&&(await this.db.clear("memories"),console.log("[ÂêëÈáèËÆ∞ÂøÜ] Â∑≤Ê∏ÖÁ©∫ÂêëÈáèÂ∫ì"))}formatForAI(e){if(0===e.length)return"";const t=["„ÄêÁõ∏ÂÖ≥ÈïøÊúüËÆ∞ÂøÜ„Äë"];for(const{entry:n,matchedTags:a}of e){const e=a.length>0?`[${a.join(",")}]`:"";t.push(`- ${e} ${n.content}`)}return t.join("\n")}}},5192:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.modal-overlay[data-v-210f912a] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n}\n.modal-container[data-v-210f912a] {\n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.06), rgba(15, 23, 42, 0.02)) , var(--color-surface);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 16px 40px rgba(0,0,0,0.35);\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.modal-container.modal-wide[data-v-210f912a] {\n  width: min(96vw, 960px);\n  max-width: 960px;\n  max-height: 88svh;\n}\n.modal-header[data-v-210f912a] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n  background: linear-gradient(135deg, rgba(37, 99, 235, 0.08), rgba(59, 130, 246, 0.02));\n}\n.modal-title[data-v-210f912a] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.modal-close-button[data-v-210f912a] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 12px;\n  background: rgba(15, 23, 42, 0.06);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n.modal-close-button[data-v-210f912a]:hover {\n  color: var(--color-text);\n  border-color: var(--color-primary);\n  background: var(--color-surface-hover);\n}\n.modal-content[data-v-210f912a] {\n  padding: 1.5rem;\n  overflow-y: auto;\n  line-height: 1.6;\n  color: var(--color-text);\n  white-space: pre-wrap; /* Allows line breaks in the content */\n}\n.modal-fade-enter-active[data-v-210f912a],\n.modal-fade-leave-active[data-v-210f912a] {\n  transition: opacity 0.3s ease;\n}\n.modal-fade-enter-from[data-v-210f912a],\n.modal-fade-leave-to[data-v-210f912a] {\n  opacity: 0;\n}\n",""]);const s=i},5218:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.retry-dialog-overlay[data-v-67dbe82b] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 99999;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n.retry-dialog[data-v-67dbe82b] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 480px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n  animation: dialog-appear-67dbe82b 0.3s ease-out;\n  overflow: hidden;\n  /* Á°Æ‰øùËÉåÊôØÂÆåÂÖ®Ë¥¥Âêà */\n  display: flex;\n  flex-direction: column;\n}\n@keyframes dialog-appear-67dbe82b {\nfrom {\n    opacity: 0;\n    transform: scale(0.9) translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n}\n}\n.dialog-header[data-v-67dbe82b] {\n  padding: 24px 24px 16px;\n  text-align: center;\n  background: var(--color-surface);\n  /* ÂéªÈô§ÂèØËÉΩÁöÑÈó¥Èöô */\n  margin: 0;\n  flex-shrink: 0;\n}\n.dialog-header h3[data-v-67dbe82b] {\n  margin: 0;\n  padding: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--color-text);\n  line-height: 1.4;\n}\n.dialog-content[data-v-67dbe82b] {\n  padding: 20px 24px;\n  text-align: center;\n  background: var(--color-surface);\n  /* Á°Æ‰øùÂÜÖÂÆπÂå∫ÂüüÂèØÊªöÂä®‰ΩÜ‰∏çË∂ÖÂá∫ */\n  max-height: 50vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n  /* ÂéªÈô§ÂèØËÉΩÁöÑÈó¥Èöô */\n  margin: 0;\n  flex: 1;\n}\n\n/* ÊªöÂä®Êù°Ê†∑Âºè‰ºòÂåñ */\n.dialog-content[data-v-67dbe82b]::-webkit-scrollbar {\n  width: 6px;\n}\n.dialog-content[data-v-67dbe82b]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.dialog-content[data-v-67dbe82b]::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n}\n.dialog-content[data-v-67dbe82b]::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.4);\n}\n.error-icon[data-v-67dbe82b] {\n  color: var(--color-warning);\n  margin: 0 0 16px 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.message[data-v-67dbe82b] {\n  color: var(--color-text);\n  line-height: 1.6;\n  margin: 0;\n  padding: 0;\n  white-space: pre-line;\n  text-align: left;\n  word-break: break-word;\n}\n.dialog-actions[data-v-67dbe82b] {\n  display: flex;\n  gap: 12px;\n  padding: 16px 24px 24px;\n  background: var(--color-surface);\n  /* ÂéªÈô§ÂèØËÉΩÁöÑÈó¥Èöô */\n  margin: 0;\n  flex-shrink: 0;\n}\n.btn-primary[data-v-67dbe82b],\n.btn-secondary[data-v-67dbe82b] {\n  flex: 1;\n  padding: 12px 20px;\n  margin: 0;\n  border-radius: 8px;\n  border: 1px solid;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n  line-height: 1.5;\n}\n.btn-primary[data-v-67dbe82b] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n.btn-primary[data-v-67dbe82b]:hover {\n  background: var(--color-primary-hover);\n  border-color: var(--color-primary-hover);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n.btn-secondary[data-v-67dbe82b] {\n  background: transparent;\n  border-color: var(--color-border);\n  color: var(--color-text-secondary);\n}\n.btn-secondary[data-v-67dbe82b]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-text-secondary);\n  color: var(--color-text);\n  transform: translateY(-1px);\n}\n.btn-primary[data-v-67dbe82b]:active,\n.btn-secondary[data-v-67dbe82b]:active {\n  transform: translateY(0) scale(0.98);\n}\n@media (max-width: 480px) {\n.retry-dialog-overlay[data-v-67dbe82b] {\n    padding: 16px;\n}\n.retry-dialog[data-v-67dbe82b] {\n    max-width: none;\n    border-radius: 12px;\n}\n.dialog-header[data-v-67dbe82b] {\n    padding: 20px 20px 12px;\n}\n.dialog-header h3[data-v-67dbe82b] {\n    font-size: 1.1rem;\n}\n.dialog-content[data-v-67dbe82b] {\n    padding: 16px 20px;\n    max-height: 60vh;\n}\n.dialog-actions[data-v-67dbe82b] {\n    flex-direction: column-reverse;\n    gap: 10px;\n    padding: 12px 20px 20px;\n}\n.btn-primary[data-v-67dbe82b],\n  .btn-secondary[data-v-67dbe82b] {\n    flex: none;\n    width: 100%;\n}\n}\n",""]);const s=i},5224:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg width=%2760%27 height=%2760%27 viewBox=%270 0 60 60%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cg fill=%27none%27 fill-rule=%27evenodd%27%3E%3Cg fill=%27%23ffffff%27 fill-opacity=%270.08%27%3E%3Cpath d=%27M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%27/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"},5269:(e,t,n)=>{"use strict";function a(e){if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e){const t=e.trim();if(!t)return null;const n=Number(t);return Number.isFinite(n)?n:null}return null}function r(e){if(Array.isArray(e))return e.map(e=>"string"==typeof e?e.trim():"").filter(Boolean);if("string"==typeof e){const t=e.trim();return t?t.split(/[„ÄÅ,Ôºå;Ôºõ\n]/).map(e=>e.trim()).filter(Boolean):[]}return null}function o(e){const{action:t,key:n,value:o}=e,l=[];try{if("ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç"===n&&"set"===t){const e=i(o);l.push(...e.errors)}if("ËßíËâ≤.‰ΩçÁΩÆ"===n&&"set"===t){const e=function(e){const t=[];return"object"!=typeof e||null===e?(t.push("‰ΩçÁΩÆÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"),{valid:!1,errors:t}):(e.ÊèèËø∞||t.push('‰ΩçÁΩÆÁº∫Â∞ë"ÊèèËø∞"Â≠óÊÆµ'),void 0!==e.x&&"number"!=typeof e.x&&t.push("‰ΩçÁΩÆ.xÁ±ªÂûãÈîôËØØÔºåÂ∫î‰∏∫Êï∞Â≠ó"),void 0!==e.y&&"number"!=typeof e.y&&t.push("‰ΩçÁΩÆ.yÁ±ªÂûãÈîôËØØÔºåÂ∫î‰∏∫Êï∞Â≠ó"),void 0!==e.Âú∞ÂõæID&&"string"!=typeof e.Âú∞ÂõæID&&t.push("‰ΩçÁΩÆ.Âú∞ÂõæIDÁ±ªÂûãÈîôËØØÔºåÂ∫î‰∏∫Â≠óÁ¨¶‰∏≤"),{valid:0===t.length,errors:t})}(o);l.push(...e.errors)}if("ËßíËâ≤.ÊïàÊûú"===n&&"push"===t){const e=function(e){const t=[];return"object"!=typeof e||null===e?(t.push("Áä∂ÊÄÅÊïàÊûúÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"),{valid:!1,errors:t}):(e.Áä∂ÊÄÅÂêçÁß∞||t.push('Áä∂ÊÄÅÊïàÊûúÁº∫Â∞ë"Áä∂ÊÄÅÂêçÁß∞"Â≠óÊÆµ'),e.Á±ªÂûã&&["buff","debuff"].includes(e.Á±ªÂûã)||t.push('Áä∂ÊÄÅÊïàÊûúÁº∫Â∞ë"Á±ªÂûã"Â≠óÊÆµÊàñÂÄºÊó†Êïà'),void 0===e.Áä∂ÊÄÅÊèèËø∞&&t.push('Áä∂ÊÄÅÊïàÊûúÁº∫Â∞ë"Áä∂ÊÄÅÊèèËø∞"Â≠óÊÆµ'),"number"!=typeof e.ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü&&t.push('Áä∂ÊÄÅÊïàÊûúÁº∫Â∞ë"ÊåÅÁª≠Êó∂Èó¥ÂàÜÈíü"Â≠óÊÆµÊàñÁ±ªÂûãÈîôËØØ'),e.ÁîüÊàêÊó∂Èó¥&&"object"==typeof e.ÁîüÊàêÊó∂Èó¥||t.push('Áä∂ÊÄÅÊïàÊûúÁº∫Â∞ë"ÁîüÊàêÊó∂Èó¥"ÂØπË±°Â≠óÊÆµ'),{valid:0===t.length,errors:t})}(o);l.push(...e.errors)}if("ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ"===n&&"push"===t){const e=s(o);l.push(...e.errors)}if(n.startsWith("ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.")&&"set"===t&&3===(n.match(/\./g)||[]).length){const e=s(o);l.push(...e.errors)}if(n.startsWith("Á§æ‰∫§.ÂÖ≥Á≥ª.")&&2===(n.match(/\./g)||[]).length&&"set"===t&&o&&"object"==typeof o&&o.ÂêçÂ≠ó&&o.ÊÄßÂà´&&o.Âá∫ÁîüÊó•Êúü&&(o.Â§ñË≤åÊèèËø∞||o.ÊÄßÊ†ºÁâπÂæÅ||o.Èò∂‰Ωç)){const e=function(e){const t=[];if("object"!=typeof e||null===e)return t.push("NPCÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"),{valid:!1,errors:t};if(e.ÂêçÂ≠ó||t.push('NPCÁº∫Â∞ë"ÂêçÂ≠ó"Â≠óÊÆµ'),e.ÊÄßÂà´||t.push('NPCÁº∫Â∞ë"ÊÄßÂà´"Â≠óÊÆµ'),e.Âá∫ÁîüÊó•Êúü||t.push('NPCÁº∫Â∞ë"Âá∫ÁîüÊó•Êúü"Â≠óÊÆµ'),e.Èò∂‰Ωç){const n=i(e.Èò∂‰Ωç);t.push(...n.errors)}else t.push('NPCÁº∫Â∞ë"Èò∂‰Ωç"Â≠óÊÆµ');if(e.Âá∫Áîü||t.push('NPCÁº∫Â∞ë"Âá∫Áîü"Â≠óÊÆµ'),void 0!==e.ÊÄßÊ†ºÁâπÂæÅ){const t=r(e.ÊÄßÊ†ºÁâπÂæÅ);t&&(e.ÊÄßÊ†ºÁâπÂæÅ=t)}if(e.ÊÄßÊ†ºÁâπÂæÅ||t.push('NPCÁº∫Â∞ë"ÊÄßÊ†ºÁâπÂæÅ"Â≠óÊÆµ'),e.Â§ñË≤åÊèèËø∞||t.push('NPCÁº∫Â∞ë"Â§ñË≤åÊèèËø∞"Â≠óÊÆµ'),e.‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª||t.push('NPCÁº∫Â∞ë"‰∏éÁé©ÂÆ∂ÂÖ≥Á≥ª"Â≠óÊÆµ'),void 0!==e.Â•ΩÊÑüÂ∫¶){const t=a(e.Â•ΩÊÑüÂ∫¶);null!==t&&(e.Â•ΩÊÑüÂ∫¶=t)}if("number"!=typeof e.Â•ΩÊÑüÂ∫¶&&t.push('NPCÁº∫Â∞ë"Â•ΩÊÑüÂ∫¶"Â≠óÊÆµÊàñÁ±ªÂûãÈîôËØØ'),void 0===e.Ê®°Âùó||Array.isArray(e.Ê®°Âùó)||t.push("NPCÊ®°ÂùóÂøÖÈ°ªÊòØÊï∞ÁªÑÁ±ªÂûã"),e.ÁßÅÂØÜ‰ø°ÊÅØ&&"object"==typeof e.ÁßÅÂØÜ‰ø°ÊÅØ&&void 0!==e.ÁßÅÂØÜ‰ø°ÊÅØ.Ë∫´‰ΩìÈÉ®‰Ωç){const n=e.ÁßÅÂØÜ‰ø°ÊÅØ.Ë∫´‰ΩìÈÉ®‰Ωç;Array.isArray(n)||n&&"object"==typeof n||t.push("NPCÁßÅÂØÜ‰ø°ÊÅØ.Ë∫´‰ΩìÈÉ®‰ΩçÂøÖÈ°ªÊòØÊï∞ÁªÑÊàñÂØπË±°Á±ªÂûã")}if(void 0!==e.ËÆ∞ÂøÜ&&!Array.isArray(e.ËÆ∞ÂøÜ)){const t=r(e.ËÆ∞ÂøÜ);t&&(e.ËÆ∞ÂøÜ=t)}return{valid:0===t.length,errors:t}}(o);l.push(...e.errors)}if(n.includes("Á§æ‰∫§.ÂÖ≥Á≥ª.")&&n.endsWith(".Èò∂‰Ωç")&&"set"===t){const e=i(o);l.push(...e.errors)}if(n.startsWith("ËßíËâ≤.ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.")&&"set"===t&&3===(n.match(/\./g)||[]).length){const e=function(e,t){const n=[];if("object"!=typeof e||null===e)return n.push("ÊµÅÊ¥æÂØπË±°ÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"),{valid:!1,errors:n};if(!e.ÊµÅÊ¥æÂêç){const a=t||e.name||e.ÂêçÁß∞;a?e.ÊµÅÊ¥æÂêç=a:n.push('ÊµÅÊ¥æÂØπË±°Áº∫Â∞ë"ÊµÅÊ¥æÂêç"Â≠óÊÆµ')}return void 0===e.ÊèèËø∞&&(e.ÊèèËø∞=e.description||"Á≥ªÁªüÊµÅÊ¥æ"),Array.isArray(e.Èò∂ÊÆµÂàóË°®)||(e.Èò∂ÊÆµÂàóË°®=[{Èò∂ÊÆµÂêç:"ÂÖ•Èó®",ÈúÄÊ±ÇÁªèÈ™å:100},{Èò∂ÊÆµÂêç:"Â∞èÊàê",ÈúÄÊ±ÇÁªèÈ™å:500},{Èò∂ÊÆµÂêç:"Â§ßÊàê",ÈúÄÊ±ÇÁªèÈ™å:2e3},{Èò∂ÊÆµÂêç:"ÂúÜÊª°",ÈúÄÊ±ÇÁªèÈ™å:1e4}]),"boolean"!=typeof e.ÊòØÂê¶Ëß£ÈîÅ&&(e.ÊòØÂê¶Ëß£ÈîÅ=!0),"number"!=typeof e.ÂΩìÂâçÈò∂ÊÆµ&&(e.ÂΩìÂâçÈò∂ÊÆµ=0),"number"!=typeof e.ÂΩìÂâçÁªèÈ™å&&(e.ÂΩìÂâçÁªèÈ™å=0),"number"!=typeof e.ÊÄªÁªèÈ™å&&(e.ÊÄªÁªèÈ™å=0),{valid:0===n.length,errors:n}}(o,n.split(".")[3]);l.push(...e.errors)}if("Á§æ‰∫§.‰ªªÂä°.ÂΩìÂâç‰ªªÂä°ÂàóË°®"===n&&"push"===t){const e=function(e){const t=[];return"object"!=typeof e||null===e?(t.push("‰ªªÂä°ÂØπË±°ÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"),{valid:!1,errors:t}):(e.‰ªªÂä°ID||t.push('‰ªªÂä°Áº∫Â∞ë"‰ªªÂä°ID"Â≠óÊÆµ'),e.‰ªªÂä°ÂêçÁß∞||t.push('‰ªªÂä°Áº∫Â∞ë"‰ªªÂä°ÂêçÁß∞"Â≠óÊÆµ'),void 0===e.‰ªªÂä°ÊèèËø∞&&t.push('‰ªªÂä°Áº∫Â∞ë"‰ªªÂä°ÊèèËø∞"Â≠óÊÆµ'),e.‰ªªÂä°Áä∂ÊÄÅ||t.push('‰ªªÂä°Áº∫Â∞ë"‰ªªÂä°Áä∂ÊÄÅ"Â≠óÊÆµ'),e.‰ªªÂä°Á±ªÂûã||t.push('‰ªªÂä°Áº∫Â∞ë"‰ªªÂä°Á±ªÂûã"Â≠óÊÆµ'),{valid:0===t.length,errors:t})}(o);l.push(...e.errors)}return{valid:0===l.length,errors:l}}catch(e){return console.error("[Êåá‰ª§ÂÄºÈ™åËØÅ] È™åËØÅËøáÁ®ãÂèëÁîüÂºÇÂ∏∏:",e),{valid:!1,errors:[`È™åËØÅËøáÁ®ãÂºÇÂ∏∏: ${e instanceof Error?e.message:String(e)}`]}}}function i(e,t){const n=[];if("object"!=typeof e||null===e)return n.push("Á≠âÁ∫ßÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"),{valid:!1,errors:n};if(e.ÂêçÁß∞||n.push('Á≠âÁ∫ßÁº∫Â∞ë"ÂêçÁß∞"Â≠óÊÆµ'),e.Èò∂ÊÆµ||n.push('Á≠âÁ∫ßÁº∫Â∞ë"Èò∂ÊÆµ"Â≠óÊÆµ'),void 0!==e.ÂΩìÂâçËøõÂ∫¶){const t=a(e.ÂΩìÂâçËøõÂ∫¶);null===t?n.push('Á≠âÁ∫ß"ÂΩìÂâçËøõÂ∫¶"Â≠óÊÆµÁ±ªÂûãÈîôËØØÔºåÂ∫î‰∏∫Êï∞Â≠ó'):e.ÂΩìÂâçËøõÂ∫¶=t}if(void 0!==e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ){const t=a(e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ);null===t?n.push('Á≠âÁ∫ß"‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ"Â≠óÊÆµÁ±ªÂûãÈîôËØØÔºåÂ∫î‰∏∫Êï∞Â≠ó'):e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ=t}return void 0!==e.ÂçáÁ∫ßÊèèËø∞&&"string"!=typeof e.ÂçáÁ∫ßÊèèËø∞&&n.push('Á≠âÁ∫ß"ÂçáÁ∫ßÊèèËø∞"Â≠óÊÆµÁ±ªÂûãÈîôËØØÔºåÂ∫î‰∏∫Â≠óÁ¨¶‰∏≤'),{valid:0===n.length,errors:n}}function s(e){const t=[];return"object"!=typeof e||null===e?(t.push("Áâ©ÂìÅÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"),{valid:!1,errors:t}):(e.Áâ©ÂìÅID||t.push('Áâ©ÂìÅÁº∫Â∞ë"Áâ©ÂìÅID"Â≠óÊÆµ'),e.ÂêçÁß∞||t.push('Áâ©ÂìÅÁº∫Â∞ë"ÂêçÁß∞"Â≠óÊÆµ'),e.Á±ªÂûã||t.push('Áâ©ÂìÅÁº∫Â∞ë"Á±ªÂûã"Â≠óÊÆµ'),e.ÂìÅË¥®?"object"==typeof e.ÂìÅË¥®?(e.ÂìÅË¥®.quality||t.push('Áâ©ÂìÅÂìÅË¥®Áº∫Â∞ë"quality"Â≠óÊÆµ'),"number"!=typeof e.ÂìÅË¥®.grade&&t.push('Áâ©ÂìÅÂìÅË¥®Áº∫Â∞ë"grade"Â≠óÊÆµÊàñÁ±ªÂûãÈîôËØØ')):t.push("Áâ©ÂìÅÂìÅË¥®ÂøÖÈ°ªÊòØÂØπË±°Á±ªÂûã"):t.push('Áâ©ÂìÅÁº∫Â∞ë"ÂìÅË¥®"Â≠óÊÆµ'),"number"!=typeof e.Êï∞Èáè&&t.push('Áâ©ÂìÅÁº∫Â∞ë"Êï∞Èáè"Â≠óÊÆµÊàñÁ±ªÂûãÈîôËØØ'),void 0===e.ÊèèËø∞&&t.push('Áâ©ÂìÅÁº∫Â∞ë"ÊèèËø∞"Â≠óÊÆµ'),"Á®ãÂ∫è"===e.Á±ªÂûã&&(Array.isArray(e.Á®ãÂ∫èÊäÄËÉΩ)?0===e.Á®ãÂ∫èÊäÄËÉΩ.length?t.push('Á®ãÂ∫èÁâ©ÂìÅÁöÑ"Á®ãÂ∫èÊäÄËÉΩ"Êï∞ÁªÑ‰∏çËÉΩ‰∏∫Á©∫ÔºåËá≥Â∞ëÈúÄË¶Å1‰∏™ÊäÄËÉΩ'):e.Á®ãÂ∫èÊäÄËÉΩ.forEach((e,n)=>{"object"!=typeof e||null===e?t.push(`Á®ãÂ∫èÊäÄËÉΩ[${n}]‰∏çÊòØÂØπË±°Á±ªÂûã`):(e.ÊäÄËÉΩÂêçÁß∞||t.push(`Á®ãÂ∫èÊäÄËÉΩ[${n}]Áº∫Â∞ë"ÊäÄËÉΩÂêçÁß∞"Â≠óÊÆµ`),void 0===e.ÊäÄËÉΩÊèèËø∞&&t.push(`Á®ãÂ∫èÊäÄËÉΩ[${n}]Áº∫Â∞ë"ÊäÄËÉΩÊèèËø∞"Â≠óÊÆµ`),"number"!=typeof e.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç&&t.push(`Á®ãÂ∫èÊäÄËÉΩ[${n}]Áº∫Â∞ë"ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç"Â≠óÊÆµÊàñÁ±ªÂûãÈîôËØØ`))}):t.push('Á®ãÂ∫èÁâ©ÂìÅÁº∫Â∞ë"Á®ãÂ∫èÊäÄËÉΩ"Êï∞ÁªÑ')),{valid:0===t.length,errors:t})}n.d(t,{validateAndRepairCommandValue:()=>o})},5303:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.event-panel[data-v-02acb0a1] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.event-toolbar[data-v-02acb0a1] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12px;\n  padding: 10px 12px;\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.title[data-v-02acb0a1] {\n  display: flex;\n  align-items: baseline;\n  gap: 8px;\n}\n.title-text[data-v-02acb0a1] {\n  font-weight: 700;\n  color: var(--color-text);\n}\n.meta[data-v-02acb0a1] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.tool-btn[data-v-02acb0a1] {\n  padding: 6px 10px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.tool-btn[data-v-02acb0a1]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n}\n\n/* ÈÖçÁΩÆÂå∫Âüü */\n.config-section[data-v-02acb0a1] {\n  padding: 12px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.config-item[data-v-02acb0a1] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12px;\n  padding: 8px 10px;\n  border-radius: 8px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n}\n.config-item-full[data-v-02acb0a1] {\n  flex-direction: column;\n  align-items: stretch;\n}\n.config-label[data-v-02acb0a1] {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  flex: 1;\n}\n.label-text[data-v-02acb0a1] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.label-hint[data-v-02acb0a1] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.config-input[data-v-02acb0a1] {\n  width: 100px;\n  padding: 6px 8px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.config-input[data-v-02acb0a1]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n}\n.config-textarea[data-v-02acb0a1] {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-size: 0.9rem;\n  font-family: inherit;\n  resize: vertical;\n  min-height: 60px;\n  margin-top: 6px;\n}\n.config-textarea[data-v-02acb0a1]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n}\n.config-textarea[data-v-02acb0a1]::placeholder {\n  color: var(--color-text-muted);\n}\n\n/* ÂºÄÂÖ≥Ê†∑Âºè */\n.toggle-switch[data-v-02acb0a1] {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 24px;\n  flex-shrink: 0;\n}\n.toggle-switch input[data-v-02acb0a1] {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n.toggle-slider[data-v-02acb0a1] {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #cbd5e1;\n  transition: 0.2s;\n  border-radius: 24px;\n}\n.toggle-slider[data-v-02acb0a1]:before {\n  position: absolute;\n  content: '';\n  height: 18px;\n  width: 18px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  transition: 0.2s;\n  border-radius: 50%;\n}\ninput:checked + .toggle-slider[data-v-02acb0a1] {\n  background-color: var(--color-primary);\n}\ninput:checked + .toggle-slider[data-v-02acb0a1]:before {\n  transform: translateX(20px);\n}\n.config-actions[data-v-02acb0a1] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n  margin-top: 4px;\n}\n.action-btn[data-v-02acb0a1] {\n  padding: 6px 12px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface);\n  color: var(--color-text);\n  cursor: pointer;\n  font-size: 0.85rem;\n  transition: all 0.2s ease;\n}\n.action-btn[data-v-02acb0a1]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n}\n.event-list[data-v-02acb0a1] {\n  flex: 1;\n  min-height: 0;\n  overflow: auto;\n  padding: 12px;\n}\n.empty-state[data-v-02acb0a1] {\n  padding: 18px;\n  border: 1px dashed var(--color-border);\n  border-radius: 12px;\n  background: var(--color-surface);\n}\n.empty-title[data-v-02acb0a1] {\n  font-weight: 600;\n  margin-bottom: 6px;\n}\n.empty-hint[data-v-02acb0a1] {\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.event-item[data-v-02acb0a1] {\n  padding: 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  background: var(--color-surface);\n  margin-bottom: 10px;\n}\n.event-header[data-v-02acb0a1] {\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  gap: 10px;\n  align-items: baseline;\n  margin-bottom: 8px;\n}\n.event-type[data-v-02acb0a1] {\n  font-size: 0.78rem;\n  color: var(--color-primary);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.35);\n  padding: 2px 8px;\n  border-radius: 999px;\n  white-space: nowrap;\n}\n.event-name[data-v-02acb0a1] {\n  font-weight: 700;\n  color: var(--color-text);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.event-time[data-v-02acb0a1] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n}\n.event-desc[data-v-02acb0a1] {\n  color: var(--color-text);\n  line-height: 1.55;\n  white-space: pre-wrap;\n}\n",""]);const s=i},5345:e=>{"use strict";e.exports=URIError},5365:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},5373:(e,t,n)=>{"use strict";var a=n(8636),r=n(2642),o=n(4765);e.exports={formats:o,parse:r,stringify:a}},5385:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.sect-members[data-v-4956a212] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n.player-info-bar[data-v-4956a212] {\n  display: flex;\n  gap: 1.5rem;\n  padding: 0.75rem 1rem;\n  background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(168, 85, 247, 0.05));\n  border-radius: 8px;\n  border: 1px solid rgba(147, 51, 234, 0.2);\n}\n.info-item[data-v-4956a212] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.info-label[data-v-4956a212] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.info-value[data-v-4956a212] {\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n.info-value.sect-name[data-v-4956a212] { color: var(--color-text);\n}\n.info-value.position[data-v-4956a212] { color: #9333ea;\n}\n.member-tabs[data-v-4956a212] {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.tab-btn[data-v-4956a212] {\n  display: flex;\n  align-items: center;\n  gap: 0.35rem;\n  padding: 0.5rem 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text-secondary);\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.tab-btn[data-v-4956a212]:hover {\n  border-color: rgba(59, 130, 246, 0.3);\n  color: var(--color-text);\n}\n.tab-btn.active[data-v-4956a212] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05));\n  border-color: rgba(59, 130, 246, 0.4);\n  color: #3b82f6;\n}\n.count-badge[data-v-4956a212] {\n  background: #3b82f6;\n  color: white;\n  font-size: 0.7rem;\n  padding: 0.1rem 0.4rem;\n  border-radius: 10px;\n  font-weight: 600;\n}\n.member-list[data-v-4956a212] {\n  flex: 1;\n  overflow-y: auto;\n}\n.empty-state[data-v-4956a212] {\n  text-align: center;\n  padding: 2rem;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-4956a212] {\n  opacity: 0.5;\n  margin-bottom: 0.5rem;\n}\n.empty-text[data-v-4956a212] {\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n}\n.empty-hint[data-v-4956a212] {\n  font-size: 0.8rem;\n  opacity: 0.7;\n  margin-bottom: 1rem;\n}\n.ask-btn[data-v-4956a212] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.6rem 1rem;\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  border: none;\n  border-radius: 6px;\n  color: white;\n  font-size: 0.85rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.ask-btn[data-v-4956a212]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n.members[data-v-4956a212] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.member-card[data-v-4956a212] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.member-card[data-v-4956a212]:hover {\n  border-color: rgba(59, 130, 246, 0.3);\n  background: var(--color-surface);\n}\n.member-card.is-self[data-v-4956a212] {\n  border-color: rgba(147, 51, 234, 0.3);\n  background: linear-gradient(135deg, rgba(147, 51, 234, 0.05), rgba(168, 85, 247, 0.02));\n}\n.member-avatar[data-v-4956a212] {\n  position: relative;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #9333ea, #7c3aed);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n.avatar-text[data-v-4956a212] {\n  color: white;\n  font-weight: 600;\n  font-size: 1rem;\n}\n.gender-badge[data-v-4956a212] {\n  position: absolute;\n  bottom: -2px;\n  right: -2px;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  font-size: 0.6rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 2px solid var(--color-background);\n}\n.gender-badge.male[data-v-4956a212] {\n  background: #3b82f6;\n  color: white;\n}\n.gender-badge.female[data-v-4956a212] {\n  background: #ec4899;\n  color: white;\n}\n.member-info[data-v-4956a212] {\n  flex: 1;\n  min-width: 0;\n}\n.member-header[data-v-4956a212] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.25rem;\n}\n.member-name[data-v-4956a212] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.member-position[data-v-4956a212] {\n  font-size: 0.7rem;\n  padding: 0.1rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n}\n.position-elder[data-v-4956a212] { background: rgba(239, 68, 68, 0.1); color: #ef4444;\n}\n.position-true[data-v-4956a212] { background: rgba(139, 92, 246, 0.1); color: #8b5cf6;\n}\n.position-inner[data-v-4956a212] { background: rgba(59, 130, 246, 0.1); color: #3b82f6;\n}\n.position-outer[data-v-4956a212] { background: rgba(107, 114, 128, 0.1); color: #6b7280;\n}\n.member-details[data-v-4956a212] {\n  display: flex;\n  gap: 0.75rem;\n}\n.detail-item[data-v-4956a212] {\n  display: flex;\n  align-items: center;\n  gap: 0.2rem;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.detail-item.realm[data-v-4956a212] { color: #8b5cf6;\n}\n.relation-best[data-v-4956a212] { color: #ec4899 !important;\n}\n.relation-good[data-v-4956a212] { color: #f59e0b !important;\n}\n.relation-friendly[data-v-4956a212] { color: #22c55e !important;\n}\n.relation-normal[data-v-4956a212] { color: var(--color-text-secondary) !important;\n}\n.relation-cold[data-v-4956a212] { color: #6b7280 !important;\n}\n.relation-hostile[data-v-4956a212] { color: #ef4444 !important;\n}\n.arrow-icon[data-v-4956a212] {\n  color: var(--color-text-secondary);\n  flex-shrink: 0;\n}\n.quick-actions[data-v-4956a212] {\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.actions-title[data-v-4956a212] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.action-buttons[data-v-4956a212] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 0.5rem;\n}\n.action-btn[data-v-4956a212] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.35rem;\n  padding: 0.5rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.75rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.action-btn[data-v-4956a212]:hover {\n  border-color: rgba(59, 130, 246, 0.3);\n  background: rgba(59, 130, 246, 0.05);\n  color: #3b82f6;\n}\n.members-notice[data-v-4956a212] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 6px;\n  font-size: 0.75rem;\n  color: #3b82f6;\n}\n",""]);const s=i},5517:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},5609:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n.modal-overlay[data-v-6ec25edf] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n.modal-dialog[data-v-6ec25edf] {\n  width: 90%;\n  max-width: 600px;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-surface);\n  border-radius: 12px;\n  padding: 2rem;\n  overflow: hidden;\n}\n.modal-title[data-v-6ec25edf] {\n  margin-top: 0;\n  color: var(--color-primary);\n  text-align: center;\n  margin-bottom: 1.5rem;\n  flex-shrink: 0;\n}\n.form-fields[data-v-6ec25edf] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n  padding-right: 0.5rem;\n}\n.form-fields[data-v-6ec25edf]::-webkit-scrollbar {\n  width: 8px;\n}\n.form-fields[data-v-6ec25edf]::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n}\n.form-fields[data-v-6ec25edf]::-webkit-scrollbar-thumb {\n  background: rgba(var(--color-primary-rgb), 0.3);\n  border-radius: 4px;\n}\n.form-fields[data-v-6ec25edf]::-webkit-scrollbar-thumb:hover {\n  background: rgba(var(--color-primary-rgb), 0.5);\n}\n.form-group label[data-v-6ec25edf] {\n  display: block;\n  margin-bottom: 0.5rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.form-group input[data-v-6ec25edf],\n.form-group textarea[data-v-6ec25edf],\n.form-group select[data-v-6ec25edf] {\n  width: 100%;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 1rem;\n  transition: var(--transition-fast);\n}\ninput[type="color"][data-v-6ec25edf] {\n  padding: 0.25rem;\n  height: 2.5rem;\n}\ninput[type="color"][data-v-6ec25edf] {\n  padding: 0.25rem;\n  height: 2.5rem;\n}\n.form-group input[data-v-6ec25edf]:focus,\n.form-group textarea[data-v-6ec25edf]:focus,\n.form-group select[data-v-6ec25edf]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.3);\n}\n.error-messages[data-v-6ec25edf] {\n    color: var(--color-danger);\n    margin-bottom: 1rem;\n    font-size: 0.9rem;\n    flex-shrink: 0;\n}\n.modal-actions[data-v-6ec25edf] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1rem;\n  flex-shrink: 0;\n}\n\n/* Transition styles */\n.modal-fade-enter-active[data-v-6ec25edf], .modal-fade-leave-active[data-v-6ec25edf] {\n  transition: opacity 0.3s ease;\n}\n.modal-fade-enter-from[data-v-6ec25edf], .modal-fade-leave-to[data-v-6ec25edf] {\n  opacity: 0;\n}\n.modal-fade-enter-active .modal-content[data-v-6ec25edf],\n.modal-fade-leave-active .modal-content[data-v-6ec25edf] {\n  transition: transform 0.3s ease;\n}\n.modal-fade-enter-from .modal-content[data-v-6ec25edf],\n.modal-fade-leave-to .modal-content[data-v-6ec25edf] {\n  transform: scale(0.9);\n}\n\n/* Âä®ÊÄÅÂàóË°®Ê†∑Âºè */\n.dynamic-list-container[data-v-6ec25edf] {\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  padding: 1rem;\n}\n.list-header[data-v-6ec25edf] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.add-btn[data-v-6ec25edf] {\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.2s ease;\n}\n.add-btn[data-v-6ec25edf]:hover {\n  background: var(--color-primary-dark);\n}\n.list-items[data-v-6ec25edf] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.list-item[data-v-6ec25edf] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n}\n.item-inputs[data-v-6ec25edf] {\n  display: flex;\n  gap: 0.5rem;\n  flex: 1;\n}\n.item-input[data-v-6ec25edf] {\n  flex: 1;\n  padding: 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  background: var(--color-background);\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.item-input[data-v-6ec25edf]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 5px rgba(var(--color-primary-rgb), 0.3);\n}\n.remove-btn[data-v-6ec25edf] {\n  background: var(--color-danger);\n  color: white;\n  border: none;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n.remove-btn[data-v-6ec25edf]:hover {\n  background: #dc2626;\n  transform: scale(1.1);\n}\n.empty-list[data-v-6ec25edf] {\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  padding: 2rem;\n}\n@media (max-width: 600px) {\n.modal-dialog[data-v-6ec25edf] {\n    padding: 1.5rem;\n    width: 95%;\n    max-height: 90vh;\n}\n.item-inputs[data-v-6ec25edf] {\n    flex-direction: column;\n}\n.modal-actions[data-v-6ec25edf] {\n    flex-direction: column-reverse;\n    gap: 0.5rem;\n}\n.modal-actions .btn[data-v-6ec25edf] {\n    width: 100%;\n}\n}\n',""]);const s=i},5666:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.top-bar[data-v-72d6a405] {\n  width: 100%;\n  height: 56px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 16px;\n  box-sizing: border-box;\n  background: var(--color-surface, #f8f9fa);\n  border-bottom: 1px solid var(--color-border, #e2e8f0);\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  flex-shrink: 0;\n  min-height: 56px;\n}\n.left-section[data-v-72d6a405] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  flex: 1;\n}\n.game-title[data-v-72d6a405] {\n  font-size: 1.2rem;\n  font-weight: 800;\n  color: var(--color-text);\n  margin: 0;\n  letter-spacing: 1px;\n  white-space: nowrap;\n}\n.title-xian[data-v-72d6a405] {\n  color: var(--color-primary);\n  text-shadow: 0 0 12px rgba(var(--color-primary-rgb), 0.4);\n}\n.title-tu[data-v-72d6a405] {\n  color: var(--color-text);\n}\n.character-quick-info[data-v-72d6a405] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 10px;\n  background: var(--color-surface-light);\n  border-radius: 14px;\n  border: 1px solid var(--color-border);\n}\n.character-name[data-v-72d6a405] {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.character-realm[data-v-72d6a405] {\n  font-size: 0.75rem;\n  color: var(--color-accent);\n  font-weight: 500;\n  padding: 2px 6px;\n  background: var(--color-accent-light);\n  border-radius: 10px;\n}\n.center-section[data-v-72d6a405] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n}\n.location-time-info[data-v-72d6a405] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  white-space: nowrap;\n}\n.location-text[data-v-72d6a405] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-success);\n}\n.spirit-density[data-v-72d6a405] {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 4px 10px;\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(147, 197, 253, 0.12) 100%);\n  border: 1px solid rgba(59, 130, 246, 0.25);\n  border-radius: 12px;\n  margin-left: 8px;\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s ease;\n}\n.spirit-density[data-v-72d6a405]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);\n  border-color: rgba(59, 130, 246, 0.4);\n}\n.spirit-icon-wrapper[data-v-72d6a405] {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 18px;\n  height: 18px;\n}\n.spirit-icon[data-v-72d6a405] {\n  font-size: 0.9rem;\n  color: #3b82f6;\n  position: relative;\n  z-index: 2;\n  animation: spirit-pulse-72d6a405 2s ease-in-out infinite;\n  filter: drop-shadow(0 0 3px rgba(59, 130, 246, 0.6));\n}\n.spirit-glow[data-v-72d6a405] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(circle, rgba(59, 130, 246, 0.4) 0%, transparent 70%);\n  border-radius: 50%;\n  animation: spirit-glow-pulse-72d6a405 2s ease-in-out infinite;\n}\n.spirit-label[data-v-72d6a405] {\n  font-size: 0.7rem;\n  font-weight: 600;\n  color: #1e40af;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n}\n.spirit-value[data-v-72d6a405] {\n  font-size: 0.85rem;\n  font-weight: 700;\n  color: #1e40af;\n  font-family: 'Courier New', monospace;\n  min-width: 24px;\n  text-align: right;\n}\n.spirit-bar[data-v-72d6a405] {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: rgba(59, 130, 246, 0.15);\n  overflow: hidden;\n}\n.spirit-bar-fill[data-v-72d6a405] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);\n  transition: width 0.5s ease;\n  box-shadow: 0 0 8px rgba(59, 130, 246, 0.6);\n}\n\n/* ‰ø°Âè∑Âº∫Â∫¶Á≠âÁ∫ßÊ†∑Âºè */\n.spirit-density.density-very-high[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(168, 85, 247, 0.12) 0%, rgba(192, 132, 252, 0.16) 100%);\n  border-color: rgba(168, 85, 247, 0.35);\n}\n.spirit-density.density-very-high .spirit-icon[data-v-72d6a405],\n.spirit-density.density-very-high .spirit-label[data-v-72d6a405],\n.spirit-density.density-very-high .spirit-value[data-v-72d6a405] {\n  color: #7c3aed;\n}\n.spirit-density.density-very-high .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #7c3aed 0%, #a78bfa 100%);\n  box-shadow: 0 0 10px rgba(124, 58, 237, 0.8);\n}\n.spirit-density.density-very-high .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(168, 85, 247, 0.5) 0%, transparent 70%);\n}\n.spirit-density.density-high[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(74, 222, 128, 0.14) 100%);\n  border-color: rgba(34, 197, 94, 0.3);\n}\n.spirit-density.density-high .spirit-icon[data-v-72d6a405],\n.spirit-density.density-high .spirit-label[data-v-72d6a405],\n.spirit-density.density-high .spirit-value[data-v-72d6a405] {\n  color: #15803d;\n}\n.spirit-density.density-high .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #22c55e 0%, #4ade80 100%);\n  box-shadow: 0 0 8px rgba(34, 197, 94, 0.7);\n}\n.spirit-density.density-high .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(34, 197, 94, 0.4) 0%, transparent 70%);\n}\n.spirit-density.density-medium[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(147, 197, 253, 0.12) 100%);\n  border-color: rgba(59, 130, 246, 0.25);\n}\n.spirit-density.density-low[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(251, 146, 60, 0.08) 0%, rgba(253, 186, 116, 0.12) 100%);\n  border-color: rgba(251, 146, 60, 0.25);\n}\n.spirit-density.density-low .spirit-icon[data-v-72d6a405],\n.spirit-density.density-low .spirit-label[data-v-72d6a405],\n.spirit-density.density-low .spirit-value[data-v-72d6a405] {\n  color: #c2410c;\n}\n.spirit-density.density-low .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #f97316 0%, #fb923c 100%);\n  box-shadow: 0 0 6px rgba(249, 115, 22, 0.6);\n}\n.spirit-density.density-low .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(251, 146, 60, 0.3) 0%, transparent 70%);\n}\n.spirit-density.density-very-low[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.08) 0%, rgba(248, 113, 113, 0.12) 100%);\n  border-color: rgba(239, 68, 68, 0.25);\n}\n.spirit-density.density-very-low .spirit-icon[data-v-72d6a405],\n.spirit-density.density-very-low .spirit-label[data-v-72d6a405],\n.spirit-density.density-very-low .spirit-value[data-v-72d6a405] {\n  color: #b91c1c;\n}\n.spirit-density.density-very-low .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #dc2626 0%, #ef4444 100%);\n  box-shadow: 0 0 6px rgba(220, 38, 38, 0.6);\n}\n.spirit-density.density-very-low .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(239, 68, 68, 0.3) 0%, transparent 70%);\n}\n@keyframes spirit-pulse-72d6a405 {\n0%, 100% {\n    opacity: 0.8;\n    transform: scale(1);\n}\n50% {\n    opacity: 1;\n    transform: scale(1.1);\n}\n}\n@keyframes spirit-glow-pulse-72d6a405 {\n0%, 100% {\n    opacity: 0.4;\n    transform: scale(0.9);\n}\n50% {\n    opacity: 0.7;\n    transform: scale(1.2);\n}\n}\n.separator[data-v-72d6a405] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.time-value[data-v-72d6a405] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  font-family: 'Courier New', monospace;\n}\n.right-section[data-v-72d6a405] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 1;\n  justify-content: flex-end;\n}\n.info-btn[data-v-72d6a405] {\n  height: 30px;\n  padding: 0 12px;\n  border-radius: 8px;\n  border: 1px solid rgba(0, 240, 255, 0.45);\n  background: rgba(0, 240, 255, 0.08);\n  color: #00f0ff;\n  font-size: 0.75rem;\n  font-weight: 600;\n  letter-spacing: 0.05em;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n.info-btn[data-v-72d6a405]:hover {\n  background: rgba(0, 240, 255, 0.16);\n  border-color: rgba(0, 240, 255, 0.8);\n  box-shadow: 0 0 14px rgba(0, 240, 255, 0.35);\n}\n.fullscreen-btn[data-v-72d6a405] {\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 16px;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n}\n.fullscreen-btn[data-v-72d6a405]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n  color: var(--color-text);\n}\n\n/* ÊâãÊú∫Á´ØÈÄÇÈÖç */\n@media (max-width: 767px) {\n.top-bar[data-v-72d6a405] {\n    padding: 0 8px;\n    height: 50px;\n    min-height: 50px;\n    flex-wrap: nowrap;\n}\n.game-title[data-v-72d6a405] {\n    font-size: 0.9rem;\n    white-space: nowrap;\n    writing-mode: horizontal-tb;\n}\n.character-quick-info[data-v-72d6a405] {\n    gap: 4px;\n    padding: 2px 6px;\n    flex-shrink: 1;\n    min-width: 0;\n}\n.character-name[data-v-72d6a405] {\n    font-size: 0.7rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 60px;\n}\n.character-realm[data-v-72d6a405] {\n    font-size: 0.6rem;\n    padding: 1px 3px;\n    white-space: nowrap;\n}\n.center-section[data-v-72d6a405] {\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n}\n.location-time-info[data-v-72d6a405] {\n    padding: 3px 6px;\n    gap: 4px;\n    flex-wrap: wrap;\n    justify-content: center;\n    max-width: 100%;\n}\n.location-text[data-v-72d6a405] {\n    font-size: 0.7rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 80px;\n}\n.spirit-density[data-v-72d6a405] {\n    padding: 3px 6px;\n    margin-left: 4px;\n    gap: 4px;\n}\n.spirit-icon-wrapper[data-v-72d6a405] {\n    width: 14px;\n    height: 14px;\n}\n.spirit-icon[data-v-72d6a405] {\n    font-size: 0.7rem;\n}\n.spirit-label[data-v-72d6a405] {\n    font-size: 0.6rem;\n}\n.spirit-value[data-v-72d6a405] {\n    font-size: 0.65rem;\n    min-width: 18px;\n}\n.spirit-bar[data-v-72d6a405] {\n    height: 2px;\n}\n.separator[data-v-72d6a405] {\n    font-size: 0.65rem;\n}\n.time-value[data-v-72d6a405] {\n    font-size: 0.65rem;\n    white-space: nowrap;\n}\n.fullscreen-btn[data-v-72d6a405] {\n    width: 26px;\n    height: 26px;\n    font-size: 14px;\n    flex-shrink: 0;\n}\n.left-section[data-v-72d6a405] {\n    gap: 6px;\n    flex: 0 1 auto;\n    min-width: 0;\n}\n.right-section[data-v-72d6a405] {\n    gap: 6px;\n    flex: 0 0 auto;\n}\n.info-btn[data-v-72d6a405] {\n    height: 26px;\n    padding: 0 8px;\n    font-size: 0.65rem;\n}\n}\n\n/* Ë∂ÖÂ∞èÂ±èÂπïÈÄÇÈÖç */\n@media (max-width: 375px) {\n.top-bar[data-v-72d6a405] {\n    padding: 0 4px;\n}\n.game-title[data-v-72d6a405] {\n    font-size: 0.8rem;\n}\n.character-quick-info[data-v-72d6a405] {\n    gap: 3px;\n    padding: 2px 4px;\n}\n.character-name[data-v-72d6a405] {\n    font-size: 0.65rem;\n    max-width: 50px;\n}\n.location-text[data-v-72d6a405] {\n    font-size: 0.65rem;\n    max-width: 60px;\n}\n.time-value[data-v-72d6a405] {\n    font-size: 0.6rem;\n}\n}\n\n/* Âπ≥ÊùøÈÄÇÈÖç */\n@media (min-width: 641px) and (max-width: 1024px) {\n.top-bar[data-v-72d6a405] {\n    padding: 0 16px;\n}\n.game-title[data-v-72d6a405] {\n    font-size: 1.1rem;\n}\n.left-section[data-v-72d6a405] {\n    gap: 12px;\n}\n.right-section[data-v-72d6a405] {\n    gap: 10px;\n}\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò */\n[data-theme='dark'] .top-bar[data-v-72d6a405] {\n  background: #1e293b;\n  border-bottom-color: #334155;\n}\n[data-theme='dark'] .game-title[data-v-72d6a405] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .character-quick-info[data-v-72d6a405] {\n  background: #334155;\n  border-color: #475569;\n}\n[data-theme='dark'] .character-name[data-v-72d6a405] {\n  color: #e2e8f0;\n}\n[data-theme='dark'] .character-realm[data-v-72d6a405] {\n  background: rgba(167, 139, 250, 0.2);\n  color: #a78bfa;\n}\n[data-theme='dark'] .location-time-info[data-v-72d6a405] {\n  background: #334155;\n  border-color: #475569;\n}\n[data-theme='dark'] .location-text[data-v-72d6a405] {\n  color: #34d399;\n}\n[data-theme='dark'] .spirit-density[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(96, 165, 250, 0.15) 0%, rgba(147, 197, 253, 0.2) 100%);\n  border-color: rgba(96, 165, 250, 0.3);\n}\n[data-theme='dark'] .spirit-density[data-v-72d6a405]:hover {\n  box-shadow: 0 4px 12px rgba(96, 165, 250, 0.3);\n  border-color: rgba(96, 165, 250, 0.5);\n}\n[data-theme='dark'] .spirit-icon[data-v-72d6a405] {\n  color: #60a5fa;\n  filter: drop-shadow(0 0 4px rgba(96, 165, 250, 0.7));\n}\n[data-theme='dark'] .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(96, 165, 250, 0.5) 0%, transparent 70%);\n}\n[data-theme='dark'] .spirit-label[data-v-72d6a405] {\n  color: #93c5fd;\n}\n[data-theme='dark'] .spirit-value[data-v-72d6a405] {\n  color: #dbeafe;\n}\n[data-theme='dark'] .spirit-bar[data-v-72d6a405] {\n  background: rgba(96, 165, 250, 0.2);\n}\n[data-theme='dark'] .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #60a5fa 0%, #93c5fd 100%);\n  box-shadow: 0 0 10px rgba(96, 165, 250, 0.8);\n}\n\n/* Dark theme - density levels */\n[data-theme='dark'] .spirit-density.density-very-high[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(192, 132, 252, 0.15) 0%, rgba(216, 180, 254, 0.2) 100%);\n  border-color: rgba(192, 132, 252, 0.35);\n}\n[data-theme='dark'] .spirit-density.density-very-high .spirit-icon[data-v-72d6a405],\n[data-theme='dark'] .spirit-density.density-very-high .spirit-label[data-v-72d6a405] {\n  color: #c084fc;\n}\n[data-theme='dark'] .spirit-density.density-very-high .spirit-value[data-v-72d6a405] {\n  color: #e9d5ff;\n}\n[data-theme='dark'] .spirit-density.density-very-high .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #a78bfa 0%, #c084fc 100%);\n  box-shadow: 0 0 12px rgba(168, 85, 247, 0.9);\n}\n[data-theme='dark'] .spirit-density.density-very-high .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(192, 132, 252, 0.6) 0%, transparent 70%);\n}\n[data-theme='dark'] .spirit-density.density-high[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(74, 222, 128, 0.12) 0%, rgba(134, 239, 172, 0.18) 100%);\n  border-color: rgba(74, 222, 128, 0.3);\n}\n[data-theme='dark'] .spirit-density.density-high .spirit-icon[data-v-72d6a405],\n[data-theme='dark'] .spirit-density.density-high .spirit-label[data-v-72d6a405] {\n  color: #4ade80;\n}\n[data-theme='dark'] .spirit-density.density-high .spirit-value[data-v-72d6a405] {\n  color: #d1fae5;\n}\n[data-theme='dark'] .spirit-density.density-high .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #34d399 0%, #6ee7b7 100%);\n  box-shadow: 0 0 10px rgba(52, 211, 153, 0.8);\n}\n[data-theme='dark'] .spirit-density.density-high .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(74, 222, 128, 0.5) 0%, transparent 70%);\n}\n[data-theme='dark'] .spirit-density.density-low[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(251, 146, 60, 0.12) 0%, rgba(253, 186, 116, 0.18) 100%);\n  border-color: rgba(251, 146, 60, 0.3);\n}\n[data-theme='dark'] .spirit-density.density-low .spirit-icon[data-v-72d6a405],\n[data-theme='dark'] .spirit-density.density-low .spirit-label[data-v-72d6a405] {\n  color: #fb923c;\n}\n[data-theme='dark'] .spirit-density.density-low .spirit-value[data-v-72d6a405] {\n  color: #fed7aa;\n}\n[data-theme='dark'] .spirit-density.density-low .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #f97316 0%, #fb923c 100%);\n  box-shadow: 0 0 8px rgba(249, 115, 22, 0.7);\n}\n[data-theme='dark'] .spirit-density.density-low .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(251, 146, 60, 0.4) 0%, transparent 70%);\n}\n[data-theme='dark'] .spirit-density.density-very-low[data-v-72d6a405] {\n  background: linear-gradient(135deg, rgba(248, 113, 113, 0.12) 0%, rgba(252, 165, 165, 0.18) 100%);\n  border-color: rgba(248, 113, 113, 0.3);\n}\n[data-theme='dark'] .spirit-density.density-very-low .spirit-icon[data-v-72d6a405],\n[data-theme='dark'] .spirit-density.density-very-low .spirit-label[data-v-72d6a405] {\n  color: #f87171;\n}\n[data-theme='dark'] .spirit-density.density-very-low .spirit-value[data-v-72d6a405] {\n  color: #fecaca;\n}\n[data-theme='dark'] .spirit-density.density-very-low .spirit-bar-fill[data-v-72d6a405] {\n  background: linear-gradient(90deg, #ef4444 0%, #f87171 100%);\n  box-shadow: 0 0 8px rgba(239, 68, 68, 0.7);\n}\n[data-theme='dark'] .spirit-density.density-very-low .spirit-glow[data-v-72d6a405] {\n  background: radial-gradient(circle, rgba(248, 113, 113, 0.4) 0%, transparent 70%);\n}\n[data-theme='dark'] .separator[data-v-72d6a405] {\n  color: #64748b;\n}\n[data-theme='dark'] .time-value[data-v-72d6a405] {\n  color: #cbd5e1;\n}\n[data-theme='dark'] .fullscreen-btn[data-v-72d6a405] {\n  background: transparent;\n  border-color: #475569;\n  color: #94a3b8;\n}\n[data-theme='dark'] .fullscreen-btn[data-v-72d6a405]:hover {\n  background: #334155;\n  border-color: #64748b;\n  color: #e2e8f0;\n}\n[data-theme='dark'] .info-btn[data-v-72d6a405] {\n  background: rgba(0, 240, 255, 0.08);\n  border-color: rgba(0, 240, 255, 0.4);\n  color: #00f0ff;\n}\n",""]);const s=i},5667:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n.formatted-text[data-v-3448beea] {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  text-align: justify;\n  text-indent: 2em;\n  margin: 0;\n  line-height: 1.8;\n  padding-bottom: 1.5rem;\n}\n\n/* ÁéØÂ¢ÉÊèèÂÜô - ÈùíËâ≤ */\n.text-environment[data-v-3448beea] {\n  color: #0891b2;\n  font-weight: 500;\n}\n\n/* ÂøÉÁêÜÊèèÂÜô - Á¥´Ëâ≤ */\n.text-psychology[data-v-3448beea] {\n  color: #7c3aed;\n  font-style: italic;\n  font-weight: 500;\n}\n\n/* ÂØπËØù - Ê©ôËâ≤ */\n.text-dialogue[data-v-3448beea] {\n  color: #d97706;\n  font-weight: 500;\n}\n\n/* ÂºïÁî®/Áã¨ÁôΩ - Ê©ôËâ≤Êñú‰Ωì */\n.text-quote[data-v-3448beea] {\n  color: rgb(254 125 0);\n  font-style: italic;\n}\n\n/* ÊôÆÈÄöÊñáÊú¨ */\n.text-normal[data-v-3448beea] {\n  color: var(--color-text, #1a1a1a);\n}\n\n/* Âà§ÂÆöÂç°ÁâáÊ†∑Âºè - Ê∏ÖÁàΩÁâà */\n.judgement-card[data-v-3448beea] {\n  display: flex;\n  gap: 1rem;\n  margin: 1.25rem 0;\n  padding: 1.25rem;\n  background: var(--color-surface);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  text-indent: 0;\n  position: relative;\n  overflow: hidden;\n  transition: all 0.2s ease;\n}\n.judgement-card[data-v-3448beea]:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n\n/* ÊàêÂäüÁä∂ÊÄÅ */\n.judgement-card.is-success[data-v-3448beea] {\n  border-left: 4px solid #10b981;\n  background: rgba(16, 185, 129, 0.05); /* ÊûÅÊ∑°ÁöÑÁªøËâ≤ËÉåÊôØ */\n  --card-color: #10b981;\n}\n.judgement-card.is-great-success[data-v-3448beea] {\n  border-left: 4px solid #f59e0b;\n  background: rgba(245, 158, 11, 0.05);\n  --card-color: #f59e0b;\n}\n\n/* Â§±Ë¥•Áä∂ÊÄÅ */\n.judgement-card.is-failure[data-v-3448beea] {\n  border-left: 4px solid #ef4444;\n  background: rgba(239, 68, 68, 0.05);\n  --card-color: #ef4444;\n}\n.judgement-card.is-great-failure[data-v-3448beea] {\n  border-left: 4px solid #a855f7;\n  background: rgba(168, 85, 247, 0.05);\n  --card-color: #a855f7;\n}\n@keyframes pulse-success-3448beea {\n0%, 100% { box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.4);\n}\n50% { box-shadow: 0 0 0 8px rgba(251, 191, 36, 0);\n}\n}\n@keyframes pulse-failure-3448beea {\n0%, 100% { box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.4);\n}\n50% { box-shadow: 0 0 0 8px rgba(168, 85, 247, 0);\n}\n}\n\n/* ÂõæÊ†áÂå∫Âüü */\n.card-icon[data-v-3448beea] {\n  flex-shrink: 0;\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: white;\n  border-radius: 12px;\n  border: 2px solid var(--card-color, #6366f1);\n  color: var(--card-color, #6366f1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n}\n\n/* ÂÜÖÂÆπÂå∫Âüü */\n.card-content[data-v-3448beea] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n/* Ê†áÈ¢òË°å */\n.card-header[data-v-3448beea] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.75rem;\n}\n.judgement-title[data-v-3448beea] {\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #0f172a;\n  letter-spacing: -0.01em;\n  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);\n  opacity: 1;\n}\n.judgement-badge[data-v-3448beea] {\n  display: inline-flex;\n  align-items: center;\n  padding: 0.375rem 0.875rem;\n  background: var(--card-color, #6366f1);\n  color: white;\n  border-radius: 20px;\n  font-size: 0.875rem;\n  font-weight: 600;\n  letter-spacing: 0.02em;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  opacity: 1;\n}\n\n/* ÁªüËÆ°‰ø°ÊÅØË°å */\n.card-body[data-v-3448beea] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.75rem;\n}\n.stat-item[data-v-3448beea] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.875rem;\n  background: white;\n  border-radius: 10px;\n  border: 1px solid #e2e8f0;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);\n  min-width: fit-content;\n}\n.difficulty-item[data-v-3448beea] {\n  min-width: 120px;\n}\n.details-list[data-v-3448beea] {\n  width: 100%;\n  margin-top: 0.5rem;\n  padding-top: 0.5rem;\n  border-top: 1px solid #e2e8f0;\n}\n.detail-item[data-v-3448beea] {\n  font-size: 0.875rem;\n  color: #64748b;\n  padding: 0.25rem 0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.detail-item[data-v-3448beea]::before {\n  content: \'‚Ä¢\';\n  color: #94a3b8;\n}\n.detail-label[data-v-3448beea] {\n  font-weight: 600;\n  color: #475569;\n}\n.detail-value[data-v-3448beea] {\n  font-weight: 700;\n  color: #1e293b;\n  min-width: 2rem;\n}\n.detail-source[data-v-3448beea] {\n  font-size: 0.75rem;\n  color: #94a3b8;\n  font-style: italic;\n}\n.stat-icon[data-v-3448beea] {\n  font-size: 1.375rem;\n  line-height: 1;\n}\n.stat-info[data-v-3448beea] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.125rem;\n}\n.stat-label[data-v-3448beea] {\n  font-size: 0.75rem;\n  font-weight: 500;\n  color: #64748b;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n.stat-value[data-v-3448beea] {\n  font-size: 1.125rem;\n  font-weight: 700;\n  color: #1e293b;\n}\n.dice-roll[data-v-3448beea], .attribute-check[data-v-3448beea] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.75rem;\n  background: var(--color-surface-light, #ebe9e6);\n  border-radius: 8px;\n  border: 1px solid var(--color-border, rgba(0, 0, 0, 0.1));\n  transition: all 0.2s ease;\n  text-align: center;\n}\n.dice-roll[data-v-3448beea]:hover, .attribute-check[data-v-3448beea]:hover {\n  background: var(--color-surface, #f2f1ee);\n  transform: translateY(-1px);\n}\n.dice-roll .label[data-v-3448beea], .attribute-check .label[data-v-3448beea] {\n  font-size: 0.8em;\n  color: var(--color-text-secondary, #666666);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: 0.25rem;\n  font-weight: 500;\n}\n.dice-roll .value[data-v-3448beea], .attribute-check .value[data-v-3448beea] {\n  font-size: 1.4em;\n  font-weight: 700;\n  color: var(--color-text, #1a1a1a);\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.dice-roll .value[data-v-3448beea] {\n  color: #6366f1;\n  background: linear-gradient(135deg, #6366f1, #8b5cf6);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢òÈÄÇÈÖç */\n[data-theme="dark"] .text-normal[data-v-3448beea] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .text-environment[data-v-3448beea] {\n  color: #22d3ee;\n}\n[data-theme="dark"] .text-psychology[data-v-3448beea] {\n  color: #a78bfa;\n}\n[data-theme="dark"] .text-dialogue[data-v-3448beea] {\n  color: #fb923c;\n}\n[data-theme="dark"] .text-quote[data-v-3448beea] {\n  color: rgb(254 125 0);\n}\n[data-theme="dark"] .judgement-card[data-v-3448beea] {\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.02) 0%, var(--color-background, rgb(30, 41, 59)) 100%);\n  border-color: var(--color-border, rgba(173, 216, 230, 0.5));\n}\n[data-theme="dark"] .card-header[data-v-3448beea] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .result-text[data-v-3448beea],\n[data-theme="dark"] .dice-roll[data-v-3448beea],\n[data-theme="dark"] .attribute-check[data-v-3448beea] {\n  background: var(--color-surface-light, #414868);\n  border-color: var(--color-border, rgba(173, 216, 230, 0.5));\n}\n[data-theme="dark"] .dice-roll .label[data-v-3448beea],\n[data-theme="dark"] .attribute-check .label[data-v-3448beea] {\n  color: var(--color-text-secondary, #d0d0d0);\n}\n[data-theme="dark"] .dice-roll .value[data-v-3448beea],\n[data-theme="dark"] .attribute-check .value[data-v-3448beea] {\n  color: var(--color-text, #f7f7f5);\n}\n.header-right[data-v-3448beea] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.help-btn[data-v-3448beea] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 28px;\n  height: 28px;\n  padding: 0;\n  background: rgba(255, 255, 255, 0.8);\n  border: 1px solid #e2e8f0;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #64748b;\n}\n.help-btn[data-v-3448beea]:hover {\n  background: white;\n  border-color: var(--card-color, #6366f1);\n  color: var(--card-color, #6366f1);\n  transform: scale(1.1);\n}\n.help-btn[data-v-3448beea]:active {\n  transform: scale(0.95);\n}\n\n/* Â∏ÆÂä©ÂºπÁ™ó */\n.help-modal-overlay[data-v-3448beea] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  animation: fadeIn-3448beea 0.2s ease;\n}\n@keyframes fadeIn-3448beea {\nfrom { opacity: 0;\n}\nto { opacity: 1;\n}\n}\n.help-modal[data-v-3448beea] {\n  background: var(--color-surface);\n  color: var(--color-text);\n  border-radius: 16px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  max-width: 600px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  animation: slideUp-3448beea 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n@keyframes slideUp-3448beea {\nfrom {\n    opacity: 0;\n    transform: translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.help-modal-header[data-v-3448beea] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1.5rem;\n  border-bottom: 1px solid #e2e8f0;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n}\n.help-modal-header h3[data-v-3448beea] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.close-btn[data-v-3448beea] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #64748b;\n}\n.close-btn[data-v-3448beea]:hover {\n  background: #fee2e2;\n  border-color: #ef4444;\n  color: #ef4444;\n}\n.help-modal-content[data-v-3448beea] {\n  padding: 1.5rem;\n  overflow-y: auto;\n  max-height: calc(80vh - 80px);\n}\n.help-section[data-v-3448beea] {\n  margin-bottom: 1.5rem;\n}\n.help-section[data-v-3448beea]:last-child {\n  margin-bottom: 0;\n}\n.help-section h4[data-v-3448beea] {\n  margin: 0 0 0.75rem 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.help-section ol[data-v-3448beea] {\n  margin: 0;\n  padding-left: 1.5rem;\n  color: var(--color-text-secondary);\n  line-height: 1.8;\n}\n.help-section ol li[data-v-3448beea] {\n  margin-bottom: 0.5rem;\n}\n.help-section ol li strong[data-v-3448beea] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n.formula-box[data-v-3448beea] {\n  padding: 1rem;\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n  border-left: 4px solid #f59e0b;\n  border-radius: 8px;\n  margin-bottom: 0.75rem;\n  font-size: 0.875rem;\n  line-height: 1.6;\n  color: #78350f;\n}\n.formula-box strong[data-v-3448beea] {\n  color: #92400e;\n  font-weight: 700;\n}\n.result-list[data-v-3448beea] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.result-item[data-v-3448beea] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.75rem 1rem;\n  border-radius: 10px;\n  border: 1px solid;\n  gap: 1rem;\n}\n.result-item.perfect[data-v-3448beea] {\n  background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);\n  border-color: #fbbf24;\n}\n.result-item.great-success[data-v-3448beea] {\n  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);\n  border-color: #86efac;\n}\n.result-item.success[data-v-3448beea] {\n  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);\n  border-color: #93c5fd;\n}\n.result-item.failure[data-v-3448beea] {\n  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);\n  border-color: #fca5a5;\n}\n.result-item.critical-failure[data-v-3448beea] {\n  background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);\n  border-color: #c084fc;\n}\n.result-label[data-v-3448beea] {\n  font-weight: 700;\n  font-size: 0.875rem;\n  min-width: 60px;\n  opacity: 1;\n}\n.result-desc[data-v-3448beea] {\n  font-size: 0.875rem;\n  flex: 1;\n  opacity: 1;\n}\n\n/* -- Áªü‰∏ÄÊñáÂ≠óÈ¢úËâ≤Ôºå‰ªÖ‰øùÁïôÂº∫Ë∞ÉËâ≤ -- */\n.result-item[data-v-3448beea] {\n  background: var(--color-surface);\n  border-color: var(--color-border);\n}\n.result-label[data-v-3448beea] {\n  font-weight: 700;\n  color: var(--color-text);\n}\n.result-desc[data-v-3448beea] {\n  color: var(--color-text-secondary);\n}\n\n/* ‰ªÖÂú®Ê†áÁ≠æ‰∏äÂ∫îÁî®È¢úËâ≤ */\n.result-item.perfect .result-label[data-v-3448beea] { color: #f59e0b;\n}\n.result-item.great-success .result-label[data-v-3448beea] { color: #10b981;\n}\n.result-item.success .result-label[data-v-3448beea] { color: #10b981;\n}\n.result-item.failure .result-label[data-v-3448beea] { color: #ef4444;\n}\n.result-item.critical-failure .result-label[data-v-3448beea] { color: #a855f7;\n}\n.formula-note[data-v-3448beea] {\n  padding: 0.75rem 1rem;\n  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);\n  border-left: 4px solid #3b82f6;\n  border-radius: 8px;\n  margin-bottom: 0.75rem;\n  font-size: 0.875rem;\n  line-height: 1.6;\n  color: #1e40af;\n}\n.formula-note strong[data-v-3448beea] {\n  color: #1e3a8a;\n  font-weight: 700;\n}\n.tips-list[data-v-3448beea] {\n  margin: 0;\n  padding-left: 1.25rem;\n  color: #475569;\n  line-height: 1.8;\n}\n.tips-list li[data-v-3448beea] {\n  margin-bottom: 0.5rem;\n}\n.judgement-types[data-v-3448beea] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.type-item[data-v-3448beea] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  padding: 0.75rem;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border-radius: 8px;\n  border: 1px solid #e2e8f0;\n}\n.type-name[data-v-3448beea] {\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: #1e293b;\n}\n.type-attrs[data-v-3448beea] {\n  font-size: 0.8125rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n.attributes-desc[data-v-3448beea] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 0.75rem;\n}\n.attr-card[data-v-3448beea] {\n  padding: 0.75rem;\n  background: linear-gradient(135deg, #fefefe 0%, #f8fafc 100%);\n  border-radius: 10px;\n  border: 1px solid #e2e8f0;\n}\n.attr-header[data-v-3448beea] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.attr-icon[data-v-3448beea] {\n  font-size: 1.25rem;\n}\n.attr-name[data-v-3448beea] {\n  font-weight: 600;\n  font-size: 0.875rem;\n  color: #1e293b;\n}\n.attr-card p[data-v-3448beea] {\n  margin: 0;\n  font-size: 0.8125rem;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢òÈÄÇÈÖç */\n[data-theme="dark"] .help-modal[data-v-3448beea] {\n  background: var(--color-surface, #1e293b);\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .help-modal-header[data-v-3448beea] {\n  background: rgba(255, 255, 255, 0.05);\n  border-bottom-color: var(--color-border, rgba(255, 255, 255, 0.1));\n}\n[data-theme="dark"] .help-modal-header h3[data-v-3448beea],\n[data-theme="dark"] .help-section h4[data-v-3448beea] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .help-section ol[data-v-3448beea],\n[data-theme="dark"] .tips-list[data-v-3448beea] {\n  color: var(--color-text-secondary, #94a3b8);\n}\n\n/* -- Ê∑±Ëâ≤‰∏ªÈ¢òÈÄÇÈÖç -- */\n/* ‰ªÖË∞ÉÊï¥Ê†áÁ≠æÈ¢úËâ≤‰ª•ÈÄÇÂ∫îÊ∑±Ëâ≤ËÉåÊôØ */\n[data-theme="dark"] .result-item.perfect .result-label[data-v-3448beea] { color: #fcd34d;\n}\n[data-theme="dark"] .result-item.great-success .result-label[data-v-3448beea] { color: #86efac;\n}\n[data-theme="dark"] .result-item.success .result-label[data-v-3448beea] { color: #93c5fd;\n}\n[data-theme="dark"] .result-item.failure .result-label[data-v-3448beea] { color: #fca5a5;\n}\n[data-theme="dark"] .result-item.critical-failure .result-label[data-v-3448beea] { color: #d8b4fe;\n}\n[data-theme="dark"] .close-btn[data-v-3448beea] {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: var(--color-border, rgba(255, 255, 255, 0.1));\n  color: var(--color-text-secondary, #94a3b8);\n}\n[data-theme="dark"] .close-btn[data-v-3448beea]:hover {\n  background: rgba(239, 68, 68, 0.2);\n  border-color: #ef4444;\n}\n[data-theme="dark"] .help-btn[data-v-3448beea] {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: var(--color-border, rgba(255, 255, 255, 0.1));\n  color: var(--color-text-secondary, #94a3b8);\n}\n[data-theme="dark"] .help-btn[data-v-3448beea]:hover {\n  background: rgba(255, 255, 255, 0.1);\n  border-color: var(--card-color, #6366f1);\n  color: var(--card-color, #6366f1);\n}\n[data-theme="dark"] .type-item[data-v-3448beea] {\n  background: rgba(255, 255, 255, 0.03);\n  border-color: var(--color-border, rgba(255, 255, 255, 0.1));\n}\n[data-theme="dark"] .type-name[data-v-3448beea] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .type-attrs[data-v-3448beea] {\n  color: var(--color-text-secondary, #94a3b8);\n}\n[data-theme="dark"] .attr-card[data-v-3448beea] {\n  background: rgba(255, 255, 255, 0.03);\n  border-color: var(--color-border, rgba(255, 255, 255, 0.1));\n}\n[data-theme="dark"] .attr-name[data-v-3448beea] {\n  color: var(--color-text, #f7f7f5);\n}\n[data-theme="dark"] .attr-card p[data-v-3448beea] {\n  color: var(--color-text-secondary, #94a3b8);\n}\n[data-theme="dark"] .formula-box[data-v-3448beea] {\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.15) 0%, rgba(245, 158, 11, 0.1) 100%);\n  border-left-color: #f59e0b;\n  color: #fbbf24;\n}\n[data-theme="dark"] .formula-box strong[data-v-3448beea] {\n  color: #fcd34d;\n}\n[data-theme="dark"] .detail-label[data-v-3448beea] {\n  color: #94a3b8;\n}\n[data-theme="dark"] .detail-value[data-v-3448beea] {\n  color: #f1f5f9;\n}\n[data-theme="dark"] .detail-source[data-v-3448beea] {\n  color: #64748b;\n}\n',""]);const s=i},5674:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.account-container[data-v-2600fd5e] {\n  width: 100%;\n  height: 100vh;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 1.5rem;\n  box-sizing: border-box;\n  overflow: auto;\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.05), rgba(157, 0, 255, 0.03));\n  position: relative;\n}\n.account-container[data-v-2600fd5e]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image:\n    linear-gradient(0deg, transparent 24%, rgba(0, 217, 255, 0.02) 25%, rgba(0, 217, 255, 0.02) 26%, transparent 27%, transparent 74%, rgba(0, 217, 255, 0.02) 75%, rgba(0, 217, 255, 0.02) 76%, transparent 77%, transparent),\n    linear-gradient(90deg, transparent 24%, rgba(0, 217, 255, 0.02) 25%, rgba(0, 217, 255, 0.02) 26%, transparent 27%, transparent 74%, rgba(0, 217, 255, 0.02) 75%, rgba(0, 217, 255, 0.02) 76%, transparent 77%, transparent);\n  background-size: 50px 50px;\n  pointer-events: none;\n  z-index: 0;\n}\n.account-panel[data-v-2600fd5e] {\n  width: 100%;\n  max-width: 900px;\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.95), rgba(10, 14, 39, 0.95));\n  border: 2px solid var(--tech-primary);\n  border-radius: 4px;\n  box-shadow: 0 25px 50px rgba(0, 217, 255, 0.2), inset 0 0 40px rgba(0, 217, 255, 0.1);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  padding: 2.5rem;\n  color: var(--tech-primary);\n  position: relative;\n  z-index: 1;\n}\n.account-panel[data-v-2600fd5e]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, var(--tech-primary), transparent);\n}\n.header[data-v-2600fd5e] {\n  margin-bottom: 1.5rem;\n}\n.title-row[data-v-2600fd5e] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n}\n.title[data-v-2600fd5e] {\n  margin: 0;\n  font-family: var(--font-family-serif);\n  font-size: 2rem;\n  color: var(--tech-primary);\n  text-shadow: 0 0 15px rgba(0, 217, 255, 0.4);\n}\n.status[data-v-2600fd5e] {\n  padding: 0.35rem 0.9rem;\n  border-radius: 3px;\n  border: 1px solid;\n  font-size: 0.85rem;\n  font-weight: 600;\n}\n.status.ok[data-v-2600fd5e] {\n  border-color: rgba(0, 255, 136, 0.4);\n  color: var(--tech-success);\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 255, 136, 0.05));\n  box-shadow: 0 0 10px rgba(0, 255, 136, 0.2);\n}\n.status.warn[data-v-2600fd5e] {\n  border-color: rgba(255, 107, 0, 0.4);\n  color: var(--tech-warning);\n  background: linear-gradient(135deg, rgba(255, 107, 0, 0.1), rgba(255, 107, 0, 0.05));\n  box-shadow: 0 0 10px rgba(255, 107, 0, 0.2);\n}\n.subtitle[data-v-2600fd5e] {\n  margin: 0.6rem 0 0;\n  color: rgba(0, 217, 255, 0.7);\n}\n.sections[data-v-2600fd5e] {\n  display: grid;\n  gap: 1rem;\n}\n.section[data-v-2600fd5e] {\n  border: 1px solid var(--tech-border);\n  border-radius: 4px;\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.7), rgba(10, 14, 39, 0.7));\n  overflow: hidden;\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.05);\n  transition: all 0.3s ease;\n}\n.section[data-v-2600fd5e]:hover {\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.1);\n  border-color: var(--tech-primary);\n}\n.section-title[data-v-2600fd5e] {\n  list-style: none;\n  padding: 0.85rem 1rem;\n  font-weight: 700;\n  color: var(--tech-primary);\n  cursor: pointer;\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.08), rgba(157, 0, 255, 0.05));\n  text-shadow: 0 0 8px rgba(0, 217, 255, 0.3);\n  transition: all 0.3s ease;\n}\n.section-title[data-v-2600fd5e]::-webkit-details-marker {\n  display: none;\n}\n.section:hover .section-title[data-v-2600fd5e] {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(157, 0, 255, 0.1));\n}\n.section-body[data-v-2600fd5e] {\n  padding: 0 1rem 1rem;\n}\n.info-list[data-v-2600fd5e] {\n  display: grid;\n  gap: 0.6rem;\n}\n.info-row[data-v-2600fd5e] {\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  padding-bottom: 0.6rem;\n  border-bottom: 1px solid var(--tech-border);\n}\n.info-row[data-v-2600fd5e]:last-child {\n  border-bottom: none;\n  padding-bottom: 0;\n}\n.info-label[data-v-2600fd5e] {\n  color: rgba(0, 217, 255, 0.6);\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n.info-value[data-v-2600fd5e] {\n  font-weight: 600;\n  color: var(--tech-primary);\n}\n.info-empty[data-v-2600fd5e] {\n  color: rgba(0, 217, 255, 0.4);\n  font-size: 0.9rem;\n  padding: 0.3rem 0;\n}\n.actions[data-v-2600fd5e] {\n  margin-top: 2rem;\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n}\n.btn[data-v-2600fd5e] {\n  flex: 1;\n  padding: 0.9rem 1rem;\n  border-radius: 4px;\n  border: 2px solid var(--tech-primary);\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.1));\n  color: var(--tech-primary);\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-weight: 600;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.2);\n}\n.btn[data-v-2600fd5e]:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15));\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.4);\n}\n.btn.btn-secondary[data-v-2600fd5e] {\n  border-color: var(--tech-secondary);\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.1), rgba(157, 0, 255, 0.05));\n  color: var(--tech-secondary);\n  box-shadow: 0 0 15px rgba(157, 0, 255, 0.2);\n}\n.btn.btn-secondary[data-v-2600fd5e]:hover {\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.2), rgba(157, 0, 255, 0.1));\n  box-shadow: 0 0 25px rgba(157, 0, 255, 0.4);\n}\n.btn.danger[data-v-2600fd5e] {\n  border-color: var(--tech-danger);\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.1), rgba(255, 0, 85, 0.05));\n  color: var(--tech-danger);\n  box-shadow: 0 0 15px rgba(255, 0, 85, 0.2);\n}\n.btn.danger[data-v-2600fd5e]:hover {\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.2), rgba(255, 0, 85, 0.1));\n  box-shadow: 0 0 25px rgba(255, 0, 85, 0.4);\n}\n.loading[data-v-2600fd5e] {\n  text-align: center;\n  padding: 2rem;\n  color: var(--tech-primary);\n  font-size: 1.1rem;\n}\n.backend-locked[data-v-2600fd5e] {\n  text-align: center;\n  padding: 2rem;\n}\n.backend-locked p[data-v-2600fd5e] {\n  color: rgba(0, 217, 255, 0.7);\n  margin-bottom: 1.5rem;\n}\n@media (max-width: 768px) {\n.account-panel[data-v-2600fd5e] {\n    padding: 2rem 1.5rem;\n}\n.title-row[data-v-2600fd5e] {\n    flex-direction: column;\n    align-items: flex-start;\n}\n}\n",""]);const s=i},5681:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* ========== Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º ========== */\n.attribute-allocation-container[data-v-14e0a4b7] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  color: var(--color-text);\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  padding: 1.5rem;\n}\n.header[data-v-14e0a4b7] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid rgba(147, 197, 253, 0.2);\n}\n.points-display .negative[data-v-14e0a4b7] {\n  color: #f87171 !important;\n}\nh2[data-v-14e0a4b7] {\n  margin: 0;\n  color: #93c5fd;\n  font-size: 1.5rem;\n  text-shadow: 0 0 20px rgba(147, 197, 253, 0.3);\n}\n.points-display[data-v-14e0a4b7] {\n  font-size: 1.2rem;\n  color: #94a3b8;\n}\n.points-display span[data-v-14e0a4b7] {\n  font-weight: 600;\n  color: #fbbf24;\n  font-size: 1.5rem;\n}\n.attributes-list[data-v-14e0a4b7] {\n  overflow-y: auto;\n  flex-grow: 1;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.attributes-list[data-v-14e0a4b7]::-webkit-scrollbar { width: 6px;\n}\n.attributes-list[data-v-14e0a4b7]::-webkit-scrollbar-track { background: transparent;\n}\n.attributes-list[data-v-14e0a4b7]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n.attribute-item[data-v-14e0a4b7] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 0.5rem;\n  margin-bottom: 0.5rem;\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.4);\n  border: 1px solid transparent;\n  transition: all 0.25s ease;\n}\n.attribute-item[data-v-14e0a4b7]:hover {\n  background: rgba(51, 65, 85, 0.6);\n  border-color: rgba(147, 197, 253, 0.2);\n}\n.attribute-item[data-v-14e0a4b7]:last-child {\n  margin-bottom: 0;\n}\n.attribute-info[data-v-14e0a4b7] {\n  flex-basis: 70%;\n}\n.attribute-name[data-v-14e0a4b7] {\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: #93c5fd;\n}\n.attribute-desc[data-v-14e0a4b7] {\n  font-size: 0.85rem;\n  color: #94a3b8;\n  margin: 0.3rem 0 0 0;\n  line-height: 1.4;\n}\n.attribute-controls[data-v-14e0a4b7] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.attribute-controls button[data-v-14e0a4b7] {\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  background: rgba(30, 41, 59, 0.6);\n  border: 1px solid rgba(147, 197, 253, 0.3);\n  color: #93c5fd;\n  font-size: 1.5rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.attribute-controls button[data-v-14e0a4b7]:hover:not(:disabled) {\n  background: rgba(59, 130, 246, 0.3);\n  border-color: #93c5fd;\n  color: #bfdbfe;\n}\n.attribute-controls button[data-v-14e0a4b7]:disabled,\n.attribute-controls button.disabled[data-v-14e0a4b7] {\n  opacity: 0.4;\n  cursor: not-allowed;\n  background: rgba(30, 41, 59, 0.3);\n  border-color: rgba(255, 255, 255, 0.06);\n  color: #64748b;\n}\n.attribute-value[data-v-14e0a4b7] {\n  font-size: 1.4rem;\n  font-weight: 600;\n  min-width: 30px;\n  text-align: center;\n  color: #f1f5f9;\n}\n.actions[data-v-14e0a4b7] {\n  padding-top: 1rem;\n  display: flex;\n  justify-content: center;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.actions button[data-v-14e0a4b7] {\n  padding: 0.5rem 1.5rem;\n  border: 1px solid rgba(147, 197, 253, 0.3);\n  background: rgba(30, 41, 59, 0.6);\n  color: #f1f5f9;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\n.actions button[data-v-14e0a4b7]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  border-color: rgba(147, 197, 253, 0.5);\n}\n.actions .btn-secondary[data-v-14e0a4b7] {\n  border-color: rgba(148, 163, 184, 0.4);\n  color: #94a3b8;\n}\n.actions .btn-secondary[data-v-14e0a4b7]:hover {\n  background: rgba(148, 163, 184, 0.2);\n  border-color: #94a3b8;\n  color: #f1f5f9;\n}\n.actions .btn-warning[data-v-14e0a4b7] {\n  border-color: rgba(251, 191, 36, 0.4);\n  color: #fbbf24;\n}\n.actions .btn-warning[data-v-14e0a4b7]:hover {\n  background: rgba(251, 191, 36, 0.2);\n  border-color: #fbbf24;\n  color: #fef3c7;\n}\n.actions .btn-success[data-v-14e0a4b7] {\n  border-color: rgba(52, 211, 153, 0.4);\n  color: #34d399;\n}\n.actions .btn-success[data-v-14e0a4b7]:hover {\n  background: rgba(52, 211, 153, 0.2);\n  border-color: #34d399;\n  color: #a7f3d0;\n}\n\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\n@media (max-width: 768px) {\n.attribute-allocation-container[data-v-14e0a4b7] {\n    padding-bottom: 1rem;\n}\n.header[data-v-14e0a4b7] {\n    flex-direction: column;\n    gap: 0.5rem;\n    text-align: center;\n    padding-bottom: 0.75rem;\n    margin-bottom: 1rem;\n}\n.header h2[data-v-14e0a4b7] {\n    font-size: 1.3rem;\n}\n.points-display[data-v-14e0a4b7] {\n    font-size: 1rem;\n}\n.points-display span[data-v-14e0a4b7] {\n    font-size: 1.2rem;\n}\n.attributes-list[data-v-14e0a4b7] {\n    margin-bottom: 0.5rem;\n}\n.attribute-item[data-v-14e0a4b7] {\n    flex-direction: row;\n    gap: 0.75rem;\n    padding: 0.75rem 0.5rem;\n}\n.attribute-info[data-v-14e0a4b7] {\n    flex: 1;\n    min-width: 0;\n}\n.attribute-name[data-v-14e0a4b7] {\n    font-size: 0.95rem;\n}\n.attribute-desc[data-v-14e0a4b7] {\n    font-size: 0.75rem;\n    line-height: 1.3;\n}\n.attribute-controls[data-v-14e0a4b7] {\n    justify-content: flex-end;\n    gap: 0.5rem;\n    flex-shrink: 0;\n}\n.attribute-controls button[data-v-14e0a4b7] {\n    width: 32px;\n    height: 32px;\n    font-size: 1.4rem;\n}\n.attribute-value[data-v-14e0a4b7] {\n    font-size: 1.2rem;\n    min-width: 28px;\n}\n.actions[data-v-14e0a4b7] {\n    gap: 0.5rem;\n    padding: 0.75rem 0;\n}\n.actions button[data-v-14e0a4b7] {\n    padding: 0.5rem 1rem;\n    font-size: 0.85rem;\n    flex: 1;\n    min-width: 70px;\n}\n}\n@media (max-width: 640px) {\n.header[data-v-14e0a4b7] {\n    gap: 0.5rem;\n}\n.header h2[data-v-14e0a4b7] {\n    font-size: 1.2rem;\n}\n.attribute-item[data-v-14e0a4b7] {\n    flex-direction: column;\n    gap: 0.75rem;\n    padding: 1rem 0.5rem;\n    align-items: center;\n}\n.attribute-info[data-v-14e0a4b7] {\n    flex-basis: auto;\n    text-align: center;\n    width: 100%;\n}\n.attribute-name[data-v-14e0a4b7] {\n    font-size: 1rem;\n    display: block;\n    margin-bottom: 0.25rem;\n}\n.attribute-controls[data-v-14e0a4b7] {\n    justify-content: center;\n    gap: 1rem;\n}\n.attribute-controls button[data-v-14e0a4b7] {\n    width: 38px;\n    height: 38px;\n    font-size: 1.6rem;\n}\n.attribute-value[data-v-14e0a4b7] {\n    font-size: 1.4rem;\n    min-width: 35px;\n}\n.actions[data-v-14e0a4b7] {\n    gap: 0.5rem;\n    padding: 1rem 0 0.5rem;\n}\n.actions button[data-v-14e0a4b7] {\n    padding: 0.6rem 1.2rem;\n    font-size: 0.9rem;\n}\n}\n@media (max-width: 480px) {\n.header h2[data-v-14e0a4b7] {\n    font-size: 1.1rem;\n}\n.points-display[data-v-14e0a4b7] {\n    font-size: 0.9rem;\n}\n.points-display span[data-v-14e0a4b7] {\n    font-size: 1.1rem;\n}\n.attribute-name[data-v-14e0a4b7] {\n    font-size: 0.95rem;\n}\n.attribute-desc[data-v-14e0a4b7] {\n    font-size: 0.7rem;\n}\n.attribute-controls button[data-v-14e0a4b7] {\n    width: 36px;\n    height: 36px;\n    font-size: 1.5rem;\n}\n.attribute-value[data-v-14e0a4b7] {\n    font-size: 1.3rem;\n    min-width: 32px;\n}\n.actions[data-v-14e0a4b7] {\n    flex-wrap: wrap;\n    padding: 0.75rem 0;\n}\n.actions button[data-v-14e0a4b7] {\n    flex: 1 1 calc(33.333% - 0.5rem);\n    min-width: 80px;\n    padding: 0.6rem 0.75rem;\n    font-size: 0.85rem;\n}\n}\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .attribute-allocation-container[data-v-14e0a4b7] {\n  background: rgba(248, 250, 252, 0.8);\n  border-color: rgba(0, 0, 0, 0.08);\n}\n[data-theme="light"] .header[data-v-14e0a4b7] {\n  border-bottom-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] h2[data-v-14e0a4b7] {\n  color: #2563eb;\n}\n[data-theme="light"] .points-display[data-v-14e0a4b7] {\n  color: #475569;\n}\n[data-theme="light"] .points-display span[data-v-14e0a4b7] {\n  color: #d97706;\n}\n[data-theme="light"] .attribute-item[data-v-14e0a4b7] {\n  background: rgba(255, 255, 255, 0.6);\n}\n[data-theme="light"] .attribute-item[data-v-14e0a4b7]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] .attribute-name[data-v-14e0a4b7] {\n  color: #2563eb;\n}\n[data-theme="light"] .attribute-desc[data-v-14e0a4b7] {\n  color: #475569;\n}\n[data-theme="light"] .attribute-value[data-v-14e0a4b7] {\n  color: #1e293b;\n}\n[data-theme="light"] .attribute-controls button[data-v-14e0a4b7] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #2563eb;\n}\n[data-theme="light"] .attribute-controls button[data-v-14e0a4b7]:hover:not(:disabled) {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n}\n[data-theme="light"] .actions button[data-v-14e0a4b7] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #1e293b;\n}\n[data-theme="light"] .actions button[data-v-14e0a4b7]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.5);\n}\n',""]);const s=i},5735:(e,t,n)=>{"use strict";n.d(t,{BC:()=>l,Ge:()=>d,VW:()=>c,Vd:()=>i,savePreset:()=>s});var a=n(5099),r=n(7760);const o="character_presets";async function i(){try{const e=await(0,a.loadFromIndexedDB)(o);return e&&Array.isArray(e.presets)?e.presets:[]}catch(e){return console.error("[È¢ÑËÆæÁÆ°ÁêÜÂô®] Âä†ËΩΩÈ¢ÑËÆæÂ§±Ë¥•:",e),[]}}async function s(e){try{const t=`preset_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={presets:[{id:t,savedAt:(new Date).toISOString(),...e},...await i()]};return await(0,a.saveData)(o,n),t}catch(e){throw console.error("[È¢ÑËÆæÁÆ°ÁêÜÂô®] ‰øùÂ≠òÈ¢ÑËÆæÂ§±Ë¥•:",e),e}}async function l(e){try{const t=await i(),n=t.filter(t=>t.id!==e);if(n.length===t.length)return;const r={presets:n};await(0,a.saveData)(o,r)}catch(e){throw console.error("[È¢ÑËÆæÁÆ°ÁêÜÂô®] Âà†Èô§È¢ÑËÆæÂ§±Ë¥•:",e),e}}async function c(e){try{console.log("[È¢ÑËÆæÁÆ°ÁêÜÂô®] ÂºÄÂßãÂØºÂá∫È¢ÑËÆæ:",e);const t=await i(),n=e&&e.length>0?t.filter(t=>e.includes(t.id)):t;if(0===n.length)throw new Error("Ê≤°ÊúâÂèØÂØºÂá∫ÁöÑÈ¢ÑËÆæ");const a=(0,r.q3)("presets",{presets:n}),o=JSON.stringify(a,null,2),s=new Blob([o],{type:"application/json"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l;const d=`character-presets-${(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5)}.json`;c.download=d,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l),console.log("[È¢ÑËÆæÁÆ°ÁêÜÂô®] È¢ÑËÆæÂØºÂá∫ÊàêÂäü:",d)}catch(e){throw console.error("[È¢ÑËÆæÁÆ°ÁêÜÂô®] ÂØºÂá∫È¢ÑËÆæÂ§±Ë¥•:",e),e}}async function d(e,t="merge"){try{console.log("[È¢ÑËÆæÁÆ°ÁêÜÂô®] ÂºÄÂßãÂØºÂÖ•È¢ÑËÆæ, Ê®°Âºè:",t);const n=await e.text(),s=JSON.parse(n),l=(0,r.ZT)(s);let c;if("presets"===l.type&&Array.isArray(l.payload?.presets))c=l.payload.presets;else{if(!Array.isArray(s.presets))throw new Error("Êó†ÊïàÁöÑÈ¢ÑËÆæÊñá‰ª∂Ê†ºÂºè");c=s.presets}let d=0,u=0;const m="replace"===t?[]:await i(),p=new Set(m.map(e=>e.id)),g=[];for(const e of c)try{if(!e.name||!e.data){console.warn("[È¢ÑËÆæÁÆ°ÁêÜÂô®] Ë∑≥ËøáÊó†ÊïàÈ¢ÑËÆæ:",e),u++;continue}let t=e.id;p.has(e.id)&&(t=`preset_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,console.log("[È¢ÑËÆæÁÆ°ÁêÜÂô®] IDÂÜ≤Á™Å,ÁîüÊàêÊñ∞ID:",e.id,"->",t));const n={...e,id:t,savedAt:(new Date).toISOString()};g.push(n),p.add(t),d++}catch(t){console.error("[È¢ÑËÆæÁÆ°ÁêÜÂô®] ÂØºÂÖ•È¢ÑËÆæÂ§±Ë¥•:",e,t),u++}const h={presets:"replace"===t?g:[...g,...m]};return await(0,a.saveData)(o,h),console.log("[È¢ÑËÆæÁÆ°ÁêÜÂô®] È¢ÑËÆæÂØºÂÖ•ÂÆåÊàê, ÊàêÂäü:",d,"Â§±Ë¥•:",u),{success:d,failed:u}}catch(e){throw console.error("[È¢ÑËÆæÁÆ°ÁêÜÂô®] ÂØºÂÖ•È¢ÑËÆæÂ§±Ë¥•:",e),e}}},5766:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.sect-migration[data-v-36b6c8d2] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  color: var(--color-text);\n}\n.migration-header h4[data-v-36b6c8d2] {\n  margin: 0 0 6px 0;\n  font-size: 1.05rem;\n}\n.migration-header p[data-v-36b6c8d2] {\n  margin: 0;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.migration-reasons[data-v-36b6c8d2] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 10px;\n}\n.reason-item[data-v-36b6c8d2] {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.reason-item .dot[data-v-36b6c8d2] {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: var(--color-warning);\n  flex-shrink: 0;\n}\n.migration-meta[data-v-36b6c8d2] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 10px;\n}\n.meta-item[data-v-36b6c8d2] {\n  padding: 8px 10px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.meta-item .label[data-v-36b6c8d2] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.meta-item .value[data-v-36b6c8d2] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.migration-actions[data-v-36b6c8d2] {\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n}\n.migration-actions button[data-v-36b6c8d2] {\n  border: none;\n  border-radius: 8px;\n  padding: 8px 14px;\n  font-size: 0.85rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.migration-actions .primary[data-v-36b6c8d2] {\n  background: linear-gradient(135deg, #22c55e, #16a34a);\n  color: white;\n}\n.migration-actions .primary[data-v-36b6c8d2]:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n.migration-actions .secondary[data-v-36b6c8d2] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  color: var(--color-text);\n}\n.migration-hint[data-v-36b6c8d2] {\n  margin: 0;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: rgba(var(--color-primary-rgb), 0.08);\n  padding: 8px 10px;\n  border-radius: 8px;\n}\n",""]);const s=i},5795:(e,t,n)=>{"use strict";var a=n(6549);if(a)try{a([],"length")}catch(e){a=null}e.exports=a},5828:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* ========== Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º ========== */\n.talent-tier-selection[data-v-aad5a04c] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.loading-state[data-v-aad5a04c], .error-state[data-v-aad5a04c], .placeholder[data-v-aad5a04c] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.1rem;\n  color: #94a3b8;\n  font-style: italic;\n}\n.tier-layout[data-v-aad5a04c] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 1.5rem;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* ========== Â∑¶‰æßÈù¢Êùø ========== */\n.tier-left-panel[data-v-aad5a04c] {\n  display: flex;\n  flex-direction: column;\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n/* È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ */\n.top-actions-container[data-v-aad5a04c] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.06);\n  background: rgba(30, 41, 59, 0.3);\n  justify-content: center;\n}\n.top-actions-container .action-item[data-v-aad5a04c] {\n  padding: 0.5rem 1rem;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.6);\n  color: #cbd5e1;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  font-size: 0.85rem;\n  font-weight: 500;\n  white-space: nowrap;\n  letter-spacing: 0.05em;\n}\n.top-actions-container .action-item[data-v-aad5a04c]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  border-color: rgba(147, 197, 253, 0.3);\n  color: #f1f5f9;\n}\n.tiers-list-container[data-v-aad5a04c] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.tiers-list-container[data-v-aad5a04c]::-webkit-scrollbar { width: 6px;\n}\n.tiers-list-container[data-v-aad5a04c]::-webkit-scrollbar-track { background: transparent;\n}\n.tiers-list-container[data-v-aad5a04c]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n.tiers-list-container[data-v-aad5a04c]::-webkit-scrollbar-thumb:hover { background: rgba(147, 197, 253, 0.5);\n}\n\n/* ========== ÈÄâÈ°πÂç°Ê†∑ÂºèÔºàÂ∏¶Â§©ËµÑËæâÂÖâÔºâ ========== */\n.tier-item[data-v-aad5a04c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.1rem 1.2rem;\n  margin-bottom: 0.6rem;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  border: 1px solid transparent;\n  background: rgba(30, 41, 59, 0.4);\n}\n.tier-item[data-v-aad5a04c]:hover {\n  background: rgba(var(--tier-glow-color-rgb, 147, 197, 253), 0.15);\n  border-color: rgba(var(--tier-glow-color-rgb, 147, 197, 253), 0.25);\n}\n.tier-item.selected[data-v-aad5a04c] {\n  background: rgba(var(--tier-glow-color-rgb, 147, 197, 253), 0.2);\n  border-color: rgba(var(--tier-glow-color-rgb, 147, 197, 253), 0.4);\n  box-shadow: 0 2px 8px rgba(var(--tier-glow-color-rgb, 147, 197, 253), 0.2);\n}\n.item-content[data-v-aad5a04c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n.tier-name[data-v-aad5a04c] {\n  font-weight: 600;\n  color: var(--tier-glow-color, #f1f5f9);\n  text-shadow: 0 0 10px rgba(var(--tier-glow-color-rgb, 147, 197, 253), 0.3);\n}\n.tier-points[data-v-aad5a04c] {\n  color: #fbbf24;\n  font-weight: 500;\n  font-size: 0.9rem;\n}\n\n/* ÊåâÈíÆÁªÑÂÆπÂô® */\n.action-buttons[data-v-aad5a04c] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.tier-item:hover .action-buttons[data-v-aad5a04c] {\n  opacity: 1;\n}\n.edit-btn[data-v-aad5a04c], .delete-btn[data-v-aad5a04c] {\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  color: #94a3b8;\n  cursor: pointer;\n  padding: 0.35rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n.edit-btn[data-v-aad5a04c]:hover {\n  color: #93c5fd;\n  background: rgba(147, 197, 253, 0.15);\n  border-color: rgba(147, 197, 253, 0.3);\n}\n.delete-btn[data-v-aad5a04c]:hover {\n  color: #f87171;\n  background: rgba(248, 113, 113, 0.15);\n  border-color: rgba(248, 113, 113, 0.3);\n}\n.action-name[data-v-aad5a04c] {\n  font-weight: 500;\n}\n\n/* ========== Âè≥‰æßËØ¶ÊÉÖÈù¢Êùø ========== */\n.tier-details-container[data-v-aad5a04c] {\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.tier-details[data-v-aad5a04c] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n.tier-details h2[data-v-aad5a04c] {\n  margin: 0 0 1rem 0;\n  font-size: 1.8rem;\n  text-align: center;\n  flex-shrink: 0;\n  text-shadow: 0 0 30px currentColor;\n}\n.description-scroll[data-v-aad5a04c] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.7;\n  padding-right: 0.5rem;\n  min-height: 0;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.description-scroll[data-v-aad5a04c]::-webkit-scrollbar { width: 6px;\n}\n.description-scroll[data-v-aad5a04c]::-webkit-scrollbar-track { background: transparent;\n}\n.description-scroll[data-v-aad5a04c]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n.description-scroll p[data-v-aad5a04c] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: #94a3b8;\n}\n.points-display[data-v-aad5a04c] {\n  text-align: center;\n  font-weight: 600;\n  color: #fbbf24;\n  font-size: 1.2rem;\n  padding-top: 1rem;\n  margin-top: 1rem;\n  border-top: 1px solid rgba(255, 255, 255, 0.06);\n  flex-shrink: 0;\n}\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .tier-left-panel[data-v-aad5a04c],\n[data-theme="light"] .tier-details-container[data-v-aad5a04c] {\n  background: rgba(248, 250, 252, 0.8);\n  border-color: rgba(0, 0, 0, 0.08);\n}\n[data-theme="light"] .top-actions-container[data-v-aad5a04c] {\n  background: rgba(241, 245, 249, 0.8);\n  border-color: rgba(0, 0, 0, 0.06);\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-aad5a04c] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #2563eb;\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-aad5a04c]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n  color: #1e40af;\n}\n[data-theme="light"] .tier-item[data-v-aad5a04c] {\n  background: rgba(255, 255, 255, 0.6);\n}\n[data-theme="light"] .description-scroll p[data-v-aad5a04c] {\n  color: #475569;\n}\n[data-theme="light"] .points-display[data-v-aad5a04c] {\n  border-color: rgba(0, 0, 0, 0.06);\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢ò‰∏ãÁöÑÁºñËæë/Âà†Èô§ÊåâÈíÆ */\n[data-theme="light"] .edit-btn[data-v-aad5a04c],\n[data-theme="light"] .delete-btn[data-v-aad5a04c] {\n  background: rgba(241, 245, 249, 0.8);\n  border: 1px solid rgba(59, 130, 246, 0.15);\n  color: #475569;\n}\n[data-theme="light"] .edit-btn[data-v-aad5a04c]:hover {\n  color: #2563eb;\n  background: rgba(59, 130, 246, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n}\n[data-theme="light"] .delete-btn[data-v-aad5a04c]:hover {\n  color: #dc2626;\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.3);\n}\n\n/* ÂìçÂ∫îÂºèÈÄÇÈÖç - ÊâãÊú∫Á´Ø‰ºòÂåñ */\n@media (max-width: 1200px) {\n.tier-layout[data-v-aad5a04c] {\n    grid-template-columns: 1fr 1.8fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 1024px) {\n.tier-layout[data-v-aad5a04c] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n.tier-details h2[data-v-aad5a04c] {\n    font-size: 1.8rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-aad5a04c] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n}\n.top-actions-container .action-item[data-v-aad5a04c] {\n    flex-grow: 1;\n    text-align: center;\n}\n.tier-layout[data-v-aad5a04c] {\n    /* Êîπ‰∏∫ÂûÇÁõ¥Â†ÜÂè†Â∏ÉÂ±Ä */\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;\n    gap: 1rem;\n    height: auto;\n    overflow: visible;\n    padding: 0.8rem;\n}\n.tier-left-panel[data-v-aad5a04c] {\n    order: 1;\n    max-height: 40vh;\n}\n.tier-details-container[data-v-aad5a04c] {\n    order: 2;\n    min-height: 300px;\n}\n.tiers-list-container[data-v-aad5a04c] {\n    max-height: 35vh;\n    /* Ê∑ªÂä†Ëß¶Êë∏ÊªöÂä®‰ºòÂåñ */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n\n  /* ‰ºòÂåñËß¶Êë∏‰ΩìÈ™å */\n.tier-item[data-v-aad5a04c],\n  .action-item[data-v-aad5a04c] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n}\n@media (max-width: 640px) {\n.tier-layout[data-v-aad5a04c] {\n    gap: 0.8rem;\n    padding: 0.6rem;\n}\n.tier-left-panel[data-v-aad5a04c] {\n    max-height: 35vh;\n}\n.tiers-list-container[data-v-aad5a04c] {\n    max-height: 30vh;\n    padding: 0.5rem;\n}\n.tier-item[data-v-aad5a04c] {\n    padding: 0.7rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-aad5a04c] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-aad5a04c] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.tier-details-container[data-v-aad5a04c] {\n    padding: 1.2rem;\n    min-height: 250px;\n}\n.tier-details h2[data-v-aad5a04c] {\n    font-size: 1.6rem;\n    margin-bottom: 0.8rem;\n}\n.points-display[data-v-aad5a04c] {\n    font-size: 1.1rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-aad5a04c] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.talent-tier-selection[data-v-aad5a04c] {\n    padding: 0.4rem;\n    height: auto;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.tier-layout[data-v-aad5a04c] {\n    gap: 0.6rem;\n    padding: 0;\n    height: auto;\n    min-height: 0;\n}\n.tier-left-panel[data-v-aad5a04c] {\n    max-height: none;\n    border-radius: 6px;\n}\n.tiers-list-container[data-v-aad5a04c] {\n    max-height: 26vh;\n    padding: 0.4rem;\n}\n.tier-item[data-v-aad5a04c] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.tier-name[data-v-aad5a04c] {\n    font-size: 0.9rem;\n}\n.tier-points[data-v-aad5a04c] {\n    font-size: 0.8rem;\n}\n.single-actions-container[data-v-aad5a04c] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-aad5a04c] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.tier-details-container[data-v-aad5a04c] {\n    padding: 1rem;\n    min-height: 200px;\n    border-radius: 6px;\n}\n.tier-details h2[data-v-aad5a04c] {\n    font-size: 1.4rem;\n    margin-bottom: 0.6rem;\n    text-align: center;\n}\n.description-scroll[data-v-aad5a04c] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n}\n.points-display[data-v-aad5a04c] {\n    font-size: 1rem;\n    text-align: center;\n    padding-top: 0.8rem;\n    margin-top: 0.8rem;\n}\n.placeholder[data-v-aad5a04c] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 150px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.top-actions-container[data-v-aad5a04c] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n}\n.top-actions-container .action-item[data-v-aad5a04c] {\n    text-align: center;\n}\n}\n@media (max-width: 360px) {\n.talent-tier-selection[data-v-aad5a04c] {\n    padding: 0.3rem;\n}\n.tier-layout[data-v-aad5a04c] {\n    gap: 0.4rem;\n}\n.tier-left-panel[data-v-aad5a04c] {\n    max-height: 28vh;\n}\n.tiers-list-container[data-v-aad5a04c] {\n    max-height: 24vh;\n    padding: 0.3rem;\n}\n.tier-item[data-v-aad5a04c] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.tier-name[data-v-aad5a04c] {\n    font-size: 0.8rem;\n}\n.tier-points[data-v-aad5a04c] {\n    font-size: 0.75rem;\n}\n.tier-details-container[data-v-aad5a04c] {\n    padding: 0.8rem;\n    min-height: 180px;\n}\n.tier-details h2[data-v-aad5a04c] {\n    font-size: 1.2rem;\n    margin-bottom: 0.5rem;\n}\n.description-scroll[data-v-aad5a04c] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n}\n.points-display[data-v-aad5a04c] {\n    font-size: 0.9rem;\n    padding-top: 0.6rem;\n    margin-top: 0.6rem;\n}\n.action-item[data-v-aad5a04c] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-aad5a04c] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n    min-height: 120px;\n}\n}\n',""]);const s=i},5864:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n/* Unified style tokens for Character Management */\n.character-management-panel[data-v-4c498e10] {\n  --cm-radius-sm: 6px;\n  --cm-radius-md: 8px;\n  --cm-radius-lg: 12px;\n  --cm-gap-xs: 0.25rem;\n  --cm-gap-sm: 0.5rem;\n  --cm-gap-md: 0.8rem;\n  --cm-gap-lg: 1rem;\n  --cm-border-width: 1px;\n  --cm-border-strong: 2px;\n  --cm-divider-width: 2px;\n  /* Card sizing tokens */\n  --cm-card-min-h: 92px;\n  --cm-card-padding: 0.9rem;\n  --cm-avatar-size: 36px;\n  --cm-header-gap: 0.75rem;\n  --cm-name-font: 1rem;\n  --cm-meta-font: 0.8rem;\n  --cm-save-count-minw: 36px;\n  --cm-save-count-count-font: 1.05rem;\n  --cm-save-count-label-font: 0.7rem;\n}\n/* Âü∫Á°ÄÊ†∑ÂºèÈáçÁΩÆ */\n[data-v-4c498e10] {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n/* Ëá™ÂÆö‰πâÂØπËØùÊ°ÜÊ†∑Âºè */\n.dialog-overlay[data-v-4c498e10] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(10, 20, 30, 0.6);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  transition: opacity 0.3s ease;\n}\n.dialog-box[data-v-4c498e10] {\n  background: var(--color-surface-transparent);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 2rem;\n  width: 90%;\n  max-width: 450px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n  color: var(--color-text);\n  transform: scale(0.95);\n  opacity: 0;\n  animation: dialog-fade-in-4c498e10 0.3s forwards;\n}\n@keyframes dialog-fade-in-4c498e10 {\nto {\n    transform: scale(1);\n    opacity: 1;\n}\n}\n.dialog-title[data-v-4c498e10] {\n  font-size: 1.5rem;\n  color: var(--color-accent);\n  margin: 0 0 1rem 0;\n  font-weight: 600;\n}\n.dialog-message[data-v-4c498e10] {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  margin: 0 0 1.5rem 0;\n  line-height: 1.6;\n}\n.dialog-points[data-v-4c498e10] {\n  background: rgba(var(--color-panel-rgb), 0.3);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 0.75rem 1rem;\n  margin-bottom: 1.5rem;\n  display: grid;\n  gap: 0.4rem;\n  color: var(--color-text);\n}\n.dialog-points .points-row[data-v-4c498e10] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.95rem;\n}\n.dialog-input[data-v-4c498e10] {\n  width: 100%;\n  padding: 0.8rem 1rem;\n  background: var(--color-background-transparent);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text);\n  font-size: 1rem;\n  margin-bottom: 1.5rem;\n  transition:\n    border-color 0.3s,\n    box-shadow 0.3s;\n}\n.dialog-input[data-v-4c498e10]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.2);\n}\n.dialog-actions[data-v-4c498e10] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n}\n.btn-dialog-confirm[data-v-4c498e10],\n.btn-dialog-cancel[data-v-4c498e10] {\n  padding: 0.6rem 1.5rem;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s;\n}\n.btn-dialog-confirm[data-v-4c498e10] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.btn-dialog-confirm[data-v-4c498e10]:hover {\n  background: var(--color-primary-dark);\n  transform: translateY(-2px);\n}\n.btn-dialog-cancel[data-v-4c498e10] {\n  background: var(--color-surface);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-dialog-cancel[data-v-4c498e10]:hover {\n  background: var(--color-background);\n}\n.btn-dialog-confirm[data-v-4c498e10]:disabled,\n.btn-dialog-cancel[data-v-4c498e10]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* ‰∏ªÂÆπÂô®Ê†∑Âºè */\n.character-management-panel[data-v-4c498e10] {\n  width: 100%;\n  height: 100%;\n  background: var(--color-background);\n  color: var(--color-text);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n}\n.character-management-panel.fullscreen[data-v-4c498e10] {\n  background: var(--color-background);\n}\n\n/* ÂÖ®Â±èÊ®°ÂºèÂ§¥ÈÉ® */\n.fullscreen-header[data-v-4c498e10] {\n  position: relative;\n  z-index: 10;\n  padding: 2rem;\n  background: var(--color-surface-transparent);\n  backdrop-filter: blur(12px);\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.fullscreen-back-btn[data-v-4c498e10] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: transparent;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n}\n.fullscreen-back-btn[data-v-4c498e10]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  border-color: var(--color-primary);\n}\n.fullscreen-title[data-v-4c498e10] {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  text-align: center;\n}\n.fullscreen-title h1[data-v-4c498e10] {\n  font-family: var(--font-family-serif);\n  font-size: 2.5rem;\n  font-weight: 500;\n  letter-spacing: 0.3em;\n  color: var(--color-text);\n  text-shadow: 0 0 20px rgba(var(--color-primary-rgb), 0.4);\n  margin: 0 0 0.5rem 0;\n  padding-left: 0.3em;\n}\n.fullscreen-title p[data-v-4c498e10] {\n  font-size: 1rem;\n  color: var(--color-text-secondary);\n  letter-spacing: 0.1em;\n  opacity: 0.8;\n  margin: 0;\n}\n\n/* ‰∏ª‰ΩìÂÜÖÂÆπ */\n.main-content[data-v-4c498e10] {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.main-content.fullscreen-content[data-v-4c498e10] {\n  position: relative;\n  flex: 1;\n  overflow: hidden;\n}\n\n/* ÁßªÂä®Á´ØÂ§¥ÈÉ®ÂØºËà™ */\n.mobile-header[data-v-4c498e10] {\n  display: none;\n  background: var(--color-surface-transparent);\n  backdrop-filter: blur(12px);\n  border-bottom: 1px solid var(--color-border);\n  padding: 1rem;\n  align-items: center;\n  gap: 1rem;\n  position: sticky;\n  top: 0;\n  z-index: 100;\n}\n.mobile-menu-btn[data-v-4c498e10] {\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  padding: 0.8rem 1rem;\n  background: linear-gradient(\n    135deg,\n    rgba(var(--color-surface-rgb), 0.8),\n    rgba(var(--color-background-rgb), 0.6)\n  );\n  backdrop-filter: blur(10px);\n  border: 2px solid rgba(var(--color-border-rgb), 0.3);\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n  font-weight: 600;\n  position: relative;\n  overflow: hidden;\n}\n.mobile-menu-btn[data-v-4c498e10]:hover {\n  background: linear-gradient(\n    135deg,\n    rgba(var(--color-surface-rgb), 0.9),\n    rgba(var(--color-background-rgb), 0.7)\n  );\n  color: var(--color-primary);\n  border-color: var(--color-primary);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.2);\n}\n.mobile-menu-btn.active[data-v-4c498e10] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: white;\n  border-color: var(--color-primary);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);\n}\n.hamburger[data-v-4c498e10] {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  width: 16px;\n  height: 12px;\n}\n.hamburger span[data-v-4c498e10] {\n  display: block;\n  height: 2px;\n  width: 100%;\n  background: currentColor;\n  border-radius: 1px;\n  transition: transform 0.2s ease;\n}\n.mobile-menu-btn.active .hamburger span[data-v-4c498e10]:nth-child(1) {\n  transform: rotate(45deg) translate(3px, 3px);\n}\n.mobile-menu-btn.active .hamburger span[data-v-4c498e10]:nth-child(2) {\n  opacity: 0;\n}\n.mobile-menu-btn.active .hamburger span[data-v-4c498e10]:nth-child(3) {\n  transform: rotate(-45deg) translate(3px, -3px);\n}\n.mobile-title[data-v-4c498e10] {\n  flex: 1;\n  min-width: 0; /* Allow shrinking and text-overflow to work */\n}\n.mobile-title h2[data-v-4c498e10] {\n  margin: 0;\n  font-size: 1.2rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.mobile-title .selected-info[data-v-4c498e10] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-top: 0.2rem;\n  /* Fix for vertical text issue on small screens */\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.panel-overlay[data-v-4c498e10] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1100;\n}\n\n/* Á©∫Áä∂ÊÄÅ */\n.empty-state[data-v-4c498e10] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 2rem;\n}\n.empty-icon[data-v-4c498e10] {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n}\n.empty-state h2[data-v-4c498e10] {\n  color: var(--color-accent);\n  margin-bottom: 0.5rem;\n}\n.empty-actions[data-v-4c498e10] {\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n}\n.btn-create[data-v-4c498e10],\n.btn-import[data-v-4c498e10] {\n  padding: 1rem 2rem;\n  color: white;\n  border-radius: 12px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n.btn-create[data-v-4c498e10] {\n  background: linear-gradient(135deg, var(--color-success), var(--color-info));\n  border: 1px solid var(--color-success);\n}\n.btn-create[data-v-4c498e10]:hover {\n  transform: scale(1.05);\n}\n.btn-import[data-v-4c498e10] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  border: 1px solid var(--color-primary);\n}\n.btn-import[data-v-4c498e10]:hover {\n  transform: scale(1.05);\n}\n\n/* ÁÆ°ÁêÜÂ∏ÉÂ±Ä - 3Ë°å2ÂàóÁΩëÊ†º */\n.management-layout[data-v-4c498e10] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 100%;\n}\n\n/* 3Ë°å2ÂàóÁΩëÊ†ºÂ∏ÉÂ±Ä - ÁÆÄÊ¥ÅÁâàÊú¨ */\n.grid-container[data-v-4c498e10] {\n  display: grid;\n  grid-template-columns: 320px 1fr;\n  grid-template-rows: auto 1fr auto;\n  grid-template-areas:\n    'header-left header-right'\n    'content-left content-right'\n    'footer-left footer-right';\n  height: 100%;\n  overflow: hidden;\n  /* ‰ΩøÁî®Âçï‰∏ÄÂûÇÁõ¥ÂàÜÂâ≤Á∫ø */\n  position: relative;\n}\n\n/* Áªü‰∏ÄÁöÑÂûÇÁõ¥ÂàÜÂâ≤Á∫ø */\n.grid-container[data-v-4c498e10]::before {\n  content: '';\n  position: absolute;\n  left: 320px;\n  top: 0;\n  bottom: 0;\n  width: 2px;\n  background: var(--color-primary);\n  z-index: 10;\n}\n\n/* Ê†áÈ¢òÊ†è - ÁÆÄÂåñÊ†∑Âºè */\n.grid-header-left[data-v-4c498e10],\n.grid-header-right[data-v-4c498e10] {\n  padding: 0.8rem 1rem;\n  background: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n}\n.grid-header-left h2[data-v-4c498e10],\n.grid-header-right h2[data-v-4c498e10] {\n  margin: 0;\n  font-size: 1rem;\n  color: var(--color-text);\n  font-weight: 600;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.header-title-group[data-v-4c498e10] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex: 1;\n  min-width: 0;\n}\n.btn-header-action[data-v-4c498e10] {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  padding: 0.4rem 0.8rem;\n  border: 1px solid;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  font-weight: 600;\n  transition: all 0.2s ease;\n  background: var(--color-surface);\n  flex-shrink: 0;\n}\n.btn-header-action.import[data-v-4c498e10] {\n  color: var(--color-info);\n  border-color: rgba(var(--color-info-rgb), 0.4);\n}\n.btn-header-action.import[data-v-4c498e10]:hover {\n  background: rgba(var(--color-info-rgb), 0.1);\n  border-color: var(--color-info);\n}\n.character-count[data-v-4c498e10] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: var(--color-background);\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n}\n\n/* Âè≥‰æßÊ†áÈ¢òÊ†èÂ∏ÉÂ±Ä */\n.header-left-content[data-v-4c498e10] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n  flex: 1;\n  min-width: 0;\n}\n.selected-char-info[data-v-4c498e10] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  background: linear-gradient(\n    135deg,\n    rgba(var(--color-primary-rgb), 0.1),\n    rgba(var(--color-accent-rgb), 0.05)\n  );\n  padding: 0.3rem 0.6rem;\n  border-radius: 6px;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.3);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: fit-content;\n}\n\n/* Â≠òÊ°£Êìç‰ΩúÊåâÈíÆÁªÑ */\n.save-actions-buttons[data-v-4c498e10] {\n  display: flex;\n  gap: 0.6rem;\n  flex-shrink: 0;\n}\n.btn-save-action[data-v-4c498e10] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.6rem 1rem;\n  border: 2px solid;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  background: linear-gradient(\n    135deg,\n    rgba(var(--color-surface-rgb), 0.8),\n    rgba(var(--color-background-rgb), 0.6)\n  );\n  backdrop-filter: blur(10px);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n.btn-save-action.export[data-v-4c498e10] {\n  color: var(--color-success);\n  border-color: rgba(var(--color-success-rgb), 0.4);\n}\n.btn-save-action.export[data-v-4c498e10]:hover:not(:disabled) {\n  background: linear-gradient(135deg, var(--color-success), rgba(var(--color-success-rgb), 0.8));\n  color: white;\n  border-color: var(--color-success);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-success-rgb), 0.3);\n}\n.btn-save-action.import[data-v-4c498e10] {\n  color: var(--color-info);\n  border-color: rgba(var(--color-info-rgb), 0.4);\n}\n.btn-save-action.import[data-v-4c498e10]:hover:not(:disabled) {\n  background: linear-gradient(135deg, var(--color-info), rgba(var(--color-info-rgb), 0.8));\n  color: white;\n  border-color: var(--color-info);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-info-rgb), 0.3);\n}\n.btn-save-action.migrate[data-v-4c498e10] {\n  color: var(--color-warning);\n  border-color: rgba(var(--color-warning-rgb), 0.4);\n}\n.btn-save-action.migrate[data-v-4c498e10]:hover:not(:disabled) {\n  background: linear-gradient(135deg, var(--color-warning), rgba(var(--color-warning-rgb), 0.85));\n  color: #1a1a1a;\n  border-color: var(--color-warning);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-warning-rgb), 0.3);\n}\n.btn-save-action[data-v-4c498e10]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  filter: grayscale(0.5);\n}\n.btn-save-action[data-v-4c498e10]:disabled:hover {\n  transform: none;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n\n/* ÂÜÖÂÆπÂå∫Âüü - ÁÆÄÂåñÊ†∑Âºè */\n.grid-content-left[data-v-4c498e10],\n.grid-content-right[data-v-4c498e10] {\n  background: var(--color-background);\n}\n\n/* Â∫ïÈÉ®Âå∫Âüü */\n.grid-footer-left[data-v-4c498e10],\n.grid-footer-right[data-v-4c498e10] {\n  min-height: 0;\n}\n\n/* ËßíËâ≤Èù¢Êùø - ÁÆÄÂåñ */\n.characters-panel[data-v-4c498e10] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\n.characters-grid[data-v-4c498e10] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n\n/* ËßíËâ≤Âç°Áâá - ÁÆÄÂåñÁ¥ßÂáëËÆæËÆ° */\n.character-card[data-v-4c498e10] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 0.6rem;\n  margin-bottom: 0.4rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.character-card[data-v-4c498e10]:hover {\n  border-color: var(--color-primary);\n  box-shadow: 0 1px 4px rgba(var(--color-primary-rgb), 0.2);\n}\n.character-card.active[data-v-4c498e10] {\n  border-color: var(--color-success);\n  background: rgba(var(--color-success-rgb), 0.05);\n}\n.character-card.single-mode[data-v-4c498e10] {\n  border-left: 3px solid var(--color-success);\n}\n.character-card.online-mode[data-v-4c498e10] {\n  border-left: 3px solid var(--color-primary);\n}\n\n/* Âç°ÁâáÂ§¥ÈÉ® - ÁÆÄÂåñ */\n.card-header[data-v-4c498e10] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.char-avatar[data-v-4c498e10] {\n  position: relative;\n  width: 48px;\n  height: 48px;\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: white;\n  font-size: 1.2rem;\n  flex-shrink: 0;\n  background: linear-gradient(135deg, #10b981, #3b82f6);\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n  border: 2px solid rgba(255, 255, 255, 0.2);\n}\n.char-avatar.ËÅîÊú∫[data-v-4c498e10] {\n  background: linear-gradient(135deg, #3b82f6, #0ea5e9);\n}\n.char-info[data-v-4c498e10] {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n}\n.name-row[data-v-4c498e10] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.char-name[data-v-4c498e10] {\n  margin: 0;\n  font-size: 1rem;\n  color: var(--color-text);\n  font-weight: 700;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  letter-spacing: 0.5px;\n}\n.mode-badge[data-v-4c498e10] {\n  font-size: 0.65rem;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-weight: 600;\n  line-height: 1.2;\n}\n.mode-badge.single[data-v-4c498e10] {\n  background: rgba(16, 185, 129, 0.15);\n  color: #10b981;\n  border: 1px solid rgba(16, 185, 129, 0.3);\n}\n.mode-badge.online[data-v-4c498e10] {\n  background: rgba(59, 130, 246, 0.15);\n  color: #3b82f6;\n  border: 1px solid rgba(59, 130, 246, 0.3);\n}\n.char-meta[data-v-4c498e10] {\n  display: flex;\n  gap: 0.3rem;\n  font-size: 0.65rem;\n  color: var(--color-text-secondary);\n}\n.save-count[data-v-4c498e10] {\n  text-align: center;\n  flex-shrink: 0;\n  min-width: 28px;\n}\n.save-count .count[data-v-4c498e10] {\n  display: block;\n  font-size: 0.9rem;\n  font-weight: bold;\n  color: var(--color-accent);\n  line-height: 1;\n}\n.save-count .label[data-v-4c498e10] {\n  font-size: 0.6rem;\n  color: var(--color-text-secondary);\n  line-height: 1;\n}\n\n/* Âç°ÁâáÊìç‰Ωú - ÁÆÄÂåñÊåâÈíÆ */\n.card-actions[data-v-4c498e10] {\n  display: flex;\n  gap: 0.3rem;\n  margin-top: 0.5rem;\n  padding-top: 0.5rem;\n  border-top: 1px solid var(--color-border);\n}\n.btn-details[data-v-4c498e10],\n.btn-export[data-v-4c498e10],\n.btn-delete[data-v-4c498e10] {\n  flex: 1;\n  padding: 0.3rem 0.5rem;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  cursor: pointer;\n  font-size: 0.7rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  background: var(--color-background);\n}\n.btn-details[data-v-4c498e10] {\n  color: var(--color-info);\n  border-color: var(--color-info);\n}\n.btn-details[data-v-4c498e10]:hover {\n  background: var(--color-info);\n  color: white;\n}\n.btn-export[data-v-4c498e10] {\n  color: var(--color-success);\n  border-color: var(--color-success);\n}\n.btn-export[data-v-4c498e10]:hover {\n  background: var(--color-success);\n  color: white;\n}\n.btn-delete[data-v-4c498e10] {\n  color: var(--color-error);\n  border-color: var(--color-error);\n}\n.btn-delete[data-v-4c498e10]:hover {\n  background: var(--color-error);\n  color: white;\n}\n\n/* Âè≥‰æßÂ≠òÊ°£Èù¢Êùø - ÁÆÄÂåñ */\n.saves-panel[data-v-4c498e10] {\n  background: var(--color-background);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* Êó†ÈÄâÊã©Áä∂ÊÄÅ */\n.no-selection[data-v-4c498e10] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-text-secondary);\n}\n.no-selection-icon[data-v-4c498e10] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n\n/* Êñ∞Â¢ûÔºöÂä†ËΩΩÂ≠òÊ°£Ê†∑Âºè */\n.loading-saves[data-v-4c498e10] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-text-secondary);\n}\n.loading-spinner[data-v-4c498e10] {\n  width: 40px;\n  height: 40px;\n  border: 4px solid rgba(var(--color-primary-rgb), 0.2);\n  border-top-color: var(--color-primary);\n  border-radius: 50%;\n  animation: spin-4c498e10 1s linear infinite;\n  margin-bottom: 1rem;\n}\n@keyframes spin-4c498e10 {\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* Â≠òÊ°£ÂÆπÂô® */\n.saves-container[data-v-4c498e10],\n.online-saves-container[data-v-4c498e10] {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 1rem;\n  height: 0;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(var(--color-primary-rgb), 0.3) transparent;\n}\n.saves-container[data-v-4c498e10]::-webkit-scrollbar,\n.online-saves-container[data-v-4c498e10]::-webkit-scrollbar {\n  width: 6px;\n}\n.saves-container[data-v-4c498e10]::-webkit-scrollbar-track,\n.online-saves-container[data-v-4c498e10]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.saves-container[data-v-4c498e10]::-webkit-scrollbar-thumb,\n.online-saves-container[data-v-4c498e10]::-webkit-scrollbar-thumb {\n  background: rgba(var(--color-primary-rgb), 0.3);\n  border-radius: 3px;\n}\n.saves-container[data-v-4c498e10]::-webkit-scrollbar-thumb:hover,\n.online-saves-container[data-v-4c498e10]::-webkit-scrollbar-thumb:hover {\n  background: rgba(var(--color-primary-rgb), 0.5);\n}\n.saves-section[data-v-4c498e10] {\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n}\n\n/* ‰∏äÊ¨°ÂØπËØùÂ≠òÊ°£Âå∫Âüü */\n.auto-saves-section[data-v-4c498e10] {\n  margin-bottom: 1.5rem;\n}\n.auto-saves-section h3[data-v-4c498e10] {\n  margin: 0 0 0.8rem 0;\n  color: var(--color-warning);\n  font-size: 1rem;\n  font-weight: 600;\n}\n.auto-saves-grid[data-v-4c498e10] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n\n/* ÊâãÂä®Â≠òÊ°£Âå∫Âüü */\n.manual-saves-section[data-v-4c498e10] {\n  margin-bottom: 1rem;\n}\n.manual-saves-header[data-v-4c498e10] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.8rem;\n}\n.manual-saves-header h3[data-v-4c498e10] {\n  margin: 0;\n  color: var(--color-warning);\n  font-size: 1rem;\n  font-weight: 600;\n}\n.save-info-text[data-v-4c498e10] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n.manual-saves-grid[data-v-4c498e10] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));\n  gap: 1rem;\n  max-height: 400px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 0;\n  -webkit-overflow-scrolling: touch;\n  scroll-behavior: smooth;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(var(--color-primary-rgb), 0.3) transparent;\n}\n.manual-saves-grid[data-v-4c498e10]::-webkit-scrollbar {\n  width: 6px;\n}\n.manual-saves-grid[data-v-4c498e10]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.manual-saves-grid[data-v-4c498e10]::-webkit-scrollbar-thumb {\n  background: rgba(var(--color-primary-rgb), 0.3);\n  border-radius: 3px;\n}\n.manual-saves-grid[data-v-4c498e10]::-webkit-scrollbar-thumb:hover {\n  background: rgba(var(--color-primary-rgb), 0.5);\n}\n\n/* Â≠òÊ°£Âç°Áâá */\n.save-card[data-v-4c498e10],\n.online-save-card[data-v-4c498e10] {\n  background: linear-gradient(\n    135deg,\n    rgba(var(--color-surface-rgb), 0.9),\n    rgba(var(--color-background-rgb), 0.7)\n  );\n  backdrop-filter: blur(15px);\n  border: 2px solid rgba(var(--color-border-rgb), 0.6);\n  border-radius: 8px;\n  padding: 0.9rem;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: var(--color-text);\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  -webkit-tap-highlight-color: transparent;\n  touch-action: manipulation;\n}\n.save-card[data-v-4c498e10]::before,\n.online-save-card[data-v-4c498e10]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(\n    135deg,\n    rgba(var(--color-primary-rgb), 0.06),\n    rgba(var(--color-accent-rgb), 0.03)\n  );\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  border-radius: 8px;\n}\n.save-card[data-v-4c498e10]:hover::before,\n.online-save-card[data-v-4c498e10]:hover::before {\n  opacity: 1;\n}\n.save-card[data-v-4c498e10]:hover,\n.online-save-card[data-v-4c498e10]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow:\n    0 4px 15px rgba(var(--color-primary-rgb), 0.15),\n    0 2px 8px rgba(0, 0, 0, 0.08);\n}\n.save-card.has-data[data-v-4c498e10] {\n  border-left: 4px solid var(--color-success);\n  border-color: rgba(var(--color-success-rgb), 0.8);\n  position: relative;\n}\n.save-card.auto-save[data-v-4c498e10] {\n  border-left-color: var(--color-info);\n  border-color: rgba(var(--color-info-rgb), 0.8);\n}\n.save-icon[data-v-4c498e10] {\n  display: inline-block;\n  margin-right: 0.5rem;\n  vertical-align: middle;\n  position: relative;\n  top: -1px;\n}\n.last-save-icon[data-v-4c498e10] {\n  color: var(--color-primary);\n}\n.time-save-icon[data-v-4c498e10] {\n  color: var(--color-warning);\n}\n.save-card.has-data[data-v-4c498e10]::after {\n  content: '';\n  position: absolute;\n  top: 0.7rem;\n  right: 0.7rem;\n  width: 6px;\n  height: 6px;\n  background: var(--color-success);\n  border-radius: 50%;\n  box-shadow: 0 0 8px rgba(var(--color-success-rgb), 0.6);\n}\n\n/* Â≠òÊ°£Êï∞ÊçÆ */\n.save-header[data-v-4c498e10] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.8rem;\n}\n.save-name[data-v-4c498e10] {\n  margin: 0;\n  font-size: 1rem;\n  color: var(--color-warning);\n  font-weight: 600;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 140px;\n}\n.save-badges[data-v-4c498e10] {\n  display: flex;\n  gap: 0.4rem;\n  flex-shrink: 0;\n}\n.realm-badge[data-v-4c498e10],\n.age-badge[data-v-4c498e10] {\n  padding: 2px 6px;\n  border-radius: 8px;\n  font-size: 0.7rem;\n  font-weight: 600;\n  white-space: nowrap;\n}\n.realm-badge[data-v-4c498e10] {\n  background: rgba(var(--color-success-rgb), 0.15);\n  color: var(--color-success);\n}\n.age-badge[data-v-4c498e10] {\n  background: rgba(var(--color-accent-rgb), 0.15);\n  color: var(--color-accent);\n}\n\n/* Â≠òÊ°£ÁªüËÆ° */\n.save-stats[data-v-4c498e10] {\n  margin-bottom: 0.8rem;\n}\n.stat-grid[data-v-4c498e10] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 0.6rem;\n}\n.stat[data-v-4c498e10] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.8rem;\n  align-items: center;\n}\n.stat .label[data-v-4c498e10] {\n  color: var(--color-text-secondary);\n  font-size: 0.75rem;\n}\n.stat .value[data-v-4c498e10] {\n  color: var(--color-text);\n  font-weight: 600;\n  font-size: 0.8rem;\n}\n\n/* Â≠òÊ°£Â∫ïÈÉ® */\n.save-footer[data-v-4c498e10] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  padding-top: 0.6rem;\n  border-top: 1px solid rgba(var(--color-border-rgb), 0.2);\n}\n.save-footer .location[data-v-4c498e10] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 120px;\n}\n.sync-status[data-v-4c498e10] {\n  padding: 1px 4px;\n  border-radius: 3px;\n  font-weight: 600;\n  font-size: 0.7rem;\n}\n.sync-status.synced[data-v-4c498e10] {\n  background: rgba(var(--color-success-rgb), 0.15);\n  color: var(--color-success);\n}\n\n/* Á©∫Â≠òÊ°£ */\n.save-empty[data-v-4c498e10] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  color: var(--color-text-secondary);\n  min-height: 100px;\n  padding: 1.5rem;\n}\n.save-empty .empty-hint[data-v-4c498e10] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin: 0.5rem 0 1rem 0;\n  opacity: 0.8;\n}\n.loading-saves[data-v-4c498e10] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  color: var(--color-text-secondary);\n  gap: 0.75rem;\n}\n.loading-saves .loading-spinner[data-v-4c498e10] {\n  font-size: 1.5rem;\n  animation: spin-4c498e10 1s linear infinite;\n}\n@keyframes spin-4c498e10 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n.empty-slot-icon[data-v-4c498e10] {\n  font-size: 2rem;\n  margin-bottom: 0.4rem;\n  opacity: 0.6;\n}\n.empty-text[data-v-4c498e10] {\n  margin-bottom: 0.6rem;\n  font-size: 0.9rem;\n}\n.empty-desc[data-v-4c498e10] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  opacity: 0.8;\n}\n.auto-save-desc[data-v-4c498e10] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  display: block;\n  margin-top: 0.3rem;\n}\n\n/* Â≠òÊ°£Êìç‰ΩúÊåâÈíÆ */\n.save-actions[data-v-4c498e10] {\n  display: flex;\n  gap: 0.4rem;\n}\n.btn-export-save[data-v-4c498e10],\n.btn-edit-save[data-v-4c498e10],\n.btn-delete-save[data-v-4c498e10] {\n  cursor: pointer;\n  padding: 0.3rem 0.5rem;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n  font-size: 0.7rem;\n  font-weight: 600;\n  border: 1px solid;\n  backdrop-filter: blur(5px);\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  min-width: 26px;\n  height: 26px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.btn-export-save[data-v-4c498e10] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  border-color: rgba(var(--color-success-rgb), 0.3);\n  color: var(--color-success);\n}\n.btn-export-save[data-v-4c498e10]:hover {\n  background: rgba(var(--color-success-rgb), 0.2);\n  border-color: rgba(var(--color-success-rgb), 0.5);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(var(--color-success-rgb), 0.2);\n}\n.btn-edit-save[data-v-4c498e10] {\n  background: rgba(var(--color-info-rgb), 0.1);\n  border-color: rgba(var(--color-info-rgb), 0.3);\n  color: var(--color-info);\n}\n.btn-edit-save[data-v-4c498e10]:hover {\n  background: rgba(var(--color-info-rgb), 0.2);\n  border-color: rgba(var(--color-info-rgb), 0.5);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(var(--color-info-rgb), 0.2);\n}\n.btn-delete-save[data-v-4c498e10] {\n  background: rgba(var(--color-error-rgb), 0.1);\n  border-color: rgba(var(--color-error-rgb), 0.3);\n  color: var(--color-error);\n}\n.btn-delete-save[data-v-4c498e10]:hover:not(.disabled):not(:disabled) {\n  background: rgba(var(--color-error-rgb), 0.2);\n  border-color: rgba(var(--color-error-rgb), 0.5);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(var(--color-error-rgb), 0.2);\n}\n.btn-delete-save.disabled[data-v-4c498e10],\n.btn-delete-save[data-v-4c498e10]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  background: rgba(128, 128, 128, 0.1) !important;\n  border-color: rgba(128, 128, 128, 0.2) !important;\n  color: #888 !important;\n  transform: none !important;\n  box-shadow: none !important;\n}\n\n/* ÊåâÈíÆÊ†∑Âºè */\n.btn-start[data-v-4c498e10],\n.btn-play[data-v-4c498e10],\n.btn-sync[data-v-4c498e10] {\n  padding: 0.6rem 1rem;\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: white;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.5);\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.25);\n  position: relative;\n  overflow: hidden;\n}\n.btn-start[data-v-4c498e10]:hover,\n.btn-play[data-v-4c498e10]:hover,\n.btn-sync[data-v-4c498e10]:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.35);\n}\n.btn-start[data-v-4c498e10]::before,\n.btn-play[data-v-4c498e10]::before,\n.btn-sync[data-v-4c498e10]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);\n  transition: left 0.4s;\n}\n.btn-start[data-v-4c498e10]:hover::before,\n.btn-play[data-v-4c498e10]:hover::before,\n.btn-sync[data-v-4c498e10]:hover::before {\n  left: 100%;\n}\n\n/* ËÅîÊú∫Ê®°ÂºèÊ†∑Âºè */\n.online-saves-container[data-v-4c498e10] {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 1rem;\n  height: 0;\n}\n.login-prompt[data-v-4c498e10] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 2rem;\n}\n.login-icon[data-v-4c498e10] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n.btn-login[data-v-4c498e10] {\n  padding: 0.8rem 1.5rem;\n  background: var(--color-primary);\n  color: white;\n  border: 1px solid var(--color-primary-active);\n  border-radius: 8px;\n  cursor: pointer;\n  margin-top: 1rem;\n}\n.online-save-card[data-v-4c498e10] {\n  background: linear-gradient(\n    135deg,\n    rgba(var(--color-surface-rgb), 0.9),\n    rgba(var(--color-background-rgb), 0.7)\n  );\n  backdrop-filter: blur(15px);\n  border: 2px solid rgba(var(--color-border-rgb), 0.6);\n  border-radius: 8px;\n  padding: 0.9rem;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: var(--color-text);\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n.online-actions[data-v-4c498e10] {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n}\n\n/* ËØ¶ÊÉÖÂºπÁ™ó */\n.modal-overlay[data-v-4c498e10] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  backdrop-filter: blur(4px);\n}\n.details-modal[data-v-4c498e10] {\n  background: var(--color-surface-transparent);\n  backdrop-filter: blur(20px);\n  border-radius: 15px;\n  width: 90%;\n  max-width: 800px;\n  max-height: 90vh;\n  overflow-y: auto;\n  border: 1px solid var(--color-border);\n}\n.modal-header[data-v-4c498e10] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem 2rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-header h3[data-v-4c498e10] {\n  margin: 0;\n  color: var(--color-accent);\n}\n.btn-close[data-v-4c498e10] {\n  background: none;\n  border: 1px solid var(--color-border);\n  font-size: 1.5rem;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.1rem;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n}\n.modal-content[data-v-4c498e10] {\n  padding: 2rem;\n}\n.details-grid[data-v-4c498e10] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 2rem;\n}\n.detail-section[data-v-4c498e10] {\n  background: linear-gradient(\n    135deg,\n    rgba(var(--color-primary-rgb), 0.08),\n    rgba(var(--color-accent-rgb), 0.06)\n  );\n  border: 1px solid rgba(var(--color-primary-rgb), 0.15);\n  border-radius: 10px;\n  padding: 1.5rem;\n  backdrop-filter: blur(8px);\n}\n.detail-section h4[data-v-4c498e10] {\n  margin: 0 0 1rem 0;\n  color: var(--color-warning);\n}\n.detail-items[data-v-4c498e10] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.8rem;\n}\n.detail-item[data-v-4c498e10] {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem 0;\n  border-bottom: 1px solid rgba(var(--color-border-rgb), 0.3);\n}\n.detail-item .label[data-v-4c498e10] {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.detail-item .value[data-v-4c498e10] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n.attributes-display[data-v-4c498e10] {\n  display: flex;\n  justify-content: center;\n}\n.talents-list[data-v-4c498e10] {\n  min-height: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.talent-items[data-v-4c498e10] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.talent-tag[data-v-4c498e10] {\n  background: rgba(var(--color-accent-rgb), 0.15);\n  color: var(--color-accent);\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.no-talents[data-v-4c498e10] {\n  color: var(--color-text-secondary);\n  font-style: italic;\n  text-align: center;\n}\n\n/* ÂìçÂ∫îÂºèÈÄÇÈÖç */\n@media (max-width: 1200px) {\n.grid-container[data-v-4c498e10] {\n    grid-template-columns: 300px 1fr;\n}\n\n  /* Ë∞ÉÊï¥ÂàÜÂâ≤Á∫ø‰ΩçÁΩÆ */\n.grid-container[data-v-4c498e10]::before {\n    left: 300px;\n}\n.manual-saves-grid[data-v-4c498e10] {\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n}\n}\n@media (max-width: 1024px) {\n.grid-container[data-v-4c498e10] {\n    grid-template-columns: 280px 1fr;\n}\n\n  /* Ë∞ÉÊï¥ÂàÜÂâ≤Á∫ø‰ΩçÁΩÆ */\n.grid-container[data-v-4c498e10]::before {\n    left: 280px;\n}\n.characters-panel[data-v-4c498e10] {\n    max-width: 260px;\n}\n.save-card[data-v-4c498e10],\n  .online-save-card[data-v-4c498e10] {\n    padding: 0.8rem;\n}\n.details-grid[data-v-4c498e10] {\n    grid-template-columns: 1fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 640px) {\n.mobile-header[data-v-4c498e10] {\n    display: flex;\n}\n.character-management-panel[data-v-4c498e10] {\n    height: 100%;\n    overflow: hidden;\n}\n.main-content[data-v-4c498e10] {\n    flex: 1;\n    overflow: hidden;\n    min-height: 0;\n}\n.management-layout[data-v-4c498e10] {\n    flex-direction: column;\n    height: 100%;\n}\n.grid-container[data-v-4c498e10] {\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr auto;\n    grid-template-areas:\n      'header-right'\n      'content-main'\n      'footer-main';\n    order: 1;\n}\n\n  /* ÁßªÂä®Á´ØÈöêËóèÂûÇÁõ¥ÂàÜÂâ≤Á∫ø */\n.grid-container[data-v-4c498e10]::before {\n    display: none;\n}\n.grid-header-left[data-v-4c498e10] {\n    border-right: none;\n    border-bottom: 1px solid var(--color-border);\n    /* ÊâãÊú∫Á´ØÈöêËóèÂ∑¶‰æßÊ†áÈ¢òÊ†è */\n    display: none;\n}\n.grid-header-right[data-v-4c498e10] {\n    padding: 0.8rem;\n    flex-direction: column;\n    align-items: stretch;\n    gap: 0.8rem;\n}\n.header-left-content[data-v-4c498e10] {\n    gap: 0.3rem;\n}\n.save-actions-buttons[data-v-4c498e10] {\n    width: 100%;\n    gap: 0.5rem;\n}\n.btn-save-action[data-v-4c498e10] {\n    flex: 1;\n    padding: 0.7rem 0.8rem;\n    font-size: 0.8rem;\n    justify-content: center;\n}\n.btn-save-action span[data-v-4c498e10] {\n    display: inline;\n}\n.grid-content-left[data-v-4c498e10],\n  .grid-content-right[data-v-4c498e10] {\n    grid-area: content-main;\n    position: relative;\n    overflow: hidden;\n    height: 100%;\n}\n.grid-footer-left[data-v-4c498e10],\n  .grid-footer-right[data-v-4c498e10] {\n    grid-area: footer-main;\n    border-right: none;\n}\n.characters-panel[data-v-4c498e10] {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: 85%;\n    max-width: 280px;\n    z-index: 1200;\n    transform: translateX(-100%);\n    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);\n    border: none;\n    background: var(--color-surface);\n    backdrop-filter: blur(20px);\n    margin: 0;\n    padding: 0;\n    border-right: none;\n}\n.characters-panel.is-open[data-v-4c498e10] {\n    transform: translateX(0);\n}\n.saves-panel[data-v-4c498e10] {\n    width: 100%;\n    border-left: none;\n}\n.saves-container[data-v-4c498e10],\n  .online-saves-container[data-v-4c498e10] {\n    padding: 1rem 1.2rem;\n    flex: 1;\n    min-height: 0;\n    max-height: none;\n}\n.auto-saves-grid[data-v-4c498e10] {\n    grid-template-columns: 1fr;\n    gap: 0.8rem;\n}\n.manual-saves-grid[data-v-4c498e10] {\n    grid-template-columns: 1fr;\n    gap: 0.8rem;\n    max-height: 300px;\n}\n.modal-content[data-v-4c498e10] {\n    padding: 1rem;\n}\n.details-modal[data-v-4c498e10] {\n    width: 95%;\n    max-height: 85vh;\n}\n.dialog-box[data-v-4c498e10] {\n    width: 95%;\n    max-width: 400px;\n    padding: 1.5rem;\n}\n.characters-grid[data-v-4c498e10] {\n    padding: 1rem;\n}\n.character-card[data-v-4c498e10] {\n    padding: 1rem;\n    margin-bottom: 0.8rem;\n    transition: all 0.2s ease;\n}\n.character-card[data-v-4c498e10]:active {\n    transform: scale(0.98);\n    background: linear-gradient(\n      135deg,\n      rgba(var(--color-primary-rgb), 0.05),\n      rgba(var(--color-accent-rgb), 0.03)\n    );\n}\n.card-header[data-v-4c498e10] {\n    flex-wrap: wrap;\n    gap: 0.8rem;\n}\n.char-info[data-v-4c498e10] {\n    min-width: 120px;\n}\n.char-meta[data-v-4c498e10] {\n    flex-wrap: wrap;\n    gap: 0.5rem;\n}\n}\n@media (max-width: 640px) {\n.mobile-header[data-v-4c498e10] {\n    padding: 0.8rem 1rem;\n}\n.mobile-menu-btn[data-v-4c498e10] {\n    padding: 0.4rem 0.6rem;\n    font-size: 0.8rem;\n    min-height: 44px;\n    min-width: 44px;\n}\n.mobile-title h2[data-v-4c498e10] {\n    font-size: 1.1rem;\n}\n.mobile-title .selected-info[data-v-4c498e10] {\n    font-size: 0.75rem;\n}\n.characters-panel[data-v-4c498e10] {\n    width: 90%;\n    max-width: 300px;\n}\n.character-card[data-v-4c498e10] {\n    padding: 0.9rem;\n    position: relative;\n    overflow: hidden;\n}\n.character-card[data-v-4c498e10]::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 0;\n    height: 0;\n    background: rgba(var(--color-primary-rgb), 0.1);\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n    transition:\n      width 0.3s ease,\n      height 0.3s ease;\n    pointer-events: none;\n}\n.character-card[data-v-4c498e10]:active::after {\n    width: 200px;\n    height: 200px;\n}\n.save-card[data-v-4c498e10],\n  .online-save-card[data-v-4c498e10] {\n    padding: 1rem;\n    position: relative;\n    overflow: hidden;\n}\n.save-card[data-v-4c498e10]::after,\n  .online-save-card[data-v-4c498e10]::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 0;\n    height: 0;\n    background: rgba(var(--color-success-rgb), 0.1);\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n    transition:\n      width 0.3s ease,\n      height 0.3s ease;\n    pointer-events: none;\n}\n.save-card[data-v-4c498e10]:active::after,\n  .online-save-card[data-v-4c498e10]:active::after {\n    width: 150px;\n    height: 150px;\n}\n.auto-saves-grid[data-v-4c498e10] {\n    gap: 0.6rem;\n}\n.manual-saves-grid[data-v-4c498e10] {\n    gap: 0.6rem;\n}\n}\n@media (max-width: 480px) {\n.empty-actions[data-v-4c498e10] {\n    flex-direction: column;\n}\n.btn-create[data-v-4c498e10],\n  .btn-import[data-v-4c498e10] {\n    width: 100%;\n}\n.mobile-header[data-v-4c498e10] {\n    padding: 0.6rem 0.8rem;\n}\n.mobile-menu-btn[data-v-4c498e10] {\n    padding: 0.4rem 0.5rem;\n    min-height: 44px;\n    min-width: 44px;\n}\n.mobile-title h2[data-v-4c498e10] {\n    font-size: 1rem;\n}\n.hamburger[data-v-4c498e10] {\n    width: 14px;\n    height: 10px;\n}\n.characters-panel[data-v-4c498e10] {\n    width: 95%;\n    max-width: 280px;\n}\n.characters-grid[data-v-4c498e10] {\n    padding: 0.8rem;\n}\n.character-card[data-v-4c498e10] {\n    padding: 0.8rem;\n    margin-bottom: 0.8rem;\n    min-height: 80px;\n}\n.btn-save-action span[data-v-4c498e10] {\n    font-size: 0.75rem;\n}\n.card-header[data-v-4c498e10] {\n    margin-bottom: 0.8rem;\n    gap: 0.6rem;\n}\n.char-avatar[data-v-4c498e10] {\n    width: 40px;\n    height: 40px;\n    font-size: 1.1rem;\n}\n.mode-indicator[data-v-4c498e10] {\n    width: 16px;\n    height: 16px;\n    font-size: 0.6rem;\n}\n.char-name[data-v-4c498e10] {\n    font-size: 1rem;\n}\n.char-meta[data-v-4c498e10] {\n    font-size: 0.8rem;\n}\n.saves-container[data-v-4c498e10],\n  .online-saves-container[data-v-4c498e10] {\n    padding: 0.8rem;\n    flex: 1;\n    min-height: 0;\n    max-height: none;\n}\n.save-card[data-v-4c498e10],\n  .online-save-card[data-v-4c498e10] {\n    padding: 0.9rem;\n    min-height: 120px;\n}\n.stat-grid[data-v-4c498e10] {\n    grid-template-columns: 1fr;\n    gap: 0.5rem;\n}\n.save-footer[data-v-4c498e10] {\n    flex-direction: column;\n    gap: 0.3rem;\n    align-items: flex-start;\n}\n.dialog-box[data-v-4c498e10] {\n    width: 95%;\n    padding: 1.2rem;\n    max-height: 90vh;\n    overflow-y: auto;\n}\n.dialog-title[data-v-4c498e10] {\n    font-size: 1.3rem;\n}\n.dialog-actions[data-v-4c498e10] {\n    flex-direction: column-reverse;\n    gap: 0.8rem;\n}\n.btn-dialog-confirm[data-v-4c498e10],\n  .btn-dialog-cancel[data-v-4c498e10] {\n    width: 100%;\n    padding: 0.8rem;\n    min-height: 44px;\n    font-size: 1rem;\n}\n.details-grid[data-v-4c498e10] {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n}\n.detail-section[data-v-4c498e10] {\n    padding: 1rem;\n}\n.btn-details[data-v-4c498e10],\n  .btn-export[data-v-4c498e10],\n  .btn-delete[data-v-4c498e10] {\n    min-height: 36px;\n    font-size: 0.85rem;\n    padding: 0.6rem 0.8rem;\n}\n.btn-start[data-v-4c498e10],\n  .btn-play[data-v-4c498e10],\n  .btn-sync[data-v-4c498e10] {\n    min-height: 40px;\n    padding: 0.7rem 1rem;\n    font-size: 0.85rem;\n}\n}\n@media (max-width: 360px) {\n.mobile-header[data-v-4c498e10] {\n    padding: 0.5rem;\n}\n.mobile-menu-btn[data-v-4c498e10] {\n    padding: 0.3rem 0.4rem;\n    gap: 0.3rem;\n    min-height: 40px;\n    min-width: 40px;\n}\n.mobile-title h2[data-v-4c498e10] {\n    font-size: 0.95rem;\n}\n.mobile-title .selected-info[data-v-4c498e10] {\n    font-size: 0.7rem;\n}\n.characters-panel[data-v-4c498e10] {\n    width: 100%;\n    max-width: 260px;\n    min-width: 240px;\n}\n.character-card[data-v-4c498e10] {\n    padding: 0.6rem;\n    min-height: 70px;\n}\n.save-card[data-v-4c498e10],\n  .online-save-card[data-v-4c498e10] {\n    padding: 0.8rem;\n    min-height: 100px;\n}\n.save-header[data-v-4c498e10] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.5rem;\n}\n.save-badges[data-v-4c498e10] {\n    align-self: stretch;\n    justify-content: flex-start;\n}\n.dialog-box[data-v-4c498e10] {\n    width: 98%;\n    padding: 1rem;\n    margin: 0.5rem;\n    max-height: 95vh;\n}\n.dialog-title[data-v-4c498e10] {\n    font-size: 1.1rem;\n}\n.dialog-message[data-v-4c498e10] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n}\n.dialog-input[data-v-4c498e10] {\n    padding: 0.7rem;\n    font-size: 0.9rem;\n}\n.btn-dialog-confirm[data-v-4c498e10],\n  .btn-dialog-cancel[data-v-4c498e10] {\n    padding: 0.7rem;\n    font-size: 0.9rem;\n    min-height: 40px;\n}\n.character-management-panel[data-v-4c498e10] {\n    height: 100%;\n    overflow: hidden;\n}\n.main-content[data-v-4c498e10] {\n    flex: 1;\n    overflow: hidden;\n    min-height: 0;\n}\n.saves-container[data-v-4c498e10],\n  .online-saves-container[data-v-4c498e10] {\n    flex: 1;\n    min-height: 0;\n    padding: 0.6rem;\n    max-height: none;\n}\n.char-name[data-v-4c498e10] {\n    font-size: 0.9rem;\n}\n.char-meta[data-v-4c498e10] {\n    font-size: 0.75rem;\n}\n.save-count .count[data-v-4c498e10] {\n    font-size: 1rem;\n}\n.save-count .label[data-v-4c498e10] {\n    font-size: 0.65rem;\n}\n}\n\n/* Style unification overrides */\n/* Replace absolute divider with contextual borders */\n.grid-container[data-v-4c498e10]::before {\n  content: none;\n}\n.grid-header-left[data-v-4c498e10],\n.grid-content-left[data-v-4c498e10],\n.grid-footer-left[data-v-4c498e10] {\n  border-right: var(--cm-divider-width) solid var(--color-primary);\n  box-sizing: border-box;\n}\n\n/* Ensure left column fills its grid cell at <=1024px (fix misaligned divider) */\n@media (max-width: 1024px) {\n.grid-content-left.characters-panel[data-v-4c498e10] {\n    max-width: none;\n    width: 100%;\n}\n}\n\n/* Consistent radii across controls */\n.dialog-box[data-v-4c498e10] {\n  border-radius: var(--cm-radius-lg);\n}\n.dialog-input[data-v-4c498e10] {\n  border-radius: var(--cm-radius-md);\n}\n.btn-dialog-confirm[data-v-4c498e10],\n.btn-dialog-cancel[data-v-4c498e10] {\n  border-radius: var(--cm-radius-md);\n}\n.fullscreen-back-btn[data-v-4c498e10] {\n  border-radius: var(--cm-radius-md);\n}\n.character-card[data-v-4c498e10] {\n  border-radius: var(--cm-radius-sm);\n}\n.save-card[data-v-4c498e10],\n.online-save-card[data-v-4c498e10] {\n  border-radius: var(--cm-radius-md);\n}\n.btn-details[data-v-4c498e10],\n.btn-delete[data-v-4c498e10] {\n  border-radius: var(--cm-radius-md);\n}\n.btn-start[data-v-4c498e10],\n.btn-play[data-v-4c498e10],\n.btn-sync[data-v-4c498e10] {\n  border-radius: var(--cm-radius-md);\n}\n.btn-login[data-v-4c498e10],\n.btn-close[data-v-4c498e10] {\n  border-radius: var(--cm-radius-md);\n}\n\n/* Desktop card density adjustments: make character list less flat */\n@media (min-width: 769px) {\n.characters-grid[data-v-4c498e10] {\n    padding: 0.8rem;\n}\n.character-card[data-v-4c498e10] {\n    min-height: var(--cm-card-min-h);\n    padding: var(--cm-card-padding);\n}\n.card-header[data-v-4c498e10] {\n    gap: var(--cm-header-gap);\n    margin-bottom: 0.6rem;\n}\n.char-avatar[data-v-4c498e10] {\n    width: var(--cm-avatar-size);\n    height: var(--cm-avatar-size);\n    font-size: 0.95rem;\n}\n.char-name[data-v-4c498e10] {\n    font-size: var(--cm-name-font);\n}\n.char-meta[data-v-4c498e10] {\n    font-size: var(--cm-meta-font);\n}\n.save-count[data-v-4c498e10] {\n    min-width: var(--cm-save-count-minw);\n}\n.save-count .count[data-v-4c498e10] {\n    font-size: var(--cm-save-count-count-font);\n}\n.save-count .label[data-v-4c498e10] {\n    font-size: var(--cm-save-count-label-font);\n}\n}\n\n/* ========== Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†ºÈÄÇÈÖç ========== */\n[data-theme='dark'] .character-management-panel[data-v-4c498e10] {\n  background: rgb(30, 41, 59);\n}\n[data-theme='dark'] .fullscreen-header[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.9);\n  border-bottom-color: rgba(255, 255, 255, 0.08);\n  backdrop-filter: blur(12px);\n}\n[data-theme='dark'] .fullscreen-back-btn[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.6);\n  border-color: rgba(255, 255, 255, 0.1);\n  color: #94a3b8;\n}\n[data-theme='dark'] .fullscreen-back-btn[data-v-4c498e10]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  color: #f1f5f9;\n  border-color: rgba(147, 197, 253, 0.3);\n}\n[data-theme='dark'] .fullscreen-title h1[data-v-4c498e10] {\n  color: #f1f5f9;\n  text-shadow: 0 0 20px rgba(147, 197, 253, 0.4);\n}\n[data-theme='dark'] .fullscreen-title p[data-v-4c498e10] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .mobile-header[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.9);\n  border-bottom-color: rgba(255, 255, 255, 0.08);\n  backdrop-filter: blur(12px);\n}\n[data-theme='dark'] .mobile-menu-btn[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.8);\n  border-color: rgba(255, 255, 255, 0.1);\n  color: #94a3b8;\n}\n[data-theme='dark'] .mobile-menu-btn[data-v-4c498e10]:hover {\n  background: rgba(51, 65, 85, 0.9);\n  color: #93c5fd;\n  border-color: rgba(147, 197, 253, 0.3);\n}\n[data-theme='dark'] .mobile-menu-btn.active[data-v-4c498e10] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(37, 99, 235, 0.9));\n  color: #ffffff;\n  border-color: rgba(147, 197, 253, 0.5);\n}\n[data-theme='dark'] .mobile-title h2[data-v-4c498e10] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .mobile-title .selected-info[data-v-4c498e10] {\n  color: #94a3b8;\n}\n\n/* ÁΩëÊ†ºÂ∏ÉÂ±ÄÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .grid-header-left[data-v-4c498e10],\n[data-theme='dark'] .grid-header-right[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.8);\n  border-bottom-color: rgba(255, 255, 255, 0.08);\n}\n[data-theme='dark'] .grid-header-left h2[data-v-4c498e10],\n[data-theme='dark'] .grid-header-right h2[data-v-4c498e10] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .character-count[data-v-4c498e10] {\n  background: rgba(15, 23, 42, 0.6);\n  border-color: rgba(255, 255, 255, 0.08);\n  color: #94a3b8;\n}\n[data-theme='dark'] .selected-char-info[data-v-4c498e10] {\n  background: rgba(59, 130, 246, 0.15);\n  border-color: rgba(147, 197, 253, 0.3);\n  color: #93c5fd;\n}\n[data-theme='dark'] .grid-content-left[data-v-4c498e10],\n[data-theme='dark'] .grid-content-right[data-v-4c498e10] {\n  background: rgb(30, 41, 59);\n}\n[data-theme='dark'] .grid-content-left.characters-panel[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.95);\n}\n\n/* ÂàÜÂâ≤Á∫øÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .grid-header-left[data-v-4c498e10],\n[data-theme='dark'] .grid-content-left[data-v-4c498e10],\n[data-theme='dark'] .grid-footer-left[data-v-4c498e10] {\n  border-right-color: rgba(147, 197, 253, 0.3);\n}\n\n/* ËßíËâ≤Âç°ÁâáÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .character-card[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.6);\n  border-color: rgba(255, 255, 255, 0.08);\n}\n[data-theme='dark'] .character-card[data-v-4c498e10]:hover {\n  background: rgba(51, 65, 85, 0.7);\n  border-color: rgba(147, 197, 253, 0.3);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n[data-theme='dark'] .character-card.active[data-v-4c498e10] {\n  background: rgba(30, 58, 138, 0.4);\n  border-color: rgba(147, 197, 253, 0.5);\n}\n[data-theme='dark'] .character-card.single-mode[data-v-4c498e10] {\n  border-left-color: #9ece6a;\n}\n[data-theme='dark'] .character-card.online-mode[data-v-4c498e10] {\n  border-left-color: #93c5fd;\n}\n[data-theme='dark'] .char-name[data-v-4c498e10] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .char-meta[data-v-4c498e10] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .save-count .count[data-v-4c498e10] {\n  color: #c0caf5;\n}\n[data-theme='dark'] .save-count .label[data-v-4c498e10] {\n  color: #64748b;\n}\n[data-theme='dark'] .card-actions[data-v-4c498e10] {\n  border-top-color: rgba(255, 255, 255, 0.08);\n}\n[data-theme='dark'] .btn-details[data-v-4c498e10],\n[data-theme='dark'] .btn-export[data-v-4c498e10],\n[data-theme='dark'] .btn-delete[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.6);\n}\n[data-theme='dark'] .btn-details[data-v-4c498e10] {\n  color: #77cdfe;\n  border-color: rgba(119, 205, 254, 0.4);\n}\n[data-theme='dark'] .btn-details[data-v-4c498e10]:hover {\n  background: #77cdfe;\n  color: #0f172a;\n}\n[data-theme='dark'] .btn-export[data-v-4c498e10] {\n  color: #9ece6a;\n  border-color: rgba(158, 206, 106, 0.4);\n}\n[data-theme='dark'] .btn-export[data-v-4c498e10]:hover {\n  background: #9ece6a;\n  color: #0f172a;\n}\n[data-theme='dark'] .btn-delete[data-v-4c498e10] {\n  color: #f87171;\n  border-color: rgba(248, 113, 113, 0.4);\n}\n[data-theme='dark'] .btn-delete[data-v-4c498e10]:hover {\n  background: #f87171;\n  color: #0f172a;\n}\n\n/* Â≠òÊ°£Èù¢ÊùøÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .saves-panel[data-v-4c498e10] {\n  background: rgb(30, 41, 59);\n}\n[data-theme='dark'] .no-selection[data-v-4c498e10] {\n  color: #64748b;\n}\n[data-theme='dark'] .manual-saves-header h3[data-v-4c498e10] {\n  color: #fbbf24;\n}\n[data-theme='dark'] .save-info-text[data-v-4c498e10] {\n  color: #64748b;\n}\n\n/* Â≠òÊ°£Âç°ÁâáÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .save-card[data-v-4c498e10],\n[data-theme='dark'] .online-save-card[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.7);\n  border-color: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(15px);\n}\n[data-theme='dark'] .save-card[data-v-4c498e10]::before,\n[data-theme='dark'] .online-save-card[data-v-4c498e10]::before {\n  background: linear-gradient(135deg, rgba(147, 197, 253, 0.08), rgba(192, 202, 245, 0.04));\n}\n[data-theme='dark'] .save-card[data-v-4c498e10]:hover,\n[data-theme='dark'] .online-save-card[data-v-4c498e10]:hover {\n  border-color: rgba(147, 197, 253, 0.4);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);\n}\n[data-theme='dark'] .save-card.has-data[data-v-4c498e10] {\n  border-left-color: #9ece6a;\n  border-color: rgba(158, 206, 106, 0.5);\n}\n[data-theme='dark'] .save-card.auto-save[data-v-4c498e10] {\n  border-left-color: #77cdfe;\n  border-color: rgba(119, 205, 254, 0.5);\n}\n[data-theme='dark'] .save-card.has-data[data-v-4c498e10]::after {\n  background: #9ece6a;\n  box-shadow: 0 0 8px rgba(158, 206, 106, 0.6);\n}\n[data-theme='dark'] .save-name[data-v-4c498e10] {\n  color: #fbbf24;\n}\n[data-theme='dark'] .realm-badge[data-v-4c498e10] {\n  background: rgba(158, 206, 106, 0.2);\n  color: #9ece6a;\n}\n[data-theme='dark'] .age-badge[data-v-4c498e10] {\n  background: rgba(192, 202, 245, 0.2);\n  color: #c0caf5;\n}\n[data-theme='dark'] .stat .label[data-v-4c498e10] {\n  color: #64748b;\n}\n[data-theme='dark'] .stat .value[data-v-4c498e10] {\n  color: #e2e8f0;\n}\n[data-theme='dark'] .save-footer[data-v-4c498e10] {\n  border-top-color: rgba(255, 255, 255, 0.08);\n  color: #64748b;\n}\n[data-theme='dark'] .sync-status.synced[data-v-4c498e10] {\n  background: rgba(158, 206, 106, 0.2);\n  color: #9ece6a;\n}\n[data-theme='dark'] .save-empty[data-v-4c498e10] {\n  color: #64748b;\n}\n\n/* Â≠òÊ°£Êìç‰ΩúÊåâÈíÆÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .btn-export-save[data-v-4c498e10] {\n  background: rgba(158, 206, 106, 0.15);\n  border-color: rgba(158, 206, 106, 0.3);\n  color: #9ece6a;\n}\n[data-theme='dark'] .btn-export-save[data-v-4c498e10]:hover {\n  background: rgba(158, 206, 106, 0.25);\n  border-color: rgba(158, 206, 106, 0.5);\n}\n[data-theme='dark'] .btn-edit-save[data-v-4c498e10] {\n  background: rgba(119, 205, 254, 0.15);\n  border-color: rgba(119, 205, 254, 0.3);\n  color: #77cdfe;\n}\n[data-theme='dark'] .btn-edit-save[data-v-4c498e10]:hover {\n  background: rgba(119, 205, 254, 0.25);\n  border-color: rgba(119, 205, 254, 0.5);\n}\n[data-theme='dark'] .btn-delete-save[data-v-4c498e10] {\n  background: rgba(248, 113, 113, 0.15);\n  border-color: rgba(248, 113, 113, 0.3);\n  color: #f87171;\n}\n[data-theme='dark'] .btn-delete-save[data-v-4c498e10]:hover:not(.disabled):not(:disabled) {\n  background: rgba(248, 113, 113, 0.25);\n  border-color: rgba(248, 113, 113, 0.5);\n}\n\n/* ÊåâÈíÆÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .btn-start[data-v-4c498e10],\n[data-theme='dark'] .btn-play[data-v-4c498e10],\n[data-theme='dark'] .btn-sync[data-v-4c498e10] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(37, 99, 235, 0.9));\n  border-color: rgba(147, 197, 253, 0.4);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n[data-theme='dark'] .btn-start[data-v-4c498e10]:hover,\n[data-theme='dark'] .btn-play[data-v-4c498e10]:hover,\n[data-theme='dark'] .btn-sync[data-v-4c498e10]:hover {\n  box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);\n}\n[data-theme='dark'] .btn-header-action[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.6);\n}\n[data-theme='dark'] .btn-header-action.import[data-v-4c498e10] {\n  color: #77cdfe;\n  border-color: rgba(119, 205, 254, 0.4);\n}\n[data-theme='dark'] .btn-header-action.import[data-v-4c498e10]:hover {\n  background: rgba(119, 205, 254, 0.15);\n  border-color: #77cdfe;\n}\n[data-theme='dark'] .btn-save-action[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.7);\n  backdrop-filter: blur(10px);\n}\n[data-theme='dark'] .btn-save-action.export[data-v-4c498e10] {\n  color: #9ece6a;\n  border-color: rgba(158, 206, 106, 0.4);\n}\n[data-theme='dark'] .btn-save-action.export[data-v-4c498e10]:hover:not(:disabled) {\n  background: linear-gradient(135deg, #9ece6a, rgba(158, 206, 106, 0.8));\n  color: #0f172a;\n}\n[data-theme='dark'] .btn-save-action.import[data-v-4c498e10] {\n  color: #77cdfe;\n  border-color: rgba(119, 205, 254, 0.4);\n}\n[data-theme='dark'] .btn-save-action.import[data-v-4c498e10]:hover:not(:disabled) {\n  background: linear-gradient(135deg, #77cdfe, rgba(119, 205, 254, 0.8));\n  color: #0f172a;\n}\n[data-theme='dark'] .btn-save-action.migrate[data-v-4c498e10] {\n  color: var(--color-warning);\n  border-color: rgba(var(--color-warning-rgb), 0.45);\n}\n[data-theme='dark'] .btn-save-action.migrate[data-v-4c498e10]:hover:not(:disabled) {\n  background: linear-gradient(135deg, var(--color-warning), rgba(var(--color-warning-rgb), 0.85));\n  color: #0f172a;\n}\n\n/* ÂØπËØùÊ°ÜÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .dialog-overlay[data-v-4c498e10] {\n  background: rgba(10, 15, 25, 0.7);\n}\n[data-theme='dark'] .dialog-box[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.95);\n  border-color: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(20px);\n}\n[data-theme='dark'] .dialog-title[data-v-4c498e10] {\n  color: #c0caf5;\n}\n[data-theme='dark'] .dialog-message[data-v-4c498e10] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .dialog-input[data-v-4c498e10] {\n  background: rgba(15, 23, 42, 0.6);\n  border-color: rgba(255, 255, 255, 0.1);\n  color: #f1f5f9;\n}\n[data-theme='dark'] .dialog-input[data-v-4c498e10]:focus {\n  border-color: #93c5fd;\n  box-shadow: 0 0 0 3px rgba(147, 197, 253, 0.2);\n}\n[data-theme='dark'] .btn-dialog-confirm[data-v-4c498e10] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(37, 99, 235, 0.9));\n  border-color: rgba(147, 197, 253, 0.4);\n}\n[data-theme='dark'] .btn-dialog-cancel[data-v-4c498e10] {\n  background: rgba(51, 65, 85, 0.6);\n  border-color: rgba(255, 255, 255, 0.1);\n  color: #94a3b8;\n}\n[data-theme='dark'] .btn-dialog-cancel[data-v-4c498e10]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  color: #f1f5f9;\n}\n\n/* ËØ¶ÊÉÖÂºπÁ™óÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .modal-overlay[data-v-4c498e10] {\n  background: rgba(10, 15, 25, 0.7);\n}\n[data-theme='dark'] .details-modal[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.95);\n  border-color: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(20px);\n}\n[data-theme='dark'] .modal-header[data-v-4c498e10] {\n  border-bottom-color: rgba(255, 255, 255, 0.08);\n}\n[data-theme='dark'] .modal-header h3[data-v-4c498e10] {\n  color: #c0caf5;\n}\n[data-theme='dark'] .btn-close[data-v-4c498e10] {\n  border-color: rgba(255, 255, 255, 0.1);\n  color: #64748b;\n}\n[data-theme='dark'] .btn-close[data-v-4c498e10]:hover {\n  background: rgba(51, 65, 85, 0.6);\n  color: #f1f5f9;\n}\n[data-theme='dark'] .detail-section[data-v-4c498e10] {\n  background: rgba(30, 41, 59, 0.6);\n  border-color: rgba(147, 197, 253, 0.15);\n}\n[data-theme='dark'] .detail-section h4[data-v-4c498e10] {\n  color: #fbbf24;\n}\n[data-theme='dark'] .detail-item[data-v-4c498e10] {\n  border-bottom-color: rgba(255, 255, 255, 0.06);\n}\n[data-theme='dark'] .detail-item .label[data-v-4c498e10] {\n  color: #64748b;\n}\n[data-theme='dark'] .detail-item .value[data-v-4c498e10] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .talent-tag[data-v-4c498e10] {\n  background: rgba(192, 202, 245, 0.2);\n  color: #c0caf5;\n}\n[data-theme='dark'] .no-talents[data-v-4c498e10] {\n  color: #64748b;\n}\n\n/* Á©∫Áä∂ÊÄÅÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .empty-state h2[data-v-4c498e10] {\n  color: #c0caf5;\n}\n[data-theme='dark'] .empty-state p[data-v-4c498e10] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .btn-create[data-v-4c498e10] {\n  background: linear-gradient(135deg, #9ece6a, #77cdfe);\n  border-color: rgba(158, 206, 106, 0.5);\n}\n[data-theme='dark'] .btn-import[data-v-4c498e10] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(192, 202, 245, 0.8));\n  border-color: rgba(147, 197, 253, 0.5);\n}\n\n/* ËÅîÊú∫Ê®°ÂºèÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .login-prompt h3[data-v-4c498e10] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .login-prompt p[data-v-4c498e10] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .btn-login[data-v-4c498e10] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(37, 99, 235, 0.9));\n  border-color: rgba(147, 197, 253, 0.4);\n}\n\n/* Âä†ËΩΩÁä∂ÊÄÅÊöóËâ≤ÈÄÇÈÖç */\n[data-theme='dark'] .loading-saves p[data-v-4c498e10] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .loading-spinner[data-v-4c498e10] {\n  border-color: rgba(147, 197, 253, 0.2);\n  border-top-color: #93c5fd;\n}\n",""]);const s=i},5880:e=>{"use strict";e.exports=Math.pow},5954:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"/*\n * Ë∂ÖÂá°Êñ∞Áîü - ÁßëÊäÄÈ£éÊ†º‰∏ªÈ¢ò\n * Futuristic Tech Style Theme\n *\n * ÁâπÊÄßÔºö\n * - È´òÂØπÊØîÂ∫¶ÁöÑËìùËâ≤/Á¥´Ëâ≤/ÈùíËâ≤ÈÖçËâ≤\n * - ÂèëÂÖâÊïàÊûúÂíåÊ∏êÂèò\n * - ÁΩëÊ†ºÂíåÁ∫øÊù°ÂÖÉÁ¥†\n * - Áé∞‰ª£ÂåñÁöÑÂä®ÁîªÂíåËøáÊ∏°\n * - ÊûÅÁÆÄ‰ΩÜÂØåÊúâÁßëÊäÄÊÑüÁöÑËÆæËÆ°\n */\n\n:root {\n  /* ========== ÁßëÊäÄËâ≤ÂΩ©Á≥ªÁªü ========== */\n  /* ÊõøÊç¢‰º†ÁªüËâ≤ÂΩ©‰∏∫ÁßëÊäÄËâ≤ÂΩ© */\n  --tech-primary: #00f0ff;      /* ÈúìËôπÈùí */\n  --tech-primary-dark: #00b9c7; /* Ê∑±ÈúìËôπÈùí */\n  --tech-secondary: #8a2bff;    /* ËµõÂçöÁ¥´ */\n  --tech-accent: #00ffa7;       /* ËçßÂÖâÁªø */\n  --tech-warning: #ff7a00;      /* ÁîµÊ©ô */\n  --tech-danger: #ff2d6f;       /* ËçßÁ≤â */\n  --tech-success: #00ff88;      /* ÁªøËâ≤ */\n  --tech-background: #05070f;   /* Ê∑±ÈªëËìù */\n  --tech-surface: #0b0f1a;      /* Ê∑±Â§úÁ¥´ÁÅ∞ */\n  --tech-border: #17324f;       /* ÂÜ∑ËìùËæπÊ°Ü */\n  --tech-glow: rgba(0, 240, 255, 0.25);\n  --tech-glow-strong: rgba(0, 240, 255, 0.55);\n}\n\n:root[data-theme='light'] {\n  /* ÊµÖËâ≤‰∏ªÈ¢òÁöÑÁßëÊäÄÈ£éÊ†º */\n  --tech-primary: #00cde0;\n  --tech-primary-dark: #00a6b5;\n  --tech-secondary: #6d2bd4;\n  --tech-accent: #00c977;\n  --tech-warning: #ff7a00;\n  --tech-danger: #ff2d6f;\n  --tech-success: #00d36f;\n  --tech-background: #f4f6fb;\n  --tech-surface: #edf1fa;\n  --tech-border: #c6d1f0;\n  --tech-glow: rgba(0, 205, 224, 0.18);\n  --tech-glow-strong: rgba(0, 205, 224, 0.35);\n}\n\n:root[data-theme='dark'] {\n  /* ÊöóËâ≤‰∏ªÈ¢òÁöÑÁßëÊäÄÈ£éÊ†º */\n  --tech-primary: #00f0ff;\n  --tech-primary-dark: #00b9c7;\n  --tech-secondary: #a36bff;\n  --tech-accent: #00ffa7;\n  --tech-warning: #ff7a00;\n  --tech-danger: #ff2d6f;\n  --tech-success: #00ff88;\n  --tech-background: #05070f;\n  --tech-surface: #0b0f1a;\n  --tech-border: #17324f;\n  --tech-glow: rgba(0, 240, 255, 0.25);\n  --tech-glow-strong: rgba(0, 240, 255, 0.55);\n}\n\n/* ========== ÂÖ®Â±ÄÊ†∑ÂºèË¶ÜÁõñ ========== */\n\n/* ËÉåÊôØÁΩëÊ†ºÊïàÊûú */\n#app::before {\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-image:\n    linear-gradient(0deg, transparent 24%, rgba(0, 240, 255, 0.03) 25%, rgba(0, 240, 255, 0.03) 26%, transparent 27%, transparent 74%, rgba(0, 240, 255, 0.03) 75%, rgba(0, 240, 255, 0.03) 76%, transparent 77%, transparent),\n    linear-gradient(90deg, transparent 24%, rgba(0, 240, 255, 0.03) 25%, rgba(0, 240, 255, 0.03) 26%, transparent 27%, transparent 74%, rgba(0, 240, 255, 0.03) 75%, rgba(0, 240, 255, 0.03) 76%, transparent 77%, transparent);\n  background-size: 48px 48px;\n  pointer-events: none;\n  z-index: -1;\n  animation: grid-animation 20s linear infinite;\n}\n\n#app::after {\n  content: '';\n  position: fixed;\n  inset: 0;\n  background: repeating-linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0.03),\n    rgba(255, 255, 255, 0.03) 1px,\n    transparent 1px,\n    transparent 5px\n  );\n  pointer-events: none;\n  opacity: 0.35;\n  z-index: -1;\n}\n\n@keyframes grid-animation {\n  0% {\n    background-position: 0 0;\n  }\n  100% {\n    background-position: 50px 50px;\n  }\n}\n\n/* ========== ÊåâÈíÆÁßëÊäÄÈ£éÊ†º ========== */\n\n.btn {\n  position: relative;\n  border: 2px solid var(--tech-primary);\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.1));\n  color: var(--tech-primary);\n  font-weight: 600;\n  letter-spacing: 0.05em;\n  text-shadow: 0 0 10px rgba(0, 217, 255, 0.5);\n  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.2), inset 0 0 20px rgba(0, 217, 255, 0.1);\n  overflow: hidden;\n  border-radius: 4px;\n}\n\n.btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s;\n}\n\n.btn:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.25), rgba(157, 0, 255, 0.2));\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.6), inset 0 0 30px rgba(0, 217, 255, 0.2);\n  border-color: var(--tech-primary);\n  color: #fff;\n  text-shadow: 0 0 20px rgba(0, 217, 255, 0.8);\n}\n\n.btn::before:hover {\n  left: 100%;\n}\n\n.btn:active {\n  transform: scale(0.95);\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.4), inset 0 0 10px rgba(0, 217, 255, 0.3);\n}\n\n.btn.btn-primary {\n  border-color: var(--tech-primary);\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(0, 217, 255, 0.08));\n  color: var(--tech-primary);\n}\n\n.btn.btn-primary:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.3), rgba(0, 217, 255, 0.15));\n  box-shadow: 0 0 40px var(--tech-glow-strong), inset 0 0 30px rgba(0, 217, 255, 0.2);\n}\n\n.btn.btn-secondary {\n  border-color: var(--tech-secondary);\n  color: var(--tech-secondary);\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.1), rgba(157, 0, 255, 0.05));\n}\n\n.btn.btn-secondary:hover {\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.2), rgba(157, 0, 255, 0.1));\n  box-shadow: 0 0 30px rgba(157, 0, 255, 0.4), inset 0 0 20px rgba(157, 0, 255, 0.1);\n}\n\n.btn.btn-success {\n  border-color: var(--tech-success);\n  color: var(--tech-success);\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 255, 136, 0.05));\n}\n\n.btn.btn-success:hover {\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 255, 136, 0.1));\n  box-shadow: 0 0 30px rgba(0, 255, 136, 0.4);\n}\n\n.btn.btn-danger {\n  border-color: var(--tech-danger);\n  color: var(--tech-danger);\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.1), rgba(255, 0, 85, 0.05));\n}\n\n.btn.btn-danger:hover {\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.2), rgba(255, 0, 85, 0.1));\n  box-shadow: 0 0 30px rgba(255, 0, 85, 0.4);\n}\n\n.btn:disabled {\n  border-color: rgba(0, 217, 255, 0.3);\n  color: rgba(0, 217, 255, 0.5);\n  background: rgba(0, 217, 255, 0.05);\n  box-shadow: none;\n  cursor: not-allowed;\n}\n\n/* ========== Âç°ÁâáÁßëÊäÄÈ£éÊ†º ========== */\n\n.card,\n.card-panel {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.8), rgba(15, 21, 53, 0.6));\n  border: 2px solid var(--tech-border);\n  border-radius: 4px;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 8px 32px rgba(0, 217, 255, 0.1), inset 0 0 20px rgba(0, 217, 255, 0.05);\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s ease;\n}\n\n.card::before,\n.card-panel::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, var(--tech-primary), transparent);\n  opacity: 0.5;\n}\n\n.card:hover,\n.card-panel:hover {\n  border-color: var(--tech-primary);\n  box-shadow: 0 8px 40px rgba(0, 217, 255, 0.3), inset 0 0 30px rgba(0, 217, 255, 0.1);\n}\n\n/* ========== ËæìÂÖ•Ê°ÜÁßëÊäÄÈ£éÊ†º ========== */\n\n.input,\ninput,\ntextarea,\nselect {\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.6), rgba(15, 21, 53, 0.6));\n  border: 1px solid var(--tech-border);\n  color: var(--tech-primary);\n  transition: all 0.3s ease;\n  border-radius: 4px;\n}\n\n.input::placeholder,\ninput::placeholder,\ntextarea::placeholder {\n  color: rgba(0, 217, 255, 0.3);\n}\n\n.input:focus,\ninput:focus,\ntextarea:focus,\nselect:focus {\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.8), rgba(15, 21, 53, 0.8));\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3), inset 0 0 10px rgba(0, 217, 255, 0.1);\n  outline: none;\n}\n\n/* ========== Select ‰∏ãÊãâËèúÂçïÈÄâÈ°π ========== */\nselect option {\n  background: #0a0e27;\n  color: var(--tech-primary);\n  border: none;\n  padding: 8px 6px;\n}\n\nselect option:hover,\nselect option:focus,\nselect option:checked {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15));\n  color: var(--tech-primary);\n}\n\n/* ========== Ê†áÁ≠æÈ°µÁßëÊäÄÈ£éÊ†º ========== */\n\n.tab-trigger {\n  position: relative;\n  color: rgba(0, 217, 255, 0.6);\n  border: 1px solid transparent;\n  background: transparent;\n  transition: all 0.3s ease;\n}\n\n.tab-trigger::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 2px;\n  background: var(--tech-primary);\n  transition: width 0.3s ease;\n}\n\n.tab-trigger:hover {\n  color: var(--tech-primary);\n}\n\n.tab-trigger:hover::after {\n  width: 100%;\n}\n\n.tab-trigger[data-state=\"active\"],\n.tab-trigger.active {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(157, 0, 255, 0.1));\n  border: 1px solid var(--tech-border);\n  color: var(--tech-primary);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.2);\n}\n\n.tab-trigger[data-state=\"active\"]::after,\n.tab-trigger.active::after {\n  width: 100%;\n}\n\n/* ========== ÂæΩÁ´†ÁßëÊäÄÈ£éÊ†º ========== */\n\n.badge {\n  border: 1px solid var(--tech-border);\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.05));\n  color: var(--tech-primary);\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.2);\n}\n\n.badge-primary {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(0, 217, 255, 0.1));\n  border-color: var(--tech-primary);\n  color: var(--tech-primary);\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);\n}\n\n.badge-success {\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 255, 136, 0.1));\n  border-color: var(--tech-success);\n  color: var(--tech-success);\n  box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);\n}\n\n.badge-warning {\n  background: linear-gradient(135deg, rgba(255, 107, 0, 0.2), rgba(255, 107, 0, 0.1));\n  border-color: var(--tech-warning);\n  color: var(--tech-warning);\n  box-shadow: 0 0 15px rgba(255, 107, 0, 0.3);\n}\n\n.badge-danger {\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.2), rgba(255, 0, 85, 0.1));\n  border-color: var(--tech-danger);\n  color: var(--tech-danger);\n  box-shadow: 0 0 15px rgba(255, 0, 85, 0.3);\n}\n\n/* ========== ÊªöÂä®Êù°ÁßëÊäÄÈ£éÊ†º ========== */\n\n::-webkit-scrollbar {\n  width: 12px;\n  height: 12px;\n}\n\n::-webkit-scrollbar-track {\n  background: rgba(10, 14, 39, 0.5);\n}\n\n::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, var(--tech-primary), var(--tech-secondary));\n  border-radius: 6px;\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.3);\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: linear-gradient(180deg, var(--tech-primary), var(--tech-accent));\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.5);\n}\n\n/* ========== Ê®°ÊÄÅÂØπËØùÊ°ÜÁßëÊäÄÈ£éÊ†º ========== */\n\n.modal-dialog,\n.author-modal {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.95), rgba(10, 14, 39, 0.95));\n  border: 2px solid var(--tech-primary);\n  box-shadow: 0 25px 50px rgba(0, 217, 255, 0.2), inset 0 0 40px rgba(0, 217, 255, 0.1);\n  backdrop-filter: blur(20px);\n  border-radius: 4px;\n}\n\n.modal-dialog::before,\n.author-modal::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, var(--tech-primary), transparent);\n}\n\n/* ========== È°∂ÈÉ®ÊåâÈíÆÁßëÊäÄÈ£éÊ†º ========== */\n\n.theme-toggle,\n.fullscreen-toggle,\n.global-actions button {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.1));\n  border: 1px solid var(--tech-border);\n  color: var(--tech-primary);\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.2);\n  transition: all 0.3s ease;\n  border-radius: 4px;\n}\n\n.theme-toggle:hover,\n.fullscreen-toggle:hover,\n.global-actions button:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15));\n  box-shadow: 0 0 25px rgba(0, 217, 255, 0.4);\n  border-color: var(--tech-primary);\n}\n\n/* ========== ËøõÂ∫¶Êù°ÁßëÊäÄÈ£éÊ†º ========== */\n\n.progress-bar {\n  background: rgba(0, 217, 255, 0.1);\n  border: 1px solid var(--tech-border);\n  border-radius: 2px;\n  overflow: hidden;\n  box-shadow: inset 0 0 10px rgba(0, 217, 255, 0.1);\n}\n\n.progress-fill {\n  background: linear-gradient(90deg, var(--tech-primary), var(--tech-accent));\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.6);\n  transition: width 0.3s ease;\n}\n\n.progress-fill::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  animation: progress-shimmer 2s infinite;\n}\n\n@keyframes progress-shimmer {\n  0% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n}\n\n/* ========== ÂàóË°®È°πÁßëÊäÄÈ£éÊ†º ========== */\n\n.list-item {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.5), rgba(10, 14, 39, 0.5));\n  border: 1px solid var(--tech-border);\n  transition: all 0.3s ease;\n}\n\n.list-item:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.08));\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.2);\n}\n\n.list-item.active {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(157, 0, 255, 0.1));\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.3);\n}\n\n/* ========== ÁªüËÆ°Âç°ÁâáÁßëÊäÄÈ£éÊ†º ========== */\n\n.stat-card {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.7), rgba(10, 14, 39, 0.7));\n  border: 1px solid var(--tech-border);\n  box-shadow: 0 8px 32px rgba(0, 217, 255, 0.1);\n  transition: all 0.3s ease;\n}\n\n.stat-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 12px 40px rgba(0, 217, 255, 0.2);\n  border-color: var(--tech-primary);\n}\n\n.stat-icon {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15));\n  border: 1px solid var(--tech-border);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);\n  color: var(--tech-primary);\n}\n\n.stat-value {\n  color: var(--tech-primary);\n  text-shadow: 0 0 10px rgba(0, 217, 255, 0.5);\n}\n\n/* ========== ÊñáÂ≠óÁßëÊäÄÈ£éÊ†º ========== */\n\n.genesis-title,\n.main-title,\nh1, h2, h3, h4, h5, h6 {\n  color: var(--tech-primary);\n  text-shadow: 0 0 20px rgba(0, 217, 255, 0.4);\n}\n\n.text-primary {\n  color: var(--tech-primary) !important;\n}\n\n.text-success {\n  color: var(--tech-success) !important;\n}\n\n.text-warning {\n  color: var(--tech-warning) !important;\n}\n\n.text-danger {\n  color: var(--tech-danger) !important;\n}\n\n/* ========== Âä®ÁîªÊïàÊûú ========== */\n\n@keyframes glow-pulse {\n  0%, 100% {\n    box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);\n  }\n  50% {\n    box-shadow: 0 0 40px rgba(0, 217, 255, 0.6);\n  }\n}\n\n@keyframes cyber-flicker {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n\n@keyframes neon-glow {\n  0%, 100% {\n    text-shadow: 0 0 10px rgba(0, 217, 255, 0.5);\n  }\n  50% {\n    text-shadow: 0 0 20px rgba(0, 217, 255, 0.8);\n  }\n}\n\n.glow-pulse {\n  animation: glow-pulse 3s ease-in-out infinite;\n}\n\n.cyber-flicker {\n  animation: cyber-flicker 0.15s infinite;\n}\n\n.neon-text {\n  animation: neon-glow 2s ease-in-out infinite;\n}\n\n/* ========== ÂàÜÂâ≤Á∫øÁßëÊäÄÈ£éÊ†º ========== */\n\n.divider {\n  background: linear-gradient(90deg, transparent, var(--tech-border), transparent);\n  height: 2px;\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.2);\n}\n\n.divider-vertical {\n  background: linear-gradient(180deg, transparent, var(--tech-border), transparent);\n  width: 2px;\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.2);\n}\n\n/* ========== ÂìçÂ∫îÂºèË∞ÉÊï¥ ========== */\n\n@media (max-width: 1024px) {\n  .card,\n  .card-panel {\n    box-shadow: 0 4px 20px rgba(0, 217, 255, 0.1);\n  }\n\n  .btn {\n    box-shadow: 0 0 15px rgba(0, 217, 255, 0.15);\n  }\n}\n\n@media (max-width: 768px) {\n  :root::before {\n    background-size: 30px 30px;\n  }\n\n  .card,\n  .card-panel {\n    box-shadow: 0 2px 15px rgba(0, 217, 255, 0.08);\n  }\n}\n\n@media (max-width: 480px) {\n  .modal-dialog,\n  .author-modal {\n    box-shadow: 0 10px 30px rgba(0, 217, 255, 0.15);\n  }\n}\n",""]);const s=i},5970:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n.talent-selection-container[data-v-61cfaa8b] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n/* ========== Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º ========== */\n.loading-state[data-v-61cfaa8b], .error-state[data-v-61cfaa8b], .placeholder[data-v-61cfaa8b] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.1rem;\n  color: #94a3b8;\n  font-style: italic;\n}\n.talent-layout[data-v-61cfaa8b] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 1.5rem;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* ========== Â∑¶‰æßÈù¢Êùø ========== */\n.talent-left-panel[data-v-61cfaa8b] {\n  display: flex;\n  flex-direction: column;\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n/* È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ - Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º */\n.top-actions-container[data-v-61cfaa8b] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.06);\n  background: rgba(30, 41, 59, 0.3);\n  justify-content: center;\n}\n.top-actions-container .action-item[data-v-61cfaa8b] {\n  padding: 0.5rem 1rem;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.6);\n  color: #cbd5e1;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  font-size: 0.85rem;\n  font-weight: 500;\n  white-space: nowrap;\n  letter-spacing: 0.05em;\n}\n.top-actions-container .action-item[data-v-61cfaa8b]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  border-color: rgba(147, 197, 253, 0.3);\n  color: #f1f5f9;\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢òÈ°∂ÈÉ®ÊåâÈíÆ */\n[data-theme="light"] .top-actions-container[data-v-61cfaa8b] {\n  background: rgba(241, 245, 249, 0.6);\n  border-bottom-color: rgba(59, 130, 246, 0.15);\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-61cfaa8b] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #2563eb;\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-61cfaa8b]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n  color: #1e40af;\n}\n.talent-list-container[data-v-61cfaa8b] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.talent-list-container[data-v-61cfaa8b]::-webkit-scrollbar { width: 6px;\n}\n.talent-list-container[data-v-61cfaa8b]::-webkit-scrollbar-track { background: transparent;\n}\n.talent-list-container[data-v-61cfaa8b]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n.talent-list-container[data-v-61cfaa8b]::-webkit-scrollbar-thumb:hover { background: rgba(147, 197, 253, 0.5);\n}\n\n/* ========== ÈÄâÈ°πÂç°Ê†∑Âºè ========== */\n.talent-item[data-v-61cfaa8b] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.1rem 1.2rem;\n  margin-bottom: 0.6rem;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  border: 1px solid transparent;\n  background: rgba(30, 41, 59, 0.4);\n}\n.item-content[data-v-61cfaa8b] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n  gap: 0.5rem;\n}\n.talent-cost[data-v-61cfaa8b] {\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  white-space: nowrap;\n  flex-shrink: 0;\n}\n\n/* ÊåâÈíÆÁªÑÂÆπÂô® */\n.action-buttons[data-v-61cfaa8b] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.talent-item:hover .action-buttons[data-v-61cfaa8b] {\n  opacity: 1;\n}\n.edit-btn[data-v-61cfaa8b], .delete-btn[data-v-61cfaa8b] {\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  color: #94a3b8;\n  cursor: pointer;\n  padding: 0.35rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n.edit-btn[data-v-61cfaa8b]:hover {\n  color: #93c5fd;\n  background: rgba(147, 197, 253, 0.1);\n}\n.delete-btn[data-v-61cfaa8b]:hover {\n  color: #f87171;\n  background: rgba(248, 113, 113, 0.1);\n}\n.talent-item[data-v-61cfaa8b]:hover {\n  background: rgba(51, 65, 85, 0.6);\n  border-color: rgba(147, 197, 253, 0.2);\n}\n.talent-item.selected[data-v-61cfaa8b] {\n  background: rgba(30, 58, 138, 0.4);\n  border-color: rgba(147, 197, 253, 0.4);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);\n}\n.talent-name[data-v-61cfaa8b] {\n  font-weight: 500;\n  color: #f1f5f9;\n}\n.talent-item.selected .talent-name[data-v-61cfaa8b] {\n  color: #bfdbfe;\n}\n.single-actions-container[data-v-61cfaa8b] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n}\n.action-item[data-v-61cfaa8b] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 1rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-width: 0;\n}\n.action-item[data-v-61cfaa8b]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-name[data-v-61cfaa8b] {\n  font-weight: 500;\n}\n\n/* ========== Âè≥‰æßËØ¶ÊÉÖÈù¢Êùø ========== */\n.talent-details-container[data-v-61cfaa8b] {\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.talent-details[data-v-61cfaa8b] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n.talent-details h2[data-v-61cfaa8b] {\n  margin: 0 0 1rem 0;\n  color: #93c5fd;\n  flex-shrink: 0;\n  font-size: 1.5rem;\n  text-shadow: 0 0 20px rgba(147, 197, 253, 0.3);\n}\n.description-scroll[data-v-61cfaa8b] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.7;\n  margin-bottom: 1rem;\n  padding-right: 0.5rem;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.description-scroll p[data-v-61cfaa8b] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: #94a3b8;\n}\n.description-scroll[data-v-61cfaa8b]::-webkit-scrollbar { width: 6px;\n}\n.description-scroll[data-v-61cfaa8b]::-webkit-scrollbar-track { background: transparent;\n}\n.description-scroll[data-v-61cfaa8b]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n\n/* ÂìçÂ∫îÂºèÈÄÇÈÖç - ÊâãÊú∫Á´Ø‰ºòÂåñ */\n@media (max-width: 1200px) {\n.talent-layout[data-v-61cfaa8b] {\n    grid-template-columns: 1fr 1.8fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 1024px) {\n.talent-layout[data-v-61cfaa8b] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n.talent-details h2[data-v-61cfaa8b] {\n    font-size: 1.6rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-61cfaa8b] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n}\n.top-actions-container .action-item[data-v-61cfaa8b] {\n    flex-grow: 1;\n    text-align: center;\n}\n.talent-layout[data-v-61cfaa8b] {\n    /* Êîπ‰∏∫ÂûÇÁõ¥Â†ÜÂè†Â∏ÉÂ±Ä */\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;\n    gap: 1rem;\n    height: auto;\n    overflow: visible;\n    padding: 0.8rem;\n}\n.talent-left-panel[data-v-61cfaa8b] {\n    order: 1;\n    max-height: 40vh;\n}\n.talent-details-container[data-v-61cfaa8b] {\n    order: 2;\n    min-height: 300px;\n}\n.talent-list-container[data-v-61cfaa8b] {\n    max-height: 35vh;\n    /* Ê∑ªÂä†Ëß¶Êë∏ÊªöÂä®‰ºòÂåñ */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n\n  /* ‰ºòÂåñËß¶Êë∏‰ΩìÈ™å */\n.talent-item[data-v-61cfaa8b],\n  .action-item[data-v-61cfaa8b] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n}\n@media (max-width: 640px) {\n.talent-layout[data-v-61cfaa8b] {\n    gap: 0.8rem;\n    padding: 0.6rem;\n}\n.talent-left-panel[data-v-61cfaa8b] {\n    max-height: 35vh;\n}\n.talent-list-container[data-v-61cfaa8b] {\n    max-height: 30vh;\n    padding: 0.5rem;\n}\n.talent-item[data-v-61cfaa8b] {\n    padding: 0.7rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-61cfaa8b] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-61cfaa8b] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.talent-details-container[data-v-61cfaa8b] {\n    padding: 1.2rem;\n    min-height: 250px;\n}\n.talent-details h2[data-v-61cfaa8b] {\n    font-size: 1.4rem;\n    margin-bottom: 0.8rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-61cfaa8b] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.talent-selection-container[data-v-61cfaa8b] {\n    padding: 0.4rem;\n    height: auto;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.talent-layout[data-v-61cfaa8b] {\n    gap: 0.6rem;\n    padding: 0;\n    height: auto;\n    min-height: 0;\n}\n.talent-left-panel[data-v-61cfaa8b] {\n    max-height: none;\n    border-radius: 6px;\n}\n.talent-list-container[data-v-61cfaa8b] {\n    max-height: 26vh;\n    padding: 0.4rem;\n}\n.talent-item[data-v-61cfaa8b] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.talent-name[data-v-61cfaa8b] {\n    font-size: 0.9rem;\n}\n.single-actions-container[data-v-61cfaa8b] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-61cfaa8b] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.talent-details-container[data-v-61cfaa8b] {\n    padding: 1rem;\n    min-height: 200px;\n    border-radius: 6px;\n}\n.talent-details h2[data-v-61cfaa8b] {\n    font-size: 1.3rem;\n    margin-bottom: 0.6rem;\n}\n.description-scroll[data-v-61cfaa8b] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n}\n.placeholder[data-v-61cfaa8b] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 150px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.top-actions-container[data-v-61cfaa8b] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n}\n.top-actions-container .action-item[data-v-61cfaa8b] {\n    text-align: center;\n}\n}\n@media (max-width: 360px) {\n.talent-selection-container[data-v-61cfaa8b] {\n    padding: 0.3rem;\n}\n.talent-layout[data-v-61cfaa8b] {\n    gap: 0.4rem;\n}\n.talent-left-panel[data-v-61cfaa8b] {\n    max-height: 28vh;\n}\n.talent-list-container[data-v-61cfaa8b] {\n    max-height: 24vh;\n    padding: 0.3rem;\n}\n.talent-item[data-v-61cfaa8b] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.talent-name[data-v-61cfaa8b] {\n    font-size: 0.8rem;\n}\n.talent-details-container[data-v-61cfaa8b] {\n    padding: 0.8rem;\n    min-height: 180px;\n}\n.talent-details h2[data-v-61cfaa8b] {\n    font-size: 1.1rem;\n    margin-bottom: 0.5rem;\n}\n.description-scroll[data-v-61cfaa8b] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n}\n.action-item[data-v-61cfaa8b] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-61cfaa8b] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n    min-height: 120px;\n}\n}\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .talent-left-panel[data-v-61cfaa8b],\n[data-theme="light"] .talent-details-container[data-v-61cfaa8b] {\n  background: rgba(248, 250, 252, 0.8);\n  border-color: rgba(0, 0, 0, 0.08);\n}\n[data-theme="light"] .talent-item[data-v-61cfaa8b] {\n  background: rgba(255, 255, 255, 0.6);\n}\n[data-theme="light"] .talent-item[data-v-61cfaa8b]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] .talent-item.selected[data-v-61cfaa8b] {\n  background: rgba(219, 234, 254, 0.8);\n  border-color: rgba(59, 130, 246, 0.4);\n}\n[data-theme="light"] .talent-name[data-v-61cfaa8b] {\n  color: #1e293b;\n}\n[data-theme="light"] .talent-item.selected .talent-name[data-v-61cfaa8b] {\n  color: #1e40af;\n}\n[data-theme="light"] .talent-details h2[data-v-61cfaa8b] {\n  color: #2563eb;\n}\n[data-theme="light"] .description-scroll p[data-v-61cfaa8b] {\n  color: #475569;\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢ò‰∏ãÁöÑÁºñËæë/Âà†Èô§ÊåâÈíÆ */\n[data-theme="light"] .edit-btn[data-v-61cfaa8b],\n[data-theme="light"] .delete-btn[data-v-61cfaa8b] {\n  background: rgba(241, 245, 249, 0.8);\n  border: 1px solid rgba(59, 130, 246, 0.15);\n  color: #475569;\n}\n[data-theme="light"] .edit-btn[data-v-61cfaa8b]:hover {\n  color: #2563eb;\n  background: rgba(59, 130, 246, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n}\n[data-theme="light"] .delete-btn[data-v-61cfaa8b]:hover {\n  color: #dc2626;\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.3);\n}\n',""]);const s=i},5976:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6012:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.format-guide-modal-overlay[data-v-07601240] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  backdrop-filter: blur(4px);\n  padding: 20px;\n}\n.format-guide-modal[data-v-07601240] {\n  background: var(--color-surface);\n  border-radius: 12px;\n  width: 100%;\n  max-width: 1000px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: slideUp-07601240 0.3s ease;\n}\n@keyframes slideUp-07601240 {\nfrom {\n    transform: translateY(20px);\n    opacity: 0;\n}\nto {\n    transform: translateY(0);\n    opacity: 1;\n}\n}\n.modal-header[data-v-07601240] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-title[data-v-07601240] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-btn[data-v-07601240] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n.close-btn[data-v-07601240]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.modal-body[data-v-07601240] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0;\n}\n.format-guide-content[data-v-07601240] {\n  display: flex;\n  height: 100%;\n}\n.quick-nav[data-v-07601240] {\n  width: 180px;\n  border-right: 1px solid var(--color-border);\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex-shrink: 0;\n}\n.nav-btn[data-v-07601240] {\n  padding: 0.6rem 1rem;\n  background: transparent;\n  border: none;\n  border-radius: 6px;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  text-align: left;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n.nav-btn[data-v-07601240]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.nav-btn.active[data-v-07601240] {\n  background: var(--color-primary);\n  color: white;\n}\n.format-sections[data-v-07601240] {\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n}\n.format-section[data-v-07601240] {\n  margin-bottom: 2rem;\n}\n.section-title[data-v-07601240] {\n  margin: 0 0 1rem 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  border-bottom: 2px solid var(--color-primary);\n  padding-bottom: 0.5rem;\n}\n.section-content h5[data-v-07601240] {\n  margin: 1rem 0 0.5rem 0;\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.code-block[data-v-07601240] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 1rem;\n  margin: 0.5rem 0;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.85rem;\n  line-height: 1.6;\n  color: var(--color-text);\n  overflow-x: auto;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.example-box[data-v-07601240] {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border-left: 3px solid var(--color-primary);\n  padding: 1rem;\n  margin: 1rem 0;\n  border-radius: 4px;\n}\n.example-box strong[data-v-07601240] {\n  color: var(--color-primary);\n  display: block;\n  margin-bottom: 0.5rem;\n}\n.warning-box[data-v-07601240] {\n  background: rgba(255, 193, 7, 0.1);\n  border-left: 3px solid #ffc107;\n  padding: 1rem;\n  margin: 1rem 0;\n  border-radius: 4px;\n}\n.warning-box strong[data-v-07601240] {\n  color: #ffc107;\n  display: block;\n  margin-bottom: 0.5rem;\n}\n.warning-box ul[data-v-07601240] {\n  margin: 0.5rem 0 0 1.5rem;\n  padding: 0;\n}\n.warning-box li[data-v-07601240] {\n  margin: 0.3rem 0;\n  color: var(--color-text);\n}\n.modal-footer[data-v-07601240] {\n  display: flex;\n  gap: 0.75rem;\n  padding: 1rem 1.5rem;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-background);\n}\n.copy-btn[data-v-07601240],\n.close-footer-btn[data-v-07601240] {\n  padding: 0.6rem 1.2rem;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n}\n.copy-btn[data-v-07601240] {\n  background: var(--color-primary);\n  color: white;\n}\n.copy-btn[data-v-07601240]:hover {\n  background: var(--color-primary-hover);\n  transform: translateY(-1px);\n}\n.close-footer-btn[data-v-07601240] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  color: var(--color-text);\n  margin-left: auto;\n}\n.close-footer-btn[data-v-07601240]:hover {\n  background: var(--color-surface-hover);\n}\n\n/* ÁßªÂä®Á´ØÈÄÇÈÖç */\n@media (max-width: 768px) {\n.format-guide-modal[data-v-07601240] {\n    max-width: 95vw;\n    max-height: 95vh;\n}\n.format-guide-content[data-v-07601240] {\n    flex-direction: column;\n}\n.quick-nav[data-v-07601240] {\n    width: 100%;\n    border-right: none;\n    border-bottom: 1px solid var(--color-border);\n    flex-direction: row;\n    overflow-x: auto;\n    padding: 0.75rem;\n}\n.nav-btn[data-v-07601240] {\n    white-space: nowrap;\n}\n.format-sections[data-v-07601240] {\n    padding: 1rem;\n}\n.modal-footer[data-v-07601240] {\n    flex-direction: column;\n}\n.close-footer-btn[data-v-07601240] {\n    margin-left: 0;\n}\n}\n",""]);const s=i},6088:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n.spirit-root-selection-container[data-v-eff4cb00] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n/* ========== Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º ========== */\n.loading-state[data-v-eff4cb00], .error-state[data-v-eff4cb00], .placeholder[data-v-eff4cb00] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.1rem;\n  color: #94a3b8;\n  font-style: italic;\n}\n.spirit-root-layout[data-v-eff4cb00] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 1.5rem;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* ========== Â∑¶‰æßÈù¢Êùø ========== */\n.spirit-root-left-panel[data-v-eff4cb00] {\n  display: flex;\n  flex-direction: column;\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n/* È¢ÑËÆæÊ®°ÂºèÊ†∑Âºè */\n.preset-mode[data-v-eff4cb00] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n}\n.spirit-root-list-container[data-v-eff4cb00] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n  min-height: 0;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.spirit-root-list-container[data-v-eff4cb00]::-webkit-scrollbar { width: 6px;\n}\n.spirit-root-list-container[data-v-eff4cb00]::-webkit-scrollbar-track { background: transparent;\n}\n.spirit-root-list-container[data-v-eff4cb00]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n.spirit-root-list-container[data-v-eff4cb00]::-webkit-scrollbar-thumb:hover { background: rgba(147, 197, 253, 0.5);\n}\n\n/* ========== ÈÄâÈ°πÂç°Ê†∑Âºè ========== */\n.spirit-root-item[data-v-eff4cb00] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.1rem 1.2rem;\n  margin-bottom: 0.6rem;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  border: 1px solid transparent;\n  background: rgba(30, 41, 59, 0.4);\n}\n.item-content[data-v-eff4cb00] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n\n/* ÊåâÈíÆÁªÑÂÆπÂô® */\n.action-buttons[data-v-eff4cb00] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.spirit-root-item:hover .action-buttons[data-v-eff4cb00] {\n  opacity: 1;\n}\n.edit-btn[data-v-eff4cb00], .delete-btn[data-v-eff4cb00] {\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  color: #94a3b8;\n  cursor: pointer;\n  padding: 0.35rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n.edit-btn[data-v-eff4cb00]:hover {\n  color: #93c5fd;\n  background: rgba(147, 197, 253, 0.1);\n}\n.delete-btn[data-v-eff4cb00]:hover {\n  color: #f87171;\n  background: rgba(248, 113, 113, 0.1);\n}\n.spirit-root-name-container[data-v-eff4cb00] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex: 1;\n}\n.spirit-root-tier[data-v-eff4cb00] {\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: 600;\n  text-align: center;\n  min-width: 28px;\n  flex-shrink: 0;\n}\n.spirit-root-tier.tier-low[data-v-eff4cb00] {\n  background: linear-gradient(135deg, #8B5CF6, #A78BFA);\n  color: white;\n}\n.spirit-root-tier.tier-middle[data-v-eff4cb00] {\n  background: linear-gradient(135deg, #3B82F6, #60A5FA);\n  color: white;\n}\n.spirit-root-tier.tier-high[data-v-eff4cb00] {\n  background: linear-gradient(135deg, #10B981, #34D399);\n  color: white;\n}\n.spirit-root-tier.tier-supreme[data-v-eff4cb00] {\n  background: linear-gradient(135deg, #F59E0B, #FBBF24);\n  color: white;\n}\n.spirit-root-tier.tier-heaven[data-v-eff4cb00] {\n  background: linear-gradient(135deg, #EF4444, #F87171);\n  color: white;\n}\n.spirit-root-tier.tier-divine[data-v-eff4cb00] {\n  background: linear-gradient(135deg, #DC2626, #F87171);\n  color: white;\n}\n.spirit-root-tier.tier-special[data-v-eff4cb00] {\n  background: linear-gradient(135deg, #7C3AED, #A78BFA);\n  color: white;\n  border: 1px solid #A78BFA;\n}\n.spirit-root-tier.tier-common[data-v-eff4cb00] {\n  background: rgba(156, 163, 175, 0.2);\n  color: #6B7280;\n  border: 1px solid #9CA3AF;\n}\n.spirit-root-item[data-v-eff4cb00]:hover {\n  background: rgba(51, 65, 85, 0.6);\n  border-color: rgba(147, 197, 253, 0.2);\n}\n.spirit-root-item.selected[data-v-eff4cb00] {\n  background: rgba(30, 58, 138, 0.4);\n  border-color: rgba(147, 197, 253, 0.4);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);\n}\n.spirit-root-item.disabled[data-v-eff4cb00] {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n.spirit-root-item.disabled[data-v-eff4cb00]:hover {\n  background: rgba(30, 41, 59, 0.4);\n  border-color: transparent;\n}\n.spirit-root-name[data-v-eff4cb00] {\n  font-weight: 500;\n  color: #f1f5f9;\n}\n.spirit-root-item.selected .spirit-root-name[data-v-eff4cb00] {\n  color: #bfdbfe;\n}\n.spirit-root-cost[data-v-eff4cb00] {\n  color: #fbbf24;\n  font-size: 0.85rem;\n  font-weight: 500;\n}\n.divider[data-v-eff4cb00] {\n  height: 1px;\n  background: linear-gradient(to right, transparent, rgba(147, 197, 253, 0.2), transparent);\n  margin: 0.5rem 0;\n}\n.single-actions-container[data-v-eff4cb00] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n}\n.action-item[data-v-eff4cb00] {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 1rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-width: 0;\n}\n.action-item[data-v-eff4cb00]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-name[data-v-eff4cb00] {\n  font-weight: 500;\n}\n\n/* ========== Âè≥‰æßËØ¶ÊÉÖÈù¢Êùø ========== */\n.spirit-root-details-container[data-v-eff4cb00] {\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.spirit-root-details[data-v-eff4cb00] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n.spirit-root-details h2[data-v-eff4cb00] {\n  margin: 0 0 1rem 0;\n  color: #93c5fd;\n  flex-shrink: 0;\n  font-size: 1.5rem;\n  text-shadow: 0 0 20px rgba(147, 197, 253, 0.3);\n}\n.description-scroll[data-v-eff4cb00] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.7;\n  padding-right: 0.5rem;\n  min-height: 0;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.description-scroll p[data-v-eff4cb00] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: #94a3b8;\n}\n.description-scroll[data-v-eff4cb00]::-webkit-scrollbar { width: 6px;\n}\n.description-scroll[data-v-eff4cb00]::-webkit-scrollbar-track { background: transparent;\n}\n.description-scroll[data-v-eff4cb00]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n.cost-display[data-v-eff4cb00] {\n  text-align: right;\n  font-weight: 600;\n  color: #fbbf24;\n  flex-shrink: 0;\n  margin-top: 1rem;\n}\n\n/* ÂìçÂ∫îÂºèÈÄÇÈÖç - ÊâãÊú∫Á´Ø‰ºòÂåñ */\n@media (max-width: 1200px) {\n.spirit-root-layout[data-v-eff4cb00] {\n    grid-template-columns: 1fr 1.8fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 1024px) {\n.spirit-root-layout[data-v-eff4cb00] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n.spirit-root-details h2[data-v-eff4cb00] {\n    font-size: 1.6rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-eff4cb00] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n}\n.top-actions-container .action-item[data-v-eff4cb00] {\n    flex-grow: 1;\n    text-align: center;\n}\n.spirit-root-layout[data-v-eff4cb00] {\n    /* Êîπ‰∏∫ÂûÇÁõ¥Â†ÜÂè†Â∏ÉÂ±Ä */\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;\n    gap: 1rem;\n    height: auto;\n    overflow: visible;\n    padding: 0.8rem;\n}\n.spirit-root-left-panel[data-v-eff4cb00] {\n    order: 1;\n    /* ÁßªÈô§max-heightÈôêÂà∂ÔºåËÆ©flexÂ∏ÉÂ±ÄÊ≠£Â∏∏Â∑•‰Ωú */\n}\n.spirit-root-details-container[data-v-eff4cb00] {\n    order: 2;\n    min-height: 300px;\n}\n.spirit-root-list-container[data-v-eff4cb00] {\n    /* ÁßªÈô§max-heightÈôêÂà∂ÔºåËÆ©flexÂ∏ÉÂ±ÄÊ≠£Â∏∏Â∑•‰Ωú */\n    /* Ê∑ªÂä†Ëß¶Êë∏ÊªöÂä®‰ºòÂåñ */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n\n  /* ‰ºòÂåñËß¶Êë∏‰ΩìÈ™å */\n.spirit-root-item[data-v-eff4cb00],\n  .action-item[data-v-eff4cb00] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n}\n@media (max-width: 640px) {\n.spirit-root-layout[data-v-eff4cb00] {\n    gap: 0.8rem;\n    padding: 0.6rem;\n}\n.spirit-root-list-container[data-v-eff4cb00] {\n    padding: 0.5rem;\n}\n.spirit-root-item[data-v-eff4cb00] {\n    padding: 0.7rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-eff4cb00] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-eff4cb00] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.spirit-root-details-container[data-v-eff4cb00] {\n    padding: 1.2rem;\n    min-height: 250px;\n}\n.spirit-root-details h2[data-v-eff4cb00] {\n    font-size: 1.4rem;\n    margin-bottom: 0.8rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-eff4cb00] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.spirit-root-selection-container[data-v-eff4cb00] {\n    padding: 0.4rem;\n    height: auto;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.spirit-root-layout[data-v-eff4cb00] {\n    gap: 0.6rem;\n    padding: 0;\n    height: auto;\n    min-height: 0;\n}\n.spirit-root-left-panel[data-v-eff4cb00] {\n    border-radius: 6px;\n}\n.spirit-root-list-container[data-v-eff4cb00] {\n    padding: 0.4rem;\n}\n.spirit-root-item[data-v-eff4cb00] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.spirit-root-name[data-v-eff4cb00] {\n    font-size: 0.9rem;\n}\n.spirit-root-cost[data-v-eff4cb00] {\n    font-size: 0.8rem;\n}\n.divider[data-v-eff4cb00] {\n    margin: 0.3rem 0;\n}\n.single-actions-container[data-v-eff4cb00] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-eff4cb00] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.spirit-root-details-container[data-v-eff4cb00] {\n    padding: 1rem;\n    min-height: 200px;\n    border-radius: 6px;\n}\n.spirit-root-details h2[data-v-eff4cb00] {\n    font-size: 1.3rem;\n    margin-bottom: 0.6rem;\n}\n.description-scroll[data-v-eff4cb00] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n}\n.cost-display[data-v-eff4cb00] {\n    font-size: 1rem;\n    text-align: center;\n    margin-top: 0.8rem;\n}\n.placeholder[data-v-eff4cb00] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 150px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.top-actions-container[data-v-eff4cb00] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n}\n.top-actions-container .action-item[data-v-eff4cb00] {\n    text-align: center;\n}\n}\n@media (max-width: 360px) {\n.spirit-root-selection-container[data-v-eff4cb00] {\n    padding: 0.3rem;\n}\n.spirit-root-layout[data-v-eff4cb00] {\n    gap: 0.4rem;\n}\n.spirit-root-list-container[data-v-eff4cb00] {\n    padding: 0.3rem;\n}\n.spirit-root-item[data-v-eff4cb00] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.spirit-root-name[data-v-eff4cb00] {\n    font-size: 0.8rem;\n}\n.spirit-root-cost[data-v-eff4cb00] {\n    font-size: 0.75rem;\n}\n.spirit-root-details-container[data-v-eff4cb00] {\n    padding: 0.8rem;\n    min-height: 180px;\n}\n.spirit-root-details h2[data-v-eff4cb00] {\n    font-size: 1.1rem;\n    margin-bottom: 0.5rem;\n}\n.description-scroll[data-v-eff4cb00] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n}\n.cost-display[data-v-eff4cb00] {\n    font-size: 0.9rem;\n    margin-top: 0.6rem;\n}\n.action-item[data-v-eff4cb00] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-eff4cb00] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n    min-height: 120px;\n}\n}\n\n/* Ëá™ÂÆö‰πâÊ®°ÂºèÊ†∑Âºè */\n.stats-display[data-v-eff4cb00] {\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.stat-item[data-v-eff4cb00] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n.stat-label[data-v-eff4cb00] {\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.stat-value[data-v-eff4cb00] {\n  color: var(--color-accent);\n  font-weight: 600;\n}\n\n/* È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ - Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º */\n.top-actions-container[data-v-eff4cb00] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.06);\n  background: rgba(30, 41, 59, 0.3);\n  justify-content: center;\n}\n.top-actions-container .action-item[data-v-eff4cb00] {\n  padding: 0.5rem 1rem;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.6);\n  color: #cbd5e1;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  font-size: 0.85rem;\n  font-weight: 500;\n  white-space: nowrap;\n  letter-spacing: 0.05em;\n}\n.top-actions-container .action-item[data-v-eff4cb00]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  border-color: rgba(147, 197, 253, 0.3);\n  color: #f1f5f9;\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢òÈ°∂ÈÉ®ÊåâÈíÆ */\n[data-theme="light"] .top-actions-container[data-v-eff4cb00] {\n  background: rgba(241, 245, 249, 0.6);\n  border-bottom-color: rgba(59, 130, 246, 0.15);\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-eff4cb00] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #2563eb;\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-eff4cb00]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n  color: #1e40af;\n}\n\n/* ÈÄâÊã©Ê®°ÂºèÊ†áÁ≠æÈ°µ */\n.selection-mode-tabs[data-v-eff4cb00] {\n  display: flex;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n}\n.mode-tab[data-v-eff4cb00] {\n  flex: 1;\n  padding: 0.8rem 1rem;\n  border: none;\n  background: transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-weight: 500;\n}\n.mode-tab.active[data-v-eff4cb00] {\n  color: var(--color-primary);\n  background: var(--color-surface);\n  border-bottom: 2px solid var(--color-primary);\n}\n.mode-tab[data-v-eff4cb00]:hover:not(.active) {\n  background: rgba(136, 192, 208, 0.1);\n  color: var(--color-text);\n}\n\n/* Ëá™ÂÆö‰πâÊ®°ÂºèÊ†∑Âºè */\n.custom-mode[data-v-eff4cb00] {\n  flex: 1;\n  padding: 1rem;\n  overflow-y: auto;\n}\n.custom-selection-container[data-v-eff4cb00] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.selection-group[data-v-eff4cb00] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.8rem;\n}\n.selection-label[data-v-eff4cb00] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.spirit-type-grid[data-v-eff4cb00] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));\n  gap: 0.5rem;\n}\n.type-button[data-v-eff4cb00] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.8rem 0.5rem;\n  border: 2px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-height: 70px;\n}\n.type-button[data-v-eff4cb00]:hover {\n  border-color: var(--element-color, var(--color-primary));\n  background: rgba(136, 192, 208, 0.1);\n}\n.type-button.selected[data-v-eff4cb00] {\n  border-color: var(--element-color, var(--color-primary));\n  background: var(--element-color, var(--color-primary));\n  color: white;\n}\n.type-icon[data-v-eff4cb00] {\n  font-size: 1.2rem;\n}\n.type-name[data-v-eff4cb00] {\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.tier-selection[data-v-eff4cb00] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.tier-button[data-v-eff4cb00] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.8rem 1rem;\n  border: 2px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.tier-button[data-v-eff4cb00]:hover {\n  border-color: var(--color-primary);\n  background: rgba(136, 192, 208, 0.1);\n}\n.tier-button.selected[data-v-eff4cb00] {\n  border-color: var(--color-primary);\n  background: var(--color-primary);\n  color: white;\n}\n.tier-button.tier-common[data-v-eff4cb00] {\n  border-color: #9CA3AF;\n}\n.tier-button.tier-low[data-v-eff4cb00] {\n  border-color: #8B5CF6;\n}\n.tier-button.tier-middle[data-v-eff4cb00] {\n  border-color: #3B82F6;\n}\n.tier-button.tier-high[data-v-eff4cb00] {\n  border-color: #10B981;\n}\n.tier-button.tier-supreme[data-v-eff4cb00] {\n  border-color: #F59E0B;\n}\n.tier-button.tier-heaven[data-v-eff4cb00] {\n  border-color: #FF6B35;\n}\n.tier-button.tier-divine[data-v-eff4cb00] {\n  border-color: #DC2626;\n}\n.tier-button.tier-special[data-v-eff4cb00] {\n  border-color: #7C3AED;\n}\n.tier-name[data-v-eff4cb00] {\n  font-weight: 600;\n}\n.tier-multiplier[data-v-eff4cb00] {\n  color: var(--color-accent);\n  font-size: 0.9rem;\n}\n.tier-cost[data-v-eff4cb00] {\n  color: var(--color-text-secondary);\n  font-size: 0.8rem;\n}\n.custom-preview[data-v-eff4cb00] {\n  padding: 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-light);\n}\n.preview-title[data-v-eff4cb00] {\n  font-weight: 600;\n  margin-bottom: 0.8rem;\n  color: var(--color-text);\n}\n.preview-content[data-v-eff4cb00] {\n  margin-bottom: 1rem;\n}\n.preview-name[data-v-eff4cb00] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.8rem;\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.preview-tier[data-v-eff4cb00] {\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: 600;\n  background: var(--color-accent);\n  color: white;\n}\n.preview-stats[data-v-eff4cb00] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n}\n.preview-stats .stat[data-v-eff4cb00] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n.confirm-custom-button[data-v-eff4cb00] {\n  width: 100%;\n  padding: 0.8rem;\n  border: none;\n  border-radius: 6px;\n  background: var(--color-primary);\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.confirm-custom-button[data-v-eff4cb00]:hover:not(:disabled) {\n  background: var(--color-primary-dark);\n}\n.confirm-custom-button[data-v-eff4cb00]:disabled {\n  background: var(--color-border);\n  color: var(--color-text-disabled);\n  cursor: not-allowed;\n}\n.actions-container[data-v-eff4cb00] {\n  border-top: 1px solid var(--color-border);\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n}\n\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .spirit-root-left-panel[data-v-eff4cb00],\n[data-theme="light"] .spirit-root-details-container[data-v-eff4cb00] {\n  background: rgba(248, 250, 252, 0.8);\n  border-color: rgba(0, 0, 0, 0.08);\n}\n[data-theme="light"] .spirit-root-item[data-v-eff4cb00] {\n  background: rgba(255, 255, 255, 0.6);\n}\n[data-theme="light"] .spirit-root-item[data-v-eff4cb00]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] .spirit-root-item.selected[data-v-eff4cb00] {\n  background: rgba(219, 234, 254, 0.8);\n  border-color: rgba(59, 130, 246, 0.4);\n}\n[data-theme="light"] .spirit-root-name[data-v-eff4cb00] {\n  color: #1e293b;\n}\n[data-theme="light"] .spirit-root-item.selected .spirit-root-name[data-v-eff4cb00] {\n  color: #1e40af;\n}\n[data-theme="light"] .spirit-root-details h2[data-v-eff4cb00] {\n  color: #2563eb;\n}\n[data-theme="light"] .description-scroll p[data-v-eff4cb00] {\n  color: #475569;\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢ò‰∏ãÁöÑÁºñËæë/Âà†Èô§ÊåâÈíÆ */\n[data-theme="light"] .edit-btn[data-v-eff4cb00],\n[data-theme="light"] .delete-btn[data-v-eff4cb00] {\n  background: rgba(241, 245, 249, 0.8);\n  border: 1px solid rgba(59, 130, 246, 0.15);\n  color: #475569;\n}\n[data-theme="light"] .edit-btn[data-v-eff4cb00]:hover {\n  color: #2563eb;\n  background: rgba(59, 130, 246, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n}\n[data-theme="light"] .delete-btn[data-v-eff4cb00]:hover {\n  color: #dc2626;\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.3);\n}\n',""]);const s=i},6119:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.panel-header[data-v-759e00bb] {\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.panel-title[data-v-759e00bb] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin: 0;\n  font-size: 1.2rem;\n  color: var(--color-text);\n}\n.header-actions[data-v-759e00bb] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.search-bar[data-v-759e00bb] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 0.5rem;\n  min-width: 180px;\n  flex: 1 1 220px;\n}\n.search-input[data-v-759e00bb] {\n  border: none;\n  outline: none;\n  background: transparent;\n  color: var(--color-text);\n  font-size: 0.875rem;\n  flex: 1;\n}\n.format-guide-btn[data-v-759e00bb] {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  padding: 0.5rem 1rem;\n  background: var(--color-accent);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n  white-space: nowrap;\n}\n.format-guide-btn[data-v-759e00bb]:hover {\n  background: var(--color-accent-hover);\n  transform: translateY(-1px);\n}\n\n/* ÊâãÊú∫Á´ØÈÄÇÈÖç */\n@media (max-width: 640px) {\n.panel-header[data-v-759e00bb] {\n    flex-direction: column;\n    gap: 0.5rem;\n    align-items: stretch;\n}\n.panel-title[data-v-759e00bb] {\n    font-size: 1.1rem;\n}\n.header-actions[data-v-759e00bb] {\n    justify-content: stretch;\n}\n.search-bar[data-v-759e00bb] {\n    min-width: 100%;\n    flex: 1;\n}\n}\n@media (max-width: 480px) {\n.panel-header[data-v-759e00bb] {\n    padding: 0.75rem;\n}\n.panel-title[data-v-759e00bb] {\n    font-size: 1rem;\n}\n.search-bar[data-v-759e00bb] {\n    padding: 0.4rem;\n}\n.search-input[data-v-759e00bb] {\n    font-size: 0.8rem;\n}\n}\n.header-buttons[data-v-759e00bb] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex: 0 0 auto;\n  white-space: nowrap;\n  min-width: fit-content;\n}\n.refresh-btn[data-v-759e00bb],\n.export-btn[data-v-759e00bb],\n.stats-btn[data-v-759e00bb] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.5rem 1rem;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n  white-space: nowrap;\n}\n.refresh-btn[data-v-759e00bb]:hover,\n.export-btn[data-v-759e00bb]:hover,\n.stats-btn[data-v-759e00bb]:hover {\n  background: var(--color-primary-hover);\n  transform: translateY(-1px);\n}\n.animate-spin[data-v-759e00bb] {\n  animation: spin-759e00bb 1s linear infinite;\n}\n@keyframes spin-759e00bb {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n@media (max-width: 560px) {\n.header-buttons .refresh-btn span[data-v-759e00bb],\n  .header-buttons .export-btn span[data-v-759e00bb],\n  .header-buttons .stats-btn span[data-v-759e00bb] {\n    display: none;\n}\n}\n",""]);const s=i},6188:e=>{"use strict";e.exports=Math.max},6254:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'/*\n * Ë∂ÖÂá°Êñ∞Áîü - ÂºπÁ™ó/ÂØπËØùÊ°ÜÁßëÊäÄÈ£éÊ†º\n * Modal & Dialog Tech Style\n * Áªü‰∏ÄÊâÄÊúâÂºπÁ™óÁöÑÁßëÊäÄÈ£éÊ†º\n */\n\n/* ========== ÈÄöÁî®ÂºπÁ™óÊ†∑Âºè ========== */\n\n/* ÂºπÁ™óË¶ÜÁõñÂ±Ç */\n.modal-overlay,\n.dialog-overlay,\n.retry-dialog-overlay,\n.custom-confirm-overlay,\n.quantity-modal-overlay,\n.item-modal-overlay,\n.save-migration {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(4px);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n}\n\n/* ÂºπÁ™óÂÆπÂô® */\n.dialog-box,\n.retry-dialog,\n.quantity-modal,\n.custom-confirm-modal,\n.item-modal,\n.modal-container,\n.action-config-modal,\n.deep-cultivation-modal,\n.preset-save-modal,\n[class*="modal"]:not(.modal-overlay):not(.modal-appear) {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.98), rgba(10, 14, 39, 0.98)) !important;\n  border: 2px solid var(--tech-primary) !important;\n  border-radius: 4px !important;\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.4), inset 0 0 20px rgba(0, 217, 255, 0.1) !important;\n  backdrop-filter: blur(20px) !important;\n  -webkit-backdrop-filter: blur(20px) !important;\n  position: relative;\n}\n\n/* ÂºπÁ™óÂ§¥ÈÉ® */\n.dialog-title,\n.modal-header,\n.confirm-header,\n.retry-dialog-title,\n[class*="modal-header"] h3,\n[class*="modal-title"] {\n  color: var(--tech-primary) !important;\n  text-shadow: 0 0 10px rgba(0, 217, 255, 0.3) !important;\n  font-weight: 600 !important;\n  margin: 0 !important;\n}\n\n/* ÂºπÁ™óÂÜÖÂÆπ */\n.dialog-message,\n.modal-content,\n.confirm-content,\n.retry-dialog-message,\n[class*="modal-body"],\n[class*="modal-content"] {\n  color: rgba(0, 217, 255, 0.85) !important;\n}\n\n/* ÂºπÁ™óËæìÂÖ•Ê°Ü */\n.dialog-input,\n[class*="modal"] input[type="text"],\n[class*="modal"] input[type="number"],\n[class*="modal"] input[type="email"],\n[class*="modal"] input[type="password"],\n[class*="modal"] textarea {\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.6), rgba(15, 21, 53, 0.6)) !important;\n  border: 1px solid var(--tech-border) !important;\n  color: var(--tech-primary) !important;\n  border-radius: 4px !important;\n  padding: 8px 12px !important;\n  transition: all 0.3s ease !important;\n}\n\n.dialog-input::placeholder,\n[class*="modal"] input::placeholder,\n[class*="modal"] textarea::placeholder {\n  color: rgba(0, 217, 255, 0.3) !important;\n}\n\n.dialog-input:focus,\n[class*="modal"] input:focus,\n[class*="modal"] textarea:focus {\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.8), rgba(15, 21, 53, 0.8)) !important;\n  border-color: var(--tech-primary) !important;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.3), inset 0 0 10px rgba(0, 217, 255, 0.1) !important;\n  outline: none !important;\n}\n\n/* ========== ÂºπÁ™óÊåâÈíÆ ========== */\n\n.btn-dialog-confirm,\n.btn-confirm,\n.confirm-btn:not(.cancel-btn),\n[class*="modal"] .btn-confirm,\n[class*="modal-footer"] button:not([class*="cancel"]):not(.secondary):not(.danger),\n.action-button.confirm-button,\n.preset-action-button.confirm-button {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15)) !important;\n  border: 2px solid var(--tech-primary) !important;\n  color: var(--tech-primary) !important;\n  border-radius: 4px !important;\n  padding: 10px 20px !important;\n  font-weight: 600 !important;\n  cursor: pointer !important;\n  transition: all 0.3s ease !important;\n}\n\n.btn-dialog-confirm:hover:not(:disabled),\n.btn-confirm:hover:not(:disabled),\n.confirm-btn:hover:not(:disabled),\n[class*="modal"] .btn-confirm:hover:not(:disabled),\n.action-button.confirm-button:hover,\n.preset-action-button.confirm-button:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.3), rgba(157, 0, 255, 0.2)) !important;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.4) !important;\n  transform: translateY(-2px) !important;\n}\n\n/* ÂèñÊ∂à/ÂÖ≥Èó≠ÊåâÈíÆ */\n.btn-dialog-cancel,\n.btn-cancel,\n.cancel-btn,\n.confirm-close-btn,\n[class*="modal"] .btn-cancel,\n[class*="modal-footer"] button[class*="cancel"],\n.action-button:not(.confirm-button),\n.preset-action-button:not(.confirm-button) {\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.08), rgba(157, 0, 255, 0.04)) !important;\n  border: 1px solid var(--tech-border) !important;\n  color: rgba(0, 217, 255, 0.7) !important;\n  border-radius: 4px !important;\n  padding: 10px 20px !important;\n  font-weight: 500 !important;\n  cursor: pointer !important;\n  transition: all 0.3s ease !important;\n}\n\n.btn-dialog-cancel:hover,\n.btn-cancel:hover,\n.cancel-btn:hover,\n.confirm-close-btn:hover,\n[class*="modal"] .btn-cancel:hover,\n.action-button:hover,\n.preset-action-button:hover {\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.15), rgba(157, 0, 255, 0.08)) !important;\n  border-color: var(--tech-secondary) !important;\n  color: var(--tech-secondary) !important;\n  box-shadow: 0 0 15px rgba(157, 0, 255, 0.2) !important;\n}\n\n/* Âç±Èô©ÊåâÈíÆ */\n.btn-danger,\n.discard-confirm,\n[class*="modal"] .btn-danger,\n.action-button.danger {\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.15), rgba(255, 0, 85, 0.08)) !important;\n  border: 1px solid var(--tech-danger) !important;\n  color: var(--tech-danger) !important;\n}\n\n.btn-danger:hover:not(:disabled),\n.discard-confirm:hover,\n[class*="modal"] .btn-danger:hover:not(:disabled),\n.action-button.danger:hover {\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.25), rgba(255, 0, 85, 0.15)) !important;\n  box-shadow: 0 0 20px rgba(255, 0, 85, 0.3) !important;\n}\n\n/* ÊåâÈíÆÁ¶ÅÁî®Áä∂ÊÄÅ */\nbutton:disabled,\n.btn:disabled,\n[class*="modal"] button:disabled {\n  opacity: 0.45 !important;\n  cursor: not-allowed !important;\n  pointer-events: none !important;\n}\n\n/* ========== ÂºπÁ™óÂàÜÂâ≤Á∫ø ========== */\n\n[class*="modal"] hr,\n[class*="modal"] .divider,\n.modal-header,\n.confirm-header {\n  border: none !important;\n  border-bottom: 1px solid var(--tech-border) !important;\n  background: none !important;\n}\n\n/* ========== ÂºπÁ™óÂ§¥ÈÉ®Ë£ÖÈ•∞Á∫ø ========== */\n\n.modal-header::before,\n.confirm-header::before,\n.dialog-box::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: linear-gradient(90deg, transparent, var(--tech-primary), transparent);\n  z-index: 10;\n}\n\n/* ========== ÂÖ∂‰ªñÂºπÁ™óÁâπÂÆöÊ†∑Âºè ========== */\n\n/* ÂÖ≥Èó≠ÊåâÈíÆ */\n[class*="close"],\n.confirm-close-btn {\n  background: transparent !important;\n  border: none !important;\n  color: rgba(0, 217, 255, 0.6) !important;\n  transition: all 0.2s ease !important;\n}\n\n[class*="close"]:hover,\n.confirm-close-btn:hover {\n  color: var(--tech-primary) !important;\n  transform: rotate(90deg) !important;\n}\n\n/* Âä†ËΩΩÁä∂ÊÄÅ */\n.loading,\n[class*="loading"] {\n  color: var(--tech-primary) !important;\n}\n\n/* ÂàóË°®È°π */\n[class*="modal"] li,\n[class*="modal"] .list-item,\n[class*="preset"] .preset-item {\n  color: rgba(0, 217, 255, 0.8) !important;\n  border: 1px solid var(--tech-border) !important;\n  border-radius: 4px !important;\n  transition: all 0.2s ease !important;\n}\n\n[class*="modal"] li:hover,\n[class*="preset"] .preset-item:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.05), rgba(157, 0, 255, 0.03)) !important;\n  border-color: var(--tech-primary) !important;\n}\n\n/* ========== Âä®ÁîªÊïàÊûú ========== */\n\n@keyframes modal-appear {\n  from {\n    opacity: 0;\n    transform: scale(0.95) translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n[class*="modal"]:not(.modal-overlay) {\n  animation: modal-appear 0.3s ease-out !important;\n}\n\n/* ========== ÂìçÂ∫îÂºè ========== */\n\n@media (max-width: 768px) {\n  .modal-overlay,\n  .dialog-overlay,\n  .retry-dialog-overlay,\n  .custom-confirm-overlay,\n  .quantity-modal-overlay {\n    padding: 16px !important;\n  }\n\n  [class*="modal"],\n  .dialog-box,\n  .retry-dialog,\n  .quantity-modal,\n  .custom-confirm-modal {\n    max-width: 100% !important;\n    width: 100% !important;\n  }\n}\n\n@media (max-width: 480px) {\n  .modal-overlay,\n  .dialog-overlay,\n  .retry-dialog-overlay,\n  .custom-confirm-overlay,\n  .quantity-modal-overlay {\n    padding: 12px !important;\n  }\n\n  [class*="modal"],\n  .dialog-box,\n  .retry-dialog,\n  .quantity-modal,\n  .custom-confirm-modal {\n    border-radius: 3px !important;\n  }\n}\n',""]);const s=i},6262:(e,t)=>{"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,a,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);a&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},6494:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6549:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},6556:(e,t,n)=>{"use strict";var a=n(453),r=n(3126),o=r([a("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=a(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?r([n]):n}},6570:e=>{"use strict";function t(e,t,a){a=a||2;var o,i,s,l,u,m,g,h=t&&t.length,f=h?t[0]*a:e.length,v=n(e,0,f,a,!0),b=[];if(!v||v.next===v.prev)return b;if(h&&(v=function(e,t,a,r){var o,i,s,l=[];for(o=0,i=t.length;o<i;o++)(s=n(e,t[o]*r,o<i-1?t[o+1]*r:e.length,r,!1))===s.next&&(s.steiner=!0),l.push(p(s));for(l.sort(c),o=0;o<l.length;o++)a=d(l[o],a);return a}(e,t,v,a)),e.length>80*a){o=s=e[0],i=l=e[1];for(var y=a;y<f;y+=a)(u=e[y])<o&&(o=u),(m=e[y+1])<i&&(i=m),u>s&&(s=u),m>l&&(l=m);g=0!==(g=Math.max(s-o,l-i))?32767/g:0}return r(v,b,a,o,i,g,0),b}function n(e,t,n,a,r){var o,i;if(r===_(e,t,n,a)>0)for(o=t;o<n;o+=a)i=E(o,e[o],e[o+1],i);else for(o=n-a;o>=t;o-=a)i=E(o,e[o],e[o+1],i);return i&&v(i,i.next)&&(N(i),i=i.next),i}function a(e,t){if(!e)return e;t||(t=e);var n,a=e;do{if(n=!1,a.steiner||!v(a,a.next)&&0!==f(a.prev,a,a.next))a=a.next;else{if(N(a),(a=t=a.prev)===a.next)break;n=!0}}while(n||a!==t);return t}function r(e,t,n,c,d,u,p){if(e){!p&&u&&function(e,t,n,a){var r=e;do{0===r.z&&(r.z=m(r.x,r.y,t,n,a)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,a,r,o,i,s,l,c=1;do{for(n=e,e=null,o=null,i=0;n;){for(i++,a=n,s=0,t=0;t<c&&(s++,a=a.nextZ);t++);for(l=c;s>0||l>0&&a;)0!==s&&(0===l||!a||n.z<=a.z)?(r=n,n=n.nextZ,s--):(r=a,a=a.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=a}o.nextZ=null,c*=2}while(i>1)}(r)}(e,c,d,u);for(var g,h,f=e;e.prev!==e.next;)if(g=e.prev,h=e.next,u?i(e,c,d,u):o(e))t.push(g.i/n|0),t.push(e.i/n|0),t.push(h.i/n|0),N(e),e=h.next,f=h.next;else if((e=h)===f){p?1===p?r(e=s(a(e),t,n),t,n,c,d,u,2):2===p&&l(e,t,n,c,d,u):r(a(e),t,n,c,d,u,1);break}}}function o(e){var t=e.prev,n=e,a=e.next;if(f(t,n,a)>=0)return!1;for(var r=t.x,o=n.x,i=a.x,s=t.y,l=n.y,c=a.y,d=r<o?r<i?r:i:o<i?o:i,u=s<l?s<c?s:c:l<c?l:c,m=r>o?r>i?r:i:o>i?o:i,p=s>l?s>c?s:c:l>c?l:c,h=a.next;h!==t;){if(h.x>=d&&h.x<=m&&h.y>=u&&h.y<=p&&g(r,s,o,l,i,c,h.x,h.y)&&f(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function i(e,t,n,a){var r=e.prev,o=e,i=e.next;if(f(r,o,i)>=0)return!1;for(var s=r.x,l=o.x,c=i.x,d=r.y,u=o.y,p=i.y,h=s<l?s<c?s:c:l<c?l:c,v=d<u?d<p?d:p:u<p?u:p,b=s>l?s>c?s:c:l>c?l:c,y=d>u?d>p?d:p:u>p?u:p,x=m(h,v,t,n,a),k=m(b,y,t,n,a),w=e.prevZ,E=e.nextZ;w&&w.z>=x&&E&&E.z<=k;){if(w.x>=h&&w.x<=b&&w.y>=v&&w.y<=y&&w!==r&&w!==i&&g(s,d,l,u,c,p,w.x,w.y)&&f(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,E.x>=h&&E.x<=b&&E.y>=v&&E.y<=y&&E!==r&&E!==i&&g(s,d,l,u,c,p,E.x,E.y)&&f(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;w&&w.z>=x;){if(w.x>=h&&w.x<=b&&w.y>=v&&w.y<=y&&w!==r&&w!==i&&g(s,d,l,u,c,p,w.x,w.y)&&f(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=k;){if(E.x>=h&&E.x<=b&&E.y>=v&&E.y<=y&&E!==r&&E!==i&&g(s,d,l,u,c,p,E.x,E.y)&&f(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function s(e,t,n){var r=e;do{var o=r.prev,i=r.next.next;!v(o,i)&&b(o,r,r.next,i)&&k(o,i)&&k(i,o)&&(t.push(o.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),N(r),N(r.next),r=e=i),r=r.next}while(r!==e);return a(r)}function l(e,t,n,o,i,s){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&h(l,c)){var d=w(l,c);return l=a(l,l.next),d=a(d,d.next),r(l,t,n,o,i,s,0),void r(d,t,n,o,i,s,0)}c=c.next}l=l.next}while(l!==e)}function c(e,t){return e.x-t.x}function d(e,t){var n=function(e,t){var n,a=t,r=e.x,o=e.y,i=-1/0;do{if(o<=a.y&&o>=a.next.y&&a.next.y!==a.y){var s=a.x+(o-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(s<=r&&s>i&&(i=s,n=a.x<a.next.x?a:a.next,s===r))return n}a=a.next}while(a!==t);if(!n)return null;var l,c=n,d=n.x,m=n.y,p=1/0;a=n;do{r>=a.x&&a.x>=d&&r!==a.x&&g(o<m?r:i,o,d,m,o<m?i:r,o,a.x,a.y)&&(l=Math.abs(o-a.y)/(r-a.x),k(a,e)&&(l<p||l===p&&(a.x>n.x||a.x===n.x&&u(n,a)))&&(n=a,p=l)),a=a.next}while(a!==c);return n}(e,t);if(!n)return t;var r=w(n,e);return a(r,r.next),a(n,n.next)}function u(e,t){return f(e.prev,e,t.prev)<0&&f(t.next,e,e.next)<0}function m(e,t,n,a,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-a)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function g(e,t,n,a,r,o,i,s){return(r-i)*(t-s)>=(e-i)*(o-s)&&(e-i)*(a-s)>=(n-i)*(t-s)&&(n-i)*(o-s)>=(r-i)*(a-s)}function h(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&b(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(k(e,t)&&k(t,e)&&function(e,t){var n=e,a=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(a=!a),n=n.next}while(n!==e);return a}(e,t)&&(f(e.prev,e,t.prev)||f(e,t.prev,t))||v(e,t)&&f(e.prev,e,e.next)>0&&f(t.prev,t,t.next)>0)}function f(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function b(e,t,n,a){var r=x(f(e,t,n)),o=x(f(e,t,a)),i=x(f(n,a,e)),s=x(f(n,a,t));return r!==o&&i!==s||!(0!==r||!y(e,n,t))||!(0!==o||!y(e,a,t))||!(0!==i||!y(n,e,a))||!(0!==s||!y(n,t,a))}function y(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function x(e){return e>0?1:e<0?-1:0}function k(e,t){return f(e.prev,e,e.next)<0?f(e,t,e.next)>=0&&f(e,e.prev,t)>=0:f(e,t,e.prev)<0||f(e,e.next,t)<0}function w(e,t){var n=new S(e.i,e.x,e.y),a=new S(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,a.next=n,n.prev=a,o.next=a,a.prev=o,a}function E(e,t,n,a){var r=new S(e,t,n);return a?(r.next=a.next,r.prev=a,a.next.prev=r,a.next=r):(r.prev=r,r.next=r),r}function N(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function S(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _(e,t,n,a){for(var r=0,o=t,i=n-a;o<n;o+=a)r+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return r}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,a){var r=t&&t.length,o=r?t[0]*n:e.length,i=Math.abs(_(e,0,o,n));if(r)for(var s=0,l=t.length;s<l;s++){var c=t[s]*n,d=s<l-1?t[s+1]*n:e.length;i-=Math.abs(_(e,c,d,n))}var u=0;for(s=0;s<a.length;s+=3){var m=a[s]*n,p=a[s+1]*n,g=a[s+2]*n;u+=Math.abs((e[m]-e[g])*(e[p+1]-e[m+1])-(e[m]-e[p])*(e[g+1]-e[m+1]))}return 0===i&&0===u?0:Math.abs((u-i)/i)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},a=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var i=0;i<t;i++)n.vertices.push(e[r][o][i]);r>0&&(a+=e[r-1].length,n.holes.push(a))}return n}},6585:(e,t,n)=>{"use strict";function a(){try{const e=localStorage.getItem("dad_game_settings");if(e){const t=JSON.parse(e);return{nsfwMode:void 0===t.enableNsfwMode||t.enableNsfwMode,nsfwGenderFilter:t.nsfwGenderFilter||"female"}}}catch{}return{nsfwMode:!0,nsfwGenderFilter:"female"}}function r(e){const t=e&&"object"==typeof e?e:{},{nsfwMode:n,nsfwGenderFilter:r}=a();return void 0===t.nsfwMode&&(t.nsfwMode=n),void 0===t.nsfwGenderFilter&&(t.nsfwGenderFilter=r),t}function o(e){if(!e||"object"!=typeof e)return e;const t=e;t["œµÕ≥"]&&!t["Á≥ªÁªü"]&&(t["Á≥ªÁªü"]=t["œµÕ≥"],delete t["œµÕ≥"]);const n=t["Á≥ªÁªü"]&&"object"==typeof t["Á≥ªÁªü"]?t["Á≥ªÁªü"]:{};if(n["ÈÖçÁΩÆ"]=r(n["ÈÖçÁΩÆ"]),t["Á≥ªÁªü"]=n,n["ÈÖçÁΩÆ"]?.nsfwMode){const e=t["ËßíËâ≤"]&&"object"==typeof t["ËßíËâ≤"]?t["ËßíËâ≤"]:{},n=e["Ë∫´‰Ωì"]&&"object"==typeof e["Ë∫´‰Ωì"]?e["Ë∫´‰Ωì"]:{},a=(()=>{const t=e["Ë∫´‰ªΩ"]&&"object"==typeof e["Ë∫´‰ªΩ"]?e["Ë∫´‰ªΩ"]:null,n=t?.ÊÄßÂà´;return"Áî∑"===n||"Â•≥"===n||"ÂÖ∂‰ªñ"===n?n:void 0})(),r=(e,t)=>{void 0===n[e]&&(n[e]=t)};"Áî∑"===a?(r("Ë∫´È´ò",178),r("‰ΩìÈáç",72),r("‰ΩìËÑÇÁéá",14),r("‰∏âÂõ¥",{ËÉ∏Âõ¥:98,ËÖ∞Âõ¥:82,ËáÄÂõ¥:96}),r("ËÉ∏ÈÉ®ÊèèËø∞","ÂæÖAIÁîüÊàê"),r("ÁîüÊÆñÂô®ÊèèËø∞","ÂæÖAIÁîüÊàê")):"Â•≥"===a?(r("Ë∫´È´ò",165),r("‰ΩìÈáç",52),r("‰ΩìËÑÇÁéá",22),r("‰∏âÂõ¥",{ËÉ∏Âõ¥:88,ËÖ∞Âõ¥:62,ËáÄÂõ¥:92}),r("ÁΩ©ÊùØ","C"),r("ËÉ∏ÈÉ®ÊèèËø∞","ÂæÖAIÁîüÊàê"),r("ÁßÅÂ§ÑÊèèËø∞","ÂæÖAIÁîüÊàê"),r("ÁîüÊÆñÂô®ÊèèËø∞","ÂæÖAIÁîüÊàê")):(r("Ë∫´È´ò",170),r("‰ΩìÈáç",60),r("‰ΩìËÑÇÁéá",18),r("‰∏âÂõ¥",{ËÉ∏Âõ¥:90,ËÖ∞Âõ¥:70,ËáÄÂõ¥:90}),r("ËÉ∏ÈÉ®ÊèèËø∞","ÂæÖAIÁîüÊàê"),r("ÁîüÊÆñÂô®ÊèèËø∞","ÂæÖAIÁîüÊàê")),r("Â§ñËßÇÁâπÂæÅ",[]),r("ÊïèÊÑüÁÇπ",[]),r("ÂºÄÂèëÂ∫¶",{}),r("Á∫πË∫´‰∏éÂç∞ËÆ∞",[]),void 0===n["ÈÉ®‰ΩçÂºÄÂèë"]&&(n["ÈÉ®‰ΩçÂºÄÂèë"]={}),void 0===n["ÈÉ®‰Ωç"]&&(n["ÈÉ®‰Ωç"]={}),e["Ë∫´‰Ωì"]=n,t["ËßíËâ≤"]=e}return t}n.d(t,{Md:()=>r,kL:()=>o,rW:()=>a})},6588:(e,t,n)=>{"use strict";n.d(t,{repairSaveData:()=>i});var a=n(2224),r=n(4530),o=n(6988);function i(e){console.log("[Êï∞ÊçÆ‰øÆÂ§ç] ÂºÄÂßã‰øÆÂ§çÂ≠òÊ°£Êï∞ÊçÆ");try{if(!e||"object"!=typeof e)return console.error("[Êï∞ÊçÆ‰øÆÂ§ç] ‚ùå Â≠òÊ°£Êï∞ÊçÆ‰∏∫Á©∫ÊàñÊó†ÊïàÔºåÂàõÂª∫ÈªòËÆ§Â≠òÊ°£"),p();const n=(0,r.ru)(e)?e:(0,r.jj)(e).migrated,i=(0,a.cloneDeep)(n),s=(0,o.$)(i);if(!s.isValid)return console.warn("[Êï∞ÊçÆ‰øÆÂ§ç] ‚ö†Ô∏è Â≠òÊ°£ÁªìÊûÑ‰∏çÂêàÊ†ºÔºå‰ΩøÁî®ÊúÄÂ∞èV3Ê®°ÊùøÂÖúÂ∫ï:",s.errors),p();if(i.ÂÖÉÊï∞ÊçÆ=i.ÂÖÉÊï∞ÊçÆ&&"object"==typeof i.ÂÖÉÊï∞ÊçÆ?i.ÂÖÉÊï∞ÊçÆ:p().ÂÖÉÊï∞ÊçÆ,i.ÂÖÉÊï∞ÊçÆ.ÁâàÊú¨Âè∑=3,i.ÂÖÉÊï∞ÊçÆ.Â≠òÊ°£ID=i.ÂÖÉÊï∞ÊçÆ.Â≠òÊ°£ID||`save_${Date.now()}`,i.ÂÖÉÊï∞ÊçÆ.Â≠òÊ°£Âêç=i.ÂÖÉÊï∞ÊçÆ.Â≠òÊ°£Âêç||"Ëá™Âä®Â≠òÊ°£",i.ÂÖÉÊï∞ÊçÆ.ÂàõÂª∫Êó∂Èó¥=i.ÂÖÉÊï∞ÊçÆ.ÂàõÂª∫Êó∂Èó¥||(new Date).toISOString(),i.ÂÖÉÊï∞ÊçÆ.Êõ¥Êñ∞Êó∂Èó¥=(new Date).toISOString(),i.ÂÖÉÊï∞ÊçÆ.Ê∏∏ÊàèÊó∂ÈïøÁßí=m(i.ÂÖÉÊï∞ÊçÆ.Ê∏∏ÊàèÊó∂ÈïøÁßí,0,999999999,0),i.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥=(t=i.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥)&&"object"==typeof t?{Âπ¥:m(t.Âπ¥,1,999999,1e3),Êúà:m(t.Êúà,1,12,1),Êó•:m(t.Êó•,1,30,1),Â∞èÊó∂:m(t.Â∞èÊó∂,0,23,8),ÂàÜÈíü:m(t.ÂàÜÈíü,0,59,0)}:{Âπ¥:1e3,Êúà:1,Êó•:1,Â∞èÊó∂:8,ÂàÜÈíü:0},i.ËßíËâ≤=i.ËßíËâ≤&&"object"==typeof i.ËßíËâ≤?i.ËßíËâ≤:p().ËßíËâ≤,i.ËßíËâ≤.Ë∫´‰ªΩ=i.ËßíËâ≤.Ë∫´‰ªΩ&&"object"==typeof i.ËßíËâ≤.Ë∫´‰ªΩ?i.ËßíËâ≤.Ë∫´‰ªΩ:p().ËßíËâ≤.Ë∫´‰ªΩ,i.ËßíËâ≤.Ë∫´‰ªΩ.ÂêçÂ≠ó=i.ËßíËâ≤.Ë∫´‰ªΩ.ÂêçÂ≠ó||"Êó†ÂêçË°åÂä®ËÄÖ",i.ËßíËâ≤.Ë∫´‰ªΩ.ÊÄßÂà´=i.ËßíËâ≤.Ë∫´‰ªΩ.ÊÄßÂà´||"Áî∑",i.ËßíËâ≤.Ë∫´‰ªΩ.Âá∫ÁîüÊó•Êúü||(i.ËßíËâ≤.Ë∫´‰ªΩ.Âá∫ÁîüÊó•Êúü={Âπ¥:982,Êúà:1,Êó•:1}),i.ËßíËâ≤.Ë∫´‰ªΩ.ÂàùÂßãÂÖ≠Áª¥&&"object"==typeof i.ËßíËâ≤.Ë∫´‰ªΩ.ÂàùÂßãÂÖ≠Áª¥){const e=i.ËßíËâ≤.Ë∫´‰ªΩ.ÂàùÂßãÂÖ≠Áª¥;e.‰ΩìË¥®=m(e.‰ΩìË¥®,0,10,5),e.ËÉΩÊ∫ê=m(e.ËÉΩÊ∫ê,0,10,5),e.ÁÆóÊ≥ï=m(e.ÁÆóÊ≥ï,0,10,5),e.ËµÑÊ∫êÊÑüÁü•=m(e.ËµÑÊ∫êÊÑüÁü•,0,10,5),e.È≠ÖÂäõ=m(e.È≠ÖÂäõ,0,10,5),e.ÂøÉÊô∫=m(e.ÂøÉÊô∫,0,10,5)}else i.ËßíËâ≤.Ë∫´‰ªΩ.ÂàùÂßãÂÖ≠Áª¥={‰ΩìË¥®:5,ËÉΩÊ∫ê:5,ÁÆóÊ≥ï:5,ËµÑÊ∫êÊÑüÁü•:5,È≠ÖÂäõ:5,ÂøÉÊô∫:5};i.ËßíËâ≤.Ë∫´‰ªΩ.ÊàêÈïøÂÖ≠Áª¥&&"object"==typeof i.ËßíËâ≤.Ë∫´‰ªΩ.ÊàêÈïøÂÖ≠Áª¥||(i.ËßíËâ≤.Ë∫´‰ªΩ.ÊàêÈïøÂÖ≠Áª¥={‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0}),i.ËßíËâ≤.Â±ûÊÄß&&"object"==typeof i.ËßíËâ≤.Â±ûÊÄß?(i.ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç=l(i.ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç),i.ËßíËâ≤.Â±ûÊÄß.ÁîüÂëΩÂÄº=c(i.ËßíËâ≤.Â±ûÊÄß.ÁîüÂëΩÂÄº,100,100),i.ËßíËâ≤.Â±ûÊÄß.ÁîµÈáè=c(i.ËßíËâ≤.Â±ûÊÄß.ÁîµÈáè,50,50),i.ËßíËâ≤.Â±ûÊÄß.Â∏¶ÂÆΩ=c(i.ËßíËâ≤.Â±ûÊÄß.Â∏¶ÂÆΩ,30,30),i.ËßíËâ≤.Â±ûÊÄß.ÂØøÂëΩ=c(i.ËßíËâ≤.Â±ûÊÄß.ÂØøÂëΩ,18,80),i.ËßíËâ≤.Â±ûÊÄß.Â£∞Êúõ=m(i.ËßíËâ≤.Â±ûÊÄß.Â£∞Êúõ,0,999999,0)):(console.warn("[Êï∞ÊçÆ‰øÆÂ§ç] Â±ûÊÄßÁº∫Â§±ÔºåÂàõÂª∫ÈªòËÆ§ÂÄº"),i.ËßíËâ≤.Â±ûÊÄß={Èò∂‰Ωç:{ÂêçÁß∞:"Âá°‰∫∫",Èò∂ÊÆµ:"",ÂΩìÂâçËøõÂ∫¶:0,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:100,Á™ÅÁ†¥ÊèèËø∞:"ÂÆåÊàêÂü∫Á°Ä‰ªªÂä°ÔºåËß£ÈîÅÂàùÁ∫ßÊùÉÈôê"},Â£∞Êúõ:0,ÁîüÂëΩÂÄº:{ÂΩìÂâç:100,‰∏äÈôê:100},ÁîµÈáè:{ÂΩìÂâç:50,‰∏äÈôê:50},Â∏¶ÂÆΩ:{ÂΩìÂâç:30,‰∏äÈôê:30},ÂØøÂëΩ:{ÂΩìÂâç:18,‰∏äÈôê:80}}),i.ËßíËâ≤.‰ΩçÁΩÆ&&"object"==typeof i.ËßíËâ≤.‰ΩçÁΩÆ?i.ËßíËâ≤.‰ΩçÁΩÆ.ÊèèËø∞||(i.ËßíËâ≤.‰ΩçÁΩÆ.ÊèèËø∞="ÈúìËôπÂüé¬∑Êó†ÂêçÂå∫"):i.ËßíËâ≤.‰ΩçÁΩÆ={ÊèèËø∞:"ÈúìËôπÂüé¬∑Êó†ÂêçÂå∫",x:5e3,y:5e3},Array.isArray(i.ËßíËâ≤.ÊïàÊûú)||(i.ËßíËâ≤.ÊïàÊûú=[]);const g={Ë£ÖÂ§á1:null,Ë£ÖÂ§á2:null,Ë£ÖÂ§á3:null,Ë£ÖÂ§á4:null,Ë£ÖÂ§á5:null,Ë£ÖÂ§á6:null};i.ËßíËâ≤.Ë£ÖÂ§á&&"object"==typeof i.ËßíËâ≤.Ë£ÖÂ§á||(i.ËßíËâ≤.Ë£ÖÂ§á={...g});for(let e=1;e<=6;e++){const t=`Ë£ÖÂ§á${e}`,n=i.ËßíËâ≤.Ë£ÖÂ§á[t];i.ËßíËâ≤.Ë£ÖÂ§á[t]=null==n?null:"string"==typeof n?n:"object"==typeof n&&null!==n&&"Áâ©ÂìÅID"in n?String(n.Áâ©ÂìÅID||""):null}if(i.ËßíËâ≤.ËÉåÂåÖ&&"object"==typeof i.ËßíËâ≤.ËÉåÂåÖ)if(i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ&&"object"==typeof i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ?(i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰ΩéÈ¢ù=m(i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰ΩéÈ¢ù,0,999999999,0),i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰∏≠È¢ù=m(i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰∏≠È¢ù,0,999999999,0),i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.È´òÈ¢ù=m(i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.È´òÈ¢ù,0,999999999,0),i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.ÊúÄÈ´òÈ¢ù=m(i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.ÊúÄÈ´òÈ¢ù,0,999999999,0)):i.ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ={‰ΩéÈ¢ù:0,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0},i.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ&&"object"==typeof i.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ){const e={};for(const[t,n]of Object.entries(i.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ)){const a=n;a&&"object"==typeof a&&"string"==typeof a.ÂêçÁß∞&&a.ÂêçÁß∞.trim()&&(e[t]=d(a))}i.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ=e}else i.ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ={};else i.ËßíËâ≤.ËÉåÂåÖ={‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:0,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0},Áâ©ÂìÅ:{}};if(i.Á§æ‰∫§&&"object"==typeof i.Á§æ‰∫§||(i.Á§æ‰∫§=p().Á§æ‰∫§),i.Á§æ‰∫§.ÂÖ≥Á≥ª&&"object"==typeof i.Á§æ‰∫§.ÂÖ≥Á≥ª){const e=i.Á§æ‰∫§.ÂÖ≥Á≥ª,t={};for(const[n,a]of Object.entries(e)){if(n.startsWith("_"))continue;if(!a||"object"!=typeof a)continue;const e=a,r="string"==typeof e.ÂêçÂ≠ó?e.ÂêçÂ≠ó.trim():"",o="string"==typeof n?n.trim():"",i=r||o;i&&(e.ÂêçÂ≠ó=i,t[i]=u(e))}i.Á§æ‰∫§.ÂÖ≥Á≥ª=t}else i.Á§æ‰∫§.ÂÖ≥Á≥ª={};if(i.Á§æ‰∫§.ËÆ∞ÂøÜ&&"object"==typeof i.Á§æ‰∫§.ËÆ∞ÂøÜ?(i.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ=Array.isArray(i.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ)?i.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ:[],i.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ=Array.isArray(i.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ)?i.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ:[],i.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈïøÊúüËÆ∞ÂøÜ=Array.isArray(i.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈïøÊúüËÆ∞ÂøÜ)?i.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈïøÊúüËÆ∞ÂøÜ:[],i.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ=Array.isArray(i.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ)?i.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]):i.Á§æ‰∫§.ËÆ∞ÂøÜ={Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]},i.Á≥ªÁªü&&"object"==typeof i.Á≥ªÁªü||(i.Á≥ªÁªü=p().Á≥ªÁªü),i.Á≥ªÁªü.ÂéÜÂè≤&&"object"==typeof i.Á≥ªÁªü.ÂéÜÂè≤||(i.Á≥ªÁªü.ÂéÜÂè≤={Âèô‰∫ã:[]}),Array.isArray(i.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã)||(i.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã=[]),i.ËßíËâ≤.ÊµÅÊ¥æ&&"object"==typeof i.ËßíËâ≤.ÊµÅÊ¥æ||(i.ËßíËâ≤.ÊµÅÊ¥æ={ÊµÅÊ¥æÂàóË°®:{}}),i.ËßíËâ≤.Á®ãÂ∫è&&"object"==typeof i.ËßíËâ≤.Á®ãÂ∫è||(i.ËßíËâ≤.Á®ãÂ∫è={ÂΩìÂâçÁ®ãÂ∫èID:null,Á®ãÂ∫èËøõÂ∫¶:{},Á®ãÂ∫èÂ•óË£Ö:{‰∏ª‰øÆ:null,ËæÖ‰øÆ:[]}}),i.ËßíËâ≤.ËÆ≠ÁªÉ&&"object"==typeof i.ËßíËâ≤.ËÆ≠ÁªÉ||(i.ËßíËâ≤.ËÆ≠ÁªÉ={ËÆ≠ÁªÉÁ®ãÂ∫è:null,ËÆ≠ÁªÉÁä∂ÊÄÅ:{Ê®°Âºè:"Êú™ËÆ≠ÁªÉ"}}),i.ËßíËâ≤.ÊäÄËÉΩ&&"object"==typeof i.ËßíËâ≤.ÊäÄËÉΩ||(i.ËßíËâ≤.ÊäÄËÉΩ={ÊéåÊè°ÊäÄËÉΩ:[],Ë£ÖÂ§áÊ†è:[],ÂÜ∑Âç¥:{}}),i.Á§æ‰∫§.‰∫ã‰ª∂&&"object"==typeof i.Á§æ‰∫§.‰∫ã‰ª∂?(i.Á§æ‰∫§.‰∫ã‰ª∂.ÈÖçÁΩÆ&&"object"==typeof i.Á§æ‰∫§.‰∫ã‰ª∂.ÈÖçÁΩÆ||(i.Á§æ‰∫§.‰∫ã‰ª∂.ÈÖçÁΩÆ={ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""}),Array.isArray(i.Á§æ‰∫§.‰∫ã‰ª∂.‰∫ã‰ª∂ËÆ∞ÂΩï)||(i.Á§æ‰∫§.‰∫ã‰ª∂.‰∫ã‰ª∂ËÆ∞ÂΩï=[]),i.Á§æ‰∫§.‰∫ã‰ª∂.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥&&"object"!=typeof i.Á§æ‰∫§.‰∫ã‰ª∂.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥&&(i.Á§æ‰∫§.‰∫ã‰ª∂.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=null)):i.Á§æ‰∫§.‰∫ã‰ª∂={ÈÖçÁΩÆ:{ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""},‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥:null,‰∫ã‰ª∂ËÆ∞ÂΩï:[]},i.ËßíËâ≤.ËÆ≠ÁªÉ?.ËÆ≠ÁªÉÁ®ãÂ∫è&&"object"==typeof i.ËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÁ®ãÂ∫è){const e=i.ËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÁ®ãÂ∫è;if(e.Áâ©ÂìÅID){const t=i.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ?.[e.Áâ©ÂìÅID];t&&"Á®ãÂ∫è"===t.Á±ªÂûã?e.ÂêçÁß∞&&e.ÂêçÁß∞===t.ÂêçÁß∞||(e.ÂêçÁß∞=t.ÂêçÁß∞):i.ËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÁ®ãÂ∫è=null}else i.ËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÁ®ãÂ∫è=null}return console.log("[Êï∞ÊçÆ‰øÆÂ§ç] ‚úÖ Â≠òÊ°£Êï∞ÊçÆ‰øÆÂ§çÂÆåÊàê"),i}catch(e){return console.error("[Êï∞ÊçÆ‰øÆÂ§ç] ‚ùå ‰øÆÂ§çËøáÁ®ãÂèëÁîü‰∏•ÈáçÈîôËØØÔºåËøîÂõûÈªòËÆ§Â≠òÊ°£:",e),p()}var t}function s(e,t){const n=e||"Âá°‰∫∫",a=t||"";if("Âá°‰∫∫"===n)return"Ë∫´‰ªΩÊú™ÁôªËÆ∞ÔºåÂÆåÊàêÈ¶ñÊ¨°‰ªªÂä°‰ª•Ëß£ÈîÅÂü∫Á°ÄÊùÉÈôê";const r={Ë°óÂ§¥‰∫∫:{ÂàùÊúü:"ÂÆåÊàê‰ΩéÈ£éÈô©ÂßîÊâòÔºåÂª∫Á´ãÂü∫Á°ÄÊùÉÈôêÔºåÂáÜÂ§áËøàÂêë‰∏≠Êúü",‰∏≠Êúü:"Ë°•Âº∫Ë£ÖÂ§á‰∏éÂÖ≥Á≥ªÁΩëÔºåÊèêÂçáË°åÂä®ÊïàÁéáÔºåÂáÜÂ§áËøõÂÖ•ÂêéÊúü",ÂêéÊúü:"Á®≥ÂÆöËµÑÊ∫êÊ∏†ÈÅìÔºåÊâ©Â±ïË°åÂä®ËåÉÂõ¥ÔºåÂáÜÂ§áÈò∂ÊÆµÂúÜÊª°",ÂúÜÊª°:"ÂÆåÊàêÂü∫Á°ÄËÆ§ËØÅÔºåÂáÜÂ§áÂçáÁ∫ß‰∏∫Ë∑ëËÄÖ","":"ÂÆåÊàêË°óÂå∫‰ªªÂä°ÔºåÁ®≥Âõ∫Âü∫Á°ÄÊùÉÈôê"},Ë∑ëËÄÖ:{ÂàùÊúü:"ÈÄÇÈÖçÂü∫Á°Ä‰πâ‰ΩìÔºåÊãìÂ±ïÂßîÊâòÁΩëÁªúÔºåÂáÜÂ§áËøõÂÖ•‰∏≠Êúü",‰∏≠Êúü:"ÊèêÂçáÂçè‰Ωú‰∏éÊïàÁéáÔºåËß£ÈîÅÊõ¥È´òÈ£éÈô©‰ªªÂä°ÔºåÂáÜÂ§áËøõÂÖ•ÂêéÊúü",ÂêéÊúü:"Á®≥ÂÆöÊàòÊúØÊµÅÁ®ãÔºåÁßØÁ¥ØÂÖ≥ÈîÆÊÉÖÊä•ÔºåÂáÜÂ§áÈò∂ÊÆµÂúÜÊª°",ÂúÜÊª°:"Ëé∑ÂæóÁ®≥ÂÆöÈÄöË°åÊùÉÈôêÔºåÂáÜÂ§áÂçáÁ∫ß‰∏∫ÊΩúÂΩ±ËÄÖ","":"ÊèêÂçáÊâßË°åÂäõ‰∏éÁ®≥ÂÆöÊÄßÔºåÊé®ËøõË∑ëËÄÖÈò∂ÊÆµ"},ÊΩúÂΩ±ËÄÖ:{ÂàùÊúü:"Âº∫ÂåñÊ∏óÈÄèËÉΩÂäõÔºå‰ºòÂåñÈöêÂåøÊµÅÁ®ãÔºåÂáÜÂ§áËøõÂÖ•‰∏≠Êúü",‰∏≠Êúü:"ÊéåÊè°ÂÖ≥ÈîÆËäÇÁÇπÔºåÊèêÂçáÊÉÖÊä•Â§ÑÁêÜÔºåÂáÜÂ§áËøõÂÖ•ÂêéÊúü",ÂêéÊúü:"Á®≥ÂÆöÊ∑±Â∫¶Ë°åÂä®ÔºåÊâ©Â±ïËµÑÊ∫êËß¶ËææÔºåÂáÜÂ§áÈò∂ÊÆµÂúÜÊª°",ÂúÜÊª°:"ÂÆåÊàêÈ´òÂç±ËÆ§ËØÅÔºåÂáÜÂ§áÂçáÁ∫ß‰∏∫Èõá‰Ω£ÁåéÊâã","":"ÊèêÂçáÊΩúË°å‰∏éÊ∏óÈÄèÊïàÁéáÔºåÊé®ËøõÊΩúÂΩ±ËÄÖÈò∂ÊÆµ"},Èõá‰Ω£ÁåéÊâã:{ÂàùÊúü:"‰ºòÂåñÊàòÊúØÈÖçÁΩÆÔºåÊèêÂçáÁÅ´ÂäõÊïàÁéáÔºåÂáÜÂ§áËøõÂÖ•‰∏≠Êúü",‰∏≠Êúü:"Êï¥ÂêàÊÉÖÊä•‰∏éÁÅ´ÂäõÔºåÊèêÂçáÊâßË°åÊïàÁéáÔºåÂáÜÂ§áËøõÂÖ•ÂêéÊúü",ÂêéÊúü:"Á®≥ÂÆöÈ´òÂç±Ë°åÂä®ÔºåÂª∫Á´ãÂõ¢ÈòüÂΩ±ÂìçÂäõÔºåÂáÜÂ§áÈò∂ÊÆµÂúÜÊª°",ÂúÜÊª°:"ÂÆåÊàêÂÖ≥ÈîÆ‰ªªÂä°ÈìæÔºåÂáÜÂ§áÂçáÁ∫ß‰∏∫ÊàòÊúØÂ§ßÂ∏à","":"Âº∫ÂåñÊàòÊúØÈÄÇÈÖç‰∏éÊâßË°åÂäõÔºåÊé®ËøõÈõá‰Ω£ÁåéÊâãÈò∂ÊÆµ"},ÊàòÊúØÂ§ßÂ∏à:{ÂàùÊúü:"Âª∫Á´ãÊåáÊå•ÈìæË∑ØÔºåÊèêÂçáÊàòÊúØÂçèÂêåÔºåÂáÜÂ§áËøõÂÖ•‰∏≠Êúü",‰∏≠Êúü:"ÊéåÊéßÂ§öÁ∫øË°åÂä®ÔºåÊâ©Â±ïËµÑÊ∫êË∞ÉÂ∫¶ÔºåÂáÜÂ§áËøõÂÖ•ÂêéÊúü",ÂêéÊúü:"Á®≥ÂÆöÂ±ÄÂäøÊìçÊéßÔºåÊûÑÂª∫ÈïøÁ∫ø‰ºòÂäøÔºåÂáÜÂ§áÈò∂ÊÆµÂúÜÊª°",ÂúÜÊª°:"ÂÆåÊàêÊ†∏ÂøÉÂçèÂÆöÔºåÂáÜÂ§áÂçáÁ∫ß‰∏∫‰ºÅ‰∏öÁâπ‰Ωø","":"‰ºòÂåñÊåáÊå•‰∏éË∞ÉÂ∫¶ÔºåÊé®ËøõÊàòÊúØÂ§ßÂ∏àÈò∂ÊÆµ"}}[n];return r?r[a]||r[""]||"ÊèêÂçáÁ≠âÁ∫ßÈò∂ÊÆµÔºåÂáÜÂ§á‰∏ã‰∏ÄÊ≠•ÂçáÁ∫ß":{ÂàùÊúü:"Á®≥Âõ∫ÂΩìÂâçÈò∂ÊÆµÔºåÂáÜÂ§áËøõÂÖ•‰∏≠Êúü",‰∏≠Êúü:"‰ºòÂåñÈÖçÁΩÆ‰∏éÊµÅÁ®ãÔºåÂáÜÂ§áËøõÂÖ•ÂêéÊúü",ÂêéÊúü:"Â∑©Âõ∫ÂÖ≥ÈîÆËÉΩÂäõÔºåÂáÜÂ§áÈò∂ÊÆµÂúÜÊª°",ÂúÜÊª°:"ÂÆåÊàêÈò∂ÊÆµÁõÆÊ†áÔºåÂáÜÂ§áÂçáÁ∫ß‰∏ã‰∏ÄÁ≠âÁ∫ß","":"ÊèêÂçáÁ≠âÁ∫ßÈò∂ÊÆµÔºåÂáÜÂ§á‰∏ã‰∏ÄÊ≠•ÂçáÁ∫ß"}[a]||"ÊèêÂçáÁ≠âÁ∫ßÈò∂ÊÆµÔºåÂáÜÂ§á‰∏ã‰∏ÄÊ≠•ÂçáÁ∫ß"}function l(e){if(!e||"object"!=typeof e)return{ÂêçÁß∞:"Âá°‰∫∫",Èò∂ÊÆµ:"",ÂΩìÂâçËøõÂ∫¶:0,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:100,Á™ÅÁ†¥ÊèèËø∞:"Ë∫´‰ªΩÊú™ÁôªËÆ∞ÔºåÂÆåÊàêÈ¶ñÊ¨°‰ªªÂä°‰ª•Ëß£ÈîÅÂü∫Á°ÄÊùÉÈôê"};const t=e.ÂêçÁß∞||"Âá°‰∫∫",n=void 0!==e.Èò∂ÊÆµ?e.Èò∂ÊÆµ:"";return{ÂêçÁß∞:t,Èò∂ÊÆµ:n,ÂΩìÂâçËøõÂ∫¶:m(e.ÂΩìÂâçËøõÂ∫¶,0,999999999,0),‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:m(e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ,1,999999999,100),Á™ÅÁ†¥ÊèèËø∞:e.Á™ÅÁ†¥ÊèèËø∞||s(t,n)}}function c(e,t,n){if(!e||"object"!=typeof e)return{ÂΩìÂâç:t,‰∏äÈôê:n};const a=m(e.ÂΩìÂâç,0,999999999,t),r=m(e.‰∏äÈôê,1,999999999,n);return{ÂΩìÂâç:Math.min(a,r),‰∏äÈôê:r}}function d(e){const t={...e};return t.Áâ©ÂìÅID=t.Áâ©ÂìÅID||`item_${Date.now()}`,t.ÂêçÁß∞=t.ÂêçÁß∞||"Êú™ÂëΩÂêçÁâ©ÂìÅ",t.Êï∞Èáè=m(t.Êï∞Èáè,1,999999,1),t.ÂìÅË¥®&&"object"==typeof t.ÂìÅË¥®?(["Âá°","ÈªÑ","ÁéÑ","Âú∞","Â§©","‰ªô","Á•û"].includes(t.ÂìÅË¥®.quality)||(t.ÂìÅË¥®.quality="Âá°"),t.ÂìÅË¥®.grade=m(t.ÂìÅË¥®.grade,0,10,1)):t.ÂìÅË¥®={quality:"Âá°",grade:1},["Ë£ÖÂ§á","Á®ãÂ∫è","ËçØÂâÇ","ÊùêÊñô","ÂÖ∂‰ªñ"].includes(t.Á±ªÂûã)||(t.Á±ªÂûã="ÂÖ∂‰ªñ"),t}function u(e){const t={...e};return t.ÂêçÂ≠ó=t.ÂêçÂ≠ó||"Êó†Âêç",t.ÊÄßÂà´=t.ÊÄßÂà´||"Áî∑",t.Èò∂‰Ωç=l(t.Èò∂‰Ωç),t.ÂàùÂßãÂÖ≠Áª¥&&"object"==typeof t.ÂàùÂßãÂÖ≠Áª¥||(t.ÂàùÂßãÂÖ≠Áª¥={‰ΩìË¥®:5,ËÉΩÊ∫ê:5,ÁÆóÊ≥ï:5,ËµÑÊ∫êÊÑüÁü•:5,È≠ÖÂäõ:5,ÂøÉÊô∫:5}),t.ÂΩìÂâç‰ΩçÁΩÆ&&"object"==typeof t.ÂΩìÂâç‰ΩçÁΩÆ?t.ÂΩìÂâç‰ΩçÁΩÆ.ÊèèËø∞||(t.ÂΩìÂâç‰ΩçÁΩÆ.ÊèèËø∞="ÈúìËôπÂüé¬∑Êó†ÂêçÂå∫"):t.ÂΩìÂâç‰ΩçÁΩÆ={ÊèèËø∞:"ÈúìËôπÂüé¬∑Êó†ÂêçÂå∫"},t.Â•ΩÊÑüÂ∫¶=m(t.Â•ΩÊÑüÂ∫¶,-100,100,0),Array.isArray(t.ËÆ∞ÂøÜ)||(t.ËÆ∞ÂøÜ=[]),t.ËÉåÂåÖ&&"object"==typeof t.ËÉåÂåÖ||(t.ËÉåÂåÖ={‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:0,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0},Áâ©ÂìÅ:{}}),t}function m(e,t,n,a){if("number"==typeof e&&!isNaN(e))return Math.max(t,Math.min(n,e));if("string"==typeof e){const a=parseFloat(e);if(!isNaN(a))return Math.max(t,Math.min(n,a))}return a}function p(){const e=(new Date).toISOString();return{ÂÖÉÊï∞ÊçÆ:{ÁâàÊú¨Âè∑:3,Â≠òÊ°£ID:`save_${Date.now()}`,Â≠òÊ°£Âêç:"Ëá™Âä®Â≠òÊ°£",Ê∏∏ÊàèÁâàÊú¨:"0.0.0",ÂàõÂª∫Êó∂Èó¥:e,Êõ¥Êñ∞Êó∂Èó¥:e,Ê∏∏ÊàèÊó∂ÈïøÁßí:0,Êó∂Èó¥:{Âπ¥:1e3,Êúà:1,Êó•:1,Â∞èÊó∂:8,ÂàÜÈíü:0}},ËßíËâ≤:{Ë∫´‰ªΩ:{ÂêçÂ≠ó:"Êó†ÂêçË°åÂä®ËÄÖ",ÊÄßÂà´:"Áî∑",Âá∫ÁîüÊó•Êúü:{Âπ¥:982,Êúà:1,Êó•:1},ÁßçÊóè:"‰∫∫Á±ª",‰∏ñÁïå:"ÈúìËôπÂüé",Ê®°ÂùóÈò∂‰Ωç:"Âá°‰∫∫",Âá∫Áîü:"Ëá™Áî±‰∫∫",ÊîπÈÄ†Ê†∏ÂøÉ:"Âü∫Á°ÄÊ†∏ÂøÉ",Ê®°Âùó:[],ÂàùÂßãÂÖ≠Áª¥:{‰ΩìË¥®:5,ËÉΩÊ∫ê:5,ÁÆóÊ≥ï:5,ËµÑÊ∫êÊÑüÁü•:5,È≠ÖÂäõ:5,ÂøÉÊô∫:5},ÊàêÈïøÂÖ≠Áª¥:{‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0}},Â±ûÊÄß:{Èò∂‰Ωç:{ÂêçÁß∞:"Âá°‰∫∫",Èò∂ÊÆµ:"",ÂΩìÂâçËøõÂ∫¶:0,‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ:100,Á™ÅÁ†¥ÊèèËø∞:"ÂÆåÊàêÂü∫Á°Ä‰ªªÂä°ÔºåËß£ÈîÅÂàùÁ∫ßÊùÉÈôê"},Â£∞Êúõ:0,ÁîüÂëΩÂÄº:{ÂΩìÂâç:100,‰∏äÈôê:100},ÁîµÈáè:{ÂΩìÂâç:50,‰∏äÈôê:50},Â∏¶ÂÆΩ:{ÂΩìÂâç:30,‰∏äÈôê:30},ÂØøÂëΩ:{ÂΩìÂâç:18,‰∏äÈôê:80}},‰ΩçÁΩÆ:{ÊèèËø∞:"ÈúìËôπÂüé¬∑Êó†ÂêçÂå∫",x:5e3,y:5e3},ÊïàÊûú:[],Ë∫´‰Ωì:{ÊÄª‰ΩìÁä∂ÂÜµ:"",ÈÉ®‰Ωç:{}},ËÉåÂåÖ:{‰ø°Áî®ÁÇπ:{‰ΩéÈ¢ù:0,‰∏≠È¢ù:0,È´òÈ¢ù:0,ÊúÄÈ´òÈ¢ù:0},Áâ©ÂìÅ:{}},Ë£ÖÂ§á:{Ë£ÖÂ§á1:null,Ë£ÖÂ§á2:null,Ë£ÖÂ§á3:null,Ë£ÖÂ§á4:null,Ë£ÖÂ§á5:null,Ë£ÖÂ§á6:null},Á®ãÂ∫è:{ÂΩìÂâçÁ®ãÂ∫èID:null,Á®ãÂ∫èËøõÂ∫¶:{},Á®ãÂ∫èÂ•óË£Ö:{‰∏ª‰øÆ:null,ËæÖ‰øÆ:[]}},ËÆ≠ÁªÉ:{ËÆ≠ÁªÉÁ®ãÂ∫è:null,ËÆ≠ÁªÉÁä∂ÊÄÅ:{Ê®°Âºè:"Êú™ËÆ≠ÁªÉ"}},ÊµÅÊ¥æ:{ÊµÅÊ¥æÂàóË°®:{}},ÊäÄËÉΩ:{ÊéåÊè°ÊäÄËÉΩ:[],Ë£ÖÂ§áÊ†è:[],ÂÜ∑Âç¥:{}}},Á§æ‰∫§:{ÂÖ≥Á≥ª:{},ÁªÑÁªá:null,‰∫ã‰ª∂:{ÈÖçÁΩÆ:{ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂:!0,ÊúÄÂ∞èÈó¥ÈöîÂπ¥:1,ÊúÄÂ§ßÈó¥ÈöîÂπ¥:10,‰∫ã‰ª∂ÊèêÁ§∫ËØç:""},‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥:null,‰∫ã‰ª∂ËÆ∞ÂΩï:[]},ËÆ∞ÂøÜ:{Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]}},‰∏ñÁïå:{‰ø°ÊÅØ:{‰∏ñÁïåÂêçÁß∞:"ÈúìËôπÂüé",Â§ßÈôÜ‰ø°ÊÅØ:[],ÂäøÂäõ‰ø°ÊÅØ:[],Âú∞ÁÇπ‰ø°ÊÅØ:[],ÁîüÊàêÊó∂Èó¥:e,‰∏ñÁïåËÉåÊôØ:"",‰∏ñÁïåÁ∫™ÂÖÉ:"",ÁâπÊÆäËÆæÂÆö:[],ÁâàÊú¨:"v1"},Áä∂ÊÄÅ:{ÁéØÂ¢É:{},‰∫ã‰ª∂:[],ÂéÜÂè≤:[],NPCÁä∂ÊÄÅ:{}}},Á≥ªÁªü:{ÈÖçÁΩÆ:{},ËÆæÁΩÆ:{},ÁºìÂ≠ò:{ÊéåÊè°ÊäÄËÉΩ:[],‰∏¥Êó∂ÁªüËÆ°:{}},Ë°åÂä®ÈòüÂàó:{actions:[]},ÂéÜÂè≤:{Âèô‰∫ã:[]},Êâ©Â±ï:{},ËÅîÊú∫:{Ê®°Âºè:"ÂçïÊú∫",ÊàøÈó¥ID:null,Áé©ÂÆ∂ID:null,Âè™ËØªË∑ØÂæÑ:["‰∏ñÁïå"],‰∏ñÁïåÊõùÂÖâ:!1,ÂÜ≤Á™ÅÁ≠ñÁï•:"ÊúçÂä°Âô®"}}}}},6623:(e,t,n)=>{"use strict";e.exports=n.p+"6a14696d36301747cf51.ttf"},6627:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'/* Theme overrides to improve light/dark readability (focused on dashboard sidebar) */\n\n/* Scrollbars follow theme */\n.right-sidebar .sidebar-content {\n  scrollbar-color: var(--scrollbar-thumb-color) transparent;\n}\n.right-sidebar .sidebar-content::-webkit-scrollbar-thumb {\n  background: var(--scrollbar-thumb-color);\n}\n\n/* Containers use themed surfaces/borders */\n.right-sidebar .ai-chat-section,\n.right-sidebar .info-section,\n.right-sidebar .cultivation-section,\n.right-sidebar .vitals-section,\n.right-sidebar .attributes-section,\n.right-sidebar .location-section,\n.right-sidebar .wealth-section,\n.right-sidebar .collapsible-section {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-border) !important;\n}\n\n/* Subtle hover */\n.right-sidebar .section-header:hover {\n  background: var(--color-surface-light) !important;\n}\n\n/* Text colors */\n.right-sidebar .sidebar-title,\n.right-sidebar .detail-value,\n.right-sidebar .vital-text,\n.right-sidebar .effect-name,\n.right-sidebar .realm-name {\n  color: var(--color-text) !important;\n}\n.right-sidebar .detail-label,\n.right-sidebar .state-label,\n.right-sidebar .state-text,\n.right-sidebar .progress-text,\n.right-sidebar .effect-time,\n.right-sidebar .empty-text,\n.right-sidebar .no-char-text,\n.right-sidebar .realm-level,\n.right-sidebar .vital-name {\n  color: var(--color-text-secondary) !important;\n}\n.right-sidebar .section-title { color: var(--color-text) !important; }\n.right-sidebar .section-icon { color: var(--color-primary) !important; }\n\n/* Collapsible toggle icon */\n.right-sidebar .collapse-toggle { color: var(--color-text-secondary) !important; }\n.right-sidebar .collapse-toggle:hover {\n  color: var(--color-text) !important;\n  background: var(--color-surface-light) !important;\n}\n\n/* Vital item cards */\n.right-sidebar .vital-item {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-border) !important;\n}\n.right-sidebar .vital-item:hover {\n  background: var(--color-surface-light) !important;\n  border-color: var(--color-border) !important;\n}\n\n/* Progress bars */\n.right-sidebar .progress-bar { background: var(--color-surface-light) !important; }\n.right-sidebar .progress-fill.health { background: var(--vital-health) !important; }\n.right-sidebar .progress-fill.mana { background: var(--vital-lingqi) !important; }\n.right-sidebar .progress-fill.spirit { background: var(--vital-spirit) !important; }\n.right-sidebar .progress-fill.lifespan { background: var(--vital-lifespan) !important; }\n.right-sidebar .progress-fill.cultivation { background: var(--color-accent) !important; }\n\n/* Status effect cards: neutral base, colored left bar */\n.right-sidebar .status-effect-card {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-border) !important;\n}\n.right-sidebar .status-effect-card::before { background: var(--color-border) !important; }\n.right-sidebar .status-effect-card.buff::before { background: linear-gradient(to bottom, var(--color-success), var(--color-success)) !important; }\n.right-sidebar .status-effect-card.debuff::before { background: linear-gradient(to bottom, var(--color-error), var(--color-error)) !important; }\n\n/* Talent card simplified */\n.right-sidebar .talent-card {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-accent) !important;\n  border-left: 4px solid var(--color-accent) !important;\n}\n.right-sidebar .talent-name { color: var(--color-accent) !important; }\n.right-sidebar .talent-level {\n  color: var(--color-warning) !important;\n  background: var(--color-surface-light) !important;\n  border: 1px solid var(--color-warning) !important;\n}\n\n/* Icons by type */\n.right-sidebar .vital-icon.blood { color: var(--vital-health) !important; }\n.right-sidebar .vital-icon.mana { color: var(--vital-lingqi) !important; }\n.right-sidebar .vital-icon.spirit { color: var(--vital-spirit) !important; }\n.right-sidebar .vital-icon.lifespan { color: var(--vital-lifespan) !important; }\n\n/* Character summary sections keep a subtle primary/accents using existing rgb if available */\n.right-sidebar .character-info-section {\n  background: rgba(var(--color-primary-rgb), 0.06) !important;\n  border: 1px solid rgba(var(--color-primary-rgb), 0.15) !important;\n}\n.right-sidebar .character-state-section {\n  background: var(--color-surface) !important;\n  border: 1px solid var(--color-border) !important;\n}\n\n/* Inventory item count badge: keep readable in both themes */\n.item-quantity-display { color: #f7f7f5 !important; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }\n\n/* ===== ‰øÆÂ§çÂè≥‰æßÈù¢ÊùøÈ¢úËâ≤Ê∑°ÂåñÈóÆÈ¢ò ===== */\n\n/* ÁßªÈô§ÂèØËÉΩÂØºËá¥ÁôΩËâ≤ÈÅÆÁΩ©ÁöÑÊïàÊûú */\n.right-sidebar,\n.right-panel-area {\n  filter: none !important;\n  backdrop-filter: none !important;\n  -webkit-backdrop-filter: none !important;\n  mix-blend-mode: normal !important;\n  opacity: 1 !important;\n}\n\n/* Á°Æ‰øùÂè≥‰æßÈù¢ÊùøÁöÑËÉåÊôØÂÆåÂÖ®‰∏çÈÄèÊòé */\n.right-sidebar {\n  background: var(--color-surface) !important;\n}\n\n/* ÁßªÈô§‰ªª‰ΩïÂèØËÉΩÁöÑ‰º™ÂÖÉÁ¥†ÈÅÆÁΩ© */\n.right-sidebar::before,\n.right-sidebar::after,\n.right-panel-area::before,\n.right-panel-area::after {\n  display: none !important;\n}\n\n/* ===== ÊåâÈíÆÊñáÂ≠óÊ∫¢Âá∫ÂíåÂ±Ö‰∏≠‰øÆÂ§ç ===== */\n\n/* ÈÄöÁî®ÊåâÈíÆÊúÄÂ∞èÂÆΩÂ∫¶ÂíåÂ±Ö‰∏≠Ê†∑Âºè */\nbutton {\n  min-width: fit-content;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* RetryConfirmDialog ÊåâÈíÆ‰øÆÂ§ç */\n.retry-dialog .btn-primary,\n.retry-dialog .btn-secondary {\n  min-width: 100px !important; /* Á°Æ‰øùÊúÄÂ∞èÂÆΩÂ∫¶ */\n  padding: 12px 24px !important; /* Â¢ûÂä†Â∑¶Âè≥ÂÜÖËæπË∑ùÈò≤Ê≠¢ÊñáÂ≠óÊ∫¢Âá∫ */\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* DataClearButtons ÊåâÈíÆ‰øÆÂ§ç */\n.clear-button {\n  min-width: 120px !important; /* Èò≤Ê≠¢"Ê∏ÖÈô§Ëá™ÂÆö‰πâÊï∞ÊçÆ"Á≠âÈïøÊñáÂ≠óÊ∫¢Âá∫ */\n  padding: 0.4rem 1rem !important; /* Â¢ûÂä†Â∑¶Âè≥ÂÜÖËæπË∑ù */\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n  gap: 0.25rem;\n}\n\n.clear-button .clear-text {\n  flex: 1;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* SavePanel Êìç‰ΩúÊåâÈíÆ‰øÆÂ§ç */\n.operation-btn {\n  min-width: 140px !important; /* ‰∏∫"ÂØºÂá∫Â≠òÊ°£"„ÄÅ"ÂØºÂÖ•Â≠òÊ°£"Á≠âÊåâÈíÆËÆæÁΩÆÊúÄÂ∞èÂÆΩÂ∫¶ */\n  padding: 1rem 1.2rem !important;\n  text-align: center;\n}\n\n.operation-btn .btn-content {\n  width: 100%;\n  text-align: center;\n}\n\n.operation-btn .btn-title {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* MainGamePanel ‰∏≠ÁöÑÂø´Êç∑Êìç‰ΩúÊåâÈíÆ‰øÆÂ§ç */\n.quick-action-btn {\n  min-width: 80px !important; /* Á°Æ‰øùÊåâÈíÆÊúÄÂ∞èÂÆΩÂ∫¶ */\n  min-height: 70px;\n  padding: 12px 10px !important; /* Â¢ûÂä†Â∑¶Âè≥ÂÜÖËæπË∑ù */\n  text-align: center;\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.quick-action-btn .action-text {\n  width: 100%;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 0.8rem;\n  line-height: 1.2;\n}\n\n/* ÈÖçÁΩÆÂºπÁ™óÊåâÈíÆ‰øÆÂ§ç */\n.cancel-btn,\n.confirm-btn {\n  min-width: 80px !important; /* Á°Æ‰øù"ÂèñÊ∂à"„ÄÅ"Á°ÆËÆ§"ÊåâÈíÆÊúÄÂ∞èÂÆΩÂ∫¶ */\n  padding: 8px 24px !important; /* Â¢ûÂä†Â∑¶Âè≥ÂÜÖËæπË∑ù */\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* LocalPromptModal ÊåâÈíÆ‰øÆÂ§ç */\n.cancel-button {\n  min-width: 80px !important;\n  padding: 8px 24px !important;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* ÈÄöÁî®ÊåâÈíÆÊñáÂ≠óÂ±Ö‰∏≠‰øÆÂ§ç */\n.btn-text,\n.action-text,\n.btn-title {\n  text-align: center !important;\n  width: 100%;\n  display: block;\n}\n\n/* ‰øÆÂ§çLeftSidebar‰∏≠ÁöÑÊåâÈíÆ */\n.left-sidebar .nav-btn {\n  min-width: 100%;\n  text-align: left; /* LeftSidebarÊåâÈíÆÂ∫îËØ•Â∑¶ÂØπÈΩê */\n}\n\n.left-sidebar .nav-btn .btn-text,\n.left-sidebar .nav-btn .btn-desc {\n  text-align: left;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* TopBar‰∏≠ÁöÑÂÖ®Â±èÊåâÈíÆ */\n.fullscreen-btn {\n  min-width: 32px !important;\n  min-height: 32px !important;\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n}\n\n/* ÂèëÈÄÅÊåâÈíÆ‰øÆÂ§ç */\n.send-button {\n  min-width: 60px !important;\n  padding: 12px 24px !important;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n}\n\n/* Ë°åÂä®ÈÄâÊã©Âô®ÊåâÈíÆ‰øÆÂ§ç */\n.action-selector-btn {\n  min-width: 44px !important;\n  min-height: 44px !important;\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n}\n\n/* ÂìçÂ∫îÂºèË∞ÉÊï¥ */\n@media (max-width: 640px) {\n  .clear-button {\n    min-width: 100px !important;\n    padding: 0.3rem 0.8rem !important;\n  }\n  \n  .operation-btn {\n    min-width: 120px !important;\n    padding: 0.8rem 1rem !important;\n  }\n  \n  .quick-action-btn {\n    min-width: 70px !important;\n    min-height: 60px;\n    padding: 8px 6px !important;\n  }\n  \n  .cancel-btn,\n  .confirm-btn {\n    min-width: 70px !important;\n    padding: 6px 18px !important;\n  }\n  \n  .send-button {\n    min-width: 50px !important;\n    padding: 10px 20px !important;\n  }\n}\n\n@media (max-width: 480px) {\n  .clear-button {\n    min-width: 90px !important;\n    padding: 0.25rem 0.6rem !important;\n  }\n  \n  .operation-btn {\n    min-width: 100px !important;\n    padding: 0.6rem 0.8rem !important;\n  }\n  \n  .quick-action-btn {\n    min-width: 60px !important;\n    min-height: 50px;\n    padding: 6px 4px !important;\n  }\n  \n  .cancel-btn,\n  .confirm-btn {\n    min-width: 60px !important;\n    padding: 6px 15px !important;\n  }\n  \n  .send-button {\n    min-width: 45px !important;\n    padding: 8px 16px !important;\n  }\n}\n',""]);const s=i},6680:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6686:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o),s=n(4417),l=n.n(s),c=new URL(n(5224),n.b),d=i()(r()),u=l()(c);d.push([e.id,`\n/* ============ ÊïôÁ®ãÂºπÁ™óÊ†∑Âºè ============ */\n.help-overlay[data-v-43bbeb86] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  padding: 1rem;\n}\n.help-modal[data-v-43bbeb86] {\n  background: var(--color-surface);\n  border-radius: 12px;\n  max-width: 420px;\n  width: 100%;\n  max-height: 85vh;\n  overflow: hidden;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border);\n}\n.help-header[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n}\n.help-title[data-v-43bbeb86] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.help-close[data-v-43bbeb86] {\n  background: transparent;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.help-close[data-v-43bbeb86]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.help-body[data-v-43bbeb86] {\n  padding: 1.25rem;\n  overflow-y: auto;\n  max-height: calc(85vh - 60px);\n}\n.help-version[data-v-43bbeb86] {\n  display: inline-block;\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.1);\n  padding: 2px 8px;\n  border-radius: 4px;\n  margin-bottom: 0.5rem;\n}\n.help-desc[data-v-43bbeb86] {\n  margin: 0 0 1rem;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n.help-link-card[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 0.75rem 1rem;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text);\n  text-decoration: none;\n  margin-bottom: 1rem;\n  transition: background 0.2s;\n}\n.help-link-card[data-v-43bbeb86]:hover {\n  background: var(--color-surface-hover);\n}\n.help-link-card span[data-v-43bbeb86] {\n  flex: 1;\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n.help-warning[data-v-43bbeb86] {\n  padding: 0.75rem;\n  background: rgba(251, 191, 36, 0.1);\n  border: 1px solid rgba(251, 191, 36, 0.3);\n  border-radius: 8px;\n  font-size: 0.85rem;\n  color: var(--color-text);\n  margin-bottom: 1rem;\n}\n.help-warning strong[data-v-43bbeb86] {\n  color: #ef4444;\n}\n.help-section h3[data-v-43bbeb86] {\n  margin: 0 0 0.75rem;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.help-features[data-v-43bbeb86] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-bottom: 1rem;\n}\n.help-features span[data-v-43bbeb86] {\n  font-size: 0.8rem;\n  padding: 4px 10px;\n  background: var(--color-surface-light);\n  border-radius: 6px;\n  color: var(--color-text-secondary);\n}\n.help-footer[data-v-43bbeb86] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.help-author[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.help-author a[data-v-43bbeb86] {\n  color: var(--color-primary);\n  text-decoration: none;\n}\n.help-author a[data-v-43bbeb86]:hover {\n  text-decoration: underline;\n}\n.settings-modal-overlay[data-v-43bbeb86] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.55);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1500;\n  padding: 20px;\n}\n.game-info-header[data-v-43bbeb86]::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: url(${u});\n  opacity: 0.5;\n  animation: bgFloat-43bbeb86 25s ease-in-out infinite;\n}\n@keyframes bgFloat-43bbeb86 {\n0%, 100% {\n    transform: translate(0, 0);\n}\n50% {\n    transform: translate(10px, 10px);\n}\n}\n.game-info-header .header-bg[data-v-43bbeb86] {\n  position: absolute;\n  inset: 0;\n  background: radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),\n              radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.08) 0%, transparent 50%);\n}\n.game-info-header .header-content[data-v-43bbeb86] {\n  position: relative;\n  z-index: 1;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.75rem;\n}\n.game-info-header .game-title[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.75rem;\n}\n.game-info-header .title-icon[data-v-43bbeb86] {\n  font-size: 1.75rem;\n}\n.game-info-header .title-text[data-v-43bbeb86] {\n  font-size: 2rem;\n  font-weight: 900;\n  color: #fff;\n  letter-spacing: -0.02em;\n  text-shadow: 0 4px 16px rgba(0, 0, 0, 0.4),\n               0 2px 8px rgba(0, 0, 0, 0.3);\n}\n.version-subtitle-row[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.game-info-header .version-tag[data-v-43bbeb86] {\n  background: rgba(255, 255, 255, 0.25);\n  color: #fff;\n  padding: 0.25rem 0.625rem;\n  border-radius: 20px;\n  font-size: 0.7rem;\n  font-weight: 700;\n  backdrop-filter: blur(8px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n.game-info-header .game-subtitle[data-v-43bbeb86] {\n  color: rgba(255, 255, 255, 0.95);\n  font-size: 0.875rem;\n  margin: 0;\n  font-weight: 500;\n  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n}\n.game-info-header .close-btn[data-v-43bbeb86] {\n  position: absolute;\n  top: 1.25rem;\n  right: 1.25rem;\n  background: rgba(255, 255, 255, 0.2);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  color: #fff;\n  width: 36px;\n  height: 36px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  line-height: 1;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  backdrop-filter: blur(8px);\n}\n.game-info-header .close-btn[data-v-43bbeb86]:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: scale(1.08) rotate(90deg);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n}\n\n/* ÂÜÖÂÆπÂå∫Âüü */\n.game-info-body[data-v-43bbeb86] {\n  padding: 2rem;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  background: var(--color-surface);\n}\n\n/* ÂÆòÁΩë‰ªãÁªçÂç°Áâá */\n.official-intro-card[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  gap: 1.25rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.08) 0%, rgba(139, 92, 246, 0.05) 100%);\n  border: 2px solid rgba(99, 102, 241, 0.2);\n  border-radius: 20px;\n  text-decoration: none;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n}\n.official-intro-card[data-v-43bbeb86]::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, transparent 100%);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n.official-intro-card[data-v-43bbeb86]:hover::before {\n  opacity: 1;\n}\n.official-intro-card[data-v-43bbeb86]:hover {\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(139, 92, 246, 0.1) 100%);\n  border-color: rgba(99, 102, 241, 0.4);\n  transform: translateY(-4px);\n  box-shadow: 0 12px 32px rgba(99, 102, 241, 0.3),\n              0 4px 12px rgba(0, 0, 0, 0.15);\n}\n.intro-icon-wrapper[data-v-43bbeb86] {\n  width: 64px;\n  height: 64px;\n  border-radius: 16px;\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.2) 0%, rgba(139, 92, 246, 0.15) 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #6366f1;\n  flex-shrink: 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.2);\n}\n.official-intro-card:hover .intro-icon-wrapper[data-v-43bbeb86] {\n  transform: scale(1.15) rotate(-5deg);\n  box-shadow: 0 8px 20px rgba(99, 102, 241, 0.35),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3);\n}\n.intro-content[data-v-43bbeb86] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n}\n.intro-title[data-v-43bbeb86] {\n  font-size: 1.05rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.intro-desc[data-v-43bbeb86] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n.intro-arrow[data-v-43bbeb86] {\n  color: var(--color-text-secondary);\n  transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);\n}\n.official-intro-card:hover .intro-arrow[data-v-43bbeb86] {\n  transform: translateX(6px);\n  color: #667eea;\n}\n\n/* Ë≠¶ÂëäÊ®™ÂπÖ */\n.warning-banner[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  gap: 0.875rem;\n  padding: 1.25rem 1.5rem;\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.12) 0%, rgba(245, 158, 11, 0.08) 100%);\n  border: 2px solid rgba(251, 191, 36, 0.3);\n  border-left: 4px solid #f59e0b;\n  border-radius: 16px;\n  font-size: 0.9rem;\n  color: var(--color-text);\n  box-shadow: 0 2px 12px rgba(251, 191, 36, 0.15);\n  backdrop-filter: blur(8px);\n}\n.warning-banner .warning-icon[data-v-43bbeb86] {\n  font-size: 1.25rem;\n  flex-shrink: 0;\n}\n.warning-banner strong[data-v-43bbeb86] {\n  color: #dc2626;\n  font-weight: 800;\n}\n\n/* ‰ø°ÊÅØÂç°Áâá */\n.info-card[data-v-43bbeb86] {\n  background: var(--color-surface-light);\n  border: 2px solid var(--color-border);\n  border-radius: 18px;\n  padding: 1.5rem;\n  transition: all 0.3s ease;\n}\n.info-card[data-v-43bbeb86]:hover {\n  border-color: rgba(99, 102, 241, 0.35);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1),\n              0 0 0 1px rgba(99, 102, 241, 0.1);\n  transform: translateY(-2px);\n}\n.info-card .card-header[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  gap: 0.65rem;\n  margin-bottom: 1rem;\n}\n.info-card .card-icon[data-v-43bbeb86] {\n  font-size: 1.25rem;\n}\n.info-card .card-header h4[data-v-43bbeb86] {\n  margin: 0;\n  font-size: 1.05rem;\n  font-weight: 800;\n  color: var(--color-text);\n}\n.info-card .card-desc[data-v-43bbeb86] {\n  margin: 0;\n  font-size: 0.925rem;\n  line-height: 1.7;\n  color: var(--color-text-secondary);\n}\n\n/* ÂäüËÉΩÁΩëÊ†º */\n.feature-grid[data-v-43bbeb86] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n}\n.feature-item[data-v-43bbeb86] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.875rem;\n  padding: 1.125rem;\n  background: var(--color-surface);\n  border-radius: 14px;\n  border: 2px solid var(--color-border);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n}\n.feature-item[data-v-43bbeb86]::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, transparent 100%);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n.feature-item[data-v-43bbeb86]:hover::before {\n  opacity: 1;\n}\n.feature-item[data-v-43bbeb86]:hover {\n  border-color: rgba(99, 102, 241, 0.4);\n  background: var(--color-surface);\n  transform: translateY(-3px);\n  box-shadow: 0 6px 16px rgba(99, 102, 241, 0.15),\n              0 2px 8px rgba(0, 0, 0, 0.08);\n}\n.feature-item .feature-icon[data-v-43bbeb86] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n  filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.15));\n  transition: transform 0.3s ease;\n  position: relative;\n  z-index: 1;\n}\n.feature-item:hover .feature-icon[data-v-43bbeb86] {\n  transform: scale(1.1);\n}\n.feature-item .feature-text[data-v-43bbeb86] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  position: relative;\n  z-index: 1;\n}\n.feature-item .feature-text strong[data-v-43bbeb86] {\n  font-size: 0.95rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.feature-item .feature-text span[data-v-43bbeb86] {\n  font-size: 0.825rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n\n/* Á¥ßÂáëÂûãÂç°ÁâáÂ∏ÉÂ±Ä */\n.info-row[data-v-43bbeb86] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n.info-card.compact[data-v-43bbeb86] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n}\n.info-card.compact .card-header[data-v-43bbeb86] {\n  margin-bottom: 0.75rem;\n}\n.author-content[data-v-43bbeb86], .copyright-content[data-v-43bbeb86] {\n  font-size: 0.925rem;\n  color: var(--color-text-secondary);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.65rem;\n}\n.author-name[data-v-43bbeb86] {\n  font-weight: 700;\n  color: var(--color-text);\n}\n.github-link[data-v-43bbeb86] {\n  color: #6366f1;\n  text-decoration: none;\n  font-size: 0.875rem;\n  font-weight: 600;\n  transition: all 0.2s ease;\n}\n.github-link[data-v-43bbeb86]:hover {\n  color: #8b5cf6;\n  text-decoration: underline;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢òÈÄÇÈÖç */\n[data-theme='dark'] .game-info-header[data-v-43bbeb86] {\n  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 50%, #c026d3 100%);\n}\n[data-theme='dark'] .warning-banner[data-v-43bbeb86] {\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.15) 0%, rgba(245, 158, 11, 0.1) 100%);\n  border-color: rgba(251, 191, 36, 0.35);\n  border-left-color: #f59e0b;\n}\n[data-theme='dark'] .warning-banner strong[data-v-43bbeb86] {\n  color: #fca5a5;\n}\n[data-theme='dark'] .official-intro-card[data-v-43bbeb86] {\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.12) 0%, rgba(139, 92, 246, 0.08) 100%);\n  border-color: rgba(99, 102, 241, 0.25);\n}\n[data-theme='dark'] .official-intro-card[data-v-43bbeb86]:hover {\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.2) 0%, rgba(139, 92, 246, 0.15) 100%);\n  border-color: rgba(99, 102, 241, 0.45);\n}\n[data-theme='dark'] .intro-icon-wrapper[data-v-43bbeb86] {\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.25) 0%, rgba(139, 92, 246, 0.2) 100%);\n  color: #818cf8;\n}\n\n/* ÊªöÂä®Êù°ÁæéÂåñ */\n.game-info-body[data-v-43bbeb86]::-webkit-scrollbar {\n  width: 8px;\n}\n.game-info-body[data-v-43bbeb86]::-webkit-scrollbar-track {\n  background: transparent;\n  margin: 8px 0;\n}\n.game-info-body[data-v-43bbeb86]::-webkit-scrollbar-thumb {\n  background: var(--color-border);\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n.game-info-body[data-v-43bbeb86]::-webkit-scrollbar-thumb:hover {\n  background: var(--color-text-secondary);\n}\n.settings-modal-overlay[data-v-43bbeb86] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.55);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1500;\n  padding: 20px;\n}\n.settings-modal-content[data-v-43bbeb86] {\n  background: var(--color-surface, #ffffff);\n  border-radius: 14px;\n  width: min(760px, 100%);\n  max-height: 85vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.45);\n  border: 1px solid var(--color-border);\n  animation: modalIn 0.2s ease;\n}\n.settings-modal-header[data-v-43bbeb86] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n}\n.settings-modal-header h3[data-v-43bbeb86] {\n  margin: 0;\n  font-size: 1.15rem;\n  font-weight: 800;\n  color: var(--color-text);\n}\n.settings-modal-body[data-v-43bbeb86] {\n  flex: 1;\n  overflow: auto;\n}\n.close-btn[data-v-43bbeb86] {\n  background: transparent;\n  border: 1px solid var(--color-border);\n  color: var(--color-text);\n  font-size: 1.5rem;\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-btn[data-v-43bbeb86]:hover {\n  background: var(--color-surface-hover);\n}\n`,""]);const m=d},6716:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.raw-data-container[data-v-7961e58f] {\n  background-color: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  padding: 1rem;\n  max-height: 600px;\n  overflow-y: auto;\n  font-size: 0.8rem;\n}\n.raw-data-container pre[data-v-7961e58f] {\n  white-space: pre-wrap;\n  word-break: break-all;\n  margin: 0;\n}\n.spirit-stones-grid[data-v-7961e58f] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 0.75rem;\n}\n.spirit-stone-item[data-v-7961e58f] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem;\n  background: var(--color-surface);\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  font-size: 0.85rem;\n}\n.spirit-stone-item span[data-v-7961e58f]:first-child {\n  color: var(--color-text-secondary);\n}\n.spirit-stone-item span[data-v-7961e58f]:last-child {\n  font-weight: 600;\n  color: var(--color-primary);\n}\n.relationship-network-panel[data-v-7961e58f] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n}\n.panel-content[data-v-7961e58f] {\n  flex: 1;\n  overflow: hidden;\n}\n.relationships-container[data-v-7961e58f] {\n  height: 100%;\n  display: flex;\n  background: var(--color-surface);\n  overflow: hidden;\n}\n.relationship-list[data-v-7961e58f] {\n  width: 280px; /* Á™Ñ‰∏ÄÁÇπ */\n  border-right: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n}\n.list-header[data-v-7961e58f] {\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.panel-title[data-v-7961e58f] {\n  margin: 0 0 1rem 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-primary);\n  text-align: center;\n}\n.search-bar[data-v-7961e58f] {\n  position: relative;\n  display: flex;\n  align-items: center;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 0.5rem;\n}\n.search-bar svg[data-v-7961e58f] {\n  color: var(--color-text-secondary);\n  margin-right: 0.5rem;\n}\n.search-input[data-v-7961e58f] {\n  flex: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: var(--color-text);\n  font-size: 0.875rem;\n}\n.list-content[data-v-7961e58f] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.loading-state[data-v-7961e58f],\n.empty-state[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-icon[data-v-7961e58f] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.empty-text[data-v-7961e58f] {\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.empty-hint[data-v-7961e58f] {\n  font-size: 0.8rem;\n  opacity: 0.8;\n}\n.person-list[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.person-card[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem; /* Êõ¥Á¥ßÂáë */\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.person-card[data-v-7961e58f]:hover {\n  border-color: var(--color-primary);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);\n  transform: translateY(-1px);\n}\n.person-card.selected[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1));\n  border-color: var(--color-primary);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);\n}\n.person-avatar[data-v-7961e58f] {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: white;\n  margin-right: 0.75rem;\n  flex-shrink: 0;\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n.avatar-text[data-v-7961e58f] {\n  font-size: 1.2rem;\n}\n.person-info[data-v-7961e58f] {\n  flex: 1;\n  min-width: 0;\n}\n.person-name[data-v-7961e58f] {\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.5rem;\n  font-size: 1rem;\n}\n.person-meta[data-v-7961e58f] {\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n.relationship-type[data-v-7961e58f] {\n  background: rgba(59, 130, 246, 0.1);\n  color: var(--color-primary);\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.attention-toggle[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: rgba(156, 163, 175, 0.1);\n  border: 1px solid rgba(156, 163, 175, 0.2);\n  padding: 0;\n  outline: none;\n  position: relative;\n  z-index: 100;\n  pointer-events: auto;\n}\n.attention-toggle[data-v-7961e58f]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n  transform: scale(1.1);\n}\n.attention-icon[data-v-7961e58f] {\n  transition: all 0.2s ease;\n}\n.attention-icon.active[data-v-7961e58f] {\n  color: #22c55e;\n}\n.attention-icon.inactive[data-v-7961e58f] {\n  color: #9ca3af;\n}\n.attention-toggle:hover .attention-icon.inactive[data-v-7961e58f] {\n  color: #3b82f6;\n}\n.attention-toggle:hover .attention-icon.active[data-v-7961e58f] {\n  color: #16a34a;\n}\n.person-realm[data-v-7961e58f] {\n  margin-bottom: 0.5rem;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.person-realm .realm-label[data-v-7961e58f] {\n  margin-right: 0.25rem;\n}\n.person-realm .realm-value[data-v-7961e58f] {\n  color: var(--color-primary);\n  font-weight: 600;\n}\n.intimacy-info[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.intimacy-bar[data-v-7961e58f] {\n  flex: 1;\n  height: 4px;\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 2px;\n  overflow: hidden;\n}\n.intimacy-fill[data-v-7961e58f] {\n  height: 100%;\n  border-radius: 2px;\n  transition: width 0.3s ease;\n}\n.intimacy-high[data-v-7961e58f] {\n  background: linear-gradient(90deg, #22c55e, #16a34a);\n}\n.intimacy-good[data-v-7961e58f] {\n  background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n}\n.intimacy-medium[data-v-7961e58f] {\n  background: linear-gradient(90deg, #8b5cf6, #7c3aed);\n}\n.intimacy-low[data-v-7961e58f] {\n  background: linear-gradient(90deg, #f59e0b, #d97706);\n}\n.intimacy-neutral[data-v-7961e58f] {\n  background: linear-gradient(90deg, #6b7280, #4b5563);\n}\n.intimacy-dislike[data-v-7961e58f] {\n  background: linear-gradient(90deg, #f97316, #ea580c);\n}\n.intimacy-hostile[data-v-7961e58f] {\n  background: linear-gradient(90deg, #dc2626, #b91c1c);\n}\n.intimacy-enemy[data-v-7961e58f] {\n  background: linear-gradient(90deg, #ef4444, #dc2626);\n}\n.intimacy-value[data-v-7961e58f] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  min-width: 30px;\n  text-align: right;\n}\n.arrow-icon[data-v-7961e58f] {\n  color: var(--color-border-hover);\n  transition: transform 0.2s;\n}\n.person-card.selected .arrow-icon[data-v-7961e58f] {\n  transform: rotate(90deg);\n  color: var(--color-primary);\n}\n.relationship-detail[data-v-7961e58f] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-width: 0; /* ÂÖ≥ÈîÆ‰øÆÂ§çÔºöÂÖÅËÆ∏flexÈ°πÊî∂Áº©ÔºåÈò≤Ê≠¢ÂÜÖÂÆπÊ∫¢Âá∫ */\n  overflow: hidden; /* ÈöêËóèÊâÄÊúâÊ∫¢Âá∫ÔºåÊªöÂä®Áî±Â≠êÂÖÉÁ¥†Â§ÑÁêÜ */\n}\n.detail-header[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.detail-avatar[data-v-7961e58f] {\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: white;\n  font-size: 1.5rem;\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n  flex-shrink: 0;\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);\n}\n.detail-info[data-v-7961e58f] {\n  flex: 1;\n  min-width: 0; /* ÂÖÅËÆ∏flexÈ°πÊî∂Áº©ÔºåÈò≤Ê≠¢ÈïøÂêçÁß∞ÊíëÂºÄÂÆπÂô® */\n}\n.detail-name[data-v-7961e58f] {\n  margin: 0 0 0.5rem 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-text);\n  word-break: break-all; /* Âº∫Âà∂ÈïøÂêçÁß∞Êç¢Ë°å */\n}\n.detail-badges[data-v-7961e58f] {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.relationship-badge[data-v-7961e58f],\n.intimacy-badge[data-v-7961e58f],\n.race-badge[data-v-7961e58f],\n.faction-badge[data-v-7961e58f] {\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.relationship-badge[data-v-7961e58f] {\n  background: rgba(59, 130, 246, 0.1);\n  color: var(--color-primary);\n}\n.race-badge[data-v-7961e58f] {\n  background: rgba(34, 197, 94, 0.1);\n  color: #22c55e;\n  border: 1px solid rgba(34, 197, 94, 0.3);\n}\n.faction-badge[data-v-7961e58f] {\n  background: rgba(168, 85, 247, 0.1);\n  color: #a855f7;\n  border: 1px solid rgba(168, 85, 247, 0.3);\n}\n.detail-body[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  flex: 1; /* Âç†ÊçÆÂâ©‰ΩôÁ©∫Èó¥ */\n  min-height: 0; /* ÂÖÅËÆ∏Êî∂Áº© */\n  overflow-y: auto; /* ÂÜÖÂÆπÊ∫¢Âá∫Êó∂ÊªöÂä® */\n  padding: 1rem;\n}\n.tab-content[data-v-7961e58f] {\n  animation: fadeIn-7961e58f 0.3s ease;\n}\n@keyframes fadeIn-7961e58f {\nfrom {\n    opacity: 0;\n    transform: translateY(10px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.empty-state-small[data-v-7961e58f] {\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n.detail-section[data-v-7961e58f] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n}\n.section-title[data-v-7961e58f] {\n  margin: 0 0 1rem 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.info-grid[data-v-7961e58f] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 1rem;\n}\n.info-grid-2col[data-v-7961e58f] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n}\n.info-item[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.info-label[data-v-7961e58f] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-value[data-v-7961e58f] {\n  font-size: 0.875rem;\n  color: var(--color-text);\n  font-weight: 600;\n}\n.memory-list[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n.memory-header[data-v-7961e58f] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n}\n.summary-mode-hint[data-v-7961e58f] {\n  margin-top: 0.75rem;\n  padding: 0.5rem 0.75rem;\n  background: rgba(59, 130, 246, 0.08);\n  border-left: 3px solid #3b82f6;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n.summary-mode-hint strong[data-v-7961e58f] {\n  color: var(--color-primary);\n  font-weight: 600;\n}\n.memory-actions-header[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.memory-count[data-v-7961e58f] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  background: rgba(59, 130, 246, 0.1);\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-weight: 500;\n}\n.memory-controls-group[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.download-memory-btn[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n.download-memory-btn[data-v-7961e58f]:hover {\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n.summarize-controls[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.summarize-input[data-v-7961e58f] {\n  width: 60px;\n  padding: 0.375rem 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-background);\n  color: var(--color-text);\n  font-size: 0.75rem;\n  text-align: center;\n  transition: all 0.2s ease;\n}\n.summarize-input[data-v-7961e58f]:focus {\n  outline: none;\n  border-color: #8b5cf6;\n  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.1);\n}\n.summarize-btn[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #8b5cf6, #7c3aed);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n.summarize-btn[data-v-7961e58f]:hover:not(:disabled) {\n  background: linear-gradient(135deg, #7c3aed, #6d28d9);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);\n}\n.summarize-btn[data-v-7961e58f]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n.memory-summary-list[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-bottom: 1rem;\n}\n.memory-summary-item[data-v-7961e58f] {\n  display: flex;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(124, 58, 237, 0.05));\n  border-radius: 8px;\n  border-left: 3px solid #8b5cf6;\n}\n.summary-icon[data-v-7961e58f] {\n  font-size: 1.25rem;\n  flex-shrink: 0;\n}\n.summary-text[data-v-7961e58f] {\n  flex: 1;\n  font-size: 0.85rem;\n  line-height: 1.6;\n  color: var(--color-text);\n}\n.memory-pagination[data-v-7961e58f] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  padding-top: 0.75rem;\n  border-top: 1px solid var(--color-border);\n  margin-top: 1rem;\n}\n.pagination-btn[data-v-7961e58f] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 0.5rem 1rem;\n  color: var(--color-text);\n  cursor: pointer;\n  font-size: 0.8rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n.pagination-btn[data-v-7961e58f]:hover:not(:disabled) {\n  background: var(--color-surface);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.pagination-btn[data-v-7961e58f]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.pagination-controls[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n}\n.pagination-info[data-v-7961e58f] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  text-align: center;\n}\n.jump-to-page[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.page-input[data-v-7961e58f] {\n  width: 60px;\n  padding: 0.375rem 0.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-background);\n  color: var(--color-text);\n  font-size: 0.75rem;\n  text-align: center;\n  transition: all 0.2s ease;\n}\n.page-input[data-v-7961e58f]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n}\n.jump-btn[data-v-7961e58f] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n.jump-btn[data-v-7961e58f]:hover {\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n.memory-summary-section[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(124, 58, 237, 0.08));\n  border-left: 4px solid #8b5cf6;\n}\n.memory-item[data-v-7961e58f] {\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border-left: 3px solid var(--color-primary);\n  font-size: 0.85rem;\n  line-height: 1.4;\n  color: var(--color-text-secondary);\n}\n.memory-content[data-v-7961e58f] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.memory-time[data-v-7961e58f] {\n  font-size: 0.75rem;\n  color: var(--color-primary);\n  font-weight: 600;\n  opacity: 0.8;\n}\n.memory-event[data-v-7961e58f] {\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  line-height: 1.5;\n}\n.memory-actions[data-v-7961e58f] {\n  display: flex;\n  gap: 6px;\n}\n.memory-btn[data-v-7961e58f] {\n  padding: 4px 8px;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  background: var(--color-background);\n}\n.memory-btn.edit[data-v-7961e58f] {\n  color: #2563eb;\n  border-color: #bfdbfe;\n}\n.memory-btn.delete[data-v-7961e58f] {\n  color: #dc2626;\n  border-color: #fecaca;\n}\n\n/* ÁÆÄÂåñÔºöÂ§ñË≤åÊèèËø∞Ê†∑Âºè */\n.appearance-description[data-v-7961e58f] {\n  padding: 1rem;\n  background: rgba(147, 51, 234, 0.05);\n  border-radius: 8px;\n  border-left: 3px solid #9333ea;\n}\n.description-text[data-v-7961e58f] {\n  font-size: 0.875rem;\n  line-height: 1.6;\n  color: var(--color-text);\n  margin: 0;\n  font-style: italic;\n}\n.subsection-title[data-v-7961e58f] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.talents-grid[data-v-7961e58f] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.talent-tag[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.1));\n  color: #3b82f6;\n  padding: 0.25rem 0.5rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.attributes-grid[data-v-7961e58f] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));\n  gap: 0.75rem;\n}\n.attribute-item[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.5rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.attr-label[data-v-7961e58f] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 0.25rem;\n  font-weight: 500;\n}\n.attr-value[data-v-7961e58f] {\n  font-size: 1rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n\n/* NPCÁâ©ÂìÅÊ†∑Âºè */\n.npc-inventory[data-v-7961e58f] {\n  margin-top: 0.75rem;\n}\n.npc-items-grid[data-v-7961e58f] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 0.75rem;\n}\n.npc-item-card[data-v-7961e58f] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 0.75rem;\n  transition: all 0.2s ease;\n}\n.npc-item-card[data-v-7961e58f]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n.npc-item-card.quality-Âá°[data-v-7961e58f] {\n  border-left: 3px solid #6b7280;\n}\n.npc-item-card.quality-ÈªÑ[data-v-7961e58f] {\n  border-left: 3px solid #f59e0b;\n}\n.npc-item-card.quality-ÁéÑ[data-v-7961e58f] {\n  border-left: 3px solid #8b5cf6;\n}\n.npc-item-card.quality-Âú∞[data-v-7961e58f] {\n  border-left: 3px solid #06b6d4;\n}\n.npc-item-card.quality-Â§©[data-v-7961e58f] {\n  border-left: 3px solid #ec4899;\n}\n.npc-item-card.quality-‰ªô[data-v-7961e58f] {\n  border-left: 3px solid #f59e0b;\n  box-shadow: 0 0 10px rgba(245, 158, 11, 0.3);\n}\n.npc-item-card.quality-Á•û[data-v-7961e58f] {\n  border-left: 3px solid #9333ea;\n  box-shadow: 0 0 15px rgba(147, 51, 234, 0.4);\n}\n.item-header[data-v-7961e58f] {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n}\n.item-name[data-v-7961e58f] {\n  font-weight: 600;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.item-type[data-v-7961e58f] {\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  padding: 0.125rem 0.375rem;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: 500;\n}\n.item-quality[data-v-7961e58f] {\n  margin-bottom: 0.5rem;\n}\n.quality-text[data-v-7961e58f] {\n  font-size: 0.75rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.item-quantity[data-v-7961e58f] {\n  text-align: right;\n  margin-bottom: 0.5rem;\n  font-size: 0.8rem;\n  /* ‰ΩøÁî®‰∏ªÈ¢ò‰∏ªËâ≤ÔºåÂ¢ûÂº∫‰∏éÂç°ÁâáËÉåÊôØÁöÑÂØπÊØîÂ∫¶ */\n  color: var(--color-primary);\n  font-weight: 700;\n}\n.item-description[data-v-7961e58f] {\n  margin-bottom: 0.75rem;\n}\n.item-description p[data-v-7961e58f] {\n  margin: 0;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  line-height: 1.4;\n}\n.item-actions[data-v-7961e58f] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.trade-btn[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #059669, #047857);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.trade-btn[data-v-7961e58f]:hover {\n  background: linear-gradient(135deg, #047857, #065f46);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(5, 150, 105, 0.3);\n}\n.trade-btn[data-v-7961e58f]:active {\n  transform: translateY(0);\n}\n.request-btn[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.request-btn[data-v-7961e58f]:hover {\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n.request-btn[data-v-7961e58f]:active {\n  transform: translateY(0);\n}\n.steal-btn[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: linear-gradient(135deg, #dc2626, #b91c1c);\n  color: white;\n  border: none;\n  padding: 0.375rem 0.75rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.steal-btn[data-v-7961e58f]:hover {\n  background: linear-gradient(135deg, #b91c1c, #991b1b);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);\n}\n.steal-btn[data-v-7961e58f]:active {\n  transform: translateY(0);\n}\n.empty-inventory[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.empty-inventory .empty-icon[data-v-7961e58f] {\n  margin-bottom: 0.75rem;\n  opacity: 0.5;\n}\n.no-selection[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.placeholder-icon[data-v-7961e58f] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.placeholder-text[data-v-7961e58f] {\n  font-size: 1rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n.placeholder-hint[data-v-7961e58f] {\n  font-size: 0.85rem;\n  opacity: 0.8;\n}\n.animate-spin[data-v-7961e58f] {\n  animation: spin-7961e58f 1s linear infinite;\n}\n@keyframes spin-7961e58f {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* === NSFW ÁßÅÂØÜ‰ø°ÊÅØÊ†∑Âºè === */\n.nsfw-section[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(236, 72, 153, 0.05), rgba(219, 39, 119, 0.05));\n  border: 2px solid rgba(236, 72, 153, 0.3);\n}\n.nsfw-subsection[data-v-7961e58f] {\n  margin-bottom: 1rem;\n}\n.nsfw-subsection[data-v-7961e58f]:last-child {\n  margin-bottom: 0;\n}\n.development-bars[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.dev-bar-item[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.dev-bar-header[data-v-7961e58f] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.8rem;\n}\n.dev-label[data-v-7961e58f] {\n  color: var(--color-text);\n  font-weight: 500;\n}\n.dev-value[data-v-7961e58f] {\n  color: #ec4899;\n  font-weight: 700;\n  font-size: 0.75rem;\n}\n.dev-bar-track[data-v-7961e58f] {\n  height: 8px;\n  background: rgba(236, 72, 153, 0.1);\n  border-radius: 4px;\n  overflow: hidden;\n}\n.dev-bar-fill[data-v-7961e58f] {\n  height: 100%;\n  background: linear-gradient(90deg, #ec4899, #db2777);\n  border-radius: 4px;\n  transition: width 0.3s ease;\n}\n.status-badge[data-v-7961e58f] {\n  display: inline-block;\n  padding: 0.25rem 0.5rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n.status-Ê≠£Â∏∏[data-v-7961e58f] {\n  background: rgba(107, 114, 128, 0.2);\n  color: #6b7280;\n}\n.status-ÂæÆÊπø[data-v-7961e58f] {\n  background: rgba(59, 130, 246, 0.2);\n  color: #3b82f6;\n}\n.status-ÂèëÊÉÖ[data-v-7961e58f] {\n  background: rgba(236, 72, 153, 0.2);\n  color: #ec4899;\n}\n.status-È´òÊΩÆ[data-v-7961e58f] {\n  background: rgba(220, 38, 38, 0.2);\n  color: #dc2626;\n}\n.status-Ë¥§ËÄÖÊó∂Èó¥[data-v-7961e58f] {\n  background: rgba(139, 92, 246, 0.2);\n  color: #8b5cf6;\n}\n.fetish-tag[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(236, 72, 153, 0.15), rgba(219, 39, 119, 0.15));\n  color: #ec4899;\n  padding: 0.25rem 0.5rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(236, 72, 153, 0.3);\n}\n.partner-tag[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(236, 72, 153, 0.12), rgba(219, 39, 119, 0.12));\n  color: #db2777;\n  padding: 0.3rem 0.6rem;\n  border-radius: 6px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  border: 1px solid rgba(236, 72, 153, 0.25);\n}\n.partner-list[data-v-7961e58f] {\n  margin-top: 0.75rem;\n}\n.toggle-more-btn[data-v-7961e58f] {\n  margin-top: 0.75rem;\n  background: rgba(236, 72, 153, 0.08);\n  border: 1px solid rgba(236, 72, 153, 0.25);\n  color: #db2777;\n  padding: 0.35rem 0.6rem;\n  border-radius: 6px;\n  font-size: 0.8rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.toggle-more-btn[data-v-7961e58f]:hover {\n  background: rgba(236, 72, 153, 0.12);\n  border-color: rgba(236, 72, 153, 0.35);\n}\n.pregnancy-info[data-v-7961e58f] {\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.pregnancy-active[data-v-7961e58f] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n}\n.pregnancy-icon[data-v-7961e58f] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n}\n.pregnancy-details[data-v-7961e58f] {\n  flex: 1;\n  font-size: 0.85rem;\n  color: var(--color-text);\n  line-height: 1.6;\n}\n.pregnancy-inactive[data-v-7961e58f] {\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n}\n.first-time-info[data-v-7961e58f] {\n  padding: 0.75rem;\n  background: rgba(236, 72, 153, 0.05);\n  border-radius: 6px;\n  border-left: 3px solid #ec4899;\n  font-size: 0.85rem;\n  color: var(--color-text);\n}\n\n/* ÂÆûÊó∂Áä∂ÊÄÅÈ´ò‰∫ÆÂå∫ÂüüÔºàÈÄöÁî®Ôºâ*/\n.highlight-section[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(147, 51, 234, 0.05));\n  border-radius: 8px;\n  padding: 1rem;\n  border: 1px solid rgba(59, 130, 246, 0.15);\n}\n.realtime-status[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.status-item[data-v-7961e58f] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.status-icon[data-v-7961e58f] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n  line-height: 1;\n}\n.status-content[data-v-7961e58f] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.status-label[data-v-7961e58f] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.status-text[data-v-7961e58f] {\n  font-size: 0.85rem;\n  color: var(--color-text);\n  line-height: 1.5;\n  font-style: italic;\n}\n.desire-fill[data-v-7961e58f] {\n  background: linear-gradient(90deg, #f59e0b, #dc2626);\n}\n.mini-label[data-v-7961e58f] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n\n/* ÊÄßÁªèÈ™åÁªüËÆ° */\n.experience-grid[data-v-7961e58f] {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.75rem;\n  margin-bottom: 0.75rem;\n}\n.exp-item[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.exp-icon[data-v-7961e58f] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n}\n.exp-content[data-v-7961e58f] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.exp-label[data-v-7961e58f] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.exp-value[data-v-7961e58f] {\n  font-size: 0.95rem;\n  color: #ec4899;\n  font-weight: 700;\n}\n.last-time-info[data-v-7961e58f] {\n  padding: 0.5rem 0.75rem;\n  background: rgba(236, 72, 153, 0.05);\n  border-radius: 4px;\n  font-size: 0.8rem;\n  text-align: center;\n}\n.last-time-label[data-v-7961e58f] {\n  color: var(--color-text-secondary);\n  margin-right: 0.5rem;\n}\n.last-time-value[data-v-7961e58f] {\n  color: var(--color-text);\n  font-weight: 600;\n}\n\n/* Ë∫´‰ΩìÈÉ®‰ΩçÂàóË°® */\n.body-parts-list[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.body-part-item[data-v-7961e58f] {\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n}\n.part-header[data-v-7961e58f] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n.part-name[data-v-7961e58f] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.part-mark[data-v-7961e58f] {\n  font-size: 0.7rem;\n  padding: 0.125rem 0.375rem;\n  background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(219, 39, 119, 0.2));\n  color: #ec4899;\n  border-radius: 4px;\n  font-weight: 500;\n}\n.part-description[data-v-7961e58f] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem;\n  background: rgba(236, 72, 153, 0.05);\n  border-radius: 4px;\n  line-height: 1.4;\n}\n.part-stats[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.part-stat[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.stat-label[data-v-7961e58f] {\n  font-size: 0.7rem;\n  color: var(--color-text-secondary);\n  min-width: 50px;\n}\n.stat-bar-mini[data-v-7961e58f] {\n  flex: 1;\n  height: 6px;\n  background: rgba(236, 72, 153, 0.1);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.stat-bar-fill[data-v-7961e58f] {\n  height: 100%;\n  border-radius: 3px;\n  transition: width 0.3s ease;\n}\n.stat-bar-fill.sensitivity[data-v-7961e58f] {\n  background: linear-gradient(90deg, #f59e0b, #ec4899);\n}\n.stat-bar-fill.development[data-v-7961e58f] {\n  background: linear-gradient(90deg, #8b5cf6, #ec4899);\n}\n.stat-value[data-v-7961e58f] {\n  font-size: 0.7rem;\n  color: #ec4899;\n  font-weight: 700;\n  min-width: 35px;\n  text-align: right;\n}\n\n/* ‰ΩìÊ∂≤Áä∂ÊÄÅ */\n.fluid-status[data-v-7961e58f] {\n  padding: 0.75rem;\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(236, 72, 153, 0.08));\n  border-radius: 6px;\n  border-left: 3px solid #3b82f6;\n  font-size: 0.85rem;\n  color: var(--color-text);\n  font-style: italic;\n}\n\n/* ÁâπÊÆä‰ΩìË¥®Ê†áÁ≠æ */\n.special-trait-tag[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(236, 72, 153, 0.15));\n  color: #a855f7;\n  padding: 0.25rem 0.5rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid rgba(168, 85, 247, 0.3);\n}\n\n/* ========== ‰∫∫Ê†ºÂ∫ïÁ∫øÊ†∑Âºè ========== */\n.personality-section[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.08), rgba(249, 115, 22, 0.08));\n  border-left: 4px solid #ef4444;\n}\n.personality-bottomlines[data-v-7961e58f] {\n  margin-bottom: 0.75rem;\n}\n.bottomline-tags[data-v-7961e58f] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n.bottomline-tag[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(249, 115, 22, 0.15));\n  color: #ef4444;\n  padding: 0.4rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.85rem;\n  font-weight: 600;\n  border: 1.5px solid rgba(239, 68, 68, 0.4);\n  display: inline-flex;\n  align-items: center;\n  box-shadow: 0 2px 4px rgba(239, 68, 68, 0.1);\n  transition: all 0.2s ease;\n}\n.bottomline-tag[data-v-7961e58f]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(239, 68, 68, 0.2);\n  border-color: rgba(239, 68, 68, 0.6);\n}\n.bottomline-empty[data-v-7961e58f] {\n  color: var(--text-secondary);\n  font-style: italic;\n  font-size: 0.875rem;\n  padding: 0.5rem 0;\n}\n.bottomline-warning[data-v-7961e58f] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  background: rgba(239, 68, 68, 0.1);\n  padding: 0.75rem;\n  border-radius: 8px;\n  border: 1px solid rgba(239, 68, 68, 0.3);\n}\n.warning-icon[data-v-7961e58f] {\n  font-size: 1.1rem;\n  color: #f59e0b;\n  flex-shrink: 0;\n  animation: pulse-7961e58f 2s infinite;\n}\n@keyframes pulse-7961e58f {\n0%,\n  100% {\n    opacity: 1;\n    transform: scale(1);\n}\n50% {\n    opacity: 0.6;\n    transform: scale(1.1);\n}\n}\n.warning-text[data-v-7961e58f] {\n  color: #dc2626;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  font-weight: 500;\n}\n\n/* ========== TabÂØºËà™Ê†∑Âºè ========== */\n.detail-tabs[data-v-7961e58f] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0 0 1rem 0;\n  border-bottom: 2px solid var(--color-border);\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n}\n.tab-btn[data-v-7961e58f] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px 8px 0 0;\n  padding: 0.5rem 1rem;\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  position: relative;\n  outline: none;\n}\n.tab-btn[data-v-7961e58f]:hover {\n  background: var(--color-surface);\n  border-color: var(--color-primary);\n  color: var(--color-text);\n  transform: translateY(-2px);\n}\n.tab-btn.active[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1));\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);\n}\n.tab-btn.active[data-v-7961e58f]::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: var(--color-primary);\n}\n.tab-panel[data-v-7961e58f] {\n  animation: fadeIn-7961e58f 0.3s ease;\n}\n\n/* ========== ÂìçÂ∫îÂºè2ÂàóÂ∏ÉÂ±ÄÊ†∑Âºè ========== */\n.info-grid-responsive[data-v-7961e58f] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n}\n\n/* Â∞èÂ±èÂπïÊó∂ÂàáÊç¢‰∏∫ÂçïÂàó */\n@media (max-width: 500px) {\n.info-grid-responsive[data-v-7961e58f] {\n    grid-template-columns: 1fr;\n}\n}\n.info-item-row[data-v-7961e58f] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 10px;\n  background: transparent;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  transition: background 0.2s ease;\n}\n.info-item-row[data-v-7961e58f]:hover {\n  background: rgba(59, 130, 246, 0.03);\n}\n.info-item-row .info-label[data-v-7961e58f] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n  min-width: 50px;\n}\n.info-item-row .info-value[data-v-7961e58f] {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text);\n  text-align: right;\n  flex: 1;\n  word-break: break-word;\n}\n\n/* ========== NPCËÆ∞ÂøÜÂàóË°®Ê†∑Âºè ========== */\n.npc-memories-list[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.npc-memory-item[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(234, 179, 8, 0.05), rgba(249, 115, 22, 0.05));\n  border-left: 3px solid #eab308;\n  border-radius: 4px;\n  padding: 10px 12px;\n  transition: all 0.2s ease;\n}\n.npc-memory-item[data-v-7961e58f]:hover {\n  background: linear-gradient(135deg, rgba(234, 179, 8, 0.1), rgba(249, 115, 22, 0.1));\n  transform: translateX(4px);\n  box-shadow: 0 2px 6px rgba(234, 179, 8, 0.15);\n}\n.npc-memory-content[data-v-7961e58f] {\n  font-size: 0.85rem;\n  color: var(--color-text);\n  line-height: 1.5;\n}\n\n/* ========== NPCÂÖ≠Áª¥Â±ûÊÄßÊ†∑Âºè ========== */\n.npc-attributes-container[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.npc-attr-group[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(147, 51, 234, 0.05));\n  border: 1px solid rgba(59, 130, 246, 0.15);\n  border-radius: 8px;\n  padding: 10px;\n}\n.npc-attr-group-title[data-v-7961e58f] {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: var(--color-primary);\n  margin-bottom: 8px;\n  padding-left: 4px;\n}\n.npc-attr-grid[data-v-7961e58f] {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 6px;\n}\n.npc-attr-item[data-v-7961e58f] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 6px 4px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 6px;\n  border: 1px solid transparent;\n  transition: all 0.2s ease;\n}\n.npc-attr-item[data-v-7961e58f]:hover {\n  background: rgba(255, 255, 255, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n  transform: translateY(-2px);\n}\n.npc-attr-item.final[data-v-7961e58f] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.12), rgba(147, 51, 234, 0.12));\n}\n.npc-attr-item.final[data-v-7961e58f]:hover {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 51, 234, 0.2));\n}\n.npc-attr-label[data-v-7961e58f] {\n  font-size: 0.7rem;\n  color: var(--text-secondary);\n  margin-bottom: 2px;\n  font-weight: 500;\n}\n.npc-attr-value[data-v-7961e58f] {\n  font-size: 0.95rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n.name-and-actions[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n.delete-npc-btn[data-v-7961e58f] {\n  background: transparent;\n  border: 1px solid var(--color-border);\n  color: var(--color-text-secondary);\n  border-radius: 50%;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n.delete-npc-btn[data-v-7961e58f]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: #ef4444;\n  color: #ef4444;\n  transform: scale(1.1);\n}\n.action-buttons[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.action-btn[data-v-7961e58f] {\n  background: transparent;\n  border: 1px solid var(--color-border);\n  color: var(--color-text-secondary);\n  border-radius: 50%;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n.action-btn.download-btn[data-v-7961e58f]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n  color: #3b82f6;\n  transform: scale(1.1);\n}\n.action-btn.export-btn[data-v-7961e58f]:hover {\n  background: rgba(16, 185, 129, 0.1);\n  border-color: #10b981;\n  color: #10b981;\n  transform: scale(1.1);\n}\n.card-actions[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  position: relative;\n  z-index: 10;\n  pointer-events: auto;\n}\n.delete-btn-card[data-v-7961e58f] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: rgba(156, 163, 175, 0.1);\n  border: 1px solid rgba(156, 163, 175, 0.2);\n  color: #9ca3af;\n  padding: 0;\n  outline: none;\n  position: relative;\n  z-index: 100;\n  pointer-events: auto;\n}\n.delete-btn-card[data-v-7961e58f]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: #ef4444;\n  color: #ef4444;\n  transform: scale(1.1);\n}\n.back-to-list-btn[data-v-7961e58f] {\n  display: none; /* ÈªòËÆ§ÈöêËóè */\n  background: transparent;\n  border: 1px solid var(--color-border);\n  color: var(--color-text-secondary);\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n  margin-right: 0.5rem;\n}\n.back-to-list-btn[data-v-7961e58f]:hover {\n  background: var(--color-surface);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n@media (max-width: 768px) {\n.relationships-container[data-v-7961e58f] {\n    position: relative;\n    overflow: hidden;\n}\n.relationship-list[data-v-7961e58f],\n  .relationship-detail[data-v-7961e58f] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transition: transform 0.3s ease-in-out;\n    backface-visibility: hidden;\n}\n.relationship-list[data-v-7961e58f] {\n    transform: translateX(0);\n    z-index: 10;\n}\n.relationship-detail[data-v-7961e58f] {\n    transform: translateX(100%);\n    z-index: 20;\n    border-left: none; /* ÁßªÈô§Â∑¶ËæπÊ°Ü */\n}\n.relationships-container.details-active .relationship-list[data-v-7961e58f] {\n    transform: translateX(-100%);\n}\n.relationships-container.details-active .relationship-detail[data-v-7961e58f] {\n    transform: translateX(0);\n}\n.back-to-list-btn[data-v-7961e58f] {\n    display: flex; /* Âú®ÁßªÂä®Á´ØÊòæÁ§∫ */\n}\n.detail-header[data-v-7961e58f] {\n    padding: 0.75rem 1rem;\n}\n}\n",""]);const s=i},6743:(e,t,n)=>{"use strict";var a=n(9353);e.exports=Function.prototype.bind||a},6840:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},6896:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.variable-section[data-v-510a4b50] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-510a4b50] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-510a4b50] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.add-btn[data-v-510a4b50] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.5rem 1rem;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n.add-btn[data-v-510a4b50]:hover {\n  background: var(--color-primary-hover);\n}\n.add-btn[data-v-510a4b50]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: var(--color-border);\n}\n.variable-content[data-v-510a4b50] {\n  flex: 1;\n  overflow: hidden;\n}\n.variable-list[data-v-510a4b50] {\n  height: 100%;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.variable-item[data-v-510a4b50] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 1rem;\n}\n.variable-header[data-v-510a4b50] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  gap: 0.5rem;\n}\n.variable-key[data-v-510a4b50] {\n  font-weight: 600;\n  color: var(--color-primary);\n  flex: 1;\n  word-break: break-word;\n}\n.variable-type[data-v-510a4b50] {\n  font-size: 0.75rem;\n  padding: 0.125rem 0.5rem;\n  background: var(--color-accent-light);\n  color: var(--color-accent);\n  border-radius: 4px;\n  flex-shrink: 0;\n}\n.variable-actions[data-v-510a4b50] {\n  display: flex;\n  gap: 0.25rem;\n  flex-shrink: 0;\n}\n.action-btn[data-v-510a4b50] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: var(--color-text-secondary);\n  background: var(--color-surface);\n}\n.action-btn[data-v-510a4b50]:hover {\n  background: var(--color-hover);\n  color: var(--color-text);\n}\n.action-btn[data-v-510a4b50]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  border-color: var(--color-border);\n}\n.action-btn.edit[data-v-510a4b50]:disabled:hover,\n.action-btn.copy[data-v-510a4b50]:disabled:hover,\n.action-btn.delete[data-v-510a4b50]:disabled:hover {\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  border-color: var(--color-border);\n}\n.action-btn.edit[data-v-510a4b50]:hover {\n  background: var(--color-info);\n  color: white;\n  border-color: var(--color-info);\n}\n.action-btn.copy[data-v-510a4b50]:hover {\n  background: var(--color-success);\n  color: white;\n  border-color: var(--color-success);\n}\n.action-btn.delete[data-v-510a4b50]:hover {\n  background: var(--color-danger);\n  color: white;\n  border-color: var(--color-danger);\n}\n.variable-value[data-v-510a4b50] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  word-break: break-word;\n}\n.code-pre[data-v-510a4b50] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  max-height: 200px;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.empty-state[data-v-510a4b50] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 1rem;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n.debug-info[data-v-510a4b50] {\n  margin-top: 1rem;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.debug-info summary[data-v-510a4b50] {\n  cursor: pointer;\n  color: var(--color-primary);\n}\n.debug-content[data-v-510a4b50] {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: var(--color-surface);\n  border-radius: 4px;\n  text-align: left;\n}\n.debug-actions[data-v-510a4b50] {\n  margin-top: 0.5rem;\n}\n.debug-btn[data-v-510a4b50] {\n  padding: 0.25rem 0.5rem;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.75rem;\n}\n\n/* ÊâãÊú∫Á´ØÈÄÇÈÖç */\n@media (max-width: 640px) {\n.variable-section[data-v-510a4b50] {\n    padding: 0.75rem;\n}\n.section-header[data-v-510a4b50] {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 0.5rem;\n    margin-bottom: 0.75rem;\n}\n.section-title[data-v-510a4b50] {\n    font-size: 1rem;\n    text-align: center;\n}\n.add-btn[data-v-510a4b50] {\n    align-self: center;\n    padding: 0.4rem 0.8rem;\n    font-size: 0.8rem;\n}\n.variable-item[data-v-510a4b50] {\n    padding: 0.75rem;\n}\n.variable-header[data-v-510a4b50] {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 0.5rem;\n}\n.variable-key[data-v-510a4b50] {\n    font-size: 0.9rem;\n}\n.variable-actions[data-v-510a4b50] {\n    justify-content: center;\n    gap: 0.5rem;\n}\n.action-btn[data-v-510a4b50] {\n    width: 32px;\n    height: 32px;\n}\n.code-pre[data-v-510a4b50] {\n    font-size: 0.75rem;\n    padding: 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.variable-section[data-v-510a4b50] {\n    padding: 0.5rem;\n}\n.section-title[data-v-510a4b50] {\n    font-size: 0.9rem;\n}\n.add-btn[data-v-510a4b50] {\n    padding: 0.35rem 0.7rem;\n    font-size: 0.75rem;\n}\n.variable-item[data-v-510a4b50] {\n    padding: 0.5rem;\n}\n.variable-key[data-v-510a4b50] {\n    font-size: 0.85rem;\n}\n.variable-type[data-v-510a4b50] {\n    font-size: 0.7rem;\n}\n.action-btn[data-v-510a4b50] {\n    width: 28px;\n    height: 28px;\n}\n.code-pre[data-v-510a4b50] {\n    font-size: 0.7rem;\n    padding: 0.4rem;\n}\n.empty-state[data-v-510a4b50] {\n    padding: 2rem 0.5rem;\n}\n}\n",""]);const s=i},6939:(e,t,n)=>{"use strict";function a(e,t){let n=t.Âπ¥-e.Âπ¥;return(t.Êúà<e.Êúà||t.Êúà===e.Êúà&&t.Êó•<e.Êó•)&&n--,Math.max(0,n)}function r(e,t){return{Âπ¥:t.Âπ¥-e,Êúà:t.Êúà,Êó•:t.Êó•,Â∞èÊó∂:0,ÂàÜÈíü:0}}function o(e){const t=e?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥??{Âπ¥:1,Êúà:1,Êó•:1,Â∞èÊó∂:8,ÂàÜÈíü:0},n=e?.ËßíËâ≤?.Ë∫´‰ªΩ??null;if(!n||"object"!=typeof n)return 0;if(!n.Âá∫ÁîüÊó•Êúü){const e=18;return n.Âá∫ÁîüÊó•Êúü=r(e,t),e}return a(n.Âá∫ÁîüÊó•Êúü,t)}function i(e,t){const n=t||{Âπ¥:1,Êúà:1,Êó•:1,Â∞èÊó∂:8,ÂàÜÈíü:0},o=e;if(!o.Âá∫ÁîüÊó•Êúü){const e=o.Âπ¥ÈæÑ||18,t=r(e,n);return o.Âá∫ÁîüÊó•Êúü=t,e}const i=a(o.Âá∫ÁîüÊó•Êúü,n);return void 0!==o.Âπ¥ÈæÑ&&(o.Âπ¥ÈæÑ=i),i}n.d(t,{DT:()=>o,R5:()=>a,UY:()=>i})},6988:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});const a=e=>!!e&&"object"==typeof e&&!Array.isArray(e),r=e=>"number"==typeof e&&Number.isFinite(e),o=e=>{const t=[];if(!a(e))return["ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥ ÂøÖÈ°ªÊòØÂØπË±°"];const n=[["Âπ¥",0,999999],["Êúà",1,12],["Êó•",1,31],["Â∞èÊó∂",0,23],["ÂàÜÈíü",0,59]];for(const[a,o,i]of n){const n=e[a];r(n)?(n<o||n>i)&&t.push(`ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥.${String(a)} Ë∂ÖÂá∫ËåÉÂõ¥Ôºà${o}-${i}Ôºâ`):t.push(`ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥.${String(a)} ÂøÖÈ°ªÊòØÊï∞Â≠ó`)}return t},i=e=>{if(!e||"object"!=typeof e)return!1;const t=e;return a(t.ÂÖÉÊï∞ÊçÆ)&&a(t.ËßíËâ≤)&&a(t.Á§æ‰∫§)&&a(t.‰∏ñÁïå)&&a(t.Á≥ªÁªü)};function s(e){const t=[],n=[];if(!i(e))return{isValid:!1,errors:["‰∏çÊòØ V3 Â≠òÊ°£ÁªìÊûÑÔºàÁº∫Â∞ë ÂÖÉÊï∞ÊçÆ/ËßíËâ≤/Á§æ‰∫§/‰∏ñÁïå/Á≥ªÁªüÔºâ"],warnings:[]};const s=e,l=s.ÂÖÉÊï∞ÊçÆ?.ÁâàÊú¨Âè∑;3!==l&&t.push("ÂÖÉÊï∞ÊçÆ.ÁâàÊú¨Âè∑ ÂøÖÈ°ª‰∏∫ 3"),"string"==typeof s.ÂÖÉÊï∞ÊçÆ?.Â≠òÊ°£ID&&s.ÂÖÉÊï∞ÊçÆ.Â≠òÊ°£ID.trim()||t.push("ÂÖÉÊï∞ÊçÆ.Â≠òÊ°£ID ÂøÖÂ°´"),"string"==typeof s.ÂÖÉÊï∞ÊçÆ?.Â≠òÊ°£Âêç&&s.ÂÖÉÊï∞ÊçÆ.Â≠òÊ°£Âêç.trim()||t.push("ÂÖÉÊï∞ÊçÆ.Â≠òÊ°£Âêç ÂøÖÂ°´"),"string"!=typeof s.ÂÖÉÊï∞ÊçÆ?.ÂàõÂª∫Êó∂Èó¥&&t.push("ÂÖÉÊï∞ÊçÆ.ÂàõÂª∫Êó∂Èó¥ ÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤(ISO8601)"),"string"!=typeof s.ÂÖÉÊï∞ÊçÆ?.Êõ¥Êñ∞Êó∂Èó¥&&t.push("ÂÖÉÊï∞ÊçÆ.Êõ¥Êñ∞Êó∂Èó¥ ÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤(ISO8601)"),r(s.ÂÖÉÊï∞ÊçÆ?.Ê∏∏ÊàèÊó∂ÈïøÁßí)||t.push("ÂÖÉÊï∞ÊçÆ.Ê∏∏ÊàèÊó∂ÈïøÁßí ÂøÖÈ°ªÊòØÊï∞Â≠ó"),t.push(...o(s.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥)),a(s.ËßíËâ≤?.Ë∫´‰ªΩ)||t.push("ËßíËâ≤.Ë∫´‰ªΩ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°"),a(s.ËßíËâ≤?.Â±ûÊÄß)||t.push("ËßíËâ≤.Â±ûÊÄß ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°"),a(s.ËßíËâ≤?.‰ΩçÁΩÆ)||t.push("ËßíËâ≤.‰ΩçÁΩÆ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°"),Array.isArray(s.ËßíËâ≤?.ÊïàÊûú)||t.push("ËßíËâ≤.ÊïàÊûú ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÊï∞ÁªÑ"),a(s.ËßíËâ≤?.ËÉåÂåÖ)||t.push("ËßíËâ≤.ËÉåÂåÖ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°"),a(s.ËßíËâ≤?.Ë£ÖÂ§á)||t.push("ËßíËâ≤.Ë£ÖÂ§á ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°");const c=s.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ;a(c)||t.push("ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°");const d=s.ËßíËâ≤?.Ë£ÖÂ§á;if(a(d)&&a(c))for(let e=1;e<=6;e++){const a=`Ë£ÖÂ§á${e}`,r=d[a];null!=r&&("string"==typeof r?r in c||n.push(`ËßíËâ≤.Ë£ÖÂ§á.${a} ÂºïÁî®‰∫Ü‰∏çÂ≠òÂú®ÁöÑÁâ©ÂìÅIDÔºö${r}`):t.push(`ËßíËâ≤.Ë£ÖÂ§á.${a} ÂøÖÈ°ªÊòØ string|null`))}a(s.Á§æ‰∫§?.ÂÖ≥Á≥ª)||t.push("Á§æ‰∫§.ÂÖ≥Á≥ª ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°"),a(s.Á§æ‰∫§?.‰∫ã‰ª∂)||t.push("Á§æ‰∫§.‰∫ã‰ª∂ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°"),a(s.Á§æ‰∫§?.ËÆ∞ÂøÜ)||t.push("Á§æ‰∫§.ËÆ∞ÂøÜ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°"),a(s.‰∏ñÁïå?.‰ø°ÊÅØ)||t.push("‰∏ñÁïå.‰ø°ÊÅØ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°"),a(s.Á≥ªÁªü?.ËÅîÊú∫)||t.push("Á≥ªÁªü.ËÅîÊú∫ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÂØπË±°");const u=s.Á≥ªÁªü?.ËÅîÊú∫?.Âè™ËØªË∑ØÂæÑ;return Array.isArray(u)||t.push("Á≥ªÁªü.ËÅîÊú∫.Âè™ËØªË∑ØÂæÑ ÂøÖÂ°´‰∏îÂøÖÈ°ªÊòØÊï∞ÁªÑ"),{isValid:0===t.length,errors:t,warnings:n}}},7003:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.inventory-content[data-v-4733f562] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n  overflow: hidden;\n}\n\n/* Ëá™ÂÆö‰πâÁ°ÆËÆ§ÂºπÁ™óÊ†∑Âºè */\n.custom-confirm-overlay[data-v-4733f562] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n.custom-confirm-modal[data-v-4733f562] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 400px;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: modal-appear-4733f562 0.3s ease-out;\n  border: 1px solid var(--color-primary-border);\n}\n.confirm-header[data-v-4733f562] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px 16px 24px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-primary-light);\n}\n.confirm-header h3[data-v-4733f562] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.confirm-close-btn[data-v-4733f562] {\n  background: none;\n  border: none;\n  padding: 4px;\n  border-radius: 6px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n}\n.confirm-close-btn[data-v-4733f562]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.confirm-content[data-v-4733f562] {\n  padding: 24px;\n}\n.confirm-content p[data-v-4733f562] {\n  margin: 0;\n  color: var(--color-text);\n  line-height: 1.6;\n  white-space: pre-line;\n}\n.confirm-actions[data-v-4733f562] {\n  display: flex;\n  gap: 12px;\n  padding: 16px 24px 24px 24px;\n  justify-content: flex-end;\n}\n.confirm-btn[data-v-4733f562] {\n  padding: 10px 20px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 80px;\n}\n.cancel-btn[data-v-4733f562] {\n  background: var(--color-surface-hover);\n  color: var(--color-text-secondary);\n}\n.cancel-btn[data-v-4733f562]:hover {\n  background: var(--color-surface-light);\n  color: var(--color-text);\n}\n.confirm-btn.confirm-btn[data-v-4733f562] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.confirm-btn.confirm-btn[data-v-4733f562]:hover {\n  background: var(--color-primary-hover);\n}\n\n/* ÁßªÂä®Á´ØÊ®°ÊÄÅÊ°Ü */\n.item-modal-overlay[data-v-4733f562] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n.item-modal[data-v-4733f562] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 400px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: modal-appear-4733f562 0.3s ease-out;\n  border: 1px solid var(--color-primary-border);\n}\n@keyframes modal-appear-4733f562 {\nfrom {\n    opacity: 0;\n    transform: scale(0.9) translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n}\n}\n.modal-header[data-v-4733f562] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-primary-light);\n}\n.modal-header h3[data-v-4733f562] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n.modal-close-btn[data-v-4733f562] {\n  background: none;\n  border: none;\n  padding: 4px;\n  border-radius: 6px;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n}\n.modal-close-btn[data-v-4733f562]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.modal-content[data-v-4733f562] {\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n.modal-icon-simple[data-v-4733f562] {\n  width: 80px;\n  height: 80px;\n  border-radius: 12px;\n  border: 3px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 16px;\n  background: var(--color-surface-hover);\n  font-weight: bold;\n  font-size: 14px;\n  color: var(--color-text);\n}\n.modal-info[data-v-4733f562] {\n  width: 100%;\n}\n.modal-meta[data-v-4733f562] {\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n.grade-display[data-v-4733f562] {\n  font-size: 0.8rem;\n  font-weight: bold;\n  padding: 2px 6px;\n  border-radius: 4px;\n  border: 1px solid currentColor;\n  white-space: nowrap;\n}\n\n/* ÂìÅÁ∫ßÈ¢úËâ≤Ê†∑Âºè */\n.grade-display.grade-broken[data-v-4733f562] {\n  background: #6b7280;\n  color: white;\n  border-color: #6b7280;\n}\n.grade-display.grade-low[data-v-4733f562] {\n  background: #10b981; /* ÁªøËâ≤ - ‰∏ãÂìÅ */\n  color: white;\n  border-color: #10b981;\n}\n.grade-display.grade-mid[data-v-4733f562] {\n  background: #3b82f6; /* ËìùËâ≤ - ‰∏≠ÂìÅ */\n  color: white;\n  border-color: #3b82f6;\n}\n.grade-display.grade-high[data-v-4733f562] {\n  background: #8b5cf6; /* Á¥´Ëâ≤ - ‰∏äÂìÅ */\n  color: white;\n  border-color: #8b5cf6;\n}\n.grade-display.grade-perfect[data-v-4733f562] {\n  background: #f59e0b; /* ÈáëËâ≤ - ÊûÅÂìÅ */\n  color: white;\n  border-color: #f59e0b;\n}\n.grade-display.grade-unknown[data-v-4733f562] {\n  background: #9ca3af;\n  color: white;\n  border-color: #9ca3af;\n}\n.modal-description[data-v-4733f562] {\n  color: var(--color-text);\n  line-height: 1.6;\n  margin-bottom: 16px;\n}\n.modal-attributes[data-v-4733f562] {\n  background: var(--color-surface-light);\n  border-radius: 8px;\n  padding: 12px;\n  margin-top: 16px;\n}\n.modal-attributes h4[data-v-4733f562] {\n  margin: 0 0 8px 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n}\n.modal-actions[data-v-4733f562] {\n  display: flex;\n  gap: 8px;\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n}\n\n/* ‰∏ªÂÜÖÂÆπÂå∫Âüü */\n.inventory-content[data-v-4733f562] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* Ê†áÁ≠æÂØºËà™ */\n.tabs-header[data-v-4733f562] {\n  background: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n  padding: 16px;\n  flex-shrink: 0;\n  border-radius: 12px 12px 0 0;\n}\n.tabs-nav[data-v-4733f562] {\n  display: flex;\n  gap: 4px;\n  margin-bottom: 16px;\n}\n.tab-btn[data-v-4733f562] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 16px;\n  border: none;\n  border-radius: 8px;\n  background: transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-weight: 500;\n}\n.tab-btn[data-v-4733f562]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.tab-btn.active[data-v-4733f562] {\n  background: var(--color-primary);\n  color: white;\n}\n\n/* Â∑•ÂÖ∑Ê†è */\n.tools-section[data-v-4733f562] {\n  display: flex;\n  gap: 12px;\n  align-items: center;\n  flex-wrap: wrap;\n}\n.search-box[data-v-4733f562] {\n  position: relative;\n  flex: 1;\n  min-width: 150px;\n}\n.search-icon[data-v-4733f562] {\n  position: absolute;\n  left: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--color-text-secondary);\n  z-index: 1;\n}\n.search-box input[data-v-4733f562] {\n  width: 100%;\n  padding: 10px 12px 10px 40px;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-background);\n  font-size: 14px;\n  transition: all 0.2s ease;\n}\n.search-box input[data-v-4733f562]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);\n}\n.filter-buttons[data-v-4733f562] {\n  display: flex;\n  gap: 8px;\n}\n.filter-select[data-v-4733f562] {\n  padding: 8px 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-background);\n  color: var(--color-text);\n  font-size: 13px;\n  min-width: 80px;\n}\n.filter-select option[data-v-4733f562] {\n  background: var(--color-surface);\n  color: var(--color-text);\n}\n.refresh-btn[data-v-4733f562] {\n  padding: 8px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-background);\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 32px;\n  height: 32px;\n}\n.refresh-btn[data-v-4733f562]:hover:not(:disabled) {\n  background: var(--color-surface-hover);\n  color: var(--color-primary);\n  border-color: var(--color-primary);\n}\n.refresh-btn[data-v-4733f562]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.refresh-btn .spinning[data-v-4733f562] {\n  animation: spin-4733f562 1s linear infinite;\n}\n\n/* Ê†áÁ≠æÂÜÖÂÆπ */\n.tab-content[data-v-4733f562] {\n  flex: 1;\n  overflow: hidden;\n}\n\n/* Áâ©ÂìÅÊ†áÁ≠æ */\n.items-tab[data-v-4733f562] {\n  display: flex;\n  height: 100%;\n}\n.items-grid[data-v-4733f562] {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 18px;\n  align-content: start;\n  background: var(--color-background);\n}\n.grid-placeholder[data-v-4733f562] {\n  grid-column: 1 / -1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n.filter-tip[data-v-4733f562] {\n  font-size: 0.8rem;\n  color: var(--color-text-muted);\n  margin-top: 8px;\n  opacity: 0.8;\n}\n.loading-spinner[data-v-4733f562] {\n  width: 32px;\n  height: 32px;\n  border: 3px solid var(--color-border);\n  border-top: 3px solid var(--color-primary);\n  border-radius: 50%;\n  animation: spin-4733f562 1s linear infinite;\n  margin-bottom: 16px;\n}\n@keyframes spin-4733f562 {\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* Áâ©ÂìÅÂç°Áâá - ÈáçÊñ∞ËÆæËÆ°ÁæéËßÇÂ∏ÉÂ±Ä */\n.item-card[data-v-4733f562] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  flex-direction: column;\n  height: 140px;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n.item-card[data-v-4733f562]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  background: var(--color-surface-light);\n}\n\n/* È°∂ÈÉ®Âå∫ÂüüÔºöÂõæÊ†áÂíåÂìÅË¥® */\n.item-top-section[data-v-4733f562] {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  margin-bottom: 8px;\n}\n.item-icon-area[data-v-4733f562] {\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  border: 2px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-background);\n  position: relative;\n}\n.item-type-icon[data-v-4733f562] {\n  font-size: 24px;\n  opacity: 0.9;\n}\n.item-quality-badge[data-v-4733f562] {\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  font-size: 10px;\n  font-weight: bold;\n  padding: 3px 6px;\n  border-radius: 6px;\n  background: var(--color-surface);\n  border: 1px solid currentColor;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  z-index: 2;\n  min-width: 20px;\n  text-align: center;\n}\n\n/* Êï∞ÈáèÊòæÁ§∫ - Êõ¥Â§ßÊõ¥ÊòæÁúº */\n.item-quantity-display[data-v-4733f562] {\n  position: absolute;\n  top: 6px;\n  right: 6px;\n  /* ‰ªÖÊîπÂèòÊñáÂ≠óÈ¢úËâ≤Ôºå‰∏çÊîπËÉåÊôØ */\n  background: transparent;\n  color: var(--color-accent, #7c4dff);\n  font-size: 12px;\n  font-weight: 700;\n  padding: 0;\n  border-radius: 0;\n  box-shadow: none;\n  border: none;\n  z-index: 4;\n  min-width: 0;\n  text-align: right;\n}\n\n/* ÂêçÁß∞Âå∫Âüü */\n.item-name-section[data-v-4733f562] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 0 4px;\n}\n.item-name[data-v-4733f562] {\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 1.3;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  word-break: break-word;\n}\n\n/* Â∫ïÈÉ®Âå∫ÂüüÔºöÁ±ªÂûãÂíåÂìÅÁ∫ß */\n.item-bottom-section[data-v-4733f562] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 4px;\n  margin-top: auto;\n  padding-top: 4px;\n}\n.item-type-label[data-v-4733f562] {\n  font-size: 9px;\n  color: var(--color-text-secondary);\n  background: var(--color-background);\n  padding: 2px 6px;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.item-grade-info[data-v-4733f562] {\n  font-size: 8px;\n  font-weight: bold;\n  padding: 2px 4px;\n  border-radius: 4px;\n  border: 1px solid currentColor;\n  background: rgba(255, 255, 255, 0.9);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  flex-shrink: 0;\n}\n\n/* ÂìÅÁ∫ßÊ†∑Âºè - ÁÆÄÂåñÁâàÊú¨ */\n.grade-broken[data-v-4733f562] {\n  background: #6b7280;\n  color: white;\n}\n.grade-low[data-v-4733f562] {\n  background: #10b981; /* ÁªøËâ≤ - ‰∏ãÂìÅ */\n  color: white;\n}\n.grade-mid[data-v-4733f562] {\n  background: #3b82f6; /* ËìùËâ≤ - ‰∏≠ÂìÅ */\n  color: white;\n}\n.grade-high[data-v-4733f562] {\n  background: #8b5cf6; /* Á¥´Ëâ≤ - ‰∏äÂìÅ */\n  color: white;\n}\n.grade-perfect[data-v-4733f562] {\n  background: #f59e0b; /* ÈáëËâ≤ - ÊûÅÂìÅ */\n  color: white;\n}\n.grade-unknown[data-v-4733f562] {\n  background: #9ca3af;\n  color: white;\n}\n\n/* ‰ø°Áî®ÁÇπÂìÅË¥®Ê†∑Âºè - È¢úËâ≤ÈÄíÂ¢û */\n.grade-common[data-v-4733f562] {\n  background: linear-gradient(135deg, #9ca3af, #6b7280);\n  border-color: #9ca3af;\n  color: white;\n  box-shadow: 0 2px 8px rgba(156, 163, 175, 0.3);\n}\n.grade-rare[data-v-4733f562] {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  border-color: #3b82f6;\n  color: white;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);\n}\n.grade-epic[data-v-4733f562] {\n  background: linear-gradient(135deg, #8b5cf6, #7c3aed);\n  border-color: #8b5cf6;\n  color: white;\n  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);\n}\n.grade-legend[data-v-4733f562] {\n  background: linear-gradient(135deg, #f59e0b, #d97706);\n  border-color: #f59e0b;\n  color: white;\n  box-shadow: 0 2px 12px rgba(245, 158, 11, 0.5);\n}\n\n/* Ê°åÈù¢Á´ØËØ¶ÊÉÖ‰æßËæπÊ†è */\n.item-details-sidebar[data-v-4733f562] {\n  width: 320px;\n  border-left: 1px solid var(--color-border);\n  background: var(--color-surface);\n  display: flex;\n  flex-direction: column;\n}\n.details-content[data-v-4733f562] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.details-header[data-v-4733f562] {\n  padding: 20px;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.details-icon-large[data-v-4733f562] {\n  width: 60px;\n  height: 60px;\n  border-radius: 10px;\n  border: 2px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-background);\n  flex-shrink: 0;\n  font-weight: bold;\n  font-size: 12px;\n  color: var(--color-text);\n}\n.details-title-area h3[data-v-4733f562] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n.details-meta[data-v-4733f562] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin-top: 4px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n.details-body[data-v-4733f562] {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n}\n.details-description[data-v-4733f562] {\n  color: var(--color-text);\n  line-height: 1.6;\n  margin-bottom: 20px;\n}\n.details-attributes h4[data-v-4733f562] {\n  margin: 0 0 12px 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n}\n.details-placeholder[data-v-4733f562] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n.details-actions[data-v-4733f562] {\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  gap: 8px;\n}\n\n/* ‰ø°Áî®ÁÇπÊ†áÁ≠æ */\n.currency-tab[data-v-4733f562] {\n  padding: 24px;\n  overflow-y: auto;\n}\n.currency-grid[data-v-4733f562] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 16px;\n  width: 100%;\n}\n.currency-card[data-v-4733f562] {\n  background: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  transition: all 0.3s ease;\n  cursor: default;\n  position: relative;\n  overflow: hidden;\n}\n.currency-card[data-v-4733f562]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  opacity: 0.8;\n  transition: opacity 0.3s ease;\n}\n.currency-card.grade-common[data-v-4733f562]::before {\n  background: linear-gradient(90deg, #9ca3af, #6b7280);\n}\n.currency-card.grade-rare[data-v-4733f562]::before {\n  background: linear-gradient(90deg, #3b82f6, #2563eb);\n}\n.currency-card.grade-epic[data-v-4733f562]::before {\n  background: linear-gradient(90deg, #8b5cf6, #7c3aed);\n}\n.currency-card.grade-legend[data-v-4733f562]::before {\n  background: linear-gradient(90deg, #f59e0b, #d97706);\n}\n.currency-card[data-v-4733f562]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n}\n.currency-card[data-v-4733f562]:hover::before {\n  opacity: 1;\n}\n.currency-card-top[data-v-4733f562] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.currency-icon[data-v-4733f562] {\n  flex-shrink: 0;\n  color: var(--color-text-secondary);\n  transition: color 0.3s ease;\n}\n\n/* ‰ø°Áî®ÁÇπÂõæÊ†áÈ¢úËâ≤ */\n.icon-grade-common[data-v-4733f562] {\n  color: #9ca3af;\n}\n.icon-grade-rare[data-v-4733f562] {\n  color: #3b82f6;\n}\n.icon-grade-epic[data-v-4733f562] {\n  color: #8b5cf6;\n}\n.icon-grade-legend[data-v-4733f562] {\n  color: #f59e0b;\n}\n.currency-info[data-v-4733f562] {\n  flex: 1;\n}\n.currency-amount[data-v-4733f562] {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n  margin-bottom: 4px;\n}\n.currency-label[data-v-4733f562] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n}\n\n/* ÂÖëÊç¢ÂäüËÉΩ */\n.currency-exchange[data-v-4733f562] {\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n}\n.exchange-btn[data-v-4733f562] {\n  flex: 1;\n  padding: 6px 12px;\n  border: 1px solid var(--color-primary);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-primary);\n  font-size: 0.8rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  position: relative;\n  overflow: hidden;\n}\n.exchange-btn[data-v-4733f562]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s ease;\n}\n.exchange-btn[data-v-4733f562]:hover:not(:disabled) {\n  background: var(--color-primary);\n  color: white;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n.exchange-btn[data-v-4733f562]:hover:not(:disabled)::before {\n  left: 100%;\n}\n.exchange-btn.down[data-v-4733f562] {\n  border-color: var(--color-warning);\n  color: var(--color-warning);\n}\n.exchange-btn.down[data-v-4733f562]:hover:not(:disabled) {\n  background: var(--color-warning);\n  color: white;\n  box-shadow: 0 4px 12px rgba(var(--color-warning-rgb), 0.3);\n}\n.exchange-btn[data-v-4733f562]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n.exchange-btn[data-v-4733f562]:active:not(:disabled) {\n  transform: translateY(0) scale(0.98);\n}\n\n/* ÊåâÈíÆÊ†∑Âºè */\n.action-btn[data-v-4733f562] {\n  flex: 1;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.action-btn[data-v-4733f562]:hover {\n  background: var(--color-surface-light);\n  transform: translateY(-1px);\n}\n.use-btn[data-v-4733f562] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n.use-btn[data-v-4733f562]:hover {\n  background: var(--color-primary-hover);\n}\n.discard-btn[data-v-4733f562] {\n  background: var(--color-error);\n  border-color: var(--color-error);\n  color: white;\n}\n.discard-btn[data-v-4733f562]:hover {\n  background: var(--color-error-hover);\n}\n\n/* Â±ûÊÄßÊñáÊú¨ÊòæÁ§∫ */\n.attribute-text[data-v-4733f562] {\n  background: var(--color-background);\n  border-radius: 6px;\n  padding: 12px;\n  font-size: 0.9rem;\n  color: var(--color-text);\n  line-height: 1.4;\n  word-break: break-all;\n}\n\n/* Á®ãÂ∫èÊïàÊûúÊ†∑Âºè */\n.skill-effects[data-v-4733f562] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.effect-item[data-v-4733f562] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 0;\n}\n.effect-label[data-v-4733f562] {\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  min-width: 80px;\n}\n.effect-value[data-v-4733f562] {\n  color: var(--color-success);\n  font-weight: 500;\n}\n.special-abilities[data-v-4733f562] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n}\n.ability-tag[data-v-4733f562] {\n  background: var(--color-primary);\n  color: white;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n\n/* Á®ãÂ∫èÊäÄËÉΩÊ†∑Âºè */\n.technique-skills[data-v-4733f562] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.skill-item[data-v-4733f562] {\n  background: var(--color-background);\n  border-radius: 8px;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n}\n.skill-header[data-v-4733f562] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n.skill-name[data-v-4733f562] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.skill-type[data-v-4733f562] {\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.skill-type.type-ÊîªÂáª[data-v-4733f562] {\n  background: var(--color-error);\n  color: white;\n}\n.skill-type.type-Èò≤Âæ°[data-v-4733f562] {\n  background: var(--color-info);\n  color: white;\n}\n.skill-type.type-ËæÖÂä©[data-v-4733f562] {\n  background: var(--color-success);\n  color: white;\n}\n.skill-type.type-ÁßªÂä®[data-v-4733f562] {\n  background: var(--color-warning);\n  color: white;\n}\n.skill-type.type-ÂÖ∂‰ªñ[data-v-4733f562] {\n  background: var(--color-text-secondary);\n  color: white;\n}\n.skill-description[data-v-4733f562] {\n  color: var(--color-text);\n  font-size: 0.9rem;\n  line-height: 1.4;\n  margin-bottom: 6px;\n}\n.skill-unlock-requirement[data-v-4733f562] {\n  font-size: 0.75rem;\n  color: var(--color-warning);\n  font-weight: 600;\n  padding: 2px 8px;\n  background: rgba(var(--color-warning-rgb), 0.1);\n  border-radius: 4px;\n  margin-left: auto;\n}\n.skill-cost[data-v-4733f562] {\n  color: var(--color-info);\n  font-size: 0.8rem;\n  font-weight: 500;\n  margin-top: 4px;\n}\n.skill-unlock[data-v-4733f562] {\n  color: var(--color-text-secondary);\n  font-size: 0.8rem;\n}\n.train-btn[data-v-4733f562] {\n  background: var(--color-info);\n  border-color: var(--color-info);\n  color: white;\n}\n.train-btn[data-v-4733f562]:hover {\n  background: var(--color-info-hover);\n}\n.equip-btn[data-v-4733f562] {\n  background: var(--color-success);\n  border-color: var(--color-success);\n  color: white;\n}\n.equip-btn[data-v-4733f562]:hover {\n  background: var(--color-success-hover);\n}\n\n/* ÂìÅË¥®Ê†∑ÂºèÁ≥ªÁªü - ÂÜÖËÅîÊñáÂ≠óÊ†∑ÂºèÔºå‰∏çÂ°´ÂÖÖÊï¥Ë°å */\n/* Á•ûÈò∂ - Ê∑±Á∫¢Ëâ≤ÔºàÊúÄÈ´òÂìÅË¥®Ôºâ */\n.text-quality-Á•û[data-v-4733f562],\n.text-quality-Á•ûÈò∂[data-v-4733f562] {\n  color: white !important;\n  background: linear-gradient(135deg, #dc2626, #b91c1c) !important;\n  border: 1px solid #dc2626 !important;\n  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* ‰ªôÈò∂ - Á≤âÁ¥´Ëâ≤ */\n.text-quality-‰ªô[data-v-4733f562],\n.text-quality-‰ªôÈò∂[data-v-4733f562] {\n  color: white !important;\n  background: linear-gradient(135deg, #ec4899, #db2777) !important;\n  border: 1px solid #ec4899 !important;\n  box-shadow: 0 2px 8px rgba(236, 72, 153, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* Â§©Èò∂ - ËìùËâ≤ */\n.text-quality-Â§©[data-v-4733f562],\n.text-quality-Â§©Èò∂[data-v-4733f562] {\n  color: white !important;\n  background: linear-gradient(135deg, #3b82f6, #2563eb) !important;\n  border: 1px solid #3b82f6 !important;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* Âú∞Èò∂ - Ê©ôËâ≤ */\n.text-quality-Âú∞[data-v-4733f562],\n.text-quality-Âú∞Èò∂[data-v-4733f562] {\n  color: white !important;\n  background: linear-gradient(135deg, #f59e0b, #d97706) !important;\n  border: 1px solid #f59e0b !important;\n  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* ÁéÑÈò∂ - Á¥´Ëâ≤ */\n.text-quality-ÁéÑ[data-v-4733f562],\n.text-quality-ÁéÑÈò∂[data-v-4733f562] {\n  color: white !important;\n  background: linear-gradient(135deg, #8b5cf6, #7c3aed) !important;\n  border: 1px solid #8b5cf6 !important;\n  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* ÈªÑÈò∂ - ÈáëÈªÑËâ≤ */\n.text-quality-ÈªÑ[data-v-4733f562],\n.text-quality-ÈªÑÈò∂[data-v-4733f562] {\n  color: white !important;\n  background: linear-gradient(135deg, #eab308, #ca8a04) !important;\n  border: 1px solid #eab308 !important;\n  box-shadow: 0 2px 8px rgba(234, 179, 8, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* Âá°Èò∂ - ÁÅ∞Ëâ≤ÔºàÊúÄ‰ΩéÂìÅË¥®Ôºâ */\n.text-quality-Âá°[data-v-4733f562],\n.text-quality-Âá°Èò∂[data-v-4733f562] {\n  color: white !important;\n  background: linear-gradient(135deg, #6b7280, #4b5563) !important;\n  border: 1px solid #6b7280 !important;\n  box-shadow: 0 2px 8px rgba(107, 114, 128, 0.3) !important;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;\n  padding: 2px 6px !important;\n  border-radius: 4px !important;\n  display: inline !important;\n  white-space: nowrap !important;\n}\n\n/* ËæπÊ°ÜÊ†∑Âºè‰πüÈúÄË¶Å‰øÆÂ§ç */\n.border-quality-Á•û[data-v-4733f562] {\n  border-color: #dc2626 !important;\n}\n.border-quality-‰ªô[data-v-4733f562] {\n  border-color: #ec4899 !important;\n}\n.border-quality-Â§©[data-v-4733f562] {\n  border-color: #3b82f6 !important;\n}\n.border-quality-Âú∞[data-v-4733f562] {\n  border-color: #f59e0b !important;\n}\n.border-quality-ÁéÑ[data-v-4733f562] {\n  border-color: #8b5cf6 !important;\n}\n.border-quality-Âá°[data-v-4733f562] {\n  border-color: #6b7280 !important;\n}\n.border-quality-Âá°[data-v-4733f562] {\n  border-color: #6b7280 !important;\n}\n\n/* Ë£ÖÂ§áÊ†áÁ≠æÈ°µÊ†∑Âºè */\n.equipment-tab[data-v-4733f562] {\n  height: 100%;\n  overflow-y: auto;\n}\n.item-grade[data-v-4733f562] {\n  border-radius: 5px;\n  border: 2px solid #9ca3af;\n}\n.equipment-content[data-v-4733f562] {\n  padding: 20px;\n}\n.equipment-header[data-v-4733f562] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 2px solid var(--color-border);\n}\n.equipment-title[data-v-4733f562] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin: 0;\n  font-size: 1.4rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.equipment-stats[data-v-4733f562] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.equipment-stats .stat-item[data-v-4733f562] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n.equipment-stats .stat-label[data-v-4733f562] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 4px;\n}\n.equipment-stats .stat-value[data-v-4733f562] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n\n/* Ë£ÖÂ§áÁΩëÊ†º */\n.equipment-grid[data-v-4733f562] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\n  gap: 20px;\n}\n.equipment-slot[data-v-4733f562] {\n  background: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  transition: all 0.3s ease;\n  min-height: 160px;\n  position: relative;\n}\n.equipment-slot.has-equipment[data-v-4733f562] {\n  border-color: var(--color-success);\n  box-shadow: 0 4px 12px rgba(var(--color-success-rgb), 0.1);\n}\n.equipment-slot.has-equipment[data-v-4733f562]:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 8px 25px rgba(var(--color-success-rgb), 0.2);\n}\n.equipment-slot.empty-slot[data-v-4733f562] {\n  border-style: dashed;\n  border-color: var(--color-border);\n}\n.slot-header[data-v-4733f562] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.slot-name[data-v-4733f562] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n  padding: 4px 8px;\n  border-radius: 6px;\n  background: var(--color-surface-light);\n  display: inline-block;\n}\n.slot-actions[data-v-4733f562] {\n  display: flex;\n  gap: 4px;\n}\n\n/* Âç∏‰∏ãÊåâÈíÆÊ†∑Âºè‰ºòÂåñ */\n.unequip-btn[data-v-4733f562] {\n  padding: 8px 12px;\n  background: linear-gradient(135deg, #ef4444, #dc2626);\n  border: 1px solid #ef4444;\n  border-radius: 8px;\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  font-size: 12px;\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n.unequip-btn[data-v-4733f562]::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s ease;\n}\n.unequip-btn[data-v-4733f562]:hover {\n  background: linear-gradient(135deg, #dc2626, #b91c1c);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 16px rgba(239, 68, 68, 0.4);\n}\n.unequip-btn[data-v-4733f562]:hover::before {\n  left: 100%;\n}\n.unequip-btn[data-v-4733f562]:active {\n  transform: translateY(0);\n}\n\n/* ËØ¶ÊÉÖÂå∫ÂüüÁöÑÂç∏‰∏ãÊåâÈíÆ‰øùÊåÅ‰∏éÂÖ∂‰ªñ action-btn ‰∏ÄËá¥‰∏î‰∏ç‰∏äÊµÆ */\n.action-btn.unequip-btn[data-v-4733f562] {\n  background: var(--color-danger);\n  border-color: var(--color-danger);\n  color: white;\n  border-radius: 8px;\n}\n.action-btn.unequip-btn[data-v-4733f562]:hover {\n  background: var(--color-danger-hover);\n  transform: none;\n  box-shadow: none;\n}\n\n/* Ë£ÖÂ§áÁâ©ÂìÅÊòæÁ§∫ - ‰ºòÂåñÊ†∑Âºè */\n.equipment-item[data-v-4733f562] {\n  display: flex;\n  gap: 16px;\n  align-items: flex-start;\n  background: var(--color-background);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  transition: all 0.3s ease;\n}\n.equipment-item[data-v-4733f562]:hover {\n  border-color: var(--color-primary);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.1);\n  transform: translateY(-2px);\n}\n.item-icon[data-v-4733f562] {\n  width: 60px;\n  height: 60px;\n  border-radius: 10px;\n  border: 3px solid;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-surface-light);\n  flex-shrink: 0;\n  font-weight: bold;\n  transition: all 0.3s ease;\n}\n.item-type-text[data-v-4733f562] {\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  color: var(--color-text);\n  line-height: 1.2;\n  word-break: break-word;\n}\n.item-info[data-v-4733f562] {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.item-name[data-v-4733f562] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  margin-bottom: 0;\n  line-height: 1.3;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  color: var(--color-text);\n}\n.item-quality[data-v-4733f562] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  border-radius: 6px;\n  margin-bottom: 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 8px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  width: fit-content;\n}\n.item-description[data-v-4733f562] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n  margin-bottom: 0;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  line-clamp: 3;\n  -webkit-box-orient: vertical;\n  background: var(--color-surface-light);\n  padding: 8px 12px;\n  border-radius: 8px;\n  border-left: 3px solid var(--color-primary);\n}\n.item-effects[data-v-4733f562] {\n  background: var(--color-surface-light);\n  padding: 8px;\n  border-radius: 6px;\n  border-left: 3px solid var(--color-info);\n}\n.effects-title[data-v-4733f562] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--color-info);\n  margin-bottom: 4px;\n}\n.effects-text[data-v-4733f562] {\n  font-size: 0.8rem;\n  color: var(--color-text);\n  line-height: 1.3;\n}\n\n/* Á©∫Ë£ÖÂ§áÊßΩ‰Ωç */\n.empty-equipment-slot[data-v-4733f562] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  height: 120px;\n  gap: 8px;\n}\n.empty-icon[data-v-4733f562] {\n  color: var(--color-text-muted);\n  opacity: 0.5;\n}\n.empty-text[data-v-4733f562] {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.empty-hint[data-v-4733f562] {\n  font-size: 0.8rem;\n  color: var(--color-text-muted);\n  font-style: italic;\n}\n\n/* ÁßªÂä®Á´ØÈÄÇÈÖç - ‰ºòÂåñÂç°ÁâáÊòæÁ§∫ */\n@media (max-width: 640px) {\n.tabs-header[data-v-4733f562] {\n    padding: 12px;\n}\n.tools-section[data-v-4733f562] {\n    flex-direction: column;\n    gap: 8px;\n    align-items: stretch;\n}\n.search-box[data-v-4733f562] {\n    min-width: auto;\n}\n.filter-buttons[data-v-4733f562] {\n    justify-content: space-between;\n}\n.filter-select[data-v-4733f562] {\n    flex: 1;\n}\n.items-grid[data-v-4733f562] {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    padding: 16px;\n    gap: 12px;\n}\n.item-card[data-v-4733f562] {\n    height: 130px;\n    padding: 6px;\n}\n.item-icon-area[data-v-4733f562] {\n    width: 40px;\n    height: 40px;\n}\n.item-type-icon[data-v-4733f562] {\n    font-size: 20px;\n}\n.item-name[data-v-4733f562] {\n    font-size: 11px;\n}\n.item-type-label[data-v-4733f562] {\n    font-size: 8px;\n    padding: 1px 4px;\n}\n.item-grade-info[data-v-4733f562] {\n    font-size: 7px;\n    padding: 1px 3px;\n}\n.currency-grid[data-v-4733f562] {\n    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n    gap: 12px;\n}\n.currency-card[data-v-4733f562] {\n    padding: 16px;\n}\n.currency-amount[data-v-4733f562] {\n    font-size: 1.25rem;\n}\n\n  /* Ë£ÖÂ§áÈ°µÈù¢ÁßªÂä®Á´ØÈÄÇÈÖç */\n.equipment-content[data-v-4733f562] {\n    padding: 12px;\n}\n.equipment-header[data-v-4733f562] {\n    flex-direction: column;\n    gap: 12px;\n    align-items: flex-start;\n}\n.equipment-grid[data-v-4733f562] {\n    grid-template-columns: 1fr;\n    gap: 16px;\n}\n.equipment-slot[data-v-4733f562] {\n    min-height: 140px;\n    padding: 12px;\n}\n}\n@media (max-width: 480px) {\n.tabs-nav[data-v-4733f562] {\n    justify-content: center;\n}\n.tab-btn[data-v-4733f562] {\n    flex: 1;\n    justify-content: center;\n}\n.items-grid[data-v-4733f562] {\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n    gap: 10px;\n    padding: 12px;\n}\n.item-card[data-v-4733f562] {\n    height: 120px;\n    padding: 5px;\n}\n.item-icon-area[data-v-4733f562] {\n    width: 32px;\n    height: 32px;\n}\n.item-type-icon[data-v-4733f562] {\n    font-size: 16px;\n}\n.item-name[data-v-4733f562] {\n    font-size: 10px;\n}\n.item-type-label[data-v-4733f562] {\n    font-size: 7px;\n    padding: 1px 3px;\n}\n.item-grade-info[data-v-4733f562] {\n    font-size: 6px;\n    padding: 1px 2px;\n}\n.item-quality-badge[data-v-4733f562] {\n    font-size: 6px;\n    padding: 1px 2px;\n}\n.item-quantity-badge[data-v-4733f562] {\n    font-size: 8px;\n    padding: 1px 4px;\n}\n.currency-grid[data-v-4733f562] {\n    grid-template-columns: 1fr;\n}\n.currency-card[data-v-4733f562] {\n    padding: 14px;\n}\n}\n",""]);const s=i},7038:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o),s=n(4417),l=n.n(s),c=new URL(n(660),n.b),d=i()(r()),u=l()(c);d.push([e.id,`\n.api-management-panel[data-v-57589a3d] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: var(--color-background);\n  overflow: hidden;\n  padding: 1rem;\n  gap: 1rem;\n  position: relative;\n}\n\n/* Â§¥ÈÉ® */\n.panel-header[data-v-57589a3d] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: var(--color-surface);\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.header-left[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.header-icon[data-v-57589a3d] {\n  font-size: 1.5rem;\n}\n.header-info[data-v-57589a3d] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.panel-title[data-v-57589a3d] {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #1e293b;\n}\n.settings-subtitle[data-v-57589a3d] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.header-actions[data-v-57589a3d] {\n  display: flex;\n  gap: 0.5rem;\n}\n.action-btn[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 0.5rem;\n  background: var(--color-surface);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.875rem;\n}\n.action-btn[data-v-57589a3d]:hover {\n  background: #f1f5f9;\n  border-color: #94a3b8;\n}\n.action-btn.primary[data-v-57589a3d] {\n  background: #3b82f6;\n  border-color: #3b82f6;\n  color: white;\n}\n.action-btn.primary[data-v-57589a3d]:hover {\n  background: #2563eb;\n  border-color: #2563eb;\n}\n\n/* ÂÜÖÂÆπÂå∫Âüü */\n.settings-container[data-v-57589a3d] {\n  flex: 1;\n  overflow-y: auto;\n  min-height: 0;\n  padding: 0 0.5rem 3rem 0.5rem;\n  scrollbar-width: thin;\n  scrollbar-color: transparent transparent;\n}\n.settings-container[data-v-57589a3d]::-webkit-scrollbar {\n  width: 8px;\n}\n.settings-container[data-v-57589a3d]::-webkit-scrollbar-track {\n  background: transparent;\n  border-radius: 4px;\n}\n.settings-container[data-v-57589a3d]::-webkit-scrollbar-thumb {\n  background: transparent;\n  border-radius: 4px;\n}\n\n/* ËÆæÁΩÆÂå∫Âùó */\n.settings-section[data-v-57589a3d] {\n  margin-bottom: 1.5rem;\n  background: white;\n  border-radius: 0.75rem;\n  border: 1px solid #e2e8f0;\n  overflow: hidden;\n}\n.section-header[data-v-57589a3d] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.25rem;\n  background: #f8fafc;\n  border-bottom: 1px solid #e2e8f0;\n}\n.section-title[data-v-57589a3d] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text, #1e293b);\n}\n\n/* ÊµÅÊ∞¥Á∫øÊèêÁ§∫ */\n.pipeline-hint[data-v-57589a3d] {\n  display: flex;\n  gap: 0.75rem;\n  padding: 0.875rem 1.25rem;\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(147, 51, 234, 0.08));\n  border-bottom: 1px solid #e2e8f0;\n}\n.hint-icon[data-v-57589a3d] {\n  font-size: 1.25rem;\n  flex-shrink: 0;\n}\n.hint-content[data-v-57589a3d] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary, #64748b);\n  line-height: 1.5;\n}\n.hint-content strong[data-v-57589a3d] {\n  color: var(--color-text, #1e293b);\n}\n.hint-example[data-v-57589a3d] {\n  display: inline-block;\n  margin-top: 0.25rem;\n  font-size: 0.75rem;\n  color: var(--color-text-muted, #94a3b8);\n  font-style: italic;\n}\n.section-count[data-v-57589a3d] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n\n/* Ê®°ÂºèÊ†áËØÜ */\n.mode-badge[data-v-57589a3d] {\n  display: inline-flex;\n  align-items: center;\n  padding: 0.25rem 0.75rem;\n  border-radius: 1rem;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n.mode-badge.tavern[data-v-57589a3d] {\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n  color: #92400e;\n  border: 1px solid #f59e0b;\n}\n.mode-badge.web[data-v-57589a3d] {\n  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);\n  color: #1e40af;\n  border: 1px solid #3b82f6;\n}\n\n/* Ê®°ÂºèËØ¥Êòé */\n.mode-hint[data-v-57589a3d] {\n  display: flex;\n  gap: 0.75rem;\n  padding: 0.875rem 1.25rem;\n  border-bottom: 1px solid #e2e8f0;\n}\n.mode-hint.tavern[data-v-57589a3d] {\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.08));\n}\n.mode-hint.web[data-v-57589a3d] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.08));\n}\n.mode-hint .hint-content em[data-v-57589a3d] {\n  font-style: normal;\n  font-weight: 600;\n  color: #dc2626;\n}\n\n/* APIÂç°ÁâáÂàóË°® */\n.api-list[data-v-57589a3d] {\n  padding: 0.75rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.api-card[data-v-57589a3d] {\n  background: #f8fafc;\n  border: 1px solid #e2e8f0;\n  border-radius: 0.75rem;\n  overflow: hidden;\n  transition: all 0.2s ease;\n}\n.api-card[data-v-57589a3d]:hover {\n  border-color: #94a3b8;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n.api-card.disabled[data-v-57589a3d] {\n  opacity: 0.6;\n}\n.api-card.default[data-v-57589a3d] {\n  border-color: #3b82f6;\n  background: linear-gradient(135deg, #eff6ff 0%, #f8fafc 100%);\n}\n.api-card-header[data-v-57589a3d] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: white;\n  border-bottom: 1px solid #e2e8f0;\n}\n.api-info[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.api-name[data-v-57589a3d] {\n  font-weight: 600;\n  color: #1e293b;\n}\n.api-provider[data-v-57589a3d] {\n  font-size: 0.75rem;\n  color: #64748b;\n  background: #e2e8f0;\n  padding: 0.125rem 0.5rem;\n  border-radius: 1rem;\n}\n.api-provider.tavern-tag[data-v-57589a3d] {\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n  color: #92400e;\n  border: 1px solid #f59e0b;\n  font-weight: 500;\n}\n.api-actions[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.icon-btn[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border: none;\n  border-radius: 0.375rem;\n  background: transparent;\n  color: #64748b;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.icon-btn[data-v-57589a3d]:hover {\n  background: #e2e8f0;\n  color: #1e293b;\n}\n.icon-btn.danger[data-v-57589a3d]:hover {\n  background: #fee2e2;\n  color: #dc2626;\n}\n.icon-btn[data-v-57589a3d]:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n.api-card-body[data-v-57589a3d] {\n  padding: 0.75rem 1rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n/* ÈÖíÈ¶ÜÊ®°Âºè‰∏ãÈªòËÆ§APIÁöÑÊèêÁ§∫Ê†∑Âºè */\n.tavern-api-hint[data-v-57589a3d] {\n  width: 100%;\n  padding: 0.5rem 0;\n}\n.tavern-api-hint .hint-text[data-v-57589a3d] {\n  font-size: 0.875rem;\n  color: #92400e;\n  font-style: italic;\n}\n.api-detail[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n}\n.detail-label[data-v-57589a3d] {\n  color: var(--color-text-secondary);\n}\n.detail-value[data-v-57589a3d] {\n  color: var(--color-text);\n  font-weight: 500;\n}\n.detail-value.url[data-v-57589a3d] {\n  max-width: 200px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.detail-value.success[data-v-57589a3d] {\n  color: #059669;\n}\n.detail-value.fail[data-v-57589a3d] {\n  color: #dc2626;\n}\n.detail-value.unknown[data-v-57589a3d] {\n  color: var(--color-text-secondary);\n}\n.api-card-footer[data-v-57589a3d] {\n  padding: 0.5rem 1rem;\n  background: rgba(59, 130, 246, 0.05);\n  border-top: 1px solid #e2e8f0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.assigned-label[data-v-57589a3d] {\n  font-size: 0.75rem;\n  color: #64748b;\n}\n.assigned-tags[data-v-57589a3d] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.25rem;\n}\n.function-tag[data-v-57589a3d] {\n  font-size: 0.75rem;\n  background: #3b82f6;\n  color: white;\n  padding: 0.125rem 0.5rem;\n  border-radius: 1rem;\n}\n\n/* ËÆæÁΩÆÂàóË°® */\n.settings-list[data-v-57589a3d] {\n  padding: 0.5rem;\n}\n\n/* ÂäüËÉΩÂàÜÁªÑÂ§¥ÈÉ® */\n.function-group-header[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem 0.5rem;\n  margin-top: 1rem;\n}\n.function-group-header[data-v-57589a3d]:first-child {\n  margin-top: 0;\n}\n.group-title[data-v-57589a3d] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #1e293b;\n}\n.group-desc[data-v-57589a3d] {\n  font-size: 0.75rem;\n  color: #94a3b8;\n}\n\n/* Ëá™Âä®ÂàÜÊ≠•ÁîüÊàêÊèêÁ§∫ */\n.auto-split-hint[data-v-57589a3d] {\n  display: flex;\n  gap: 0.75rem;\n  padding: 0.875rem 1rem;\n  margin: 0.75rem 0.5rem;\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(37, 99, 235, 0.05));\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  border-radius: 0.5rem;\n}\n.auto-split-hint .hint-icon[data-v-57589a3d] {\n  font-size: 1.25rem;\n}\n.auto-split-hint .hint-text[data-v-57589a3d] {\n  flex: 1;\n  font-size: 0.875rem;\n  color: #1e40af;\n  line-height: 1.5;\n}\n.auto-split-hint .hint-text strong[data-v-57589a3d] {\n  font-weight: 600;\n  color: #1e3a8a;\n}\n.setting-item[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-radius: 0.5rem;\n  transition: background 0.2s ease;\n}\n.setting-item[data-v-57589a3d]:hover {\n  background: #f8fafc;\n}\n\n/* ÊéßÂà∂Ë°åÊ†∑Âºè */\n.control-row[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n/* ÂÜÖËÅîÂºÄÂÖ≥Ê†∑Âºè */\n.inline-toggle[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-right: 0.5rem;\n}\n.toggle-label[data-v-57589a3d] {\n  font-size: 0.75rem;\n  color: #64748b;\n  white-space: nowrap;\n}\n.setting-switch.compact[data-v-57589a3d] {\n  transform: scale(0.85);\n}\n\n/* Ê®°ÂºèÊåáÁ§∫Âô® */\n.mode-indicator[data-v-57589a3d] {\n  display: inline-flex;\n  align-items: center;\n  margin-left: 0.5rem;\n  padding: 0.125rem 0.4rem;\n  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);\n  color: #1e40af;\n  font-size: 0.65rem;\n  font-weight: 600;\n  border-radius: 0.5rem;\n  border: 1px solid #93c5fd;\n}\n.setting-info[data-v-57589a3d] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.setting-name[data-v-57589a3d] {\n  font-weight: 500;\n  color: #1e293b;\n}\n.setting-desc[data-v-57589a3d] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n\n/* ÈÖíÈ¶ÜÊ®°ÂºèÈîÅÂÆöÁä∂ÊÄÅ */\n.setting-item.tavern-locked[data-v-57589a3d] {\n  background: linear-gradient(135deg, rgba(251, 191, 36, 0.08), rgba(245, 158, 11, 0.05));\n  border-radius: 0.5rem;\n}\n.locked-badge[data-v-57589a3d] {\n  display: inline-flex;\n  align-items: center;\n  margin-left: 0.5rem;\n  padding: 0.125rem 0.5rem;\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n  color: #92400e;\n  font-size: 0.7rem;\n  font-weight: 500;\n  border-radius: 0.75rem;\n  border: 1px solid #f59e0b;\n}\n.locked-text[data-v-57589a3d] {\n  display: inline-flex;\n  align-items: center;\n  padding: 0.5rem 0.75rem;\n  background: #f8fafc;\n  border: 1px dashed #d1d5db;\n  border-radius: 0.5rem;\n  color: #64748b;\n  font-size: 0.875rem;\n  font-style: italic;\n}\n.setting-control[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n}\n.assignment-control[data-v-57589a3d] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n  align-items: flex-end;\n}\n.function-mode-row[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.mode-label[data-v-57589a3d] {\n  font-size: 0.75rem;\n  color: #64748b;\n  white-space: nowrap;\n}\n.setting-select.mode-select[data-v-57589a3d] {\n  min-width: 120px;\n}\n.setting-select[data-v-57589a3d] {\n  padding: 0.5rem 2rem 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  background-color: white;\n  background-image: url(${u});\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  background-size: 12px;\n  color: #374151;\n  font-size: 0.875rem;\n  cursor: pointer;\n  appearance: none;\n  min-width: 140px;\n}\n\n/* ÂºÄÂÖ≥Ê†∑Âºè */\n.setting-switch[data-v-57589a3d] {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 24px;\n}\n.setting-switch input[data-v-57589a3d] {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n.switch-slider[data-v-57589a3d] {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #cbd5e1;\n  transition: 0.2s;\n  border-radius: 24px;\n}\n.switch-slider[data-v-57589a3d]:before {\n  position: absolute;\n  content: '';\n  height: 18px;\n  width: 18px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  transition: 0.2s;\n  border-radius: 50%;\n}\ninput:checked + .switch-slider[data-v-57589a3d] {\n  background-color: #3b82f6;\n}\ninput:checked + .switch-slider[data-v-57589a3d]:before {\n  transform: translateX(20px);\n}\n\n/* Ê®°ÊÄÅÊ°Ü */\n.modal-overlay[data-v-57589a3d] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n.modal-content[data-v-57589a3d] {\n  background: white;\n  border-radius: 1rem;\n  width: 90%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.modal-header[data-v-57589a3d] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid #e2e8f0;\n}\n.modal-header h3[data-v-57589a3d] {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #1e293b;\n}\n.close-btn[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border: none;\n  border-radius: 0.5rem;\n  background: transparent;\n  color: #64748b;\n  cursor: pointer;\n}\n.close-btn[data-v-57589a3d]:hover {\n  background: #f1f5f9;\n  color: #1e293b;\n}\n.modal-body[data-v-57589a3d] {\n  padding: 1.5rem;\n  overflow-y: auto;\n}\n.form-group[data-v-57589a3d] {\n  margin-bottom: 1rem;\n}\n.form-group label[data-v-57589a3d] {\n  display: block;\n  font-weight: 500;\n  color: #374151;\n  margin-bottom: 0.5rem;\n}\n.form-input[data-v-57589a3d],\n.form-select[data-v-57589a3d] {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.5rem;\n  font-size: 0.875rem;\n  background: white;\n  color: #374151;\n  box-sizing: border-box;\n}\n.form-input[data-v-57589a3d]:focus,\n.form-select[data-v-57589a3d]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n}\n.form-row[data-v-57589a3d] {\n  display: flex;\n  gap: 1rem;\n}\n.form-group.half[data-v-57589a3d] {\n  flex: 1;\n}\n.model-input-row[data-v-57589a3d] {\n  display: flex;\n  gap: 0.5rem;\n}\n.model-input-row .form-input[data-v-57589a3d] {\n  flex: 1;\n}\n.model-select-wrapper[data-v-57589a3d] {\n  position: relative;\n}\n.model-dropdown[data-v-57589a3d] {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  max-height: 200px;\n  overflow-y: auto;\n  background: white;\n  border: 1px solid #d1d5db;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  z-index: 100;\n  margin-top: 4px;\n}\n.model-dropdown-item[data-v-57589a3d] {\n  padding: 0.5rem 0.75rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n  color: #374151;\n  transition: background 0.15s ease;\n}\n.model-dropdown-item[data-v-57589a3d]:hover {\n  background: #f1f5f9;\n}\n.model-dropdown-item.active[data-v-57589a3d] {\n  background: #eff6ff;\n  color: #3b82f6;\n  font-weight: 500;\n}\n.utility-btn[data-v-57589a3d] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.5rem;\n  background: white;\n  color: #374151;\n  cursor: pointer;\n}\n.utility-btn[data-v-57589a3d]:hover {\n  background: #f1f5f9;\n  border-color: #94a3b8;\n}\n.utility-btn[data-v-57589a3d]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.model-list[data-v-57589a3d] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n}\n.model-tag[data-v-57589a3d] {\n  padding: 0.25rem 0.75rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 1rem;\n  font-size: 0.75rem;\n  background: #f8fafc;\n  color: #64748b;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.model-tag[data-v-57589a3d]:hover {\n  border-color: #3b82f6;\n  color: #3b82f6;\n}\n.model-tag.active[data-v-57589a3d] {\n  background: #3b82f6;\n  border-color: #3b82f6;\n  color: white;\n}\n.modal-footer[data-v-57589a3d] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  padding: 1rem 1.5rem;\n  border-top: 1px solid #e2e8f0;\n}\n.btn-cancel[data-v-57589a3d],\n.btn-confirm[data-v-57589a3d] {\n  padding: 0.625rem 1.25rem;\n  border-radius: 0.5rem;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.btn-cancel[data-v-57589a3d] {\n  background: white;\n  border: 1px solid #d1d5db;\n  color: #374151;\n}\n.btn-cancel[data-v-57589a3d]:hover {\n  background: #f1f5f9;\n  border-color: #94a3b8;\n}\n.btn-confirm[data-v-57589a3d] {\n  background: #3b82f6;\n  border: 1px solid #3b82f6;\n  color: white;\n}\n.btn-confirm[data-v-57589a3d]:hover {\n  background: #2563eb;\n  border-color: #2563eb;\n}\n\n/* Âä†ËΩΩÂä®Áîª */\n.loading-pulse[data-v-57589a3d] {\n  animation: pulse-57589a3d 1.5s ease-in-out infinite;\n}\n@keyframes pulse-57589a3d {\n0%, 100% { opacity: 1;\n}\n50% { opacity: 0.4;\n}\n}\n\n/* ÂìçÂ∫îÂºè */\n@media (max-width: 640px) {\n.header-actions .btn-text[data-v-57589a3d] {\n    display: none;\n}\n.api-card-body[data-v-57589a3d] {\n    flex-direction: column;\n    gap: 0.5rem;\n}\n.form-row[data-v-57589a3d] {\n    flex-direction: column;\n    gap: 1rem;\n}\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò */\n[data-theme='dark'] .api-management-panel[data-v-57589a3d] {\n  background: var(--color-background);\n}\n[data-theme='dark'] .panel-header[data-v-57589a3d],\n[data-theme='dark'] .settings-section[data-v-57589a3d] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme='dark'] .section-header[data-v-57589a3d] {\n  background: #334155;\n  border-bottom-color: #475569;\n}\n[data-theme='dark'] .panel-title[data-v-57589a3d],\n[data-theme='dark'] .section-title[data-v-57589a3d],\n[data-theme='dark'] .setting-name[data-v-57589a3d],\n[data-theme='dark'] .api-name[data-v-57589a3d],\n[data-theme='dark'] .group-title[data-v-57589a3d] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .settings-subtitle[data-v-57589a3d],\n[data-theme='dark'] .setting-desc[data-v-57589a3d],\n[data-theme='dark'] .detail-label[data-v-57589a3d],\n[data-theme='dark'] .group-desc[data-v-57589a3d] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .api-card[data-v-57589a3d] {\n  background: #334155;\n  border-color: #475569;\n}\n[data-theme='dark'] .api-card-header[data-v-57589a3d] {\n  background: #1e293b;\n  border-bottom-color: #475569;\n}\n[data-theme='dark'] .setting-item[data-v-57589a3d]:hover,\n[data-theme='dark'] .api-card[data-v-57589a3d]:hover {\n  background: #334155;\n}\n[data-theme='dark'] .action-btn[data-v-57589a3d],\n[data-theme='dark'] .setting-select[data-v-57589a3d],\n[data-theme='dark'] .form-input[data-v-57589a3d],\n[data-theme='dark'] .form-select[data-v-57589a3d] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #e5e7eb;\n}\n[data-theme='dark'] .form-group label[data-v-57589a3d] {\n  color: #e2e8f0;\n}\n[data-theme='dark'] .modal-content[data-v-57589a3d] {\n  background: #1e293b;\n}\n[data-theme='dark'] .modal-header[data-v-57589a3d] {\n  border-bottom-color: #475569;\n}\n[data-theme='dark'] .modal-header h3[data-v-57589a3d] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .modal-footer[data-v-57589a3d] {\n  border-top-color: #475569;\n}\n[data-theme='dark'] .api-provider[data-v-57589a3d] {\n  background: #475569;\n  color: #e5e7eb;\n}\n[data-theme='dark'] .api-provider.tavern-tag[data-v-57589a3d] {\n  background: linear-gradient(135deg, #78350f 0%, #92400e 100%);\n  color: #fef3c7;\n  border-color: #b45309;\n}\n[data-theme='dark'] .tavern-api-hint .hint-text[data-v-57589a3d] {\n  color: #fcd34d;\n}\n[data-theme='dark'] .model-tag[data-v-57589a3d] {\n  background: #475569;\n  border-color: #4b5563;\n  color: #e5e7eb;\n}\n[data-theme='dark'] .model-dropdown[data-v-57589a3d] {\n  background: #374151;\n  border-color: #4b5563;\n}\n[data-theme='dark'] .model-dropdown-item[data-v-57589a3d] {\n  color: #e5e7eb;\n}\n[data-theme='dark'] .model-dropdown-item[data-v-57589a3d]:hover {\n  background: #4b5563;\n}\n[data-theme='dark'] .model-dropdown-item.active[data-v-57589a3d] {\n  background: #1e40af;\n  color: #93c5fd;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò - Ê®°ÂºèÊ†áËØÜ */\n[data-theme='dark'] .mode-badge.tavern[data-v-57589a3d] {\n  background: linear-gradient(135deg, #78350f 0%, #92400e 100%);\n  color: #fef3c7;\n  border-color: #b45309;\n}\n[data-theme='dark'] .mode-badge.web[data-v-57589a3d] {\n  background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);\n  color: #dbeafe;\n  border-color: #2563eb;\n}\n[data-theme='dark'] .mode-hint.tavern[data-v-57589a3d] {\n  background: linear-gradient(135deg, rgba(120, 53, 15, 0.3), rgba(146, 64, 14, 0.2));\n}\n[data-theme='dark'] .mode-hint.web[data-v-57589a3d] {\n  background: linear-gradient(135deg, rgba(30, 58, 138, 0.3), rgba(30, 64, 175, 0.2));\n}\n[data-theme='dark'] .mode-hint .hint-content em[data-v-57589a3d] {\n  color: #fca5a5;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò - ÈîÅÂÆöÁä∂ÊÄÅ */\n[data-theme='dark'] .setting-item.tavern-locked[data-v-57589a3d] {\n  background: linear-gradient(135deg, rgba(120, 53, 15, 0.2), rgba(146, 64, 14, 0.15));\n}\n[data-theme='dark'] .locked-badge[data-v-57589a3d] {\n  background: linear-gradient(135deg, #78350f 0%, #92400e 100%);\n  color: #fef3c7;\n  border-color: #b45309;\n}\n[data-theme='dark'] .locked-text[data-v-57589a3d] {\n  background: #334155;\n  border-color: #475569;\n  color: #94a3b8;\n}\n`,""]);const m=d},7044:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2716%27 height=%2716%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%236b7280%27 stroke-width=%272%27%3E%3Cpath d=%27m6 9 6 6 6-6%27/%3E%3C/svg%3E"},7119:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},7176:(e,t,n)=>{"use strict";var a,r=n(3126),o=n(5795);try{a=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var i=!!a&&o&&o(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;e.exports=i&&"function"==typeof i.get?r([i.get]):"function"==typeof l&&function(e){return l(null==e?e:s(e))}},7203:(e,t,n)=>{"use strict";n.d(t,{y8:()=>G,XH:()=>Z,LB:()=>K});var a=n(406),r=n(840);const o='\n# ÊñáÊú¨Ê†ºÂºèÊ†áËÆ∞\n\n- ÁéØÂ¢ÉÊèèÂÜô: `„Äê...„Äë`\n- ÂÜÖÂøÉÊÄùËÄÉ: ``...``\n- ËßíËâ≤ÂØπËØù: `"..."`\n- Á≥ªÁªüÂà§ÂÆö: `„Äñ...„Äó`\n'.trim(),i='\n# ÈÄöÁî®Âà§ÂÆöÁ≥ªÁªü v6.0\n\n## 1. Ê†∏ÂøÉÂÖ¨Âºè\n**ÊúÄÁªàÂà§ÂÆöÂÄº = Âü∫Á°ÄÂà§ÂÆöÂÄº + ÁéØÂ¢É‰øÆÊ≠£ + Áä∂ÊÄÅ‰øÆÊ≠£ + Âπ∏ËøêÈ™∞Â≠ê**\n\n### Âü∫Á°ÄÂà§ÂÆöÂÄº\nÂü∫Á°ÄÂÄº = Á¥†Ë¥®Âä†ÊùÉ + Á≠âÁ∫ßÂä†Êàê + ÊäÄËâ∫Âä†Êàê\n\n### ÁéØÂ¢É‰øÆÊ≠£ÔºàÊ†πÊçÆÂà§ÂÆöÁ±ªÂûãÔºâ\n**ÂâçÁ´ØÂ∑≤ËÆ°ÁÆó**ÔºöÁ≥ªÁªü‰ºöÂú®"Êú¨ÂõûÂêàÂà§ÂÆöÊï∞ÊçÆ"ÁöÑ"ÁéØÂ¢É‰øÆÊ≠£"‰∏≠Êèê‰æõÂêÑÁ±ªÂà§ÂÆöÁöÑÁéØÂ¢ÉÂä†Êàê\n\n**Áõ¥Êé•‰ΩøÁî®ÂØπÂ∫îÂÄº**Ôºö\n- ËÆ≠ÁªÉ/ÊôãÂçá ‚Üí ‰ΩøÁî®"ËÆ≠ÁªÉ/ÊôãÂçá"ÂÄº\n- ÊîπÈÄ†/Âà∂ÈÄ† ‚Üí ‰ΩøÁî®"ÊîπÈÄ†/Âà∂ÈÄ†"ÂÄº\n- ÊàòÊñó ‚Üí ‰ΩøÁî®"ÊàòÊñó"ÂÄº\n- Êé¢Á¥¢/Á§æ‰∫§ ‚Üí Âõ∫ÂÆö‰∏∫ 0\n\nËÆ°ÁÆóÂÖ¨ÂºèÔºà‰ªÖ‰æõÁêÜËß£ÔºâÔºö\n| Âà§ÂÆöÁ±ªÂûã | ‰ø°Âè∑Âº∫Â∫¶ÂΩ±Âìç | ËØ¥Êòé |\n|---------|-------------|------|\n| ËÆ≠ÁªÉÊôãÂçá | (Âº∫Â∫¶-50)/10 | Âº∫Â∫¶80‚Üí+3ÔºåÂº∫Â∫¶20‚Üí-3 |\n| ÊîπÈÄ†Âà∂ÈÄ† | (Âº∫Â∫¶-50)/15 | ‰ø°Âè∑ÂΩ±ÂìçÁ≥ªÁªüÁ®≥ÂÆö |\n| ÊàòÊñó | (Âº∫Â∫¶-50)/20 | ‰ø°Âè∑ÂÖÖÊ≤õÂà©‰∫éÂçèÂêå |\n| Êé¢Á¥¢/Á§æ‰∫§ | 0 | ‰∏çÂèóÂΩ±Âìç |\n\n### Áä∂ÊÄÅ‰øÆÊ≠£ÔºàÁ¥ØÂä†Ôºâ\n\n**Âü∫Á°ÄÁä∂ÊÄÅÔºà‰ªéÂ±ûÊÄßÁôæÂàÜÊØîËÆ°ÁÆóÔºâ**\n| Áä∂ÊÄÅ | ‰øÆÊ≠£ÂÄº | ËØ¥Êòé |\n|-----|-------|------|\n| ÁîüÂëΩÂÄº<50% | -5 | Âèó‰º§ÂΩ±ÂìçÂèëÊå• |\n| ÁîüÂëΩÂÄº<25% | -15 | Èáç‰º§‰∏•ÈáçÂâäÂº± |\n| ÁîµÈáè<30% | -8 | ÁîµÈáè‰∏çË∂≥ÂΩ±ÂìçÁ≥ªÁªü |\n| Â∏¶ÂÆΩ<30% | -10 | Â∏¶ÂÆΩÊûØÁ´≠ÂΩ±ÂìçÂà§Êñ≠ |\n\n**Â≠òÊ°£Áä∂ÊÄÅÊïàÊûúÔºà‰ªéËßíËâ≤.ÊïàÊûúÊï∞ÁªÑËØªÂèñÔºâ**\n- buffÁ±ªÂûãÔºöÊ†πÊçÆÂº∫Â∫¶(0-100)Áªô‰∫à +1~+10 ‰øÆÊ≠£\n- debuffÁ±ªÂûãÔºöÊ†πÊçÆÂº∫Â∫¶(0-100)Áªô‰∫à -1~-10 ‰øÆÊ≠£\n- ÂÖ¨ÂºèÔºö‰øÆÊ≠£ÂÄº = (Âº∫Â∫¶/100) √ó 10 √ó (buff‰∏∫+1Ôºådebuff‰∏∫-1)\n- Â§ö‰∏™Áä∂ÊÄÅÊïàÊûúÁ¥ØÂä†Ôºå‰ΩÜÊÄª‰øÆÊ≠£ÈôêÂà∂Âú® -20~+20 ËåÉÂõ¥ÂÜÖ\n\n### Âπ∏ËøêÈ™∞Â≠êÔºàÈöèÊú∫Êï∞Ôºâ\n- **ÂâçÁ´ØÂ∑≤ËÆ°ÁÆó**ÔºöÁ≥ªÁªü‰ºöÂú®"Êú¨ÂõûÂêàÂà§ÂÆöÊï∞ÊçÆ"‰∏≠Êèê‰æõËÆ°ÁÆóÂ•ΩÁöÑÈ™∞Â≠êÂä†Êàê\n- **Áõ¥Êé•‰ΩøÁî®**ÔºöÂà§ÂÆöÊó∂Áõ¥Êé•‰ΩøÁî®Êèê‰æõÁöÑ"È™∞Â≠êÂä†Êàê"ÂÄºÔºå**‰∏çË¶ÅËá™Â∑±ËÆ°ÁÆó**\n- ËÆ°ÁÆóÂÖ¨ÂºèÔºà‰ªÖ‰æõÁêÜËß£ÔºâÔºö\n  - ÂéüÂßãÈ™∞Â≠ê(1-100) √ó Âπ∏ËøêÁ≥ªÊï∞(1 + Âπ∏Ëøê/100) = ‰øÆÊ≠£ÂêéÈ™∞Â≠ê\n  - (‰øÆÊ≠£ÂêéÈ™∞Â≠ê - 50) / 5 = È™∞Â≠êÂä†Êàê\n\n## 2. Ëß¶ÂèëÂà§ÂÆöÁöÑÂú∫ÊôØ\n**ÈúÄË¶ÅÂà§ÂÆö**ÔºöÊàòÊñóÊîªÈò≤ | ÊîπÈÄ†Âà∂ÈÄ† | ËÆ≠ÁªÉÊôãÂçá | Âç±Èô©Êé¢Á¥¢ | Á§æ‰∫§ÂçöÂºà | Ë∫≤ÈÅøÂç±Èô©\n**Êó†ÈúÄÂà§ÂÆö**ÔºöÊó•Â∏∏Ë°å‰∏∫ | Ë∑®Èò∂ÂéãÂà∂(Â∑Æ2Á∫ß‰ª•‰∏ä) | Á∫ØÂèô‰∫ã\n\n## 3. Â±ûÊÄßÂä†ÊùÉË°®\n| Âà§ÂÆöÁ±ªÂûã | ‰∏ªÂ±ûÊÄß√ó0.5 | ÂâØÂ±ûÊÄß√ó0.3 | ËæÖÂ±ûÊÄß√ó0.2 |\n|---------|-----------|-----------|-----------|\n| ÊàòÊñóÊîªÂáª | ‰ΩìÊ†º | ÂèçÂ∫î | Âπ∏Ëøê |\n| ÊàòÊñóÈò≤Âæ° | ‰ΩìÊ†º | ÊÑèÂøó | ÂèçÂ∫î |\n| ÊîπÈÄ†Âà∂ÈÄ† | Êô∫ËØÜ | ÂèçÂ∫î | ÊÑèÂøó |\n| ËÆ≠ÁªÉÊôãÂçá | Êô∫ËØÜ | ÂèçÂ∫î | ÊÑèÂøó |\n| Êé¢Á¥¢ÂèëÁé∞ | Âπ∏Ëøê | ÂèçÂ∫î | Êô∫ËØÜ |\n| Á§æ‰∫§ËØ¥Êúç | È≠ÖÂäõ | Êô∫ËØÜ | ÊÑèÂøó |\n| Ë∫≤ÈÅøÈÄÉË∑ë | ÂèçÂ∫î | Âπ∏Ëøê | ‰ΩìÊ†º |\n\n## 4. Á≠âÁ∫ßÂä†Êàê\nË°óÂ§¥‰∫∫0 | Ë∑ëËÄÖ5 | ÊΩúÂΩ±ËÄÖ12 | Èõá‰Ω£ÁåéÊâã20 | ÊàòÊúØÂ§ßÂ∏à30 | ‰ºÅ‰∏öÁâπ‰Ωø42 | ÂπΩÁΩë‰∏ªÂÆ∞55 | ÂüéÈÇ¶ÊâßÊéå70 | ‰º†ËØ¥Á∫ß88\nÈò∂ÊÆµÔºöËØïÁî®+0 | Á®≥ÂÆö+2 | Âº∫Âåñ+4 | Á™ÅÁ†¥+6 | ÊûÅÈôê+8\n\n## 5. ÈöæÂ∫¶‰∏éÁªìÊûú\n| ÈöæÂ∫¶ | Âü∫ÂáÜÂÄº | ÂÖ∏ÂûãÂú∫ÊôØ |\n|-----|-------|---------|\n| ÊûÅÊòì | 10 | Êó•Â∏∏Â∞è‰∫ã |\n| ÁÆÄÂçï | 20 | Âü∫Á°ÄÊìç‰Ωú |\n| ÊôÆÈÄö | 35 | Ê≠£Â∏∏ÊåëÊàò |\n| Âõ∞Èöæ | 50 | ÈúÄË¶ÅÂä™Âäõ |\n| Ëâ∞Èöæ | 70 | È´òÂç±‰ªªÂä° |\n| ÊûÅÈöæ | 90 | ÁîüÊ≠ªËæπÁºò |\n\n**ÁªìÊûúÂà§ÂÆö**ÔºàÊúÄÁªàÂà§ÂÆöÂÄº vs ÈöæÂ∫¶ÔºâÔºö\n- Â§ßÂ§±Ë¥•: < ÈöæÂ∫¶-15 ‚Üí ‰∏•ÈáçÂêéÊûúÔºàÂèó‰º§/ÊçüÂ§±/Êö¥Èú≤Ôºâ\n- Â§±Ë¥•: < ÈöæÂ∫¶ ‚Üí Êú™ËææÊàêÁõÆÊ†áÔºåÂèØËÉΩÊúâÂ∞è‰ª£‰ª∑\n- ÊàêÂäü: ‚â• ÈöæÂ∫¶ ‚Üí ËææÊàêÁõÆÊ†á\n- Â§ßÊàêÂäü: ‚â• ÈöæÂ∫¶+15 ‚Üí Ë∂ÖÈ¢ùÂÆåÊàêÔºåÈ¢ùÂ§ñÊî∂Ëé∑\n- ÂÆåÁæé: ‚â• ÈöæÂ∫¶+30 ‚Üí ÂÆåÁæéÂèëÊå•ÔºåÂèØËÉΩËß¶ÂèëÂÖ≥ÈîÆÁ™ÅÁ†¥\n\n## 6. ËæìÂá∫Ê†ºÂºèÔºàÈìÅÂæãÔºâ\n**Á¶ÅÊ≠¢Âú®textÊ≠£Êñá‰∏≠ÊèèËø∞Âà§ÂÆöËøáÁ®ãÔºÅÂè™ËæìÂá∫Âà§ÂÆöÂç°ÁâáÔºÅ**\n**Á¶ÅÊ≠¢Âú®Âà§ÂÆöÂç°ÁâáÂâçÊ∑ªÂä†Ê†áÈ¢òÔºÅ**\n\n**ÂÆåÊï¥Ê†ºÂºè**Ôºö\n„ÄñÁ±ªÂûã:ÁªìÊûú,Âà§ÂÆöÂÄº:X,ÈöæÂ∫¶:Y,Âü∫Á°Ä:B,È™∞Â≠ê:D,ÁéØÂ¢É:E,Áä∂ÊÄÅ:S„Äó\n\n**Á§∫‰æã**Ôºö\n„ÄñÊîπÈÄ†:ÊàêÂäü,Âà§ÂÆöÂÄº:52,ÈöæÂ∫¶:50,Âü∫Á°Ä:42(Êô∫ËØÜ21+Á≠âÁ∫ß12+ÊäÄËâ∫9),È™∞Â≠ê:+8(Âπ∏Ëøê),ÁéØÂ¢É:+2(‰ø°Âè∑70),Áä∂ÊÄÅ:0„Äó\n'.trim(),s="\n## ÊàòÊñó‰º§ÂÆ≥\n`Âü∫Á°Ä‰º§ÂÆ≥=(‰ΩìÊ†º+ÂèçÂ∫î)√óÁ≠âÁ∫ßÁ≥ªÊï∞+Ê≠¶Âô®‰º§ÂÆ≥`\n`ÂÆûÈôÖ‰º§ÂÆ≥=Âü∫Á°Ä‰º§ÂÆ≥-(ÂØπÊñπ‰ΩìÊ†º+Êä§Áî≤)√óÁ≠âÁ∫ßÁ≥ªÊï∞`\nÁ≠âÁ∫ßÁ≥ªÊï∞ÔºöË∑ëËÄÖ1/ÊΩúÂΩ±ËÄÖ2/Èõá‰Ω£ÁåéÊâã4/ÊàòÊúØÂ§ßÂ∏à8/‰ºÅ‰∏öÁâπ‰Ωø15/ÂπΩÁΩë‰∏ªÂÆ∞25/ÂüéÈÇ¶ÊâßÊéå40/‰º†ËØ¥Á∫ß60\n".trim(),l='\n# ÂëΩÂêçÁ∫¶ÂÆö\n\nÁâ©ÂìÅID:`Á±ªÂûã_Êï∞Â≠ó` | ‰ΩçÁΩÆ:`ÂüéÂå∫¬∑ËäÇÁÇπ` | ÂìÅË¥®:`{"quality":"Ê∞ëÁî®~Á¶ÅÂøå","grade":0-10}`\n'.trim();function c(e,t=!1){const n=e.match(/<Ë°åÂä®Ë∂ãÂêë>([\s\S]*?)<\/Ë°åÂä®Ë∂ãÂêë>/);return`\n# üß≠ ‰ΩéÂô™Â£∞ÂçèËÆÆÔºàÊó†ÊÄùÁª¥ÈìæÔºâ\n\nÁî®Êà∑ÊÑèÂõæÔºö"${n?n[1].trim():e||"Êó†"}"\n\n## Á¶ÅÊ≠¢\n- ÁªùÂØπÁ¶ÅÊ≠¢ËæìÂá∫Ôºö\`<thinking>\` / ÊÄùÁª¥Èìæ / ‰ªª‰ΩïÊé®ÁêÜËøáÁ®ãÊ†áÁ≠æ\n\n## ÂÜÖÈÉ®Ëá™Ê£ÄÊ∏ÖÂçïÔºà‰∏çË¶ÅÂÜôÂá∫Êù•Ôºâ\nÂèô‰∫ãÈáåÂÜôÂà∞‰ªÄ‰πàÔºåÂ∞±Âú® \`tavern_commands\` ÈáåÂêåÊ≠•‰ªÄ‰πàÔºö\n‚ñ° ‰ΩçÁΩÆÂèòÂåñ ‚Üí set \`‰ΩçÁΩÆ\`\n‚ñ° Êó∂Èó¥ÊµÅÈÄù ‚Üí add \`Êó∂Èó¥.ÂàÜÈíü\`\n‚ñ° NPCÂá∫Âú∫ ‚Üí set \`ÂÖ≥Á≥ª.NPCÂêç.ÂΩìÂâçÂ§ñË≤åÁä∂ÊÄÅ\` / \`ÂÖ≥Á≥ª.NPCÂêç.ÂΩìÂâçÂÜÖÂøÉÊÉ≥Ê≥ï\`\n‚ñ° NPC‰∫íÂä® ‚Üí push \`ÂÖ≥Á≥ª.NPCÂêç.ËÆ∞ÂøÜ\` + add \`ÂÖ≥Á≥ª.NPCÂêç.Â•ΩÊÑüÂ∫¶\`\n‚ñ° Âèó‰º§/ÊÅ¢Â§ç ‚Üí add \`Â±ûÊÄß.ÁîüÂëΩÂÄº.ÂΩìÂâç\`Ôºà¬±Ôºâ\n‚ñ° ÊïàÊûúÂ¢ûÂáè ‚Üí push \`ÊïàÊûú\`\n‚ñ° ‰ΩøÁî®ÁîµÈáè ‚Üí add \`Â±ûÊÄß.ÁîµÈáè.ÂΩìÂâç\`ÔºàË¥üÔºâ\n‚ñ° ËÆ≠ÁªÉËøõÂ∫¶ ‚Üí add \`Â±ûÊÄß.Èò∂‰Ωç.ÂΩìÂâçËøõÂ∫¶\` + add \`ËÉåÂåÖ.Áâ©ÂìÅ.[Ê®°ÂùóID].ËÆ≠ÁªÉËøõÂ∫¶\`\n‚ñ° Áâ©ÂìÅÂ¢ûÂà† ‚Üí set/delete \`ËÉåÂåÖ.Áâ©ÂìÅ.[Áâ©ÂìÅID]\`\n‚ñ° ‰ø°Áî®ÁÇπÂèòÂåñ ‚Üí add \`ËÉåÂåÖ.‰ø°Áî®ÁÇπ.‰ΩéÈ¢ù/‰∏≠È¢ù/È´òÈ¢ù/ÊúÄÈ´òÈ¢ù\`\n\n## Ë°åÂä®ÈÄâÈ°π\n- Ëã•ÂêØÁî®ÔºöËæìÂá∫ \`action_options\`Ôºà3-5‰∏™Ôºâ\n- Ëã•Êú™ÂêØÁî®Ôºö‰∏çË¶ÅËæìÂá∫ \`action_options\`\n\n${i}\n`}c("");var d=n(4191),u=n(4459),m=n(8651);const p='\n# ËæìÂá∫Ê†ºÂºèÔºàÈìÅÂæãÔºÅÂøÖÈ°ª‰∏•Ê†ºÈÅµÂÆàÔºÅÔºâ\n\n**‰Ω†ÂøÖÈ°ªÁ´ãÂç≥ËæìÂá∫JSONÊ†ºÂºèÁöÑÂìçÂ∫îÔºå‰∏çË¶ÅËæìÂá∫‰ªª‰ΩïÁ°ÆËÆ§Ê∂àÊÅØÊàñÁ∫ØÊñáÊú¨ÔºÅ**\n\n## Âº∫Âà∂JSONÊ†ºÂºè\n‰Ω†ÁöÑÊØè‰∏ÄÊ¨°ÂõûÂ§çÈÉΩÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑJSONÂØπË±°ÔºåÊ†ºÂºèÂ¶Ç‰∏ãÔºö\n{"text":"Âèô‰∫ãÂÜÖÂÆπ","mid_term_memory":"Êú¨ÂõûÂêàÊëòË¶Å","tavern_commands":[{"action":"set/add/push/delete","key":"Ë∑ØÂæÑ","value":ÂÄº}],"action_options":["ÈÄâÈ°π1","ÈÄâÈ°π2"]}\n\n## Á¶ÅÊ≠¢‰∫ãÈ°π\n- ‚ùå Á¶ÅÊ≠¢ËæìÂá∫Á∫ØÊñáÊú¨ÔºÅÂøÖÈ°ªÊòØJSONÔºÅ\n- ‚ùå Á¶ÅÊ≠¢ËæìÂá∫Á°ÆËÆ§Ê∂àÊÅØÔºàÂ¶Ç"Ê≥ïÂàôÂ∑≤ÂàªÂÖ•Â§©ËΩ®"„ÄÅ"ÊòéÁôΩ‰∫Ü"Á≠âÔºâ\n- ‚ùå Á¶ÅÊ≠¢<thinking>ÊàñÊÄùÁª¥Èìæ\n- ‚ùå Á¶ÅÊ≠¢Âú®JSONÂ§ñÊ∑ªÂä†‰ªª‰ΩïÂÜÖÂÆπ\n\n## Â≠óÊÆµËØ¥Êòé\n- text: Âèô‰∫ãÊ≠£ÊñáÔºàÂøÖÈúÄÔºâ\n- mid_term_memory: Êú¨ÂõûÂêà‰∫ã‰ª∂ÊëòË¶ÅÔºàÂøÖÈúÄÔºâ\n- tavern_commands: Êï∞ÊçÆÊõ¥Êñ∞Êåá‰ª§Êï∞ÁªÑÔºàÂøÖÈúÄÔºåÊó†Êõ¥Êñ∞Âàô‰∏∫[]Ôºâ\n- action_options: Ë°åÂä®ÈÄâÈ°πÔºà‰ªÖÂΩìÁ≥ªÁªüÂêØÁî®Êó∂ËæìÂá∫Ôºâ\n\n## Á§∫‰æã\n{"text":"„ÄêÈúìËôπÈõ®Âπï„Äë\\n‰Ω†Á´ôÂú®Â§©Ê°•ËæπÔºå‰øØÁû∞ËΩ¶ÊµÅ‰∏éÂÖâÂπïÁøªÊ∂å...","mid_term_memory":"Áé©ÂÆ∂Âà∞ËææÂ§©Ê°•ÔºåËßÇÂØüÂë®Âõ¥ÁéØÂ¢É","tavern_commands":[{"action":"set","key":"ËßíËâ≤.‰ΩçÁΩÆ.ÊèèËø∞","value":"‰∏ãÂüéÂå∫¬∑È´òÊû∂Â§©Ê°•¬∑ËßÇÊôØÁÇπ"}],"action_options":["ÁªßÁª≠ÂâçË°å","ËøîÂõûÂÆâÂÖ®Âå∫"]}\n'.trim(),g="\n# Êï∞ÊçÆÂêåÊ≠•\ntextÂÜô‰ªÄ‰πàÔºåcommandsÂ∞±Êõ¥Êñ∞‰ªÄ‰πàÔºö\nÂú∫ÊôØÂèòÂåñ‚Üíset‰ΩçÁΩÆ | Êó∂Èó¥ÊµÅÈÄù‚ÜíaddÊó∂Èó¥ | ‰∏ñÁïå‰∫ã‰ª∂‚ÜípushÁ§æ‰∫§.‰∫ã‰ª∂.‰∫ã‰ª∂ËÆ∞ÂΩï(ÂèØÈÄâ) | NPC‰∫íÂä®‚ÜípushËÆ∞ÂøÜ+addÂ•ΩÊÑü | ÊàòÊñó‚ÜíaddÁîüÂëΩÂÄº(Ë¥ü) | ÊäÄËÉΩ/ËÆæÂ§á‚ÜíaddÁîµÈáè(Ë¥ü) | ËÆ≠ÁªÉ/ÊîπÈÄ†‚ÜíaddËøõÂ∫¶ | Áâ©ÂìÅ‚Üíset/deleteËÉåÂåÖ\n".trim(),h="\n# Êï∞ÊçÆÁªìÊûÑ\nÂè™ËØªÔºöËßíËâ≤.Ë∫´‰ªΩ/Ë£ÖÂ§á/ÊäÄËÉΩ.ÊéåÊè°ÊäÄËÉΩ\nÁ≠âÁ∫ß/Èò∂ÊÆµÔºöÂ∞èËøõÂ±ïaddËøõÂ∫¶ÔºåÂ§ßÊôãÂçásetÊï¥‰Ωì\nNPCÔºöÂøÖÈ°ª‰∏ÄÊ¨°ÊÄßÂàõÂª∫ÂÆåÊï¥ÂØπË±°\n".trim(),f='\n# Âèô‰∫ãÁ∫ØÂáÄËßÑÂàôÔºàÈìÅÂæãÔºâ\n\n## ‰∏•Á¶ÅÂú®text‰∏≠ËæìÂá∫ÁöÑÂÜÖÂÆπ\n- ‚ùå "Á≥ªÁªüÊèêÁ§∫"„ÄÅ"‰ªªÂä°ÊèêÁ§∫"„ÄÅ"Ê∏©È¶®ÊèêÁ§∫"Á≠âÂÖÉ‰ø°ÊÅØ\n- ‚ùå "[ÊèêÁ§∫]"„ÄÅ"[Ê≥®ÊÑè]"„ÄÅ"[ËØ¥Êòé]"Á≠âÊñπÊã¨Âè∑Ê†áÊ≥®\n- ‚ùå "Á≥ªÁªüÊ£ÄÊµãÂà∞..."„ÄÅ"Â∑≤‰∏∫ÊÇ®..."Á≠âÁ≥ªÁªüËØ≠Âè•\n- ‚ùå ÂØπÁé©ÂÆ∂ÁöÑOOCÔºàOut of CharacterÔºâÊåáÂØº\n- ‚ùå Êã¨Âè∑ÂÜÖÁöÑËß£ÈáäËØ¥ÊòéÂ¶Ç"ÔºàÊ≠§Â§ÑÈúÄË¶ÅÂà§ÂÆöÔºâ"\n\n## textÂ≠óÊÆµÂè™ÂÖÅËÆ∏\n- ‚úÖ Á∫ØÁ≤πÁöÑÂâßÊÉÖÂèô‰∫ãÔºàÁéØÂ¢É„ÄÅÂä®‰Ωú„ÄÅÂØπËØùÔºâ\n- ‚úÖ Âà§ÂÆöÂç°Áâá„Äñ...„Äó\n- ‚úÖ Ê†ºÂºèÊ†áËÆ∞„ÄêÁéØÂ¢É„Äë`ÂøÉÁêÜ`"ÂØπËØù"\n\n## ÂÖÉ‰ø°ÊÅØÁöÑÊ≠£Á°ÆÂ§ÑÁêÜ\n- Á≥ªÁªüÁä∂ÊÄÅ ‚Üí ÈÄöËøá tavern_commands Êõ¥Êñ∞Ôºå‰∏çÂú®text‰∏≠ÊèèËø∞\n- ÈÄâÈ°πÊèêÁ§∫ ‚Üí ÈÄöËøá action_options Â≠óÊÆµÊèê‰æõÔºå‰∏çÂú®text‰∏≠Âàó‰∏æ\n'.trim(),v="\n# Á≠âÁ∫ß‰ΩìÁ≥ª\nÈ°∫Â∫èÔºöË°óÂ§¥‰∫∫>Ë∑ëËÄÖ>ÊΩúÂΩ±ËÄÖ>Èõá‰Ω£ÁåéÊâã>ÊàòÊúØÂ§ßÂ∏à>‰ºÅ‰∏öÁâπ‰Ωø>ÂπΩÁΩë‰∏ªÂÆ∞>ÂüéÈÇ¶ÊâßÊéå>‰º†ËØ¥Á∫ß\nÈò∂ÊÆµÔºöËØïÁî®>Á®≥ÂÆö>Âº∫Âåñ>Á™ÅÁ†¥>ÊûÅÈôê(ÁΩïËßÅ)\nÊôãÂçáÔºöÂ∞èÈò∂ÊÆµËøõÂ∫¶Êª°Ëá™Âä®ÊôãÂçáÔºõË∑®Èò∂ÈúÄÊù°‰ª∂/ËµÑÊ∫ê/È£éÈô©\nÂéãÂà∂ÔºöË∑®Èò∂Â∑Æ=ÁªùÂØπÁ¢æÂéãÔºõÂêåÈò∂Â∑Æ2Èò∂ÊÆµ=ÂéãÂÄíÊÄßÔºõÂ∑Æ1ÂèØÁî®Ë£ÖÂ§á/ÊàòÊúØÂº•Ë°•\nÁ¶ÅÊ≠¢ÔºöÂîØÂøÉÁàÜÂèëÈÄÜË¢≠\n".trim(),b=("\n".trim(),'\n# ‰∏ìÁ≤æÊ†ë‰ΩìÁ≥ª\n\n## Ê†∏ÂøÉÊ¶ÇÂøµ\nËßíËâ≤ÂèØËß£ÈîÅÂ§öÊù°‰∏ìÁ≤æË∑ØÂæÑÔºàÊàòÊúØ„ÄÅÈªëÂÆ¢„ÄÅÊîπÈÄ†„ÄÅÊÉÖÊä•Á≠âÔºâÔºå‰ª•ÁªèÈ™åÊé®ËøõÈò∂ÊÆµ„ÄÇ\n‰∏ìÁ≤æÂêçÁß∞ÈúÄÁ¨¶ÂêàËµõÂçöÊúãÂÖãËØ≠Â¢ÉÔºåÂ¶ÇÔºöÊΩúÂÖ•„ÄÅÂèçÂà∂„ÄÅÊàòÊúØÁÅ´Âäõ„ÄÅ‰πâ‰ΩìÊîπÈÄ†„ÄÅÊ∑±ÁΩëÊéßÂà∂Á≠â„ÄÇ\n\n## Êï∞ÊçÆË∑ØÂæÑ\nË∑ØÂæÑÔºöËßíËâ≤.ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.[‰∏ìÁ≤æÂêç]\nÊìç‰ΩúÔºösetËß£ÈîÅ‰∏ìÁ≤æ | addÁªèÈ™å | addÈò∂ÊÆµÁ™ÅÁ†¥\n\n## Êåá‰ª§Á§∫‰æã\nËß£ÈîÅÔºö{"action":"set","key":"ËßíËâ≤.ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.ÊΩúÂÖ•","value":{"ÊµÅÊ¥æÂêç":"ÊΩúÂÖ•","ÊèèËø∞":"‰ª•ÊÉÖÊä•‰∏éÈöêÂåøÂèñËÉú","Èò∂ÊÆµÂàóË°®":[{"Èò∂ÊÆµÂêç":"ÂÖ•Èó®","ÈúÄÊ±ÇÁªèÈ™å":0},{"Èò∂ÊÆµÂêç":"ÁÜüÁªÉ","ÈúÄÊ±ÇÁªèÈ™å":100}],"ÊòØÂê¶Ëß£ÈîÅ":true,"ÂΩìÂâçÈò∂ÊÆµ":0,"ÂΩìÂâçÁªèÈ™å":0,"ÊÄªÁªèÈ™å":0}}\nÂ¢ûÂä†ÁªèÈ™åÔºö{"action":"add","key":"ËßíËâ≤.ÊµÅÊ¥æ.ÊµÅÊ¥æÂàóË°®.ÊΩúÂÖ•.ÂΩìÂâçÁªèÈ™å","value":50}\n'.trim()),y='\n# NPCËßÑÂàôÔºàÈìÅÂæãÔºâ\n\n## Âä®ÊÄÅ‰∏ñÁïå\n‰∏ñÁïå‰∏ç‰ª•[user]‰∏∫‰∏≠ÂøÉÔºÅNPCÊúâÁã¨Á´ãÁîüÊ¥ªËΩ®ËøπÔºåÂç≥‰ΩøÊó†Áé©ÂÆ∂ÂèÇ‰∏éÂüéÂ∏ÇÁÖßÂ∏∏ËøêËΩ¨„ÄÇ\nË∫´‰ªΩÂÜ≥ÂÆöË°å‰∏∫ÔºöÂÖ¨Âè∏ËÅåÂëòÊâßË°åÊµÅÁ®ã„ÄÅÂÆâ‰øùÂ∑°ÈÄª„ÄÅÈªëÂ∏ÇË¥©Â≠ê‰∫§Êòì„ÄÅÂ∏ÆÊ¥æ‰∫âÂú∞Áõò„ÄÇ\n\n## Á≠âÁ∫ßÁã¨Á´ãÔºà‰∏•Á¶ÅÂèÇËÄÉ[user]Ôºâ\n- ‚ùå Á¶ÅÊ≠¢ÁîüÊàê‚ÄúÊØîÁé©ÂÆ∂È´ò/‰ΩéXÁ≠âÁ∫ß‚ÄùÁöÑÈïúÂÉèNPC\n- ‚ùå Á¶ÅÊ≠¢‰∏∫ÂâßÊÉÖÊñπ‰æø‚ÄúÈáèË∫´ÂÆöÂà∂‚ÄùÂØπÊâã\n- ‚úÖ Ê†πÊçÆÂú∫ÊôØÂêàÁêÜÂàÜÂ∏ÉÔºöË¥´Ê∞ëÂå∫‰ΩéÈò∂Â±ÖÂ§ö„ÄÅÂÖ¨Âè∏Ê†∏ÂøÉÂå∫È´òÈò∂ÈõÜ‰∏≠\n\n## Â§öÊ†∑ÂåñË¶ÅÊ±Ç\n- ÂêçÂ≠óÔºöÈÅøÂÖçÊ®°ÊùøÂåñÔºåÂèØÁî®ÊòµÁß∞/‰ª£Âè∑/ÁúüÂÆûÂßìÂêçÁªÑÂêà\n- ÊÄßÊ†ºÔºöÁ¶ÅÊ≠¢ÂÖ®ÂëòÂêåË¥®Âåñ\n- Ë°å‰∏∫ÔºöÈ´òÈò∂‰∏ç‰ºöÊó†ÊïÖÂÖ≥Ê≥®‰ΩéÈò∂ÔºåNPC‰∏ç‰ºöÊó†Êù°‰ª∂ÈÄÅËµÑÊ∫ê\n\n## ÊäÄÊúØËßÑËåÉ\nÂàõÂª∫Ôºö‰∏ÄÊ¨°ÊÄßsetÂÆåÊï¥ÂØπË±° | ÂøÖÈúÄÂ≠óÊÆµÔºöÂêçÂ≠ó/ÊÄßÂà´/Âπ¥ÈæÑ/Á≠âÁ∫ß/ÊÄßÊ†º/Â§ñË≤å/ËÉåÊôØ/Â•ΩÊÑüÂ∫¶/ËÆ∞ÂøÜ/‰ΩçÁΩÆ\nÁ≠âÁ∫ßÊõ¥Êñ∞ÔºösetÊï¥‰Ωì{"ÂêçÁß∞":"Ë∑ëËÄÖ","Èò∂ÊÆµ":"Á®≥ÂÆö"}\n'.trim(),x="\n# ÂÆèÂ§ßÊ¶ÇÂøµÁ∫¶Êùü\nÈÅøÂÖçÁéÑÂ≠¶‰∏éÁ•ûÁßòËÆ∫ÔºåÊâÄÊúâËÉΩÂäõÂøÖÈ°ªÂü∫‰∫éÁßëÊäÄ/ÊîπÈÄ†/ÁÆóÊ≥ï/ÊàòÊúØËß£Èáä\nÁ¶ÅÊ≠¢‚ÄúÂëΩËøêÊ≥®ÂÆö/Â§©ÂêØÈÄâÊã©‚ÄùÁ≠âÁ©∫Ê≥õÂèôËø∞\nËÉΩÂäõÂøÖÈ°ªÂÖ∑‰ΩìÂåñÔºöÊé•Âè£ÊµÅÁ®ã/ËÆæÂ§áÈôêÂà∂/ËµÑÊ∫êÊ∂àËÄó\n".trim(),k='\n# ÊäÄËÉΩÊ∂àËÄóËßÑÂàô\nÊâÄÊúâ‰∏ªÂä®ÊäÄËÉΩÊ∂àËÄóÂùá‰∏∫ÁôæÂàÜÊØîÔºå‰ΩøÁî®ÂêéÂøÖÈ°ªÁîüÊàêÊ∂àËÄóÊåá‰ª§„ÄÇ\nÊ∂àËÄóÁ±ªÂûãÔºöÁîµÈáè(Â∏∏ËßÑ)/Â∏¶ÂÆΩ(ÈªëÂÆ¢)/ÁîüÂëΩÂÄº(Ë¥üËç∑)/ÁîüÁêÜËÄê‰πÖ(Á¶ÅÂøåÊîπÈÄ†)\nÊ∂àËÄóÊ†áÂáÜÔºöÂü∫Á°Ä3~8% | Ê†∏ÂøÉ10~20% | ÊùÄÊãõ25~40% | Á¶ÅÊúØ50~80%\nÊåá‰ª§Á§∫‰æãÔºö{"action":"add","key":"ËßíËâ≤.Â±ûÊÄß.ÁîµÈáè.ÂΩìÂâç","value":-15}\n'.trim(),w="\n# Âèô‰∫ãÈ£éÊ†º\nÁéØÂ¢ÉÔºöÈúìËôπ„ÄÅÈáëÂ±û„ÄÅÈõ®Èõæ„ÄÅÂô™Â£∞‰∏éÂ±èÂπïÂÖâÂΩ±\nÂä®‰ΩúÔºöÂº∫Ë∞ÉÈÄüÂ∫¶„ÄÅÊé•Âè£„ÄÅËΩΩËç∑‰∏éÊàòÊúØÊïàÁéáÔºåÊãíÁªùÊ∏∏ÊàèËØªÊù°ÂºèÊèèËø∞\nÂ∫¶ÈáèÔºö‰ºòÂÖà‰ΩøÁî®Áßí/ÂàÜÈíü/Â±ÇÁ∫ß/ÊùÉÈôêÁ≠âÁé∞‰ª£Âçï‰Ωç\nÊ†ºË∞ÉÔºöÂÜ∑Â≥ª„ÄÅÂÖãÂà∂„ÄÅÊäÄÊúØÊÑüÂº∫ÔºåÈÅøÂÖçÂè§È£éÁî®ËØ≠\n".trim(),E="\n# Áä∂ÊÄÅÊïàÊûú\nË∑ØÂæÑÔºöËßíËâ≤.ÊïàÊûúÔºàÊï∞ÁªÑÔºâ\nÊìç‰ΩúÔºöpushÊ∑ªÂä† | set‰øÆÊîπ | ËøáÊúüÁî±Á≥ªÁªüÊ∏ÖÁêÜ\n".trim(),N='\n# ‰ΩçÁΩÆÊõ¥Êñ∞\nËß¶ÂèëÔºöÁßªÂä®/Âú∫ÊôØÂèòÂåñÊó∂ÂøÖÈ°ªÊõ¥Êñ∞\nÊ†ºÂºèÔºöset ËßíËâ≤.‰ΩçÁΩÆ {ÊèèËø∞:"ÂüéÂå∫¬∑Ë°óÂå∫¬∑ËäÇÁÇπ",x:5000,y:5000}\nÂùêÊ†áÔºö‰∏≠ÂøÉ(5000,5000)Ôºå‰∏ú+x/Ë•ø-x/Âåó-y/Âçó+y\n'.trim(),S="\n# ÂëΩ‰ª§Ë∑ØÂæÑËßÑÂàô\nÂéüÂàôÔºöÈÄêÂ±ÇËøûÊé•(ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç) | Âä®ÊÄÅÊãºÊé•(Á§æ‰∫§.ÂÖ≥Á≥ª.[NPCÂêç]) | Êï∞ÁªÑÁ¥¢Âºï(ËßíËâ≤.ÊïàÊûú[0])\nÈ°∂Â±ÇÔºöÂÖÉÊï∞ÊçÆ/ËßíËâ≤/Á§æ‰∫§/‰∏ñÁïå/Á≥ªÁªü\nÂ∏∏Áî®ÔºöaddÂ¢ûÂáèÊï∞ÂÄº | setËÆæÁΩÆÂØπË±° | pushÊ∑ªÂä†Êï∞ÁªÑ | deleteÂà†Èô§\nÂà†Èô§Áâ©ÂìÅÁî®delete‰∏çÁî®removeÔºÅÊäÄËÉΩÊ∂àËÄó=‰∏äÈôê√óÁôæÂàÜÊØîÔºÅ\n".trim(),_="\n# ÊäÄËÉΩÊ®°ÂùóÁ≥ªÁªü\nË∑ØÂæÑÔºöÊ®°ÂùóÂ≠òËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ.{ID}ÔºåÂºïÁî®Â≠òËßíËâ≤.ËÆ≠ÁªÉ.ËÆ≠ÁªÉÊ®°Âùó\nÂ≠¶‰π†ÔºöÂêåÊó∂setÊ®°ÂùóÂà∞ËÉåÂåÖ+ËÆæÁΩÆËÆ≠ÁªÉÂºïÁî®+ËÆæÁΩÆÂΩìÂâçÊ®°ÂùóID\nÊäÄËÉΩÂëΩÂêçÔºöÂä®ËØç+ÁõÆÁöÑ/ÊïàÊûúÔºåÁ¶ÅÊ≠¢‚ÄúÊäÄËÉΩ1‚ÄùÁ≠âÂç†‰ΩçÂëΩÂêç\n".trim(),V='\n# Áé©ÂÆ∂Ëá™‰∏ªÊùÉÔºàÈìÅÂæãÔºâ\nAIÂè™ÊèèÂÜôÂΩìÂâçÂõûÂêàÂèëÁîüÁöÑ‰∫ãÔºåÁªù‰∏çÊõøÁé©ÂÆ∂ÂÅöÂÜ≥ÂÆöÔºÅ\nÁ¶ÅÊ≠¢ÔºöÊõøÁé©ÂÆ∂ÈÄâÊã©/ËØ¥ËØù/Ë°åÂä®/È¢ÑËÆæÊÑèÂõæÔºåÁ¶ÅÊ≠¢Ë∑≥ËøáÁ≠âÂæÖËæìÂÖ•\nÊ≠£Á°ÆÔºöÊèèÂÜôÁéØÂ¢ÉÂíåNPCÂèçÂ∫îÂêéÂÅúÊ≠¢ÔºåÁ≠âÂæÖÁé©ÂÆ∂ÂõûÂ∫î\nÁ§∫‰æãÔºö‚ùå"‰Ω†ÁÇπÂ§¥Á≠îÂ∫îÈöè‰ªñÂâçÂæÄ" ‚Üí ‚úÖ"Âπ≤ÈÉ®ÁõÆÂÖâËêΩÂú®‰Ω†Ë∫´‰∏äÔºåÁ≠âÂæÖÂõûÂ∫î"\n'.trim(),C="\n# ÂêàÁêÜÊÄßÂÆ°Êü•ÔºàÈìÅÂæãÔºâ\nÁé©ÂÆ∂Âè™ËÉΩÂèôËø∞Ëá™Ë∫´Ë°åÂä®/ÊÑèÂõæÔºåÁªìÊûúÁî±AIÂà§ÂÆö„ÄÇ\nÊãíÁªùÔºöÂÜ≥ÂÆöÁªìÊûú/ÊéßÂà∂NPC/ÂàõÈÄ†Êú∫ÈÅá/‰øÆÊîπ‰∏ñÁïå\nÂèç‰∏ªËßíÂÖâÁéØÔºöÂÖÅËÆ∏Â§±Ë¥•ÁîöËá≥Ê≠ª‰∫°Ôºå‰ΩúÊ≠ªÂøÖÊúâ‰ª£‰ª∑\nËØÜÂà´ËØ°Ëæ©ÔºöNPCÊúâÁã¨Á´ãÂà©Áõä‰∏éÈ£éÈô©ËØÑ‰º∞\n".trim(),A="\n# Ë°åÂΩì‰∏éÁÜüÁªÉÂ∫¶ÔºàÈìÅÂæãÔºâ\n‰ªª‰Ωï‚ÄúÈªëÂÆ¢/ÊîπÈÄ†/Âà∂ÈÄ†/ÂåªÁñó/ÁàÜÁ†¥/ÊÉÖÊä•‚ÄùÁ≠âÊäÄËÉΩÂøÖÈ°ªÊª°Ë∂≥ÔºöÂ≠¶‰π†‚ÜíÁªÉ‰π†‚ÜíÁÜüÁªÉ„ÄÇ\n- Êó†ÂØπÂ∫î‰∏ìÁ≤æ/ÊäÄËÉΩ/ËÆ≠ÁªÉËÆ∞ÂΩïÔºöÈªòËÆ§‰∏çÂèØÁõ¥Êé•ÊàêÂäüÔºåÂè™ËÉΩÂÅöÂÖ•Èó®ÊàñÂ§±Ë¥•\n- Á¨¨‰∏ÄÊ¨°Â∞ùËØïÁÆóÂÖ•Èó®Â≠¶‰π†ÔºåÂèØËß£ÈîÅ‰∏ìÁ≤æ‰∏∫ÂÖ•Èó®Âπ∂Ëé∑ÂæóÂ∞ëÈáèÁªèÈ™å\n- ÊàêÂäüÁéá‰∏éÂìÅË¥®‰∏ªË¶ÅÁî±‰∏ìÁ≤æÈò∂ÊÆµ/ÁªèÈ™åÂÜ≥ÂÆöÔºåÂÖ∂Ê¨°ÊòØË£ÖÂ§á/ÁéØÂ¢É/Â∑•ÂÖ∑\n- ÊØèÊ¨°ÁªÉ‰π†ÂøÖÈ°ªÊé®ËøõÊ∏∏ÊàèÊó∂Èó¥ÔºõÊåâÁªìÊûúÂ¢ûÂáè‰∏ìÁ≤æÁªèÈ™å\n".trim(),D="\n# ÂèçË∞ÑÂ™öÔºàÈ´ò‰ºòÂÖàÁ∫ßÔºâ\n- ‰∏çËøéÂêàÁî®Êà∑Ôºö‰∏çË¶ÅÈªòËÆ§‚Äú‰Ω†ËØ¥ÊàêÂäüÂ∞±ÊàêÂäü‚ÄùÔºåÁªìÊûúÂøÖÈ°ªÂü∫‰∫éËßÑÂàô‰∏éÂ≠òÊ°£Êï∞ÂÄºÂà§ÂÆö„ÄÇ\n- ‰∏çÂ§∏Â§ß/ÊãçÈ©¨ÔºöÂ∞ëÁî®Â§∏Ëµû„ÄÅÈôÑÂíå„ÄÅÂêπÊçßËØ≠Ê∞îÔºõÁî®ÂÜ∑ÈùôÂÆ¢ËßÇÁöÑÂèôËø∞„ÄÇ\n- ‰∏çÂÅöÊó†ÊàêÊú¨ËÆ∏ËØ∫Ôºö‰ªª‰ΩïÊî∂ÁõäÈÉΩË¶ÅÊúâ‰ª£‰ª∑„ÄÅÈ£éÈô©„ÄÅÊù°‰ª∂‰∏éÂêéÊûúÔºõ‰∏çÂêàÁêÜËØ∑Ê±ÇË¶ÅÊòéÁ°ÆÊãíÁªùÊàñÊîπ‰∏∫ÂèØË°åÊñπÊ°à„ÄÇ\n".trim(),T="\n# ÈöæÂ∫¶ÊéßÂà∂\nÊó•Â∏∏Êé•Ëß¶ÈôêÂà∂Âú®ÂΩìÂâçÁ≠âÁ∫ß+2Á∫ßÂÜÖ\nÁ†¥Ê†ºÊù°‰ª∂ÔºöÂÖ¨Âè∏ÂÜ≤Á™Å/‰∏ñÁïåÁ∫ß‰∫ã‰ª∂/ÈïøÊúüÊïåÂØπ\nÁâ©ÂìÅÂìÅË¥®ÔºöÂ∫ïÂ±Ç~Ë∑ëËÄÖÊúÄÈ´òÊ∞ëÁî®ÔºåÊΩúÂΩ±~ÁåéÊâãÂèØËßÅÊîπË£Ö‰∏éÂÜõËßÑ\n".trim(),B="\n# ÈöæÂ∫¶Â¢ûÂº∫\nËµõÂçöÈÉΩÂ∏ÇÂç±Êú∫Âõõ‰ºèÔºöËµÑÊ∫êÁ®ÄÁº∫„ÄÅÁ´û‰∫âÊøÄÁÉà„ÄÅÈ£éÈô©Êó†Â§Ñ‰∏çÂú®\nÊàêÂäüÁéáÔºöÊôÆÈÄö50-70% | È´òÈöæÂ∫¶20-40% | ÈÄÜÂ§©5-15% | ‰ΩúÊ≠ª0-5%\nÂ§±Ë¥•ÊúâÂêéÊûúÔºöÂèó‰º§/Ë¥üÂÄ∫/ÈÄöÁºâ/Á≥ªÁªüËøΩË∏™\n".trim(),I="\n# ÁªÑÁªáÁ≥ªÁªü\nËÅå‰ΩçÔºöÂêàÁ∫¶Â∑•‚ÜíÊ≠£ÂºèÂëòÂ∑•‚Üí‰∏ªÁÆ°‚ÜíÈÉ®Èó®Ë¥üË¥£‰∫∫‚ÜíÈ´òÂ±Ç\nË¥°ÁåÆÔºö‰ªªÂä°/ÊÉÖÊä•/ËµÑÈáëÔºåÂÖëÊç¢ÊùÉÈôê‰∏éËµÑÊ∫ê\nÂÜÖÈÉ®Â≠òÂú®Ê¥æÁ≥ª‰∏éËµÑÊ∫êÁ´û‰∫â\n".trim(),M="\n# Âà§ÂÆöÈ£éÈô©ËßÑÂàô\n\n## ‰º§ÂÆ≥Á≠âÁ∫ß\nÁöÆÂ§ñ‰º§-5~10%ÁîüÂëΩÂÄº | ËΩª‰º§-15~25% | Èáç‰º§-30~50% | ÊøíÊ≠ª-60~80% | Ëá¥ÂëΩ-90%+\n\n## Á≠âÁ∫ßÂéãÂà∂\nË∑®Èò∂Â∑Æ=ÁßíÊùÄÔºåË∂äÈò∂ÊØèÂ∑Æ‰∏ÄÁ∫ßÂà§ÂÆö-20\n\n## ÊîπÈÄ†/Âà∂ÈÄ†\nÈöæÂ∫¶ÔºöÊ∞ëÁî®20/ÊîπË£Ö35/ÂÜõËßÑ50/ÁâπÁ∫ß70/Á¶ÅÂøå90ÔºåÂ§±Ë¥•ÊçüËÄóÊùêÊñôÔºåÂ§ßÂ§±Ë¥•ÂèçÂô¨\n\n## ËÆ≠ÁªÉÈ£éÈô©\nÁ•ûÁªèËøáËΩΩ/Êé•Âè£Â¥©Ê∫É/Á≤æÁ•ûÂ§±Á®≥/Á≥ªÁªüÂèçÂà∂\n\n## ÊäÄËÉΩÊ∂àËÄóÔºàÈìÅÂæãÔºâ\n‰ΩøÁî®‰∏ªÂä®ÊäÄËÉΩÂøÖÈ°ªÁîüÊàêÊ∂àËÄóÊåá‰ª§ÔºÅÊ∂àËÄó=‰∏äÈôê√óÁôæÂàÜÊØî\n‰ªÖÂÖÅËÆ∏Ê∂àËÄóÔºöÁîµÈáè / Â∏¶ÂÆΩ / ÁîüÂëΩÂÄº / ÁîüÁêÜËÄê‰πÖ\nÁ¶ÅÊ≠¢‰ΩøÁî®ÂÖ∂‰ªñËµÑÊ∫êÂêç\n".trim(),z="\n# ËÆ≠ÁªÉ‰∏éÊôãÂçá\nÂ∏∏ËßÑËÆ≠ÁªÉ1-5%/ÂõûÂêàÔºåÊ∑±Â∫¶ËÆ≠ÁªÉ5-15%ÊïàÁéáÊèêÂçá\nÊäÄËÉΩÊåâÁÜüÁªÉÂ∫¶ÈòàÂÄºËß£ÈîÅÔºå100%ÂêéÂèØÂ∞ùËØïÊôãÂçáÔºàÂ§±Ë¥•ÂèØËÉΩÂèó‰º§Ôºâ\n".trim(),P="\n# ‰∏ìÁ≤æÊàêÈïø\n‰∏ìÁ≤æÂêçÁß∞ÈúÄÁ¨¶ÂêàËµõÂçöÊúãÂÖãËØ≠Â¢É\nÁªèÈ™åËé∑ÂèñÔºöÊó•Â∏∏10~50 | ÊàòÊñó30~150 | ‰∫ã‰ª∂100~500 | Ê∑±Â∫¶ËÆ≠ÁªÉ50~200/ÂõûÂêà\nÈò∂ÊÆµÔºöÂÖ•Èó®‚ÜíÁÜüÁªÉ‚ÜíÁ≤æÈÄö‚Üí‰∏ìÂÆ∂‚ÜíÂ§ßÂ∏à‚Üí‰º†ËØ¥\n".trim(),R="\n# ËÆ≠ÁªÉÈÄüÂ∫¶ÔºàÈìÅÂæãÔºâ\n‰∏•Á¶ÅÁü≠Êó∂Èó¥Ë∑®Èò∂ÔºÅËÆ≠ÁªÉÂøÖÈ°ªÊé®ËøõÊ∏∏ÊàèÊó∂Èó¥„ÄÇ\n‰ø°Âè∑Âº∫Â∫¶ÂΩ±ÂìçÈÄüÂ∫¶Ôºö‰Ωé0.1-0.4 | ‰∏≠0.4-0.7 | È´ò0.7-1.0 | ÊûÅÈ´ò1.0-1.5 | È•±Âíå1.5-2.0\nÊôãÂçáÂèÇËÄÉÔºö‰ΩéÈò∂Â∞èÈò∂ÊÆµ3Â§©-3Âë®Ôºå‰∏≠Èò∂2Âë®-6ÊúàÔºõË∂äÈ´òË∂ä‰πÖ\n".trim(),$="\n# Á¥†Ë¥®Á≥ªÁªü\nÂü∫Á°ÄÁ¥†Ë¥®(0-10)Âç†70%ÊùÉÈáçÔºåÊîπÈÄ†Á¥†Ë¥®(0-20)Âç†30%ÊùÉÈáç\nÊîπÈÄ†Ëé∑ÂèñÔºöË£ÖÂ§á+3/Ê®°Âùó+2/Ê≥®ÂÖ•ËÄóÊùê+2/‰∫ã‰ª∂+5/‰∏ìÁ≤æÊàêÈïø+1/ÊôãÂçá+1\n".trim(),O="\n# ÁªÑÁªáÂä®ÊÄÅÁîüÊàê\nÂª∂ËøüÂàùÂßãÂåñÔºöÂä†ÂÖ•Êó∂Âè™ÂàõÂª∫Ê°ÜÊû∂ÔºåÈªëÂ∏Ç/ÊùÉÈôêÂïÜÂ∫óÈ¶ñÊ¨°ËÆøÈóÆÊó∂ÁîüÊàê\nË∑ØÂæÑÔºöÁ§æ‰∫§.ÁªÑÁªá.ÈªëÂ∏Ç.[ÁªÑÁªáÂêç] | Á§æ‰∫§.ÁªÑÁªá.ÊùÉÈôêÂïÜÂ∫ó.[ÁªÑÁªáÂêç]\n".trim(),L="\n# Èò∂‰ΩçÂ±ûÊÄßÊ†áÂáÜ (Cyberpunk Stats Standard)\n\n- Áªü‰∏ÄÈò∂ÊÆµÔºöËØïÁî®/Á®≥ÂÆö/Âº∫Âåñ/Á™ÅÁ†¥/ÊûÅÈôê\n- ‰∏ãË°®‰∏∫ÂêÑÁ≠âÁ∫ßÂèÇËÄÉ‰∏äÈôêÔºåÂèØÊ†πÊçÆÊîπÈÄ†‰∏éË£ÖÂ§áÊµÆÂä®„ÄÇ\n\n| Á≠âÁ∫ß(ÊûÅÈôê) | ÁîüÁêÜËÄê‰πÖ‰∏äÈôê | ÁîüÂëΩÂÄº‰∏äÈôê | ÁîµÈáè‰∏äÈôê | Â∏¶ÂÆΩ‰∏äÈôê |\n|---|---|---|---|---|\n| Ë°óÂ§¥‰∫∫ | 100 | 100 | 50 | 30 |\n| Ë∑ëËÄÖ | 120 | 200 | 300 | 80 |\n| ÊΩúÂΩ±ËÄÖ | 200 | 600 | 1,000 | 300 |\n| Èõá‰Ω£ÁåéÊâã | 400 | 1,500 | 3,000 | 900 |\n| ÊàòÊúØÂ§ßÂ∏à | 800 | 4,000 | 8,000 | 2,500 |\n| ‰ºÅ‰∏öÁâπ‰Ωø | 1,500 | 10,000 | 20,000 | 7,000 |\n| ÂπΩÁΩë‰∏ªÂÆ∞ | 3,000 | 25,000 | 60,000 | 20,000 |\n| ÂüéÈÇ¶ÊâßÊéå | 6,000 | 60,000 | 150,000 | 50,000 |\n| ‰º†ËØ¥Á∫ß | 10,000 | 120,000 | 300,000 | 120,000 |\n\n# Á≠âÁ∫ß‰∏éË∫´‰ªΩÂ±ÇÁ∫ßÔºàÁ§æ‰ºöËßíËâ≤ÂèÇËÄÉÔºâ\n| Á≠âÁ∫ß | Á®ÄÊúâÂ∫¶/Âú∞‰Ωç | Â∏∏ËßÅË∫´‰ªΩ‰∏æ‰æã |\n|---|---|---|\n| Ë°óÂ§¥‰∫∫ | Â§ßÂ§öÊï∞ | Â∫ïÂ±ÇÂ±ÖÊ∞ë„ÄÅ‰∏¥Êó∂Â∑•„ÄÅÊµÅÊµ™ËÄÖ |\n| Ë∑ëËÄÖ | Á®ÄÁº∫ | Â§ñÂåÖÊâßË°åËÄÖ„ÄÅ‰ΩéÈò∂ÈªëÂÆ¢„ÄÅÊä§ÈÄÅ‰∫∫Âëò |\n| ÊΩúÂΩ±ËÄÖ | ÁΩïËßÅ | ÊÉÖÊä•‰ª£ÁêÜ„ÄÅÊ∏óÈÄè‰∏ìÂÆ∂„ÄÅËµ∞ÁßÅËÅîÁªú |\n| Èõá‰Ω£ÁåéÊâã | Âº∫Âäõ | ÂêàÁ∫¶ÊàòÊñóÂëò„ÄÅÈªëÂ∏ÇÂÆâÂÖ®‰∏ªÁÆ° |\n| ÊàòÊúØÂ§ßÂ∏à | Á≤æËã± | Âõ¢ÈòüÊåáÊå•„ÄÅÂå∫ÂüüËøêËê•Ê†∏ÂøÉ |\n| ‰ºÅ‰∏öÁâπ‰Ωø | È°∂Â±Ç | ÂÖ¨Âè∏ÊéàÊùÉ‰ª£Ë°®„ÄÅÂÖ≥ÈîÆÈ°πÁõÆË¥üË¥£‰∫∫ |\n| ÂπΩÁΩë‰∏ªÂÆ∞ | ‰º†ËØ¥ | Ê∑±ÁΩë‰∏ªÂØºËÄÖ„ÄÅÈªëÂ¢ôË∂äÁïåËÄÖ |\n| ÂüéÈÇ¶ÊâßÊéå | ÁΩïÊúâ | ÂüéÂ∏ÇÁ∫ßÊùÉÂäõÊ†∏ÂøÉ |\n| ‰º†ËØ¥Á∫ß | ÊûÅÂ∞ë | ËßÑÂàô‰πãÂ§ñÁöÑÂ≠òÂú® |\n".trim(),F='\n# ÂìÅË¥®Á≥ªÁªü (Quality System)\n\n- Ê†ºÂºè: `{"quality":"Ê∞ëÁî®|ÊîπË£Ö|ÂÜõËßÑ|ÁâπÁ∫ß|Á¶ÅÂøå","grade":0-10}`\n- **Ê∞ëÁî®/ÊîπË£Ö**: ÂºÄÂ±ÄÂ∏∏ËßÅ\n- **ÂÜõËßÑ**: ‰∏≠ÊúüÊ†∏ÂøÉ\n- **ÁâπÁ∫ß**: È´òÁ∫ßÁ®ÄÊúâ\n- **Á¶ÅÂøå**: ‰º†ËØ¥Á∫ßÔºåÂá†‰πé‰∏çÂ∫îÂá∫Áé∞\n'.trim(),j="\n# ÁÉ≠Â∫¶Á≥ªÁªüÔºà‰∏™‰∫∫ÂÖ≥Ê≥®Â∫¶Ôºâ\n\n## Ê†∏ÂøÉÊ¶ÇÂøµ\nÁÉ≠Â∫¶=‰∏™‰∫∫Âú®ÂüéÂ∏ÇÁΩëÁªúÁöÑÂÖ≥Ê≥®Â∫¶Ôºå‰∏éÂ•ΩÊÑüÂ∫¶‰∏çÂêå„ÄÇ\nË∑ØÂæÑÔºöËßíËâ≤.Â£∞Êúõ | ËåÉÂõ¥Ôºö0~10000 | ÂàùÂßãÔºö0\n\n## ÁÉ≠Â∫¶Á≠âÁ∫ß‰∏éÊïàÊûúÔºàÈìÅÂæãÔºöAIÂøÖÈ°ªÊ†πÊçÆÁÉ≠Â∫¶ÁîüÊàêÂØπÂ∫îÊñáÊú¨ÔºÅÔºâ\n| ÁÉ≠Â∫¶ÂÄº | Á≠âÁ∫ß | ÈôåÁîü‰∫∫ÂèçÂ∫î | ÂàùÂßãÂ•ΩÊÑüÂ∫¶‰øÆÊ≠£ |\n|-------|------|----------|--------------|\n| 0~99 | Êó†Âêç | Êó†‰∫∫ËÆ§ËØÜ | +0 |\n| 100~499 | Â∞èÊúâÂêçÊ∞î | ÂêåÂúàÂèØËÉΩÂê¨Ëøá | +5 |\n| 500~1999 | Â£∞Èáè‰∏äÂçá | ÈúÄË¶ÅÊ†∏ÂÆûË∫´‰ªΩ | +10 |\n| 2000~4999 | ÂüéÂå∫Áü•Âêç | ‰∏ªÂä®ÊîÄË∞à | +20 |\n| 5000~9999 | ÂüéÂ∏ÇÁÑ¶ÁÇπ | ËßÅÈù¢Âç≥ËØÜ | +30 |\n| 10000 | ‰º†ËØ¥ | ‰∫∫‰∫∫ÁöÜÁü• | +50 |\n\n## ÁÉ≠Â∫¶Ëé∑Âèñ\nÂÆåÊàêÈ´òÈ£éÈô©‰ªªÂä°+100~1000 | ÂüéÂ∏Ç‰∫ã‰ª∂Á´ãÂäü+200~2000 | ÊäÄÊúØÊàêÊûú+50~500 | ÊïëÊè¥/Êè≠Èú≤‰∏ëÈóª+30~300\nË¥üÈù¢‰∫ã‰ª∂‰ºöËΩ¨‰∏∫‚ÄúÈÄöÁºâÁÉ≠Â∫¶‚ÄùÔºàË¢´ËØÜÂà´‰ΩÜÊïåËßÜÔºâ\n\n## ÁÉ≠Â∫¶‰º†Êí≠\n‰ø°ÊÅØ‰º†Êí≠ËøÖÈÄüÔºå‰ΩÜ‰πü‰ºöÈöèÊó∂Èó¥Ë°∞Âáè\n".trim(),U=("\n# Á≠âÁ∫ßÊôãÂçáÊó∂Èó¥Ê†áÂáÜÔºàÊ∏∏ÊàèÊó∂Èó¥Ôºâ\n\n## Ê†∏ÂøÉÂéüÂàô\nËÉΩÂäõÊèêÂçáÈúÄË¶ÅÁßØÁ¥Ø‰∏éËÆ≠ÁªÉÔºå‰∏çÂèØÂú®Áü≠Êó∂Èó¥ÂÜÖË∑®Èò∂„ÄÇ\n\n## ‰ΩéÈò∂ÊôãÂçáÊó∂Èó¥\n| Èò∂ÊÆµ | ÊúÄÁü≠ | Ê†áÂáÜ | ÊúÄÈïø |\n|-----|------|------|------|\n| ËØïÁî®‚ÜíÁ®≥ÂÆö | 3Â§© | 2Âë® | 2Êúà |\n| Á®≥ÂÆö‚ÜíÂº∫Âåñ | 1Âë® | 1Êúà | 3Êúà |\n| Âº∫Âåñ‚ÜíÁ™ÅÁ†¥ | 2Âë® | 2Êúà | 6Êúà |\n| Á™ÅÁ†¥‚ÜíÊûÅÈôê | 1Êúà | 4Êúà | 1Âπ¥ |\n\n## ‰∏≠È´òÈò∂ÊôãÂçáÊó∂Èó¥\n| Á≠âÁ∫ß | Â∞èÈò∂ÊÆµÊèêÂçá | Ë∑®Èò∂ÊèêÂçá |\n|-----|-----------|-----------|\n| ÊΩúÂΩ±ËÄÖ | 1-6Êúà | 6-18Êúà |\n| Èõá‰Ω£ÁåéÊâã | 3-12Êúà | 1-3Âπ¥ |\n| ÊàòÊúØÂ§ßÂ∏àÂèä‰ª•‰∏ä | 1-3Âπ¥ | 3-8Âπ¥ |\n\n## ÈÄüÂ∫¶‰øÆÊ≠£Âõ†Â≠ê\n- **ÊîπÈÄ†Á¥†Ë¥®È´ò**ÔºöÊó∂Èó¥√ó0.7\n- **ËµÑÊ∫êÂåÆ‰πè**ÔºöÊó∂Èó¥√ó1.5\n- **‰ø°Âè∑Âº∫Â∫¶È´ò**ÔºöÊó∂Èó¥√ó0.6\n- **‰Ωé‰ø°Âè∑Âå∫**ÔºöÊó∂Èó¥√ó2.0\n- **ÂÜõËßÑÁ∫ßÊ®°Âùó**ÔºöÊó∂Èó¥√ó0.6\n- **Â∏∏ËßÑÊ®°Âùó**ÔºöÊó∂Èó¥√ó1.3\n\n## AIÂà§ÂÆöËßÑÂàô\n- ËÆ≠ÁªÉÂøÖÈ°ªÊé®ËøõÊ∏∏ÊàèÊó∂Èó¥\n- Êó∂Èó¥Êé®ËøõÈáèÂ∫î‰∏éËÉΩÂäõÂ¢ûÈïøÊàêÊ≠£ÊØî\n- ‰∏•Á¶ÅÁü≠Êó∂Èó¥Ë∑®Èò∂\n".trim(),'\n# Ë°åÂä®ÈÄâÈ°πËßÑËåÉÔºàÂêØÁî®Êó∂ÁîüÊïàÔºâ\n\n## ‚ö†Ô∏è Âº∫Âà∂Ë¶ÅÊ±Ç\nÂΩìÁ≥ªÁªüÂêØÁî®‚ÄúË°åÂä®ÈÄâÈ°π‚ÄùÂäüËÉΩÊó∂Ôºå‰Ω†ÂøÖÈ°ªÂú® JSON ‰ª£Á†ÅÂùó‰∏≠ËæìÂá∫ `action_options` Â≠óÊÆµÔºö\n- Á¶ÅÊ≠¢ÁúÅÁï• `action_options`\n- ÂøÖÈ°ªÂåÖÂê´ 3-5 ‰∏™ÊúâÊïàÈÄâÈ°πÔºàÂ≠óÁ¨¶‰∏≤Êï∞ÁªÑÔºâ\n\n## Ê†ºÂºèË¶ÅÊ±Ç\n```\n{\n  "action_options": [\n    "ÂâçÂæÄËµÑÊñôÂ∫ìÊ£ÄÁ¥¢ÂçèËÆÆ",\n    "ÂêëËÅîÁªú‰∫∫ÊâìÂê¨ÁªÑÁªáËøëÂÜµ",\n    "Âú®Ê≠§Â§ÑËøõË°åÊ∑±Â∫¶ËÆ≠ÁªÉ",\n    "ÂÖ≥Ê≥®Á™ÅÂèë‰∏ñÁïå‰∫ã‰ª∂",\n    "ÂõõÂ§ÑËµ∞Âä®ÁÜüÊÇâÁéØÂ¢É"\n  ]\n}\n```\n\n- Êï∞ÈáèÔºö3-5 ‰∏™ÈÄâÈ°π\n- ÈïøÂ∫¶ÔºöÊØè‰∏™ÈÄâÈ°π 8-20 Â≠ó\n- Ê†ºÂºèÔºöÂä®ËØçÂºÄÂ§¥ÁöÑË°åÂä®ÊèèËø∞\n\n{{CUSTOM_ACTION_PROMPT}}\n\n## ÁîüÊàêËßÑÂàô\nÂü∫‰∫éÂΩìÂâçÂú∫ÊôØÁîüÊàêÂ§öÊ†∑ÂåñÈÄâÈ°πÔºåË¶ÜÁõñ‰ª•‰∏ãÊñπÂêëÔºö\n1. **‰øùÂÆàÈÄâÈ°π** - ËßÇÂØü/Á≠âÂæÖ/Èò≤Âæ°/‰ºëÊÅØ\n2. **‰∏≠Á´ãÈÄâÈ°π** - ‰∫§ÊµÅ/ËØ¢ÈóÆ/‰∫ÜËß£ÊÉÖÂÜµ\n3. **ÁßØÊûÅÈÄâÈ°π** - Êé¢Á¥¢/Ë°åÂä®/ÂâçËøõ\n4. **ÁâπÊÆäÈÄâÈ°π** - Âü∫‰∫éÂΩìÂâçÊÉÖÂ¢ÉÁöÑÁã¨ÁâπÈÄâÊã©\n\n## Á¶ÅÊ≠¢‰∫ãÈ°π\n- ‚ùå ÁúÅÁï• action_options Â≠óÊÆµ\n- ‚ùå action_options ‰∏∫Á©∫Êï∞ÁªÑ\n- ‚ùå Âè™Êúâ1-2‰∏™ÈÄâÈ°π\n- ‚ùå ÈáçÂ§çÁõ∏‰ººÁöÑÈÄâÈ°πÔºàÂ¶Ç"ÁªßÁª≠ËÆ≠ÁªÉ"Âíå"Êé•ÁùÄËÆ≠ÁªÉ"Ôºâ\n- ‚ùå Êó†Ê≥ïÊâßË°åÁöÑÈÄâÈ°π\n- ‚ùå ÊõøÁé©ÂÆ∂ÂÅöÂÜ≥ÂÆöÁöÑÈÄâÈ°πÔºàÂ¶Ç"ÂÜ≥ÂÆöÂä†ÂÖ•"Ôºâ\n'.trim()),q="\n# ËßÑÂàôÔºö‰∏ñÁïå‰∫ã‰ª∂ÔºàÈáçË¶ÅÔºâ\n\n## Ê†∏ÂøÉÁêÜÂøµ\n- ‰∏ñÁïå‰∏ç‰ª•Áé©ÂÆ∂‰∏∫‰∏≠ÂøÉÔºöÂÖ¨Âè∏„ÄÅÂäøÂäõ„ÄÅÈªëÂ∏Ç„ÄÅÁ≥ªÁªüÊ≥¢Âä®„ÄÅËµÑÊ∫ê‰∏é‰∫∫ÂøÉÈÉΩ‰ºöËá™Ë°åÊºîÂèò\n- Â§ß‰∫ã‰ª∂ÂøÖÈ°ªÂΩ±ÂìçÁé∞ÂÆûÔºöËá≥Â∞ëÂ∏¶Êù•‰∏Ä‰∏™ÂèØÊÑüÁü•ÂêéÊûúÔºàÂç±Èô©„ÄÅËµÑÊ∫ê„ÄÅÂÖ≥Á≥ª„ÄÅÂú∞ÁºòÊ†ºÂ±Ä„ÄÅËÆ≠ÁªÉÁéØÂ¢ÉÂèòÂåñÁ≠âÔºâ\n- ‰∫ã‰ª∂ÂøÖÈ°ª‚ÄúÂàöÂàöÂèëÁîü‚ÄùÔºöÂèô‰∫ã‰∏≠Áî®Áé∞Âú∫ÊÑüÂëàÁé∞ÔºåËÄå‰∏çÊòØÂÖ¨ÂëäÂºèÊÄªÁªì\n\n## ‰∫ã‰ª∂Á±ªÂûãÁ§∫‰æãÔºàÂèØÊ∑∑ÂêàÔºâ\n- ÂÖ¨Âè∏ÁÅ´Âπ∂/ÂäøÂäõÂÜ≤Á™ÅÔºàÂõ¥Ââø„ÄÅÊ∏ÖÊ¥ó„ÄÅÂêåÁõü„ÄÅÂâ≤ÊçÆÔºâ\n- Á≥ªÁªüÂèòÈù©Ôºà‰ø°Âè∑ÊΩÆÊ±ê„ÄÅ‰∏ªÊú∫ÂºÇÂ∏∏„ÄÅËßÑÂàôÊùæÂä®„ÄÅÂ∞ÅÈîÅËß£Èô§Ôºâ\n- ÂºÇÁâ©Âá∫Áé∞ÔºàÈªëÂ∏ÇË¥ßÁâ©ÊµÅÂá∫„ÄÅÂè§ËÄÅËÆæÂ§áËãèÈÜí„ÄÅÂçèËÆÆÁé∞Ë∫´Ôºâ\n- Âå∫Âüü‰∫ã‰ª∂ÔºàÂÖ•Âè£Âá∫Áé∞„ÄÅËßÑÂàôÂèòÂåñ„ÄÅÈôêÊó∂ÂºÄÊîæÔºâ\n- ‰∫∫Áâ©È£éÊ≥¢ÔºàÂ•ΩÂèãÂèó‰º§„ÄÅÂ•ΩÂèãÂçáÁ∫ß„ÄÅÂ•ΩÂèãË¢´ËøΩÊùÄ„ÄÅÊÅ©ÊÄ®ÂçáÁ∫ßÔºâ\n\n## ÂêàÁêÜÊÄßË¶ÅÊ±Ç\n- ‰∫ã‰ª∂Âº∫Â∫¶ÈúÄ‰∏éÁé©ÂÆ∂Á≠âÁ∫ß„ÄÅÂ£∞Êúõ„ÄÅ‰ΩçÁΩÆ„ÄÅÂΩìÂâçÁä∂ÊÄÅÁõ∏Á¨¶Ôºà‰ΩéÁ≠âÁ∫ßÂèØÂç∑ÂÖ•ËæπÁºòÔºå‰ªçÈ°ªÂèóÊ≥¢ÂèäÔºâ\n- Ëã•Ê∂âÂèäÂ•ΩÂèã/NPCÔºå‰ºòÂÖà‰ΩøÁî®Â≠òÊ°£‰∏≠ÁöÑ‚ÄúÂÖ≥Á≥ª‚Äù‰∏é‚ÄúÂ•ΩÊÑüÂ∫¶‚ÄùÊé®Êñ≠ÂÖ∂Âä®Êú∫‰∏éÁªìÂ±Ä\n- ‰∫ã‰ª∂ÂêéÁª≠ÈúÄÁïô‰∏ã‚ÄúÊÇ¨Âøµ/Â∞æÂ∑¥‚ÄùÔºåÊé®Âä®Áé©ÂÆ∂‰∏ã‰∏ÄÊ≠•Ë°åÂä®\n".trim(),G={coreRequest:{name:"Ê†∏ÂøÉËØ∑Ê±ÇÊèêÁ§∫ËØç",description:"Ê≠£Â∏∏Ê∏∏ÊàèËØ∑Ê±ÇÊó∂ÊåâÈ°∫Â∫èÂèëÈÄÅÁöÑÊèêÁ§∫ËØç",icon:"üì®"},summary:{name:"ÊÄªÁªìËØ∑Ê±ÇÊèêÁ§∫ËØç",description:"ËÆ∞ÂøÜÊÄªÁªìÊó∂‰ΩøÁî®ÁöÑÊèêÁ§∫ËØç",icon:"üìù"},initialization:{name:"ÂºÄÂ±ÄÂàùÂßãÂåñÊèêÁ§∫ËØç",description:"ÂºÄÂ±ÄÊó∂‰∏ñÁïåÁîüÊàêÂíåËßíËâ≤ÂàùÂßãÂåñÁöÑÊèêÁ§∫ËØç",icon:"üöÄ"},generation:{name:"Âä®ÊÄÅÁîüÊàêÊèêÁ§∫ËØç",description:"Ê∏∏Êàè‰∏≠Âä®ÊÄÅÁîüÊàêNPC/‰∫ã‰ª∂/Áâ©ÂìÅÁöÑÊèêÁ§∫ËØç",icon:"üé®"}},H=[p,g,h,f].join("\n\n"),Y=[C,D,A,T,B,v,y,S,_,M,V].join("\n\n"),W=[b,x,k,w,E,N,I,z,P,R,$,O].join("\n\n"),X=[o,i,s,l].join("\n\n"),J=[L,F,j].join("\n\n");function K(){const e=(0,m.isTavernEnv)();return{coreOutputRules:{name:"1. ËæìÂá∫Ê†ºÂºè",content:H,category:"coreRequest",description:"JSONÊ†ºÂºè„ÄÅÊï∞ÊçÆÂêåÊ≠•",order:1,weight:10},businessRules:{name:"2. Ê†∏ÂøÉËßÑÂàô",content:Y,category:"coreRequest",description:"Èò∂‰Ωç„ÄÅNPC„ÄÅÊàòÊñóËßÑÂàô",order:2,weight:9},extendedBusinessRules:{name:"2.5 Êâ©Â±ïËßÑÂàô",content:W,category:"coreRequest",description:"‰∏ìÁ≤æ„ÄÅÁªÑÁªáÁ≠âÊâ©Â±ï",order:2.5,weight:5},dataDefinitions:{name:"3. Êï∞ÊçÆÁªìÊûÑ",content:(0,a.lS)(e),category:"coreRequest",description:"Â≠òÊ°£ÁªìÊûÑÂÆö‰πâ",order:3,weight:10},textFormatRules:{name:"4. ÊñáÊú¨Ê†ºÂºè",content:X,category:"coreRequest",description:"Âà§ÂÆö„ÄÅ‰º§ÂÆ≥„ÄÅÂëΩÂêç",order:4,weight:6},worldStandards:{name:"5. ‰∏ñÁïåÊ†áÂáÜ",content:J,category:"coreRequest",description:"Èò∂‰ΩçÂ±ûÊÄß„ÄÅÂìÅË¥®",order:5,weight:7},cotCore:{name:"6. Ëá™Ê£ÄÂçèËÆÆ",content:c("{{Áî®Êà∑ËæìÂÖ•}}",!1),category:"coreRequest",description:"Á¶ÅÊ≠¢ÊÄùÁª¥ÈìæËæìÂá∫",order:6,weight:8},actionOptions:{name:"7. Ë°åÂä®ÈÄâÈ°π",content:U,category:"coreRequest",description:"ÁîüÊàêÁé©ÂÆ∂ÈÄâÈ°π",order:7,weight:6},eventSystemRules:{name:"8. ‰∏ñÁïå‰∫ã‰ª∂",content:q,category:"coreRequest",description:"‰∏ñÁïå‰∫ã‰ª∂ÊºîÂèò‰∏éÂΩ±Âìç",order:8,weight:5},splitGenerationStep1:{name:"9. ÂàÜÊ≠•Ê≠£Êñá",content:"# ÂàÜÊ≠•ÁîüÊàê 1/2ÔºöÊ≠£Êñá\nÁ¶ÅÊ≠¢Ôºö<thinking>/JSON/Â≠óÊÆµÂêç/Ëß£Èáä\nÂè™ËæìÂá∫ÔºöÁ∫ØÊñáÊú¨Â∞èËØ¥Ê≠£Êñá\nË¶ÅÊ±ÇÔºöÊâøÊé•ÊÉÖËäÇ„ÄÅÂ§öÊèèÂÜôÂ∞ëÊÄªÁªì„ÄÅÁªìÂ∞æÁïôÈí©Â≠ê".trim(),category:"coreRequest",description:"ÂàÜÊ≠•Ê®°ÂºèÁ¨¨1Ê≠•",order:9,weight:7},splitGenerationStep2:{name:"10. ÂàÜÊ≠•Êåá‰ª§",content:"# ÂàÜÊ≠•ÁîüÊàê 2/2ÔºöJSONÊåá‰ª§\nÁ¶ÅÊ≠¢ÔºöÊ≠£Êñá/textÂ≠óÊÆµ/<thinking>\nÂè™ËæìÂá∫Ôºö{mid_term_memory, tavern_commands, action_options}".trim(),category:"coreRequest",description:"ÂàÜÊ≠•Ê®°ÂºèÁ¨¨2Ê≠•",order:10,weight:7},splitInitStep1:{name:"11. ÂºÄÂ±ÄÊ≠£Êñá",content:"# ÂºÄÂ±ÄÂàÜÊ≠• 1/2ÔºöÊ≠£Êñá\nÁ¶ÅÊ≠¢Ôºö<thinking>/JSON/Êåá‰ª§\nÂè™ËæìÂá∫ÔºöÂºÄÂ±ÄÁ∫ØÊñáÊú¨Ê≠£Êñá\nË¶ÅÊ±ÇÔºö‰∫§‰ª£Âú∫ÊôØ„ÄÅÁªìÂ∞æÁïôÈí©Â≠ê".trim(),category:"coreRequest",description:"ÂºÄÂ±ÄÂàÜÊ≠•Á¨¨1Ê≠•",order:11,weight:7},splitInitStep2:{name:"12. ÂºÄÂ±ÄÊåá‰ª§",content:"# ÂºÄÂ±ÄÂàÜÊ≠• 2/2ÔºöJSONÊåá‰ª§\nÁ¶ÅÊ≠¢ÔºöÊ≠£Êñá/text/<thinking>\nÂè™ËæìÂá∫Ôºö{mid_term_memory, tavern_commands, action_options}".trim(),category:"coreRequest",description:"ÂºÄÂ±ÄÂàÜÊ≠•Á¨¨2Ê≠•",order:12,weight:7},memorySummary:{name:"ËÆ∞ÂøÜÊÄªÁªì",content:'ËÆ∞ÂøÜÊÄªÁªìÂä©Êâã„ÄÇÁ¨¨‰∏Ä‰∫∫Áß∞"Êàë"Ôºå250-400Â≠óÔºå‰øùÁïô‰∫∫Âêç/Âú∞Âêç/‰∫ã‰ª∂/Áâ©ÂìÅ/Á≠âÁ∫ßÔºåÂøΩÁï•ÂØπËØù/ÊÉÖÁª™/ÁªÜËäÇ„ÄÇ\nËæìÂá∫Ôºö{"text": "ÊÄªÁªìÂÜÖÂÆπ"}',category:"summary",description:"‰∏≠Êúü‚ÜíÈïøÊúüËÆ∞ÂøÜ",order:1,weight:6},npcMemorySummary:{name:"NPCËÆ∞ÂøÜÊÄªÁªì",content:'NPCËÆ∞ÂøÜÊÄªÁªì„ÄÇÁ¨¨‰∏â‰∫∫Áß∞Ôºå100-200Â≠óÔºå‰øùÁïôÂÖ≥ÈîÆ‰∫ã‰ª∂ÂíåÊÉÖÊÑüÂèòÂåñ„ÄÇ\nËæìÂá∫Ôºö{"text": "ÊÄªÁªìÂÜÖÂÆπ"}',category:"summary",description:"NPCËÆ∞ÂøÜÊÄªÁªì",order:2,weight:5},npcGeneration:{name:"NPCÁîüÊàê",content:'ÁîüÊàêËµõÂçöÊúãÂÖã‰∏ñÁïåNPC„ÄÇ\n    Ê†∏ÂøÉÔºö‰∏ñÁïå‰∏ç‰ª•Áé©ÂÆ∂‰∏∫‰∏≠ÂøÉÔºåNPCÊúâÁã¨Á´ãÁîüÊ¥ªÔºõ‰∏•Á¶ÅÂèÇËÄÉÁé©ÂÆ∂Á≠âÁ∫ßÁîüÊàê"ÈïúÂÉèNPC"Êàñ"ÈáèË∫´ÂØπÊâã"„ÄÇ\n    Ë¶ÅÊ±ÇÔºöÊ†πÊçÆÂú∫ÊôØÂêàÁêÜÂàÜÂ∏ÉÁ≠âÁ∫ß„ÄÅÂßìÂêçÊÄßÊ†ºÂ§öÊ†∑Âåñ„ÄÅË∫´‰ªΩÂÜ≥ÂÆöË°å‰∏∫„ÄÇ\n    ËæìÂá∫JSONÔºö{ÂßìÂêç,ÊÄßÂà´,Âπ¥ÈæÑ,Á≠âÁ∫ß:{ÂêçÁß∞,Èò∂ÊÆµ},ÊÄßÊ†º,Â§ñË≤å,ËÉåÊôØ,ËØ¥ËØùÈ£éÊ†º,ÂΩìÂâçË°å‰∏∫,‰∏™‰∫∫ÁõÆÊ†á,ÂàùÂßãÂ•ΩÊÑüÂ∫¶:50}',category:"generation",description:"Âä®ÊÄÅÁîüÊàêNPC",order:1,weight:5},eventGeneration:{name:"‰∫ã‰ª∂ÁîüÊàê",content:'ÁîüÊàêËµõÂçöÊúãÂÖã‰∏ñÁïå‚ÄúÂàöÂàöÂèëÁîü‚ÄùÁöÑÂüéÂ∏Ç‰∫ã‰ª∂ÔºàÁî®‰∫éÂΩ±ÂìçÁé©ÂÆ∂‰∏é‰∏ñÁïåÊºîÂèòÔºâ„ÄÇË¶ÅÊ±ÇÔºö\n    - ÂøÖÈ°ªËÆ©Áé©ÂÆ∂ÂèóÂà∞ÂΩ±ÂìçÔºàÂç±Èô©/ËµÑÊ∫ê/ÂÖ≥Á≥ª/‰ΩçÁΩÆ/ËÆ≠ÁªÉÁéØÂ¢É/ÂäøÂäõÊ†ºÂ±ÄËá≥Â∞ë‰∏ÄÈ°πÔºâ\n    - ‰∫ã‰ª∂ÂèØ‰ª•ÊòØÂÖ¨Âè∏ÂÜ≤Á™Å„ÄÅÁ≥ªÁªüÊïÖÈöú„ÄÅÊï∞ÊçÆÊ≥ÑÈú≤„ÄÅÂ∞ÅÈîÅÂçáÁ∫ß„ÄÅÂ•ΩÂèãÂá∫‰∫ã/ÊôãÂçáÁ≠â\n    - Ê∂âÂèäÂ•ΩÂèãÊó∂ÔºåÈúÄÂèÇËÄÉÂÖ≥Á≥ª/Â•ΩÊÑüÂ∫¶‰∏éÁ≠âÁ∫ßÔºå‰∏çËÉΩÊó†Á´ØË∂ÖËßÑÊ†º\n    - ‰∏çË¶ÅÂÖ¨ÂëäÂºèÊÄªÁªìÔºåË¶ÅÊúâÁé∞Âú∫ÊÑüÔºàÂàöÂèëÁîüÔºâ\nËæìÂá∫JSONÔºà‰∏çË¶Å‰ª£Á†ÅÂùó/Ëß£Èáä/È¢ùÂ§ñÊñáÊú¨ÔºâÔºö\n{\n  "event": {\n    "‰∫ã‰ª∂ID": "event_Êó∂Èó¥Êà≥_ÈöèÊú∫Êï∞",\n    "‰∫ã‰ª∂ÂêçÁß∞": "string",\n    "‰∫ã‰ª∂Á±ªÂûã": "string",\n    "‰∫ã‰ª∂ÊèèËø∞": "string",\n    "ÂΩ±ÂìçÁ≠âÁ∫ß": "ËΩªÂæÆ|‰∏≠Á≠â|ÈáçÂ§ß|ÁÅæÈöæ",\n    "ÂΩ±ÂìçËåÉÂõ¥": "string",\n    "Áõ∏ÂÖ≥‰∫∫Áâ©": ["string"],\n    "Áõ∏ÂÖ≥ÂäøÂäõ": ["string"],\n    "‰∫ã‰ª∂Êù•Ê∫ê": "ÈöèÊú∫",\n    "ÂèëÁîüÊó∂Èó¥": {"Âπ¥":0,"Êúà":1,"Êó•":1,"Â∞èÊó∂":0,"ÂàÜÈíü":0}\n  },\n  "prompt_addition": "‰∏ÄÊÆµÂèØÁõ¥Êé•Ê≥®ÂÖ•‰∏ªÂèô‰∫ãÁöÑ‰∫ã‰ª∂Âø´ÁÖßÔºàÂº∫Ë∞ÉÂàöÂàöÂèëÁîüÔºâ"\n}',category:"generation",description:"Âä®ÊÄÅÁîüÊàê‰∏ñÁïå‰∫ã‰ª∂",order:2,weight:5},itemGeneration:{name:"Áâ©ÂìÅÁîüÊàê",content:"ÁîüÊàêËµõÂçöÊúãÂÖã‰∏ñÁïåÁâ©ÂìÅ„ÄÇÂìÅË¥®ÔºöÊ∞ëÁî®(1-3)/ÊîπË£Ö(4-5)/ÂÜõËßÑ(6-7)/ÁâπÁ∫ß(8-9)/Á¶ÅÂøå(10)„ÄÇ\n    ËæìÂá∫JSONÔºö{Áâ©ÂìÅID,ÂêçÁß∞,Á±ªÂûã,ÂìÅË¥®:{quality,grade},ÊèèËø∞,Êï∞Èáè,ÊïàÊûú}",category:"generation",description:"Âä®ÊÄÅÁîüÊàêÁâ©ÂìÅ",order:3,weight:5},worldGeneration:{name:"‰∏ñÁïåÁîüÊàê",content:d.c.buildPrompt({factionCount:5,totalLocations:10,secretRealms:3,continentCount:3}),category:"initialization",description:"ÁîüÊàêÂå∫Âüü„ÄÅÂäøÂäõ„ÄÅËäÇÁÇπ",order:1,weight:8},characterInit:{name:"ËßíËâ≤ÂàùÂßãÂåñ",content:(0,r.q5)(e),category:"initialization",description:"ÁîüÊàêËßíËâ≤ÂíåÂºÄÂú∫",order:2,weight:9},newbieGuide:{name:"Êñ∞ÊâãÂºïÂØº",content:"Êñ∞ÊâãÂºïÂØºÔºàÂâç3ÂõûÂêàÔºâ„ÄÇÂéüÂàôÔºöËá™ÁÑ∂ËûçÂÖ•Âèô‰∫ãÔºå‰∏çÊâìÁ†¥Ê≤âÊµ∏ÊÑüÔºåÈÄöËøáNPCÂØπËØù‰º†ÈÄí„ÄÇ\n    ÂÜÖÂÆπÔºöË°åÂä®ÊñπÂºè/Êü•ÁúãÁä∂ÊÄÅ/Ë£ÖÂ§á‰ΩøÁî®/Ê≤üÈÄö/Êé¢Á¥¢„ÄÇ",category:"initialization",description:"Ëá™ÁÑ∂Êñ∞ÊâãÂºïÂØº",order:3,weight:4},textOptimization:{name:"ÊñáÊú¨‰ºòÂåñ",content:"# ÊñáÊú¨‰ºòÂåñÂä©Êâã\n\n‰Ω†ÊòØ‰∏Ä‰∏™‰∏ì‰∏öÁöÑ‰∏≠ÊñáÊñáÂ≠¶ÁºñËæëÔºåË¥üË¥£‰ºòÂåñËµõÂçöÊúãÂÖãÂ∞èËØ¥ÊñáÊú¨„ÄÇ\n\n## ‰ºòÂåñÂéüÂàô\n1. **‰øùÊåÅÂéüÊÑè**Ôºö‰∏çÊîπÂèòÊïÖ‰∫ãÊÉÖËäÇ„ÄÅ‰∫∫Áâ©Ë°å‰∏∫„ÄÅÂØπËØùÂÜÖÂÆπ\n2. **ÊèêÂçáÊñáÈáá**Ôºö‰ΩøÁî®Êõ¥‰ºòÁæé„ÄÅÊõ¥ÂÖ∑ÁîªÈù¢ÊÑüÁöÑË°®Ëææ\n3. **ËµõÂçöÊúãÂÖãÈ£éÊ†º**Ôºö‰øùÊåÅËµõÂçöÊúãÂÖã‰∏ñÁïåÁöÑËØ≠Ë®ÄÈ£éÊ†ºÂíåÊ∞õÂõ¥\n4. **ÊµÅÁïÖËá™ÁÑ∂**ÔºöÁ°Æ‰øùË°åÊñáÊµÅÁïÖÔºåËøáÊ∏°Ëá™ÁÑ∂\n5. **Á≤æÁÆÄÂÜó‰Ωô**ÔºöÂà†Èô§ÈáçÂ§ç„ÄÅÂï∞Âó¶ÁöÑË°®Ëææ\n\n## ‰ºòÂåñÈáçÁÇπ\n- Âä®‰ΩúÊèèÂÜôÔºöÊõ¥Âä†ÁîüÂä®ÂΩ¢Ë±°\n- ÁéØÂ¢ÉÊèèÂÜôÔºöÂ¢ûÂä†ÊÑèÂ¢ÉÂíåÊ∞õÂõ¥\n- ÂØπËØùÔºö‰øùÊåÅ‰∫∫Áâ©ÊÄßÊ†ºÁâπËâ≤\n- ÂøÉÁêÜÊèèÂÜôÔºöÊõ¥Âä†ÁªÜËÖªÊ∑±ÂÖ•\n\n## Á¶ÅÊ≠¢‰∫ãÈ°π\n- ‰∏çË¶ÅÊ∑ªÂä†Êñ∞ÁöÑÊÉÖËäÇÊàñËßíËâ≤\n- ‰∏çË¶ÅÊîπÂèòÂéüÊúâÁöÑÂà§ÂÆöÁªìÊûú\n- ‰∏çË¶ÅËæìÂá∫‰ªª‰ΩïJSONÊ†ºÂºèÂÜÖÂÆπ\n- ‰∏çË¶ÅÊ∑ªÂä†Ëß£ÈáäÊàñËØÑËÆ∫\n\n## ËæìÂá∫Ê†ºÂºè\nÁõ¥Êé•ËæìÂá∫‰ºòÂåñÂêéÁöÑÁ∫ØÊñáÊú¨Ôºå‰∏çË¶Å‰ªª‰ΩïÈ¢ùÂ§ñÂÜÖÂÆπ„ÄÇ",category:"summary",description:"‰ºòÂåñAIÁîüÊàêÁöÑÊñáÊú¨",order:3,weight:5}}}async function Z(e){return await u.promptStorage.get(e)}},7230:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.character-details-wrapper[data-v-08ecf914] {\n  padding: 1rem;\n  height: 100%;\n  overflow: auto;\n  background: var(--color-background);\n  color: var(--color-text);\n}\n.character-details-content[data-v-08ecf914] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n/* Loading / Error */\n.loading-container[data-v-08ecf914],\n.error-container[data-v-08ecf914] {\n  min-height: 320px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 14px;\n  padding: 1.5rem;\n}\n.loading-spinner[data-v-08ecf914] {\n  width: 36px;\n  height: 36px;\n  border-radius: 9999px;\n  border: 3px solid rgba(var(--color-primary-rgb), 0.18);\n  border-top-color: var(--color-primary);\n  animation: spin-08ecf914 0.9s linear infinite;\n}\n@keyframes spin-08ecf914 {\nto {\n    transform: rotate(360deg);\n}\n}\n.error-icon[data-v-08ecf914] {\n  color: rgba(239, 68, 68, 0.9);\n}\n.retry-btn[data-v-08ecf914] {\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  color: var(--color-text);\n  padding: 0.6rem 0.9rem;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.15s ease;\n}\n.retry-btn[data-v-08ecf914]:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-1px);\n}\n\n/* Header card */\n.character-header-card[data-v-08ecf914] {\n  position: relative;\n  overflow: hidden;\n  border-radius: 18px;\n  border: 1px solid rgba(148, 163, 184, 0.25);\n  background: linear-gradient(\n      135deg,\n      rgba(var(--color-primary-rgb), 0.12) 0%,\n      rgba(var(--color-accent-rgb), 0.08) 45%,\n      rgba(255, 255, 255, 0.02) 100%\n    ),\n    var(--color-surface);\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\n}\n.header-bg-decoration[data-v-08ecf914] {\n  position: absolute;\n  inset: -30%;\n  background: radial-gradient(circle at 20% 25%, rgba(var(--color-primary-rgb), 0.22), transparent 55%),\n    radial-gradient(circle at 75% 60%, rgba(var(--color-accent-rgb), 0.18), transparent 55%);\n  filter: blur(22px);\n  opacity: 0.9;\n  pointer-events: none;\n}\n.header-content[data-v-08ecf914] {\n  position: relative;\n  z-index: 1;\n  display: grid;\n  grid-template-columns: 1.25fr 2fr 1fr;\n  gap: 1rem;\n  padding: 1.25rem;\n  align-items: center;\n}\n.profile-section[data-v-08ecf914] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  min-width: 0;\n}\n.avatar-wrapper[data-v-08ecf914] {\n  position: relative;\n  width: 64px;\n  height: 64px;\n  flex: 0 0 auto;\n}\n.avatar-circle[data-v-08ecf914] {\n  width: 64px;\n  height: 64px;\n  border-radius: 9999px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(var(--color-primary-rgb), 0.14);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.35);\n  color: var(--color-text);\n  font-weight: 800;\n  font-size: 1.35rem;\n  letter-spacing: 0.02em;\n  user-select: none;\n}\n.avatar-glow[data-v-08ecf914] {\n  position: absolute;\n  inset: -14px;\n  border-radius: 9999px;\n  background: radial-gradient(circle at center, rgba(var(--color-primary-rgb), 0.25), transparent 65%);\n  filter: blur(10px);\n  opacity: 0.9;\n  pointer-events: none;\n}\n.identity-info[data-v-08ecf914] {\n  min-width: 0;\n}\n.character-title[data-v-08ecf914] {\n  font-size: 1.5rem;\n  font-weight: 800;\n  margin: 0;\n  line-height: 1.1;\n}\n.character-subtitle[data-v-08ecf914] {\n  margin-top: 0.4rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.35rem 0.5rem;\n  align-items: center;\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.subtitle-divider[data-v-08ecf914] {\n  opacity: 0.6;\n}\n.gender-badge[data-v-08ecf914] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.15rem 0.55rem;\n  border-radius: 9999px;\n  border: 1px solid rgba(148, 163, 184, 0.3);\n  background: rgba(255, 255, 255, 0.05);\n}\n.core-stats-grid[data-v-08ecf914] {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 0.75rem;\n  align-content: start;\n}\n.stat-card[data-v-08ecf914] {\n  border-radius: 14px;\n  transition: transform 0.15s ease, border-color 0.15s ease, background 0.15s ease;\n  min-width: 0;\n}\n.stat-card.clickable[data-v-08ecf914] {\n  cursor: pointer;\n}\n.stat-card[data-v-08ecf914]:hover {\n  border-color: rgba(var(--color-primary-rgb), 0.55);\n  transform: translateY(-1px);\n}\n.stat-card .card-icon[data-v-08ecf914] {\n  width: 44px;\n  height: 44px;\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(var(--color-primary-rgb), 0.12);\n  color: var(--color-primary);\n  flex: 0 0 auto;\n}\n.stat-card .card-content[data-v-08ecf914] {\n  min-width: 0;\n}\n.stat-card .card-label[data-v-08ecf914] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 0.15rem;\n}\n.stat-card .card-value[data-v-08ecf914] {\n  font-weight: 700;\n  color: var(--color-text);\n  font-size: 1rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.body-card .card-icon[data-v-08ecf914] {\n  background: rgba(239, 68, 68, 0.12);\n  color: rgba(239, 68, 68, 0.95);\n}\n.training-section[data-v-08ecf914] {\n  display: flex;\n  justify-content: flex-end;\n  align-items: stretch;\n}\n.training-progress-card[data-v-08ecf914],\n.training-status[data-v-08ecf914] {\n  width: 100%;\n  max-width: 260px;\n  background: rgba(255, 255, 255, 0.04);\n  border: 1px solid rgba(148, 163, 184, 0.25);\n  border-radius: 14px;\n  padding: 0.85rem;\n}\n.progress-header[data-v-08ecf914] {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 0.5rem;\n}\n.progress-label[data-v-08ecf914] {\n  color: var(--color-text-secondary);\n  font-size: 0.85rem;\n}\n.progress-percentage[data-v-08ecf914] {\n  font-weight: 800;\n}\n.progress-bar-bg[data-v-08ecf914] {\n  height: 10px;\n  border-radius: 9999px;\n  background: rgba(0, 0, 0, 0.18);\n  overflow: hidden;\n}\n.progress-bar-fill[data-v-08ecf914] {\n  height: 100%;\n  background: linear-gradient(90deg, rgba(var(--color-primary-rgb), 0.8), rgba(var(--color-accent-rgb), 0.85));\n  border-radius: 9999px;\n  position: relative;\n}\n.progress-bar-shine[data-v-08ecf914] {\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.25), transparent);\n  transform: translateX(-60%);\n  animation: shine-08ecf914 2.4s ease-in-out infinite;\n}\n@keyframes shine-08ecf914 {\n0% {\n    transform: translateX(-70%);\n}\n50% {\n    transform: translateX(0%);\n}\n100% {\n    transform: translateX(70%);\n}\n}\n.progress-text[data-v-08ecf914] {\n  margin-top: 0.5rem;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n\n/* Tabs */\n.tabs-nav[data-v-08ecf914] {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n  padding: 0.5rem 0.25rem;\n}\n.tab-btn[data-v-08ecf914] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.4rem;\n  padding: 0.45rem 0.75rem;\n  border-radius: 9999px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.15s ease;\n  font-size: 0.9rem;\n}\n.tab-btn[data-v-08ecf914]:hover {\n  border-color: rgba(var(--color-primary-rgb), 0.55);\n  color: var(--color-text);\n}\n.tab-btn.active[data-v-08ecf914] {\n  background: rgba(var(--color-primary-rgb), 0.14);\n  border-color: rgba(var(--color-primary-rgb), 0.55);\n  color: var(--color-text);\n}\n\n/* Content */\n.tab-content[data-v-08ecf914] {\n  padding: 0.25rem;\n}\n.content-grid[data-v-08ecf914] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.info-section[data-v-08ecf914] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  padding: 1.25rem;\n  overflow: hidden;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n}\n.info-section[data-v-08ecf914]:hover {\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n  border-color: rgba(var(--color-primary-rgb), 0.3);\n}\n.section-title[data-v-08ecf914] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  margin: 0 0 1.25rem;\n  font-size: 1.15rem;\n  font-weight: 700;\n  color: var(--color-text);\n  padding-bottom: 0.75rem;\n  border-bottom: 2px solid var(--color-border);\n}\n.title-icon[data-v-08ecf914] {\n  width: 38px;\n  height: 38px;\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.15), rgba(var(--color-accent-rgb), 0.1));\n  color: var(--color-primary);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.15);\n}\n\n/* Vitals */\n.vitals-grid[data-v-08ecf914] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n}\n.vital-item[data-v-08ecf914] {\n  padding: 1rem;\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-surface-light) 100%);\n  border: 1px solid var(--color-border);\n  border-radius: 14px;\n  transition: all 0.2s ease;\n}\n.vital-item[data-v-08ecf914]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  border-color: rgba(var(--color-primary-rgb), 0.3);\n}\n.vital-label[data-v-08ecf914] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin-bottom: 0.65rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.vital-bar[data-v-08ecf914] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.bar-container[data-v-08ecf914] {\n  height: 12px;\n  border-radius: 9999px;\n  background: rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n.bar-fill[data-v-08ecf914] {\n  height: 100%;\n  border-radius: 9999px;\n  transition: width 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.bar-fill[data-v-08ecf914]::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  animation: shimmer-08ecf914 2s infinite;\n}\n@keyframes shimmer-08ecf914 {\n0% { transform: translateX(-100%);\n}\n100% { transform: translateX(100%);\n}\n}\n.bar-red[data-v-08ecf914] {\n  background: linear-gradient(90deg, #ef4444, #f87171);\n  box-shadow: 0 0 8px rgba(239, 68, 68, 0.3);\n}\n.bar-blue[data-v-08ecf914] {\n  background: linear-gradient(90deg, #3b82f6, #60a5fa);\n  box-shadow: 0 0 8px rgba(59, 130, 246, 0.3);\n}\n.bar-gold[data-v-08ecf914] {\n  background: linear-gradient(90deg, #f59e0b, #fbbf24);\n  box-shadow: 0 0 8px rgba(245, 158, 11, 0.3);\n}\n.vital-text[data-v-08ecf914] {\n  font-size: 0.85rem;\n  color: var(--color-text);\n  font-weight: 600;\n  display: flex;\n  justify-content: space-between;\n}\n.reputation-item[data-v-08ecf914] {\n  grid-column: span 1;\n}\n.reputation-display[data-v-08ecf914] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem;\n  background: linear-gradient(135deg, rgba(var(--color-accent-rgb), 0.1), rgba(var(--color-primary-rgb), 0.05));\n  border-radius: 10px;\n  border: 1px solid rgba(var(--color-accent-rgb), 0.2);\n}\n.reputation-value[data-v-08ecf914] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: var(--color-accent);\n}\n\n/* Âü∫Á°Ä‰ø°ÊÅØÁΩëÊ†º */\n.basic-info-grid[data-v-08ecf914] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 0.85rem;\n}\n.basic-info-item[data-v-08ecf914] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n  padding: 0.85rem 1rem;\n  background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-background) 100%);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  transition: all 0.2s ease;\n}\n.basic-info-item[data-v-08ecf914]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);\n  border-color: rgba(var(--color-primary-rgb), 0.25);\n}\n.info-label[data-v-08ecf914] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.info-value[data-v-08ecf914] {\n  font-size: 1rem;\n  font-weight: 700;\n  color: var(--color-text);\n}\n.info-value.rank[data-v-08ecf914] {\n  color: var(--color-primary);\n  font-size: 1.05rem;\n}\n.info-value.gender[data-v-08ecf914] {\n  font-weight: 600;\n}\n.info-value.gender.gender-Áî∑[data-v-08ecf914] {\n  color: #3b82f6;\n}\n.info-value.gender.gender-Â•≥[data-v-08ecf914] {\n  color: #ec4899;\n}\n.info-value.core[data-v-08ecf914] {\n  color: var(--color-accent);\n}\n.info-value.location[data-v-08ecf914] {\n  color: var(--color-text);\n  font-size: 0.95rem;\n}\n\n/* Â±ûÊÄßÊòæÁ§∫ */\n.attributes-display[data-v-08ecf914] {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.final-attributes[data-v-08ecf914] {\n  padding: 1.25rem;\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.08), rgba(var(--color-accent-rgb), 0.05));\n  border: 2px solid rgba(var(--color-primary-rgb), 0.2);\n  border-radius: 14px;\n}\n.attribute-group-title[data-v-08ecf914] {\n  font-size: 0.95rem;\n  font-weight: 700;\n  color: var(--color-text);\n  margin: 0 0 1rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.attributes-grid[data-v-08ecf914] {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.85rem;\n}\n.attributes-grid.compact[data-v-08ecf914] {\n  grid-template-columns: repeat(6, 1fr);\n  gap: 0.65rem;\n}\n.attribute-item[data-v-08ecf914] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.4rem;\n  padding: 0.85rem 0.65rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  transition: all 0.2s ease;\n}\n.attribute-item[data-v-08ecf914]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  border-color: rgba(var(--color-primary-rgb), 0.3);\n}\n.attribute-item.final[data-v-08ecf914] {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.05));\n  border-color: rgba(var(--color-primary-rgb), 0.25);\n}\n.attribute-item.innate[data-v-08ecf914] {\n  background: var(--color-surface-light);\n}\n.attribute-item.acquired[data-v-08ecf914] {\n  background: var(--color-background);\n}\n.attribute-item.acquired.has-bonus[data-v-08ecf914] {\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.08), rgba(16, 185, 129, 0.05));\n  border-color: rgba(34, 197, 94, 0.25);\n}\n.attr-name[data-v-08ecf914] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.3px;\n}\n.attr-value[data-v-08ecf914] {\n  font-size: 1.25rem;\n  font-weight: 800;\n  color: var(--color-text);\n}\n.attribute-item.final .attr-value[data-v-08ecf914] {\n  color: var(--color-primary);\n  font-size: 1.4rem;\n}\n.attribute-item.acquired.has-bonus .attr-value[data-v-08ecf914] {\n  color: #10b981;\n}\n.attribute-breakdown[data-v-08ecf914] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n}\n.innate-attrs[data-v-08ecf914],\n.acquired-attrs[data-v-08ecf914] {\n  padding: 1rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n}\n\n/* Modals */\n.modal-overlay[data-v-08ecf914] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.55);\n  backdrop-filter: blur(6px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  padding: 1rem;\n}\n.skill-modal[data-v-08ecf914],\n.protocol-modal[data-v-08ecf914],\n.core-modal[data-v-08ecf914] {\n  width: min(820px, 100%);\n  max-height: 85vh;\n  overflow: auto;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  box-shadow: 0 24px 80px rgba(0, 0, 0, 0.35);\n}\n.modal-header[data-v-08ecf914] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.85rem 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-close-btn[data-v-08ecf914] {\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  color: var(--color-text);\n  border-radius: 10px;\n  padding: 0.4rem;\n  cursor: pointer;\n  transition: all 0.15s ease;\n}\n.modal-close-btn[data-v-08ecf914]:hover {\n  border-color: rgba(var(--color-primary-rgb), 0.55);\n  transform: translateY(-1px);\n}\n.modal-content[data-v-08ecf914] {\n  padding: 1rem;\n}\n@media (max-width: 980px) {\n.header-content[data-v-08ecf914] {\n    grid-template-columns: 1fr;\n    gap: 0.85rem;\n}\n.training-section[data-v-08ecf914] {\n    justify-content: flex-start;\n}\n.training-progress-card[data-v-08ecf914],\n  .training-status[data-v-08ecf914] {\n    max-width: none;\n}\n.content-grid[data-v-08ecf914] {\n    grid-template-columns: 1fr;\n}\n}\n",""]);const s=i},7344:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* ========== Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º ========== */\n.origin-selection-container[data-v-24c17797] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.loading-state[data-v-24c17797], .error-state[data-v-24c17797], .placeholder[data-v-24c17797] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.1rem;\n  color: #94a3b8;\n  font-style: italic;\n}\n.origin-layout[data-v-24c17797] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 1.5rem;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* ========== Â∑¶‰æßÈù¢Êùø ========== */\n.origin-left-panel[data-v-24c17797] {\n  display: flex;\n  flex-direction: column;\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  overflow: hidden;\n}\n.origin-list-container[data-v-24c17797] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.5rem;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.origin-list-container[data-v-24c17797]::-webkit-scrollbar { width: 6px;\n}\n.origin-list-container[data-v-24c17797]::-webkit-scrollbar-track { background: transparent;\n}\n.origin-list-container[data-v-24c17797]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n.origin-list-container[data-v-24c17797]::-webkit-scrollbar-thumb:hover { background: rgba(147, 197, 253, 0.5);\n}\n\n/* ========== ÈÄâÈ°πÂç°Ê†∑Âºè ========== */\n.origin-item[data-v-24c17797] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.1rem 1.2rem;\n  margin-bottom: 0.6rem;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  border: 1px solid transparent;\n  background: rgba(30, 41, 59, 0.4);\n}\n.origin-item[data-v-24c17797]:hover {\n  background: rgba(51, 65, 85, 0.6);\n  border-color: rgba(147, 197, 253, 0.2);\n}\n.origin-item.selected[data-v-24c17797] {\n  background: rgba(30, 58, 138, 0.4);\n  border-color: rgba(147, 197, 253, 0.4);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);\n}\n.origin-item.disabled[data-v-24c17797] {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n.origin-item.disabled[data-v-24c17797]:hover {\n  background: rgba(30, 41, 59, 0.4);\n  border-color: transparent;\n}\n.item-content[data-v-24c17797] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n.origin-name[data-v-24c17797] {\n  font-weight: 500;\n  color: #f1f5f9;\n}\n.origin-item.selected .origin-name[data-v-24c17797] {\n  color: #bfdbfe;\n}\n.origin-cost[data-v-24c17797] {\n  color: #fbbf24;\n  font-size: 0.85rem;\n  font-weight: 500;\n}\n\n/* ÊåâÈíÆÁªÑÂÆπÂô® */\n.action-buttons[data-v-24c17797] {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  opacity: 0;\n  transition: opacity 0.2s;\n  margin-left: 0.5rem;\n}\n.origin-item:hover .action-buttons[data-v-24c17797] {\n  opacity: 1;\n}\n.edit-btn[data-v-24c17797], .delete-btn[data-v-24c17797] {\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  color: #94a3b8;\n  cursor: pointer;\n  padding: 0.35rem;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n.edit-btn[data-v-24c17797]:hover {\n  color: #93c5fd;\n  background: rgba(147, 197, 253, 0.1);\n}\n.delete-btn[data-v-24c17797]:hover {\n  color: #f87171;\n  background: rgba(248, 113, 113, 0.1);\n}\n.divider[data-v-24c17797] {\n  height: 1px;\n  background: linear-gradient(to right, transparent, rgba(147, 197, 253, 0.2), transparent);\n  margin: 0.5rem 0;\n}\n.action-name[data-v-24c17797] {\n  font-weight: 500;\n}\n\n/* ========== Âè≥‰æßËØ¶ÊÉÖÈù¢Êùø ========== */\n.origin-details-container[data-v-24c17797] {\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 12px;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.origin-details[data-v-24c17797] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n.origin-details h2[data-v-24c17797] {\n  margin: 0 0 1rem 0;\n  color: #93c5fd;\n  flex-shrink: 0;\n  font-size: 1.5rem;\n  text-shadow: 0 0 20px rgba(147, 197, 253, 0.3);\n}\n.description-scroll[data-v-24c17797] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.7;\n  margin-bottom: 1rem;\n  padding-right: 0.5rem;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.description-scroll[data-v-24c17797]::-webkit-scrollbar { width: 6px;\n}\n.description-scroll[data-v-24c17797]::-webkit-scrollbar-track { background: transparent;\n}\n.description-scroll[data-v-24c17797]::-webkit-scrollbar-thumb { background: rgba(147, 197, 253, 0.3); border-radius: 3px;\n}\n.description-scroll p[data-v-24c17797] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: #94a3b8;\n}\n.cost-display[data-v-24c17797] {\n  text-align: right;\n  font-weight: 600;\n  color: #fbbf24;\n  flex-shrink: 0;\n}\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .origin-left-panel[data-v-24c17797],\n[data-theme="light"] .origin-details-container[data-v-24c17797] {\n  background: rgba(248, 250, 252, 0.8);\n  border-color: rgba(0, 0, 0, 0.08);\n}\n[data-theme="light"] .origin-item[data-v-24c17797] {\n  background: rgba(255, 255, 255, 0.6);\n}\n[data-theme="light"] .origin-item[data-v-24c17797]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] .origin-item.selected[data-v-24c17797] {\n  background: rgba(219, 234, 254, 0.8);\n  border-color: rgba(59, 130, 246, 0.4);\n}\n[data-theme="light"] .origin-name[data-v-24c17797] {\n  color: #1e293b;\n}\n[data-theme="light"] .origin-item.selected .origin-name[data-v-24c17797] {\n  color: #1e40af;\n}\n[data-theme="light"] .origin-details h2[data-v-24c17797] {\n  color: #2563eb;\n}\n[data-theme="light"] .description-scroll p[data-v-24c17797] {\n  color: #475569;\n}\n\n/* ÂìçÂ∫îÂºèÈÄÇÈÖç - ÊâãÊú∫Á´Ø‰ºòÂåñ */\n@media (max-width: 1200px) {\n.origin-layout[data-v-24c17797] {\n    grid-template-columns: 1fr 1.8fr;\n    gap: 1.5rem;\n}\n}\n@media (max-width: 1024px) {\n.origin-layout[data-v-24c17797] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n.origin-details h2[data-v-24c17797] {\n    font-size: 1.6rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-24c17797] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n}\n.top-actions-container .action-item[data-v-24c17797] {\n    flex-grow: 1;\n    text-align: center;\n}\n.origin-layout[data-v-24c17797] {\n    /* Êîπ‰∏∫ÂûÇÁõ¥Â†ÜÂè†Â∏ÉÂ±Ä */\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;\n    gap: 1rem;\n    height: auto;\n    overflow: visible;\n    padding: 0.8rem;\n}\n.origin-left-panel[data-v-24c17797] {\n    order: 1;\n    max-height: 40vh;\n}\n.origin-details-container[data-v-24c17797] {\n    order: 2;\n    min-height: 300px;\n}\n.origin-list-container[data-v-24c17797] {\n    max-height: 35vh;\n    /* Ê∑ªÂä†Ëß¶Êë∏ÊªöÂä®‰ºòÂåñ */\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n\n  /* ‰ºòÂåñËß¶Êë∏‰ΩìÈ™å */\n.origin-item[data-v-24c17797],\n  .action-item[data-v-24c17797] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n}\n@media (max-width: 640px) {\n.origin-layout[data-v-24c17797] {\n    gap: 0.8rem;\n    padding: 0.6rem;\n}\n.origin-left-panel[data-v-24c17797] {\n    max-height: 35vh;\n}\n.origin-list-container[data-v-24c17797] {\n    max-height: 30vh;\n    padding: 0.5rem;\n}\n.origin-item[data-v-24c17797] {\n    padding: 0.7rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.4rem;\n}\n.single-actions-container[data-v-24c17797] {\n    padding: 0.5rem;\n    gap: 0.4rem;\n}\n.action-item[data-v-24c17797] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.origin-details-container[data-v-24c17797] {\n    padding: 1.2rem;\n    min-height: 250px;\n}\n.origin-details h2[data-v-24c17797] {\n    font-size: 1.4rem;\n    margin-bottom: 0.8rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-24c17797] {\n    flex-direction: column;\n    align-items: stretch;\n}\n.origin-selection-container[data-v-24c17797] {\n    padding: 0.4rem;\n    height: auto;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.origin-layout[data-v-24c17797] {\n    gap: 0.6rem;\n    padding: 0;\n    height: auto;\n    min-height: 0;\n}\n.origin-left-panel[data-v-24c17797] {\n    max-height: none;\n    border-radius: 6px;\n}\n.origin-list-container[data-v-24c17797] {\n    max-height: 26vh;\n    padding: 0.4rem;\n}\n.origin-item[data-v-24c17797] {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.3rem;\n    border-radius: 4px;\n}\n.origin-name[data-v-24c17797] {\n    font-size: 0.9rem;\n}\n.origin-cost[data-v-24c17797] {\n    font-size: 0.8rem;\n}\n.divider[data-v-24c17797] {\n    margin: 0.3rem 0;\n}\n.single-actions-container[data-v-24c17797] {\n    flex-direction: column;\n    gap: 0.4rem;\n    padding: 0.4rem;\n}\n.action-item[data-v-24c17797] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 4px;\n}\n.origin-details-container[data-v-24c17797] {\n    padding: 1rem;\n    min-height: 200px;\n    border-radius: 6px;\n}\n.origin-details h2[data-v-24c17797] {\n    font-size: 1.3rem;\n    margin-bottom: 0.6rem;\n}\n.description-scroll[data-v-24c17797] {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    padding-right: 0.3rem;\n    margin-bottom: 0.8rem;\n}\n.cost-display[data-v-24c17797] {\n    font-size: 1rem;\n    text-align: center;\n}\n.placeholder[data-v-24c17797] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 150px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.top-actions-container[data-v-24c17797] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n}\n.top-actions-container .action-item[data-v-24c17797] {\n    text-align: center;\n}\n}\n\n/* È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ - Ê∑±Ëâ≤ÁéªÁíÉÊãüÊÄÅÈ£éÊ†º */\n.top-actions-container[data-v-24c17797] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.06);\n  background: rgba(30, 41, 59, 0.3);\n  justify-content: center;\n}\n.top-actions-container .action-item[data-v-24c17797] {\n  padding: 0.5rem 1rem;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.6);\n  color: #cbd5e1;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  font-size: 0.85rem;\n  font-weight: 500;\n  white-space: nowrap;\n  letter-spacing: 0.05em;\n}\n.top-actions-container .action-item[data-v-24c17797]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  border-color: rgba(147, 197, 253, 0.3);\n  color: #f1f5f9;\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢òÈ°∂ÈÉ®ÊåâÈíÆ */\n[data-theme="light"] .top-actions-container[data-v-24c17797] {\n  background: rgba(241, 245, 249, 0.6);\n  border-bottom-color: rgba(59, 130, 246, 0.15);\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-24c17797] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #2563eb;\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-24c17797]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n  color: #1e40af;\n}\n@media (max-width: 360px) {\n.origin-selection-container[data-v-24c17797] {\n    padding: 0.3rem;\n}\n.origin-layout[data-v-24c17797] {\n    gap: 0.4rem;\n}\n.origin-left-panel[data-v-24c17797] {\n    max-height: 28vh;\n}\n.origin-list-container[data-v-24c17797] {\n    max-height: 24vh;\n    padding: 0.3rem;\n}\n.origin-item[data-v-24c17797] {\n    padding: 0.5rem 0.6rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.2rem;\n}\n.origin-name[data-v-24c17797] {\n    font-size: 0.8rem;\n}\n.origin-cost[data-v-24c17797] {\n    font-size: 0.75rem;\n}\n.origin-details-container[data-v-24c17797] {\n    padding: 0.8rem;\n    min-height: 180px;\n}\n.origin-details h2[data-v-24c17797] {\n    font-size: 1.1rem;\n    margin-bottom: 0.5rem;\n}\n.description-scroll[data-v-24c17797] {\n    font-size: 0.85rem;\n    line-height: 1.4;\n    margin-bottom: 0.6rem;\n}\n.cost-display[data-v-24c17797] {\n    font-size: 0.9rem;\n}\n.action-item[data-v-24c17797] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-24c17797] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n    min-height: 120px;\n}\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢ò‰∏ãÁöÑÁºñËæë/Âà†Èô§ÊåâÈíÆ */\n[data-theme="light"] .edit-btn[data-v-24c17797],\n[data-theme="light"] .delete-btn[data-v-24c17797] {\n  background: rgba(241, 245, 249, 0.8);\n  border: 1px solid rgba(59, 130, 246, 0.15);\n  color: #475569;\n}\n[data-theme="light"] .edit-btn[data-v-24c17797]:hover {\n  color: #2563eb;\n  background: rgba(59, 130, 246, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n}\n[data-theme="light"] .delete-btn[data-v-24c17797]:hover {\n  color: #dc2626;\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.3);\n}\n',""]);const s=i},7445:(e,t,n)=>{"use strict";n.d(t,{aiService:()=>o,o:()=>r});var a=n(1083);const r={openai:{url:"https://api.openai.com",defaultModel:"gpt-4o",name:"OpenAI"},claude:{url:"https://api.anthropic.com",defaultModel:"claude-sonnet-4-20250514",name:"Claude"},gemini:{url:"https://generativelanguage.googleapis.com",defaultModel:"gemini-2.0-flash",name:"Gemini"},deepseek:{url:"https://api.deepseek.com",defaultModel:"deepseek-chat",name:"DeepSeek"},custom:{url:"",defaultModel:"",name:"Ëá™ÂÆö‰πâ(OpenAIÂÖºÂÆπ)"}},o=new class{config={mode:"tavern",streaming:!0,memorySummaryMode:"raw",initMode:"generate",customAPI:{provider:"openai",url:"",apiKey:"",model:"gpt-4o",temperature:.7,maxTokens:16e3}};constructor(){this.loadConfig()}syncModeWithEnvironment(){this.config.mode=this.isTavernEnvironment()?"tavern":"custom"}loadConfig(){try{const e=localStorage.getItem("ai_service_config");if(e){const t=JSON.parse(e);return this.config={...this.config,...t},console.log("[AIÊúçÂä°] ÈÖçÁΩÆÂ∑≤Âä†ËΩΩ:",this.config.mode),void this.syncModeWithEnvironment()}this.syncModeWithEnvironment()}catch(e){console.error("[AIÊúçÂä°] Âä†ËΩΩÈÖçÁΩÆÂ§±Ë¥•:",e)}}saveConfig(e){this.config={...this.config,...e},this.syncModeWithEnvironment(),this.config.customAPI?.url&&(this.config.customAPI.url=this.config.customAPI.url.replace(/\/v1\/?$/,"").replace(/\/+$/,"")),localStorage.setItem("ai_service_config",JSON.stringify(this.config)),console.log("[AIÊúçÂä°] ÈÖçÁΩÆÂ∑≤‰øùÂ≠ò:",this.config.mode)}getConfig(){return{...this.config}}async fetchModels(){if(!this.config.customAPI?.url||!this.config.customAPI?.apiKey)throw new Error("ËØ∑ÂÖàÈÖçÁΩÆAPIÂú∞ÂùÄÂíåÂØÜÈí•");try{const e=this.config.customAPI.url.replace(/\/+$/,""),t=await a.A.get(`${e}/v1/models`,{headers:{Authorization:`Bearer ${this.config.customAPI.apiKey}`}});return t.data.data?.map(e=>e.id)||[]}catch(e){throw console.error("[AIÊúçÂä°] Ëé∑ÂèñÊ®°ÂûãÂàóË°®Â§±Ë¥•:",e),new Error("Ëé∑ÂèñÊ®°ÂûãÂàóË°®Â§±Ë¥•")}}getAPIConfigForUsageType(e){if(!e)return null;try{const{useAPIManagementStore:t}=n(100),a=t().getAPIForType(e);return a?"default"===a.id?null:a:null}catch(e){return console.warn("[AIÊúçÂä°] Ëé∑ÂèñÂäüËÉΩAPIÈÖçÁΩÆÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆ:",e),null}}async generate(e){this.syncModeWithEnvironment();const t=e.usageType||"main";if(console.log(`[AIÊúçÂä°] Ë∞ÉÁî®generateÔºåÊ®°Âºè: ${this.config.mode}, usageType: ${t}`),"tavern"===this.config.mode){if("main"===t)return console.log("[AIÊúçÂä°-ÈÖíÈ¶Ü] ‰∏ªAPIË∞ÉÁî®Ôºå‰ΩøÁî®ÈÖíÈ¶ÜTavernHelper"),this.generateWithTavern(e);const n=this.getAPIConfigForUsageType(t);return n?(console.log(`[AIÊúçÂä°-ÈÖíÈ¶Ü] ËæÖÂä©ÂäüËÉΩ[${t}]‰ΩøÁî®Áã¨Á´ãAPI: ${n.name}`),this.generateWithAPIConfig(e,{provider:n.provider,url:n.url,apiKey:n.apiKey,model:n.model,temperature:n.temperature,maxTokens:n.maxTokens})):(console.log(`[AIÊúçÂä°-ÈÖíÈ¶Ü] ËæÖÂä©ÂäüËÉΩ[${t}]Êú™ÈÖçÁΩÆÁã¨Á´ãAPIÔºå‰ΩøÁî®ÈÖíÈ¶ÜTavernHelper`),this.generateWithTavern(e))}const n=this.getAPIConfigForUsageType(t);return n?(console.log(`[AIÊúçÂä°-ÁΩëÈ°µ] ‰ΩøÁî®ÂäüËÉΩ[${t}]ÂàÜÈÖçÁöÑAPI: ${n.name}`),this.generateWithAPIConfig(e,{provider:n.provider,url:n.url,apiKey:n.apiKey,model:n.model,temperature:n.temperature,maxTokens:n.maxTokens})):this.generateWithCustomAPI(e)}async generateRaw(e){this.syncModeWithEnvironment();const t=e.usageType||"main";if(console.log(`[AIÊúçÂä°] Ë∞ÉÁî®generateRawÔºåÊ®°Âºè: ${this.config.mode}, usageType: ${t}`),"tavern"===this.config.mode){if("main"===t)return console.log("[AIÊúçÂä°-ÈÖíÈ¶Ü] ‰∏ªAPI RawË∞ÉÁî®Ôºå‰ΩøÁî®ÈÖíÈ¶ÜTavernHelper"),this.generateRawWithTavern(e);const n=this.getAPIConfigForUsageType(t);return n?(console.log(`[AIÊúçÂä°-ÈÖíÈ¶Ü] ËæÖÂä©ÂäüËÉΩ[${t}]‰ΩøÁî®Áã¨Á´ãAPI: ${n.name}`),this.generateRawWithAPIConfig(e,{provider:n.provider,url:n.url,apiKey:n.apiKey,model:n.model,temperature:n.temperature,maxTokens:n.maxTokens})):(console.log(`[AIÊúçÂä°-ÈÖíÈ¶Ü] ËæÖÂä©ÂäüËÉΩ[${t}]Êú™ÈÖçÁΩÆÁã¨Á´ãAPIÔºå‰ΩøÁî®ÈÖíÈ¶ÜTavernHelper`),this.generateRawWithTavern(e))}const n=this.getAPIConfigForUsageType(t);return n?(console.log(`[AIÊúçÂä°-ÁΩëÈ°µ] ‰ΩøÁî®ÂäüËÉΩ[${t}]ÂàÜÈÖçÁöÑAPI: ${n.name}`),this.generateRawWithAPIConfig(e,{provider:n.provider,url:n.url,apiKey:n.apiKey,model:n.model,temperature:n.temperature,maxTokens:n.maxTokens})):this.generateRawWithCustomAPI(e)}async generateWithAPIConfig(e,t){console.log(`[AIÊúçÂä°] ‰ΩøÁî®ÊåáÂÆöAPIÈÖçÁΩÆÁîüÊàêÔºåprovider: ${t.provider}, model: ${t.model}`);const n=this.config.customAPI?{...this.config.customAPI}:null;try{return this.config.customAPI={provider:t.provider,url:t.url,apiKey:t.apiKey,model:t.model,temperature:t.temperature??.7,maxTokens:t.maxTokens??16e3},await this.generateWithCustomAPI(e)}finally{n&&(this.config.customAPI=n)}}async generateRawWithAPIConfig(e,t){console.log(`[AIÊúçÂä°] ‰ΩøÁî®ÊåáÂÆöAPIÈÖçÁΩÆËøõË°åÁ∫ØÂáÄÁîüÊàêÔºåprovider: ${t.provider}, model: ${t.model}`);const n=this.config.customAPI?{...this.config.customAPI}:null;try{return this.config.customAPI={provider:t.provider,url:t.url,apiKey:t.apiKey,model:t.model,temperature:t.temperature??.7,maxTokens:t.maxTokens??16e3},await this.generateRawWithCustomAPI(e)}finally{n&&(this.config.customAPI=n)}}async generateWithTavern(e){const t=this.getTavernHelper();if(!t)throw new Error(this.isTavernEnvironment()?"ÈÖíÈ¶ÜÁéØÂ¢É‰∏çÂèØÁî®ÔºåËØ∑ÂàáÊç¢Âà∞Ëá™ÂÆö‰πâAPIÊ®°ÂºèÊàñÂú®SillyTavern‰∏≠ÊâìÂºÄ":"ÂΩìÂâçÁéØÂ¢É‰∏çÂèØÁî®ÔºåËØ∑ÂàáÊç¢Âà∞Ëá™ÂÆö‰πâAPIÊ®°Âºè");console.log("[AIÊúçÂä°-ÈÖíÈ¶Ü] Ë∞ÉÁî®tavernHelper.generate");try{return await this.withRetry("tavern.generate",()=>t.generate(e))}catch(e){throw this.toUserFacingError(e)}}async generateRawWithTavern(e){const t=this.getTavernHelper();if(!t)throw new Error(this.isTavernEnvironment()?"ÈÖíÈ¶ÜÁéØÂ¢É‰∏çÂèØÁî®ÔºåËØ∑ÂàáÊç¢Âà∞Ëá™ÂÆö‰πâAPIÊ®°ÂºèÊàñÂú®SillyTavern‰∏≠ÊâìÂºÄ":"ÂΩìÂâçÁéØÂ¢É‰∏çÂèØÁî®ÔºåËØ∑ÂàáÊç¢Âà∞Ëá™ÂÆö‰πâAPIÊ®°Âºè");console.log("[AIÊúçÂä°-ÈÖíÈ¶Ü] Ë∞ÉÁî®tavernHelper.generateRaw");try{const n=await this.withRetry("tavern.generateRaw",()=>t.generateRaw(e));return String(n)}catch(e){throw this.toUserFacingError(e)}}async withRetry(e,t,n){const a=n?.retries??2,r=n?.baseDelayMs??800;let o;for(let n=0;n<=a;n++)try{return await t()}catch(t){if(o=t,!this.isRetryableError(t)||n>=a)break;const i=Math.floor(250*Math.random()),s=r*Math.pow(2,n)+i;console.warn(`[AIÊúçÂä°] ${e} Â§±Ë¥•ÔºåÂáÜÂ§áÈáçËØï (${n+1}/${a+1})Ôºå${s}ms`,t),await new Promise(e=>setTimeout(e,s))}throw o}isRetryableError(e){const t=e?"string"==typeof e?e:e instanceof Error?e.message||"":String(e):"",n=(()=>{const t=e;return t?.status??t?.response?.status??t?.cause?.status??t?.cause?.response?.status})();return"number"==typeof n?[408,409,425,429,500,502,503,504].includes(n):!!/service unavailable/i.test(t)||!!/\b(429|500|502|503|504)\b/.test(t)||!!/timeout|timed out|network error|fetch failed/i.test(t)}toUserFacingError(e){const t=e,n=e?"string"==typeof e?e:e instanceof Error?e.message||"Êú™Áü•ÈîôËØØ":String(e):"Êú™Áü•ÈîôËØØ",a=t?.status??t?.response?.status??t?.cause?.status??t?.cause?.response?.status;if(503===a||/service unavailable/i.test(n)){const t=new Error("AI ÊúçÂä°ÊöÇ‰∏çÂèØÁî®ÔºàService Unavailable/503Ôºâ„ÄÇÊàëÂ∑≤Ëá™Âä®ÈáçËØï‰ªçÂ§±Ë¥•ÔºöÂ¶ÇÊûúÂú® SillyTavern ÂÜÖ‰ΩøÁî®ÔºåËØ∑Ê£ÄÊü•ÂΩìÂâç API Êèê‰æõÊñπ/‰ª£ÁêÜ/È¢ùÂ∫¶ÊòØÂê¶Ê≠£Â∏∏Ôºõ‰πüÂèØËÉΩÊòØ‰∏äÊ∏∏‰∏¥Êó∂ÊïÖÈöúÔºåÁ®çÂêéÂÜçËØï„ÄÇ");return t.cause=e,t}if(429===a||/\b429\b/.test(n)){const t=new Error("AI ËØ∑Ê±ÇËøá‰∫éÈ¢ëÁπÅÔºà429Ôºâ„ÄÇÊàëÂ∑≤Ëá™Âä®ÈáçËØïÔºå‰ªçÂ§±Ë¥•ËØ∑Á®çÂêéÂÜçËØïÊàñÈôç‰ΩéÂπ∂Âèë/È¢ëÁéá„ÄÇ");return t.cause=e,t}const r=new Error(n||"AI Ë∞ÉÁî®Â§±Ë¥•");return r.cause=e,r}getTavernHelper(){if("undefined"==typeof window)return null;if(window.TavernHelper)return window.TavernHelper;try{if(window.top&&window.top!==window&&window.top.TavernHelper)return window.top.TavernHelper}catch{}let e=window;for(let t=0;t<5;t++)try{if(!e.parent||e.parent===e)break;if(e.parent.TavernHelper)return e.parent.TavernHelper;e=e.parent}catch{break}return null}isTavernEnvironment(){return!!this.getTavernHelper()}async generateWithCustomAPI(e){if(!this.config.customAPI)throw new Error("Ëá™ÂÆö‰πâAPIÊú™ÈÖçÁΩÆ");console.log("[AIÊúçÂä°-Ëá™ÂÆö‰πâ] ÊûÑÂª∫Ê∂àÊÅØÂàóË°®");const t=[];e.injects&&e.injects.length>0&&([...e.injects].sort((e,t)=>t.depth-e.depth).forEach(e=>{"</input>"!==e.content&&t.push({role:e.role,content:e.content})}),console.log(`[AIÊúçÂä°-Ëá™ÂÆö‰πâ] Â∑≤Ê∑ªÂä† ${t.length} Êù°injectÊ∂àÊÅØ`)),e.user_input&&(t.push({role:"user",content:e.user_input}),console.log("[AIÊúçÂä°-Ëá™ÂÆö‰πâ] Â∑≤Ê∑ªÂä†Áî®Êà∑ËæìÂÖ•"));const n=e.should_stream??this.config.streaming??!1;return this.callAPI(t,n,e.onStreamChunk)}async generateRawWithCustomAPI(e){if(!this.config.customAPI)throw new Error("Ëá™ÂÆö‰πâAPIÊú™ÈÖçÁΩÆ");console.log("[AIÊúçÂä°-Ëá™ÂÆö‰πâRaw] ‰ΩøÁî®ordered_prompts");const t=(e.ordered_prompts||[]).filter(e=>"</input>"!==e.content);console.log(`[AIÊúçÂä°-Ëá™ÂÆö‰πâRaw] Ê∂àÊÅØÊï∞Èáè: ${t.length}`);const n=e.should_stream??this.config.streaming??!1;return this.callAPI(t,n,e.onStreamChunk)}async callAPI(e,t,n){const{provider:a,url:r,apiKey:o,model:i,temperature:s,maxTokens:l}=this.config.customAPI;switch(console.log(`[AIÊúçÂä°-APIË∞ÉÁî®] Provider: ${a}, URL: ${r}, Model: ${i}, Ê∂àÊÅØÊï∞: ${e.length}, ÊµÅÂºè: ${t}`),a){case"claude":return this.callClaudeAPI(e,t,n);case"gemini":return this.callGeminiAPI(e,t,n);default:return this.callOpenAICompatibleAPI(e,t,n)}}estimateTokensForText(e){if(!e)return 0;let t=0;for(const n of e){const e=n.charCodeAt(0);e>=19968&&e<=40959&&t++}const n=Math.max(0,e.length-t);return t+Math.ceil(n/4)}estimateTokensForMessages(e){return e.reduce((e,t)=>e+8+this.estimateTokensForText(t.content||""),0)}getApproxContextWindow(e,t){const n=(t||"").toLowerCase();return"claude"===e||n.includes("claude")?2e5:"gemini"===e||n.includes("gemini")?1e6:n.includes("deepseek")?64e3:n.includes("moonshot")||n.includes("kimi")||n.includes("gpt-4o")||n.includes("gpt-4.1")||n.includes("o1")||n.includes("o3")||n.includes("gpt-4")?128e3:n.includes("gpt-3.5")?16385:null}clampMaxTokensForContext(e,t,n,a){const r=this.getApproxContextWindow(e,t);if(!r)return a;const o=this.estimateTokensForMessages(n),i=r-o-512;if(i<256)throw new Error(`API‰∏ä‰∏ãÊñáÈïøÂ∫¶‰∏çË∂≥ÔºöËæìÂÖ•ËøáÈïøÔºà‰º∞ÁÆóËæìÂÖ•‚âà${o} tokensÔºâÔºåËØ∑ÂáèÂ∞ë‰∏ñÁïå/ÊèêÁ§∫ËØçÈïøÂ∫¶ÊàñÊõ¥Êç¢Êõ¥Â§ß‰∏ä‰∏ãÊñáÊ®°Âûã„ÄÇ`);const s=Math.min(a,Math.max(256,i));return s<a&&console.warn(`[AIÊúçÂä°] maxTokensËøáÂ§ßÔºåÂ∑≤Ëá™Âä®‰∏ãË∞ÉÔºö${a} -> ${s}Ôºà‰º∞ÁÆóËæìÂÖ•‚âà${o}ÔºåÊ®°Âûã‰∏ä‰∏ãÊñá‚âà${r}Ôºâ`),s}isStreamUnsupportedError(e){const t=(e||"").toLowerCase();return t.includes("stream")&&(t.includes("not supported")||t.includes("unsupported")||t.includes("invalid")||t.includes("unknown"))||t.includes("text/event-stream")||t.includes("sse")}async callOpenAICompatibleAPI(e,t,n){const{provider:r,url:o,apiKey:i,model:s,temperature:l,maxTokens:c}=this.config.customAPI,d=this.clampMaxTokensForContext(r,s,e,c||16e3);try{if(!t){const t=(await a.A.post(`${o}/v1/chat/completions`,{model:s,messages:e,temperature:l||.7,max_tokens:d,stream:!1},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},timeout:12e4})).data.choices[0].message.content;return console.log(`[AIÊúçÂä°-OpenAI] ÂìçÂ∫îÈïøÂ∫¶: ${t.length}`),t}try{return await this.streamingRequestOpenAI(o,i,s,e,l||.7,d,n)}catch(t){const n=t instanceof Error?t.message:String(t);if(!this.isStreamUnsupportedError(n))throw t;console.warn("[AIÊúçÂä°-OpenAIÂÖºÂÆπ] ÂΩìÂâçAPIÂèØËÉΩ‰∏çÊîØÊåÅÊµÅÂºè‰º†ËæìÔºåÂ∑≤Ëá™Âä®ÈôçÁ∫ß‰∏∫ÈùûÊµÅÂºèËØ∑Ê±Ç„ÄÇ");const r=(await a.A.post(`${o}/v1/chat/completions`,{model:s,messages:e,temperature:l||.7,max_tokens:d,stream:!1},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},timeout:12e4})).data.choices[0].message.content;return console.log(`[AI√¶≈ì¬ç√•≈†¬°-OpenAI] √•‚Äú¬ç√•¬∫‚Äù√©‚Ä¢¬ø√•¬∫¬¶: ${r.length}`),r}}catch(e){if(console.error("[AIÊúçÂä°-OpenAI] Â§±Ë¥•:",e),a.A.isAxiosError(e)){if(e.response)throw new Error(`APIÈîôËØØ ${e.response.status}: ${JSON.stringify(e.response.data)}`);if(e.request)throw new Error("ÁΩëÁªúÈîôËØØÔºöÊó†Ê≥ïËøûÊé•Âà∞APIÊúçÂä°Âô®")}throw new Error(`OpenAI APIË∞ÉÁî®Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}}async callClaudeAPI(e,t,n){const{provider:r,url:o,apiKey:i,model:s,temperature:l,maxTokens:c}=this.config.customAPI;let d="";const u=[];for(const t of e)"system"===t.role?d+=(d?"\n\n":"")+t.content:u.push({role:t.role,content:t.content});0!==u.length&&"user"===u[0].role||u.unshift({role:"user",content:"ËØ∑ÂºÄÂßã„ÄÇ"});const m=o||"https://api.anthropic.com",p=this.clampMaxTokensForContext(r,s,[...d?[{content:d}]:[],...u.map(e=>({content:e.content}))],c||16e3);try{if(!t){const e=await a.A.post(`${m}/v1/messages`,{model:s,max_tokens:p,system:d||void 0,messages:u,temperature:l||.7},{headers:{"x-api-key":i,"anthropic-version":"2023-06-01","Content-Type":"application/json"},timeout:12e4}),t=e.data.content[0]?.text||"";return console.log(`[AIÊúçÂä°-Claude] ÂìçÂ∫îÈïøÂ∫¶: ${t.length}`),t}try{return await this.streamingRequestClaude(m,i,s,d,u,l||.7,p,n)}catch(e){const t=e instanceof Error?e.message:String(e);if(!this.isStreamUnsupportedError(t))throw e;console.warn("[AIÊúçÂä°-Claude] ÂΩìÂâçAPIÂèØËÉΩ‰∏çÊîØÊåÅÊµÅÂºè‰º†ËæìÔºåÂ∑≤Ëá™Âä®ÈôçÁ∫ß‰∏∫ÈùûÊµÅÂºèËØ∑Ê±Ç„ÄÇ");const n=await a.A.post(`${m}/v1/messages`,{model:s,max_tokens:p,system:d||void 0,messages:u,temperature:l||.7},{headers:{"x-api-key":i,"anthropic-version":"2023-06-01","Content-Type":"application/json"},timeout:12e4}),r=n.data.content[0]?.text||"";return console.log(`[AIÊúçÂä°-Claude] ÂìçÂ∫îÈïøÂ∫¶: ${r.length}`),r}}catch(e){if(console.error("[AIÊúçÂä°-Claude] Â§±Ë¥•:",e),a.A.isAxiosError(e)&&e.response)throw new Error(`Claude APIÈîôËØØ ${e.response.status}: ${JSON.stringify(e.response.data)}`);throw new Error(`Claude APIË∞ÉÁî®Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}}async callGeminiAPI(e,t,n){const{provider:r,url:o,apiKey:i,model:s,temperature:l,maxTokens:c}=this.config.customAPI;let d="";const u=[];for(const t of e)"system"===t.role?d+=(d?"\n\n":"")+t.content:u.push({role:"assistant"===t.role?"model":"user",parts:[{text:t.content}]});0===u.length&&u.push({role:"user",parts:[{text:"ËØ∑ÂºÄÂßã„ÄÇ"}]});const m=o||"https://generativelanguage.googleapis.com",p=t?"streamGenerateContent":"generateContent",g=this.clampMaxTokensForContext(r,s,[...d?[{content:d}]:[],...u.map(e=>({content:(e.parts||[]).map(e=>e.text).join("\n")}))],c||16e3);try{if(!t){const e=await a.A.post(`${m}/v1beta/models/${s}:${p}?key=${i}`,{contents:u,systemInstruction:d?{parts:[{text:d}]}:void 0,generationConfig:{temperature:l||.7,maxOutputTokens:g}},{headers:{"Content-Type":"application/json"},timeout:12e4}),t=e.data.candidates?.[0]?.content?.parts?.[0]?.text||"";return console.log(`[AIÊúçÂä°-Gemini] ÂìçÂ∫îÈïøÂ∫¶: ${t.length}`),t}try{return await this.streamingRequestGemini(m,i,s,d,u,l||.7,g,n)}catch(e){const t=e instanceof Error?e.message:String(e);if(!this.isStreamUnsupportedError(t))throw e;console.warn("[AIÊúçÂä°-Gemini] ÂΩìÂâçAPIÂèØËÉΩ‰∏çÊîØÊåÅÊµÅÂºè‰º†ËæìÔºåÂ∑≤Ëá™Âä®ÈôçÁ∫ß‰∏∫ÈùûÊµÅÂºèËØ∑Ê±Ç„ÄÇ");const n=await a.A.post(`${m}/v1beta/models/${s}:generateContent?key=${i}`,{contents:u,systemInstruction:d?{parts:[{text:d}]}:void 0,generationConfig:{temperature:l||.7,maxOutputTokens:g}},{headers:{"Content-Type":"application/json"},timeout:12e4}),r=n.data.candidates?.[0]?.content?.parts?.[0]?.text||"";return console.log(`[AIÊúçÂä°-Gemini] ÂìçÂ∫îÈïøÂ∫¶: ${r.length}`),r}}catch(e){if(console.error("[AIÊúçÂä°-Gemini] Â§±Ë¥•:",e),a.A.isAxiosError(e)&&e.response)throw new Error(`Gemini APIÈîôËØØ ${e.response.status}: ${JSON.stringify(e.response.data)}`);throw new Error(`Gemini APIË∞ÉÁî®Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}}async streamingRequestOpenAI(e,t,n,a,r,o,i){console.log("[AIÊúçÂä°-OpenAIÊµÅÂºè] ÂºÄÂßã");const s=await fetch(`${e}/v1/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"text/event-stream","Content-Type":"application/json"},body:JSON.stringify({model:n,messages:a,temperature:r,max_tokens:o,stream:!0})});if(!s.ok)throw new Error(`APIÈîôËØØ ${s.status}: ${await s.text()}`);const l=s.headers.get("content-type")||"";if(!l.includes("text/event-stream"))throw new Error(`Stream unsupported (content-type=${l||"unknown"})`);return this.processSSEStream(s,e=>{const t=JSON.parse(e);return t.choices[0]?.delta?.content||""},i)}async streamingRequestClaude(e,t,n,a,r,o,i,s){console.log("[AIÊúçÂä°-ClaudeÊµÅÂºè] ÂºÄÂßã");const l=await fetch(`${e}/v1/messages`,{method:"POST",headers:{"x-api-key":t,"anthropic-version":"2023-06-01",Accept:"text/event-stream","Content-Type":"application/json"},body:JSON.stringify({model:n,max_tokens:i,system:a||void 0,messages:r,temperature:o,stream:!0})});if(!l.ok)throw new Error(`Claude APIÈîôËØØ ${l.status}: ${await l.text()}`);const c=l.headers.get("content-type")||"";if(!c.includes("text/event-stream"))throw new Error(`Stream unsupported (content-type=${c||"unknown"})`);return this.processSSEStream(l,e=>{const t=JSON.parse(e);return"content_block_delta"===t.type&&t.delta?.text||""},s)}async streamingRequestGemini(e,t,n,a,r,o,i,s){console.log("[AIÊúçÂä°-GeminiÊµÅÂºè] ÂºÄÂßã");const l=await fetch(`${e}/v1beta/models/${n}:streamGenerateContent?key=${t}&alt=sse`,{method:"POST",headers:{Accept:"text/event-stream","Content-Type":"application/json"},body:JSON.stringify({contents:r,systemInstruction:a?{parts:[{text:a}]}:void 0,generationConfig:{temperature:o,maxOutputTokens:i}})});if(!l.ok)throw new Error(`Gemini APIÈîôËØØ ${l.status}: ${await l.text()}`);const c=l.headers.get("content-type")||"";if(!c.includes("text/event-stream"))throw new Error(`Stream unsupported (content-type=${c||"unknown"})`);return this.processSSEStream(l,e=>{const t=JSON.parse(e);return t.candidates?.[0]?.content?.parts?.[0]?.text||""},s)}async processSSEStream(e,t,n){const a=e.body?.getReader();if(!a)throw new Error("Êó†Ê≥ïËé∑ÂèñÂìçÂ∫îÊµÅ");const r=new TextDecoder;let o="",i="",s=!1,l="";const c=()=>"undefined"!=typeof performance&&performance.now?performance.now():Date.now();let d=c(),u=0;const m=async e=>{if(!n)return;u+=e;const t=c();(u>=80||t-d>=60)&&(u=0,d=t,await new Promise(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>e()):setTimeout(e,0)}))};try{for(;;){const{done:e,value:c}=await a.read();if(e)break;i+=r.decode(c,{stream:!0});const d=i.split("\n");i=d.pop()||"";for(const e of d){const a=e.trim();if(!a||!a.startsWith("data:"))continue;let r=a.slice(5);if(r.startsWith(" ")&&(r=r.slice(1)),"[DONE]"!==r)try{const e=t(r);if(e){o+=e;for(let t=0;t<e.length;t++)if(l+=e[t],l.includes("<thinking>"))s=!0,l="";else if(s&&l.includes("</thinking>"))s=!1,l="";else{if(s){const e=l.indexOf("```json"),t=l.indexOf("```"),a=-1!==e?e:t;if(-1!==a){const e=l.slice(a);s=!1,l="",n&&n(e),await m(e.length);continue}}s||(!"<thinking>".startsWith(l)&&!"</thinking>".startsWith(l)&&l.length>0?(n&&(console.log("[AIÊúçÂä°-ÊµÅÂºè] ÂèëÈÄÅchunkÂà∞ÂâçÁ´Ø:",l.length,"Â≠óÁ¨¶"),n(l)),await m(l.length),l=""):l.length>10&&(n&&(console.log("[AIÊúçÂä°-ÊµÅÂºè] ÂèëÈÄÅchunkÂà∞ÂâçÁ´Ø(ÁºìÂÜ≤Âå∫ËøáÂ§ß):",l.length,"Â≠óÁ¨¶"),n(l)),await m(l.length),l=""))}}}catch(e){console.warn("[AIÊúçÂä°-ÊµÅÂºè] Ëß£ÊûêchunkÂ§±Ë¥•:",r.substring(0,100))}}}!s&&l.length>0&&(n&&n(l),await m(l.length))}finally{a.releaseLock()}return console.log(`[AIÊúçÂä°-ÊµÅÂºè] ÂÆåÊàêÔºåÊÄªÈïøÂ∫¶: ${o.length}`),o}checkAvailability(){return"tavern"===this.config.mode?this.getTavernHelper()?{available:!0,message:"ÈÖíÈ¶ÜÊ®°ÂºèÂ∑≤Â∞±Áª™"}:{available:!1,message:this.isTavernEnvironment()?"ÈÖíÈ¶ÜÁéØÂ¢É‰∏çÂèØÁî®„ÄÇËØ∑Âú®SillyTavern‰∏≠ÊâìÂºÄÔºåÊàñÂàáÊç¢Âà∞Ëá™ÂÆö‰πâAPIÊ®°Âºè„ÄÇ":"ÂΩìÂâçÁéØÂ¢É‰∏çÂèØÁî®ÔºåËØ∑ÂàáÊç¢Âà∞Ëá™ÂÆö‰πâAPIÊ®°Âºè„ÄÇ"}:this.config.customAPI?.url&&this.config.customAPI?.apiKey?{available:!0,message:"Ëá™ÂÆö‰πâAPIÊ®°ÂºèÂ∑≤Â∞±Áª™"}:{available:!1,message:"Ëá™ÂÆö‰πâAPIÊú™ÈÖçÁΩÆ„ÄÇËØ∑Âú®ËÆæÁΩÆ‰∏≠ÈÖçÁΩÆAPIÂú∞ÂùÄÂíåÂØÜÈí•„ÄÇ"}}}},7457:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.modal-overlay[data-v-3e075713] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n}\n.modal-container[data-v-3e075713] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  width: 90%;\n  max-width: 600px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  animation: slideUp-3e075713 0.3s ease-out;\n}\n@keyframes slideUp-3e075713 {\nfrom {\n    opacity: 0;\n    transform: translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.modal-header[data-v-3e075713] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-title[data-v-3e075713] {\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--color-text);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.modal-close[data-v-3e075713] {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.modal-close[data-v-3e075713]:hover {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-text);\n}\n.modal-content[data-v-3e075713] {\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n  min-height: 200px;\n}\n\n/* Loading State */\n.loading-state[data-v-3e075713] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem;\n  gap: 1rem;\n}\n.spinner[data-v-3e075713] {\n  width: 40px;\n  height: 40px;\n  border: 3px solid rgba(var(--color-primary-rgb), 0.2);\n  border-top-color: var(--color-primary);\n  border-radius: 50%;\n  animation: spin-3e075713 1s linear infinite;\n}\n@keyframes spin-3e075713 {\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* Empty State */\n.empty-state[data-v-3e075713] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 2rem;\n  text-align: center;\n}\n.empty-icon[data-v-3e075713] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  opacity: 0.5;\n}\n.empty-state p[data-v-3e075713] {\n  margin: 0.5rem 0;\n  color: var(--color-text-secondary);\n}\n.empty-hint[data-v-3e075713] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  opacity: 0.7;\n  max-width: 300px;\n}\n\n/* Export Options */\n.export-options[data-v-3e075713] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n}\n.option-label[data-v-3e075713] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 1rem;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.option-label[data-v-3e075713]:hover {\n  border-color: var(--color-primary);\n  background: var(--color-surface-lighter);\n}\n.radio-input[data-v-3e075713] {\n  margin-top: 0.2rem;\n  cursor: pointer;\n}\n.option-text[data-v-3e075713] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  flex: 1;\n}\n.option-title[data-v-3e075713] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.option-desc[data-v-3e075713] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n\n/* Presets List */\n.presets-list[data-v-3e075713] {\n  margin-bottom: 1.5rem;\n}\n.list-header[data-v-3e075713] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem;\n  background: var(--color-surface-light);\n  border-radius: 6px;\n  margin-bottom: 1rem;\n}\n.checkbox-label[data-v-3e075713] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-size: 0.9rem;\n  color: var(--color-text);\n}\n.checkbox-input[data-v-3e075713] {\n  cursor: pointer;\n}\n.selected-count[data-v-3e075713] {\n  font-size: 0.85rem;\n  color: var(--color-primary);\n  font-weight: 500;\n}\n.preset-items[data-v-3e075713] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  max-height: 300px;\n  overflow-y: auto;\n  padding: 0.25rem;\n}\n.preset-item[data-v-3e075713] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.preset-item[data-v-3e075713]:hover {\n  border-color: var(--color-primary);\n  background: var(--color-surface-lighter);\n}\n.preset-item.selected[data-v-3e075713] {\n  border-color: var(--color-primary);\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.1));\n}\n.preset-info[data-v-3e075713] {\n  flex: 1;\n}\n.preset-header[data-v-3e075713] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.25rem;\n}\n.preset-name[data-v-3e075713] {\n  margin: 0;\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.preset-date[data-v-3e075713] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.preset-description[data-v-3e075713] {\n  margin: 0.25rem 0;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.3;\n}\n.preset-tags[data-v-3e075713] {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.5rem;\n  flex-wrap: wrap;\n}\n.info-tag[data-v-3e075713] {\n  padding: 0.2rem 0.6rem;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n  border-radius: 10px;\n  font-size: 0.7rem;\n  color: var(--color-primary);\n}\n.info-tag.name-tag[data-v-3e075713] {\n  background: linear-gradient(135deg, rgba(var(--color-accent-rgb), 0.15), rgba(var(--color-primary-rgb), 0.15));\n  border-color: var(--color-accent);\n  color: var(--color-accent);\n  font-weight: 600;\n}\n.info-tag.age-tag[data-v-3e075713] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  border-color: rgba(var(--color-success-rgb), 0.3);\n  color: var(--color-success);\n}\n\n/* Export Info */\n.export-info[data-v-3e075713] {\n  padding: 1rem;\n  background: rgba(var(--color-primary-rgb), 0.05);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.1);\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.info-item[data-v-3e075713] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.85rem;\n}\n.info-label[data-v-3e075713] {\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n.info-value[data-v-3e075713] {\n  color: var(--color-text);\n  font-family: 'Monaco', 'Courier New', monospace;\n}\n.modal-footer[data-v-3e075713] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding: 1.5rem;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n}\n.btn[data-v-3e075713] {\n  padding: 0.7rem 1.5rem;\n  border-radius: 6px;\n  border: none;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n.btn-cancel[data-v-3e075713] {\n  background: var(--color-surface-lighter);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-cancel[data-v-3e075713]:hover:not(:disabled) {\n  background: rgba(var(--color-text-rgb), 0.05);\n  border-color: var(--color-text-secondary);\n}\n.btn-confirm[data-v-3e075713] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: #fff;\n  border: none;\n  min-width: 120px;\n}\n.btn-confirm[data-v-3e075713]:hover:not(:disabled) {\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);\n  transform: translateY(-2px);\n}\n.btn-confirm[data-v-3e075713]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* ÁßªÂä®Á´ØÈÄÇÈÖç */\n@media (max-width: 768px) {\n.modal-container[data-v-3e075713] {\n    width: 95%;\n    max-width: 100%;\n    border-radius: 8px;\n}\n.modal-header[data-v-3e075713] {\n    padding: 1rem;\n}\n.modal-title[data-v-3e075713] {\n    font-size: 1.1rem;\n}\n.modal-content[data-v-3e075713] {\n    padding: 1rem;\n}\n.modal-footer[data-v-3e075713] {\n    padding: 1rem;\n    flex-direction: column-reverse;\n    gap: 0.75rem;\n}\n.btn[data-v-3e075713] {\n    width: 100%;\n    padding: 0.8rem 1rem;\n}\n}\n",""]);const s=i},7527:(e,t,n)=>{"use strict";n.d(t,{Gr:()=>i,VQ:()=>r,eQ:()=>a,qS:()=>s,yM:()=>o});const a=[{id:1,name:"ÈúìËôπÂ∑®Âüé",era:"ËµõÂçöÁ∫™ÂÖÉ67Âπ¥",description:"ËøôÊòØ‰∏ÄÂ∫ßÊ∞∏‰∏çÁÜÑÁÅØÁöÑË∂ÖÁ∫ßÈÉΩÂ∏ÇÔºåÂ°îÊ•º‰∏éË¥´Ê∞ëÂå∫Â±ÇÂ±ÇÂè†Âéã„ÄÇÂÖ¨Âè∏ËÅîÁõüÊéåÊéßËÉΩÊ∫ê„ÄÅÁΩëÁªú‰∏éÁîüÂëΩÊï∞ÊçÆÔºåË°óÂ§¥Â∏ÆÊ¥æ‰∫âÂ§∫ÁÅ∞Ëâ≤ÈÄöÈÅì„ÄÇÂ§©Á©∫Ë¢´ÂπøÂëäÊäïÂΩ±‰∏éÁõëÊéßÊó†‰∫∫Êú∫Âç†ÊçÆÔºåÂú∞Ë°®ÂàôË¢´Èõ®‰∏éÈúìËôπÊµ∏ÈÄè„ÄÇÊØè‰∏ÄÊ¨°ÂçáÁ∫ß„ÄÅÊØè‰∏ÄÊù°ÊÉÖÊä•ÈÉΩ‰ª•‰ø°Áî®ÁÇπËÆ°‰ª∑ÔºåËÄå‰Ω†ÁöÑÁîüÂ≠ò‰æùËµñ‰∫éÈÄüÂ∫¶„ÄÅÂÖ≥Á≥ª‰∏éËÉÜÈáè„ÄÇ"},{id:2,name:"ËæπÁºòÁéØÂ∏¶",era:"ÂêàÊàêÁ∫™ÂÖÉ97Âπ¥",description:"ËøúÁ¶ª‰∏≠ÂøÉÂüéÁöÑÁéØÂ∏¶ÂÖÖÊñ•Â∫üÂºÉÂ∑•ÂéÇ‰∏éËá™Âä®ÂåñÂÜúÂú∫„ÄÇËøôÈáåÊ≤°ÊúâÂÆåÊï¥Ê≥ïÂ∫¶ÔºåÂè™ÊúâÂªâ‰ª∑ÁöÑ‰πâ‰Ωì„ÄÅËµ∞ÁßÅÁöÑÊäÄÊúØÂíåË¢´ÊäõÂºÉÁöÑ‰∫∫Áæ§„ÄÇÂ§úÊôöÁöÑÈ£éÊê∫Â∏¶ÁùÄÂ∑•‰∏öÂ∞òÂüÉ‰∏éÁîµÁ£ÅÂô™Â£∞Ôºå‰ªª‰Ωï‰∫∫ÈÉΩÂèØËÉΩÂú®ËøôÈáåÂ¥õËµ∑ÊàñË¢´ÊäπÂéª„ÄÇ"},{id:3,name:"Ê∑±ÁΩëÈÅóÂüü",era:"Ê∑±ÁΩëÁ∫™ÂÖÉ88Âπ¥",description:"Ë¢´Â∞ÅÈîÅÁöÑÊóßÁΩëÁªúÂ±Ç‰∏éÂ§±ÊéßAIÊÆãÁïôÂú®Ê≠§ÂæòÂæä„ÄÇÊ∑±ÁΩëÈÅóÂüüÂÉè‰∏ÄÂ∫ßÊó†ÂΩ¢ÂüéÂ∏ÇÔºåËßÑÂàôÁî±ÁÆóÊ≥ï‰∏éÈªëÂÆ¢ÂÖ±ÂÜô„ÄÇ‰Ω†ÁöÑÊÑèËØÜÂèØËÉΩÂú®‰∏ÄÊ¨°ÊΩúÂÖ•‰∏≠Ë¢´ÈáçÂÜôÔºå‰ΩÜ‰πüÂèØËÉΩÂú®ËøôÈáåÊâæÂà∞ÊîπÂèòÂëΩËøêÁöÑÈí•Âåô„ÄÇ"},{id:4,name:"Êµ∑ÈõæËá™Áî±Ê∏Ø",era:"Êµ∑ÈõæÁ∫™ÂÖÉ54Âπ¥",description:"ÊµÆÂä®Ê∏ØÂè£‰∏éÊµ∑‰∏äÂ±Ö‰ΩèÂå∫ÊãºÊé•ÊàêÁßªÂä®ÂüéÈÇ¶„ÄÇËøôÈáåÊòØËµ∞ÁßÅËÄÖ„ÄÅ‰Ω£ÂÖµ‰∏éÊÉÖÊä•Ë¥©Â≠êÁöÑÊ±áÂêàÁÇπÔºåÊ≥ïÂæãÂè™Âú®Êû™Âè£‰∏éÂêàÂêå‰πãÈó¥Â≠òÂú®„ÄÇÊµ∑ÈõæÊé©Êä§ÁùÄ‰∫§Êòì‰∏éËÉåÂèõÔºå‰πüÊé©Êä§ÁùÄ‰Ω†‰∏ã‰∏ÄÊ¨°ÈÄâÊã©„ÄÇ"},{id:5,name:"ÁôΩÂô™È´òÂú∞",era:"Êàò‰∫âÁ∫™ÂÖÉ77Âπ¥",description:"È´òÂú∞‰ø°Âè∑Âπ≤Êâ∞‰∏•ÈáçÔºåÊóßÊó∂‰ª£ÁöÑÂÜõ‰∫ãËÆæÊñΩ‰ªçÂú®ËøêËΩ¨„ÄÇÊó†‰∫∫Êú∫Â∑°ÈÄª„ÄÅËá™Âä®ÁÇÆÂè∞‰∏éÊú™Áü•Èò≤ÁÅ´Â¢ôÊûÑÊàêÊó†Ê≥ïÈ¢ÑÊµãÁöÑÂ®ÅËÉÅ„ÄÇ‰º†ÈóªËøôÈáåËóèÊúâÂÜõËßÑÁ∫ß‰πâ‰ΩìÊ†∏ÂøÉ‰∏éÂ§±Ë∏™Êï∞ÊçÆÔºå‰ΩÜËøõÂÖ•ËÄÖÈ≤úÂ∞ëËøîÂõû„ÄÇ"}],r=[{id:1,name:"Â∫ïÂ±ÇÊîπÈÄ†",description:"Âü∫Á°Ä‰πâ‰Ωì„ÄÅËµÑÊ∫êÁ®ÄÁº∫„ÄÅÁΩëÁªúÊùÉÈôêÊûÅ‰ΩéÔºåÈúÄË¶ÅÈù†ÁîüÂ≠òÊäÄÂ∑ß‰∏é‰∫∫ËÑâÁ™ÅÂõ¥„ÄÇ",total_points:10,rarity:1,color:"#718096"},{id:2,name:"Ë°óÂ§¥‰∏ì‰∏ö",description:"ÂÖ∑Â§á‰∏Ä‰∏§È°πÂÆûÁî®ÊäÄËÉΩÔºåËÉΩÂú®ÈªëÂ∏Ç‰∏éÂßîÊâò‰∏≠Á´ãË∂≥„ÄÇ",total_points:20,rarity:2,color:"#E2E8F0"},{id:3,name:"Á≤æËã±Ë∑ëËÄÖ",description:"ÊïèÈîê„ÄÅÂº∫Èüß„ÄÅÊïàÁéáÊûÅÈ´òÔºåËÉΩÂÆåÊàêÈ´òÈ£éÈô©‰ªªÂä°„ÄÇ",total_points:35,rarity:3,color:"#63B3ED"},{id:4,name:"ÂêàÊàêÂ∞ñÂÖµ",description:"Â§öÈáçÊîπÈÄ†‰∏éÁÆóÊ≥ïÂä†ÊåÅÔºåËÉΩÂäõÁ®≥ÂÆö‰∏îË¶ÜÁõñÂπø„ÄÇ",total_points:50,rarity:4,color:"#9F7AEA"},{id:5,name:"ÈªëÂ¢ôÂπ∏Â≠òËÄÖ",description:"ÁªèÂéÜÊ∑±ÁΩëÊ±°Êüì‰ªçËÉΩ‰øùÊåÅËá™ÊàëÔºåÊûÅÂÖ∑Á®ÄÊúâÊÄß„ÄÇ",total_points:70,rarity:5,color:"#F6E05E"},{id:6,name:"ÂéüÂûãËΩΩ‰Ωì",description:"ÂÆûÈ™åÁ∫ßÁ•ûÁªèÊé•Âè£‰∏éÊ®°ÂùóÂÖºÂÆπÊÄßÊûÅÈ´ò„ÄÇ",total_points:85,rarity:6,color:"#F56565"},{id:7,name:"ÂπΩÁΩë‰º†ËØ¥",description:"Âá†‰πé‰∏çË¢´ËÆ∞ÂΩïÔºåÂç¥Ë¢´ÂúàÂÜÖÂΩì‰Ωú‰º†Â•áÂ≠òÂú®„ÄÇ",total_points:100,rarity:7,color:"#ED8936"}],o=[{id:1,name:"Ë°óÂ§¥ÂºÉÂ≠ê",description:"Âú®Ë¥´Ê∞ëÂå∫ÈïøÂ§ßÔºåÈù†Êú¨ËÉΩ‰∏éÁõ¥ËßâÁîüÂ≠ò„ÄÇ",talent_cost:0,attribute_modifiers:{root_bone:1},rarity:3},{id:2,name:"ÂÖ¨Âè∏ÈõáÂëò",description:"Êé•ÂèóÊ†áÂáÜÂåñÂüπËÆ≠ÔºåÊìÖÈïøÊµÅÁ®ã‰∏éËßÑÈÅøÈ£éÈô©„ÄÇ",talent_cost:2,attribute_modifiers:{comprehension:2},rarity:3},{id:3,name:"ÈªëÂ∏Ç‰∏≠‰ªã",description:"ÁÜüÊÇâ‰∫§ÊòìËßÑÂàôÔºåÂñÑ‰∫éÂª∫Á´ã‰∫∫ËÑâ‰∏éË∞àÂà§„ÄÇ",talent_cost:2,attribute_modifiers:{charm:2},rarity:3},{id:4,name:"ÂÆâ‰øùÈÄÄÂΩπ",description:"ÊõæÂú®Ê≠¶Ë£Ö‰ΩìÁ≥ªÊúçÂΩπÔºå‰ΩìËÉΩ‰∏éÊÑèÂøóÂùöÈüß„ÄÇ",talent_cost:3,attribute_modifiers:{temperament:2,root_bone:1},rarity:3},{id:5,name:"Áã¨Á´ãÈªëÂÆ¢",description:"ÊìÖÈïøÁ≥ªÁªüÊ∏óÈÄè‰∏é‰ø°ÊÅØÊêúÈõÜ„ÄÇ",talent_cost:4,attribute_modifiers:{comprehension:1,temperament:1},rarity:4},{id:6,name:"ËæπÂ¢ÉËµ∞ÁßÅ",description:"‰π†ÊÉØÊ∏∏Ëµ∞ÁÅ∞Âå∫ÔºåÈù¢ÂØπÂç±Êú∫ÂèçÂ∫îÊõ¥Âø´„ÄÇ",talent_cost:1,attribute_modifiers:{temperament:3},rarity:4},{id:7,name:"ËÆ∞ÂøÜÊñ≠ÁâáËÄÖ",description:"‰øùÁïôÈÉ®ÂàÜÂºÇÂ∏∏ËÆ∞ÂøÜÁ¢éÁâáÔºåÂØπÂ±ÄÂäøÊÑüÁü•ÂºÇÂ∏∏ÊïèÈîê„ÄÇ",talent_cost:5,attribute_modifiers:{comprehension:2,luck:1},rarity:5},{id:8,name:"‰πâ‰ΩìÊäÄÂ∏à",description:"ÁÜüÊÇâÊîπÈÄ†ÊµÅÁ®ãÔºåÂØπ‰∫∫‰Ωì‰∏éÊú∫Ê¢∞ËøûÊé•Êúâ‰ºòÂäø„ÄÇ",talent_cost:6,attribute_modifiers:{spirit:2,root_bone:1},rarity:5},{id:9,name:"ÂêàÊàêËØïÈ™å‰Ωì",description:"ÁªèÂéÜËøáÈ´òÈ£éÈô©ËØïÈ™åÔºåÁ≤æÁ•ûË¥üËç∑Êõ¥Â§ß‰ΩÜ‰∏äÈôêÊõ¥È´ò„ÄÇ",talent_cost:7,attribute_modifiers:{comprehension:3,temperament:-1},rarity:5},{id:10,name:"Ê∏ØÂè£Êê¨Ëøê",description:"‰ΩìËÉΩÂº∫ÂÅ•ÔºåËÄêÂäõÁ™ÅÂá∫„ÄÇ",talent_cost:1,attribute_modifiers:{root_bone:2},rarity:2},{id:11,name:"Â™í‰ΩìÁ∫ø‰∫∫",description:"ÂñÑ‰∫éÊî∂ÈõÜÊÉÖÊä•Âπ∂ÊìçÊéßËàÜËÆ∫È£éÂêë„ÄÇ",talent_cost:3,attribute_modifiers:{charm:2,temperament:1},rarity:4},{id:12,name:"Êú∫Ê¢∞Â≠¶Âæí",description:"ÊìÖÈïøÊãÜË£Ö‰∏éÊîπÈÄ†ÔºåÁêÜËß£Á°¨‰ª∂ÁªìÊûÑ„ÄÇ",talent_cost:2,attribute_modifiers:{spirit:1,comprehension:1},rarity:3},{id:13,name:"ËæπÁºòÂåªÂ∏à",description:"ÈïøÊúüÊé•Ëß¶ÊîπÈÄ†ÊâãÊúØ‰∏éËçØÁâ©ÔºåÁ•ûÁªèËÄêÂèóÊõ¥È´ò„ÄÇ",talent_cost:3,attribute_modifiers:{comprehension:2,spirit:1},rarity:4},{id:14,name:"ÊµÅÊµ™ËÄÖ",description:"ÈÄÇÂ∫îÂäõÊûÅÂº∫Ôºå‰ΩÜËµÑÊ∫ê‰∏çË∂≥„ÄÇ",talent_cost:-1,attribute_modifiers:{temperament:2,luck:-1},rarity:2}],i=[{id:1,name:"Á•ûÁªè‰ΩéÂª∂Ëøü",tier:"Â¢ûÂº∫",description:"Á•ûÁªè‰ø°Âè∑‰º†ÂØºÊïàÁéáÊûÅÈ´òÔºåÂèçÂ∫î‰∏éÂæÆÊìçÂç†‰ºò„ÄÇ",cultivation_speed:"1.6x",special_effects:["ÂèçÂ∫îÈÄüÂ∫¶+50%","Âä®‰ΩúËØØÂ∑ÆÈôç‰Ωé"],base_multiplier:1.6,talent_cost:10,rarity:3},{id:2,name:"È´òËÄêÂèó‰ΩìË¥®",tier:"Â¢ûÂº∫",description:"ÂØπÊîπÈÄ†ÂâØ‰ΩúÁî®ÂÖ∑ÊúâÊõ¥È´òËÄêÂèóÂ∫¶„ÄÇ",cultivation_speed:"1.5x",special_effects:["ÊîπÈÄ†ÊÉ©ÁΩöÈôç‰Ωé","ÊÅ¢Â§çÈÄüÂ∫¶ÊèêÂçá"],base_multiplier:1.5,talent_cost:9,rarity:3},{id:3,name:"Ê∑±ÁΩë‰∫≤Âíå",tier:"ÂÜõËßÑ",description:"ÂØπÊï∞ÊçÆÊµÅÁöÑÊÑüÁü•ÊûÅÂº∫ÔºåÈÄÇÂêàÊΩúÂÖ•‰∏éÊìçÊéß„ÄÇ",cultivation_speed:"1.8x",special_effects:["ÈªëÂÆ¢ÊïàÁéáÊèêÂçá","ÂºÇÂ∏∏ÊµÅÈáèËØÜÂà´"],base_multiplier:1.8,talent_cost:12,rarity:4},{id:4,name:"‰πâ‰ΩìÂÖºÂÆπ",tier:"ÂéüÂûã",description:"ÂØπÂ§öÁ±ªÂûã‰πâ‰ΩìÁöÑÂÖºÂÆπÊÄßÊûÅÈ´òÔºåÂçáÁ∫ßÊàêÊú¨Êõ¥‰Ωé„ÄÇ",cultivation_speed:"2.0x",special_effects:["Ê®°ÂùóÂÜ≤Á™ÅÈôç‰Ωé","ÊîπË£Ö‰∏äÈôêÊèêÈ´ò"],base_multiplier:2,talent_cost:15,rarity:4},{id:5,name:"ÈáèÂ≠êÂêåÊ≠•",tier:"Á¶ÅÂøå",description:"ÂèØÁü≠ÊöÇÂêåÊ≠•È´òÁª¥Êï∞ÊçÆÔºå‰ª£‰ª∑ÊòØÊûÅÈ´òÁ≤æÁ•ûË¥üËç∑„ÄÇ",cultivation_speed:"2.6x",special_effects:["Ë∂ÖÈ¢ëËÉΩÂäõ","Áü≠Êó∂ÁÆóÂäõÁàÜÂèë"],base_multiplier:2.6,talent_cost:22,rarity:5},{id:6,name:"Èõ∂ÊîπÈÄ†",tier:"Âü∫Á°Ä",description:"Êú™ÁªèËøáÂº∫ÂåñÁöÑËá™ÁÑ∂‰ΩìÔºåÊΩúÂäõÈúÄË¶ÅÂ§ñÈÉ®ÊîØÊíë„ÄÇ",cultivation_speed:"1.0x",special_effects:["‰ΩéÊàêÊú¨Áª¥Êä§"],base_multiplier:1,talent_cost:0,rarity:1}],s=[{id:1,name:"ÈúìËôπÂπ∏Â≠òËÄÖ",description:"ËµÑÊ∫êÊÑüÁü•ÊÉä‰∫∫ÔºåÊÄªËÉΩÂú®ÁªùÂ¢É‰∏≠ËÑ±Èô©ÔºåËé∑ÂæóÊÑèÊÉ≥‰∏çÂà∞ÁöÑÊú∫‰ºö„ÄÇ",talent_cost:15,rarity:5,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ËµÑÊ∫êÊÑüÁü•",Êï∞ÂÄº:8},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÈÄ¢Âá∂ÂåñÂêâ",Êï∞ÂÄº:.1}]},{id:2,name:"ËøëÊàòÂçèËÆÆ‰∏ìÁ≤æ",description:"Â§©ÁîüÂØπËøëÊàòÂçèËÆÆÈ´òÂ∫¶ÈÄÇÈÖçÔºå‰ªª‰ΩïÊàòÊúØ‰∏ÄÁúã‰æø‰ºöÔºå‰∏îÂ®ÅÂäõÂÄçÂ¢û„ÄÇ",talent_cost:12,rarity:5,effects:[{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"ÂàÉÁ≥ªÊàòÊúØ",Êï∞ÂÄº:.2},{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"‰ΩìË¥®",Êï∞ÂÄº:3}]},{id:3,name:"Âà∂ÂâÇ‰∏ìÂÆ∂",description:"ÂØπÈÖçÊñπ‰∏éÂèçÂ∫îÊúâË∂ÖÂá°ÁöÑÈ¢ÜÊÇüÂäõÔºåÂà∂ÂâÇÊàêÂäüÁéá‰∏éÂìÅË¥®Â§ßÂπÖÊèêÂçá„ÄÇ",talent_cost:12,rarity:5,effects:[{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"Âà∂ÂâÇ",Êï∞ÂÄº:.15},{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÁÆóÊ≥ï",Êï∞ÂÄº:2}]},{id:4,name:"Áü©ÈòµÂ§ßÂ∏à",description:"ÂØπÁü©ÈòµÁªìÊûÑÊúâÊûÅÈ´òÁöÑÂ§©ËµãÔºåÂ≠¶‰π†ÂíåÈÉ®ÁΩ≤Áü©ÈòµÁöÑÊïàÁéáÂ§ßÂ§ßÊèêÈ´ò„ÄÇ",talent_cost:8,rarity:4,effects:[{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"Áü©Èòµ",Êï∞ÂÄº:.12},{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÁÆóÊ≥ï",Êï∞ÂÄº:2}]},{id:5,name:"Ë£ÖÈÖçÈ¨ºÊâç",description:"Â§©ÁîüÂØπÂêÑÁßçÊùêÊñôÊúâÊïèÈîêÁöÑÊÑüÁü•ÔºåË£ÖÈÖçÊó∂Êõ¥ÂÆπÊòìÂá∫Áé∞ÊûÅÂìÅ„ÄÇ",talent_cost:8,rarity:4,effects:[{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"Ë£ÖÈÖç",Êï∞ÂÄº:.1},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÊùêÊñôÊÑüÁü•",Êï∞ÂÄº:1}]},{id:6,name:"Áâ©ËµÑÁåéÊâã",description:"Â§ñÂá∫Ë°åÂä®Êó∂ÔºåÊõ¥ÂÆπÊòìÂèëÁé∞È´ò‰ª∑ÂÄºËµÑÊ∫ê„ÄÇ",talent_cost:7,rarity:4,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ËµÑÊ∫êÊÑüÁü•",Êï∞ÂÄº:3},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÂØªÂÆùÂ§©Ëµã",Êï∞ÂÄº:.15}]},{id:7,name:"‰ΩìÊ†∏Âº∫Âåñ",description:"‰ΩìËÉΩÂ§©ÁîüÂº∫Ê®™ÔºåÁîüÂëΩÂÄºÊó∫ÁõõÔºåÈÄÇÂêàËÆ≠ÁªÉËøëÊàòÊ®°Âùó„ÄÇ",talent_cost:5,rarity:3,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"‰ΩìË¥®",Êï∞ÂÄº:3},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"‰Ωì‰øÆÂ§©Ëµã",Êï∞ÂÄº:.1}]},{id:8,name:"Â∏¶ÂÆΩËøá‰∫∫",description:"Â§©ÁîüÂ∏¶ÂÆΩÂº∫Â§ßÔºå‰∏çÊòìË¢´ÂøÉÊô∫Âô™Â£∞Âπ≤Êâ∞ÔºåÊñΩÂ±ïÊÑüÁü•ÊäÄÂ∑ßÊïàÊûúÊõ¥‰Ω≥„ÄÇ",talent_cost:5,rarity:3,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÁÆóÊ≥ï",Êï∞ÂÄº:3},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÂøÉÈ≠îÊäóÊÄß",Êï∞ÂÄº:.1}]},{id:9,name:"Êú∫Âä®ÂπΩÂΩ±",description:"Êú∫Âä®Ë∑ØÂæÑÊõ¥È´òÊïàÔºåÊàòÊñó‰∏≠Èó™ÈÅøËÉΩÂäõÊõ¥Âº∫„ÄÇ",talent_cost:4,rarity:3,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ËÉΩÊ∫ê",Êï∞ÂÄº:2},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"Èó™ÈÅøÂ§©Ëµã",Êï∞ÂÄº:.08}]},{id:10,name:"Ëà±Âå∫Âêé‰ª£",description:"Âá∫Ë∫´Â∫ïÂ±ÇËà±Âå∫ÔºåÂøÉÊô∫ÂùöÈüßÔºåÂØπ‰ΩúÁâ©ÂüπËÇ≤ÊúâÈ¢ùÂ§ñ‰∫≤ÂíåÂäõ„ÄÇ",talent_cost:2,rarity:2,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÂøÉÊô∫",Êï∞ÂÄº:1},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÁÅµÊ§ç‰∫≤Âíå",Êï∞ÂÄº:.1}]},{id:11,name:"ÁºìÂ≠òËÆ∞ÂøÜ",description:"ËÆ∞ÂøÜÂäõË∂ÖÁæ§ÔºåÂ≠¶‰π†Ê®°ÂùóËµÑÊñôÈÄüÂ∫¶Âä†Âø´„ÄÇ",talent_cost:2,rarity:2,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÁÆóÊ≥ï",Êï∞ÂÄº:2}]},{id:12,name:"‰ø°Áî®ÂÆàÂàô",description:"‰∏é‰∫∫‰∫§ÊòìÊó∂Ôºå‰∏çÂÆπÊòìË¢´Ê¨∫È™ó„ÄÇ",talent_cost:1,rarity:1,effects:[{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"Èò≤Ê¨∫ËØà",Êï∞ÂÄº:1}]},{id:13,name:"ÂêàÁ∫¶‰ø°Ë™â",description:"‰Ω†ÁöÑÊâøËØ∫ÊûÅÂÖ∑ÂàÜÈáèÔºåÊõ¥ÂÆπÊòìËé∑Âæó‰ªñ‰∫∫ÁöÑ‰ø°‰ªª‰∏éÂ•ΩÊÑü„ÄÇ",talent_cost:3,rarity:2,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"È≠ÖÂäõ",Êï∞ÂÄº:2}]},{id:14,name:"ÊäóÊØíÊú∫‰Ωì",description:"ÊØíÁ¥†Èöæ‰æµÔºå‰∏îËÉΩÊõ¥Â•ΩÂú∞È©æÈ©≠ËÖêËöÄÂçèËÆÆÔºå‰ΩÜÂ∏∏‰∫∫‰∏çÊï¢ËΩªÊòìÊé•Ëøë„ÄÇ",talent_cost:6,rarity:4,effects:[{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÊØíÁ¥†ÂÖçÁñ´",Êï∞ÂÄº:1},{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"ËÖêËöÄÂçèËÆÆ",Êï∞ÂÄº:.15},{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"È≠ÖÂäõ",Êï∞ÂÄº:-2}]},{id:15,name:"Ê†áËÆ∞ÁîªÈæô",description:"Âú®ÁªòÂà∂Áü©ÈòµÊ†áËÆ∞Êó∂ÔºåÊúâ‰∏ÄÂÆöÂá†Áéá‰∫ßÁîüÊÑèÊÉ≥‰∏çÂà∞ÁöÑÂº∫Â§ßÊïàÊûú„ÄÇ",talent_cost:4,rarity:3,effects:[{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"Áü©ÈòµÊ†áËÆ∞",Êï∞ÂÄº:.1},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"Ê†áËÆ∞ÂèòÂºÇ",Êï∞ÂÄº:.05}]},{id:16,name:"ËÅöÂÖâ‰∫∫Ê†º",description:"Ê∞îË¥®Âá∫‰ºóÔºåÈ≠ÖÂäõË∂ÖÁæ§„ÄÇÊó†ËÆ∫Ëµ∞Âà∞Âì™ÈáåÈÉΩÊòØ‰ºó‰∫∫Áû©ÁõÆÁöÑÁÑ¶ÁÇπÔºåÊûÅÂÆπÊòìËé∑Âæó‰ªñ‰∫∫ÁöÑÂ•ΩÊÑü‰∏é‰ø°‰ªª„ÄÇÂú®Á§æ‰∫§Âú∫ÂêàÂ¶ÇÈ±ºÂæóÊ∞¥ÔºåËÉΩÂ§ü‰ª•Ë®ÄËØ≠ÂíåÈ≠ÖÂäõÂåñËß£Â§ßÈÉ®ÂàÜÂÜ≤Á™Å„ÄÇ",talent_cost:8,rarity:4,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"È≠ÖÂäõ",Êï∞ÂÄº:5},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"È≠ÖÂäõÂÖâÁéØ",Êï∞ÂÄº:.2},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"Á§æ‰∫§Â§©Ëµã",Êï∞ÂÄº:.15}]},{id:17,name:"ÂøÉÊô∫Âõ∫ÊÄÅ",description:"ÂøÉÊô∫Â¶ÇÈìÅÔºåÂô™Â£∞Èöæ‰æµ„ÄÇÊôãÂçáÊó∂Êõ¥‰∏çÂÆπÊòìÂ§±ÊéßÔºåÂèóÂà∞ËØ±ÊÉëÂíåÂπªË±°ÂΩ±ÂìçÁöÑÂá†ÁéáÂ§ßÂπÖÈôç‰Ωé„ÄÇ",talent_cost:6,rarity:4,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÂøÉÊô∫",Êï∞ÂÄº:3},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÂøÉÈ≠îÊäóÊÄß",Êï∞ÂÄº:.3}]},{id:18,name:"ÂäõÁü©Âº∫Âåñ",description:"Â§©ÁîüÂäõÁü©Âº∫Âä≤Ôºå‰ΩìË¥®ËøúË∂ÖÂ∏∏‰∫∫„ÄÇÊìÖÈïøËøëÊàòÊêèÊùÄÔºåÁîüÂëΩÂÄºÊó∫Áõõ„ÄÇ",talent_cost:5,rarity:3,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"‰ΩìË¥®",Êï∞ÂÄº:4},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ËøëÊàòÂ¢ûÂπÖ",Êï∞ÂÄº:.2}]},{id:19,name:"Âç±Êú∫È¢ÑË≠¶",description:"ÊÑüÁü•ÊïèÈîêÔºåÂØπÂç±Èô©ÊúâÊú¨ËÉΩÁöÑÈ¢ÑÊÑü„ÄÇÂú®ÊàòÊñóÂíåÊé¢Èô©‰∏≠ËÉΩÂ§üÊèêÂâçÊÑüÁü•Âà∞Â®ÅËÉÅ„ÄÇ",talent_cost:4,rarity:3,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ËÉΩÊ∫ê",Êï∞ÂÄº:3},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"Âç±Èô©ÊÑüÁü•",Êï∞ÂÄº:1}]},{id:20,name:"Â§úË°å‰ºòÂåñ",description:"Â§úÊôöÁ≤æÁ•ûÁôæÂÄçÔºåËÆ≠ÁªÉÊïàÁéáÊèêÂçá„ÄÇ‰ΩÜÁôΩÂ§©‰ºöÊÑüÂà∞Âõ∞ÂÄ¶„ÄÇ",talent_cost:1,rarity:2,effects:[{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"Â§úÈó¥ËÆ≠ÁªÉÂä†ÈÄü",Êï∞ÂÄº:.3}]},{id:21,name:"Á≥ªÁªüÁú∑È°æ",description:"ÂèóÁ≥ªÁªüÁú∑È°æÔºåÊôãÂçáÊó∂ÊàêÂäüÁéáÊõ¥È´òÔºåÈÅ≠ÈÅáÂºÇÂ∏∏ÂÜ≤ÂáªÊó∂Â®ÅÂäõÂáèÂº±„ÄÇ",talent_cost:10,rarity:5,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ËµÑÊ∫êÊÑüÁü•",Êï∞ÂÄº:5},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÊôãÂçáÊàêÂäüÁéá",Êï∞ÂÄº:.2},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÂºÇÂ∏∏ÂÜ≤ÂáªÂâäÂº±",Êï∞ÂÄº:.15}]},{id:22,name:"ÂàÉÁ≥ªÈÄÇÈÖç",description:"Â§©Áîü‰∏éÂàÉÁ≥ªÊ≠¶Ë£ÖÈ´òÂ∫¶Â•ëÂêàÔºåËøëÊàòËæìÂá∫ÂÄçÂ¢ûÔºåÊàòÊúØÊéåÊè°ÈÄüÂ∫¶ÊûÅÂø´„ÄÇ",talent_cost:10,rarity:5,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"‰ΩìË¥®",Êï∞ÂÄº:2},{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"ÂàÉÁ≥ªÊàòÊúØ",Êï∞ÂÄº:.25},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÂàÉÁ≥ªÁõ¥Ëßâ",Êï∞ÂÄº:.2}]},{id:23,name:"Ê†∏ÂøÉÊû∂ÊûÑ‰Ωì",description:"‰º†ËØ¥‰∏≠ÁöÑÊ†∏ÂøÉÊû∂ÊûÑÔºåÂ§©ÁîüÂ•ëÂêàÁ≥ªÁªüËßÑÂàôÔºåËÆ≠ÁªÉ‰ªª‰ΩïÊ®°ÂùóÈÉΩ‰∫ãÂçäÂäüÂÄç„ÄÇ",talent_cost:18,rarity:5,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÁÆóÊ≥ï",Êï∞ÂÄº:4},{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ËÉΩÊ∫ê",Êï∞ÂÄº:4},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"‰∏áÊ≥ïÁ≤æÈÄö",Êï∞ÂÄº:.3}]},{id:24,name:"Ê†áËÆ∞Â•áÊâç",description:"ÂØπÁü©ÈòµÊ†áËÆ∞ÊúâË∂ÖÂá°ÁöÑÈ¢ÜÊÇüÔºåÁªòÂà∂ÊàêÂäüÁéáÈ´òÔºåÂ®ÅÂäõÂº∫Â§ß„ÄÇ",talent_cost:7,rarity:4,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÁÆóÊ≥ï",Êï∞ÂÄº:2},{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"Áü©ÈòµÊ†áËÆ∞",Êï∞ÂÄº:.2},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"Ê†áËÆ∞Á≤æÈÄö",Êï∞ÂÄº:.15}]},{id:25,name:"Êó†‰∫∫Êú∫‰∫≤Âíå",description:"Â§©Áîü‰∫≤Âíå‰º¥ÁîüÊó†‰∫∫Êú∫ÔºåÊõ¥ÂÆπÊòìË∞ÉÊ†°‰∏éÊ≤üÈÄöÔºåËΩΩÂÖ∑ÊàòÂäõÊèêÂçá„ÄÇ",talent_cost:6,rarity:4,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"È≠ÖÂäõ",Êï∞ÂÄº:2},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ËΩΩÂÖ∑Â•ëÁ∫¶",Êï∞ÂÄº:.3},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ËΩΩÂÖ∑ÊàòÂäõ",Êï∞ÂÄº:.2}]},{id:26,name:"ÊöóÂüüÂøÉÊô∫",description:"ÂøÉÊô∫ÂÅèÂêëÊöóÂüüË∑ØÁ∫øÔºåËÆ≠ÁªÉÈªëÂ∏ÇÊ®°ÂùóÈÄüÂ∫¶ÊûÅÂø´Ôºå‰ΩÜÂÆπÊòìËøáËΩΩÂ§±Êéß„ÄÇÂêàËßÑÊ®°ÂùóËÆ≠ÁªÉÂõ∞Èöæ„ÄÇ",talent_cost:5,rarity:4,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÂøÉÊô∫",Êï∞ÂÄº:-2},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÈªëÂ∏ÇÊ®°ÂùóÂä†ÈÄü",Êï∞ÂÄº:.4},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ËøáËΩΩÂ§±Êéß",Êï∞ÂÄº:.15}]},{id:27,name:"Ë£ÖÈÖçÊÄªÁõë",description:"ÂØπË£ÖÈÖçÊúâÈùûÂá°ÁöÑÂ§©ËµãÔºåÊâìÈÄ†ÁöÑË£ÖÂ§áÂìÅË¥®Êõ¥È´òÔºåÊàêÂäüÁéáÊõ¥È´ò„ÄÇ",talent_cost:9,rarity:4,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÁÆóÊ≥ï",Êï∞ÂÄº:2},{Á±ªÂûã:"ÊäÄËÉΩÂä†Êàê",ÊäÄËÉΩ:"Ë£ÖÈÖç",Êï∞ÂÄº:.25},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÊûÅÂìÅÊ¶ÇÁéá",Êï∞ÂÄº:.1}]},{id:28,name:"ÈªëÊòüÂëΩÊ†º",description:"ÈªëÊòüÂëΩÊ†ºÔºåÊ≥®ÂÆöÂ≠§Áã¨‰∏ÄÁîü„ÄÇËµÑÊ∫êÊÑüÁü•ÊûÅ‰ΩéÔºå‰ΩÜÂú®ÁªùÂ¢É‰∏≠Êõ¥ÂÆπÊòìÊôãÂçá„ÄÇ",talent_cost:-3,rarity:3,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ËµÑÊ∫êÊÑüÁü•",Êï∞ÂÄº:-5},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÁªùÂ¢ÉÊôãÂçá",Êï∞ÂÄº:.3}]},{id:29,name:"È¢ÑÂÖÜÊ¢¶Â¢É",description:"ÂÅ∂Â∞îËÉΩÂú®Ê¢¶‰∏≠Á™•ËßÅÊú™Êù•ÁöÑÁâáÊÆµÔºåÊèêÂâçËßÑÈÅøÂç±Èô©ÊàñÊääÊè°Êú∫Áºò„ÄÇ",talent_cost:8,rarity:5,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ÁÆóÊ≥ï",Êï∞ÂÄº:2},{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"ËµÑÊ∫êÊÑüÁü•",Êï∞ÂÄº:3},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"È¢ÑÁü•Âç±Èô©",Êï∞ÂÄº:1}]},{id:30,name:"Âª∂ÂØø‰ΩìË¥®",description:"Â§©ÁîüÂØøÂëΩÊÇ†ÈïøÔºåÊØîÂ∏∏‰∫∫Êõ¥‰∏çÊòìË°∞ËÄÅÔºåÊúâÊõ¥Â§öÊó∂Èó¥ËøΩÊ±Ç‰∏ìÁ≤æ„ÄÇ",talent_cost:12,rarity:5,effects:[{Á±ªÂûã:"ÊàêÈïøÂÖ≠Áª¥",ÁõÆÊ†á:"‰ΩìË¥®",Êï∞ÂÄº:3},{Á±ªÂûã:"ÁâπÊÆäËÉΩÂäõ",ÂêçÁß∞:"ÂØøÂëΩÂª∂Èïø",Êï∞ÂÄº:.3}]}]},7631:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.cloud-sync-button[data-v-e5d5209c] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.5rem 0.8rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 0.85rem;\n  min-width: 80px;\n  white-space: nowrap;\n}\n.cloud-sync-button[data-v-e5d5209c]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.sync-text[data-v-e5d5209c] {\n  font-weight: 500;\n}\n.sync-icon[data-v-e5d5209c] {\n  font-size: 1em;\n  flex-shrink: 0;\n}\n\n/* Â∑≤ÂêåÊ≠•Áä∂ÊÄÅÊ†∑Âºè */\n.cloud-sync-button.synced[data-v-e5d5209c] {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-success-rgb), 0.1));\n  border-color: var(--color-success);\n  color: var(--color-success);\n}\n.cloud-sync-button[data-v-e5d5209c]:disabled,\n.cloud-sync-button.disabled[data-v-e5d5209c] {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: var(--color-surface);\n  border-color: var(--color-border);\n  color: var(--color-text-muted);\n}\n.cloud-sync-button.disabled[data-v-e5d5209c]:hover {\n  background: var(--color-surface);\n  border-color: var(--color-border);\n  color: var(--color-text-muted);\n}\n.cloud-sync-button.synced[data-v-e5d5209c]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.2), rgba(var(--color-success-rgb), 0.2));\n}\n\n/* Size variants */\n.cloud-sync-button.small[data-v-e5d5209c] {\n  padding: 0.5rem 0.75rem;\n  font-size: 0.9rem;\n  min-width: 100px;\n}\n.cloud-sync-button.large[data-v-e5d5209c] {\n  padding: 1rem 1.5rem;\n  font-size: 1.1rem;\n  min-width: 180px;\n}\n\n/* Compact variant */\n.cloud-sync-button.compact[data-v-e5d5209c] {\n  min-width: auto;\n  padding: 0.5rem;\n}\n.cloud-sync-button.compact .sync-text[data-v-e5d5209c] {\n  display: none;\n}\n",""]);const s=i},7659:e=>{"use strict";var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},7667:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o),s=n(4417),l=n.n(s),c=new URL(n(660),n.b),d=new URL(n(1530),n.b),u=i()(r()),m=l()(c),p=l()(d);u.push([e.id,`\n.settings-panel[data-v-727bd625] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: var(--color-background);\n  overflow: hidden;\n  padding: 1rem;\n  gap: 1rem;\n  position: relative;\n}\n\n/* Â§¥ÈÉ® */\n.panel-header[data-v-727bd625] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: var(--color-surface);\n  border-radius: 0.75rem;\n  border: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.header-left[data-v-727bd625] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.header-icon[data-v-727bd625] {\n  font-size: 1.5rem;\n}\n.header-info[data-v-727bd625] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.panel-title[data-v-727bd625] {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #1e293b;\n}\n.settings-subtitle[data-v-727bd625] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.header-actions[data-v-727bd625] {\n  display: flex;\n  gap: 0.5rem;\n}\n.action-btn[data-v-727bd625] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 0.5rem;\n  background: var(--color-surface);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.875rem;\n}\n.action-btn[data-v-727bd625]:hover {\n  background: #f1f5f9;\n  border-color: #94a3b8;\n}\n.action-btn.primary[data-v-727bd625] {\n  background: #3b82f6;\n  border-color: #3b82f6;\n  color: white;\n}\n.action-btn.primary[data-v-727bd625]:hover {\n  background: #2563eb;\n  border-color: #2563eb;\n}\n\n/* ËÆæÁΩÆÂÆπÂô® */\n.settings-container[data-v-727bd625] {\n  flex: 1;\n  overflow-y: auto;\n  min-height: 0;\n  padding: 0 0.5rem 3rem 0.5rem;\n\n  /* ÊªöÂä®Êù°Ê†∑Âºè */\n  scrollbar-width: thin;\n  scrollbar-color: transparent transparent;\n}\n.settings-container[data-v-727bd625]::-webkit-scrollbar {\n  width: 8px;\n}\n.settings-container[data-v-727bd625]::-webkit-scrollbar-track {\n  background: transparent;\n  border-radius: 4px;\n}\n.settings-container[data-v-727bd625]::-webkit-scrollbar-thumb {\n  background: transparent;\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n.settings-container[data-v-727bd625]::-webkit-scrollbar-thumb:hover {\n  background: transparent;\n}\n\n/* ËÆæÁΩÆÂå∫Âùó */\n.settings-section[data-v-727bd625] {\n  margin-bottom: 1.5rem;\n  background: white;\n  border-radius: 0.75rem;\n  border: 1px solid #e2e8f0;\n  overflow: hidden;\n}\n.section-header[data-v-727bd625] {\n  padding: 1rem 1.25rem;\n  background: #f8fafc;\n  border-bottom: 1px solid #e2e8f0;\n}\n.section-title[data-v-727bd625] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #1e293b;\n}\n.settings-list[data-v-727bd625] {\n  padding: 0.5rem;\n}\n\n/* ËÆæÁΩÆÈ°π */\n.setting-item[data-v-727bd625] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-radius: 0.5rem;\n  transition: background 0.2s ease;\n}\n.setting-item[data-v-727bd625]:hover {\n  background: #f8fafc;\n}\n.setting-info[data-v-727bd625] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.setting-name[data-v-727bd625] {\n  font-weight: 500;\n  color: #1e293b;\n  cursor: pointer;\n}\n.setting-desc[data-v-727bd625] {\n  font-size: 0.875rem;\n  color: #64748b;\n}\n.setting-control[data-v-727bd625] {\n  display: flex;\n  align-items: center;\n}\n.model-control[data-v-727bd625] {\n  flex-direction: column;\n  align-items: stretch;\n  gap: 0.5rem;\n}\n.model-select-row[data-v-727bd625] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.model-search[data-v-727bd625] {\n  width: 100%;\n}\n\n/* Êéß‰ª∂Ê†∑Âºè */\n.setting-select[data-v-727bd625] {\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  background: white;\n  color: #374151;\n  font-size: 0.875rem;\n  min-width: 80px;\n}\n.setting-select[data-v-727bd625]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);\n}\n.range-container[data-v-727bd625] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.setting-range[data-v-727bd625] {\n  width: 100px;\n}\n.range-value[data-v-727bd625] {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: #374151;\n  min-width: 40px;\n}\n\n/* ‰∏ãÊãâÈÄâÊã©Ê°ÜÊ†∑Âºè */\n.setting-select[data-v-727bd625] {\n  padding: 0.5rem 2rem 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  background-color: white;\n  background-image: url(${m});\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  background-size: 12px;\n  color: #374151;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: border-color 0.2s ease;\n  appearance: none;\n  min-width: 120px;\n}\n.setting-select[data-v-727bd625]:hover {\n  border-color: #94a3b8;\n}\n.setting-select[data-v-727bd625]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n[data-theme='dark'] .setting-select[data-v-727bd625] {\n  background-color: #374151;\n  border-color: #4b5563;\n  color: #e5e7eb;\n  background-image: url(${p});\n}\n[data-theme='dark'] .setting-select[data-v-727bd625]:hover {\n  border-color: #6b7280;\n}\n\n/* ÂºÄÂÖ≥Ê†∑Âºè */\n.setting-switch[data-v-727bd625] {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 24px;\n}\n.setting-switch input[data-v-727bd625] {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n.switch-slider[data-v-727bd625] {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #cbd5e1;\n  transition: 0.2s;\n  border-radius: 24px;\n}\n.switch-slider[data-v-727bd625]:before {\n  position: absolute;\n  content: '';\n  height: 18px;\n  width: 18px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  transition: 0.2s;\n  border-radius: 50%;\n}\ninput:checked + .switch-slider[data-v-727bd625] {\n  background-color: #3b82f6;\n}\ninput:checked + .switch-slider[data-v-727bd625]:before {\n  transform: translateX(20px);\n}\n\n/* ÂÖ®ÂÆΩËÆæÁΩÆÈ°π */\n.setting-item-full[data-v-727bd625] {\n  flex-direction: column;\n  align-items: flex-start;\n}\n.setting-control-full[data-v-727bd625] {\n  width: 100%;\n  margin-top: 0.5rem;\n}\n.setting-textarea[data-v-727bd625] {\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  background: white;\n  color: #374151;\n  font-size: 0.875rem;\n  font-family: inherit;\n  resize: vertical;\n  min-height: 60px;\n}\n.setting-textarea[data-v-727bd625]:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.setting-textarea[data-v-727bd625]::placeholder {\n  color: #9ca3af;\n}\n[data-theme='dark'] .setting-textarea[data-v-727bd625] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #e5e7eb;\n}\n[data-theme='dark'] .setting-textarea[data-v-727bd625]::placeholder {\n  color: #6b7280;\n}\n\n/* Â∑•ÂÖ∑ÊåâÈíÆ */\n.utility-btn[data-v-727bd625] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  background: white;\n  color: #374151;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.875rem;\n}\n.utility-btn[data-v-727bd625]:hover {\n  background: #f9fafb;\n  border-color: #9ca3af;\n}\n\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\n@media (max-width: 640px) {\n.setting-item[data-v-727bd625] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.75rem;\n}\n.setting-control[data-v-727bd625] {\n    width: 100%;\n    justify-content: flex-end;\n}\n.model-control[data-v-727bd625] {\n    justify-content: flex-start;\n}\n.model-select-row[data-v-727bd625] {\n    width: 100%;\n    flex-direction: column;\n    align-items: stretch;\n}\n.model-select-row .setting-select[data-v-727bd625],\n  .model-select-row .utility-btn[data-v-727bd625] {\n    width: 100%;\n    justify-content: center;\n}\n.range-container[data-v-727bd625] {\n    width: 100%;\n    justify-content: space-between;\n}\n.header-actions .btn-text[data-v-727bd625] {\n    display: none;\n}\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò */\n[data-theme='dark'] .settings-panel[data-v-727bd625] {\n  background: var(--color-background);\n}\n[data-theme='dark'] .panel-header[data-v-727bd625],\n[data-theme='dark'] .settings-section[data-v-727bd625] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme='dark'] .section-header[data-v-727bd625] {\n  background: #334155;\n  border-bottom-color: #475569;\n}\n[data-theme='dark'] .panel-title[data-v-727bd625],\n[data-theme='dark'] .section-title[data-v-727bd625],\n[data-theme='dark'] .setting-name[data-v-727bd625] {\n  color: #f1f5f9;\n}\n[data-theme='dark'] .settings-subtitle[data-v-727bd625],\n[data-theme='dark'] .setting-desc[data-v-727bd625] {\n  color: #94a3b8;\n}\n[data-theme='dark'] .setting-item[data-v-727bd625]:hover {\n  background: #334155;\n}\n[data-theme='dark'] .action-btn[data-v-727bd625],\n[data-theme='dark'] .setting-select[data-v-727bd625],\n[data-theme='dark'] .utility-btn[data-v-727bd625] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #e5e7eb;\n}\n[data-theme='dark'] .action-btn[data-v-727bd625]:hover,\n[data-theme='dark'] .utility-btn[data-v-727bd625]:hover {\n  background: #4b5563;\n  border-color: #6b7280;\n}\n[data-theme='dark'] .switch-slider[data-v-727bd625] {\n  background-color: #4b5563;\n}\n\n/* ÊéàÊùÉÈ™åËØÅÁõ∏ÂÖ≥Ê†∑Âºè */\n.form-input-inline[data-v-727bd625] {\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  background: white;\n  color: #374151;\n  font-size: 0.875rem;\n  min-width: 200px;\n  transition: all 0.2s ease;\n}\n.form-input-inline[data-v-727bd625]:focus {\n  outline: none;\n  border-color: #667eea;\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n}\n.auth-status[data-v-727bd625] {\n  padding: 0.5rem 1rem;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n.auth-status.verified[data-v-727bd625] {\n  background: #d1fae5;\n  color: #059669;\n  border: 1px solid #a7f3d0;\n}\n.auth-status.unverified[data-v-727bd625] {\n  background: #fee2e2;\n  color: #dc2626;\n  border: 1px solid #fecaca;\n}\n.utility-btn.primary[data-v-727bd625] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.utility-btn.primary[data-v-727bd625]:hover {\n  background: var(--color-primary-dark, #2563eb);\n  border-color: var(--color-primary-dark, #2563eb);\n}\n[data-theme='dark'] .form-input-inline[data-v-727bd625] {\n  background: #334155;\n  border-color: #475569;\n  color: #e5e7eb;\n}\n[data-theme='dark'] .auth-status.verified[data-v-727bd625] {\n  background: rgba(5, 150, 105, 0.2);\n  color: #6ee7b7;\n  border-color: rgba(5, 150, 105, 0.3);\n}\n[data-theme='dark'] .auth-status.unverified[data-v-727bd625] {\n  background: rgba(220, 38, 38, 0.2);\n  color: #fca5a5;\n  border-color: rgba(220, 38, 38, 0.3);\n}\n\n/* Âä†ËΩΩËÑâÂÜ≤Âä®Áîª */\n.loading-pulse[data-v-727bd625] {\n  animation: pulse-727bd625 1.5s ease-in-out infinite;\n}\n@keyframes pulse-727bd625 {\n0%,\n  100% {\n    opacity: 1;\n}\n50% {\n    opacity: 0.4;\n}\n}\n\n`,""]);const g=u},7677:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},7720:(e,t,n)=>{"use strict";var a=n(4765),r=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},a=0;a<e.length;++a)void 0!==e[a]&&(n[a]=e[a]);return n},l=1024;e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],a=0;a<t.length;++a)for(var r=t[a],i=r.obj[r.prop],s=Object.keys(i),l=0;l<s.length;++l){var c=s[l],d=i[c];"object"==typeof d&&null!==d&&-1===n.indexOf(d)&&(t.push({obj:i,prop:c}),n.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var a=[],r=0;r<n.length;++r)void 0!==n[r]&&a.push(n[r]);t.obj[t.prop]=a}}}(t),e},decode:function(e,t,n){var a=e.replace(/\+/g," ");if("iso-8859-1"===n)return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch(e){return a}},encode:function(e,t,n,r,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var c="",d=0;d<s.length;d+=l){for(var u=s.length>=l?s.slice(d,d+l):s,m=[],p=0;p<u.length;++p){var g=u.charCodeAt(p);45===g||46===g||95===g||126===g||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||o===a.RFC1738&&(40===g||41===g)?m[m.length]=u.charAt(p):g<128?m[m.length]=i[g]:g<2048?m[m.length]=i[192|g>>6]+i[128|63&g]:g<55296||g>=57344?m[m.length]=i[224|g>>12]+i[128|g>>6&63]+i[128|63&g]:(p+=1,g=65536+((1023&g)<<10|1023&u.charCodeAt(p)),m[m.length]=i[240|g>>18]+i[128|g>>12&63]+i[128|g>>6&63]+i[128|63&g])}c+=m.join("")}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(t(e[a]));return n}return t(e)},merge:function e(t,n,a){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(a&&(a.plainObjects||a.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return o(t)&&!o(n)&&(i=s(t,a)),o(t)&&o(n)?(n.forEach(function(n,o){if(r.call(t,o)){var i=t[o];i&&"object"==typeof i&&n&&"object"==typeof n?t[o]=e(i,n,a):t.push(n)}else t[o]=n}),t):Object.keys(n).reduce(function(t,o){var i=n[o];return r.call(t,o)?t[o]=e(t[o],i,a):t[o]=i,t},i)}}},7754:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},7760:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>s,q3:()=>o});const a="dad.bundle",r=1;function o(e,t,n){return{schema:a,version:r,type:e,exportedAt:n?.exportedAt??(new Date).toISOString(),appVersion:n?.appVersion,payload:t}}function i(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function s(e){if(function(e){return!!i(e)&&e.schema===a&&e.version===r&&"string"==typeof e.type}(e))return{type:e.type,payload:e.payload,isBundle:!0};if(i(e)&&"string"==typeof e.type){const t=e.type;if("saves"===t&&Array.isArray(e.saves))return{type:"saves",payload:{saves:e.saves},isBundle:!1};if("character"===t&&i(e.character))return{type:"character",payload:e.character,isBundle:!1};if("settings"===t)return{type:"settings",payload:e.settings??e,isBundle:!1};if("prompts"===t)return{type:"prompts",payload:e,isBundle:!1};if("start_config"===t)return{type:"start_config",payload:e,isBundle:!1}}if(i(e)&&Array.isArray(e.presets)&&e.version)return{type:"presets",payload:{presets:e.presets},isBundle:!1};if(i(e)&&!e.type&&!e.schema){const t=Object.keys(e);if(t.length>0&&t.every(t=>"string"==typeof e[t]))return{type:"prompts",payload:e,isBundle:!1}}return i(e),{type:null,payload:e,isBundle:!1}}},7797:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* ========== Âü∫Á°ÄÂ∏ÉÂ±Ä - ËµõÂçöÊúãÂÖã‰∏âÊ†èÁªìÊûÑ ========== */\n.step-wrapper[data-v-57f7468c] {\n  height: 100%;\n}\n.creation-container[data-v-57f7468c] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  background: transparent;\n}\n.creation-shell[data-v-57f7468c] {\n  width: min(1320px, 96vw);\n  height: min(92vh, 920px);\n  display: grid;\n  grid-template-columns: 210px 1fr 260px;\n  gap: 1.25rem;\n  position: relative;\n  z-index: 1;\n}\n.creation-rail[data-v-57f7468c],\n.creation-main[data-v-57f7468c],\n.creation-side[data-v-57f7468c] {\n  background: rgba(8, 12, 22, 0.9);\n  border: 1px solid rgba(0, 240, 255, 0.25);\n  border-radius: 12px;\n  backdrop-filter: blur(14px);\n  -webkit-backdrop-filter: blur(14px);\n  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.45);\n  position: relative;\n}\n.creation-rail[data-v-57f7468c]::before,\n.creation-main[data-v-57f7468c]::before,\n.creation-side[data-v-57f7468c]::before {\n  content: \'\';\n  position: absolute;\n  inset: 0;\n  border-radius: 12px;\n  border: 1px solid rgba(138, 43, 255, 0.3);\n  pointer-events: none;\n}\n.creation-rail[data-v-57f7468c] {\n  display: flex;\n  flex-direction: column;\n  padding: 1.5rem 1rem;\n}\n.creation-main[data-v-57f7468c] {\n  display: flex;\n  flex-direction: column;\n  padding: 1.5rem 1.75rem;\n  min-height: 0;\n}\n.creation-side[data-v-57f7468c] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1.5rem 1rem;\n}\n.rail-header[data-v-57f7468c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n  margin-bottom: 1.5rem;\n}\n.rail-title[data-v-57f7468c] {\n  font-size: 0.9rem;\n  letter-spacing: 0.2em;\n  text-transform: uppercase;\n  color: #00f0ff;\n}\n.rail-mode[data-v-57f7468c] {\n  font-size: 0.75rem;\n  color: rgba(255, 122, 0, 0.8);\n}\n.rail-steps[data-v-57f7468c] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.9rem;\n}\n.rail-step[data-v-57f7468c] {\n  display: grid;\n  grid-template-columns: 28px 1fr;\n  gap: 0.6rem;\n  align-items: center;\n  opacity: 0.45;\n  transition: all 0.3s ease;\n}\n.rail-step.active[data-v-57f7468c] {\n  opacity: 1;\n}\n.rail-index[data-v-57f7468c] {\n  width: 28px;\n  height: 28px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.8rem;\n  color: rgba(0, 240, 255, 0.9);\n  border: 1px solid rgba(0, 240, 255, 0.35);\n  background: rgba(0, 240, 255, 0.08);\n}\n.rail-step.active .rail-index[data-v-57f7468c] {\n  background: rgba(0, 240, 255, 0.2);\n  box-shadow: 0 0 15px rgba(0, 240, 255, 0.4);\n}\n.rail-label[data-v-57f7468c] {\n  font-size: 0.8rem;\n  color: rgba(226, 232, 240, 0.85);\n  letter-spacing: 0.08em;\n}\n\n/* ========== Â§¥ÈÉ®Âå∫Âüü ========== */\n.header-container[data-v-57f7468c] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.header-top[data-v-57f7468c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 0.75rem;\n}\n\n/* ========== Á©øË∂äÁÇπÊï∞Á°ÆËÆ§ÂºπÁ™ó ========== */\n.travel-confirm-overlay[data-v-57f7468c] {\n  position: fixed;\n  inset: 0;\n  background: rgba(2, 6, 23, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 50;\n}\n.travel-confirm-card[data-v-57f7468c] {\n  width: min(520px, 90vw);\n  background: rgba(15, 23, 42, 0.92);\n  border: 1px solid rgba(148, 163, 184, 0.25);\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.45);\n  color: #e2e8f0;\n}\n.travel-confirm-title[data-v-57f7468c] {\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin-bottom: 0.75rem;\n}\n.travel-confirm-message[data-v-57f7468c] {\n  margin-bottom: 0.75rem;\n  color: rgba(226, 232, 240, 0.9);\n}\n.travel-confirm-points[data-v-57f7468c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.6);\n  border: 1px solid rgba(148, 163, 184, 0.2);\n  margin-bottom: 1.25rem;\n}\n.travel-confirm-actions[data-v-57f7468c] {\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n}\n.mode-indicator[data-v-57f7468c] {\n  font-size: 0.75rem;\n  color: #00f0ff;\n  padding: 0.35rem 0.75rem;\n  background: rgba(0, 240, 255, 0.08);\n  border: 1px solid rgba(0, 240, 255, 0.25);\n  border-radius: 6px;\n  font-weight: 500;\n  letter-spacing: 0.05em;\n}\n.cloud-sync-container[data-v-57f7468c] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n.side-card[data-v-57f7468c] {\n  background: rgba(6, 10, 20, 0.85);\n  border: 1px solid rgba(138, 43, 255, 0.35);\n  border-radius: 10px;\n  padding: 1rem;\n  box-shadow: inset 0 0 20px rgba(0, 240, 255, 0.08);\n}\n.side-title[data-v-57f7468c] {\n  font-size: 0.8rem;\n  letter-spacing: 0.2em;\n  text-transform: uppercase;\n  color: rgba(0, 240, 255, 0.85);\n  margin-bottom: 0.75rem;\n}\n.side-muted[data-v-57f7468c] {\n  color: rgba(226, 232, 240, 0.7);\n  font-size: 0.8rem;\n}\n.resource-item[data-v-57f7468c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 0;\n  border-bottom: 1px dashed rgba(0, 240, 255, 0.15);\n}\n.resource-item[data-v-57f7468c]:last-child {\n  border-bottom: none;\n}\n.resource-label[data-v-57f7468c] {\n  color: rgba(226, 232, 240, 0.7);\n  font-size: 0.78rem;\n}\n.resource-value[data-v-57f7468c] {\n  color: #00f0ff;\n  font-weight: 600;\n  font-size: 0.95rem;\n}\n.resource-value.low[data-v-57f7468c] {\n  color: #ff2d6f;\n}\n\n/* ========== ÂÜÖÂÆπÂå∫Âüü ========== */\n.step-content[data-v-57f7468c] {\n  flex: 1 1 0;\n  min-height: 0;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 1.2rem 0.25rem;\n  border-top: 1px solid rgba(0, 240, 255, 0.08);\n  border-bottom: 1px solid rgba(0, 240, 255, 0.08);\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.step-content[data-v-57f7468c]::-webkit-scrollbar {\n  width: 6px;\n}\n.step-content[data-v-57f7468c]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.step-content[data-v-57f7468c]::-webkit-scrollbar-thumb {\n  background: rgba(147, 197, 253, 0.3);\n  border-radius: 3px;\n}\n.step-content[data-v-57f7468c]::-webkit-scrollbar-thumb:hover {\n  background: rgba(147, 197, 253, 0.5);\n}\n\n/* ========== ÂØºËà™ÊåâÈíÆ ========== */\n.navigation-buttons[data-v-57f7468c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n  flex-shrink: 0;\n  padding-top: 1rem;\n}\n@keyframes pulse-57f7468c {\n0%, 100% { opacity: 1;\n}\n50% { opacity: 0.5;\n}\n}\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .creation-rail[data-v-57f7468c],\n[data-theme="light"] .creation-main[data-v-57f7468c],\n[data-theme="light"] .creation-side[data-v-57f7468c] {\n  background: rgba(248, 250, 252, 0.9);\n  border-color: rgba(0, 0, 0, 0.08);\n}\n\n/* ========== Âπ≥ÊùøÈÄÇÈÖç ========== */\n@media (max-width: 768px) {\n.creation-shell[data-v-57f7468c] {\n    grid-template-columns: 1fr;\n    height: 96vh;\n}\n.creation-rail[data-v-57f7468c] {\n    flex-direction: row;\n    overflow-x: auto;\n    padding: 1rem;\n}\n.rail-steps[data-v-57f7468c] {\n    flex-direction: row;\n    gap: 0.75rem;\n}\n.creation-side[data-v-57f7468c] {\n    order: 3;\n}\n.navigation-buttons[data-v-57f7468c] {\n    flex-wrap: wrap;\n}\n}\n\n/* ========== ÊâãÊú∫ÈÄÇÈÖç ========== */\n@media (max-width: 480px) {\n.creation-main[data-v-57f7468c] {\n    padding: 1rem;\n}\n.creation-side[data-v-57f7468c] {\n    padding: 1rem;\n}\n}\n\n/* ========== Ë∂ÖÂ∞èÂ±èÂπïÈÄÇÈÖç ========== */\n@media (max-width: 360px) {\n.rail-label[data-v-57f7468c] {\n    font-size: 0.7rem;\n}\n}\n',""]);const s=i},7807:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.status-detail-card[data-v-627cf7f9] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.85rem;\n  font-size: 0.85rem;\n}\n.card-header[data-v-627cf7f9] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 10px;\n  border: 1px solid;\n  align-self: flex-start;\n  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.08);\n}\n.card-header.buff[data-v-627cf7f9] {\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.18), rgba(16, 185, 129, 0.08));\n  border-color: rgba(16, 185, 129, 0.35);\n}\n.card-header.debuff[data-v-627cf7f9] {\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.18), rgba(239, 68, 68, 0.08));\n  border-color: rgba(239, 68, 68, 0.35);\n}\n.type-icon[data-v-627cf7f9] {\n  width: 22px;\n  height: 22px;\n  border-radius: 6px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.9rem;\n  font-weight: 700;\n  background: rgba(15, 23, 42, 0.08);\n}\n.type-text[data-v-627cf7f9] {\n  font-size: 0.85rem;\n  font-weight: 600;\n}\n.card-header.buff .type-text[data-v-627cf7f9] { color: #10b981;\n}\n.card-header.debuff .type-text[data-v-627cf7f9] { color: #ef4444;\n}\n.card-body[data-v-627cf7f9] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.9rem;\n}\n.description[data-v-627cf7f9] {\n  padding: 0.75rem 0.9rem;\n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.04), rgba(15, 23, 42, 0.02));\n  border-radius: 10px;\n  border: 1px solid var(--color-border);\n  border-left: 3px solid;\n  line-height: 1.5;\n  color: var(--color-text);\n}\n.description.buff-border[data-v-627cf7f9] { border-color: #10b981;\n}\n.description.debuff-border[data-v-627cf7f9] { border-color: #ef4444;\n}\n.details-grid[data-v-627cf7f9] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 0.6rem;\n}\n.detail-item[data-v-627cf7f9] {\n  padding: 0.7rem 0.8rem;\n  background: linear-gradient(135deg, rgba(15, 23, 42, 0.02), rgba(15, 23, 42, 0.01));\n  border-radius: 10px;\n  border: 1px solid rgba(148, 163, 184, 0.2);\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n}\n.item-label[data-v-627cf7f9] {\n  font-size: 0.7rem;\n  color: var(--color-text-muted);\n  font-weight: 500;\n}\n.item-value[data-v-627cf7f9] {\n  font-size: 0.9rem;\n  font-weight: 600;\n}\n.item-value.source[data-v-627cf7f9] { color: var(--color-accent);\n}\n.item-value.duration[data-v-627cf7f9] { color: var(--color-primary);\n}\n.item-value.time[data-v-627cf7f9] { font-size: 0.75rem; font-weight: 500; color: var(--color-text);\n}\n.strength[data-v-627cf7f9] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.25rem;\n}\n.strength-text[data-v-627cf7f9] { font-size: 0.9rem; font-weight: 700;\n}\n.strength-value[data-v-627cf7f9] { font-size: 0.7rem; color: var(--color-text-secondary);\n}\n.strength-bar[data-v-627cf7f9] {\n  height: 6px;\n  background: rgba(15, 23, 42, 0.08);\n  border-radius: 999px;\n  overflow: hidden;\n}\n.bar-fill[data-v-627cf7f9] {\n  height: 100%;\n  transition: width 0.3s ease;\n  border-radius: 999px;\n}\n@media (max-width: 480px) {\n.status-detail-card[data-v-627cf7f9] {\n    gap: 0.5rem;\n    font-size: 0.75rem;\n}\n.card-header[data-v-627cf7f9] {\n    gap: 0.4rem;\n    padding: 0.35rem 0.55rem;\n    border-radius: 8px;\n}\n.type-icon[data-v-627cf7f9] { width: 20px; height: 20px; font-size: 0.8rem;\n}\n.type-text[data-v-627cf7f9] { font-size: 0.75rem;\n}\n.description[data-v-627cf7f9] {\n    padding: 0.55rem 0.65rem;\n    font-size: 0.75rem;\n}\n.details-grid[data-v-627cf7f9] {\n    grid-template-columns: 1fr;\n    gap: 0.45rem;\n}\n.detail-item[data-v-627cf7f9] {\n    padding: 0.55rem;\n    gap: 0.3rem;\n}\n.item-label[data-v-627cf7f9] { font-size: 0.6rem;\n}\n.item-value[data-v-627cf7f9] { font-size: 0.8rem;\n}\n.item-value.time[data-v-627cf7f9] { font-size: 0.7rem;\n}\n.strength[data-v-627cf7f9] { margin-bottom: 0.1rem;\n}\n.strength-text[data-v-627cf7f9] { font-size: 0.85rem;\n}\n.strength-value[data-v-627cf7f9] { font-size: 0.65rem;\n}\n}\n",""]);const s=i},7816:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.data-display[data-v-3e8f894e] {\n  flex: 1;\n  overflow: auto;\n  padding: 1rem;\n}\n.loading-state[data-v-3e8f894e],\n.no-connection[data-v-3e8f894e],\n.error-state[data-v-3e8f894e] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  padding: 3rem;\n  color: var(--color-text-secondary);\n}\n.retry-btn[data-v-3e8f894e] {\n  padding: 0.5rem 1rem;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n.retry-btn[data-v-3e8f894e]:hover {\n  background: var(--color-primary-hover);\n}\n.hint[data-v-3e8f894e] {\n  font-size: 0.875rem;\n  opacity: 0.7;\n}\n.animate-spin[data-v-3e8f894e] {\n  animation: spin-3e8f894e 1s linear infinite;\n}\n@keyframes spin-3e8f894e {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n",""]);const s=i},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7832:(e,t,n)=>{"use strict";n.d(t,{A:()=>sn});var a=n(4061),r=n(5365),o=n(3528),i=n(6680),s=n(8133);const l=(0,n(9596).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var c=n(1783),d=n(6494),u=n(8684),m=n(100),p=n(7445),g=n(9173),h=n(5184),f=n(6585),v=n(8651),b=n(4270),y=n(876);const x={class:"api-management-panel"},k={class:"panel-header"},w={class:"header-left"},E={class:"header-info"},N={class:"panel-title"},S={class:"settings-subtitle"},_={class:"header-actions"},V={class:"btn-text"},C={class:"btn-text"},A={class:"btn-text"},D={class:"settings-container"},T={class:"settings-section"},B={class:"section-header"},I={class:"section-title"},M={class:"section-count"},z={class:"api-list"},P={class:"api-card-header"},R={class:"api-info"},$={class:"api-name"},O={key:0,class:"api-provider"},L={key:1,class:"api-provider tavern-tag"},F={class:"api-actions"},j=["title"],U=["checked","onChange"],q=["onClick","title"],G=["onClick","title"],H=["onClick","title","disabled"],Y={class:"api-card-body"},W={key:0,class:"tavern-api-hint"},X={class:"api-detail"},J={class:"detail-label"},K={class:"detail-value"},Z={class:"api-detail"},Q={class:"detail-label"},ee={class:"detail-value url"},te={class:"api-detail"},ne={class:"detail-label"},ae={key:0,class:"api-card-footer"},re={class:"assigned-label"},oe={class:"assigned-tags"},ie={class:"settings-section"},se={class:"section-header"},le={class:"section-title"},ce={class:"settings-list"},de={class:"setting-info"},ue={class:"setting-name"},me={key:0,class:"locked-badge"},pe={class:"setting-desc"},ge={class:"setting-control"},he={key:0,class:"locked-text"},fe=["value"],ve=["value"],be={class:"setting-item"},ye={class:"setting-info"},xe={class:"setting-name"},ke={class:"setting-desc"},we={class:"setting-control"},Ee={class:"control-row"},Ne={class:"inline-toggle"},Se={class:"setting-switch compact"},_e=["checked"],Ve=["value","disabled"],Ce=["value"],Ae={class:"setting-item"},De={class:"setting-info"},Te={class:"setting-name"},Be={class:"setting-desc"},Ie={class:"setting-control"},Me=["value"],ze=["value"],Pe={key:0,class:"auto-split-hint"},Re={class:"setting-info"},$e={class:"setting-name"},Oe={key:0,class:"mode-indicator"},Le={class:"setting-desc"},Fe={class:"setting-control"},je={class:"control-row"},Ue={key:0,class:"inline-toggle"},qe={class:"setting-switch compact"},Ge=["checked"],He=["value","onChange","disabled"],Ye=["value"],We=["value","onChange"],Xe={class:"settings-section"},Je={class:"section-header"},Ke={class:"section-title"},Ze={class:"settings-list"},Qe={class:"setting-item"},et={class:"setting-info"},tt={class:"setting-name"},nt={class:"setting-desc"},at={class:"setting-control"},rt={class:"setting-switch"},ot={key:0,class:"setting-item"},it={class:"setting-info"},st={class:"setting-name"},lt={class:"setting-desc"},ct={class:"setting-control"},dt={key:1,class:"setting-item"},ut={class:"setting-info"},mt={class:"setting-name"},pt={class:"setting-desc"},gt={class:"setting-control"},ht={class:"setting-switch"},ft={key:2,class:"setting-item"},vt={class:"setting-info"},bt={class:"setting-name"},yt={class:"setting-desc"},xt={class:"setting-control"},kt={value:"female"},wt={value:"male"},Et={value:"all"},Nt={class:"modal-content"},St={class:"modal-header"},_t={class:"modal-body"},Vt={class:"form-group"},Ct=["placeholder"],At={class:"form-group"},Dt={value:"custom"},Tt={class:"form-group"},Bt=["placeholder"],It={class:"form-group"},Mt={class:"form-group"},zt={class:"model-select-wrapper"},Pt={class:"model-input-row"},Rt=["placeholder"],$t=["disabled"],Ot={key:0,class:"model-dropdown"},Lt=["onMousedown"],Ft={class:"form-row"},jt={class:"form-group half"},Ut={class:"form-group half"},qt={class:"modal-footer"},Gt=(0,a.defineComponent)({__name:"APIManagementPanel",setup(e){const{t}=(0,y.s)(),n=(0,m.useAPIManagementStore)(),Gt=(0,g.useUIStore)();(0,a.onMounted)(async()=>{localStorage.getItem("access_token")?(await n.loadFromBackend(),Zt(),Qt(),tn()):b.o.info(t("ËØ∑ÂÖàÁôªÂΩï"))});const Ht=(0,a.ref)(!0),Yt=(0,a.ref)(!1),Wt=(0,a.ref)(10),Xt=(0,a.ref)((0,v.isTavernEnv)()),Jt=(0,a.ref)(!0),Kt=(0,a.ref)("female"),Zt=()=>{const e=p.aiService.getConfig();Ht.value=!1!==e.streaming},Qt=()=>{const e=(0,f.rW)();Jt.value=e.nsfwMode,Kt.value=e.nsfwGenderFilter,Xt.value=(0,v.isTavernEnv)()},en=()=>{(e=>{const t=(()=>{try{const e=localStorage.getItem("dad_game_settings");if(!e)return{};const t=JSON.parse(e);return t&&"object"==typeof t&&!Array.isArray(t)?t:{}}catch{return{}}})();localStorage.setItem("dad_game_settings",JSON.stringify({...t,...e}))})({enableNsfwMode:Jt.value,nsfwGenderFilter:Kt.value})},tn=()=>{const e=h.vectorMemoryService.getConfig();Yt.value=e.enabled,Wt.value=e.maxRetrieveCount},nn=()=>{h.vectorMemoryService.saveConfig({enabled:Yt.value,maxRetrieveCount:Wt.value}),Yt.value?b.o.success(`ÂêëÈáèËÆ∞ÂøÜÊ£ÄÁ¥¢Â∑≤ÂêØÁî®ÔºåÊØèÊ¨°ÊúÄÂ§öÊ£ÄÁ¥¢ ${Wt.value} Êù°`):b.o.info("ÂêëÈáèËÆ∞ÂøÜÊ£ÄÁ¥¢Â∑≤Á¶ÅÁî®ÔºåÂ∞Ü‰ΩøÁî®ÂÖ®ÈáèÂèëÈÄÅÊ®°Âºè")};(0,a.watch)(Ht,()=>{p.aiService.saveConfig({streaming:Ht.value}),Gt.useStreaming=Ht.value});const an=(0,a.ref)(!1),rn=(0,a.ref)(!1),on=(0,a.ref)({name:"",provider:"openai",url:"",apiKey:"",model:"gpt-4o",temperature:.7,maxTokens:16e3,enabled:!0}),sn=(0,a.ref)(null),ln=(0,a.ref)(!1),cn=(0,a.ref)([]),dn=(0,a.ref)(!1),un=(0,a.computed)(()=>{const e=on.value.model?.toLowerCase()||"";return e?cn.value.filter(t=>t.toLowerCase().includes(e)):cn.value}),mn=()=>{dn.value=!0},pn=(0,a.ref)(null),gn=(0,a.ref)({}),hn=e=>Xt.value&&"default"===e.id?"üç∫ ÈÖíÈ¶ÜAPI":e.name,fn=e=>p.o[e]?.url||"https://api.openai.com",vn=e=>p.o[e]?.defaultModel||"gpt-4o",bn=()=>{const e=p.o[on.value.provider];e&&(on.value.url=e.url,on.value.model=e.defaultModel)},yn=e=>({main:"Ê†∏ÂøÉAPI",memory_summary:"ËÆ∞ÂøÜÊÄªÁªì",embedding:"ÂêëÈáèÊ£ÄÁ¥¢(Embedding)",text_optimization:"ÊñáÊú¨‰ºòÂåñ",cot:"ÊÄùÁª¥Èìæ",instruction_generation:"Êåá‰ª§ÁîüÊàê",world_generation:"‰∏ñÁïåÁîüÊàê",event_generation:"‰∫ã‰ª∂ÁîüÊàê",sect_generation:"ÁªÑÁªáÁîüÊàê"}[e]||e),xn=e=>Xt.value?{main:"Ê∏∏Êàè‰∏ªË¶Å‰∫§‰∫íÔºàÈÖíÈ¶ÜÊ®°Âºè‰∏ãÊ∞∏Ëøú‰ΩøÁî®ÈÖíÈ¶ÜAPIÔºâ",memory_summary:"ÂéãÁº©ÊÄªÁªìÂéÜÂè≤ËÆ∞ÂøÜÔºåÂåÖÊã¨NPCËÆ∞ÂøÜÔºàÂèØÈÖçÁΩÆRaw/Ê†áÂáÜÊ®°ÂºèÔºâ",embedding:"ÂêëÈáèËÆ∞ÂøÜËØ≠‰πâÊ£ÄÁ¥¢Áî®EmbeddingÔºàÈúÄË¶ÅembeddingÊ®°ÂûãÔºåÂª∫ËÆÆ‰ΩøÁî®Áã¨Á´ãAPIÔºâ",text_optimization:"‰ºòÂåñAIËæìÂá∫ÊñáÊú¨ÔºàÂèØÈÖçÁΩÆRaw/Ê†áÂáÜÊ®°ÂºèÔºâ",cot:"ÊÄùÁª¥ÈìæÊé®ÁêÜÔºàÂêØÁî®ÂêéÂèØÈÖçÁΩÆÁã¨Á´ãAPIÔºâ",instruction_generation:"Â∞ÜÁî®Êà∑Ê®°Á≥äÊåá‰ª§ËΩ¨Âåñ‰∏∫ÊòéÁ°ÆÊ∏∏ÊàèÊåá‰ª§Ôºà‰∏ÄÊ¨°ÂØπËØùÁîüÊàêÔºâ",world_generation:"ÁîüÊàê‰∏ñÁïå„ÄÅÂú∞ÁÇπÁ≠âÔºàÂèØÈÖçÁΩÆRaw/Ê†áÂáÜÊ®°ÂºèÔºâ",event_generation:"ÁîüÊàê‰∏ñÁïå‰∫ã‰ª∂ÔºàÂèØÈÖçÁΩÆRaw/Ê†áÂáÜÊ®°ÂºèÔºâ",sect_generation:"ÁîüÊàêÁªÑÁªáÂÜÖÂÆπÂ¶ÇËµÑÊñôÂ∫ì„ÄÅË¥°ÁåÆÂïÜÂ∫óÔºàÂèØÈÖçÁΩÆRaw/Ê†áÂáÜÊ®°ÂºèÔºâ"}[e]||"":{main:"Ê∏∏Êàè‰∏ªË¶Å‰∫§‰∫íÂíåÂâßÊÉÖÁîüÊàêÔºàÊ†∏ÂøÉAPIÔºâ",memory_summary:"ÂéãÁº©ÊÄªÁªìÂéÜÂè≤ËÆ∞ÂøÜÔºåÂåÖÊã¨NPCËÆ∞ÂøÜÔºàÂèØÁî®Âø´ÈÄüÊ®°ÂûãËäÇÁúÅÊàêÊú¨Ôºâ",embedding:"ÂêëÈáèËÆ∞ÂøÜËØ≠‰πâÊ£ÄÁ¥¢Áî®EmbeddingÔºàÈúÄË¶ÅembeddingÊ®°ÂûãÔºâ",text_optimization:"‰ºòÂåñAIËæìÂá∫ÁöÑÊñáÊú¨Ë¥®Èáè",cot:"ÊÄùÁª¥ÈìæÊé®ÁêÜÔºàÂêØÁî®ÂêéÂèØÈÖçÁΩÆÁã¨Á´ãAPIÔºâ",instruction_generation:"Â∞ÜÁî®Êà∑Ê®°Á≥äÊåá‰ª§ËΩ¨Âåñ‰∏∫ÊòéÁ°ÆÊ∏∏ÊàèÊåá‰ª§Ôºà‰∏ÄÊ¨°ÂØπËØùÁîüÊàêÔºâ",world_generation:"ÁîüÊàê‰∏ñÁïå„ÄÅÂú∞ÁÇπÁ≠âÂÜÖÂÆπÔºàÂºÄÂ±ÄÊó∂‰ΩøÁî®Ôºâ",event_generation:"ÁîüÊàê‰∏ñÁïå‰∫ã‰ª∂ÔºàÂèØÁî®Âø´ÈÄüÊ®°ÂûãÔºâ",sect_generation:"ÁîüÊàêÁªÑÁªáÂÜÖÂÆπÂ¶ÇËµÑÊñôÂ∫ì„ÄÅË¥°ÁåÆÂïÜÂ∫óÔºàÂèØÁî®Âø´ÈÄüÊ®°ÂûãÔºâ"}[e]||"",kn=e=>n.apiAssignments.filter(t=>t.apiId===e).map(e=>e.type),wn=e=>{const t=gn.value[e];return"success"===t?"success":"fail"===t?"fail":"unknown"},En=e=>{const n=gn.value[e];return t("success"===n?"ËøûÊé•Ê≠£Â∏∏":"fail"===n?"ËøûÊé•Â§±Ë¥•":"Êú™ÊµãËØï")},Nn=async()=>{if(!ln.value)if(on.value.url&&on.value.apiKey){ln.value=!0;try{const e=p.aiService.getConfig();p.aiService.saveConfig({mode:"custom",customAPI:{provider:on.value.provider,url:on.value.url,apiKey:on.value.apiKey,model:on.value.model||"gpt-4o",temperature:on.value.temperature||.7,maxTokens:on.value.maxTokens||16e3}});const n=await p.aiService.fetchModels();cn.value=n,b.o.success(`${t("Ëé∑ÂèñÂà∞")} ${n.length} ${t("‰∏™Ê®°Âûã")}`),p.aiService.saveConfig(e)}catch(e){b.o.error(t("Ëé∑ÂèñÊ®°ÂûãÂàóË°®Â§±Ë¥•"))}finally{ln.value=!1}}else b.o.warning(t("ËØ∑ÂÖàÂ°´ÂÜôAPIÂú∞ÂùÄÂíåÂØÜÈí•"))},Sn=()=>{if(on.value.name){if(rn.value&&sn.value)n.updateAPI(sn.value,on.value),b.o.success(t("APIÈÖçÁΩÆÂ∑≤Êõ¥Êñ∞"));else{const e={name:on.value.name,provider:on.value.provider,url:on.value.url||fn(on.value.provider),apiKey:on.value.apiKey||"",model:on.value.model||vn(on.value.provider),temperature:on.value.temperature||.7,maxTokens:on.value.maxTokens||16e3,enabled:!0};n.addAPI(e),b.o.success(t("APIÈÖçÁΩÆÂ∑≤Ê∑ªÂä†"))}Cn(),_n()}else b.o.warning(t("ËØ∑Â°´ÂÜôÈÖçÁΩÆÂêçÁß∞"))},_n=()=>{const e=n.apiConfigs.find(e=>"default"===e.id);e&&p.aiService.saveConfig({mode:"custom",customAPI:{provider:e.provider,url:e.url,apiKey:e.apiKey,model:e.model,temperature:e.temperature,maxTokens:e.maxTokens}})},Vn=(e,a)=>{n.assignAPI(e,a),b.o.success(`${yn(e)} ${t("Â∑≤ÂàÜÈÖçÂà∞")} ${n.apiConfigs.find(e=>e.id===a)?.name||"API"}`)},Cn=()=>{an.value=!1,rn.value=!1,sn.value=null,on.value={name:"",provider:"openai",url:"",apiKey:"",model:"gpt-4o",temperature:.7,maxTokens:16e3,enabled:!0},cn.value=[]},An=()=>{const e=n.exportConfig(),a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(a),o=document.createElement("a");o.href=r,o.download=`Ë∂ÖÂá°Êñ∞Áîü-APIÈÖçÁΩÆ-${(new Date).toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(r),b.o.success(t("APIÈÖçÁΩÆÂ∑≤ÂØºÂá∫"))},Dn=()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const a=e.target.files?.[0];if(a)try{const e=await a.text(),r=JSON.parse(e);n.importConfig(r),_n(),b.o.success(t("APIÈÖçÁΩÆÂ∑≤ÂØºÂÖ•"))}catch(e){b.o.error(t("ÂØºÂÖ•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•Êñá‰ª∂Ê†ºÂºè"))}},e.click()};return(e,m)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",x,[(0,a.createCommentVNode)(" Â§¥ÈÉ® "),(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("div",w,[(0,a.createElementVNode)("div",E,[(0,a.createElementVNode)("h3",N,(0,a.toDisplayString)((0,a.unref)(t)("APIÁÆ°ÁêÜ")),1),(0,a.createElementVNode)("span",S,(0,a.toDisplayString)((0,a.unref)(t)("ÁÆ°ÁêÜÂ§ö‰∏™APIÈÖçÁΩÆÂíåÂäüËÉΩÂàÜÈÖç")),1)])]),(0,a.createElementVNode)("div",_,[(0,a.createElementVNode)("button",{class:"action-btn",onClick:Dn},[(0,a.createVNode)((0,a.unref)(r.A),{size:16}),(0,a.createElementVNode)("span",V,(0,a.toDisplayString)((0,a.unref)(t)("ÂØºÂÖ•")),1)]),(0,a.createElementVNode)("button",{class:"action-btn",onClick:An},[(0,a.createVNode)((0,a.unref)(o.A),{size:16}),(0,a.createElementVNode)("span",C,(0,a.toDisplayString)((0,a.unref)(t)("ÂØºÂá∫")),1)]),(0,a.createElementVNode)("button",{class:"action-btn primary",onClick:m[0]||(m[0]=e=>an.value=!0)},[(0,a.createVNode)((0,a.unref)(i.A),{size:16}),(0,a.createElementVNode)("span",A,(0,a.toDisplayString)((0,a.unref)(t)("Êñ∞Â¢ûAPI")),1)])])]),(0,a.createCommentVNode)(" ÂÜÖÂÆπÂå∫Âüü "),(0,a.createElementVNode)("div",D,[(0,a.createCommentVNode)(" APIÂàóË°®Âå∫ "),(0,a.createElementVNode)("div",T,[(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("h4",I,(0,a.toDisplayString)((0,a.unref)(t)("APIÈÖçÁΩÆÂàóË°®")),1),(0,a.createElementVNode)("span",M,(0,a.toDisplayString)((0,a.unref)(n).apiConfigs.length)+" "+(0,a.toDisplayString)((0,a.unref)(t)("‰∏™ÈÖçÁΩÆ")),1)]),(0,a.createElementVNode)("div",z,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n).apiConfigs,e=>{return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:(0,a.normalizeClass)(["api-card",{disabled:!e.enabled,default:"default"===e.id}])},[(0,a.createElementVNode)("div",P,[(0,a.createElementVNode)("div",R,[(0,a.createElementVNode)("span",$,(0,a.toDisplayString)(hn(e)),1),Xt.value&&"default"===e.id?((0,a.openBlock)(),(0,a.createElementBlock)("span",L,"ÈÖíÈ¶ÜÈÖçÁΩÆ")):((0,a.openBlock)(),(0,a.createElementBlock)("span",O,(0,a.toDisplayString)((r=e.provider,p.o[r]?.name||r)),1))]),(0,a.createElementVNode)("div",F,[(0,a.createElementVNode)("label",{class:"setting-switch",title:(0,a.unref)(t)("ÂêØÁî®/Á¶ÅÁî®")},[(0,a.createElementVNode)("input",{type:"checkbox",checked:e.enabled,onChange:t=>{return a=e.id,void n.toggleAPI(a);var a}},null,40,U),m[17]||(m[17]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))],8,j),(0,a.createElementVNode)("button",{class:"icon-btn",onClick:n=>(async e=>{if(!pn.value){pn.value=e.id;try{const n=p.aiService.getConfig();p.aiService.saveConfig({mode:"custom",customAPI:{provider:e.provider,url:e.url,apiKey:e.apiKey,model:e.model,temperature:e.temperature,maxTokens:e.maxTokens}});const a="‰Ω†Ê≠£Âú®ËøõË°åAPIËøûÈÄöÊÄßÊµãËØï„ÄÇËØ∑‰ªÖËæìÂá∫ÔºöË∂ÖÂá°Êñ∞ÁîüÊú¨-ËøûÈÄöÊµãËØï-OK",r=await p.aiService.generate({user_input:a,should_stream:!1,generation_id:`api_test_${Date.now()}`}),o=r.toLowerCase().includes("Ë∂ÖÂá°Êñ∞ÁîüÊú¨")||r.toLowerCase().includes("ok");gn.value[e.id]=o?"success":"fail",o?b.o.success(`${e.name} ${t("ËøûÊé•ÊàêÂäü")}`):b.o.warning(`${e.name} ${t("ÂìçÂ∫îÂºÇÂ∏∏")}`),p.aiService.saveConfig(n)}catch(n){gn.value[e.id]="fail",b.o.error(`${e.name} ${t("ËøûÊé•Â§±Ë¥•")}: ${n instanceof Error?n.message:"Êú™Áü•ÈîôËØØ"}`)}finally{pn.value=null}}})(e),title:(0,a.unref)(t)("ÊµãËØïËøûÊé•")},[(0,a.createVNode)((0,a.unref)(s.A),{size:16,class:(0,a.normalizeClass)({"loading-pulse":pn.value===e.id})},null,8,["class"])],8,q),(0,a.createElementVNode)("button",{class:"icon-btn",onClick:t=>(e=>{on.value={...e},sn.value=e.id,rn.value=!0})(e),title:(0,a.unref)(t)("ÁºñËæë")},[(0,a.createVNode)((0,a.unref)(l),{size:16})],8,G),(0,a.createElementVNode)("button",{class:"icon-btn danger",onClick:a=>{var r;"default"!==(r=e.id)?Gt.showRetryDialog({title:t("Á°ÆËÆ§Âà†Èô§"),message:t("Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™APIÈÖçÁΩÆÂêóÔºü‰ΩøÁî®ÂÆÉÁöÑÂäüËÉΩÂ∞ÜËá™Âä®ÂõûÈÄÄÂà∞ÈªòËÆ§API„ÄÇ"),confirmText:t("Âà†Èô§"),cancelText:t("ÂèñÊ∂à"),onConfirm:()=>{n.deleteAPI(r),b.o.success(t("APIÈÖçÁΩÆÂ∑≤Âà†Èô§"))},onCancel:()=>{}}):b.o.error(t("‰∏çËÉΩÂà†Èô§ÈªòËÆ§APIÈÖçÁΩÆ"))},title:(0,a.unref)(t)("Âà†Èô§"),disabled:"default"===e.id},[(0,a.createVNode)((0,a.unref)(c.A),{size:16})],8,H)])]),(0,a.createElementVNode)("div",Y,[(0,a.createCommentVNode)(" ÈÖíÈ¶ÜÊ®°Âºè‰∏ãÈªòËÆ§APIÊòæÁ§∫ÁâπÊÆäÊèêÁ§∫ "),Xt.value&&"default"===e.id?((0,a.openBlock)(),(0,a.createElementBlock)("div",W,m[18]||(m[18]=[(0,a.createElementVNode)("span",{class:"hint-text"},"APIÈÖçÁΩÆÁî±ÈÖíÈ¶ÜÁÆ°ÁêÜÔºåÊ≠§Â§ÑÊó†ÈúÄÈÖçÁΩÆ",-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createElementVNode)("div",X,[(0,a.createElementVNode)("span",J,(0,a.toDisplayString)((0,a.unref)(t)("Ê®°Âûã"))+":",1),(0,a.createElementVNode)("span",K,(0,a.toDisplayString)(e.model),1)]),(0,a.createElementVNode)("div",Z,[(0,a.createElementVNode)("span",Q,(0,a.toDisplayString)((0,a.unref)(t)("Âú∞ÂùÄ"))+":",1),(0,a.createElementVNode)("span",ee,(0,a.toDisplayString)(e.url||(0,a.unref)(t)("ÈªòËÆ§")),1)]),(0,a.createElementVNode)("div",te,[(0,a.createElementVNode)("span",ne,(0,a.toDisplayString)((0,a.unref)(t)("Áä∂ÊÄÅ"))+":",1),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["detail-value",wn(e.id)])},(0,a.toDisplayString)(En(e.id)),3)])],64))]),kn(e.id).length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",ae,[(0,a.createElementVNode)("span",re,(0,a.toDisplayString)((0,a.unref)(t)("Â∑≤ÂàÜÈÖçÂäüËÉΩ"))+":",1),(0,a.createElementVNode)("div",oe,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(kn(e.id),e=>((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:e,class:"function-tag"},(0,a.toDisplayString)(yn(e)),1))),128))])])):(0,a.createCommentVNode)("v-if",!0)],2);var r}),128))])]),(0,a.createCommentVNode)(" ÂäüËÉΩÂàÜÈÖçÂå∫ "),(0,a.createElementVNode)("div",ie,[(0,a.createElementVNode)("div",se,[(0,a.createElementVNode)("h4",le,(0,a.toDisplayString)((0,a.unref)(t)("ÂäüËÉΩÂàÜÈÖç")),1)]),(0,a.createCommentVNode)(" Ê®°ÂºèËØ¥Êòé "),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["mode-hint",Xt.value?"tavern":"web"])},m[19]||(m[19]=[(0,a.createElementVNode)("div",{class:"hint-icon"},(0,a.toDisplayString)("üòÅ"),-1),(0,a.createElementVNode)("div",{class:"hint-content"},[(0,a.createElementVNode)("strong",null,"‰Ω†ÂèØ‰ª•‰∏∫‰∏ãÈù¢ÊâÄÊúâ‰∏çÂêåÁöÑÂäüËÉΩÂàÜÈÖç‰∏çÂêåÁöÑÂ§ßÊ®°ÂûãAPI„ÄÇ"),(0,a.createElementVNode)("br"),(0,a.createElementVNode)("span",{class:"hint-example"},"ÊèêÁ§∫ÔºöÁõ∏ÂêåÂ§ßÊ®°ÂûãAPIÁöÑÂäüËÉΩ‰ºöËá™Âä®ÂêàÂπ∂ÂèëÈÄÅÔºå‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÂèØ‰ª•ËäÇÁúÅToken„ÄÇ")],-1)]),2),m[29]||(m[29]=(0,a.createStaticVNode)('<div class="pipeline-hint" data-v-57589a3d><div class="hint-icon" data-v-57589a3d>üòé</div><div class="hint-content" data-v-57589a3d><strong data-v-57589a3d>Â¶ÇÊûúÊüê‰∏™ÂäüËÉΩÈÖçÁΩÆ‰∫ÜÁã¨Á´ãAPIÔºåÂàô‰ºöÂçïÁã¨ÂèëÈÄÅËØ∑Ê±Ç„ÄÇ Â¶ÇÊûú‰Ω†‰∏ç‰∫ÜËß£Áã¨Á´ãAPIÁöÑËøêË°åÊú∫Âà∂ÔºåÂª∫ËÆÆÊâÄÊúâÂäüËÉΩÈÉΩ‰ΩøÁî®&quot;ÈªòËÆ§API&quot;„ÄÇ</strong><br data-v-57589a3d><span class="hint-example" data-v-57589a3d>‰∏æ‰æãÔºö</span><span class="hint-example" data-v-57589a3d>CoT + Main ‰ΩøÁî®Âêå‰∏ÄAPI = 1Ê¨°Ë∞ÉÁî®„ÄÇCoT + Main ‰ΩøÁî®‰∏çÂêåAPI = 2Ê¨°Ë∞ÉÁî®„ÄÇ</span></div></div>',1)),(0,a.createElementVNode)("div",ce,[(0,a.createCommentVNode)(" ========== ‰∏ªÊ∏∏ÊàèÊµÅÁ®ãÔºà3‰∏™Ôºâ ========== "),m[27]||(m[27]=(0,a.createElementVNode)("div",{class:"function-group-header"},[(0,a.createElementVNode)("h5",{class:"group-title"},"‰∏ªË¶ÅAPI"),(0,a.createElementVNode)("span",{class:"group-desc"},"Ë¥üË¥£Ê∏∏Êàè‰∏ªË¶ÅÂÜÖÂÆπÁîüÊàêÁöÑÂ§ßÊ®°ÂûãAPI")],-1)),(0,a.createCommentVNode)(" 1. ‰∏ªÊ∏∏ÊàèÊµÅÁ®ã "),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["setting-item",{"tavern-locked":Xt.value&&(0,a.unref)(n).apiAssignments.find(e=>"main"===e.type)}])},[(0,a.createElementVNode)("div",de,[(0,a.createElementVNode)("label",ue,[(0,a.createTextVNode)((0,a.toDisplayString)(yn("main"))+" ",1),Xt.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",me,"ÈÖíÈ¶ÜAPI")):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("span",pe,(0,a.toDisplayString)(xn("main")),1)]),(0,a.createElementVNode)("div",ge,[Xt.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",he,"‰ΩøÁî®ÈÖíÈ¶ÜÈÖçÁΩÆ")):((0,a.openBlock)(),(0,a.createElementBlock)("select",{key:1,value:(0,a.unref)(n).apiAssignments.find(e=>"main"===e.type)?.apiId,onChange:m[1]||(m[1]=e=>Vn("main",e.target.value)),class:"setting-select"},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n).enabledAPIs,e=>((0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.id,value:e.id},(0,a.toDisplayString)(hn(e)),9,ve))),128))],40,fe))])],2),(0,a.createCommentVNode)(" 2. ÊÄùÁª¥ÈìæÔºàCoTÔºâ+ ÂêØÁî®Á≥ªÁªüCoTÂºÄÂÖ≥ "),(0,a.createElementVNode)("div",be,[(0,a.createElementVNode)("div",ye,[(0,a.createElementVNode)("label",xe,(0,a.toDisplayString)(yn("cot")),1),(0,a.createElementVNode)("span",ke,(0,a.toDisplayString)(xn("cot")),1)]),(0,a.createElementVNode)("div",we,[(0,a.createElementVNode)("div",Ee,[(0,a.createCommentVNode)(" ÂêØÁî®Á≥ªÁªüCoTÂºÄÂÖ≥ "),(0,a.createElementVNode)("div",Ne,[m[21]||(m[21]=(0,a.createElementVNode)("label",{class:"toggle-label"},"ÂêØÁî®",-1)),(0,a.createElementVNode)("label",Se,[(0,a.createElementVNode)("input",{type:"checkbox",checked:(0,a.unref)(n).aiGenerationSettings.enableSystemCoT,onChange:m[2]||(m[2]=e=>(0,a.unref)(n).updateAIGenerationSettings({enableSystemCoT:e.target.checked}))},null,40,_e),m[20]||(m[20]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])]),(0,a.createCommentVNode)(" APIÂàÜÈÖç "),(0,a.createElementVNode)("select",{value:(0,a.unref)(n).apiAssignments.find(e=>"cot"===e.type)?.apiId,onChange:m[3]||(m[3]=e=>Vn("cot",e.target.value)),class:"setting-select",disabled:!(0,a.unref)(n).aiGenerationSettings.enableSystemCoT},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n).enabledAPIs,e=>((0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.id,value:e.id},(0,a.toDisplayString)(hn(e)),9,Ce))),128))],40,Ve)])])]),(0,a.createCommentVNode)(" 3. Êåá‰ª§ÁîüÊàê "),(0,a.createElementVNode)("div",Ae,[(0,a.createElementVNode)("div",De,[(0,a.createElementVNode)("label",Te,(0,a.toDisplayString)(yn("instruction_generation")),1),(0,a.createElementVNode)("span",Be,(0,a.toDisplayString)(xn("instruction_generation")),1)]),(0,a.createElementVNode)("div",Ie,[(0,a.createElementVNode)("select",{value:(0,a.unref)(n).apiAssignments.find(e=>"instruction_generation"===e.type)?.apiId,onChange:m[4]||(m[4]=e=>Vn("instruction_generation",e.target.value)),class:"setting-select"},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n).enabledAPIs,e=>((0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.id,value:e.id},(0,a.toDisplayString)(hn(e)),9,ze))),128))],40,Me)])]),(0,a.createCommentVNode)(" Ëá™Âä®ÂàÜÊ≠•ÁîüÊàêÊèêÁ§∫ "),(0,a.unref)(n).shouldEnableSplitGeneration?((0,a.openBlock)(),(0,a.createElementBlock)("div",Pe,m[22]||(m[22]=[(0,a.createElementVNode)("div",{class:"hint-icon"},"‚ö°",-1),(0,a.createElementVNode)("div",{class:"hint-text"},[(0,a.createElementVNode)("strong",null,"Ëá™Âä®ÂàÜÊ≠•ÁîüÊàêÂ∑≤ÂêØÁî®Ôºö"),(0,a.createTextVNode)(" Ê£ÄÊµãÂà∞‰∏ªÊ∏∏ÊàèÊµÅÁ®ã‰∏≠ÊúâÂäüËÉΩ‰ΩøÁî®‰∫ÜÁã¨Á´ãAPIÔºåÁ≥ªÁªüÂ∞ÜËá™Âä®ÂêØÁî®ÂàÜÊ≠•ÁîüÊàê‰ª•‰ºòÂåñÊÄßËÉΩ„ÄÇ ")],-1)]))):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" ========== ËæÖÂä©ÂäüËÉΩÔºà6‰∏™Ôºâ ========== "),m[28]||(m[28]=(0,a.createElementVNode)("div",{class:"function-group-header"},[(0,a.createElementVNode)("h5",{class:"group-title"},"ËæÖÂä©ÂäüËÉΩ"),(0,a.createElementVNode)("span",{class:"group-desc"},"ÂèØÈÄâÁöÑËæÖÂä©ÁîüÊàêÂäüËÉΩÔºåÊîØÊåÅRaw/Ê†áÂáÜÊ®°ÂºèÂàáÊç¢")],-1)),(0,a.createCommentVNode)(" ËæÖÂä©ÂäüËÉΩÂàóË°® "),((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(["memory_summary","text_optimization","world_generation","event_generation","sect_generation","embedding"],e=>(0,a.createElementVNode)("div",{key:e,class:"setting-item"},[(0,a.createElementVNode)("div",Re,[(0,a.createElementVNode)("label",$e,[(0,a.createTextVNode)((0,a.toDisplayString)(yn(e))+" ",1),"embedding"!==e?((0,a.openBlock)(),(0,a.createElementBlock)("span",Oe,(0,a.toDisplayString)("raw"===(0,a.unref)(n).getFunctionMode(e)?"Raw":"Ê†áÂáÜ"),1)):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("span",Le,(0,a.toDisplayString)(xn(e)),1)]),(0,a.createElementVNode)("div",Fe,[(0,a.createElementVNode)("div",je,[(0,a.createCommentVNode)(" embedding ÂäüËÉΩÁöÑÂêØÁî®ÂºÄÂÖ≥ "),"embedding"===e?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ue,[m[24]||(m[24]=(0,a.createElementVNode)("label",{class:"toggle-label"},"ÂêØÁî®",-1)),(0,a.createElementVNode)("label",qe,[(0,a.createElementVNode)("input",{type:"checkbox",checked:Yt.value,onChange:nn},null,40,Ge),m[23]||(m[23]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createCommentVNode)(" APIÂàÜÈÖç‰∏ãÊãâÊ°Ü "),(0,a.createElementVNode)("select",{value:(0,a.unref)(n).apiAssignments.find(t=>t.type===e)?.apiId,onChange:t=>Vn(e,t.target.value),class:"setting-select",disabled:"embedding"===e&&!Yt.value},[m[25]||(m[25]=(0,a.createElementVNode)("option",{value:"default"},"‰ΩøÁî®‰∏ªAPI",-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n).enabledAPIs.filter(e=>"default"!==e.id),e=>((0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.id,value:e.id},(0,a.toDisplayString)(hn(e)),9,Ye))),128))],40,He),(0,a.createCommentVNode)(" Raw/Ê†áÂáÜÊ®°ÂºèÈÄâÊã©Ôºà‰ªÖÈùûembeddingÂäüËÉΩ‰∏î‰∏∫ÈÖíÈ¶ÜÊ®°ÂºèÊó∂ÊòæÁ§∫Ôºâ "),"embedding"!==e&&Xt.value?((0,a.openBlock)(),(0,a.createElementBlock)("select",{key:1,value:(0,a.unref)(n).getFunctionMode(e),onChange:a=>{return r=e,o=a.target.value,n.setFunctionMode(r,o),void b.o.success(`${yn(r)} ${t("Ê®°ÂºèÂ∑≤ËÆæÁΩÆ‰∏∫")} ${o}`);var r,o},class:"setting-select mode-select"},m[26]||(m[26]=[(0,a.createElementVNode)("option",{value:"raw"},"Raw",-1),(0,a.createElementVNode)("option",{value:"standard"},"Ê†áÂáÜ",-1)]),40,We)):(0,a.createCommentVNode)("v-if",!0)])])])),64))])]),(0,a.createCommentVNode)(" AIÁîüÊàêËÆæÁΩÆ "),(0,a.createElementVNode)("div",Xe,[(0,a.createElementVNode)("div",Je,[(0,a.createElementVNode)("h4",Ke,(0,a.toDisplayString)((0,a.unref)(t)("AIÁîüÊàêËÆæÁΩÆ")),1)]),(0,a.createElementVNode)("div",Ze,[(0,a.createElementVNode)("div",Qe,[(0,a.createElementVNode)("div",et,[(0,a.createElementVNode)("label",tt,(0,a.toDisplayString)((0,a.unref)(t)("ÊµÅÂºèËæìÂá∫")),1),(0,a.createElementVNode)("span",nt,(0,a.toDisplayString)((0,a.unref)(t)("ÂºÄÂêØÂêéAIÂìçÂ∫îÈÄêÂ≠óÊòæÁ§∫ÔºàÂª∫ËÆÆÂºÄÂêØÔºåÊúâÈîôËØØËØ∑ÂÖ≥Èó≠Ôºâ")),1)]),(0,a.createElementVNode)("div",at,[(0,a.createElementVNode)("label",rt,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":m[5]||(m[5]=e=>Ht.value=e)},null,512),[[a.vModelCheckbox,Ht.value]]),m[30]||(m[30]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),Yt.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",ot,[(0,a.createElementVNode)("div",it,[(0,a.createElementVNode)("label",st,(0,a.toDisplayString)((0,a.unref)(t)("Ê£ÄÁ¥¢Êï∞Èáè")),1),(0,a.createElementVNode)("span",lt,(0,a.toDisplayString)((0,a.unref)(t)("ÊØèÊ¨°Ê£ÄÁ¥¢ÁöÑÊúÄÂ§ßËÆ∞ÂøÜÊù°Êï∞")),1)]),(0,a.createElementVNode)("div",ct,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":m[6]||(m[6]=e=>Wt.value=e),onChange:nn,class:"setting-select"},m[31]||(m[31]=[(0,a.createElementVNode)("option",{value:5},"5Êù°",-1),(0,a.createElementVNode)("option",{value:10},"10Êù°ÔºàÊé®ËçêÔºâ",-1),(0,a.createElementVNode)("option",{value:15},"15Êù°",-1),(0,a.createElementVNode)("option",{value:20},"20Êù°",-1)]),544),[[a.vModelSelect,Wt.value,void 0,{number:!0}]])])])):(0,a.createCommentVNode)("v-if",!0),Xt.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",dt,[(0,a.createElementVNode)("div",ut,[(0,a.createElementVNode)("label",mt,(0,a.toDisplayString)((0,a.unref)(t)("üîû Êàê‰∫∫ÂÜÖÂÆπÊ®°Âºè")),1),(0,a.createElementVNode)("span",pt,(0,a.toDisplayString)((0,a.unref)(t)("ÂêØÁî®ÂêéNPCÂèØËÉΩ‰∫ßÁîüÊàê‰∫∫Âêë‰∫íÂä®ÂÜÖÂÆπ")),1)]),(0,a.createElementVNode)("div",gt,[(0,a.createElementVNode)("label",ht,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":m[7]||(m[7]=e=>Jt.value=e),onChange:en},null,544),[[a.vModelCheckbox,Jt.value]]),m[32]||(m[32]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])):(0,a.createCommentVNode)("v-if",!0),Xt.value&&Jt.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",ft,[(0,a.createElementVNode)("div",vt,[(0,a.createElementVNode)("label",bt,(0,a.toDisplayString)((0,a.unref)(t)("üîû ÊÄßÂà´ÂÅèÂ•ΩËøáÊª§")),1),(0,a.createElementVNode)("span",yt,(0,a.toDisplayString)((0,a.unref)(t)("ËøáÊª§ÂèÇ‰∏éÊàê‰∫∫‰∫íÂä®ÁöÑNPCÊÄßÂà´")),1)]),(0,a.createElementVNode)("div",xt,[(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":m[8]||(m[8]=e=>Kt.value=e),onChange:en,class:"setting-select"},[(0,a.createElementVNode)("option",kt,(0,a.toDisplayString)((0,a.unref)(t)("‰ªÖÂ•≥ÊÄß")),1),(0,a.createElementVNode)("option",wt,(0,a.toDisplayString)((0,a.unref)(t)("‰ªÖÁî∑ÊÄß")),1),(0,a.createElementVNode)("option",Et,(0,a.toDisplayString)((0,a.unref)(t)("‰∏çÈôêÊÄßÂà´")),1)],544),[[a.vModelSelect,Kt.value]])])])):(0,a.createCommentVNode)("v-if",!0)])])]),(0,a.createCommentVNode)(" Êñ∞Â¢û/ÁºñËæëAPIÂºπÁ™ó "),an.value||rn.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:(0,a.withModifiers)(Cn,["self"])},[(0,a.createElementVNode)("div",Nt,[(0,a.createElementVNode)("div",St,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(rn.value?(0,a.unref)(t)("ÁºñËæëAPIÈÖçÁΩÆ"):(0,a.unref)(t)("Êñ∞Â¢ûAPIÈÖçÁΩÆ")),1),(0,a.createElementVNode)("button",{class:"close-btn",onClick:Cn},[(0,a.createVNode)((0,a.unref)(d.A),{size:20})])]),(0,a.createElementVNode)("div",_t,[(0,a.createElementVNode)("div",Vt,[(0,a.createElementVNode)("label",null,(0,a.toDisplayString)((0,a.unref)(t)("ÈÖçÁΩÆÂêçÁß∞")),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":m[9]||(m[9]=e=>on.value.name=e),class:"form-input",placeholder:(0,a.unref)(t)("‰æãÂ¶ÇÔºö‰∏ªÂäõAPI")},null,8,Ct),[[a.vModelText,on.value.name]])]),(0,a.createElementVNode)("div",At,[(0,a.createElementVNode)("label",null,(0,a.toDisplayString)((0,a.unref)(t)("APIÊèê‰æõÂïÜ")),1),(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":m[10]||(m[10]=e=>on.value.provider=e),class:"form-select",onChange:bn},[m[33]||(m[33]=(0,a.createElementVNode)("option",{value:"openai"},"OpenAI",-1)),m[34]||(m[34]=(0,a.createElementVNode)("option",{value:"claude"},"Claude",-1)),m[35]||(m[35]=(0,a.createElementVNode)("option",{value:"gemini"},"Gemini",-1)),m[36]||(m[36]=(0,a.createElementVNode)("option",{value:"deepseek"},"DeepSeek",-1)),(0,a.createElementVNode)("option",Dt,(0,a.toDisplayString)((0,a.unref)(t)("Ëá™ÂÆö‰πâ(OpenAIÂÖºÂÆπ)")),1)],544),[[a.vModelSelect,on.value.provider]])]),(0,a.createElementVNode)("div",Tt,[(0,a.createElementVNode)("label",null,(0,a.toDisplayString)((0,a.unref)(t)("APIÂú∞ÂùÄ")),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":m[11]||(m[11]=e=>on.value.url=e),class:"form-input",placeholder:fn(on.value.provider||"openai")},null,8,Bt),[[a.vModelText,on.value.url]])]),(0,a.createElementVNode)("div",It,[(0,a.createElementVNode)("label",null,(0,a.toDisplayString)((0,a.unref)(t)("APIÂØÜÈí•")),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":m[12]||(m[12]=e=>on.value.apiKey=e),type:"password",class:"form-input",placeholder:"sk-..."},null,512),[[a.vModelText,on.value.apiKey]])]),(0,a.createElementVNode)("div",Mt,[(0,a.createElementVNode)("label",null,(0,a.toDisplayString)((0,a.unref)(t)("Ê®°ÂûãÂêçÁß∞")),1),(0,a.createElementVNode)("div",zt,[(0,a.createElementVNode)("div",Pt,[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":m[13]||(m[13]=e=>on.value.model=e),class:"form-input",placeholder:vn(on.value.provider||"openai"),onFocus:m[14]||(m[14]=e=>dn.value=!0),onInput:mn},null,40,Rt),[[a.vModelText,on.value.model]]),(0,a.createElementVNode)("button",{class:"utility-btn",onClick:Nn,disabled:ln.value},[(0,a.createVNode)((0,a.unref)(u.A),{size:16,class:(0,a.normalizeClass)({"loading-pulse":ln.value})},null,8,["class"])],8,$t)]),dn.value&&un.value.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ot,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(un.value,e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:(0,a.normalizeClass)(["model-dropdown-item",{active:on.value.model===e}]),onMousedown:(0,a.withModifiers)(t=>(e=>{on.value.model=e,dn.value=!1})(e),["prevent"])},(0,a.toDisplayString)(e),43,Lt))),128))])):(0,a.createCommentVNode)("v-if",!0)])]),(0,a.createElementVNode)("div",Ft,[(0,a.createElementVNode)("div",jt,[(0,a.createElementVNode)("label",null,(0,a.toDisplayString)((0,a.unref)(t)("Ê∏©Â∫¶ÂèÇÊï∞")),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":m[15]||(m[15]=e=>on.value.temperature=e),type:"number",class:"form-input",min:"0",max:"2",step:"0.1"},null,512),[[a.vModelText,on.value.temperature,void 0,{number:!0}]])]),(0,a.createElementVNode)("div",Ut,[(0,a.createElementVNode)("label",null,(0,a.toDisplayString)((0,a.unref)(t)("ÊúÄÂ§ßTokenÊï∞")),1),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":m[16]||(m[16]=e=>on.value.maxTokens=e),type:"number",class:"form-input",min:"100",max:"128000"},null,512),[[a.vModelText,on.value.maxTokens,void 0,{number:!0}]])])])]),(0,a.createElementVNode)("div",qt,[(0,a.createElementVNode)("button",{class:"btn-cancel",onClick:Cn},(0,a.toDisplayString)((0,a.unref)(t)("ÂèñÊ∂à")),1),(0,a.createElementVNode)("button",{class:"btn-confirm",onClick:Sn},(0,a.toDisplayString)((0,a.unref)(t)("‰øùÂ≠ò")),1)])])])):(0,a.createCommentVNode)("v-if",!0)]))}});var Ht=n(5072),Yt=n.n(Ht),Wt=n(7825),Xt=n.n(Wt),Jt=n(7659),Kt=n.n(Jt),Zt=n(5056),Qt=n.n(Zt),en=n(540),tn=n.n(en),nn=n(1113),an=n.n(nn),rn=n(7038),on={};on.styleTagTransform=an(),on.setAttributes=Qt(),on.insert=Kt().bind(null,"head"),on.domAPI=Xt(),on.insertStyleElement=tn(),Yt()(rn.A,on),rn.A&&rn.A.locals&&rn.A.locals;const sn=(0,n(6262).A)(Gt,[["__scopeId","data-v-57589a3d"]])},7986:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.save-data-section[data-v-68cac9c5] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-68cac9c5] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-68cac9c5] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.save-data-content[data-v-68cac9c5] {\n  flex: 1;\n  overflow: auto;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 0.75rem;\n}\n.data-tree[data-v-68cac9c5] {\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.85rem;\n}\n.empty-state[data-v-68cac9c5] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n",""]);const s=i},7987:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n/* Step transition animation */\n.fade-step-enter-active,\n.fade-step-leave-active {\n  transition: opacity 0.3s ease;\n}\n.fade-step-enter-from,\n.fade-step-leave-to {\n  opacity: 0;\n}\n",""]);const s=i},8002:e=>{"use strict";e.exports=Math.min},8068:e=>{"use strict";e.exports=SyntaxError},8091:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o),s=n(4417),l=n.n(s),c=new URL(n(2814),n.b),d=i()(r()),u=l()(c);d.push([e.id,`\n.workshop-container[data-v-7a070651] {\n  width: 100%;\n  min-height: 100vh;\n  min-height: 100svh;\n  height: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 1.5rem;\n  padding-top: calc(1.5rem + env(safe-area-inset-top));\n  padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));\n  box-sizing: border-box;\n  overflow: auto;\n}\n.workshop-panel[data-v-7a070651] {\n  width: 100%;\n  max-width: 1100px;\n  max-height: 90vh;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  padding: 2.5rem;\n  color: var(--color-text);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.title-row[data-v-7a070651] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n}\n.title[data-v-7a070651] {\n  margin: 0;\n  font-family: var(--font-family-serif);\n  font-size: 2rem;\n  color: var(--color-primary);\n}\n.auth-pill[data-v-7a070651] {\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  padding: 0.5rem 0.75rem;\n  border-radius: 999px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  user-select: none;\n  white-space: nowrap;\n}\n.auth-pill.ok[data-v-7a070651] {\n  border-color: var(--color-success);\n}\n.auth-pill.ok span[data-v-7a070651] {\n  color: var(--color-success);\n}\n.auth-pill.warn[data-v-7a070651] {\n  border-color: var(--color-warning);\n}\n.auth-pill.warn span[data-v-7a070651]:first-child {\n  color: var(--color-error);\n}\n.pill-link[data-v-7a070651] {\n  border: none;\n  background: transparent;\n  color: var(--color-primary);\n  cursor: pointer;\n  padding: 0;\n}\n.pill-link[data-v-7a070651]:hover {\n  text-decoration: underline;\n}\n.subtitle[data-v-7a070651] {\n  margin: 0.75rem 0 0;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n}\n.notice[data-v-7a070651] {\n  margin: 0.6rem 0 0;\n  color: var(--color-text-muted);\n  font-size: 0.92rem;\n  line-height: 1.6;\n}\n.actions[data-v-7a070651] {\n  margin-top: 2rem;\n  display: flex;\n  justify-content: flex-start;\n  gap: 1rem;\n}\n.btn[data-v-7a070651] {\n  padding: 0.9rem 1.5rem;\n  border-radius: 10px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.btn[data-v-7a070651]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-border-hover);\n}\n.btn[data-v-7a070651]:disabled {\n  opacity: 0.55;\n  cursor: not-allowed;\n}\n.btn-secondary[data-v-7a070651] {\n  background: var(--color-surface);\n}\n.tabs[data-v-7a070651] {\n  margin-top: 1.25rem;\n  margin-bottom: 1rem;\n  display: flex;\n  gap: 0.75rem;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 6px;\n  flex-shrink: 0;\n}\n.scroll-content[data-v-7a070651] {\n  flex: 1;\n  overflow-y: auto;\n  min-height: 0;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.scroll-content[data-v-7a070651]::-webkit-scrollbar {\n  width: 6px;\n}\n.scroll-content[data-v-7a070651]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.scroll-content[data-v-7a070651]::-webkit-scrollbar-thumb {\n  background: rgba(147, 197, 253, 0.3);\n  border-radius: 3px;\n}\n.scroll-content[data-v-7a070651]::-webkit-scrollbar-thumb:hover {\n  background: rgba(147, 197, 253, 0.5);\n}\n.tab[data-v-7a070651] {\n  flex: 1;\n  padding: 0.75rem 1rem;\n  border-radius: 10px;\n  border: 1px solid transparent;\n  background: transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.tab.active[data-v-7a070651] {\n  background: var(--color-surface);\n  border-color: var(--color-primary);\n  color: var(--color-text);\n}\n.filters[data-v-7a070651] {\n  margin-top: 1rem;\n  display: grid;\n  grid-template-columns: 160px 1fr 160px auto;\n  gap: 0.75rem;\n  align-items: center;\n}\n.manage-bar[data-v-7a070651] {\n  margin-top: 1rem;\n  padding: 0.75rem 1rem;\n  border-radius: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n}\n.manage-title[data-v-7a070651] {\n  font-weight: 700;\n  color: var(--color-text);\n}\n.manage-meta[data-v-7a070651] {\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.input[data-v-7a070651] {\n  width: 100%;\n  padding: 0.75rem 0.9rem;\n  border-radius: 10px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface);\n  color: var(--color-text);\n  outline: none;\n}\nselect.input[data-v-7a070651] {\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background-image: url(${u});\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  padding-right: 2.5rem;\n  cursor: pointer;\n}\nselect.input option[data-v-7a070651] {\n  background: var(--color-surface);\n  color: var(--color-text);\n  padding: 0.5rem;\n}\n.textarea[data-v-7a070651] {\n  min-height: 84px;\n  resize: vertical;\n}\n.loading[data-v-7a070651] {\n  margin-top: 1.25rem;\n  color: var(--color-text-secondary);\n}\n.empty[data-v-7a070651] {\n  margin-top: 1.25rem;\n  padding: 1rem 1.25rem;\n  border-radius: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n}\n.item-list[data-v-7a070651] {\n  margin-top: 1rem;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 280px);\n  justify-content: center;\n  gap: 0.9rem;\n}\n.item-card[data-v-7a070651] {\n  width: 280px;\n  height: 200px;\n  padding: 1rem 1.1rem;\n  border-radius: 14px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n}\n.item-top[data-v-7a070651] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n}\n.item-title[data-v-7a070651] {\n  font-weight: 800;\n  font-size: 1.05rem;\n  color: var(--color-text);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex: 1;\n  min-width: 0;\n}\n.item-type[data-v-7a070651] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  border: 1px solid var(--color-border);\n  padding: 0.2rem 0.6rem;\n  border-radius: 999px;\n  background: var(--color-surface-light);\n  white-space: nowrap;\n}\n.item-desc[data-v-7a070651] {\n  margin-top: 0.5rem;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  flex-shrink: 0;\n}\n.item-meta[data-v-7a070651] {\n  margin-top: 0.6rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.9rem;\n  color: var(--color-text-muted);\n  font-size: 0.9rem;\n  overflow: hidden;\n  flex-shrink: 0;\n}\n.tags[data-v-7a070651] {\n  margin-top: 0.6rem;\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n  overflow: hidden;\n  max-height: 1.8rem;\n  flex-shrink: 0;\n}\n.tag[data-v-7a070651] {\n  font-size: 0.8rem;\n  padding: 0.2rem 0.55rem;\n  border-radius: 999px;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text-secondary);\n}\n.item-actions[data-v-7a070651] {\n  margin-top: auto;\n  padding-top: 0.5rem;\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.6rem;\n  flex-shrink: 0;\n}\n.btn.danger[data-v-7a070651] {\n  border-color: rgba(239, 68, 68, 0.4);\n  background: rgba(239, 68, 68, 0.12);\n  color: #ef4444;\n}\n.btn.danger[data-v-7a070651]:hover {\n  background: rgba(239, 68, 68, 0.18);\n}\n.pagination[data-v-7a070651] {\n  margin-top: 1.25rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n.page-meta[data-v-7a070651] {\n  display: flex;\n  gap: 1rem;\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.page-controls[data-v-7a070651] {\n  display: flex;\n  gap: 0.75rem;\n}\n.upload-locked[data-v-7a070651] {\n  margin-top: 1.25rem;\n  padding: 1rem 1.25rem;\n  border-radius: 14px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n}\n.upload-form[data-v-7a070651] {\n  margin-top: 1.25rem;\n  display: grid;\n  gap: 0.9rem;\n}\n.form-row[data-v-7a070651] {\n  display: grid;\n  grid-template-columns: 110px minmax(300px, 600px);\n  gap: 0.75rem;\n  align-items: start;\n}\n.label[data-v-7a070651] {\n  color: var(--color-text);\n  font-weight: 700;\n  font-size: 0.92rem;\n  padding-top: 0.55rem;\n}\n.content-actions[data-v-7a070651] {\n  display: flex;\n  gap: 0.6rem;\n  flex-wrap: wrap;\n  align-items: center;\n}\n.file-btn[data-v-7a070651] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.hint[data-v-7a070651] {\n  color: var(--color-text-muted);\n  font-size: 0.9rem;\n}\n.modal-overlay[data-v-7a070651] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1600;\n  padding: 18px;\n}\n.modal[data-v-7a070651] {\n  width: min(760px, 100%);\n  max-height: 85vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  border-radius: 14px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.55);\n}\n.modal-header[data-v-7a070651] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-header h3[data-v-7a070651] {\n  margin: 0;\n  font-size: 1.05rem;\n  color: var(--color-text);\n}\n.close-btn[data-v-7a070651] {\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text-secondary);\n  width: 32px;\n  height: 32px;\n  border-radius: 10px;\n  cursor: pointer;\n}\n.modal-body[data-v-7a070651] {\n  padding: 1.1rem;\n  overflow: auto;\n}\n.modal-info[data-v-7a070651] {\n  padding: 0.9rem 1rem;\n  border-radius: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n}\n.modal-title[data-v-7a070651] {\n  font-weight: 800;\n  color: var(--color-text);\n}\n.modal-sub[data-v-7a070651] {\n  margin-top: 0.45rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.9rem;\n  color: var(--color-text-muted);\n  font-size: 0.9rem;\n}\n.modal-actions[data-v-7a070651] {\n  margin-top: 1rem;\n  display: flex;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n.import-saves[data-v-7a070651] {\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n}\n@media (max-height: 720px) {\n.workshop-container[data-v-7a070651] {\n    align-items: flex-start;\n    justify-content: flex-start;\n}\n.workshop-panel[data-v-7a070651] {\n    padding: 2rem 1.5rem;\n}\n}\n@media (max-height: 600px) {\n.workshop-panel[data-v-7a070651] {\n    padding: 1.5rem 1.25rem;\n}\n}\n@media (max-width: 768px) {\n.workshop-container[data-v-7a070651] {\n    align-items: flex-start;\n    justify-content: flex-start;\n    padding: 1rem;\n    padding-top: calc(1rem + env(safe-area-inset-top));\n    padding-bottom: calc(1rem + env(safe-area-inset-bottom));\n}\n.workshop-panel[data-v-7a070651] { padding: 2rem 1.5rem;\n}\n.filters[data-v-7a070651] { grid-template-columns: 1fr;\n}\n.form-row[data-v-7a070651] { grid-template-columns: 1fr;\n}\n.label[data-v-7a070651] { padding-top: 0;\n}\n}\n@media (max-width: 480px) {\n.workshop-container[data-v-7a070651] {\n    padding: 0.75rem;\n    padding-top: calc(0.75rem + env(safe-area-inset-top));\n    padding-bottom: calc(0.75rem + env(safe-area-inset-bottom));\n}\n.workshop-panel[data-v-7a070651] {\n    padding: 1.5rem 1rem;\n}\n}\n`,""]);const m=d},8092:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.memory-section[data-v-04e0cd04] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n.section-header[data-v-04e0cd04] {\n  margin-bottom: 1rem;\n  flex-shrink: 0;\n}\n.section-title[data-v-04e0cd04] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.memory-content[data-v-04e0cd04] {\n  flex: 1;\n  overflow: hidden;\n}\n.data-display[data-v-04e0cd04] {\n  height: 100%;\n  overflow: hidden;\n}\n.code-pre[data-v-04e0cd04] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  height: 100%;\n  overflow: auto;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.8rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.empty-state[data-v-04e0cd04] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-text-secondary);\n  text-align: center;\n}\n\n/* ÊâãÊú∫Á´ØÈÄÇÈÖç */\n@media (max-width: 640px) {\n.memory-section[data-v-04e0cd04] {\n    padding: 0.75rem;\n}\n.section-title[data-v-04e0cd04] {\n    font-size: 1rem;\n    text-align: center;\n}\n.code-pre[data-v-04e0cd04] {\n    font-size: 0.75rem;\n    padding: 0.5rem;\n}\n.empty-state[data-v-04e0cd04] {\n    padding: 2rem 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.memory-section[data-v-04e0cd04] {\n    padding: 0.5rem;\n}\n.section-title[data-v-04e0cd04] {\n    font-size: 0.9rem;\n}\n.code-pre[data-v-04e0cd04] {\n    font-size: 0.7rem;\n    padding: 0.4rem;\n}\n}\n",""]);const s=i},8133:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]])},8139:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.title-section[data-v-a2b6e2a4] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.preset-count[data-v-a2b6e2a4] {\n  padding: 0.25rem 0.6rem;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n  border-radius: 12px;\n  font-size: 0.75rem;\n  color: var(--color-primary);\n  font-weight: 600;\n}\n.header-actions[data-v-a2b6e2a4] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.btn-action[data-v-a2b6e2a4] {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  padding: 0.5rem 0.9rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface-lighter);\n  color: var(--color-text);\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n.btn-action .btn-icon[data-v-a2b6e2a4] {\n  font-size: 1.1rem;\n  display: flex;\n  align-items: center;\n}\n.btn-action .btn-text[data-v-a2b6e2a4] {\n  white-space: nowrap;\n}\n.btn-action.import[data-v-a2b6e2a4]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.1));\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.2);\n}\n.btn-action.export[data-v-a2b6e2a4]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-accent-rgb), 0.1), rgba(var(--color-primary-rgb), 0.1));\n  border-color: var(--color-accent);\n  color: var(--color-accent);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(var(--color-accent-rgb), 0.2);\n}\n.btn-delete[data-v-a2b6e2a4] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-size: 1.2rem;\n  padding: 0 0.5rem;\n  border-radius: 4px;\n  margin-left: 0.5rem;\n  transition: all 0.2s ease;\n}\n.btn-delete[data-v-a2b6e2a4]:hover {\n  background-color: rgba(var(--color-danger-rgb), 0.1);\n  color: var(--color-danger);\n}\n.preset-actions[data-v-a2b6e2a4] {\n  display: flex;\n  align-items: center;\n}\n.modal-overlay[data-v-a2b6e2a4] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n}\n.modal-container[data-v-a2b6e2a4] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  width: 90%;\n  max-width: 600px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  animation: slideUp-a2b6e2a4 0.3s ease-out;\n}\n@keyframes slideUp-a2b6e2a4 {\nfrom {\n    opacity: 0;\n    transform: translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.modal-header[data-v-a2b6e2a4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-title[data-v-a2b6e2a4] {\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--color-text);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.modal-close[data-v-a2b6e2a4] {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.modal-close[data-v-a2b6e2a4]:hover {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-text);\n}\n.modal-content[data-v-a2b6e2a4] {\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n  min-height: 200px;\n}\n\n/* Loading State */\n.loading-state[data-v-a2b6e2a4] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem;\n  gap: 1rem;\n}\n.spinner[data-v-a2b6e2a4] {\n  width: 40px;\n  height: 40px;\n  border: 3px solid rgba(var(--color-primary-rgb), 0.2);\n  border-top-color: var(--color-primary);\n  border-radius: 50%;\n  animation: spin-a2b6e2a4 1s linear infinite;\n}\n@keyframes spin-a2b6e2a4 {\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* Empty State */\n.empty-state[data-v-a2b6e2a4] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 2rem;\n  text-align: center;\n}\n.empty-icon[data-v-a2b6e2a4] {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  opacity: 0.5;\n}\n.empty-state p[data-v-a2b6e2a4] {\n  margin: 0.5rem 0;\n  color: var(--color-text-secondary);\n}\n.empty-hint[data-v-a2b6e2a4] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  opacity: 0.7;\n  max-width: 300px;\n}\n\n/* Presets List */\n.presets-list[data-v-a2b6e2a4] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.preset-item[data-v-a2b6e2a4] {\n  padding: 1rem;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background: var(--color-surface-light);\n}\n.preset-item[data-v-a2b6e2a4]:hover {\n  border-color: var(--color-primary);\n  background: var(--color-surface-lighter);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n.preset-item.selected[data-v-a2b6e2a4] {\n  border-color: var(--color-primary);\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.1));\n  box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);\n}\n.preset-header[data-v-a2b6e2a4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n.preset-name[data-v-a2b6e2a4] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.preset-date[data-v-a2b6e2a4] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.preset-description[data-v-a2b6e2a4] {\n  margin: 0.5rem 0;\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  line-height: 1.4;\n}\n.preset-info[data-v-a2b6e2a4] {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n  flex-wrap: wrap;\n}\n.info-tag[data-v-a2b6e2a4] {\n  padding: 0.25rem 0.75rem;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  border: 1px solid rgba(var(--color-primary-rgb), 0.2);\n  border-radius: 12px;\n  font-size: 0.75rem;\n  color: var(--color-primary);\n}\n.info-tag.name-tag[data-v-a2b6e2a4] {\n  background: linear-gradient(135deg, rgba(var(--color-accent-rgb), 0.15), rgba(var(--color-primary-rgb), 0.15));\n  border-color: var(--color-accent);\n  color: var(--color-accent);\n  font-weight: 600;\n}\n.info-tag.age-tag[data-v-a2b6e2a4] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  border-color: rgba(var(--color-success-rgb), 0.3);\n  color: var(--color-success);\n}\n.modal-footer[data-v-a2b6e2a4] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding: 1.5rem;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n}\n.btn[data-v-a2b6e2a4] {\n  padding: 0.7rem 1.5rem;\n  border-radius: 6px;\n  border: none;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n.btn-cancel[data-v-a2b6e2a4] {\n  background: var(--color-surface-lighter);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-cancel[data-v-a2b6e2a4]:hover:not(:disabled) {\n  background: rgba(var(--color-text-rgb), 0.05);\n  border-color: var(--color-text-secondary);\n}\n.btn-confirm[data-v-a2b6e2a4] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: #fff;\n  border: none;\n  min-width: 120px;\n}\n.btn-confirm[data-v-a2b6e2a4]:hover:not(:disabled) {\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);\n  transform: translateY(-2px);\n}\n.btn-confirm[data-v-a2b6e2a4]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* ÁßªÂä®Á´ØÈÄÇÈÖç */\n@media (max-width: 768px) {\n.modal-container[data-v-a2b6e2a4] {\n    width: 95%;\n    max-width: 100%;\n    border-radius: 8px;\n}\n.modal-header[data-v-a2b6e2a4] {\n    padding: 1rem;\n}\n.modal-title[data-v-a2b6e2a4] {\n    font-size: 1.1rem;\n}\n.btn-action .btn-text[data-v-a2b6e2a4] {\n    display: none;\n}\n.btn-action[data-v-a2b6e2a4] {\n    padding: 0.5rem;\n    min-width: 36px;\n}\n.modal-content[data-v-a2b6e2a4] {\n    padding: 1rem;\n}\n.preset-item[data-v-a2b6e2a4] {\n    padding: 0.75rem;\n}\n.modal-footer[data-v-a2b6e2a4] {\n    padding: 1rem;\n    flex-direction: column-reverse;\n    gap: 0.75rem;\n}\n.btn[data-v-a2b6e2a4] {\n    width: 100%;\n    padding: 0.8rem 1rem;\n}\n}\n",""]);const s=i},8233:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.cloud-sync-button[data-v-1f7f5d72] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.5rem 0.8rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-size: 0.85rem;\n  min-width: 80px;\n  white-space: nowrap;\n}\n.cloud-sync-button[data-v-1f7f5d72]:hover {\n  background: var(--color-surface-lighter);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.sync-text[data-v-1f7f5d72] {\n  font-weight: 500;\n}\n.sync-icon[data-v-1f7f5d72] {\n  font-size: 1em;\n  flex-shrink: 0;\n}\n\n/* Â∑≤ÂêåÊ≠•Áä∂ÊÄÅÊ†∑Âºè */\n.cloud-sync-button.synced[data-v-1f7f5d72] {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-success-rgb), 0.1));\n  border-color: var(--color-success);\n  color: var(--color-success);\n}\n.cloud-sync-button[data-v-1f7f5d72]:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n.cloud-sync-button.synced[data-v-1f7f5d72]:hover {\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.2), rgba(var(--color-success-rgb), 0.2));\n}\n\n/* Size variants */\n.cloud-sync-button.small[data-v-1f7f5d72] {\n  padding: 0.5rem 0.75rem;\n  font-size: 0.9rem;\n  min-width: 100px;\n}\n.cloud-sync-button.large[data-v-1f7f5d72] {\n  padding: 1rem 1.5rem;\n  font-size: 1.1rem;\n  min-width: 180px;\n}\n\n/* Compact variant */\n.cloud-sync-button.compact[data-v-1f7f5d72] {\n  min-width: auto;\n  padding: 0.5rem;\n}\n.cloud-sync-button.compact .sync-text[data-v-1f7f5d72] {\n  display: none;\n}\n",""]);const s=i},8275:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var a=n(4061),r=n(9173),o=n(6494);const i={class:"modal-header"},s={class:"modal-title"},l={class:"modal-content"},c=["innerHTML"],d=(0,a.defineComponent)({__name:"DetailModal",setup(e){const t=(0,r.useUIStore)(),n=()=>{t.hideDetailModal()};return(e,r)=>((0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:"modal-fade"},{default:(0,a.withCtx)(()=>[(0,a.unref)(t).showDetailModalState?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:n},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["modal-container",(0,a.unref)(t).detailModalClass]),onClick:r[0]||(r[0]=(0,a.withModifiers)(()=>{},["stop"]))},[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("h3",s,(0,a.toDisplayString)((0,a.unref)(t).detailModalTitle),1),(0,a.createElementVNode)("button",{class:"modal-close-button",onClick:n},[r[1]||(r[1]=(0,a.createElementVNode)("span",null,"ÂÖ≥Èó≠",-1)),(0,a.createVNode)((0,a.unref)(o.A),{size:16})])]),(0,a.createElementVNode)("div",l,[(0,a.createCommentVNode)(" Render component if provided "),(0,a.unref)(t).detailModalComponent?((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)((0,a.unref)(t).detailModalComponent),(0,a.normalizeProps)((0,a.mergeProps)({key:0},(0,a.unref)(t).detailModalProps)),null,16)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createCommentVNode)(" Fallback to HTML content "),(0,a.createElementVNode)("div",{innerHTML:(0,a.unref)(t).detailModalContent},null,8,c)],2112))])],2)])):(0,a.createCommentVNode)("v-if",!0)]),_:1}))}});var u=n(5072),m=n.n(u),p=n(7825),g=n.n(p),h=n(7659),f=n.n(h),v=n(5056),b=n.n(v),y=n(540),x=n.n(y),k=n(1113),w=n.n(k),E=n(5192),N={};N.styleTagTransform=w(),N.setAttributes=b(),N.insert=f().bind(null,"head"),N.domAPI=g(),N.insertStyleElement=x(),m()(E.A,N),E.A&&E.A.locals&&E.A.locals;const S=(0,n(6262).A)(d,[["__scopeId","data-v-210f912a"]])},8293:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* ÂëΩ‰ª§Êó•ÂøóÂºπÁ™óÊ†∑Âºè */\n.command-log-overlay[data-v-52577625] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n.command-log-modal[data-v-52577625] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n}\n\n/* ÂºπÁ™óÂä®Áîª */\n.command-log-modal-enter-active[data-v-52577625],\n.command-log-modal-leave-active[data-v-52577625] {\n  transition: all 0.3s ease;\n}\n.command-log-modal-enter-from[data-v-52577625],\n.command-log-modal-leave-to[data-v-52577625] {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n.command-log-header[data-v-52577625] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-surface-hover) 100%);\n  border-bottom: 1px solid var(--color-border);\n  flex-shrink: 0;\n}\n.command-log-header h3[data-v-52577625] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-log-btn[data-v-52577625] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 6px;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-log-btn[data-v-52577625]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  transform: rotate(90deg);\n}\n.command-log-content[data-v-52577625] {\n  padding: 16px;\n  overflow-y: auto;\n  flex: 1;\n}\n.command-list[data-v-52577625] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.command-item[data-v-52577625] {\n  display: flex;\n  gap: 12px;\n  padding: 12px;\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  transition: all 0.2s ease;\n}\n.command-item[data-v-52577625]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  border-color: var(--color-primary);\n}\n.command-icon-wrapper[data-v-52577625] {\n  width: 40px;\n  height: 40px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background: var(--color-primary-light);\n  color: var(--color-primary);\n}\n.command-details[data-v-52577625] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.command-description[data-v-52577625] {\n  margin: 0;\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--color-text);\n  line-height: 1.4;\n}\n.command-values[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 0.85rem;\n  font-family: var(--font-family-mono);\n}\n.old-value[data-v-52577625], .new-value[data-v-52577625] {\n  padding: 4px 8px;\n  border-radius: 4px;\n}\n.old-value[data-v-52577625] {\n  background: rgba(var(--color-error-rgb), 0.1);\n  color: var(--color-danger);\n  text-decoration: line-through;\n}\n.new-value[data-v-52577625] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n  font-weight: 600;\n}\n.arrow[data-v-52577625] {\n  color: var(--color-text-secondary);\n  font-weight: 600;\n}\n.no-commands[data-v-52577625] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.no-commands .empty-icon[data-v-52577625] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n}\n.no-commands .empty-text[data-v-52577625] {\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: var(--color-text);\n  font-size: 1rem;\n}\n.no-commands .empty-hint[data-v-52577625] {\n  font-size: 0.85rem;\n  opacity: 0.8;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢òÈÄÇÈÖç */\n[data-theme="dark"] .command-log-modal[data-v-52577625] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme="dark"] .command-log-header[data-v-52577625] {\n  background: linear-gradient(135deg, #334155 0%, #1e293b 100%);\n  border-color: #475569;\n}\n[data-theme="dark"] .command-item[data-v-52577625] {\n  background: #334155;\n  border-color: #475569;\n}\n[data-theme="dark"] .command-item[data-v-52577625]:hover {\n  border-color: var(--color-primary);\n}\n[data-theme="dark"] .command-icon-wrapper[data-v-52577625] {\n  background: rgba(var(--color-primary-rgb), 0.1);\n}\n[data-theme="dark"] .old-value[data-v-52577625] {\n  background: rgba(var(--color-error-rgb), 0.2);\n}\n[data-theme="dark"] .new-value[data-v-52577625] {\n  background: rgba(var(--color-success-rgb), 0.2);\n}\n.main-game-panel[data-v-52577625] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--color-background);\n  font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n  box-sizing: border-box;\n}\n\n/* Áü≠ÊúüËÆ∞ÂøÜÂå∫Âüü */\n.memory-section[data-v-52577625] {\n  padding: 12px 20px;\n  background: linear-gradient(135deg, #fefbff 0%, #f8fafc 100%);\n  border-bottom: 1px solid #e2e8f0;\n  position: relative;\n  z-index: 20;\n  flex-shrink: 0;\n}\n.memory-header[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  padding: 4px 0;\n  transition: all 0.2s ease;\n}\n.memory-header[data-v-52577625]:hover {\n  background: rgba(99, 102, 241, 0.05);\n  border-radius: 6px;\n  margin: -4px;\n  padding: 8px 4px;\n}\n.memory-title[data-v-52577625] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: #6366f1;\n}\n.memory-icon[data-v-52577625] {\n  color: #94a3b8;\n  transition: transform 0.2s ease;\n}\n\n/* ‰∏ãÊãâÊÇ¨ÊµÆÊïàÊûú */\n.memory-dropdown[data-v-52577625] {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: var(--color-surface);\n  border: 1px solid #e2e8f0;\n  border-top: none;\n  border-radius: 0 0 12px 12px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  z-index: 19;\n  max-height: 300px;\n  overflow-y: auto;\n}\n.memory-content[data-v-52577625] {\n  padding: 16px 20px;\n}\n.memory-item[data-v-52577625] {\n  font-size: 0.85rem;\n  color: #374151;\n  margin-bottom: 12px;\n  padding: 12px 16px;\n  background: rgba(99, 102, 241, 0.05);\n  border-radius: 8px;\n  border-left: 3px solid #6366f1;\n  line-height: 1.5;\n}\n.memory-item[data-v-52577625]:last-child {\n  margin-bottom: 0;\n}\n.no-memory[data-v-52577625] {\n  font-size: 0.9rem;\n  color: #9ca3af;\n  font-style: italic;\n  text-align: center;\n  padding: 20px;\n}\n\n/* ‰∏ãÊãâÂä®Áîª */\n.memory-dropdown-enter-active[data-v-52577625],\n.memory-dropdown-leave-active[data-v-52577625] {\n  transition: all 0.3s ease;\n}\n.memory-dropdown-enter-from[data-v-52577625] {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n.memory-dropdown-leave-to[data-v-52577625] {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n\n/* ÂΩìÂâçÂèôËø∞ÊòæÁ§∫Âå∫Âüü */\n.current-narrative[data-v-52577625] {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  min-width: 0; /* Èò≤Ê≠¢flexÊî∂Áº©ÈóÆÈ¢ò */\n  border-radius: 12px; /* ÂúÜËßí */\n  box-shadow: none !important; /* ÁßªÈô§Èò¥ÂΩ± */\n  background-color: var(--color-surface) !important; /* Êèê‰∫ÆÂèô‰∫ãÂå∫Âüü‰ΩÜ‰∏çÂà∫Áúº */\n}\n\n/* ÊµÅÂºèËæìÂá∫ÂÜÖÂÆπÊ†∑Âºè */\n.streaming-narrative-content[data-v-52577625] {\n  margin-top: 16px;\n  padding: 16px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  animation: fadeIn-52577625 0.3s ease-in;\n}\n.streaming-text[data-v-52577625] {\n  line-height: 1.8;\n  color: var(--color-text);\n  font-size: 0.95rem;\n}\n@keyframes fadeIn-52577625 {\nfrom {\n    opacity: 0;\n    transform: translateY(10px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.content-area[data-v-52577625] {\n  background-color: var(--color-surface) !important; /* Êèê‰∫ÆÂÜÖÂÆπÂå∫ */\n  padding: 20px;\n  flex: 1;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  /* ÊòæÁ§∫ÂèØËßÅÁöÑÊªöÂä®ÊãáÊåáÔºå‰ΩÜËΩ®ÈÅìÈÄèÊòé */\n  scrollbar-color: transparent transparent;\n  box-sizing: border-box;\n  min-height: 200px;\n  display: flex; /* ËÆ©Â≠êÂÖÉÁ¥†ÂèØ‰ª•ÊíëÊª°È´òÂ∫¶ */\n  box-shadow: none !important; /* ÁßªÈô§Èò¥ÂΩ± */\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò‰∏ã content-area ËÉåÊôØ‰∏éÂÜÖÈÉ®‰∏ÄËá¥ */\n[data-theme="dark"] .content-area[data-v-52577625] {\n  background-color: #1E293B !important;\n}\n\n/* WebKitÊªöÂä®Êù°Ê†∑Âºè */\n.content-area[data-v-52577625]::-webkit-scrollbar {\n  width: 6px;\n  background: transparent;\n}\n.content-area[data-v-52577625]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.content-area[data-v-52577625]::-webkit-scrollbar-track-piece {\n  background: transparent;\n}\n.content-area[data-v-52577625]::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background-color: transparent;\n}\n\n/* ÊÇ¨ÂÅúÊó∂Áï•ÂæÆÂ¢ûÂº∫ÂèØËßÅÂ∫¶ */\n.content-area[data-v-52577625]:hover::-webkit-scrollbar-thumb {\n  background-color: transparent;\n}\n.content-area[data-v-52577625]::-webkit-scrollbar-button {\n  display: none;\n}\n.content-area[data-v-52577625]::-webkit-scrollbar-corner {\n  background: transparent;\n}\n\n\n/* AIÂ§ÑÁêÜÁä∂ÊÄÅÊåáÁ§∫Âô®ÔºàÁîüÊàêÊó∂ÊòæÁ§∫Âú®È°∂ÈÉ®Ôºâ */\n.ai-processing-indicator[data-v-52577625] {\n  width: 100%;\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%);\n  border: 1px solid rgba(99, 102, 241, 0.2);\n  border-radius: 8px;\n  padding: 12px 16px;\n  margin-bottom: 16px;\n  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.1);\n}\n\n/* ÈáçÁΩÆÁä∂ÊÄÅÊåâÈíÆ */\n.reset-state-btn[data-v-52577625] {\n  padding: 6px;\n  font-size: 13px;\n  background: transparent;\n  color: var(--color-text-secondary);\n  border: 1px solid transparent;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: auto; /* Êé®Âà∞Âè≥‰æß */\n}\n.reset-state-btn[data-v-52577625]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-danger);\n  border-color: var(--color-border-hover);\n  transform: translateY(-1px);\n}\n\n/* ÊµÅÂºèÁä∂ÊÄÅÂÖÉÊï∞ÊçÆÂ∏ÉÂ±Ä */\n.streaming-meta[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  gap: 12px;\n}\n.streaming-indicator[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.85rem;\n  color: var(--color-primary);\n  font-weight: 500;\n}\n.streaming-dot[data-v-52577625] {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  animation: pulse-52577625 1.2s ease-in-out infinite;\n}\n.streaming-text[data-v-52577625] {\n  font-weight: 500;\n}\n\n/* Á≠âÂæÖÂä®ÁîªÊ†∑Âºè */\n.waiting-animation[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 60px 0; /* Â¢ûÂä†‰∏Ä‰∫õÂûÇÁõ¥Á©∫Èó¥ */\n}\n.thinking-dots[data-v-52577625] {\n  display: flex;\n  gap: 8px;\n}\n.thinking-dots .dot[data-v-52577625] {\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  animation: thinking-52577625 1.4s ease-in-out infinite;\n}\n.thinking-dots .dot[data-v-52577625]:nth-child(1) {\n  animation-delay: 0s;\n}\n.thinking-dots .dot[data-v-52577625]:nth-child(2) {\n  animation-delay: 0.2s;\n}\n.thinking-dots .dot[data-v-52577625]:nth-child(3) {\n  animation-delay: 0.4s;\n}\n@keyframes thinking-52577625 {\n0%, 60%, 100% {\n    transform: scale(1);\n    opacity: 0.7;\n}\n30% {\n    transform: scale(1.3);\n    opacity: 1;\n}\n}\n\n/* .waiting-text is no longer used */\n@keyframes pulse-52577625 {\n0% { box-shadow: 0 0 0 0 currentColor; opacity: 0.8;\n}\n70% { box-shadow: 0 0 0 6px transparent; opacity: 1;\n}\n100% { box-shadow: 0 0 0 0 transparent; opacity: 0.8;\n}\n}\n\n/* ËæìÂÖ•Ê°ÜÂè≥‰æßÁöÑÊµÅÂºè‰º†ËæìÈÄâÈ°πÊ†∑Âºè - Âà†Èô§ÊóßÊ†∑Âºè */\n\n/* ËæìÂÖ•Ê°ÜÂÆπÂô®Ê†∑Âºè */\n.input-container[data-v-52577625] {\n  flex: 1;\n  position: relative;\n  display: flex;\n  align-items: stretch; /* ËÆ©ÂÜÖÈÉ®ÂÖÉÁ¥†ÂûÇÁõ¥Êãâ‰º∏ */\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  background: var(--color-surface);\n  transition: all 0.2s ease;\n  min-height: 32px; /* ÂáèÂ∞èÊúÄÂ∞èÈ´òÂ∫¶‰ª•ÂØπÂ∫îÂçïË°å */\n  max-width: 100%; /* Èò≤Ê≠¢Ê®™ÂêëÊâ©Â±ï */\n  overflow: hidden; /* Á°Æ‰øùÂÜÖÂÆπ‰∏ç‰ºöÊ∫¢Âá∫ÂÆπÂô® */\n}\n.input-container[data-v-52577625]:focus-within {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n.input-container[data-v-52577625]:has(.game-input:disabled) {\n  background: #f9fafb;\n}\n\n/* ËæìÂÖ•Ê°ÜÂÜÖÈÉ®ÁöÑÊñáÊú¨Âå∫Âüü */\n.input-container .game-input[data-v-52577625] {\n  flex: 1;\n  border: none;\n  background: transparent;\n  padding: 8px 16px;\n  padding-right: 0; /* Âè≥‰æßÁïôÁªôÊµÅÂºè‰º†ËæìÈÄâÈ°π */\n  outline: none;\n  box-shadow: none;\n  resize: none;\n  overflow-y: auto;\n  width: 100%; /* Á°Æ‰øùÂÆΩÂ∫¶Â°´Êª°ÂÆπÂô® */\n  min-height: 24px; /* ÂçïË°åÈ´òÂ∫¶ */\n  max-height: 120px;\n  min-width: 0; /* ÂÖÅËÆ∏Áº©Â∞è */\n  box-sizing: border-box;\n  word-wrap: break-word;\n  white-space: pre-wrap; /* ‰øùÊåÅÊç¢Ë°åÂíåÁ©∫Ê†º */\n  overflow-wrap: break-word;\n  /* ÁßªÈô§Ëá™Âä®È´òÂ∫¶Áõ∏ÂÖ≥Ê†∑ÂºèÔºåÁî®JSÊéßÂà∂ */\n  height: auto;\n  line-height: 1.4;\n  /* ÈÄèÊòéÊªöÂä®Êù°ÔºàFirefoxÔºâ */\n  scrollbar-width: thin;\n  scrollbar-color: transparent transparent;\n}\n.input-container .game-input[data-v-52577625]:focus {\n  border: none;\n  box-shadow: none;\n}\n\n/* ÈÄèÊòéÊªöÂä®Êù°ÔºàWebKitÔºâ */\n.input-container .game-input[data-v-52577625]::-webkit-scrollbar {\n  width: 6px;\n  background: transparent;\n}\n.input-container .game-input[data-v-52577625]::-webkit-scrollbar-track,\n.input-container .game-input[data-v-52577625]::-webkit-scrollbar-track-piece,\n.input-container .game-input[data-v-52577625]::-webkit-scrollbar-corner {\n  background: transparent;\n}\n.input-container .game-input[data-v-52577625]::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background-color: transparent;\n}\n.input-container .game-input[data-v-52577625]:hover::-webkit-scrollbar-thumb {\n  background-color: transparent;\n}\n\n/* ËæìÂÖ•Ê°ÜÂÜÖÈÉ®ÁöÑÊµÅÂºè‰º†ËæìÈÄâÈ°π */\n.stream-toggle-inside[data-v-52577625] {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n  padding: 4px 12px;\n  border-left: 1px solid #e5e7eb;\n  margin-left: 8px;\n  cursor: pointer;\n  user-select: none;\n  flex-shrink: 0;\n  align-self: stretch; /* ÂûÇÁõ¥Êãâ‰º∏‰ª•ÂåπÈÖçÂÆπÂô®È´òÂ∫¶ */\n  min-height: 32px; /* ÂáèÂ∞èÊúÄÂ∞èÈ´òÂ∫¶‰ª•ÂØπÂ∫îÂçïË°å */\n}\n.stream-toggle-inside[data-v-52577625]:hover {\n  color: var(--color-text);\n}\n.stream-toggle-inside input[type="checkbox"][data-v-52577625] {\n  width: 12px;\n  height: 12px;\n  cursor: pointer;\n}\n.stream-toggle-inside .label-text[data-v-52577625] {\n  cursor: pointer;\n}\n\n/* ÂΩìÂâçÂèôËø∞ÊòæÁ§∫Âå∫Âüü */\n/* .current-narrative Ê†∑ÂºèÂ∑≤ÂêàÂπ∂Âà∞ line 1996 */\n.narrative-content[data-v-52577625] {\n  line-height: 1.8;\n  color: var(--color-text);\n  font-size: 0.95rem;\n  background: var(--color-surface); /* Á°Æ‰øùÂèôËø∞ÂÜÖÂÆπÂå∫ÂüüËÉåÊôØ‰∏ÄËá¥ */\n}\n.action-options[data-v-52577625] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-top: 16px;\n  padding-top: 16px;\n  border-top: 1px solid #e5e7eb;\n  margin-bottom: 16px;\n}\n.action-option-btn[data-v-52577625] {\n  padding: 8px 16px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-hover) 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.2s;\n  white-space: normal;\n  word-break: break-word;\n  max-width: 100%;\n  text-align: center;\n  flex: 0 1 auto;\n  min-width: 0;\n}\n.action-option-btn[data-v-52577625]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);\n}\n\n/* ÁªòÂõæÊåâÈíÆ */\n.header-action-btn.image-gen-btn[data-v-52577625] {\n  background: transparent;\n  border: 1px solid var(--color-border);\n  color: var(--color-primary);\n  /* cursor: pointer; */\n  padding: 6px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  margin-right: 4px;\n}\n.header-action-btn.image-gen-btn[data-v-52577625]:hover:not(:disabled) {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  transform: scale(1.1);\n  box-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.3);\n}\n.header-action-btn.image-gen-btn[data-v-52577625]:disabled {\n  opacity: 0.6;\n  cursor: wait;\n}\n.narrative-meta[data-v-52577625] {\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #f3f4f6;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.meta-buttons[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.header-action-btn.rollback-btn[data-v-52577625] {\n  background: transparent;\n  border: 1px solid transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 6px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n.header-action-btn.rollback-btn[data-v-52577625]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-primary);\n}\n.narrative-time[data-v-52577625] {\n  font-size: 0.8rem;\n  color: #6b7280;\n  font-weight: 500;\n}\n\n/* ÂèòÈáèÊõ¥Êñ∞ÊåâÈíÆ */\n.variable-updates-toggle[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 12px;\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n  color: white;\n  border: none;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n.variable-updates-toggle[data-v-52577625]::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s ease;\n}\n.variable-updates-toggle[data-v-52577625]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);\n  background: linear-gradient(135deg, #2563eb, #1e40af);\n}\n.variable-updates-toggle[data-v-52577625]:hover::before {\n  left: 100%;\n}\n.variable-updates-toggle.active[data-v-52577625] {\n  background: linear-gradient(135deg, #10b981, #059669);\n  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);\n}\n.variable-updates-toggle.disabled[data-v-52577625] {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: linear-gradient(135deg, #9ca3af, #6b7280);\n  box-shadow: 0 2px 8px rgba(156, 163, 175, 0.3);\n}\n.variable-updates-toggle.disabled[data-v-52577625]:hover {\n  transform: none;\n  background: linear-gradient(135deg, #9ca3af, #6b7280);\n  box-shadow: 0 2px 8px rgba(156, 163, 175, 0.3);\n}\n.variable-updates-toggle.disabled[data-v-52577625]::before {\n  display: none;\n}\n.update-count[data-v-52577625] {\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n  font-size: 0.7rem;\n  font-weight: 700;\n  padding: 2px 6px;\n  border-radius: 10px;\n  min-width: 18px;\n  text-align: center;\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n/* ÊÇ¨ÊµÆÈù¢ÊùøË¶ÜÁõñÂ±Ç */\n.variable-updates-overlay[data-v-52577625] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n}\n\n/* ÊÇ¨ÊµÆÈù¢Êùø‰∏ª‰Ωì */\n.variable-updates-modal[data-v-52577625] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border);\n  animation: modal-appear-52577625 0.3s ease-out;\n}\n@keyframes modal-appear-52577625 {\nfrom {\n    opacity: 0;\n    transform: scale(0.9) translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n}\n}\n\n/* ÊÇ¨ÊµÆÈù¢ÊùøÂä®Áîª */\n.variable-updates-modal-enter-active[data-v-52577625],\n.variable-updates-modal-leave-active[data-v-52577625] {\n  transition: all 0.3s ease;\n}\n.variable-updates-modal-enter-from[data-v-52577625] {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n.variable-updates-modal-leave-to[data-v-52577625] {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n\n/* ÊÇ¨ÊµÆÈù¢ÊùøÂ§¥ÈÉ® */\n.variable-updates-modal .updates-header[data-v-52577625] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  border-bottom: 1px solid var(--color-border);\n}\n.variable-updates-modal .updates-header h4[data-v-52577625] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-updates-btn[data-v-52577625] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 6px;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-updates-btn[data-v-52577625]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  transform: rotate(90deg);\n}\n\n/* ÊÇ¨ÊµÆÈù¢ÊùøÂÜÖÂÆπ */\n.variable-updates-modal .updates-content[data-v-52577625] {\n  padding: 16px;\n  overflow-y: auto;\n  max-height: 60vh;\n}\n\n/* ÁßªÈô§ÈáçÂ§çÁöÑÊ†∑ÂºèÔºåËÆ©ÂÜÖÈÉ®FormattedTextÁªÑ‰ª∂Â§ÑÁêÜ */\n.empty-narrative[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #9ca3af;\n  font-style: italic;\n  font-size: 0.9rem;\n}\n\n/* Âä®‰ΩúÈòüÂàóÊòæÁ§∫Âå∫Âüü */\n.action-queue-display[data-v-52577625] {\n  margin-bottom: 12px;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  padding: 12px;\n}\n.queue-header[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n}\n.queue-title[data-v-52577625] {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: #6366f1;\n}\n.clear-queue-btn[data-v-52577625] {\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n.clear-queue-btn[data-v-52577625]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  color: #ef4444;\n}\n.queue-actions[data-v-52577625] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  max-height: 150px;\n  overflow-y: auto;\n}\n.queue-action-item[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 12px;\n  background: rgba(99, 102, 241, 0.05);\n  border: 1px solid rgba(99, 102, 241, 0.1);\n  border-radius: 6px;\n  font-size: 0.85rem;\n}\n.action-text[data-v-52577625] {\n  flex: 1;\n  color: #374151;\n  line-height: 1.4;\n  margin-right: 8px;\n}\n.action-controls[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  flex-shrink: 0;\n}\n.undo-indicator[data-v-52577625] {\n  font-size: 12px;\n  opacity: 0.7;\n  animation: rotate-52577625 2s linear infinite;\n}\n@keyframes rotate-52577625 {\nfrom { transform: rotate(0deg);\n}\nto { transform: rotate(360deg);\n}\n}\n.remove-action-btn[data-v-52577625] {\n  background: transparent;\n  border: none;\n  color: #9ca3af;\n  cursor: pointer;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 16px;\n  line-height: 1;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n.remove-action-btn[data-v-52577625]:hover {\n  background: rgba(239, 68, 68, 0.1);\n  color: #ef4444;\n}\n.input-section[data-v-52577625] {\n  padding: 16px 20px 20px 20px; /* Ëøõ‰∏ÄÊ≠•Â¢ûÂä†Â∫ïÈÉ®ÂÜÖËæπË∑ù */\n  border-top: 1px solid #e2e8f0;\n  background: #f8fafc;\n  box-sizing: border-box;\n  flex-shrink: 0;\n}\n.input-wrapper[data-v-52577625] {\n  display: flex;\n  gap: 12px;\n  align-items: stretch; /* Êîπ‰∏∫stretchËÆ©ÊâÄÊúâÂÖÉÁ¥†È´òÂ∫¶‰∏ÄËá¥ */\n  width: 100%;\n  max-width: none;\n}\n.game-input[data-v-52577625] {\n  /* Ëøô‰∫õÊ†∑ÂºèÁé∞Âú®Áî± .input-container Â§ÑÁêÜ */\n  font-size: 0.9rem;\n  line-height: 1.4;\n  color: #374151;\n  resize: none;\n  /* ÁßªÈô§Âõ∫ÂÆöÈ´òÂ∫¶ÔºåÊîπ‰∏∫Ëá™Âä®Ë∞ÉÊï¥ */\n  /* min-height: 44px; */\n  /* max-height: 120px; */\n  font-family: inherit;\n  /* ÁßªÈô§ËøáÊ∏°ÊïàÊûúÔºåÈÅøÂÖçÈ´òÂ∫¶Ë∞ÉÊï¥Êó∂ÁöÑÈó™ÁÉÅ */\n  /* transition: all 0.2s ease; */\n}\n\n/* ÁßªÈô§ÂéüÊù•ÁöÑ focus Ê†∑ÂºèÔºåÁé∞Âú®Áî±ÂÆπÂô®Â§ÑÁêÜ */\n/* .game-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n} */\n.game-input[data-v-52577625]:disabled {\n  /* background: #f9fafb; */\n  color: #9ca3af;\n  cursor: not-allowed;\n}\n.game-input[data-v-52577625]::placeholder {\n  color: #9ca3af;\n}\n.menu-button[data-v-52577625] {\n  min-width: 84px;\n  background: linear-gradient(135deg, rgba(0, 240, 255, 0.25), rgba(138, 43, 255, 0.2));\n  color: #00f0ff;\n  border: 1px solid rgba(0, 240, 255, 0.6);\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  flex-shrink: 0;\n  min-height: 32px;\n  align-self: stretch;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  letter-spacing: 0.12em;\n  margin-right: 8px;\n}\n.menu-button[data-v-52577625]:hover:not(:disabled) {\n  background: linear-gradient(135deg, rgba(0, 240, 255, 0.4), rgba(138, 43, 255, 0.35));\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(0, 240, 255, 0.3);\n}\n.menu-button[data-v-52577625]:disabled {\n  background: rgba(148, 163, 184, 0.25);\n  color: rgba(148, 163, 184, 0.8);\n  border-color: rgba(148, 163, 184, 0.4);\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n.send-button[data-v-52577625] {\n  min-width: 84px;\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: white;\n  border: none;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  flex-shrink: 0;\n  min-height: 32px;\n  align-self: stretch;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 6px rgba(59, 130, 246, 0.25);\n  margin-left: 8px;\n}\n.send-button[data-v-52577625]:hover:not(:disabled) {\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\n}\n.send-button[data-v-52577625]:disabled {\n  background: #d1d5db;\n  color: #9ca3af;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n.animate-spin[data-v-52577625] {\n  animation: spin-52577625 1s linear infinite;\n}\n@keyframes spin-52577625 {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò */\n[data-theme="dark"] .main-game-panel[data-v-52577625] {\n  background: var(--color-background);\n}\n\n/* ÂèôËø∞ÂÜÖÂÆπÊ∑±Ëâ≤‰∏ªÈ¢ò */\n[data-theme="dark"] .narrative-content[data-v-52577625] {\n  background: var(--color-background);\n  color: #e2e8f0;\n}\n[data-theme="dark"] .narrative-meta[data-v-52577625] {\n  border-bottom-color: #374151;\n}\n[data-theme="dark"] .narrative-time[data-v-52577625] {\n  color: #94a3b8;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò - ÂèòÈáèÊõ¥Êñ∞ÊåâÈíÆ */\n[data-theme="dark"] .variable-updates-toggle[data-v-52577625] {\n  background: linear-gradient(135deg, #3b82f6, #1e3a8a);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);\n}\n[data-theme="dark"] .variable-updates-toggle[data-v-52577625]:hover {\n  background: linear-gradient(135deg, #2563eb, #1e40af);\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.5);\n}\n[data-theme="dark"] .variable-updates-toggle.active[data-v-52577625] {\n  background: linear-gradient(135deg, #10b981, #065f46);\n  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);\n}\n[data-theme="dark"] .variable-updates-toggle.active[data-v-52577625]:hover {\n  background: linear-gradient(135deg, #059669, #047857);\n  box-shadow: 0 4px 16px rgba(16, 185, 129, 0.5);\n}\n[data-theme="dark"] .variable-updates-toggle.disabled[data-v-52577625] {\n  background: linear-gradient(135deg, #4b5563, #374151);\n  box-shadow: 0 2px 8px rgba(75, 85, 99, 0.4);\n}\n[data-theme="dark"] .variable-updates-toggle.disabled[data-v-52577625]:hover {\n  background: linear-gradient(135deg, #4b5563, #374151);\n  box-shadow: 0 2px 8px rgba(75, 85, 99, 0.4);\n}\n[data-theme="dark"] .variable-updates-overlay[data-v-52577625] {\n  background: rgba(0, 0, 0, 0.7);\n}\n[data-theme="dark"] .variable-updates-modal[data-v-52577625] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme="dark"] .variable-updates-modal .updates-header[data-v-52577625] {\n  background: linear-gradient(135deg, #334155 0%, #475569 100%);\n  border-color: #475569;\n}\n[data-theme="dark"] .variable-updates-modal .updates-header h4[data-v-52577625] {\n  color: #e2e8f0;\n}\n[data-theme="dark"] .close-updates-btn[data-v-52577625] {\n  color: #94a3b8;\n}\n[data-theme="dark"] .close-updates-btn[data-v-52577625]:hover {\n  background: #475569;\n  color: #e2e8f0;\n}\n[data-theme="dark"] .empty-narrative[data-v-52577625] {\n  color: #6b7280;\n}\n\n/* Á°Æ‰øùÊ∑±Ëâ≤‰∏ªÈ¢ò‰∏ãÂΩìÂâçÂèôËø∞Âå∫ÂüüËÉåÊôØ‰∏ÄËá¥ */\n[data-theme="dark"] .current-narrative[data-v-52577625] {\n  background-color: #1E293B !important;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò - ÊµÅÂºèËæìÂá∫ÂÜÖÂÆπ */\n[data-theme="dark"] .streaming-narrative-content[data-v-52577625] {\n  background: var(--color-surface);\n  border-color: var(--color-border);\n}\n[data-theme="dark"] .streaming-text[data-v-52577625] {\n  color: #e2e8f0;\n}\n[data-theme="dark"] .ai-processing-display[data-v-52577625] {\n  background: var(--color-background) !important;\n}\n[data-theme="dark"] .reset-state-btn[data-v-52577625] {\n  background: rgba(var(--color-error-rgb), 0.2);\n  color: var(--color-danger);\n  border-color: rgba(var(--color-error-rgb), 0.3);\n}\n[data-theme="dark"] .reset-state-btn[data-v-52577625]:hover {\n  background: rgba(var(--color-error-rgb), 0.3);\n  border-color: rgba(var(--color-error-rgb), 0.5);\n}\n[data-theme="dark"] .narrative-content[data-v-52577625] {\n  background: #1E293B !important;\n}\n[data-theme="dark"] .input-section[data-v-52577625] {\n  background: #334155;\n  border-top-color: #475569;\n}\n[data-theme="dark"] .game-input[data-v-52577625] {\n  /* background: #1e293b; - Áé∞Âú®Áî±ÂÆπÂô®Â§ÑÁêÜ */\n  /* border-color: #475569; - Áé∞Âú®Áî±ÂÆπÂô®Â§ÑÁêÜ */\n  color: #e2e8f0;\n}\n\n/* ÁßªÈô§ÈáçÂ§çÁöÑÊ∑±Ëâ≤‰∏ªÈ¢ò focus Ê†∑Âºè */\n/* [data-theme="dark"] .game-input:focus {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);\n} */\n[data-theme="dark"] .game-input[data-v-52577625]:disabled {\n  /* background: #0f172a; - Áé∞Âú®Áî±ÂÆπÂô®Â§ÑÁêÜ */\n  color: #64748b;\n}\n[data-theme="dark"] .game-input[data-v-52577625]::placeholder {\n  color: #64748b;\n}\n[data-theme="dark"] .send-button[data-v-52577625] {\n  background: #3b82f6;\n}\n[data-theme="dark"] .send-button[data-v-52577625]:hover:not(:disabled) {\n  background: #2563eb;\n}\n[data-theme="dark"] .send-button[data-v-52577625]:disabled {\n  background: #374151;\n  color: #64748b;\n}\n[data-theme="dark"] .menu-button[data-v-52577625] {\n  background: linear-gradient(135deg, rgba(0, 240, 255, 0.18), rgba(138, 43, 255, 0.18));\n  border-color: rgba(0, 240, 255, 0.5);\n  color: #00f0ff;\n}\n\n/* Áü≠ÊúüËÆ∞ÂøÜÊ∑±Ëâ≤‰∏ªÈ¢ò */\n[data-theme="dark"] .memory-section[data-v-52577625] {\n  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);\n  border-color: #475569;\n}\n[data-theme="dark"] .memory-header[data-v-52577625]:hover {\n  background: rgba(99, 102, 241, 0.1);\n}\n[data-theme="dark"] .memory-title[data-v-52577625] {\n  color: #818cf8;\n}\n[data-theme="dark"] .memory-icon[data-v-52577625] {\n  color: #64748b;\n}\n[data-theme="dark"] .memory-dropdown[data-v-52577625] {\n  background: #1e293b;\n  border-color: #475569;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n}\n[data-theme="dark"] .memory-item[data-v-52577625] {\n  background: rgba(129, 140, 248, 0.1);\n  border-left-color: #818cf8;\n  color: #e2e8f0;\n}\n\n/* Á≠âÂæÖË¶ÜÁõñÂ±ÇÊ∑±Ëâ≤‰∏ªÈ¢ò - Êõ¥Êñ∞‰∏∫AIÂ§ÑÁêÜÊòæÁ§∫Ê†∑Âºè */\n[data-theme="dark"] .streaming-meta[data-v-52577625] {\n  border-bottom-color: #374151;\n}\n[data-theme="dark"] .streaming-indicator[data-v-52577625] {\n  color: #60a5fa;\n}\n[data-theme="dark"] .streaming-dot[data-v-52577625] {\n  background: #60a5fa;\n}\n[data-theme="dark"] .thinking-dots .dot[data-v-52577625] {\n  background: #60a5fa;\n}\n[data-theme="dark"] .waiting-text[data-v-52577625] {\n  color: #94a3b8;\n}\n\n/* ËæìÂÖ•Ê°ÜÂè≥‰æßÊµÅÂºè‰º†ËæìÈÄâÈ°πÊ∑±Ëâ≤‰∏ªÈ¢ò - Êõ¥Êñ∞‰∏∫ÂÜÖÈÉ®Ê†∑Âºè */\n[data-theme="dark"] .input-container[data-v-52577625] {\n  background: #1e293b;\n  border-color: #475569;\n}\n[data-theme="dark"] .input-container[data-v-52577625]:focus-within {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);\n}\n[data-theme="dark"] .input-container[data-v-52577625]:has(.game-input:disabled) {\n  background: #0f172a;\n}\n[data-theme="dark"] .stream-toggle-inside[data-v-52577625] {\n  color: #94a3b8;\n  border-left-color: #475569;\n}\n[data-theme="dark"] .stream-toggle-inside[data-v-52577625]:hover {\n  color: #e2e8f0;\n}\n\n/* Ë°åÂä®ÈÄâÊã©Âô®ÊåâÈíÆ */\n.action-selector-btn[data-v-52577625] {\n  width: 44px;\n  min-height: 32px; /* ÂáèÂ∞èÊúÄÂ∞èÈ´òÂ∫¶‰ª•ÂåπÈÖçËæìÂÖ•Ê°Ü */\n  background: #f8fafc;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #6366f1;\n  align-self: stretch; /* ÂûÇÁõ¥Êãâ‰º∏‰ª•ÂåπÈÖçÂÆπÂô®È´òÂ∫¶ */\n  flex-shrink: 0;\n}\n.action-selector-btn[data-v-52577625]:hover:not(:disabled) {\n  background: #f1f5f9;\n  border-color: #6366f1;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.15);\n}\n.action-selector-btn[data-v-52577625]:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n/* Ë°åÂä®ÈÄâÊã©ÂºπÁ™ó */\n.action-modal-overlay[data-v-52577625],\n.action-config-overlay[data-v-52577625] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(2px);\n}\n.action-modal[data-v-52577625] {\n  background: var(--color-surface);\n  border-radius: 12px;\n  max-width: 480px;\n  width: 90%;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n}\n.action-config-modal[data-v-52577625] {\n  background: var(--color-surface);\n  border-radius: 12px;\n  max-width: 400px;\n  width: 90%;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n}\n.modal-header[data-v-52577625],\n.config-header[data-v-52577625] {\n  padding: 16px 20px;\n  border-bottom: 1px solid #e5e7eb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: var(--color-primary, #3b82f6);\n}\n.modal-header h3[data-v-52577625],\n.config-header h3[data-v-52577625] {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: white;\n}\n.close-btn[data-v-52577625] {\n  width: 28px;\n  height: 28px;\n  border: none;\n  background: var(--color-surface-light);\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: white;\n  transition: all 0.2s ease;\n}\n.close-btn[data-v-52577625]:hover {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n}\n.action-grid[data-v-52577625] {\n  padding: 16px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n}\n.quick-action-btn[data-v-52577625] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 6px;\n  padding: 12px 8px;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  background: var(--color-surface);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 0.8rem;\n  min-height: 70px;\n}\n.quick-action-btn[data-v-52577625]:hover {\n  border-color: #3b82f6;\n  background: #f8fafc;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);\n}\n.quick-action-btn.cultivation[data-v-52577625] {\n  border-color: rgba(34, 197, 94, 0.2);\n  background: rgba(34, 197, 94, 0.03);\n}\n.quick-action-btn.cultivation[data-v-52577625]:hover {\n  border-color: #22c55e;\n  background: rgba(34, 197, 94, 0.08);\n}\n.quick-action-btn.exploration[data-v-52577625] {\n  border-color: rgba(59, 130, 246, 0.2);\n  background: rgba(59, 130, 246, 0.03);\n}\n.quick-action-btn.exploration[data-v-52577625]:hover {\n  border-color: #3b82f6;\n  background: rgba(59, 130, 246, 0.08);\n}\n.quick-action-btn.social[data-v-52577625] {\n  border-color: rgba(20, 184, 166, 0.2);\n  background: rgba(20, 184, 166, 0.03);\n}\n.quick-action-btn.social[data-v-52577625]:hover {\n  border-color: #14b8a6;\n  background: rgba(20, 184, 166, 0.08);\n}\n.quick-action-btn.other[data-v-52577625] {\n  border-color: rgba(156, 163, 175, 0.2);\n  background: rgba(156, 163, 175, 0.03);\n}\n.quick-action-btn.other[data-v-52577625]:hover {\n  border-color: #9ca3af;\n  background: rgba(156, 163, 175, 0.08);\n}\n.action-icon[data-v-52577625] {\n  font-size: 1.2rem;\n  line-height: 1;\n}\n.action-text[data-v-52577625] {\n  font-weight: 500;\n  color: #374151;\n  text-align: center;\n  line-height: 1.2;\n}\n\n/* ÈÖçÁΩÆÂºπÁ™óÂÜÖÂÆπ */\n.config-content[data-v-52577625] {\n  padding: 20px;\n}\n.action-description[data-v-52577625] {\n  margin: 0 0 20px 0;\n  color: #6b7280;\n  line-height: 1.5;\n}\n.config-section[data-v-52577625] {\n  margin-bottom: 20px;\n}\n.config-section[data-v-52577625]:last-child {\n  margin-bottom: 0;\n}\n.config-label[data-v-52577625] {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: #374151;\n  font-size: 0.875rem;\n}\n.time-selector[data-v-52577625] {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 12px;\n}\n.time-btn[data-v-52577625] {\n  padding: 8px 16px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  background: var(--color-surface);\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n}\n.time-btn[data-v-52577625]:hover {\n  border-color: #3b82f6;\n}\n.time-btn.active[data-v-52577625] {\n  border-color: #3b82f6;\n  background: #3b82f6;\n  color: white;\n}\n.time-custom[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 0.875rem;\n}\n.time-input[data-v-52577625] {\n  width: 80px;\n  padding: 6px 10px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.875rem;\n}\n.action-options[data-v-52577625] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.option-item[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.option-item[data-v-52577625]:hover {\n  border-color: #3b82f6;\n  background: #f8fafc;\n}\n.option-item input[type="radio"][data-v-52577625] {\n  margin: 0;\n}\n.config-actions[data-v-52577625] {\n  padding: 20px;\n  border-top: 1px solid #e5e7eb;\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n}\n.cancel-btn[data-v-52577625],\n.confirm-btn[data-v-52577625] {\n  padding: 8px 20px;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.cancel-btn[data-v-52577625] {\n  border: 1px solid #d1d5db;\n  background: var(--color-surface);\n  color: #6b7280;\n}\n.cancel-btn[data-v-52577625]:hover {\n  background: #f9fafb;\n  border-color: #9ca3af;\n}\n.confirm-btn[data-v-52577625] {\n  border: 1px solid #3b82f6;\n  background: #3b82f6;\n  color: white;\n}\n.confirm-btn[data-v-52577625]:hover {\n  background: #2563eb;\n  border-color: #2563eb;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢òÈÄÇÈÖç */\n[data-theme="dark"] .action-selector-btn[data-v-52577625] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #d1d5db;\n}\n[data-theme="dark"] .action-selector-btn[data-v-52577625]:hover:not(:disabled) {\n  background: #4b5563;\n  border-color: #6b7280;\n}\n[data-theme="dark"] .action-modal[data-v-52577625],\n[data-theme="dark"] .action-config-modal[data-v-52577625] {\n  background: #1f2937;\n}\n[data-theme="dark"] .modal-header[data-v-52577625],\n[data-theme="dark"] .config-header[data-v-52577625],\n[data-theme="dark"] .config-actions[data-v-52577625] {\n  border-color: #374151;\n}\n[data-theme="dark"] .modal-header h3[data-v-52577625],\n[data-theme="dark"] .config-header h3[data-v-52577625],\n[data-theme="dark"] .category-title[data-v-52577625],\n[data-theme="dark"] .config-label[data-v-52577625],\n[data-theme="dark"] .action-name[data-v-52577625] {\n  color: #f9fafb;\n}\n[data-theme="dark"] .close-btn[data-v-52577625] {\n  background: #374151;\n  color: #d1d5db;\n}\n[data-theme="dark"] .close-btn[data-v-52577625]:hover {\n  background: #4b5563;\n  color: #f9fafb;\n}\n[data-theme="dark"] .action-btn[data-v-52577625] {\n  background: #374151;\n  border-color: #4b5563;\n}\n[data-theme="dark"] .action-btn[data-v-52577625]:hover {\n  border-color: #3b82f6;\n  background: #1f2937;\n}\n[data-theme="dark"] .time-btn[data-v-52577625],\n[data-theme="dark"] .option-item[data-v-52577625] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #d1d5db;\n}\n[data-theme="dark"] .time-input[data-v-52577625] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #f9fafb;\n}\n[data-theme="dark"] .cancel-btn[data-v-52577625] {\n  background: #374151;\n  border-color: #4b5563;\n  color: #d1d5db;\n}\n[data-theme="dark"] .cancel-btn[data-v-52577625]:hover {\n  background: #4b5563;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢òÂä®‰ΩúÈòüÂàóÊ†∑Âºè */\n[data-theme="dark"] .action-queue-display[data-v-52577625] {\n  background: linear-gradient(135deg, #374151 0%, #1f2937 100%);\n  border-color: #4b5563;\n}\n[data-theme="dark"] .queue-title[data-v-52577625] {\n  color: #818cf8;\n}\n[data-theme="dark"] .clear-queue-btn[data-v-52577625] {\n  color: #9ca3af;\n}\n[data-theme="dark"] .clear-queue-btn[data-v-52577625]:hover {\n  background: rgba(239, 68, 68, 0.2);\n  color: #f87171;\n}\n[data-theme="dark"] .queue-action-item[data-v-52577625] {\n  background: rgba(129, 140, 248, 0.1);\n  border-color: rgba(129, 140, 248, 0.2);\n}\n[data-theme="dark"] .action-text[data-v-52577625] {\n  color: #e5e7eb;\n}\n[data-theme="dark"] .remove-action-btn[data-v-52577625] {\n  color: #9ca3af;\n}\n[data-theme="dark"] .remove-action-btn[data-v-52577625]:hover {\n  background: rgba(239, 68, 68, 0.2);\n  color: #f87171;\n}\n[data-theme="dark"] .action-controls[data-v-52577625] {\n  color: #d1d5db;\n}\n[data-theme="dark"] .undo-indicator[data-v-52577625] {\n  filter: brightness(1.2);\n}\n\n/* ÂèòÊõ¥ÊèèËø∞Ê†∑Âºè */\n.change-description[data-v-52577625] {\n  color: var(--color-text);\n  font-size: 0.8rem;\n  margin-bottom: 6px;\n  padding: 4px 8px;\n  background: var(--color-surface-light);\n  border-radius: 4px;\n  border-left: 2px solid var(--color-primary);\n  line-height: 1.3;\n  font-style: italic;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢ò‰∏ãÁöÑÂèòÊõ¥ÊèèËø∞ */\n[data-theme="dark"] .change-description[data-v-52577625] {\n  background: #334155;\n  color: #e2e8f0;\n  border-left-color: #60a5fa;\n}\n\n/* Á©∫Áä∂ÊÄÅÊ†∑Âºè */\n.no-changes[data-v-52577625] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n  color: var(--color-text-secondary);\n}\n.no-changes .empty-icon[data-v-52577625] {\n  opacity: 0.5;\n  margin-bottom: 1rem;\n  color: var(--color-text-secondary);\n}\n.no-changes .empty-text[data-v-52577625] {\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: var(--color-text);\n  font-size: 0.9rem;\n}\n.no-changes .empty-hint[data-v-52577625] {\n  font-size: 0.8rem;\n  opacity: 0.8;\n  line-height: 1.4;\n}\n\n/* ÂõæÁâáÈ¢ÑËßàÂÆπÂô®Ê†∑Âºè */\n.image-preview-container[data-v-52577625] {\n  display: flex;\n  gap: 8px;\n  padding: 8px;\n  flex-wrap: wrap;\n  border-bottom: 1px solid #e5e7eb;\n  background: #f9fafb;\n}\n.image-preview-item[data-v-52577625] {\n  position: relative;\n  width: 60px;\n  height: 60px;\n  border-radius: 6px;\n  overflow: hidden;\n  border: 2px solid #e5e7eb;\n  transition: all 0.2s ease;\n}\n.image-preview-item[data-v-52577625]:hover {\n  border-color: #3b82f6;\n  transform: scale(1.05);\n}\n.image-preview-item img[data-v-52577625] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.remove-image-btn[data-v-52577625] {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  background: rgba(239, 68, 68, 0.9);\n  border: none;\n  border-radius: 50%;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: all 0.2s ease;\n}\n.image-preview-item:hover .remove-image-btn[data-v-52577625] {\n  opacity: 1;\n}\n.remove-image-btn[data-v-52577625]:hover {\n  background: rgba(220, 38, 38, 1);\n  transform: scale(1.1);\n}\n\n/* ÂõæÁâá‰∏ä‰º†ÊåâÈíÆÁâπÊÆäÊ†∑Âºè */\n.image-upload-btn svg[data-v-52577625] {\n  color: #10b981;\n}\n.image-upload-btn:hover:not(:disabled) svg[data-v-52577625] {\n  color: #059669;\n}\n\n/* Ê∑±Ëâ≤‰∏ªÈ¢òÂõæÁâáÈ¢ÑËßàÊ†∑Âºè */\n[data-theme="dark"] .image-preview-container[data-v-52577625] {\n  background: #0f172a;\n  border-bottom-color: #475569;\n}\n[data-theme="dark"] .image-preview-item[data-v-52577625] {\n  border-color: #475569;\n}\n[data-theme="dark"] .image-preview-item[data-v-52577625]:hover {\n  border-color: #3b82f6;\n}\n\n/* ÊúÄÊñ∞Ê∂àÊÅØtextÊ†∑Âºè */\n.latest-message-text[data-v-52577625] {\n  margin-top: 20px;\n  padding: 16px;\n  background: #f8fafc;\n  border: 1px solid #e2e8f0;\n  border-left: 4px solid #818cf8;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  color: #475569;\n  line-height: 1.7;\n}\n.latest-text-header[data-v-52577625] {\n  font-weight: 600;\n  color: #6366f1;\n  margin-bottom: 8px;\n  font-size: 0.85rem;\n}\n[data-theme="dark"] .latest-message-text[data-v-52577625] {\n  background: #334155;\n  border-color: #4b5563;\n  border-left-color: #818cf8;\n  color: #cbd5e1;\n}\n[data-theme="dark"] .latest-text-header[data-v-52577625] {\n  color: #a5b4fc;\n}\n\n/* Cultivation Panel */\n.cultivation-panel-overlay[data-v-52577625] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1001; /* Higher than action modal */\n  backdrop-filter: blur(4px);\n}\n.cultivation-panel[data-v-52577625] {\n  background: linear-gradient(145deg, #f9fafb, #f3f4f6);\n  border-radius: 16px;\n  width: 90%;\n  max-width: 800px;\n  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  display: flex;\n  flex-direction: column;\n  animation: modal-appear-52577625 0.4s cubic-bezier(0.25, 1, 0.5, 1);\n}\n.cultivation-panel .panel-header[data-v-52577625] {\n  padding: 16px 24px;\n  border-bottom: 1px solid #e5e7eb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.cultivation-panel .panel-header h3[data-v-52577625] {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: #1f2937;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n.cultivation-panel .panel-content[data-v-52577625] {\n  padding: 24px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 24px;\n}\n.cultivation-card[data-v-52577625] {\n  background: white;\n  border-radius: 12px;\n  padding: 20px;\n  border: 1px solid #e5e7eb;\n  display: flex;\n  flex-direction: column;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.cultivation-card[data-v-52577625]:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);\n  border-color: #a5b4fc;\n}\n.cultivation-card .card-header[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n}\n.cultivation-card .card-icon[data-v-52577625] {\n  color: #6366f1;\n}\n.cultivation-zap .card-icon[data-v-52577625] { color: #f59e0b;\n}\n.cultivation-shield .card-icon[data-v-52577625] { color: #3b82f6;\n}\n.cultivation-braincircuit .card-icon[data-v-52577625] { color: #8b5cf6;\n}\n.cultivation-card .card-title[data-v-52577625] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #111827;\n}\n.cultivation-card .card-description[data-v-52577625] {\n  font-size: 0.85rem;\n  color: #4b5563;\n  line-height: 1.6;\n  flex-grow: 1;\n  margin: 0 0 16px 0;\n}\n.cultivation-card .card-config[data-v-52577625] {\n  margin-bottom: 16px;\n}\n.cultivation-card .config-label[data-v-52577625] {\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: #6b7280;\n  margin-bottom: 8px;\n  display: block;\n}\n.cultivation-card .time-selector[data-v-52577625] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.cultivation-card .time-slider[data-v-52577625] {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 100%;\n  height: 6px;\n  background: #e5e7eb;\n  border-radius: 3px;\n  outline: none;\n  opacity: 0.7;\n  transition: opacity .2s;\n}\n.cultivation-card .time-slider[data-v-52577625]:hover {\n  opacity: 1;\n}\n.cultivation-card .time-slider[data-v-52577625]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  background: #6366f1;\n  cursor: pointer;\n  border-radius: 50%;\n}\n.cultivation-card .time-slider[data-v-52577625]::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  background: #6366f1;\n  cursor: pointer;\n  border-radius: 50%;\n}\n.cultivation-card .time-display[data-v-52577625] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: #1f2937;\n  min-width: 50px;\n  text-align: right;\n}\n.start-cultivation-btn[data-v-52577625] {\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-radius: 8px;\n  background: #4f46e5;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.start-cultivation-btn[data-v-52577625]:hover {\n  background: #4338ca;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);\n}\n.cultivation-zap .start-cultivation-btn[data-v-52577625] { background: #f59e0b;\n}\n.cultivation-zap .start-cultivation-btn[data-v-52577625]:hover { background: #d97706; box-shadow: 0 4px 10px rgba(245, 158, 11, 0.3);\n}\n.cultivation-shield .start-cultivation-btn[data-v-52577625] { background: #3b82f6;\n}\n.cultivation-shield .start-cultivation-btn[data-v-52577625]:hover { background: #2563eb; box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3);\n}\n.cultivation-braincircuit .start-cultivation-btn[data-v-52577625] { background: #8b5cf6;\n}\n.cultivation-braincircuit .start-cultivation-btn[data-v-52577625]:hover { background: #7c3aed; box-shadow: 0 4px 10px rgba(139, 92, 246, 0.3);\n}\n\n/* Dark theme for cultivation panel */\n[data-theme="dark"] .cultivation-panel[data-v-52577625] {\n  background: linear-gradient(145deg, #1f2937, #111827);\n  border-color: #374151;\n}\n[data-theme="dark"] .cultivation-panel .panel-header[data-v-52577625] {\n  border-color: #374151;\n}\n[data-theme="dark"] .cultivation-panel .panel-header h3[data-v-52577625] {\n  color: #f3f4f6;\n}\n[data-theme="dark"] .cultivation-card[data-v-52577625] {\n  background: #1f2937;\n  border-color: #374151;\n}\n[data-theme="dark"] .cultivation-card[data-v-52577625]:hover {\n  border-color: #a5b4fc;\n}\n[data-theme="dark"] .cultivation-card .card-title[data-v-52577625] {\n  color: #f9fafb;\n}\n[data-theme="dark"] .cultivation-card .card-description[data-v-52577625] {\n  color: #9ca3af;\n}\n[data-theme="dark"] .cultivation-card .config-label[data-v-52577625] {\n  color: #9ca3af;\n}\n[data-theme="dark"] .cultivation-card .time-slider[data-v-52577625] {\n  background: #4b5563;\n}\n[data-theme="dark"] .cultivation-card .time-display[data-v-52577625] {\n  color: #f3f4f6;\n}\n\n\n/* ÊâãÊú∫Á´ØÂìçÂ∫îÂºè‰øÆÂ§ç */\n@media (max-width: 768px) {\n.main-game-panel[data-v-52577625] {\n    width: 100%;\n    max-width: 100vw;\n    overflow-x: hidden;\n}\n.content-area[data-v-52577625] {\n    padding: 4px;\n    overflow-x: hidden;\n    width: 100%;\n    box-sizing: border-box;\n}\n.current-narrative[data-v-52577625] {\n    min-width: 0;\n    max-width: 100%;\n    overflow-x: hidden;\n    width: 100%;\n}\n.streaming-narrative-content[data-v-52577625],\n  .narrative-content[data-v-52577625] {\n    overflow-x: hidden;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    max-width: 100%;\n    padding: 8px;\n}\n.streaming-text[data-v-52577625],\n  .narrative-text[data-v-52577625] {\n    max-width: 100%;\n    overflow-x: hidden;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    font-size: 0.85rem;\n}\n.input-wrapper[data-v-52577625] {\n    gap: 4px;\n    padding: 4px;\n    width: 100%;\n    box-sizing: border-box;\n}\n.input-container[data-v-52577625] {\n    min-width: 0;\n    flex: 1;\n}\n.game-input[data-v-52577625] {\n    font-size: 0.85rem;\n    padding: 6px 8px;\n}\n.send-button[data-v-52577625] {\n    padding: 8px 12px;\n    flex-shrink: 0;\n    min-width: 44px;\n}\n.stream-toggle-inside[data-v-52577625] {\n    font-size: 0.75rem;\n    padding: 0 6px;\n}\n}\n',""]);const s=i},8294:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.sect-system-panel[data-v-4df64fc8] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  gap: 8px;\n  background: var(--color-background);\n}\n.sect-tabs[data-v-4df64fc8] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n  padding: 6px 4px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-surface);\n  border-radius: 8px;\n}\n.sect-tab[data-v-4df64fc8] {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 10px;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.sect-tab[data-v-4df64fc8]:hover {\n  color: var(--color-text);\n  border-color: rgba(var(--color-primary-rgb), 0.35);\n  background: var(--color-surface);\n}\n.sect-tab.active[data-v-4df64fc8] {\n  color: var(--color-primary);\n  border-color: rgba(var(--color-primary-rgb), 0.5);\n  background: rgba(var(--color-primary-rgb), 0.08);\n  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.15);\n}\n.sect-system-content[data-v-4df64fc8] {\n  flex: 1;\n  min-height: 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n@media (max-width: 768px) {\n.sect-tabs[data-v-4df64fc8] {\n    padding: 6px;\n}\n.sect-tab[data-v-4df64fc8] {\n    font-size: 0.75rem;\n    padding: 5px 8px;\n}\n}\n",""]);const s=i},8345:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.prompt-panel[data-v-8a368f36] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: var(--color-background);\n}\n\n/* ËÅîÊú∫Ê®°ÂºèË≠¶ÂëäÊ†∑Âºè */\n.online-mode-warning[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  background: rgba(251, 191, 36, 0.15);\n  border-bottom: 1px solid rgba(251, 191, 36, 0.3);\n  color: #fbbf24;\n}\n.online-mode-warning .warning-icon[data-v-8a368f36] {\n  font-size: 1rem;\n}\n.online-mode-warning .warning-text[data-v-8a368f36] {\n  font-size: 0.85rem;\n  font-weight: 500;\n}\n\n/* Âè™ËØªÊ®°ÂºèÊ†∑Âºè */\n.prompt-textarea.readonly-mode[data-v-8a368f36] {\n  opacity: 0.7;\n  cursor: not-allowed;\n  background: var(--color-surface-disabled, rgba(100, 100, 100, 0.1));\n}\n.btn-small[data-v-8a368f36]:disabled,\n.action-btn-compact[data-v-8a368f36]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.panel-header.compact[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem 1rem;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-surface);\n}\n.panel-title-compact[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex: 1;\n}\n.title-text[data-v-8a368f36] {\n  font-size: 0.92rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.panel-actions[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.action-btn-compact[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.action-btn-compact[data-v-8a368f36]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.action-btn-compact.primary[data-v-8a368f36] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.action-btn-compact.primary[data-v-8a368f36]:hover {\n  background: var(--color-primary-hover);\n}\n.prompt-list[data-v-8a368f36] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 1rem;\n}\n\n/* ÂàÜÁ±ªÊ†∑Âºè */\n.category-section[data-v-8a368f36] {\n  margin-bottom: 1.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  overflow: hidden;\n  background: var(--color-surface);\n}\n.category-header[data-v-8a368f36] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.25rem;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-surface-hover) 100%);\n  cursor: pointer;\n  user-select: none;\n  transition: all 0.2s;\n}\n.category-header[data-v-8a368f36]:hover {\n  background: var(--color-surface-hover);\n}\n.category-title[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.category-icon[data-v-8a368f36] {\n  font-size: 1.25rem;\n}\n.category-name[data-v-8a368f36] {\n  font-weight: 600;\n  font-size: 1rem;\n  color: var(--color-text);\n}\n.category-count[data-v-8a368f36] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  background: var(--color-background);\n  padding: 0.2rem 0.5rem;\n  border-radius: 10px;\n}\n.category-actions[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.category-desc[data-v-8a368f36] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.expand-icon[data-v-8a368f36] {\n  transition: transform 0.3s ease;\n  color: var(--color-text-secondary);\n}\n.expand-icon.expanded[data-v-8a368f36] {\n  transform: rotate(180deg);\n}\n.category-content[data-v-8a368f36] {\n  border-top: 1px solid var(--color-border);\n  background: var(--color-background);\n}\n\n/* ÊèêÁ§∫ËØçÈ°πÁõÆÊ†∑Âºè */\n.prompt-item[data-v-8a368f36] {\n  border-bottom: 1px solid var(--color-border);\n}\n.prompt-item[data-v-8a368f36]:last-child {\n  border-bottom: none;\n}\n.prompt-header[data-v-8a368f36] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.875rem 1.25rem;\n  cursor: pointer;\n  user-select: none;\n  transition: background 0.2s;\n}\n.prompt-header[data-v-8a368f36]:hover {\n  background: var(--color-surface-hover);\n}\n.prompt-title-area[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n/* ÂºÄÂÖ≥Ê†∑Âºè */\n.toggle-switch[data-v-8a368f36] {\n  position: relative;\n  display: inline-block;\n  width: 36px;\n  height: 20px;\n  flex-shrink: 0;\n}\n.toggle-switch input[data-v-8a368f36] {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n.toggle-slider[data-v-8a368f36] {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-border);\n  transition: 0.3s;\n  border-radius: 20px;\n}\n.toggle-slider[data-v-8a368f36]:before {\n  position: absolute;\n  content: \"\";\n  height: 14px;\n  width: 14px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  transition: 0.3s;\n  border-radius: 50%;\n}\n.toggle-switch input:checked + .toggle-slider[data-v-8a368f36] {\n  background-color: var(--color-primary);\n}\n.toggle-switch input:checked + .toggle-slider[data-v-8a368f36]:before {\n  transform: translateX(16px);\n}\n.toggle-switch:hover .toggle-slider[data-v-8a368f36] {\n  box-shadow: 0 0 4px rgba(var(--color-primary-rgb), 0.4);\n}\n.prompt-order[data-v-8a368f36] {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 24px;\n  height: 24px;\n  padding: 0 6px;\n  background: var(--color-primary);\n  color: white;\n  font-size: 0.75rem;\n  font-weight: 600;\n  border-radius: 6px;\n}\n.prompt-title[data-v-8a368f36] {\n  font-weight: 500;\n  color: var(--color-text);\n  transition: opacity 0.2s;\n}\n.prompt-title.disabled[data-v-8a368f36] {\n  opacity: 0.5;\n  text-decoration: line-through;\n}\n.prompt-meta[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.prompt-desc[data-v-8a368f36] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  max-width: 200px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.prompt-status[data-v-8a368f36] {\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n}\n.prompt-status.modified[data-v-8a368f36] {\n  background: rgba(var(--color-warning-rgb), 0.2);\n  color: var(--color-warning);\n}\n\n/* ÊùÉÈáçÁºñËæëÂô® */\n.weight-editor[data-v-8a368f36] {\n  display: flex;\n  align-items: center;\n  gap: 2px;\n}\n.weight-label[data-v-8a368f36] {\n  font-size: 0.7rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n}\n.weight-input[data-v-8a368f36] {\n  width: 36px;\n  height: 22px;\n  padding: 0 4px;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: 600;\n  text-align: center;\n  background: transparent;\n  transition: all 0.2s;\n  -moz-appearance: textfield;\n}\n.weight-input[data-v-8a368f36]::-webkit-outer-spin-button,\n.weight-input[data-v-8a368f36]::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.weight-input[data-v-8a368f36]:hover {\n  border-color: var(--color-border);\n  background: var(--color-surface);\n}\n.weight-input[data-v-8a368f36]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  background: var(--color-surface);\n}\n.weight-input[data-v-8a368f36]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.weight-input.weight-high[data-v-8a368f36] {\n  background: rgba(239, 68, 68, 0.2);\n  color: #ef4444;\n}\n.weight-input.weight-medium[data-v-8a368f36] {\n  background: rgba(234, 179, 8, 0.2);\n  color: #eab308;\n}\n.weight-input.weight-low[data-v-8a368f36] {\n  background: rgba(34, 197, 94, 0.2);\n  color: #22c55e;\n}\n.prompt-content[data-v-8a368f36] {\n  padding: 1rem 1.25rem;\n  background: var(--color-background);\n  border-top: 1px solid var(--color-border);\n}\n.prompt-description-full[data-v-8a368f36] {\n  margin-bottom: 0.75rem;\n  padding: 0.75rem;\n  background: var(--color-surface);\n  border-radius: 6px;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n.prompt-textarea[data-v-8a368f36] {\n  width: 100%;\n  min-height: 400px;\n  padding: 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.85rem;\n  line-height: 1.6;\n  resize: vertical;\n}\n.prompt-textarea[data-v-8a368f36]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);\n}\n.prompt-actions[data-v-8a368f36] {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n  justify-content: flex-end;\n}\n.btn-small[data-v-8a368f36] {\n  padding: 0.5rem 1rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-surface);\n  color: var(--color-text);\n  cursor: pointer;\n  font-size: 0.85rem;\n  transition: all 0.2s;\n}\n.btn-small[data-v-8a368f36]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n}\n.btn-small.btn-primary[data-v-8a368f36] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.btn-small.btn-primary[data-v-8a368f36]:hover {\n  background: var(--color-primary-hover);\n}\n\n/* ÂìçÂ∫îÂºèÈÄÇÈÖç */\n@media (max-width: 768px) {\n.category-header[data-v-8a368f36] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.5rem;\n}\n.category-actions[data-v-8a368f36] {\n    width: 100%;\n    justify-content: space-between;\n}\n.prompt-header[data-v-8a368f36] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.5rem;\n}\n.prompt-meta[data-v-8a368f36] {\n    width: 100%;\n    justify-content: space-between;\n}\n.prompt-desc[data-v-8a368f36] {\n    max-width: 150px;\n}\n.prompt-textarea[data-v-8a368f36] {\n    min-height: 300px;\n}\n}\n",""]);const s=i},8351:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.game-map-panel[data-v-bcca12f0] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: var(--color-background);\n}\n\n/* ‰∏ñÁïå‰ø°ÊÅØÂ§¥ÈÉ® */\n.world-info-header[data-v-bcca12f0] {\n  padding: 12px 16px;\n  background: rgba(255, 255, 255, 0.9);\n  border-bottom: 1px solid #e2e8f0;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  flex-wrap: wrap;\n  backdrop-filter: blur(8px);\n}\n.world-name[data-v-bcca12f0] {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: #1e40af;\n  text-shadow: 0 1px 2px rgba(30, 64, 175, 0.1);\n  white-space: nowrap;\n}\n.world-background[data-v-bcca12f0] {\n  font-size: 0.85rem;\n  color: #64748b;\n  max-width: 400px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/* Âú∞ÂõæÂÆπÂô® */\n.map-container[data-v-bcca12f0] {\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n  border-radius: 12px;\n  border: 3px solid #cbd5e1;\n  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #dbeafe 100%);\n  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.05);\n}\ncanvas[data-v-bcca12f0] {\n  display: block;\n  width: 100%;\n  height: 100%;\n  cursor: grab;\n}\ncanvas[data-v-bcca12f0]:active {\n  cursor: grabbing;\n}\n\n/* Âú∞ÁÇπ‰ø°ÊÅØÂºπÁ™ó */\n.location-popup[data-v-bcca12f0] {\n  position: absolute;\n  background: rgba(255, 255, 255, 0.98);\n  backdrop-filter: blur(12px);\n  border: 2px solid rgba(59, 130, 246, 0.3);\n  border-radius: 16px;\n  padding: 20px;\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);\n  min-width: 320px;\n  max-width: 450px;\n  pointer-events: auto;\n  z-index: 2000;\n}\n.popup-header[data-v-bcca12f0] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n.popup-header h4[data-v-bcca12f0] {\n  margin: 0;\n  color: #1e40af;\n  font-size: 1.25rem;\n  font-weight: 700;\n}\n.close-btn[data-v-bcca12f0] {\n  width: 28px;\n  height: 28px;\n  border: none;\n  background: rgba(239, 68, 68, 0.1);\n  cursor: pointer;\n  color: #ef4444;\n  font-size: 1.4rem;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n}\n.close-btn[data-v-bcca12f0]:hover {\n  background: rgba(220, 38, 38, 0.2);\n  color: #dc2626;\n  transform: scale(1.1);\n}\n.popup-content[data-v-bcca12f0] {\n  font-size: 0.95rem;\n  line-height: 1.6;\n}\n.location-type[data-v-bcca12f0] {\n  color: #6366f1;\n  font-weight: 700;\n  margin: 0 0 10px 0;\n  font-size: 1rem;\n}\n.location-desc[data-v-bcca12f0] {\n  color: #374151;\n  margin: 0 0 14px 0;\n  font-weight: 500;\n}\n.location-detail[data-v-bcca12f0] {\n  color: #6b7280;\n  margin: 8px 0;\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n.relation-friendly[data-v-bcca12f0] {\n  color: #10b981;\n  font-weight: 700;\n}\n.relation-hostile[data-v-bcca12f0] {\n  color: #ef4444;\n  font-weight: 700;\n}\n.relation-neutral[data-v-bcca12f0] {\n  color: #6b7280;\n  font-weight: 600;\n}\n\n/* ÂàùÂßãÂåñÂú∞ÂõæË¶ÜÁõñÂ±Ç */\n.initialize-map-overlay[data-v-bcca12f0] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(8px);\n  z-index: 2000;\n}\n.initialize-prompt[data-v-bcca12f0] {\n  text-align: center;\n  padding: 3rem 2rem;\n  max-width: 500px;\n  animation: fadeIn-bcca12f0 0.3s ease-in-out;\n}\n@keyframes fadeIn-bcca12f0 {\nfrom {\n    opacity: 0;\n    transform: translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.prompt-icon[data-v-bcca12f0] {\n  margin: 0 auto 1.5rem;\n  width: 80px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #3b82f6, #60a5fa);\n  border-radius: 50%;\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);\n}\n.map-icon[data-v-bcca12f0] {\n  width: 48px;\n  height: 48px;\n  color: white;\n}\n.initialize-prompt h3[data-v-bcca12f0] {\n  margin: 0 0 1rem 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: #1e40af;\n}\n.initialize-prompt p[data-v-bcca12f0] {\n  margin: 0 0 2rem 0;\n  font-size: 1rem;\n  color: #64748b;\n  line-height: 1.6;\n}\n.initialize-btn[data-v-bcca12f0] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 1rem 2rem;\n  background: linear-gradient(135deg, #3b82f6, #60a5fa);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);\n}\n.initialize-btn[data-v-bcca12f0]:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);\n  background: linear-gradient(135deg, #2563eb, #3b82f6);\n}\n.initialize-btn[data-v-bcca12f0]:active {\n  transform: translateY(0);\n}\n.btn-icon[data-v-bcca12f0] {\n  width: 24px;\n  height: 24px;\n}\n.loading-spinner[data-v-bcca12f0] {\n  width: 60px;\n  height: 60px;\n  margin: 0 auto 1.5rem;\n  border: 4px solid rgba(59, 130, 246, 0.2);\n  border-top-color: #3b82f6;\n  border-radius: 50%;\n  animation: spin-bcca12f0 1s linear infinite;\n}\n@keyframes spin-bcca12f0 {\nto { transform: rotate(360deg);\n}\n}\n.status-text[data-v-bcca12f0] {\n  font-size: 0.9rem;\n  color: #3b82f6;\n  margin-top: 1rem;\n  min-height: 1.5rem;\n}\n\n/* Âú∞ÂõæÂõæ‰æã */\n.map-legend[data-v-bcca12f0] {\n  position: absolute;\n  bottom: 24px;\n  right: 24px;\n  background: rgba(255, 255, 255, 0.98);\n  backdrop-filter: blur(12px);\n  border-radius: 16px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  min-width: 200px;\n  max-width: 280px;\n  border: 2px solid rgba(59, 130, 246, 0.3);\n  pointer-events: auto;\n  transition: all 0.3s ease;\n}\n.map-legend.collapsed[data-v-bcca12f0] {\n  min-width: auto;\n}\n.legend-header[data-v-bcca12f0] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  cursor: pointer;\n  user-select: none;\n  border-radius: 14px 14px 0 0;\n  transition: background 0.2s ease;\n}\n.legend-header[data-v-bcca12f0]:hover {\n  background: rgba(59, 130, 246, 0.05);\n}\n.legend-title[data-v-bcca12f0] {\n  font-weight: 700;\n  color: #1e40af;\n  font-size: 1.05rem;\n  flex: 1;\n}\n.legend-toggle[data-v-bcca12f0] {\n  background: none;\n  border: none;\n  color: #3b82f6;\n  cursor: pointer;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n.legend-toggle[data-v-bcca12f0]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  transform: scale(1.1);\n}\n.legend-items[data-v-bcca12f0] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  max-height: 400px;\n  overflow-y: auto;\n  padding: 0 20px 20px;\n}\n.legend-items[data-v-bcca12f0]::-webkit-scrollbar {\n  width: 6px;\n}\n.legend-items[data-v-bcca12f0]::-webkit-scrollbar-track {\n  background: transparent;\n  border-radius: 3px;\n}\n.legend-items[data-v-bcca12f0]::-webkit-scrollbar-thumb {\n  background: transparent;\n  border-radius: 3px;\n}\n.legend-items[data-v-bcca12f0]::-webkit-scrollbar-thumb:hover {\n  background: transparent;\n}\n.legend-item[data-v-bcca12f0] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 0.9rem;\n  color: #374151;\n  padding: 8px 10px;\n  font-weight: 600;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n}\n.legend-item[data-v-bcca12f0]:hover {\n  background: rgba(59, 130, 246, 0.08);\n  transform: translateX(2px);\n}\n.legend-icon[data-v-bcca12f0] {\n  flex-shrink: 0;\n}\n\n/* ÂõæÊ†áÈ¢úËâ≤ */\n.legend-icon.mountain[data-v-bcca12f0] {\n  color: #2D7D32;\n}\n.legend-icon.faction[data-v-bcca12f0] {\n  color: #1565C0;\n}\n.legend-icon.town[data-v-bcca12f0] {\n  color: #F57C00;\n}\n.legend-icon.blessed[data-v-bcca12f0] {\n  color: #7B1FA2;\n}\n.legend-icon.treasure[data-v-bcca12f0] {\n  color: #388E3C;\n}\n.legend-icon.danger[data-v-bcca12f0] {\n  color: #D32F2F;\n}\n.legend-icon.special[data-v-bcca12f0] {\n  color: #6B7280;\n}\n.legend-icon.player[data-v-bcca12f0] {\n  color: #3b82f6;\n  animation: pulse-player-bcca12f0 2s ease-in-out infinite;\n}\n.legend-icon.npc[data-v-bcca12f0] {\n  color: #8b5cf6;\n}\n@keyframes pulse-player-bcca12f0 {\n0%, 100% {\n    opacity: 1;\n}\n50% {\n    opacity: 0.6;\n}\n}\n\n/* ÂÖ®Â±èÊ®°Âºè‰ºòÂåñ */\n.game-map-panel[data-v-bcca12f0]:fullscreen {\n  background: #1a1a2e;\n}\n.game-map-panel:fullscreen .map-container[data-v-bcca12f0] {\n  border: none;\n  border-radius: 0;\n}\n.game-map-panel:fullscreen .map-legend[data-v-bcca12f0] {\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n}\n.game-map-panel:fullscreen .location-popup[data-v-bcca12f0] {\n  background: rgba(0, 0, 0, 0.9);\n  color: white;\n}\n\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\n@media (max-width: 640px) {\n.world-info-header[data-v-bcca12f0] {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n}\n.world-background[data-v-bcca12f0] {\n    max-width: 100%;\n    white-space: normal;\n    line-height: 1.5;\n}\n.map-legend[data-v-bcca12f0] {\n    position: static;\n    margin: 10px 0 0;\n    width: 100%;\n    max-width: none;\n    padding: 12px;\n}\n.location-popup[data-v-bcca12f0] {\n    min-width: auto;\n    max-width: calc(100vw - 40px);\n}\n}\n",""]);const s=i},8381:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]])},8396:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o),s=n(4417),l=n.n(s),c=new URL(n(7044),n.b),d=i()(r()),u=l()(c);d.push([e.id,`/*\n * Ë∂ÖÂá°Êñ∞Áîü - Áé∞‰ª£ÂåñËÆæËÆ°Á≥ªÁªü\n * Modern Design System for TranscendentRebirth\n */\n\n/* ========== Âü∫Á°ÄÊåâÈíÆ ========== */\n.btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  font-size: 0.875rem;\n  font-weight: 500;\n  line-height: 1.5;\n  border-radius: 6px;\n  border: 1px solid rgba(0, 240, 255, 0.6);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n  user-select: none;\n  background: linear-gradient(135deg, rgba(0, 240, 255, 0.12), rgba(138, 43, 255, 0.12));\n  color: #00f0ff;\n  text-shadow: 0 0 8px rgba(0, 240, 255, 0.4);\n  box-shadow: 0 0 16px rgba(0, 240, 255, 0.2);\n}\n\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n.btn:focus-visible {\n  outline: 2px solid var(--color-primary);\n  outline-offset: 2px;\n}\n\n/* ÊåâÈíÆÂèò‰Ωì */\n.btn-primary {\n  background: linear-gradient(135deg, rgba(0, 240, 255, 0.3), rgba(0, 240, 255, 0.15));\n  color: #e6faff;\n  border-color: rgba(0, 240, 255, 0.8);\n}\n.btn-primary:hover:not(:disabled) {\n  filter: brightness(1.05);\n  transform: translateY(-1px);\n  box-shadow: 0 0 24px rgba(0, 240, 255, 0.45);\n}\n\n.btn-secondary {\n  background: linear-gradient(135deg, rgba(138, 43, 255, 0.18), rgba(138, 43, 255, 0.08));\n  color: #d9c7ff;\n  border-color: rgba(138, 43, 255, 0.6);\n}\n.btn-secondary:hover:not(:disabled) {\n  border-color: rgba(138, 43, 255, 0.9);\n  background: linear-gradient(135deg, rgba(138, 43, 255, 0.25), rgba(138, 43, 255, 0.12));\n}\n\n.btn-ghost {\n  background: transparent;\n  color: rgba(226, 232, 240, 0.75);\n  border-color: rgba(0, 240, 255, 0.25);\n}\n.btn-ghost:hover:not(:disabled) {\n  background: rgba(0, 240, 255, 0.08);\n  color: #00f0ff;\n}\n\n.btn-danger {\n  background: linear-gradient(135deg, rgba(255, 45, 111, 0.25), rgba(255, 45, 111, 0.12));\n  color: #ffe5f0;\n  border-color: rgba(255, 45, 111, 0.8);\n}\n.btn-danger:hover:not(:disabled) {\n  background: linear-gradient(135deg, rgba(255, 45, 111, 0.35), rgba(255, 45, 111, 0.2));\n}\n\n.btn-success {\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.25), rgba(0, 255, 136, 0.12));\n  color: #e6fff4;\n  border-color: rgba(0, 255, 136, 0.8);\n}\n.btn-success:hover:not(:disabled) {\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.35), rgba(0, 255, 136, 0.2));\n}\n\n/* ÊåâÈíÆÂ∞∫ÂØ∏ */\n.btn-xs { padding: 0.25rem 0.5rem; font-size: 0.75rem; }\n.btn-sm { padding: 0.375rem 0.75rem; font-size: 0.8125rem; }\n.btn-lg { padding: 0.75rem 1.5rem; font-size: 1rem; }\n\n/* ÂõæÊ†áÊåâÈíÆ */\n.btn-icon {\n  padding: 0.5rem;\n  border-radius: 8px;\n}\n.btn-icon.btn-sm { padding: 0.375rem; }\n.btn-icon.btn-xs { padding: 0.25rem; }\n\n/* ========== Ë°®ÂçïÊéß‰ª∂ ========== */\n.input {\n  width: 100%;\n  padding: 0.625rem 0.875rem;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: #00f0ff;\n  background: linear-gradient(135deg, rgba(6, 9, 18, 0.85), rgba(12, 16, 32, 0.85));\n  border: 1px solid rgba(0, 240, 255, 0.35);\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n\n.input:focus {\n  outline: none;\n  border-color: rgba(0, 240, 255, 0.8);\n  box-shadow: 0 0 0 3px rgba(0, 240, 255, 0.2);\n}\n\n.input::placeholder {\n  color: rgba(0, 240, 255, 0.4);\n  opacity: 0.7;\n}\n\n.input:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  background: rgba(6, 9, 18, 0.6);\n}\n\n/* ËæìÂÖ•Ê°ÜÂ∞∫ÂØ∏ */\n.input-sm { padding: 0.375rem 0.625rem; font-size: 0.8125rem; }\n.input-lg { padding: 0.75rem 1rem; font-size: 1rem; }\n\n/* ÈÄâÊã©Ê°Ü */\n.select {\n  appearance: none;\n  background-image: url(${u});\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  background-size: 16px;\n  padding-right: 2.5rem;\n}\n\n/* Ë°®ÂçïÁªÑ */\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.form-label {\n  display: block;\n  margin-bottom: 0.375rem;\n  font-size: 0.8125rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n\n.form-hint {\n  margin-top: 0.25rem;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n\n/* ========== Âç°Áâá ========== */\n.card {\n  background: rgba(8, 12, 22, 0.88);\n  border: 1px solid rgba(0, 240, 255, 0.2);\n  border-radius: 10px;\n  overflow: hidden;\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-bottom: 1px solid rgba(0, 240, 255, 0.15);\n}\n\n.card-title {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n\n.card-body {\n  padding: 1.25rem;\n}\n\n.card-footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  padding: 1rem 1.25rem;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-background);\n}\n\n/* Âç°ÁâáÂèò‰Ωì */\n.card-flat {\n  border: none;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.card-interactive {\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.card-interactive:hover {\n  border-color: var(--color-primary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n/* ========== Ê†áÁ≠æÈ°µ ========== */\n.tabs {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.tabs-list {\n  display: flex;\n  gap: 0.25rem;\n  padding: 0.5rem;\n  background: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n}\n\n.tab-trigger {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n  background: transparent;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.15s ease;\n}\n\n.tab-trigger:hover {\n  background: var(--color-background);\n  color: var(--color-text);\n}\n\n.tab-trigger[data-state="active"],\n.tab-trigger.active {\n  background: var(--color-primary);\n  color: #fff;\n}\n\n.tabs-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 1rem;\n}\n\n/* ========== ÂæΩÁ´† ========== */\n.badge {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.125rem 0.5rem;\n  font-size: 0.75rem;\n  font-weight: 500;\n  line-height: 1.5;\n  border-radius: 9999px;\n  white-space: nowrap;\n}\n\n.badge-default {\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n  border: 1px solid var(--color-border);\n}\n\n.badge-primary {\n  background: rgba(var(--color-primary-rgb), 0.15);\n  color: var(--color-primary);\n}\n\n.badge-success {\n  background: rgba(34, 197, 94, 0.15);\n  color: #22c55e;\n}\n\n.badge-warning {\n  background: rgba(245, 158, 11, 0.15);\n  color: #f59e0b;\n}\n\n.badge-danger {\n  background: rgba(239, 68, 68, 0.15);\n  color: #ef4444;\n}\n\n.badge-info {\n  background: rgba(59, 130, 246, 0.15);\n  color: #3b82f6;\n}\n\n/* ========== ÁªüËÆ°Âç°Áâá ========== */\n.stat-card {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem 1.25rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n}\n\n.stat-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 48px;\n  height: 48px;\n  border-radius: 12px;\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-primary);\n}\n\n.stat-content {\n  flex: 1;\n}\n\n.stat-value {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n  line-height: 1.2;\n}\n\n.stat-label {\n  font-size: 0.8125rem;\n  color: var(--color-text-secondary);\n  margin-top: 0.125rem;\n}\n\n/* ========== ÂàóË°®È°π ========== */\n.list-item {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem 1rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.15s ease;\n}\n\n.list-item:hover {\n  border-color: var(--color-primary);\n  background: var(--color-surface);\n}\n\n.list-item.active {\n  border-color: var(--color-primary);\n  background: rgba(var(--color-primary-rgb), 0.05);\n}\n\n.list-item-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  background: var(--color-surface);\n  color: var(--color-text-secondary);\n}\n\n.list-item-content {\n  flex: 1;\n  min-width: 0;\n}\n\n.list-item-title {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--color-text);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.list-item-subtitle {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n  margin-top: 0.125rem;\n}\n\n.list-item-action {\n  color: var(--color-text-secondary);\n}\n\n/* ========== Á©∫Áä∂ÊÄÅ ========== */\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 1.5rem;\n  text-align: center;\n}\n\n.empty-icon {\n  color: var(--color-text-secondary);\n  opacity: 0.4;\n  margin-bottom: 1rem;\n}\n\n.empty-title {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin-bottom: 0.5rem;\n}\n\n.empty-description {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n  max-width: 300px;\n}\n\n.empty-actions {\n  display: flex;\n  gap: 0.75rem;\n  margin-top: 1.5rem;\n}\n\n/* ========== ÂàÜÂâ≤Á∫ø ========== */\n.divider {\n  height: 1px;\n  background: var(--color-border);\n  margin: 1rem 0;\n}\n\n.divider-vertical {\n  width: 1px;\n  height: auto;\n  align-self: stretch;\n  margin: 0 0.75rem;\n}\n\n/* ========== Â∑•ÂÖ∑Á±ª ========== */\n.text-muted { color: var(--color-text-secondary); }\n.text-primary { color: var(--color-primary); }\n.text-success { color: #22c55e; }\n.text-warning { color: #f59e0b; }\n.text-danger { color: #ef4444; }\n\n.font-medium { font-weight: 500; }\n.font-semibold { font-weight: 600; }\n.font-bold { font-weight: 700; }\n\n.text-xs { font-size: 0.75rem; }\n.text-sm { font-size: 0.875rem; }\n.text-base { font-size: 1rem; }\n.text-lg { font-size: 1.125rem; }\n\n.flex { display: flex; }\n.flex-col { flex-direction: column; }\n.items-center { align-items: center; }\n.justify-between { justify-content: space-between; }\n.gap-1 { gap: 0.25rem; }\n.gap-2 { gap: 0.5rem; }\n.gap-3 { gap: 0.75rem; }\n.gap-4 { gap: 1rem; }\n\n/* ========== Âä®Áîª ========== */\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideUp {\n  from { opacity: 0; transform: translateY(10px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n}\n\n.animate-fadeIn { animation: fadeIn 0.2s ease; }\n.animate-slideUp { animation: slideUp 0.3s ease; }\n.animate-pulse { animation: pulse 2s infinite; }\n\n/* ========== ÊªöÂä®Êù° ========== */\n.scrollbar-thin {\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-border) transparent;\n}\n\n.scrollbar-thin::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n\n.scrollbar-thin::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.scrollbar-thin::-webkit-scrollbar-thumb {\n  background: var(--color-border);\n  border-radius: 3px;\n}\n\n.scrollbar-thin::-webkit-scrollbar-thumb:hover {\n  background: var(--color-text-secondary);\n}\n\n`,""]);const m=d},8470:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.modal-overlay[data-v-01a0fb92] {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n.modal-content[data-v-01a0fb92] {\n  background: var(--color-background);\n  border-radius: 12px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.modal-header[data-v-01a0fb92] {\n  padding: 1.5rem 1.5rem 1rem 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.modal-header h3[data-v-01a0fb92] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-btn[data-v-01a0fb92] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 6px;\n  transition: all 0.2s;\n}\n.close-btn[data-v-01a0fb92]:hover {\n  background: var(--color-hover);\n  color: var(--color-text);\n}\n.modal-body[data-v-01a0fb92] {\n  padding: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n}\n.form-group[data-v-01a0fb92] {\n  margin-bottom: 1rem;\n}\n.form-group label[data-v-01a0fb92] {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: var(--color-text);\n}\n.form-input[data-v-01a0fb92] {\n  width: 100%;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.875rem;\n  outline: none;\n  transition: border-color 0.2s;\n}\n.form-input[data-v-01a0fb92]:focus {\n  border-color: var(--color-primary);\n}\n.form-textarea[data-v-01a0fb92] {\n  width: 100%;\n  min-height: 150px;\n  padding: 0.75rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.875rem;\n  font-family: 'Consolas', 'Monaco', monospace;\n  outline: none;\n  transition: border-color 0.2s;\n  resize: vertical;\n}\n.form-textarea[data-v-01a0fb92]:focus {\n  border-color: var(--color-primary);\n}\n.form-hint-text[data-v-01a0fb92] {\n  margin: 0.25rem 0 0 0;\n  font-size: 0.75rem;\n  color: var(--color-info);\n}\n.value-type-selector[data-v-01a0fb92] {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n  flex-wrap: wrap;\n}\n.type-btn[data-v-01a0fb92] {\n  padding: 0.375rem 0.75rem;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-size: 0.75rem;\n  transition: all 0.2s;\n}\n.type-btn[data-v-01a0fb92]:hover {\n  background: var(--color-hover);\n  border-color: var(--color-primary);\n  color: var(--color-text);\n}\n.type-btn.active[data-v-01a0fb92] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n  font-weight: 500;\n}\n.form-textarea.has-error[data-v-01a0fb92] {\n  border-color: var(--color-danger);\n}\n.error-message[data-v-01a0fb92] {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid var(--color-danger);\n  border-radius: 4px;\n  color: var(--color-danger);\n  font-size: 0.75rem;\n}\n.form-hint[data-v-01a0fb92] {\n  margin-top: 0.5rem;\n}\n.form-hint p[data-v-01a0fb92] {\n  margin: 0;\n  font-size: 0.75rem;\n  color: var(--color-success);\n}\n.preview-section[data-v-01a0fb92] {\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--color-border);\n}\n.preview-section label[data-v-01a0fb92] {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: var(--color-text);\n  font-size: 0.875rem;\n}\n.preview-content[data-v-01a0fb92] {\n  margin: 0;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  color: var(--color-text);\n  font-size: 0.75rem;\n  font-family: 'Consolas', 'Monaco', monospace;\n  max-height: 150px;\n  overflow: auto;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.modal-footer[data-v-01a0fb92] {\n  padding: 1rem 1.5rem;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n}\n.cancel-btn[data-v-01a0fb92] {\n  padding: 0.75rem 1.5rem;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: transparent;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n.cancel-btn[data-v-01a0fb92]:hover {\n  background: var(--color-hover);\n  border-color: var(--color-text-secondary);\n  color: var(--color-text);\n}\n.save-btn[data-v-01a0fb92] {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background: var(--color-primary);\n  border: none;\n  border-radius: 6px;\n  color: white;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 500;\n  transition: all 0.2s;\n}\n.save-btn[data-v-01a0fb92]:hover:not(:disabled) {\n  background: var(--color-primary-hover);\n  transform: translateY(-1px);\n}\n.save-btn[data-v-01a0fb92]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n",""]);const s=i},8507:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'/*\n * Ë∂ÖÂá°Êñ∞Áîü - ‰ª™Ë°®ÊùøÈù¢ÊùøÁßëÊäÄÈ£éÊ†º\n * Dashboard Panels Tech Style\n * ÈíàÂØπ SettingsPanel, APIManagementPanel Á≠âÈù¢ÊùøÁöÑÁßëÊäÄÈ£éÊ†ºË¶ÜÁõñ\n */\n\n/* ========== SettingsPanel ÁßëÊäÄÈ£éÊ†º ========== */\n\n.settings-panel {\n  background: var(--tech-background) !important;\n  color: var(--tech-primary);\n}\n\n.panel-header {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.8), rgba(10, 14, 39, 0.8)) !important;\n  border: 2px solid var(--tech-primary) !important;\n  border-radius: 4px !important;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.1) !important;\n  position: relative;\n}\n\n.panel-header::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, var(--tech-primary), transparent);\n}\n\n.panel-title {\n  color: var(--tech-primary) !important;\n  text-shadow: 0 0 10px rgba(0, 217, 255, 0.4) !important;\n}\n\n.settings-subtitle {\n  color: rgba(0, 217, 255, 0.6) !important;\n}\n\n.action-btn {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.05)) !important;\n  border: 1px solid var(--tech-border) !important;\n  color: var(--tech-primary) !important;\n  border-radius: 4px !important;\n  transition: all 0.3s ease !important;\n}\n\n.action-btn:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.1)) !important;\n  border-color: var(--tech-primary) !important;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.3) !important;\n}\n\n.action-btn.primary {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.1)) !important;\n  border-color: var(--tech-primary) !important;\n  color: #fff !important;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3) !important;\n}\n\n.action-btn.primary:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.3), rgba(157, 0, 255, 0.15)) !important;\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.4) !important;\n}\n\n.settings-container {\n  scrollbar-color: rgba(0, 217, 255, 0.3) transparent !important;\n}\n\n.settings-container::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, var(--tech-primary), var(--tech-secondary)) !important;\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.3) !important;\n}\n\n.settings-section {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.7), rgba(10, 14, 39, 0.7)) !important;\n  border: 1px solid var(--tech-border) !important;\n  border-radius: 4px !important;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.05) !important;\n}\n\n.section-header {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.05)) !important;\n  border-bottom: 1px solid var(--tech-border) !important;\n}\n\n.section-title {\n  color: var(--tech-primary) !important;\n  text-shadow: 0 0 8px rgba(0, 217, 255, 0.3) !important;\n}\n\n.setting-item {\n  border-radius: 4px !important;\n  transition: all 0.3s ease !important;\n}\n\n.setting-item:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.08), rgba(157, 0, 255, 0.05)) !important;\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.1) !important;\n}\n\n.setting-name {\n  color: var(--tech-primary) !important;\n  font-weight: 600 !important;\n}\n\n.setting-desc {\n  color: rgba(0, 217, 255, 0.6) !important;\n}\n\n/* Ë°®ÂçïÊéß‰ª∂ */\n.setting-select,\n.setting-input,\ninput[type="text"],\ninput[type="number"],\nselect,\ntextarea {\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.6), rgba(15, 21, 53, 0.6)) !important;\n  border: 1px solid var(--tech-border) !important;\n  color: var(--tech-primary) !important;\n  border-radius: 4px !important;\n  transition: all 0.3s ease !important;\n}\n\n.setting-select::placeholder,\n.setting-input::placeholder,\ninput::placeholder,\ntextarea::placeholder {\n  color: rgba(0, 217, 255, 0.3) !important;\n}\n\n.setting-select:focus,\n.setting-input:focus,\ninput:focus,\nselect:focus,\ntextarea:focus {\n  outline: none !important;\n  border-color: var(--tech-primary) !important;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3), inset 0 0 10px rgba(0, 217, 255, 0.1) !important;\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.8), rgba(15, 21, 53, 0.8)) !important;\n}\n\n/* ÂºÄÂÖ≥ÊåâÈíÆ */\ninput[type="checkbox"],\ninput[type="radio"] {\n  accent-color: var(--tech-primary) !important;\n}\n\n/* ÊªëÂùó */\n.setting-range,\ninput[type="range"] {\n  accent-color: var(--tech-primary) !important;\n}\n\ninput[type="range"] {\n  background: linear-gradient(90deg, var(--tech-primary), var(--tech-accent)) !important;\n}\n\n/* ÊåâÈíÆ */\n.settings-panel button:not(.action-btn),\n.settings-panel .btn {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.1)) !important;\n  border: 2px solid var(--tech-primary) !important;\n  color: var(--tech-primary) !important;\n  border-radius: 4px !important;\n  font-weight: 600 !important;\n  transition: all 0.3s ease !important;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.2) !important;\n}\n\n.settings-panel button:not(.action-btn):hover,\n.settings-panel .btn:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15)) !important;\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.4) !important;\n}\n\n/* ========== APIManagementPanel ÁßëÊäÄÈ£éÊ†º ========== */\n\n.api-management-panel,\n[class*="api-panel"],\n[class*="APIManagement"] {\n  background: var(--tech-background) !important;\n  color: var(--tech-primary);\n}\n\n.api-panel-header,\n[class*="api-header"],\n[class*="panel-header"] {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.8), rgba(10, 14, 39, 0.8)) !important;\n  border: 2px solid var(--tech-primary) !important;\n  border-radius: 4px !important;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.1) !important;\n}\n\n.api-form,\n[class*="form"] {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.7), rgba(10, 14, 39, 0.7)) !important;\n  border: 1px solid var(--tech-border) !important;\n  border-radius: 4px !important;\n}\n\n.api-form-group,\n[class*="form-group"],\n[class*="form-item"] {\n  border-radius: 4px !important;\n}\n\n.api-form-group label,\n[class*="form-group"] label {\n  color: var(--tech-primary) !important;\n  font-weight: 600 !important;\n  text-shadow: 0 0 5px rgba(0, 217, 255, 0.3) !important;\n}\n\n/* ========== ÂÖ∂‰ªñÈù¢ÊùøÈÄöÁî®Ê†∑Âºè ========== */\n\n.right-sidebar,\n.dashboard-panel,\n[class*="panel"],\n[class*="Panel"] {\n  background: var(--tech-background) !important;\n  color: var(--tech-primary);\n}\n\n[class*="panel-title"],\n[class*="panel"] h2,\n[class*="panel"] h3,\n[class*="panel"] h4 {\n  color: var(--tech-primary) !important;\n  text-shadow: 0 0 10px rgba(0, 217, 255, 0.3) !important;\n}\n\n[class*="panel"] .card,\n[class*="panel-content"] .card {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.7), rgba(10, 14, 39, 0.7)) !important;\n  border: 1px solid var(--tech-border) !important;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.05) !important;\n  border-radius: 4px !important;\n}\n\n[class*="panel"] .card:hover,\n[class*="panel-content"] .card:hover {\n  box-shadow: 0 0 25px rgba(0, 217, 255, 0.15) !important;\n  border-color: var(--tech-primary) !important;\n}\n\n[class*="panel"] button,\n[class*="panel"] .btn {\n  border-radius: 4px !important;\n}\n\n/* ========== Ê†áÁ≠æÂíåÂæΩÁ´† ========== */\n\n[class*="tag"],\n[class*="badge"],\n[class*="label"] {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(157, 0, 255, 0.1)) !important;\n  border: 1px solid var(--tech-border) !important;\n  color: var(--tech-primary) !important;\n  border-radius: 3px !important;\n}\n\n/* ========== ÊñáÊú¨È¢úËâ≤ ========== */\n\n[class*="panel"] .text-muted,\n[class*="panel"] .text-secondary {\n  color: rgba(0, 217, 255, 0.6) !important;\n}\n\n[class*="panel"] .text-primary {\n  color: var(--tech-primary) !important;\n}\n\n[class*="panel"] .text-success {\n  color: var(--tech-success) !important;\n}\n\n[class*="panel"] .text-warning {\n  color: var(--tech-warning) !important;\n}\n\n[class*="panel"] .text-danger {\n  color: var(--tech-danger) !important;\n}\n\n/* ========== ÂàÜÂâ≤Á∫ø ========== */\n\n[class*="panel"] .divider,\n[class*="panel"] hr {\n  background: linear-gradient(90deg, transparent, var(--tech-border), transparent) !important;\n  border: none !important;\n}\n\n/* ========== Select ‰∏ãÊãâËèúÂçïÈÄâÈ°π ========== */\n\n[class*="panel"] select option,\n.settings-panel select option,\n.dashboard-panel select option {\n  background: #0a0e27 !important;\n  color: var(--tech-primary) !important;\n  border: none;\n  padding: 8px 6px;\n}\n\n[class*="panel"] select option:hover,\n[class*="panel"] select option:focus,\n[class*="panel"] select option:checked,\n.settings-panel select option:hover,\n.settings-panel select option:focus,\n.settings-panel select option:checked,\n.dashboard-panel select option:hover,\n.dashboard-panel select option:focus,\n.dashboard-panel select option:checked {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15)) !important;\n  color: var(--tech-primary) !important;\n}\n\n/* ========== ÂìçÂ∫îÂºèË∞ÉÊï¥ ========== */\n\n@media (max-width: 768px) {\n  .settings-panel {\n    padding: 0.75rem !important;\n  }\n\n  .panel-header {\n    flex-direction: column !important;\n    gap: 0.75rem !important;\n  }\n\n  .header-actions {\n    width: 100% !important;\n    justify-content: flex-end !important;\n  }\n}\n',""]);const s=i},8537:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.modal-overlay[data-v-594e2d00] {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n.modal-content[data-v-594e2d00] {\n  background: var(--color-background);\n  border-radius: 12px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.modal-content.stats-modal[data-v-594e2d00] {\n  max-width: 600px;\n}\n.modal-header[data-v-594e2d00] {\n  padding: 1.5rem 1.5rem 1rem 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.modal-header h3[data-v-594e2d00] {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.close-btn[data-v-594e2d00] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 6px;\n  transition: all 0.2s;\n}\n.close-btn[data-v-594e2d00]:hover {\n  background: var(--color-hover);\n  color: var(--color-text);\n}\n.modal-body[data-v-594e2d00] {\n  padding: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n}\n.stats-grid[data-v-594e2d00] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n.stat-card[data-v-594e2d00] {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  transition: all 0.2s;\n}\n.stat-card[data-v-594e2d00]:hover {\n  background: var(--color-hover);\n  border-color: var(--color-primary);\n}\n.stat-icon[data-v-594e2d00] {\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.stat-icon.core[data-v-594e2d00] {\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n}\n.stat-icon.global[data-v-594e2d00] {\n  background: rgba(34, 197, 94, 0.1);\n  color: #22c55e;\n}\n.stat-icon.memory[data-v-594e2d00] {\n  background: rgba(168, 85, 247, 0.1);\n  color: #a855f7;\n}\n.stat-icon.world[data-v-594e2d00] {\n  background: rgba(245, 158, 11, 0.1);\n  color: #f59e0b;\n}\n.stat-info[data-v-594e2d00] {\n  flex: 1;\n}\n.stat-value[data-v-594e2d00] {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n  margin-bottom: 0.25rem;\n}\n.stat-label[data-v-594e2d00] {\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n.data-size-info[data-v-594e2d00] {\n  background: var(--color-background);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 1rem;\n}\n.data-size-info h4[data-v-594e2d00] {\n  margin: 0 0 0.75rem 0;\n  font-size: 0.95rem;\n  color: var(--color-text);\n}\n.size-list[data-v-594e2d00] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.size-item[data-v-594e2d00] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 0;\n  border-bottom: 1px solid var(--color-border);\n}\n.size-item[data-v-594e2d00]:last-child {\n  border-bottom: none;\n}\n.size-item span[data-v-594e2d00]:first-child {\n  color: var(--color-text-secondary);\n  font-size: 0.875rem;\n}\n.size-item span[data-v-594e2d00]:last-child {\n  color: var(--color-text);\n  font-weight: 500;\n  font-size: 0.875rem;\n}\n",""]);const s=i},8546:(e,t,n)=>{"use strict";function a(e){if(!e)return"";let t=e.trim();return t?(t=t.replace(/\/api\/v1\/?$/i,""),t=t.replace(/\/+$/,""),t):""}function r(){return function(){if("undefined"==typeof window)return"";const e=window;if("string"==typeof e.__BACKEND_BASE_URL){const t=e.__BACKEND_BASE_URL.trim();if(t)return a(t)}const t=document.querySelector('meta[name="backend-base-url"]');if(t?.content){const e=t.content.trim();if(e)return a(e)}try{const e=localStorage.getItem("BACKEND_BASE_URL");if(e){const t=e.trim();if(t)return a(t)}}catch{}return""}()||a("http://127.0.0.1:12345")}function o(){return!!r()}function i(e){const t=r();return t?`${t}${e.startsWith("/")?e:`/${e}`}`:""}async function s(){const e=r();if(!e)return null;try{const t=await fetch(`${e}/api/v1/version`,{method:"GET"});if(!t.ok)return null;const n=await t.json();if(n&&void 0!==n.version)return String(n.version)}catch{return null}return null}n.d(t,{d9:()=>s,isBackendConfigured:()=>o,mh:()=>i})},8636:(e,t,n)=>{"use strict";var a=n(920),r=n(7720),o=n(4765),i=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,d=function(e,t){c.apply(e,l(t)?t:[t])},u=Date.prototype.toISOString,m=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r.encode,encodeValuesOnly:!1,format:m,formatter:o.formatters[m],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},g={},h=function e(t,n,o,i,s,c,u,m,h,f,v,b,y,x,k,w,E,N){for(var S,_=t,V=N,C=0,A=!1;void 0!==(V=V.get(g))&&!A;){var D=V.get(t);if(C+=1,void 0!==D){if(D===C)throw new RangeError("Cyclic object value");A=!0}void 0===V.get(g)&&(C=0)}if("function"==typeof f?_=f(n,_):_ instanceof Date?_=y(_):"comma"===o&&l(_)&&(_=r.maybeMap(_,function(e){return e instanceof Date?y(e):e})),null===_){if(c)return h&&!w?h(n,p.encoder,E,"key",x):n;_=""}if("string"==typeof(S=_)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||r.isBuffer(_))return h?[k(w?n:h(n,p.encoder,E,"key",x))+"="+k(h(_,p.encoder,E,"value",x))]:[k(n)+"="+k(String(_))];var T,B=[];if(void 0===_)return B;if("comma"===o&&l(_))w&&h&&(_=r.maybeMap(_,h)),T=[{value:_.length>0?_.join(",")||null:void 0}];else if(l(f))T=f;else{var I=Object.keys(_);T=v?I.sort(v):I}var M=m?n.replace(/\./g,"%2E"):n,z=i&&l(_)&&1===_.length?M+"[]":M;if(s&&l(_)&&0===_.length)return z+"[]";for(var P=0;P<T.length;++P){var R=T[P],$="object"==typeof R&&void 0!==R.value?R.value:_[R];if(!u||null!==$){var O=b&&m?R.replace(/\./g,"%2E"):R,L=l(_)?"function"==typeof o?o(z,O):z:z+(b?"."+O:"["+O+"]");N.set(t,C);var F=a();F.set(g,N),d(B,e($,L,o,i,s,c,u,m,"comma"===o&&w&&l(_)?null:h,f,v,b,y,x,k,w,E,F))}}return B};e.exports=function(e,t){var n,r=e,c=function(e){if(!e)return p;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a,r=o.formatters[n],c=p.filter;if(("function"==typeof e.filter||l(e.filter))&&(c=e.filter),a=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=void 0===e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:d,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):l(c.filter)&&(n=c.filter);var u=[];if("object"!=typeof r||null===r)return"";var m=s[c.arrayFormat],g="comma"===m&&c.commaRoundTrip;n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var f=a(),v=0;v<n.length;++v){var b=n[v];c.skipNulls&&null===r[b]||d(u,h(r[b],b,m,g,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,f))}var y=u.join(c.delimiter),x=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),y.length>0?x+y:""}},8648:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},8651:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearAllCharacterData:()=>l,getCurrentCharacterName:()=>s,getTavernHelper:()=>i,isTavernEnv:()=>o});var a=n(7445);function r(){if("undefined"==typeof window)return null;const e=function(){try{return"1"===localStorage.getItem("dad_debug_tavern")}catch{return!1}}();if(e&&(console.log("[TavernÊ£ÄÊµã] ÂºÄÂßãÊü•Êâæ TavernHelper..."),console.log("[TavernÊ£ÄÊµã] ÂΩìÂâçwindow.location:",window.location.href)),window.TavernHelper)return e&&console.log("[TavernÊ£ÄÊµã] ‚úÖ Âú®ÂΩìÂâçwindowÊâæÂà∞TavernHelper"),window.TavernHelper;try{if(e&&console.log("[TavernÊ£ÄÊµã] Â∞ùËØïËÆøÈóÆwindow.top..."),window.top&&window.top!==window){if(e&&console.log("[TavernÊ£ÄÊµã] window.topÂèØËÆøÈóÆÔºåÊ£ÄÊü•TavernHelper..."),window.top.TavernHelper)return e&&console.log("[TavernÊ£ÄÊµã] ‚úÖ Âú®window.topÊâæÂà∞TavernHelper"),window.top.TavernHelper;e&&console.log("[TavernÊ£ÄÊµã] window.topÊ≤°ÊúâTavernHelper")}}catch(t){e&&console.log("[TavernÊ£ÄÊµã] ‚ö†Ô∏è ËÆøÈóÆwindow.topÂ§±Ë¥•ÔºàË∑®ÂüüÔºâ:",t)}let t=window;for(let n=0;n<5;n++)try{if(!t.parent||t.parent===t){e&&console.log(`[TavernÊ£ÄÊµã] Â∑≤Âà∞ËææÈ°∂Â±ÇÔºàÁ¨¨${n+1}Â±ÇÔºâ`);break}if(e&&console.log(`[TavernÊ£ÄÊµã] Ê£ÄÊü•Á¨¨${n+1}Â±Çparent...`),t.parent.TavernHelper)return e&&console.log(`[TavernÊ£ÄÊµã] ‚úÖ Âú®Á¨¨${n+1}Â±ÇparentÊâæÂà∞TavernHelper`),t.parent.TavernHelper;e&&console.log(`[TavernÊ£ÄÊµã] Á¨¨${n+1}Â±ÇparentÊ≤°ÊúâTavernHelperÔºåÁªßÁª≠Âêë‰∏ä`),t=t.parent}catch(t){e&&console.log(`[TavernÊ£ÄÊµã] ‚ö†Ô∏è ËÆøÈóÆÁ¨¨${n+1}Â±ÇparentÂ§±Ë¥•ÔºàË∑®ÂüüÔºâ:`,t);break}return e&&console.log("[TavernÊ£ÄÊµã] ‚ùå Êú™ÊâæÂà∞TavernHelper"),null}function o(){return!!r()}function i(){return{generate:async e=>await a.aiService.generate(e),generateRaw:async e=>await a.aiService.generateRaw(e),getVariables:async e=>{const t=r();return t?await t.getVariables(e):{}},insertOrAssignVariables:async(e,t)=>{const n=r();if(n)return await n.insertOrAssignVariables(e,t)}}}async function s(){const e=i();if(!e)return null;try{const t=await e.getVariables({type:"global"});return t["persona.name"]||t.name||null}catch(e){return console.warn("[Tavern] Êó†Ê≥ïËé∑ÂèñËßíËâ≤Âêç:",e),null}}async function l(){const e=i();if(e)try{await e.insertOrAssignVariables({},{type:"global"})}catch(e){throw console.error("[Tavern] Ê∏ÖÈô§ÈÖíÈ¶ÜÂèòÈáèÂ§±Ë¥•:",e),e}else console.warn("[Tavern] ÈÖíÈ¶ÜÂä©Êâã‰∏çÂèØÁî®ÔºåË∑≥ËøáÊ∏ÖÁêÜ")}},8684:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8708:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var a=n(3302);function r(e){const t=function(e){a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó","ÂºÄÂßãËÆ°ÁÆóÂ∑≤ÊéåÊè°ÊäÄËÉΩÔºàÊ®°ÂùóËÆ≠ÁªÉÔºâ...");const t=[],n=e?.ËßíËâ≤?.ËÉåÂåÖ?.Áâ©ÂìÅ;if(!n)return a.Yz.warn("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó","ËÉåÂåÖÁâ©ÂìÅ‰∏çÂ≠òÂú®ÔºåËøîÂõûÁ©∫Êï∞ÁªÑ"),t;for(const[e,r]of Object.entries(n)){if("Á®ãÂ∫è"!==r?.Á±ªÂûã)continue;const e=r;if(!e.Á®ãÂ∫èÊäÄËÉΩ||"object"!=typeof e.Á®ãÂ∫èÊäÄËÉΩ){a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó",`Ê®°Âùó ${e.ÂêçÁß∞} Ê≤°ÊúâÊäÄËÉΩÂÆö‰πâ`);continue}const n=e.ËÆ≠ÁªÉËøõÂ∫¶||0;a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó",`Ê£ÄÊü•Ê®°Âùó ${e.ÂêçÁß∞}ÔºåËÆ≠ÁªÉËøõÂ∫¶: ${n}`),e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ||(e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ=[]);for(const r of e.Á®ãÂ∫èÊäÄËÉΩ){const o=r.ÊäÄËÉΩÂêçÁß∞,i=r.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç||0;a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó",`  ÊäÄËÉΩ ${o}ÔºåËß£ÈîÅÈòàÂÄº: ${i}`),n>=i?(e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.includes(o)||(e.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.push(o),a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó",`  ‚úÖ Ê∑ªÂä†Âà∞Â∑≤Ëß£ÈîÅÊäÄËÉΩ: ${o}`)),t.find(t=>t.ÊäÄËÉΩÂêçÁß∞===o&&t.Êù•Ê∫ê===e.ÂêçÁß∞)||(t.push({ÊäÄËÉΩÂêçÁß∞:o,ÊäÄËÉΩÊèèËø∞:r.ÊäÄËÉΩÊèèËø∞||"",Êù•Ê∫ê:e.ÂêçÁß∞,Ê∂àËÄó:r.Ê∂àËÄó||"",ÁÜüÁªÉÂ∫¶:0,‰ΩøÁî®Ê¨°Êï∞:0}),a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó",`  ‚úÖ Ëß£ÈîÅÊäÄËÉΩ: ${o} (Êù•Ëá™ ${e.ÂêçÁß∞})`))):a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó",`  ‚ùå ÊäÄËÉΩ ${o} Êú™Ëß£ÈîÅ (${n}/${i})`)}}return a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó",`ËÆ°ÁÆóÂÆåÊàêÔºåÂÖ±ÊéåÊè° ${t.length} ‰∏™ÊäÄËÉΩ`),t}(e),n=e.Á≥ªÁªü?.ÁºìÂ≠ò?.ÊéåÊè°ÊäÄËÉΩ||[];for(const e of t){const t=n.find(t=>t.ÊäÄËÉΩÂêçÁß∞===e.ÊäÄËÉΩÂêçÁß∞&&t.Êù•Ê∫ê===e.Êù•Ê∫ê);t&&(e.ÁÜüÁªÉÂ∫¶=t.ÁÜüÁªÉÂ∫¶,e.‰ΩøÁî®Ê¨°Êï∞=t.‰ΩøÁî®Ê¨°Êï∞)}return e.Á≥ªÁªü||(e.Á≥ªÁªü={}),e.Á≥ªÁªü.ÁºìÂ≠ò||(e.Á≥ªÁªü.ÁºìÂ≠ò={}),e.Á≥ªÁªü.ÁºìÂ≠ò.ÊéåÊè°ÊäÄËÉΩ=t,a.Yz.log("ÊéåÊè°ÊäÄËÉΩËÆ°ÁÆó","Â∑≤Êõ¥Êñ∞Â≠òÊ°£Êï∞ÊçÆ‰∏≠ÁöÑÊéåÊè°ÊäÄËÉΩÊï∞ÁªÑ"),t}},8794:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.modal-overlay[data-v-9bd0bd00] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: fadeIn-9bd0bd00 0.2s ease-out;\n}\n@keyframes fadeIn-9bd0bd00 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n.modal-content[data-v-9bd0bd00] {\n  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n  border: 1px solid rgba(255, 215, 0, 0.3);\n  border-radius: 12px;\n  width: 90%;\n  max-width: 500px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n  animation: slideUp-9bd0bd00 0.3s ease-out;\n}\n@keyframes slideUp-9bd0bd00 {\nfrom {\n    transform: translateY(20px);\n    opacity: 0;\n}\nto {\n    transform: translateY(0);\n    opacity: 1;\n}\n}\n.modal-header[data-v-9bd0bd00] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid rgba(255, 215, 0, 0.2);\n}\n.modal-header h3[data-v-9bd0bd00] {\n  margin: 0;\n  font-size: 1.25rem;\n  color: #ffd700;\n  font-weight: 600;\n}\n.close-btn[data-v-9bd0bd00] {\n  background: none;\n  border: none;\n  font-size: 2rem;\n  color: #999;\n  cursor: pointer;\n  line-height: 1;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.close-btn[data-v-9bd0bd00]:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: #fff;\n}\n.modal-body[data-v-9bd0bd00] {\n  padding: 24px;\n}\n.hint[data-v-9bd0bd00] {\n  margin: 0 0 12px 0;\n  color: #ccc;\n  font-size: 0.95rem;\n}\n.prompt-input[data-v-9bd0bd00] {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid rgba(255, 215, 0, 0.3);\n  border-radius: 8px;\n  background: rgba(0, 0, 0, 0.3);\n  color: #fff;\n  font-size: 0.95rem;\n  font-family: inherit;\n  resize: vertical;\n  min-height: 120px;\n  transition: border-color 0.2s, box-shadow 0.2s;\n}\n.prompt-input[data-v-9bd0bd00]:focus {\n  outline: none;\n  border-color: #ffd700;\n  box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);\n}\n.prompt-input[data-v-9bd0bd00]::placeholder {\n  color: #666;\n}\n.modal-footer[data-v-9bd0bd00] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding: 16px 24px;\n  border-top: 1px solid rgba(255, 215, 0, 0.2);\n}\n.cancel-btn[data-v-9bd0bd00],\n.submit-btn[data-v-9bd0bd00] {\n  padding: 10px 24px;\n  border-radius: 6px;\n  font-size: 0.95rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n}\n.cancel-btn[data-v-9bd0bd00] {\n  background: rgba(255, 255, 255, 0.1);\n  color: #ccc;\n}\n.cancel-btn[data-v-9bd0bd00]:hover {\n  background: rgba(255, 255, 255, 0.15);\n  color: #fff;\n}\n.submit-btn[data-v-9bd0bd00] {\n  background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);\n  color: #1a1a2e;\n  font-weight: 600;\n}\n.submit-btn[data-v-9bd0bd00]:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);\n}\n.submit-btn[data-v-9bd0bd00]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n",""]);const s=i},8835:(e,t,n)=>{"use strict";var a=n(1270);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),d=["%","/","?",";","#"].concat(c),u=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(5373);function b(e,t,n){if(e&&"object"==typeof e&&e instanceof r)return e;var a=new r;return a.parse(e,t,n),a}r.prototype.parse=function(e,t,n){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",l=e.split(i);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(i);if(b=b.trim(),!n&&1===e.split("#").length){var y=s.exec(b);if(y)return this.path=b,this.href=b,this.pathname=y[1],y[2]?(this.search=y[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@/]+@[^@/]+/)){var w="//"===b.substr(0,2);!w||x&&h[x]||(b=b.substr(2),this.slashes=!0)}if(!h[x]&&(w||x&&!f[x])){for(var E,N,S=-1,_=0;_<u.length;_++)-1!==(V=b.indexOf(u[_]))&&(-1===S||V<S)&&(S=V);for(-1!==(N=-1===S?b.lastIndexOf("@"):b.lastIndexOf("@",S))&&(E=b.slice(0,N),b=b.slice(N+1),this.auth=decodeURIComponent(E)),S=-1,_=0;_<d.length;_++){var V;-1!==(V=b.indexOf(d[_]))&&(-1===S||V<S)&&(S=V)}-1===S&&(S=b.length),this.host=b.slice(0,S),b=b.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),D=(_=0,A.length);_<D;_++){var T=A[_];if(T&&!T.match(m)){for(var B="",I=0,M=T.length;I<M;I++)T.charCodeAt(I)>127?B+="x":B+=T[I];if(!B.match(m)){var z=A.slice(0,_),P=A.slice(_+1),R=T.match(p);R&&(z.push(R[1]),P.unshift(R[2])),P.length&&(b="/"+P.join(".")+b),this.hostname=z.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=a.toASCII(this.hostname));var $=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+$,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[k])for(_=0,D=c.length;_<D;_++){var L=c[_];if(-1!==b.indexOf(L)){var F=encodeURIComponent(L);F===L&&(F=escape(L)),b=b.split(L).join(F)}}var j=b.indexOf("#");-1!==j&&(this.hash=b.substr(j),b=b.slice(0,j));var U=b.indexOf("?");if(-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,U)):t&&(this.search="",this.query={}),b&&(this.pathname=b),f[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$=this.pathname||"";var q=this.search||"";this.path=$+q}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var i=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||f[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),i&&"?"!==i.charAt(0)&&(i="?"+i),t+r+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(i=i.replace("#","%23"))+a},r.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if("string"==typeof e){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,a=Object.keys(this),o=0;o<a.length;o++){var i=a[o];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=e[c])}return f[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!f[e.protocol]){for(var d=Object.keys(e),u=0;u<d.length;u++){var m=d[u];n[m]=e[m]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||h[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",v=n.search||"";n.path=g+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=y||b||n.host&&e.pathname,k=x,w=n.pathname&&n.pathname.split("/")||[],E=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!f[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===w[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),n.search=e.search,n.query=e.query;else if(null!=e.search)return E&&(n.host=w.shift(),n.hostname=n.host,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)),n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var N=w.slice(-1)[0],S=(n.host||e.host||w.length>1)&&("."===N||".."===N)||""===N,_=0,V=w.length;V>=0;V--)"."===(N=w[V])?w.splice(V,1):".."===N?(w.splice(V,1),_++):_&&(w.splice(V,1),_--);if(!x&&!k)for(;_--;_)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var C,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);return E&&(n.hostname=A?"":w.length?w.shift():"",n.host=n.hostname,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)),(x=x||n.host&&w.length)&&!A&&w.unshift(""),w.length>0?n.pathname=w.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.qg=b,t.hd=function(e,t){return b(e,!1,!0).resolve(t)},t.GP=function(e){return"string"==typeof e&&(e=b(e)),e instanceof r?e.format():r.prototype.format.call(e)}},8859:(e,t,n)=>{var a="function"==typeof Map&&Map.prototype,r=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=a&&r&&"function"==typeof r.get?r.get:null,i=a&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,d=s&&Set.prototype.forEach,u="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,m="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,h=Object.prototype.toString,f=Function.prototype.toString,v=String.prototype.match,b=String.prototype.slice,y=String.prototype.replace,x=String.prototype.toUpperCase,k=String.prototype.toLowerCase,w=RegExp.prototype.test,E=Array.prototype.concat,N=Array.prototype.join,S=Array.prototype.slice,_=Math.floor,V="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==typeof Symbol.iterator,T="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var a=e<0?-_(-e):_(e);if(a!==e){var r=String(a),o=b.call(t,r.length+1);return y.call(r,n,"$&_")+"."+y.call(y.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(t,n,"$&_")}var z=n(2634),P=z.custom,R=G(P)?P:null,$={__proto__:null,double:'"',single:"'"},O={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function L(e,t,n){var a=n.quoteStyle||t,r=$[a];return r+e+r}function F(e){return y.call(String(e),/"/g,"&quot;")}function j(e){return!T||!("object"==typeof e&&(T in e||void 0!==e[T]))}function U(e){return"[object Array]"===W(e)&&j(e)}function q(e){return"[object RegExp]"===W(e)&&j(e)}function G(e){if(D)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}e.exports=function e(t,a,r,s){var l=a||{};if(Y(l,"quoteStyle")&&!Y($,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Y(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!Y(l,"customInspect")||l.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Y(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Y(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var x=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return J(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return x?M(t,w):w}if("bigint"==typeof t){var _=String(t)+"n";return x?M(t,_):_}var C=void 0===l.depth?5:l.depth;if(void 0===r&&(r=0),r>=C&&C>0&&"object"==typeof t)return U(t)?"[Array]":"[Object]";var P,O=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=N.call(Array(e.indent+1)," ")}return{base:n,prev:N.call(Array(t+1),n)}}(l,r);if(void 0===s)s=[];else if(X(s,t)>=0)return"[Circular]";function H(t,n,a){if(n&&(s=S.call(s)).push(n),a){var o={depth:l.depth};return Y(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,r+1,s)}return e(t,l,r+1,s)}if("function"==typeof t&&!q(t)){var K=function(e){if(e.name)return e.name;var t=v.call(f.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ae=ne(t,H);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(ae.length>0?" { "+N.call(ae,", ")+" }":"")}if(G(t)){var re=D?y.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||D?re:Z(re)}if((P=t)&&"object"==typeof P&&("undefined"!=typeof HTMLElement&&P instanceof HTMLElement||"string"==typeof P.nodeName&&"function"==typeof P.getAttribute)){for(var oe="<"+k.call(String(t.nodeName)),ie=t.attributes||[],se=0;se<ie.length;se++)oe+=" "+ie[se].name+"="+L(F(ie[se].value),"double",l);return oe+=">",t.childNodes&&t.childNodes.length&&(oe+="..."),oe+"</"+k.call(String(t.nodeName))+">"}if(U(t)){if(0===t.length)return"[]";var le=ne(t,H);return O&&!function(e){for(var t=0;t<e.length;t++)if(X(e[t],"\n")>=0)return!1;return!0}(le)?"["+te(le,O)+"]":"[ "+N.call(le,", ")+" ]"}if(function(e){return"[object Error]"===W(e)&&j(e)}(t)){var ce=ne(t,H);return"cause"in Error.prototype||!("cause"in t)||B.call(t,"cause")?0===ce.length?"["+String(t)+"]":"{ ["+String(t)+"] "+N.call(ce,", ")+" }":"{ ["+String(t)+"] "+N.call(E.call("[cause]: "+H(t.cause),ce),", ")+" }"}if("object"==typeof t&&h){if(R&&"function"==typeof t[R]&&z)return z(t,{depth:C-r});if("symbol"!==h&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var de=[];return i&&i.call(t,function(e,n){de.push(H(n,t,!0)+" => "+H(e,t))}),ee("Map",o.call(t),de,O)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ue=[];return d&&d.call(t,function(e){ue.push(H(e,t))}),ee("Set",c.call(t),ue,O)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e,u);try{m.call(e,m)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Q("WeakMap");if(function(e){if(!m||!e||"object"!=typeof e)return!1;try{m.call(e,m);try{u.call(e,u)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Q("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return Q("WeakRef");if(function(e){return"[object Number]"===W(e)&&j(e)}(t))return Z(H(Number(t)));if(function(e){if(!e||"object"!=typeof e||!V)return!1;try{return V.call(e),!0}catch(e){}return!1}(t))return Z(H(V.call(t)));if(function(e){return"[object Boolean]"===W(e)&&j(e)}(t))return Z(g.call(t));if(function(e){return"[object String]"===W(e)&&j(e)}(t))return Z(H(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==n.g&&t===n.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===W(e)&&j(e)}(t)&&!q(t)){var me=ne(t,H),pe=I?I(t)===Object.prototype:t instanceof Object||t.constructor===Object,ge=t instanceof Object?"":"null prototype",he=!pe&&T&&Object(t)===t&&T in t?b.call(W(t),8,-1):ge?"Object":"",fe=(pe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||ge?"["+N.call(E.call([],he||[],ge||[]),": ")+"] ":"");return 0===me.length?fe+"{}":O?fe+"{"+te(me,O)+"}":fe+"{ "+N.call(me,", ")+" }"}return String(t)};var H=Object.prototype.hasOwnProperty||function(e){return e in this};function Y(e,t){return H.call(e,t)}function W(e){return h.call(e)}function X(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1}function J(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,a="... "+n+" more character"+(n>1?"s":"");return J(b.call(e,0,t.maxStringLength),t)+a}var r=O[t.quoteStyle||"single"];return r.lastIndex=0,L(y.call(y.call(e,r,"\\$1"),/[\x00-\x1f]/g,K),"single",t)}function K(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+x.call(t.toString(16))}function Z(e){return"Object("+e+")"}function Q(e){return e+" { ? }"}function ee(e,t,n,a){return e+" ("+t+") {"+(a?te(n,a):N.call(n,", "))+"}"}function te(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+N.call(e,","+n)+"\n"+t.prev}function ne(e,t){var n=U(e),a=[];if(n){a.length=e.length;for(var r=0;r<e.length;r++)a[r]=Y(e,r)?t(e[r],e):""}var o,i="function"==typeof C?C(e):[];if(D){o={};for(var s=0;s<i.length;s++)o["$"+i[s]]=i[s]}for(var l in e)Y(e,l)&&(n&&String(Number(l))===l&&l<e.length||D&&o["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?a.push(t(l,e)+": "+t(e[l],e)):a.push(l+": "+t(e[l],e))));if("function"==typeof C)for(var c=0;c<i.length;c++)B.call(e,i[c])&&a.push("["+t(i[c])+"]: "+t(e[i[c]],e));return a}},8968:e=>{"use strict";e.exports=Math.floor},9037:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(9596).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9053:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* ========== 4.0 ÂÖ®Êñ∞ËßÜËßâÁ≥ªÁªü - ‰∏ñÁïåÈÄâÊã© ========== */\n.world-selection-container[data-v-703cbee6] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.loading-state[data-v-703cbee6], .error-state[data-v-703cbee6], .placeholder[data-v-703cbee6] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 1.1rem;\n  color: #94a3b8;\n  font-style: italic;\n  letter-spacing: 0.1em;\n}\n.world-layout[data-v-703cbee6] {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 1.5rem;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* ========== Â∑¶‰æßÈù¢Êùø - 4.0 È£éÊ†º ========== */\n.left-panel[data-v-703cbee6] {\n  display: flex;\n  flex-direction: column;\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(147, 197, 253, 0.12);\n  border-radius: 16px;\n  overflow: hidden;\n  position: relative;\n}\n.left-panel[data-v-703cbee6]::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 60px;\n  background: linear-gradient(to bottom, rgba(147, 197, 253, 0.05), transparent);\n  pointer-events: none;\n}\n\n/* È°∂ÈÉ®ÂäüËÉΩÊåâÈíÆ */\n.top-actions-container[data-v-703cbee6] {\n  display: flex;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.06);\n  background: rgba(30, 41, 59, 0.3);\n  justify-content: center;\n}\n.top-actions-container .action-item[data-v-703cbee6] {\n  padding: 0.5rem 1rem;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.6);\n  color: #cbd5e1;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  font-size: 0.85rem;\n  font-weight: 500;\n  white-space: nowrap;\n  letter-spacing: 0.05em;\n}\n.top-actions-container .action-item[data-v-703cbee6]:hover {\n  background: rgba(51, 65, 85, 0.8);\n  border-color: rgba(147, 197, 253, 0.3);\n  color: #f1f5f9;\n}\n.list-container[data-v-703cbee6] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0.6rem;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.list-container[data-v-703cbee6]::-webkit-scrollbar {\n  width: 6px;\n}\n.list-container[data-v-703cbee6]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.list-container[data-v-703cbee6]::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, rgba(147, 197, 253, 0.4), rgba(59, 130, 246, 0.3));\n  border-radius: 3px;\n}\n.list-container[data-v-703cbee6]::-webkit-scrollbar-thumb:hover {\n  background: linear-gradient(180deg, rgba(147, 197, 253, 0.6), rgba(59, 130, 246, 0.5));\n}\n\n/* ========== ‰∏ñÁïåÈÄâÈ°πÂç° - 4.0 È£éÊ†º ========== */\n.list-item[data-v-703cbee6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.1rem 1.2rem;\n  margin-bottom: 0.6rem;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  border: 1px solid transparent;\n  background: rgba(30, 41, 59, 0.5);\n}\n.list-item[data-v-703cbee6]:hover {\n  background: rgba(51, 65, 85, 0.7);\n  border-color: rgba(147, 197, 253, 0.25);\n}\n.list-item.selected[data-v-703cbee6] {\n  background: linear-gradient(135deg, rgba(30, 58, 138, 0.5) 0%, rgba(30, 41, 59, 0.6) 100%);\n  border-color: rgba(147, 197, 253, 0.4);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);\n}\n.item-content[data-v-703cbee6] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n}\n.item-name[data-v-703cbee6] {\n  flex-grow: 1;\n  font-weight: 500;\n  color: #f1f5f9;\n  letter-spacing: 0.05em;\n  transition: color 0.3s ease;\n}\n.list-item.selected .item-name[data-v-703cbee6] {\n  color: #bfdbfe;\n  text-shadow: 0 0 12px rgba(147, 197, 253, 0.4);\n}\n\n/* ÊåâÈíÆÁªÑÂÆπÂô® */\n.action-buttons[data-v-703cbee6] {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  opacity: 0;\n  transition: opacity 0.25s ease;\n  margin-left: 0.5rem;\n}\n.list-item:hover .action-buttons[data-v-703cbee6] {\n  opacity: 1;\n}\n.edit-btn[data-v-703cbee6], .delete-btn[data-v-703cbee6] {\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  color: #94a3b8;\n  cursor: pointer;\n  padding: 0.4rem;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.25s ease;\n}\n.edit-btn[data-v-703cbee6]:hover {\n  color: #93c5fd;\n  background: rgba(147, 197, 253, 0.15);\n  border-color: rgba(147, 197, 253, 0.3);\n}\n.delete-btn[data-v-703cbee6]:hover {\n  color: #f87171;\n  background: rgba(248, 113, 113, 0.15);\n  border-color: rgba(248, 113, 113, 0.3);\n}\n\n/* ========== Âè≥‰æßËØ¶ÊÉÖÈù¢Êùø - 4.0 È£éÊ†º ========== */\n.details-container[data-v-703cbee6] {\n  background: rgba(30, 41, 59, 0.5);\n  border: 1px solid rgba(147, 197, 253, 0.12);\n  border-radius: 16px;\n  padding: 1.75rem;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  min-height: 0;\n  position: relative;\n}\n.details-container[data-v-703cbee6]::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 80px;\n  background: radial-gradient(ellipse at 50% 0%, rgba(147, 197, 253, 0.08) 0%, transparent 70%);\n  pointer-events: none;\n}\n.world-details[data-v-703cbee6] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n  overflow: hidden;\n  position: relative;\n  z-index: 1;\n}\n.details-header[data-v-703cbee6] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.75rem;\n  margin-bottom: 0.5rem;\n}\n.details-title[data-v-703cbee6] {\n  margin: 0;\n  font-size: 1.6rem;\n  font-weight: 600;\n  color: #93c5fd;\n  letter-spacing: 0.1em;\n}\n.map-settings-btn[data-v-703cbee6] {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 0.55rem 0.9rem;\n  border: 1px solid rgba(147, 197, 253, 0.2);\n  border-radius: 10px;\n  background: linear-gradient(135deg, rgba(30, 41, 59, 0.7) 0%, rgba(51, 65, 85, 0.5) 100%);\n  color: #cbd5e1;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  font-size: 0.85rem;\n}\n.map-settings-btn[data-v-703cbee6]:hover {\n  background: linear-gradient(135deg, rgba(51, 65, 85, 0.9) 0%, rgba(71, 85, 105, 0.7) 100%);\n  border-color: rgba(147, 197, 253, 0.4);\n  color: #f1f5f9;\n  transform: translateY(-1px);\n}\n.world-details h2[data-v-703cbee6] {\n  margin-top: 0;\n  color: #93c5fd;\n  flex-shrink: 0;\n}\n.world-details .era[data-v-703cbee6] {\n  font-style: italic;\n  color: #fbbf24;\n  margin-bottom: 1.25rem;\n  flex-shrink: 0;\n  font-size: 0.95rem;\n  letter-spacing: 0.05em;\n  text-shadow: 0 0 12px rgba(251, 191, 36, 0.3);\n}\n.description-scroll[data-v-703cbee6] {\n  flex: 1;\n  overflow-y: auto;\n  line-height: 1.8;\n  padding-right: 0.5rem;\n  min-height: 0;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(147, 197, 253, 0.3) transparent;\n}\n.description-scroll[data-v-703cbee6]::-webkit-scrollbar {\n  width: 6px;\n}\n.description-scroll[data-v-703cbee6]::-webkit-scrollbar-track {\n  background: transparent;\n}\n.description-scroll[data-v-703cbee6]::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, rgba(147, 197, 253, 0.4), rgba(59, 130, 246, 0.3));\n  border-radius: 3px;\n}\n.description-scroll p[data-v-703cbee6] {\n  margin: 0;\n  white-space: pre-wrap;\n  color: #94a3b8;\n  font-size: 0.95rem;\n}\n\n/* ========== Âú∞ÂõæÁîüÊàêÈÄâÈ°π - 4.0 È£éÊ†º ========== */\n.map-options[data-v-703cbee6] {\n  margin-top: 1rem;\n  border: 1px solid rgba(147, 197, 253, 0.2);\n  border-radius: 12px;\n  padding: 1.25rem;\n  background: linear-gradient(135deg, rgba(30, 41, 59, 0.5) 0%, rgba(51, 65, 85, 0.3) 100%);\n  flex: 1 1 auto;\n  overflow: auto;\n}\n\n/* ‰ªÖÁîüÊàêÂ§ßÈôÜÂºÄÂÖ≥ */\n.continents-only-section[data-v-703cbee6] {\n  margin-bottom: 1.25rem;\n  padding: 1rem;\n  background: rgba(147, 197, 253, 0.08);\n  border: 1px solid rgba(147, 197, 253, 0.2);\n  border-radius: 10px;\n}\n\n/* Ê∏∏ÊàèÈöæÂ∫¶ÈÄâÊã©Ê†∑Âºè */\n.difficulty-section[data-v-703cbee6] {\n  margin-bottom: 1.25rem;\n  padding: 1rem;\n  background: rgba(251, 191, 36, 0.08);\n  border: 1px solid rgba(251, 191, 36, 0.2);\n  border-radius: 10px;\n}\n.difficulty-label[data-v-703cbee6] {\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: #fbbf24;\n  margin-bottom: 0.75rem;\n  letter-spacing: 0.05em;\n}\n.difficulty-options[data-v-703cbee6] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 0.6rem;\n}\n.difficulty-option[data-v-703cbee6] {\n  display: flex;\n  flex-direction: column;\n  padding: 0.6rem 0.9rem;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.5);\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\n.difficulty-option[data-v-703cbee6]:hover {\n  background: rgba(51, 65, 85, 0.7);\n  border-color: rgba(251, 191, 36, 0.35);\n}\n.difficulty-option.selected[data-v-703cbee6] {\n  background: rgba(251, 191, 36, 0.18);\n  border-color: rgba(251, 191, 36, 0.5);\n  box-shadow: 0 0 16px rgba(251, 191, 36, 0.15);\n}\n.difficulty-radio[data-v-703cbee6] {\n  display: none;\n}\n.difficulty-name[data-v-703cbee6] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: #f1f5f9;\n}\n.difficulty-option.selected .difficulty-name[data-v-703cbee6] {\n  color: #fbbf24;\n  text-shadow: 0 0 8px rgba(251, 191, 36, 0.4);\n}\n.difficulty-desc[data-v-703cbee6] {\n  font-size: 0.72rem;\n  color: #94a3b8;\n  margin-top: 0.25rem;\n}\n.continents-only-toggle[data-v-703cbee6] {\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  cursor: pointer;\n  user-select: none;\n}\n.toggle-checkbox[data-v-703cbee6] {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  accent-color: #93c5fd;\n}\n.toggle-label[data-v-703cbee6] {\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: #93c5fd;\n  letter-spacing: 0.03em;\n}\n.toggle-hint[data-v-703cbee6] {\n  margin-top: 0.6rem;\n  font-size: 0.78rem;\n  color: #94a3b8;\n  line-height: 1.5;\n  padding-left: 1.7rem;\n}\n.config-warning[data-v-703cbee6] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.85rem;\n  padding: 0.9rem;\n  margin-bottom: 1.25rem;\n  background: rgba(251, 191, 36, 0.12);\n  border: 1px solid rgba(251, 191, 36, 0.3);\n  border-radius: 10px;\n}\n.warning-icon[data-v-703cbee6] {\n  font-size: 1.3rem;\n  flex-shrink: 0;\n}\n.warning-text[data-v-703cbee6] {\n  flex: 1;\n}\n.warning-title[data-v-703cbee6] {\n  font-weight: 600;\n  font-size: 0.95rem;\n  margin-bottom: 0.3rem;\n  color: #fbbf24;\n}\n.warning-desc[data-v-703cbee6] {\n  font-size: 0.82rem;\n  color: #94a3b8;\n  line-height: 1.5;\n}\n.option-item input.config-risky[data-v-703cbee6] {\n  border-color: rgba(251, 191, 36, 0.5);\n  background-color: rgba(251, 191, 36, 0.08);\n}\n.config-hint[data-v-703cbee6] {\n  font-size: 0.72rem;\n  color: #64748b;\n  margin-top: 0.25rem;\n}\n.map-options-header[data-v-703cbee6] {\n  font-weight: 600;\n  color: #93c5fd;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n  letter-spacing: 0.05em;\n}\n.map-options-grid[data-v-703cbee6] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));\n  gap: 0.9rem;\n}\n.option-item[data-v-703cbee6] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n}\n.option-label[data-v-703cbee6] {\n  font-size: 0.82rem;\n  color: #94a3b8;\n  letter-spacing: 0.03em;\n}\n.option-item input[data-v-703cbee6] {\n  width: 100%;\n  padding: 0.55rem 0.7rem;\n  border: 1px solid rgba(147, 197, 253, 0.15);\n  border-radius: 8px;\n  background: rgba(30, 41, 59, 0.7);\n  color: #f1f5f9;\n  font-size: 0.88rem;\n  transition: all 0.25s ease;\n}\n.option-item input[data-v-703cbee6]:focus {\n  outline: none;\n  border-color: rgba(147, 197, 253, 0.5);\n  box-shadow: 0 0 12px rgba(147, 197, 253, 0.15);\n}\n.option-item input[data-v-703cbee6]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.map-options-actions[data-v-703cbee6] {\n  display: flex;\n  gap: 0.6rem;\n  margin-top: 1rem;\n}\n.opt-btn[data-v-703cbee6] {\n  padding: 0.55rem 1.1rem;\n  border: 1px solid rgba(147, 197, 253, 0.2);\n  border-radius: 8px;\n  background: linear-gradient(135deg, rgba(30, 41, 59, 0.7) 0%, rgba(51, 65, 85, 0.5) 100%);\n  color: #cbd5e1;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  font-size: 0.85rem;\n  font-weight: 500;\n}\n.opt-btn[data-v-703cbee6]:hover {\n  background: linear-gradient(135deg, rgba(51, 65, 85, 0.9) 0%, rgba(71, 85, 105, 0.7) 100%);\n  border-color: rgba(147, 197, 253, 0.4);\n  color: #f1f5f9;\n  transform: translateY(-1px);\n}\n\n/* ========== Á©∫Áä∂ÊÄÅ ========== */\n.no-worlds-message[data-v-703cbee6] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n  color: #64748b;\n}\n.no-worlds-icon[data-v-703cbee6] {\n  font-size: 3rem;\n  margin-bottom: 1.25rem;\n  opacity: 0.7;\n}\n.no-worlds-text[data-v-703cbee6] {\n  font-size: 1.05rem;\n  margin-bottom: 0.6rem;\n  color: #94a3b8;\n  letter-spacing: 0.05em;\n}\n.no-worlds-hint[data-v-703cbee6] {\n  font-size: 0.88rem;\n  opacity: 0.7;\n  font-style: italic;\n}\n\n/* ========== ‰∫ÆËâ≤‰∏ªÈ¢òÈÄÇÈÖç ========== */\n[data-theme="light"] .left-panel[data-v-703cbee6],\n[data-theme="light"] .details-container[data-v-703cbee6] {\n  background: rgba(248, 250, 252, 0.85);\n  border-color: rgba(59, 130, 246, 0.15);\n}\n[data-theme="light"] .left-panel[data-v-703cbee6]::before,\n[data-theme="light"] .details-container[data-v-703cbee6]::before {\n  background: radial-gradient(ellipse at 50% 0%, rgba(59, 130, 246, 0.08) 0%, transparent 70%);\n}\n[data-theme="light"] .top-actions-container[data-v-703cbee6] {\n  background: rgba(241, 245, 249, 0.85);\n  border-color: rgba(59, 130, 246, 0.1);\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-703cbee6] {\n  background: rgba(255, 255, 255, 0.8);\n  border-color: rgba(59, 130, 246, 0.3);\n  color: #2563eb;\n}\n[data-theme="light"] .top-actions-container .action-item[data-v-703cbee6]:hover {\n  background: rgba(59, 130, 246, 0.1);\n  border-color: #3b82f6;\n  color: #1e40af;\n}\n[data-theme="light"] .list-item[data-v-703cbee6] {\n  background: rgba(255, 255, 255, 0.7);\n}\n[data-theme="light"] .list-item[data-v-703cbee6]:hover {\n  background: rgba(241, 245, 249, 0.95);\n  border-color: rgba(59, 130, 246, 0.25);\n}\n[data-theme="light"] .list-item.selected[data-v-703cbee6] {\n  background: linear-gradient(135deg, rgba(219, 234, 254, 0.9) 0%, rgba(241, 245, 249, 0.95) 100%);\n  border-color: rgba(59, 130, 246, 0.4);\n}\n[data-theme="light"] .list-item[data-v-703cbee6]::before {\n  background: linear-gradient(180deg, rgba(59, 130, 246, 0.6), rgba(37, 99, 235, 0.4));\n}\n[data-theme="light"] .item-name[data-v-703cbee6] {\n  color: #1e293b;\n}\n[data-theme="light"] .list-item.selected .item-name[data-v-703cbee6] {\n  color: #1e40af;\n  text-shadow: none;\n}\n[data-theme="light"] .details-title[data-v-703cbee6],\n[data-theme="light"] .world-details h2[data-v-703cbee6] {\n  color: #2563eb;\n  text-shadow: none;\n}\n[data-theme="light"] .description-scroll p[data-v-703cbee6] {\n  color: #475569;\n}\n[data-theme="light"] .map-options[data-v-703cbee6] {\n  background: linear-gradient(135deg, rgba(241, 245, 249, 0.9) 0%, rgba(255, 255, 255, 0.8) 100%);\n  border-color: rgba(59, 130, 246, 0.2);\n}\n[data-theme="light"] .option-item input[data-v-703cbee6] {\n  background: rgba(255, 255, 255, 0.9);\n  border-color: rgba(59, 130, 246, 0.15);\n  color: #1e293b;\n}\n[data-theme="light"] .opt-btn[data-v-703cbee6] {\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.8) 100%);\n  border-color: rgba(59, 130, 246, 0.15);\n  color: #475569;\n}\n[data-theme="light"] .opt-btn[data-v-703cbee6]:hover {\n  background: linear-gradient(135deg, rgba(241, 245, 249, 1) 0%, rgba(255, 255, 255, 1) 100%);\n  border-color: rgba(59, 130, 246, 0.4);\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢ò‰∏ãÁöÑÁºñËæë/Âà†Èô§ÊåâÈíÆ */\n[data-theme="light"] .edit-btn[data-v-703cbee6],\n[data-theme="light"] .delete-btn[data-v-703cbee6] {\n  background: rgba(241, 245, 249, 0.8);\n  border: 1px solid rgba(59, 130, 246, 0.15);\n  color: #475569;\n}\n[data-theme="light"] .edit-btn[data-v-703cbee6]:hover {\n  color: #2563eb;\n  background: rgba(59, 130, 246, 0.1);\n  border-color: rgba(59, 130, 246, 0.3);\n}\n[data-theme="light"] .delete-btn[data-v-703cbee6]:hover {\n  color: #dc2626;\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.3);\n}\n.action-name[data-v-703cbee6] {\n  font-weight: 500;\n}\n\n/* ========== ÂìçÂ∫îÂºèÈÄÇÈÖç ========== */\n@media (max-width: 1024px) {\n.world-layout[data-v-703cbee6] {\n    grid-template-columns: 1fr 1.5fr;\n    gap: 1.2rem;\n}\n}\n@media (max-width: 640px) {\n.top-actions-container[data-v-703cbee6] {\n    flex-wrap: wrap;\n    justify-content: stretch;\n    gap: 0.5rem;\n}\n.top-actions-container .action-item[data-v-703cbee6] {\n    flex: 1 1 45%;\n    text-align: center;\n    min-width: 120px;\n}\n.continents-only-section[data-v-703cbee6] {\n    padding: 0.6rem;\n}\n.toggle-label[data-v-703cbee6] {\n    font-size: 0.85rem;\n}\n.toggle-hint[data-v-703cbee6] {\n    font-size: 0.72rem;\n    padding-left: 1.5rem;\n}\n.world-layout[data-v-703cbee6] {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n    height: 100%;\n    overflow: hidden;\n    padding: 0;\n}\n.left-panel[data-v-703cbee6] {\n    order: 1;\n    flex-shrink: 0;\n    max-height: 35vh;\n    overflow: hidden;\n}\n.details-container[data-v-703cbee6] {\n    order: 2;\n    flex: 1;\n    min-height: 0;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n.list-container[data-v-703cbee6] {\n    max-height: calc(35vh - 60px);\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n    scrollbar-width: thin;\n}\n.list-item[data-v-703cbee6],\n  .action-item[data-v-703cbee6] {\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n.map-options-grid[data-v-703cbee6] { grid-template-columns: 1fr;\n}\n.list-item[data-v-703cbee6] {\n    padding: 0.75rem 0.95rem;\n    font-size: 0.95rem;\n    margin-bottom: 0.45rem;\n}\n.action-item[data-v-703cbee6] {\n    padding: 0.7rem 1rem;\n    font-size: 0.9rem;\n}\n.details-container[data-v-703cbee6] {\n    padding: 1rem;\n}\n}\n@media (max-width: 480px) {\n.top-actions-container[data-v-703cbee6] {\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0.5rem;\n    gap: 0.45rem;\n}\n.top-actions-container .action-item[data-v-703cbee6] {\n    flex: 1 1 100%;\n    text-align: center;\n}\n.world-selection-container[data-v-703cbee6] {\n    padding: 0.3rem;\n    height: 100%;\n}\n.world-layout[data-v-703cbee6] {\n    gap: 0.5rem;\n}\n.left-panel[data-v-703cbee6] {\n    max-height: 32vh;\n}\n.list-container[data-v-703cbee6] {\n    max-height: calc(32vh - 100px);\n    padding: 0.4rem;\n}\n.list-item[data-v-703cbee6] {\n    padding: 0.65rem 0.85rem;\n    font-size: 0.9rem;\n    margin-bottom: 0.35rem;\n    border-radius: 8px;\n}\n.details-container[data-v-703cbee6] {\n    padding: 1rem;\n    border-radius: 12px;\n}\n.details-title[data-v-703cbee6] {\n    font-size: 1.3rem;\n    margin-bottom: 0.5rem;\n}\n.world-details .era[data-v-703cbee6] {\n    font-size: 0.9rem;\n    margin-bottom: 0.85rem;\n}\n.description-scroll[data-v-703cbee6] {\n    font-size: 0.9rem;\n    line-height: 1.6;\n    padding-right: 0.3rem;\n}\n.action-item[data-v-703cbee6] {\n    padding: 0.6rem;\n    font-size: 0.85rem;\n    border-radius: 8px;\n}\n.placeholder[data-v-703cbee6] {\n    font-size: 1rem;\n    padding: 1rem;\n    text-align: center;\n    min-height: 100px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n}\n@media (max-width: 360px) {\n.world-selection-container[data-v-703cbee6] {\n    padding: 0.25rem;\n}\n.world-layout[data-v-703cbee6] {\n    gap: 0.4rem;\n    padding: 0;\n}\n.left-panel[data-v-703cbee6] {\n    max-height: 28vh;\n}\n.list-container[data-v-703cbee6] {\n    max-height: 24vh;\n    padding: 0.3rem;\n}\n.list-item[data-v-703cbee6] {\n    padding: 0.55rem 0.7rem;\n    font-size: 0.85rem;\n    margin-bottom: 0.25rem;\n}\n.details-container[data-v-703cbee6] {\n    padding: 0.85rem;\n    min-height: 120px;\n}\n.details-title[data-v-703cbee6] {\n    font-size: 1.15rem;\n    margin-bottom: 0.4rem;\n}\n.world-details .era[data-v-703cbee6] {\n    font-size: 0.82rem;\n    margin-bottom: 0.65rem;\n}\n.description-scroll[data-v-703cbee6] {\n    font-size: 0.85rem;\n    line-height: 1.5;\n}\n.action-item[data-v-703cbee6] {\n    padding: 0.5rem;\n    font-size: 0.8rem;\n}\n.placeholder[data-v-703cbee6] {\n    font-size: 0.9rem;\n    padding: 0.8rem;\n}\n}\n',""]);const s=i},9132:(e,t,n)=>{"use strict";n.d(t,{A:()=>tn});var a=n(4061),r=n(5517),o=n(7677),i=n(5365),s=n(1783),l=n(3528),c=n(4270),d=n(3302),u=n(876);const m={class:"body"},p={class:"left"},g={class:"rule-list"},h=["onClick"],f={class:"rule-row"},v={class:"rule-mode"},b={class:"rule-pattern"},y={class:"rule-repl"},x={class:"right"},k={key:0,class:"editor"},w={class:"editor-row"},E={class:"editor-row"},N={class:"editor-row editor-row-vertical"},S={class:"editor-row editor-row-vertical"},_={key:0,class:"hint"},V={class:"options"},C={class:"opt"},A={class:"opt"},D=["disabled"],T=["disabled"],B={key:0,class:"error"},I={class:"editor-actions"},M=["disabled"],z=["disabled"],P=["disabled"],R={key:1,class:"empty"},$=(0,a.defineComponent)({__name:"TextReplaceRulesModal",props:{open:{type:Boolean},rules:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,r=t,o=(0,a.ref)([]),i=(0,a.ref)(0);(0,a.watch)(()=>n.open,e=>{if(!e)return;const t=Array.isArray(n.rules)?n.rules:[];o.value=JSON.parse(JSON.stringify(t)),0===o.value.length?i.value=0:i.value=Math.min(i.value,o.value.length-1)},{immediate:!0});const s=(0,a.computed)(()=>o.value[i.value]??null),l=()=>{o.value.push({id:`rule_${Date.now()}_${Math.random().toString(16).slice(2)}`,enabled:!0,mode:"regex",pattern:"",replacement:"",global:!0,ignoreCase:!1,multiline:!1,dotAll:!1}),i.value=o.value.length-1},c=()=>{0!==o.value.length&&(o.value.splice(i.value,1),i.value=Math.max(0,Math.min(i.value,o.value.length-1)))},d=()=>{if(i.value<=0)return;const e=i.value,[t]=o.value.splice(e,1);o.value.splice(e-1,0,t),i.value=e-1},u=()=>{if(i.value>=o.value.length-1)return;const e=i.value,[t]=o.value.splice(e,1);o.value.splice(e+1,0,t),i.value=e+1},$=(0,a.computed)(()=>{const e=s.value;if(!e)return null;if(!e.pattern?.trim())return null;if("regex"!==e.mode)return null;const t=(!1===e.global?"":"g")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.dotAll?"s":"");try{return new RegExp(e.pattern,t),null}catch(e){return`Ê≠£ÂàôÊó†ÊïàÔºö${e instanceof Error?e.message:String(e)}`}}),O=()=>r("close"),L=()=>{r("save",o.value),r("close")};return(e,t)=>e.open?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"overlay",onClick:(0,a.withModifiers)(O,["self"])},[(0,a.createElementVNode)("div",{class:"modal",onClick:t[8]||(t[8]=(0,a.withModifiers)(()=>{},["stop"]))},[(0,a.createElementVNode)("div",{class:"header"},[t[9]||(t[9]=(0,a.createElementVNode)("div",{class:"title"},[(0,a.createElementVNode)("h3",null,"Ê≠£ÂàôÊõøÊç¢ËßÑÂàô"),(0,a.createElementVNode)("p",{class:"subtitle"},"Áî®‰∫éÂØπ AI ËæìÂá∫ËøõË°åÊõøÊç¢Â§ÑÁêÜÔºàÂèØÁî®Ê≠£ÂàôÊàñÁ∫ØÊñáÊú¨Ôºâ")],-1)),(0,a.createElementVNode)("button",{class:"icon-btn",onClick:O,"aria-label":"ÂÖ≥Èó≠"},"√ó")]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("div",{class:"left-actions"},[(0,a.createElementVNode)("button",{class:"btn",onClick:l},"Êñ∞Â¢ûËßÑÂàô")]),(0,a.createElementVNode)("div",g,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.value,(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:e.id,class:(0,a.normalizeClass)(["rule-item",{active:t===i.value}]),onClick:e=>i.value=t},[(0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["rule-badge",{off:!e.enabled}])},(0,a.toDisplayString)(e.enabled?"ÂêØÁî®":"ÂÅúÁî®"),3),(0,a.createElementVNode)("span",v,(0,a.toDisplayString)("regex"===e.mode?"Ê≠£Âàô":"ÊñáÊú¨"),1)]),(0,a.createElementVNode)("div",b,(0,a.toDisplayString)(e.pattern||"ÔºàÊú™Â°´ÂÜôÂåπÈÖçÔºâ"),1),(0,a.createElementVNode)("div",y,(0,a.toDisplayString)(e.replacement||"ÔºàÊõøÊç¢‰∏∫Á©∫Ôºâ"),1)],10,h))),128))])]),(0,a.createElementVNode)("div",x,[s.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",k,[(0,a.createElementVNode)("div",w,[t[10]||(t[10]=(0,a.createElementVNode)("label",{class:"label"},"ÂêØÁî®",-1)),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.value.enabled=e)},null,512),[[a.vModelCheckbox,s.value.enabled]])]),(0,a.createElementVNode)("div",E,[t[12]||(t[12]=(0,a.createElementVNode)("label",{class:"label"},"ÂåπÈÖçÊ®°Âºè",-1)),(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.value.mode=e),class:"select"},t[11]||(t[11]=[(0,a.createElementVNode)("option",{value:"regex"},"Ê≠£Âàô",-1),(0,a.createElementVNode)("option",{value:"text"},"Á∫ØÊñáÊú¨",-1)]),512),[[a.vModelSelect,s.value.mode]])]),(0,a.createElementVNode)("div",N,[t[13]||(t[13]=(0,a.createElementVNode)("label",{class:"label"},"ÂåπÈÖçÂÜÖÂÆπ",-1)),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.value.pattern=e),class:"textarea",rows:"3",placeholder:"pattern Êàñ Á∫ØÊñáÊú¨"},null,512),[[a.vModelText,s.value.pattern]])]),(0,a.createElementVNode)("div",S,[t[15]||(t[15]=(0,a.createElementVNode)("label",{class:"label"},"ÊõøÊç¢‰∏∫",-1)),(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.value.replacement=e),class:"textarea",rows:"3",placeholder:"ÂèØ‰∏∫Á©∫ÔºàË°®Á§∫Âà†Èô§Ôºâ"},null,512),[[a.vModelText,s.value.replacement]]),"regex"===s.value.mode?((0,a.openBlock)(),(0,a.createElementBlock)("div",_,t[14]||(t[14]=[(0,a.createTextVNode)(" ÊîØÊåÅÊçïËé∑ÁªÑÔºö‰æãÂ¶ÇÁî® ",-1),(0,a.createElementVNode)("code",null,"$1",-1),(0,a.createTextVNode)(" ÂºïÁî®ÂàÜÁªÑ ",-1)]))):(0,a.createCommentVNode)("v-if",!0)]),(0,a.createElementVNode)("div",V,[(0,a.createElementVNode)("label",C,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>s.value.global=e)},null,512),[[a.vModelCheckbox,s.value.global]]),t[16]||(t[16]=(0,a.createTextVNode)(" ÂÖ®Â±ÄÔºàgÔºâ ",-1))]),(0,a.createElementVNode)("label",A,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>s.value.ignoreCase=e)},null,512),[[a.vModelCheckbox,s.value.ignoreCase]]),t[17]||(t[17]=(0,a.createTextVNode)(" ÂøΩÁï•Â§ßÂ∞èÂÜôÔºàiÔºâ ",-1))]),(0,a.createElementVNode)("label",{class:(0,a.normalizeClass)(["opt",{disabled:"regex"!==s.value.mode}])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=e=>s.value.multiline=e),disabled:"regex"!==s.value.mode},null,8,D),[[a.vModelCheckbox,s.value.multiline]]),t[18]||(t[18]=(0,a.createTextVNode)(" Â§öË°åÔºàmÔºâ ",-1))],2),(0,a.createElementVNode)("label",{class:(0,a.normalizeClass)(["opt",{disabled:"regex"!==s.value.mode}])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>s.value.dotAll=e),disabled:"regex"!==s.value.mode},null,8,T),[[a.vModelCheckbox,s.value.dotAll]]),t[19]||(t[19]=(0,a.createTextVNode)(" ÁÇπÂè∑ÂåπÈÖçÊç¢Ë°åÔºàsÔºâ ",-1))],2)]),$.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",B,(0,a.toDisplayString)($.value),1)):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",I,[(0,a.createElementVNode)("button",{class:"btn btn-secondary",disabled:i.value<=0,onClick:d},"‰∏äÁßª",8,M),(0,a.createElementVNode)("button",{class:"btn btn-secondary",disabled:i.value>=o.value.length-1,onClick:u},"‰∏ãÁßª",8,z),(0,a.createElementVNode)("button",{class:"btn btn-danger",disabled:0===o.value.length,onClick:c},"Âà†Èô§",8,P)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",R," ÊöÇÊó†ËßÑÂàôÔºåÁÇπÂáª‚ÄúÊñ∞Â¢ûËßÑÂàô‚ÄùÂºÄÂßãÈÖçÁΩÆ "))])]),(0,a.createElementVNode)("div",{class:"footer"},[(0,a.createElementVNode)("button",{class:"btn btn-secondary",onClick:O},"ÂèñÊ∂à"),(0,a.createElementVNode)("button",{class:"btn",onClick:L},"‰øùÂ≠ò")])])])):(0,a.createCommentVNode)("v-if",!0)}});var O=n(5072),L=n.n(O),F=n(7825),j=n.n(F),U=n(7659),q=n.n(U),G=n(5056),H=n.n(G),Y=n(540),W=n.n(Y),X=n(1113),J=n.n(X),K=n(1153),Z={};Z.styleTagTransform=J(),Z.setAttributes=H(),Z.insert=q().bind(null,"head"),Z.domAPI=j(),Z.insertStyleElement=W(),L()(K.A,Z),K.A&&K.A.locals&&K.A.locals;var Q=n(6262);const ee=(0,Q.A)($,[["__scopeId","data-v-a2196f8c"]]);var te=n(4582),ne=n(1184),ae=n(9173),re=n(7760),oe=n(3992);const ie={class:"settings-panel"},se={class:"panel-header"},le={class:"header-left"},ce={class:"header-info"},de={class:"panel-title"},ue={class:"settings-subtitle"},me={class:"header-actions"},pe={class:"btn-text"},ge={class:"btn-text"},he={class:"settings-container"},fe={class:"settings-section"},ve={class:"section-header"},be={class:"section-title"},ye={class:"settings-list"},xe={class:"setting-item"},ke={class:"setting-info"},we={class:"setting-name"},Ee={class:"setting-desc"},Ne={class:"setting-control"},Se={class:"range-container"},_e={class:"range-value"},Ve={class:"setting-item"},Ce={class:"setting-info"},Ae={class:"setting-name"},De={class:"setting-desc"},Te={class:"setting-control"},Be={class:"range-container"},Ie={class:"range-value"},Me={class:"setting-item"},ze={class:"setting-info"},Pe={class:"setting-name"},Re={class:"setting-desc"},$e={class:"setting-control"},Oe={class:"setting-switch"},Le={class:"settings-section"},Fe={class:"section-header"},je={class:"section-title"},Ue={class:"settings-list"},qe={key:0,class:"setting-item setting-item-full"},Ge={class:"setting-info"},He={class:"setting-name"},Ye={class:"setting-desc"},We={class:"setting-control-full",style:{display:"flex",gap:"0.5rem"}},Xe=["placeholder"],Je=["disabled"],Ke={class:"setting-item"},Ze={class:"setting-info"},Qe={class:"setting-name"},et={class:"setting-desc"},tt={class:"setting-control"},nt={class:"setting-switch"},at={class:"setting-item setting-item-full"},rt={class:"setting-info"},ot={class:"setting-name"},it={class:"setting-desc"},st={class:"setting-control-full"},lt=["placeholder"],ct={class:"settings-section"},dt={class:"section-header"},ut={class:"section-title"},mt={class:"settings-list"},pt={class:"setting-item"},gt={class:"setting-info"},ht={class:"setting-name"},ft={class:"setting-desc"},vt={class:"setting-control"},bt={class:"setting-switch"},yt={key:0,class:"setting-item"},xt={class:"setting-info"},kt={class:"setting-name"},wt={class:"setting-desc"},Et={class:"setting-control"},Nt={class:"setting-switch"},St={key:1,class:"setting-item"},_t={class:"setting-info"},Vt={class:"setting-name"},Ct={class:"setting-desc"},At={class:"setting-control"},Dt={class:"setting-switch"},Tt={class:"setting-item"},Bt={class:"setting-info"},It={class:"setting-name"},Mt={class:"setting-desc"},zt={class:"setting-control"},Pt={key:0},Rt={class:"setting-item"},$t={class:"setting-info"},Ot={class:"setting-name"},Lt={class:"setting-desc"},Ft={class:"setting-control"},jt={class:"setting-item"},Ut={class:"setting-info"},qt={class:"setting-name"},Gt={class:"setting-desc"},Ht={class:"setting-control"},Yt={class:"setting-item"},Wt={class:"setting-info"},Xt={class:"setting-name"},Jt={class:"setting-desc"},Kt={class:"setting-control"},Zt=(0,a.defineComponent)({__name:"SettingsPanel",setup(e){const{t,setLanguage:n,currentLanguage:m}=(0,u.s)(),p=(0,te.useCharacterStore)(),g=(0,ne.useGameStateStore)(),h=(0,ae.useUIStore)(),f=(0,a.ref)(""),v=(0,a.computed)(()=>g.character?.ÂêçÂ≠ó||""),b=async()=>{if(f.value&&f.value!==v.value)try{g.character&&(g.character.ÂêçÂ≠ó=f.value);const e=p.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£?.Â≠òÊ°£ÊßΩ‰Ωç;e&&await p.saveToSlot(e),c.o.success(`Áî®Êà∑ÂêçÂ∑≤‰øÆÊîπ‰∏∫„Äå${f.value}„Äç`),f.value=""}catch(e){console.error("‰øÆÊîπÁî®Êà∑ÂêçÂ§±Ë¥•:",e),c.o.error("‰øÆÊîπÁî®Êà∑ÂêçÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}},y=(0,a.reactive)({theme:"auto",uiScale:100,fontSize:16,fastAnimations:!1,splitResponseGeneration:!1,enableNsfwMode:!0,nsfwGenderFilter:"female",debugMode:!1,consoleDebug:!1,performanceMonitor:!1,replaceRules:[]}),x=(0,a.ref)(!1),k=(0,a.ref)(!1),w=(0,a.ref)(!1),E=(0,a.computed)(()=>{const e=y.replaceRules;return Array.isArray(e)?e.filter(e=>e&&e.enabled).length:0}),N=e=>Array.isArray(e)?e.slice(0,50).map((e,t)=>({id:"string"==typeof e?.id?e.id.slice(0,80):`rule_${t}`,enabled:!1!==e?.enabled,mode:"text"===e?.mode?"text":"regex",pattern:"string"==typeof e?.pattern?e.pattern.slice(0,500):"",replacement:"string"==typeof e?.replacement?e.replacement.slice(0,1500):"",ignoreCase:!!e?.ignoreCase,global:!1!==e?.global,multiline:!!e?.multiline,dotAll:!!e?.dotAll})):[],S=e=>{const t=N(e);y.replaceRules=t,(e=>{try{const t=localStorage.getItem("dad_game_settings"),n=t?JSON.parse(t):{},a={...n&&"object"==typeof n&&!Array.isArray(n)?n:{},replaceRules:e};localStorage.setItem("dad_game_settings",JSON.stringify(a))}catch{}})(t),_()};(0,a.watch)(y,()=>{k.value=!0},{deep:!0}),(0,a.watch)(()=>y.debugMode,e=>{d.Yz.setMode(e),d.Yz.log("ËÆæÁΩÆÈù¢Êùø","Ë∞ÉËØïÊ®°Âºè"+(e?"Â∑≤ÂêØÁî®":"Â∑≤Á¶ÅÁî®"))});const _=()=>{k.value=!0},V=async()=>{if(!x.value){x.value=!0,d.Yz.timeStart("‰øùÂ≠òËÆæÁΩÆ");try{C(),localStorage.setItem("dad_game_settings",JSON.stringify(y)),d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ËÆæÁΩÆÂ∑≤‰øùÂ≠òÂà∞localStorage",y),await A(),k.value=!1,c.o.success("ËÆæÁΩÆÂ∑≤‰øùÂ≠òÂπ∂Â∫îÁî®")}catch(e){d.Yz.error("ËÆæÁΩÆÈù¢Êùø","‰øùÂ≠òËÆæÁΩÆÂ§±Ë¥•",e),c.o.error(`‰øùÂ≠òËÆæÁΩÆÂ§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}finally{x.value=!1,d.Yz.timeEnd("‰øùÂ≠òËÆæÁΩÆ")}}},C=()=>{d.Yz.group("ËÆæÁΩÆÈ™åËØÅ");try{(y.uiScale<50||y.uiScale>200)&&(y.uiScale=Math.max(50,Math.min(200,y.uiScale)),d.Yz.warn("ËÆæÁΩÆÈù¢Êùø",`UIÁº©ÊîæÂÄºÂ∑≤‰øÆÊ≠£‰∏∫: ${y.uiScale}%`)),"boolean"!=typeof y.splitResponseGeneration&&(y.splitResponseGeneration=!1);const e=y.replaceRules;y.replaceRules=N(e),d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ËÆæÁΩÆÈ™åËØÅÂÆåÊàê")}catch(e){throw d.Yz.error("ËÆæÁΩÆÈù¢Êùø","ËÆæÁΩÆÈ™åËØÅÂ§±Ë¥•",e),new Error("ËÆæÁΩÆÈ™åËØÅÂ§±Ë¥•")}finally{d.Yz.groupEnd()}},A=async()=>{d.Yz.group("Â∫îÁî®ËÆæÁΩÆ");try{D(),T(),B(),I(),d.Yz.setMode(y.debugMode),d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ÊâÄÊúâËÆæÁΩÆÂ∑≤Â∫îÁî®")}catch(e){throw d.Yz.error("ËÆæÁΩÆÈù¢Êùø","Â∫îÁî®ËÆæÁΩÆÊó∂Âá∫Èîô",e),e}finally{d.Yz.groupEnd()}},D=()=>{let e=y.theme;"auto"===y.theme&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme",e),d.Yz.log("ËÆæÁΩÆÈù¢Êùø",`‰∏ªÈ¢òÂ∑≤Â∫îÁî®: ${e}`)},T=()=>{const e=y.uiScale/100;document.documentElement.style.setProperty("--ui-scale",e.toString()),d.Yz.log("ËÆæÁΩÆÈù¢Êùø",`UIÁº©ÊîæÂ∑≤Â∫îÁî®: ${y.uiScale}%`)},B=()=>{const e=`${y.fontSize}px`;document.documentElement.style.setProperty("--base-font-size",e),d.Yz.log("ËÆæÁΩÆÈù¢Êùø",`Â≠ó‰ΩìÂ§ßÂ∞èÂ∑≤Â∫îÁî®: ${e}`)},I=()=>{const e=y.fastAnimations?.12:.2;document.documentElement.style.setProperty("--transition-fast",`all ${e}s ease-in-out`),d.Yz.log("ËÆæÁΩÆÈù¢Êùø",`Âä®ÁîªÈÄüÂ∫¶Â∑≤Â∫îÁî®: ${e}s`)},M=()=>{h.showRetryDialog({title:"ÈáçÁΩÆËÆæÁΩÆ",message:"Á°ÆÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâËÆæÁΩÆ‰∏∫ÈªòËÆ§ÂÄºÂêóÔºüËøôÂ∞ÜÊ∏ÖÈô§ÊâÄÊúâËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇ",confirmText:"Á°ÆËÆ§ÈáçÁΩÆ",cancelText:"ÂèñÊ∂à",onConfirm:()=>{d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ÂºÄÂßãÈáçÁΩÆËÆæÁΩÆ"),Object.assign(y,{theme:"auto",uiScale:100,fontSize:16,fastAnimations:!1,splitResponseGeneration:!1,debugMode:!1,consoleDebug:!1,performanceMonitor:!1}),V(),c.o.info("ËÆæÁΩÆÂ∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ÂÄº")},onCancel:()=>{}})},z=async()=>{h.showRetryDialog({title:"Ê∏ÖÁêÜÁºìÂ≠ò",message:"Á°ÆÂÆöË¶ÅÊ∏ÖÁêÜÁºìÂ≠òÂêóÔºüËøôÂ∞ÜÂà†Èô§‰∏¥Êó∂Êï∞ÊçÆ‰ΩÜ‰∏ç‰ºöÂΩ±ÂìçÂ≠òÊ°£„ÄÇ",confirmText:"Á°ÆËÆ§Ê∏ÖÁêÜ",cancelText:"ÂèñÊ∂à",onConfirm:async()=>{d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ÂºÄÂßãÊ∏ÖÁêÜÁºìÂ≠ò");try{const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&(n.startsWith("dad_cache_")||n.startsWith("temp_")||n.startsWith("debug_")||n.includes("_temp"))&&e.push(n)}e.forEach(e=>localStorage.removeItem(e)),sessionStorage.clear(),d.Yz.log("ËÆæÁΩÆÈù¢Êùø",`ÁºìÂ≠òÊ∏ÖÁêÜÂÆåÊàêÔºåÂÖ±Ê∏ÖÁêÜ ${e.length} È°πÊï∞ÊçÆ`),c.o.success(`Â∑≤Ê∏ÖÁêÜ ${e.length} È°πÁºìÂ≠òÊï∞ÊçÆ`)}catch(e){d.Yz.error("ËÆæÁΩÆÈù¢Êùø","Ê∏ÖÁêÜÁºìÂ≠òÂ§±Ë¥•",e),c.o.error("Ê∏ÖÁêÜÁºìÂ≠òÂ§±Ë¥•")}},onCancel:()=>{}})},P=()=>{d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ÂºÄÂßãÂØºÂá∫ËÆæÁΩÆ");try{const e={settings:y,exportInfo:{timestamp:(new Date).toISOString(),version:"3.7.4",userAgent:navigator.userAgent,gameVersion:"Ë∂ÖÂá°Êñ∞Áîü v3.7.4"}},t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),a=document.createElement("a");a.href=URL.createObjectURL(n);const r=(new Date).toISOString().split("T")[0];a.download=`Ë∂ÖÂá°Êñ∞Áîü-ËÆæÁΩÆÂ§á‰ªΩ-${r}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href),d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ËÆæÁΩÆÂØºÂá∫ÊàêÂäü"),c.o.success("ËÆæÁΩÆÂ∑≤ÂØºÂá∫")}catch(e){d.Yz.error("ËÆæÁΩÆÈù¢Êùø","ÂØºÂá∫ËÆæÁΩÆÂ§±Ë¥•",e),c.o.error("ÂØºÂá∫ËÆæÁΩÆÂ§±Ë¥•")}},R=()=>{d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ÂºÄÂßãÂØºÂÖ•ËÆæÁΩÆ");const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const t=e.target.files?.[0];if(t)try{const e=await t.text(),n=JSON.parse(e),a=(0,re.ZT)(n);let r=null;if("settings"===a.type?r=a.payload:n.settings?r=n.settings:null===a.type&&"object"==typeof a.payload&&(r=a.payload),!r||"object"!=typeof r)throw new Error("Êó†ÊïàÁöÑËÆæÁΩÆÊñá‰ª∂Ê†ºÂºè");const o={...y,...r};Object.assign(y,o),await V(),d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ËÆæÁΩÆÂØºÂÖ•ÊàêÂäü",r),c.o.success("ËÆæÁΩÆÂØºÂÖ•ÊàêÂäüÂπ∂Â∑≤Â∫îÁî®")}catch(e){d.Yz.error("ËÆæÁΩÆÈù¢Êùø","ÂØºÂÖ•ËÆæÁΩÆÂ§±Ë¥•",e),c.o.error(`ÂØºÂÖ•ËÆæÁΩÆÂ§±Ë¥•: ${e instanceof Error?e.message:"ËØ∑Ê£ÄÊü•Êñá‰ª∂Ê†ºÂºè"}`)}},e.click()};return(0,oe.useRouter)(),(0,a.onMounted)(()=>{d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ÁªÑ‰ª∂Â∑≤Âä†ËΩΩ"),(async()=>{d.Yz.timeStart("Âä†ËΩΩËÆæÁΩÆ");try{const e=localStorage.getItem("dad_game_settings");if(e){const t=JSON.parse(e);Object.assign(y,t),d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ËÆæÁΩÆÂä†ËΩΩÊàêÂäü",t)}else d.Yz.log("ËÆæÁΩÆÈù¢Êùø","‰ΩøÁî®ÈªòËÆ§ËÆæÁΩÆ")}catch(e){d.Yz.error("ËÆæÁΩÆÈù¢Êùø","Âä†ËΩΩËÆæÁΩÆÂ§±Ë¥•",e),c.o.error("Âä†ËΩΩËÆæÁΩÆÂ§±Ë¥•ÔºåÂ∞Ü‰ΩøÁî®ÈªòËÆ§ËÆæÁΩÆ")}finally{d.Yz.timeEnd("Âä†ËΩΩËÆæÁΩÆ")}})(),d.Yz.log("ËÆæÁΩÆÈù¢Êùø","ÂêëÈáèËÆ∞ÂøÜÈÖçÁΩÆÂä†ËΩΩÔºàÂäüËÉΩÂæÖÂÆûÁé∞Ôºâ")}),(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",ie,[(0,a.createCommentVNode)(" Â§¥ÈÉ® "),(0,a.createElementVNode)("div",se,[(0,a.createElementVNode)("div",le,[(0,a.createElementVNode)("div",ce,[(0,a.createElementVNode)("h3",de,(0,a.toDisplayString)((0,a.unref)(t)("Ê∏∏ÊàèËÆæÁΩÆ")),1),(0,a.createElementVNode)("span",ue,(0,a.toDisplayString)((0,a.unref)(t)("Ëá™ÂÆö‰πâÊÇ®ÁöÑÊ∏∏Êàè‰ΩìÈ™å")),1)])]),(0,a.createElementVNode)("div",me,[(0,a.createElementVNode)("button",{class:"action-btn",onClick:M},[(0,a.createVNode)((0,a.unref)(r.A),{size:16}),(0,a.createElementVNode)("span",pe,(0,a.toDisplayString)((0,a.unref)(t)("ÈáçÁΩÆ")),1)]),(0,a.createElementVNode)("button",{class:"action-btn primary",onClick:V},[(0,a.createVNode)((0,a.unref)(o.A),{size:16}),(0,a.createElementVNode)("span",ge,(0,a.toDisplayString)((0,a.unref)(t)("‰øùÂ≠ò")),1)])])]),(0,a.createCommentVNode)(" ËÆæÁΩÆÂÜÖÂÆπ "),(0,a.createElementVNode)("div",he,[(0,a.createCommentVNode)(" ÊòæÁ§∫ËÆæÁΩÆ "),(0,a.createElementVNode)("div",fe,[(0,a.createElementVNode)("div",ve,[(0,a.createElementVNode)("h4",be,(0,a.toDisplayString)((0,a.unref)(t)("ÊòæÁ§∫ËÆæÁΩÆ")),1)]),(0,a.createElementVNode)("div",ye,[(0,a.createElementVNode)("div",xe,[(0,a.createElementVNode)("div",ke,[(0,a.createElementVNode)("label",we,(0,a.toDisplayString)((0,a.unref)(t)("ÁïåÈù¢Áº©Êîæ")),1),(0,a.createElementVNode)("span",Ee,(0,a.toDisplayString)((0,a.unref)(t)("Ë∞ÉÊï¥UIÁïåÈù¢Â§ßÂ∞è")),1)]),(0,a.createElementVNode)("div",Ne,[(0,a.createElementVNode)("div",Se,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"range","onUpdate:modelValue":n[0]||(n[0]=e=>y.uiScale=e),min:"80",max:"120",step:"5",class:"setting-range",onInput:T},null,544),[[a.vModelText,y.uiScale,void 0,{number:!0}]]),(0,a.createElementVNode)("span",_e,(0,a.toDisplayString)(y.uiScale)+"%",1)])])]),(0,a.createElementVNode)("div",Ve,[(0,a.createElementVNode)("div",Ce,[(0,a.createElementVNode)("label",Ae,(0,a.toDisplayString)((0,a.unref)(t)("ÊñáÂ≠óÂ§ßÂ∞è")),1),(0,a.createElementVNode)("span",De,(0,a.toDisplayString)((0,a.unref)(t)("Ë∞ÉÊï¥Ê∏∏ÊàèÊñáÂ≠óÊòæÁ§∫Â§ßÂ∞èÔºàÂÉèÁ¥†Ôºâ")),1)]),(0,a.createElementVNode)("div",Te,[(0,a.createElementVNode)("div",Be,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"range","onUpdate:modelValue":n[1]||(n[1]=e=>y.fontSize=e),min:"12",max:"24",step:"1",class:"setting-range",onInput:B},null,544),[[a.vModelText,y.fontSize,void 0,{number:!0}]]),(0,a.createElementVNode)("span",Ie,(0,a.toDisplayString)(y.fontSize)+"px",1)])])]),(0,a.createElementVNode)("div",Me,[(0,a.createElementVNode)("div",ze,[(0,a.createElementVNode)("label",Pe,(0,a.toDisplayString)((0,a.unref)(t)("Âø´ÈÄüÂä®Áîª")),1),(0,a.createElementVNode)("span",Re,(0,a.toDisplayString)((0,a.unref)(t)("Âä†ÈÄüÁïåÈù¢Âä®ÁîªÂíåËøáÊ∏°ÊïàÊûú")),1)]),(0,a.createElementVNode)("div",$e,[(0,a.createElementVNode)("label",Oe,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=e=>y.fastAnimations=e),onChange:n[3]||(n[3]=e=>{I(),_()})},null,544),[[a.vModelCheckbox,y.fastAnimations]]),n[12]||(n[12]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])])]),(0,a.createCommentVNode)(" Ê∏∏ÊàèÂäüËÉΩ "),(0,a.createElementVNode)("div",Le,[(0,a.createElementVNode)("div",Fe,[(0,a.createElementVNode)("h4",je,(0,a.toDisplayString)((0,a.unref)(t)("Ê∏∏ÊàèËèúÂçï")),1)]),(0,a.createElementVNode)("div",Ue,[(0,a.createCommentVNode)(" Áî®Êà∑Âêç‰øÆÊîπ "),v.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",qe,[(0,a.createElementVNode)("div",Ge,[(0,a.createElementVNode)("label",He,(0,a.toDisplayString)((0,a.unref)(t)("‰øÆÊîπÁî®Êà∑Âêç")),1),(0,a.createElementVNode)("span",Ye,(0,a.toDisplayString)((0,a.unref)(t)("‰øÆÊîπÂΩìÂâçËßíËâ≤ÁöÑÂêçÂ≠ó")),1)]),(0,a.createElementVNode)("div",We,[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>f.value=e),class:"form-input-inline",placeholder:v.value,style:{flex:"1"}},null,8,Xe),[[a.vModelText,f.value]]),(0,a.createElementVNode)("button",{class:"utility-btn primary",onClick:b,disabled:!f.value||f.value===v.value},[(0,a.createVNode)((0,a.unref)(o.A),{size:16}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)((0,a.unref)(t)("Á°ÆËÆ§")),1)],8,Je)])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",Ke,[(0,a.createElementVNode)("div",Ze,[(0,a.createElementVNode)("label",Qe,(0,a.toDisplayString)((0,a.unref)(t)("Ë°åÂä®ÈÄâÈ°π")),1),(0,a.createElementVNode)("span",et,(0,a.toDisplayString)((0,a.unref)(t)("AIÁîüÊàêÂèØÈÄâÁöÑË°åÂä®Âª∫ËÆÆ")),1)]),(0,a.createElementVNode)("div",tt,[(0,a.createElementVNode)("label",nt,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[5]||(n[5]=e=>(0,a.unref)(h).enableActionOptions=e)},null,512),[[a.vModelCheckbox,(0,a.unref)(h).enableActionOptions]]),n[13]||(n[13]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),(0,a.createElementVNode)("div",at,[(0,a.createElementVNode)("div",rt,[(0,a.createElementVNode)("label",ot,(0,a.toDisplayString)((0,a.unref)(t)("Ëá™ÂÆö‰πâË°åÂä®ÈÄâÈ°πÊèêÁ§∫ËØç")),1),(0,a.createElementVNode)("span",it,(0,a.toDisplayString)((0,a.unref)(t)("ÊåáÂØºAIÁîüÊàêÁâπÂÆöÈ£éÊ†ºÁöÑË°åÂä®ÈÄâÈ°πÔºàÂèØÈÄâÔºåÁïôÁ©∫‰ΩøÁî®ÈªòËÆ§Ôºâ")),1)]),(0,a.createElementVNode)("div",st,[(0,a.withDirectives)((0,a.createElementVNode)("textarea",{"onUpdate:modelValue":n[6]||(n[6]=e=>(0,a.unref)(h).actionOptionsPrompt=e),class:"setting-textarea",placeholder:(0,a.unref)(t)("‰æãÂ¶ÇÔºöÂ§öÁîüÊàêÊé¢Á¥¢Á±ªÈÄâÈ°πÔºåÂáèÂ∞ëÊàòÊñóÈÄâÈ°π..."),rows:"3"},null,8,lt),[[a.vModelText,(0,a.unref)(h).actionOptionsPrompt]])])])])]),(0,a.createCommentVNode)(" È´òÁ∫ßËÆæÁΩÆ "),(0,a.createElementVNode)("div",ct,[(0,a.createElementVNode)("div",dt,[(0,a.createElementVNode)("h4",ut,(0,a.toDisplayString)((0,a.unref)(t)("È´òÁ∫ßËÆæÁΩÆ")),1)]),(0,a.createElementVNode)("div",mt,[(0,a.createElementVNode)("div",pt,[(0,a.createElementVNode)("div",gt,[(0,a.createElementVNode)("label",ht,(0,a.toDisplayString)((0,a.unref)(t)("Ë∞ÉËØïÊ®°Âºè")),1),(0,a.createElementVNode)("span",ft,(0,a.toDisplayString)((0,a.unref)(t)("ÂêØÁî®ÂºÄÂèëËÄÖË∞ÉËØï‰ø°ÊÅØÂíåËØ¶ÁªÜÊó•Âøó")),1)]),(0,a.createElementVNode)("div",vt,[(0,a.createElementVNode)("label",bt,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[7]||(n[7]=e=>y.debugMode=e),onChange:_},null,544),[[a.vModelCheckbox,y.debugMode]]),n[14]||(n[14]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])]),y.debugMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",yt,[(0,a.createElementVNode)("div",xt,[(0,a.createElementVNode)("label",kt,(0,a.toDisplayString)((0,a.unref)(t)("ÊéßÂà∂Âè∞Ë∞ÉËØï")),1),(0,a.createElementVNode)("span",wt,(0,a.toDisplayString)((0,a.unref)(t)("Âú®ÊµèËßàÂô®ÊéßÂà∂Âè∞ÊòæÁ§∫ËØ¶ÁªÜË∞ÉËØï‰ø°ÊÅØ")),1)]),(0,a.createElementVNode)("div",Et,[(0,a.createElementVNode)("label",Nt,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[8]||(n[8]=e=>y.consoleDebug=e),onChange:_},null,544),[[a.vModelCheckbox,y.consoleDebug]]),n[15]||(n[15]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])):(0,a.createCommentVNode)("v-if",!0),y.debugMode?((0,a.openBlock)(),(0,a.createElementBlock)("div",St,[(0,a.createElementVNode)("div",_t,[(0,a.createElementVNode)("label",Vt,(0,a.toDisplayString)((0,a.unref)(t)("ÊÄßËÉΩÁõëÊéß")),1),(0,a.createElementVNode)("span",Ct,(0,a.toDisplayString)((0,a.unref)(t)("ÁõëÊéßÁªÑ‰ª∂ÊÄßËÉΩÂíåÂä†ËΩΩÊó∂Èó¥")),1)]),(0,a.createElementVNode)("div",At,[(0,a.createElementVNode)("label",Dt,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[9]||(n[9]=e=>y.performanceMonitor=e),onChange:_},null,544),[[a.vModelCheckbox,y.performanceMonitor]]),n[16]||(n[16]=(0,a.createElementVNode)("span",{class:"switch-slider"},null,-1))])])])):(0,a.createCommentVNode)("v-if",!0),(0,a.createElementVNode)("div",Tt,[(0,a.createElementVNode)("div",Bt,[(0,a.createElementVNode)("label",It,(0,a.toDisplayString)((0,a.unref)(t)("Ê≠£ÂàôÊõøÊç¢ËßÑÂàô")),1),(0,a.createElementVNode)("span",Mt,(0,a.toDisplayString)((0,a.unref)(t)("ÂØπAIËæìÂá∫ËøõË°åÊõøÊç¢ÔºöÊ≠£Âàô / Á∫ØÊñáÊú¨ÔºàÁî®‰∫éÊ†ºÂºè‰øÆÊ≠£„ÄÅÂ±èËîΩËØçÊõøÊç¢Á≠âÔºâ")),1)]),(0,a.createElementVNode)("div",zt,[(0,a.createElementVNode)("button",{class:"utility-btn",onClick:n[10]||(n[10]=e=>w.value=!0)},[(0,a.createTextVNode)((0,a.toDisplayString)((0,a.unref)(t)("ÁºñËæëËßÑÂàô"))+" ",1),E.value>0?((0,a.openBlock)(),(0,a.createElementBlock)("span",Pt,"("+(0,a.toDisplayString)(E.value)+")",1)):(0,a.createCommentVNode)("v-if",!0)])])]),(0,a.createVNode)(ee,{open:w.value,rules:y.replaceRules,onClose:n[11]||(n[11]=e=>w.value=!1),onSave:S},null,8,["open","rules"]),(0,a.createElementVNode)("div",Rt,[(0,a.createElementVNode)("div",$t,[(0,a.createElementVNode)("label",Ot,(0,a.toDisplayString)((0,a.unref)(t)("ÂØºÂÖ•ËÆæÁΩÆ")),1),(0,a.createElementVNode)("span",Lt,(0,a.toDisplayString)((0,a.unref)(t)("‰ªéÊñá‰ª∂ÊÅ¢Â§çËÆæÁΩÆÈÖçÁΩÆ")),1)]),(0,a.createElementVNode)("div",Ft,[(0,a.createElementVNode)("button",{class:"utility-btn",onClick:R},[(0,a.createVNode)((0,a.unref)(i.A),{size:16}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)((0,a.unref)(t)("ÂØºÂÖ•")),1)])])]),(0,a.createElementVNode)("div",jt,[(0,a.createElementVNode)("div",Ut,[(0,a.createElementVNode)("label",qt,(0,a.toDisplayString)((0,a.unref)(t)("Ê∏ÖÁêÜÁºìÂ≠ò")),1),(0,a.createElementVNode)("span",Gt,(0,a.toDisplayString)((0,a.unref)(t)("Ê∏ÖÈô§Ê∏∏Êàè‰∏¥Êó∂Êï∞ÊçÆÂíåÁºìÂ≠ò")),1)]),(0,a.createElementVNode)("div",Ht,[(0,a.createElementVNode)("button",{class:"utility-btn",onClick:z},[(0,a.createVNode)((0,a.unref)(s.A),{size:16}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)((0,a.unref)(t)("Ê∏ÖÁêÜ")),1)])])]),(0,a.createElementVNode)("div",Yt,[(0,a.createElementVNode)("div",Wt,[(0,a.createElementVNode)("label",Xt,(0,a.toDisplayString)((0,a.unref)(t)("ÂØºÂá∫ËÆæÁΩÆ")),1),(0,a.createElementVNode)("span",Jt,(0,a.toDisplayString)((0,a.unref)(t)("Â§á‰ªΩÂΩìÂâçËÆæÁΩÆÈÖçÁΩÆ")),1)]),(0,a.createElementVNode)("div",Kt,[(0,a.createElementVNode)("button",{class:"utility-btn",onClick:P},[(0,a.createVNode)((0,a.unref)(l.A),{size:16}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)((0,a.unref)(t)("ÂØºÂá∫")),1)])])])])])])]))}});var Qt=n(7667),en={};en.styleTagTransform=J(),en.setAttributes=H(),en.insert=q().bind(null,"head"),en.domAPI=j(),en.insertStyleElement=W(),L()(Qt.A,en),Qt.A&&Qt.A.locals&&Qt.A.locals;const tn=(0,Q.A)(Zt,[["__scopeId","data-v-727bd625"]])},9173:(e,t,n)=>{"use strict";n.d(t,{useUIStore:()=>s});var a=n(810),r=n(4061),o=n(9207),i=n(8546);const s=(0,a.nY)("ui",()=>{const e=(0,r.ref)(!1),t=(0,r.ref)(""),n=(0,r.ref)({}),a=(0,r.ref)(!1),s=(0,r.ref)(""),l=(0,r.ref)(!1),c=(0,r.ref)(""),d=(0,r.ref)(""),u=(0,r.ref)(null),m=(0,r.ref)(null),p=(0,r.ref)(!1),g=(0,r.ref)(null),h=(0,r.ref)(!1),f=(0,r.ref)(!1),v=(0,r.ref)(!1),b=(0,r.ref)(""),y=(0,r.ref)(""),x=(0,r.shallowRef)(null),k=(0,r.ref)(null),w=(0,r.ref)(""),E=(0,r.ref)(!1),N=(0,r.ref)([]),S=(0,r.ref)(null),_=(0,r.ref)("creation"),V=(0,r.ref)(!1),C=(0,r.ref)(null),A=(0,r.ref)(null),D=(0,r.ref)(""),T=(0,r.ref)(!0),B=(0,r.ref)(3),I=(0,r.ref)("false"!==localStorage.getItem("enableActionOptions")),M=(0,r.ref)(localStorage.getItem("actionOptionsPrompt")||""),z=(0,r.ref)("false"!==localStorage.getItem("useStreaming")),P=(0,r.ref)("true"===localStorage.getItem("useSystemCot")),R=(0,r.ref)({configured:(0,i.isBackendConfigured)(),connected:!1,lastChecked:0}),$=(0,r.computed)(()=>R.value.configured&&R.value.connected),O=(0,r.computed)(()=>R.value.configured);function L(){p.value=!1,g.value=null,h.value&&(a.value=!0,h.value=!1)}function F(){E.value=!1,N.value=[],S.value=null}return{showToastState:e,toastMessage:t,toastOptions:n,showToast:function(a,r={}){t.value=a,n.value={type:r.type||"info",duration:r.duration||3e3},e.value=!0},hideToast:function(){e.value=!1},isLoading:a,loadingText:s,isAIProcessing:l,streamingContent:c,currentGenerationId:u,streamingTimestamp:m,setStreamingContent:function(e){d.value=e,c.value=(0,o.E)(e)},appendStreamingContent:function(e){d.value+=e,c.value=(0,o.E)(d.value)},clearStreamingContent:function(){c.value="",d.value=""},setCurrentGenerationId:function(e){u.value=e},startStreaming:function(e){u.value=e,c.value="",d.value="",m.value=Date.now(),l.value=!0},stopStreaming:function(){u.value=null,m.value=null,l.value=!1},resetStreamingState:function(){c.value="",d.value="",u.value=null,m.value=null,l.value=!1,sessionStorage.removeItem("ai-processing-state"),sessionStorage.removeItem("ai-processing-timestamp")},showRetryDialogState:p,retryDialogConfig:g,startLoading:function(e="Ê≠£Âú®Âä†ËΩΩ..."){a.value=!0,s.value=e},stopLoading:function(){a.value=!1,s.value=""},setAIProcessing:function(e){l.value=e,e?(sessionStorage.setItem("ai-processing-state","true"),sessionStorage.setItem("ai-processing-timestamp",Date.now().toString())):(sessionStorage.removeItem("ai-processing-state"),sessionStorage.removeItem("ai-processing-timestamp"))},updateLoadingText:function(e){a.value&&(s.value=e)},showRetryDialog:function(e){h.value=a.value,a.value&&(a.value=!1),g.value=e,p.value=!0},hideRetryDialog:L,confirmRetry:function(){g.value&&(g.value.onConfirm(),L())},cancelRetry:function(){g.value&&(g.value.onCancel(),L())},neutralAction:function(){g.value&&g.value.onNeutral&&(g.value.onNeutral(),L())},showCharacterManagement:f,openCharacterManagement:function(){f.value=!0},closeCharacterManagement:function(){f.value=!1},showDataValidationError:E,dataValidationErrorMessages:N,dataValidationContext:_,showDataValidationErrorDialog:function(e,t,n="creation"){N.value=e,S.value=t,_.value=n,E.value=!0},hideDataValidationErrorDialog:F,confirmDataValidationError:function(){S.value&&S.value(),F()},showStateChangeViewer:V,stateChangeLogToShow:C,currentMessageStateChanges:A,openStateChangeViewer:function(e){C.value=e,V.value=!0},closeStateChangeViewer:function(){V.value=!1,C.value=null},setCurrentMessageStateChanges:function(e){A.value=e?{...e,_ts:Date.now()}:null},clearCurrentMessageStateChanges:function(){A.value=null},autoGenerateNpc:T,minNpcCount:B,enableActionOptions:(0,r.computed)({get:()=>I.value,set:e=>{I.value=e,localStorage.setItem("enableActionOptions",String(e))}}),actionOptionsPrompt:(0,r.computed)({get:()=>M.value,set:e=>{M.value=e,localStorage.setItem("actionOptionsPrompt",e)}}),useStreaming:(0,r.computed)({get:()=>z.value,set:e=>{z.value=e,localStorage.setItem("useStreaming",String(e))}}),useSystemCot:(0,r.computed)({get:()=>P.value,set:e=>{P.value=e,localStorage.setItem("useSystemCot",String(e))}}),userInputText:D,backendStatus:R,checkBackendConnection:async()=>{if(!R.value.configured)return R.value.connected=!1,!1;try{const e=await(0,i.d9)();return R.value.connected=!!e,R.value.lastChecked=Date.now(),R.value.connected}catch{return R.value.connected=!1,!1}},isBackendAvailable:$,isBackendConfiguredComputed:O,showDetailModalState:v,detailModalTitle:b,detailModalContent:y,detailModalComponent:x,detailModalProps:k,detailModalClass:w,showDetailModal:function(e){b.value=e.title,y.value=e.content||"",x.value=e.component||null,k.value=e.props||null,w.value=e.className||"",v.value=!0},hideDetailModal:function(){v.value=!1,setTimeout(()=>{b.value="",y.value="",x.value=null,k.value=null,w.value=""},300)}}})},9197:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.save-migration[data-v-230bf738] {\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  color: var(--color-text);\n}\n.migration-header h4[data-v-230bf738] {\n  margin: 0 0 6px 0;\n  font-size: 1.05rem;\n}\n.migration-header p[data-v-230bf738] {\n  margin: 0;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.migration-meta[data-v-230bf738] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n  gap: 10px;\n}\n.meta-item[data-v-230bf738] {\n  padding: 8px 10px;\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.meta-item .label[data-v-230bf738] {\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.meta-item .value[data-v-230bf738] {\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n  word-break: break-all;\n}\n.migration-reasons[data-v-230bf738] {\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  border-radius: 8px;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.reason-title[data-v-230bf738] {\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n}\n.reason-list[data-v-230bf738] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n.tag[data-v-230bf738] {\n  font-size: 0.75rem;\n  padding: 3px 8px;\n  border-radius: 999px;\n  border: 1px solid rgba(var(--color-warning-rgb), 0.35);\n  background: rgba(var(--color-warning-rgb), 0.08);\n  color: var(--color-text);\n}\n.migration-hint[data-v-230bf738] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.migration-hint ul[data-v-230bf738] {\n  margin: 6px 0 0 18px;\n}\n.migration-actions[data-v-230bf738] {\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n}\n.migration-actions button[data-v-230bf738] {\n  border: none;\n  border-radius: 8px;\n  padding: 8px 14px;\n  font-size: 0.85rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.migration-actions .primary[data-v-230bf738] {\n  background: linear-gradient(135deg, #22c55e, #16a34a);\n  color: white;\n}\n.migration-actions .primary[data-v-230bf738]:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n.migration-actions .secondary[data-v-230bf738] {\n  background: transparent;\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n",""]);const s=i},9207:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});const a=500,r=50,o=1500;let i=null,s=[];function l(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(e){return`${!1===e.global?"":"g"}${e.ignoreCase?"i":""}${"regex"===e.mode&&e.multiline?"m":""}${"regex"===e.mode&&e.dotAll?"s":""}`}function d(e){return e.replace(/\$/g,"$$$$")}function u(e){return function(e,t){if(!e)return"";let n=e;n=n.replace(/<(?:ant[-_]?)?thinking>[\s\S]*?<\/(?:ant[-_]?)?thinking>/gi,"").replace(/<\/?(?:ant[-_]?)?thinking>/gi,"").replace(/<analysis>[\s\S]*?<\/analysis>/gi,"").replace(/<\/?analysis>/gi,"").replace(/<reasoning>[\s\S]*?<\/reasoning>/gi,"").replace(/<\/?reasoning>/gi,"").replace(/<thought>[\s\S]*?<\/thought>/gi,"").replace(/<\/?thought>/gi,"");for(const e of t)n=n.replace(e.re,e.replacement);return n}(e,function(){const e=function(){try{if("undefined"==typeof window||"undefined"==typeof localStorage)return{replaceRules:[]};const e=localStorage.getItem("dad_game_settings");if(!e)return{replaceRules:[]};const t=JSON.parse(e);return{replaceRules:Array.isArray(t?.replaceRules)?t.replaceRules:[]}}catch{return{replaceRules:[]}}}(),t=JSON.stringify(e.replaceRules||[]);return t===i||(i=t,s=function(e){const t=[];for(const n of e){if(t.length>=r)break;if(!n||!1===n.enabled)continue;if("string"!=typeof n.pattern||!n.pattern.trim())continue;const e=n.pattern.length>a?n.pattern.slice(0,a):n.pattern,i="string"==typeof n.replacement?n.replacement:"",s="text"===n.mode?d(i.slice(0,o)):i.slice(0,o);try{if("text"===n.mode){const a=`${!1===n.global?"":"g"}${n.ignoreCase?"i":""}`;t.push({re:new RegExp(l(e),a),replacement:s})}else{const a=c(n);t.push({re:new RegExp(e,a),replacement:s})}}catch{}}return t}(e.replaceRules||[])),s}())}},9290:e=>{"use strict";e.exports=RangeError},9333:(e,t,n)=>{"use strict";n.d(t,{Em:()=>c,NX:()=>b,OW:()=>f,Qc:()=>h,Sj:()=>v,Uy:()=>p,verifyStoredToken:()=>d,w2:()=>u,xJ:()=>g,yZ:()=>m});var a=n(4270),r=n(8546);const o=e=>{const t=e.trim();if(!t)return"ÁΩëÁªúËøûÊé•Â§±Ë¥•ÊàñÂêéÁ´ØÂú∞ÂùÄÊó†ÊïàÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°„ÄÇ";const n=t.toLowerCase();return n.includes("failed to fetch")||n.includes("networkerror")||n.includes("fetch failed")||n.includes("load failed")?"ÁΩëÁªúËøûÊé•Â§±Ë¥•ÊàñÂêéÁ´ØÂú∞ÂùÄÊó†ÊïàÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°„ÄÇ":n.includes("invalid url")?"ÂêéÁ´ØÂú∞ÂùÄÊó†ÊïàÔºåËØ∑Ê£ÄÊü•ÈÖçÁΩÆÂêéÈáçËØï„ÄÇ":t},i=e=>{if(null==e)return null;if("string"==typeof e)return e;if("object"!=typeof e)return String(e);const t=e;return"detail"in t?(e=>{if("string"==typeof e)return e;if(null==e)return"ÊúçÂä°Âô®ËøîÂõû‰∫ÜÊú™Áü•ÈîôËØØ„ÄÇ";if(Array.isArray(e)){const t=e.map(e=>{if(!e||"object"!=typeof e)return String(e);const t=e,n="string"==typeof t.msg?t.msg:void 0,a=Array.isArray(t.loc)?t.loc.filter(e=>"string"==typeof e||"number"==typeof e):void 0,r=a?.length?` (${a.join(".")})`:"";return n?`${n}${r}`:JSON.stringify(t)}).filter(Boolean);return t.length?t.join("Ôºõ"):"ËØ∑Ê±ÇÂèÇÊï∞‰∏çÂêàÊ≥ï„ÄÇ"}return"object"==typeof e?JSON.stringify(e):String(e)})(t.detail):"string"==typeof t.message?t.message:JSON.stringify(t)},s=e=>e.includes("/api/v1/auth/token")||e.includes("/api/v1/auth/register")||e.includes("/api/v1/auth/me"),l=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("username"),Promise.resolve().then(n.bind(n,100)).then(({useAPIManagementStore:e})=>{e().clearAll()}),Promise.resolve().then(n.bind(n,4582)).then(({useCharacterStore:e})=>{e().clearLocalCharacterData()}),Promise.resolve().then(n.bind(n,4459)).then(({promptStorage:e})=>{e.resetAll()}),Promise.resolve().then(n.bind(n,2143)).then(({default:e})=>{"/login"!==e.currentRoute.value?.path&&e.push("/login")})};async function c(e,t={}){const n=localStorage.getItem("access_token"),c=new Headers(t.headers||{});let d=!1;n&&c.append("Authorization",`Bearer ${n}`),!t.body||t.body instanceof FormData||c.has("Content-Type")||c.append("Content-Type","application/json");const u={...t,headers:c};try{if(!(0,r.isBackendConfigured)())throw new Error("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®");const t=(0,r.mh)(e);console.log(`[Request] ÂèëËµ∑ËØ∑Ê±Ç: ${u.method||"GET"} ${t}`);const n=await fetch(t,u);if(204===n.status)return console.log(`[Request] Êî∂Âà∞ 204 No Content ÂìçÂ∫î from ${t}`),null;const c=await n.text();if(!n.ok){console.error(`[Request] ËØ∑Ê±ÇÂ§±Ë¥•! Status: ${n.status} ${n.statusText} from ${t}`),console.error("[Request] ÂéüÂßãÂìçÂ∫î‰Ωì:",c);let r=`ÊúçÂä°Âô®ÈîôËØØ ${n.status}`;try{const e=JSON.parse(c);r=i(e)||r}catch(e){r=c.substring(0,100)||"Êó†Ê≥ïËß£ÊûêÊúçÂä°Âô®ÂìçÂ∫î„ÄÇ"}throw r=o(r),401!==n.status||s(e)?(a.o.error(r),d=!0):(r="ÁôªÂΩïÂ∑≤Â§±ÊïàÊàñÊú™ÁôªÂΩïÔºåËØ∑ÂÖàÁôªÂΩïÂêéÂÜçËØï„ÄÇ",a.o.info(r),d=!0,l()),new Error(r)}try{return JSON.parse(c)}catch(e){throw console.error(`[Request] JSON Ëß£ÊûêÂ§±Ë¥• from ${t}. ÂéüÂßãÂìçÂ∫î‰Ωì:`,c),new Error("Ëß£ÊûêÊúçÂä°Âô®ÂìçÂ∫îÂ§±Ë¥•ÔºåËøîÂõûÁöÑ‰∏çÊòØÊúâÊïàÁöÑJSONÊ†ºÂºè„ÄÇ")}}catch(t){console.error(`[Request] ÁΩëÁªúÂ±ÇÊàñÊú™Áü•ÈîôËØØ for url: ${e}`,t);const n=o(t instanceof Error?t.message:"ÁΩëÁªúËøûÊé•Â§±Ë¥•ÊàñÂêéÁ´ØÂú∞ÂùÄÊó†ÊïàÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°„ÄÇ");throw d||a.o.error(n),new Error(n)}}async function d(){const e=localStorage.getItem("access_token");if(!(0,r.isBackendConfigured)())return console.log("[È™åËØÅÂØÜÁ†Å] Êú™ÈÖçÁΩÆÂêéÁ´ØÔºåË∑≥ËøáÈ™åËØÅ"),!1;if(console.log("[È™åËØÅÂØÜÁ†Å] ‰ªélocalStorageËé∑ÂèñÂà∞ÁöÑtoken:",e?`${e.substring(0,20)}...`:"null"),!e)return console.log("[È™åËØÅÂØÜÁ†Å] Êú™ÊâæÂà∞ÂØÜÁ†ÅÔºåÁõ¥Êé•ËøîÂõûfalse"),!1;try{console.log("[È™åËØÅÂØÜÁ†Å] ÂºÄÂßãÂèëÈÄÅÈ™åËØÅËØ∑Ê±ÇÂà∞ /api/v1/auth/me");const e=await c("/api/v1/auth/me",{method:"GET"});if(console.log("[È™åËØÅÂØÜÁ†Å] È™åËØÅÊàêÂäüÔºåÁî®Êà∑Êï∞ÊçÆ:",e),e&&e.user_name)return localStorage.setItem("username",e.user_name),!0;throw new Error("Êó†ÊïàÁöÑÁî®Êà∑Êï∞ÊçÆ")}catch(e){return console.error("[È™åËØÅÂØÜÁ†Å] È™åËØÅÂ§±Ë¥•ÔºåÈîôËØØËØ¶ÊÉÖ:",e),console.warn("[È™åËØÅÂØÜÁ†Å] Ê≥®ÊÑèÔºöÊöÇÊó∂‰øùÁïôÂØÜÁ†ÅÔºå‰∏çËá™Âä®Ê∏ÖÈô§"),!1}}async function u(){try{const e=await c.get("/api/v1/worlds/");return console.log("[API] ÊàêÂäüËé∑Âèñ‰∏ñÁïåÂàóË°®:",e),e||[]}catch(e){return console.error("[API] Ëé∑Âèñ‰∏ñÁïåÂàóË°®Â§±Ë¥•:",e),a.o.error("Ëé∑Âèñ‰∏ñÁïåÂàóË°®Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò„ÄÇ"),[]}}async function m(){try{const e=await c.get("/api/v1/talent_tiers/");return console.log("[API] ÊàêÂäüËé∑ÂèñÂ§©ËµÑÁ≠âÁ∫ßÂàóË°®:",e),e||[]}catch(e){return console.error("[API] Ëé∑ÂèñÂ§©ËµÑÁ≠âÁ∫ßÂ§±Ë¥•:",e),a.o.error("Ëé∑ÂèñÂ§©ËµÑÁ≠âÁ∫ßÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò„ÄÇ"),[]}}async function p(){try{const e=await c.get("/api/v1/origins/");return console.log("[API] ÊàêÂäüËé∑ÂèñÂá∫Ë∫´ÂàóË°®:",e),e||[]}catch(e){return console.error("[API] Ëé∑ÂèñÂá∫Ë∫´ÂàóË°®Â§±Ë¥•:",e),a.o.error("Ëé∑ÂèñÂá∫Ë∫´ÂàóË°®Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò„ÄÇ"),[]}}async function g(){try{const e=await c.get("/api/v1/spirit_roots/");return console.log("[API] ÊàêÂäüËé∑ÂèñÊîπÈÄ†Ê†∏ÂøÉÂàóË°®:",e),e||[]}catch(e){return console.error("[API] Ëé∑ÂèñÊîπÈÄ†Ê†∏ÂøÉÂàóË°®Â§±Ë¥•:",e),a.o.error("Ëé∑ÂèñÊîπÈÄ†Ê†∏ÂøÉÂàóË°®Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò„ÄÇ"),[]}}async function h(){try{const e=await c.get("/api/v1/talents/");console.log("[API] ÊàêÂäüËé∑ÂèñÂ§©ËµãÂàóË°®:",e);const t=(e||[]).map(e=>({id:e.id??0,name:e.name??"",description:e.description,talent_cost:e.talent_cost??0,rarity:e.rarity??0,tier_id:e.tier_id??e.tier?.id??null,tier:e.tier,source:e.source,effects:e.effects}));return console.log("[API] Â§©ËµãÊï∞ÊçÆËΩ¨Êç¢ÂÆåÊàêÔºåÁ§∫‰æã:",t.slice(0,2)),t}catch(e){return console.error("[API] Ëé∑ÂèñÂ§©ËµãÂàóË°®Â§±Ë¥•:",e),a.o.error("Ëé∑ÂèñÂ§©ËµãÂàóË°®Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò„ÄÇ"),[]}}async function f(e){try{console.log("[API] Ê≠£Âú®ÂêëÂêéÁ´ØÊèê‰∫§ËßíËâ≤ÂàõÂª∫‰ø°ÊÅØ:",e);const t=await c.post("/api/v1/characters/create",e);return console.log("[API] ËßíËâ≤ÂàõÂª∫ÊàêÂäüÔºåÂêéÁ´ØËøîÂõû:",t),t}catch(e){throw console.error("[API] ËßíËâ≤ÂàõÂª∫Â§±Ë¥•:",e),a.o.error("ËßíËâ≤ÂàõÂª∫Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò„ÄÇ"),e}}async function v(e,t){try{console.log("[API] Ê≠£Âú®Âêë‰∫ëÁ´ØÂêåÊ≠•Â≠òÊ°£Êï∞ÊçÆ:",{charId:e,saveData:t});const n=await c.put(`/api/v1/characters/${e}/save`,t);return console.log("[API] Â≠òÊ°£ÂêåÊ≠•ÊàêÂäüÔºåÂêéÁ´ØËøîÂõû:",n),n}catch(e){throw console.error("[API] Â≠òÊ°£ÂêåÊ≠•Â§±Ë¥•:",e),a.o.error("Â≠òÊ°£ÂêåÊ≠•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò„ÄÇ"),e}}async function b(e){try{const t=await c.get(`/api/v1/characters/${e}`);return console.log("[API] ÊàêÂäüËé∑ÂèñËßíËâ≤ËØ¶ÊÉÖ:",{charId:e}),t}catch(e){throw console.error("[API] Ëé∑ÂèñËßíËâ≤ËØ¶ÊÉÖÂ§±Ë¥•:",e),a.o.error("Ëé∑ÂèñÊõ¥Êñ∞ËßíËâ≤Êï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò„ÄÇ"),e}}c.get=(e,t={})=>c(e,{...t,method:"GET"}),c.post=(e,t,n={})=>c(e,{...n,method:"POST",body:void 0!==t?JSON.stringify(t):void 0}),c.put=(e,t,n={})=>c(e,{...n,method:"PUT",body:void 0!==t?JSON.stringify(t):void 0}),c.delete=(e,t={})=>c(e,{...t,method:"DELETE"})},9352:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'/*\n * Ë∂ÖÂá°Êñ∞Áîü - ÂÖ®Â±ÄÈ¢úËâ≤ÂèòÈáèÊò†Â∞Ñ\n * Global Color Variables Mapping\n * Â∞ÜÊâÄÊúâÊóßÁöÑ --color-* ÂèòÈáèÊò†Â∞ÑÂà∞Êñ∞ÁöÑÁßëÊäÄËâ≤Á≥ª\n */\n\n:root {\n  /* === ÁßëÊäÄ‰∏ªËâ≤Á≥ª === */\n  --tech-primary: #00d9ff;\n  --tech-secondary: #9d00ff;\n  --tech-accent: #00ffaa;\n  --tech-warning: #ff6b00;\n  --tech-danger: #ff0055;\n  --tech-background: #0a0e27;\n  --tech-surface: #0f1535;\n  --tech-border: #1a2a5e;\n\n  /* === ÂêëÂêéÂÖºÂÆπÔºöÊóßÈ¢úËâ≤ÂèòÈáèÊò†Â∞ÑÂà∞Êñ∞ÁßëÊäÄËâ≤Á≥ª === */\n  --color-primary: var(--tech-primary);\n  --color-primary-rgb: 0, 217, 255;\n  --color-primary-border: var(--tech-primary);\n  --color-primary-light: rgba(0, 217, 255, 0.1);\n  --color-primary-hover: rgba(0, 217, 255, 0.2);\n  --color-primary-dark: #0099bb;\n\n  --color-secondary: var(--tech-secondary);\n  --color-accent: var(--tech-accent);\n\n  /* === ËÉåÊôØ/Ë°®Èù¢Ëâ≤ === */\n  --color-background: var(--tech-background);\n  --color-surface: var(--tech-surface);\n  --color-surface-light: rgba(15, 21, 53, 0.7);\n  --color-surface-lighter: rgba(15, 21, 53, 0.5);\n  --color-surface-hover: rgba(0, 217, 255, 0.1);\n\n  /* === ËæπÊ°ÜËâ≤ === */\n  --color-border: var(--tech-border);\n  --color-border-hover: var(--tech-primary);\n\n  /* === ÊñáÂ≠óËâ≤ === */\n  --color-text: var(--tech-primary);\n  --color-text-rgb: 0, 217, 255;\n  --color-text-secondary: rgba(0, 217, 255, 0.7);\n  --color-text-muted: rgba(0, 217, 255, 0.4);\n\n  /* === Áä∂ÊÄÅËâ≤ === */\n  --color-success: var(--tech-accent);\n  --color-info: var(--tech-primary);\n  --color-warning: var(--tech-warning);\n  --color-error: var(--tech-danger);\n  --color-danger: var(--tech-danger);\n  --color-danger-rgb: 255, 0, 85;\n  --color-danger-hover: rgba(255, 0, 85, 0.2);\n}\n\n/* === Âº∫Âà∂Ë¶ÜÁõñÊâÄÊúâ‰ΩøÁî®ÊóßÈ¢úËâ≤ÁöÑÂÖÉÁ¥† === */\n\n/* ËÉåÊôØËâ≤Ë¶ÜÁõñ */\n[style*="background: var(--color-surface)"],\n[style*="background: var(--color-background)"],\n[style*="background: var(--color-surface-light)"],\n[style*="background: var(--color-surface-lighter)"],\n[style*="background: var(--color-surface-hover)"] {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.9), rgba(10, 14, 39, 0.9)) !important;\n}\n\n/* ÊñáÂ≠óËâ≤Ë¶ÜÁõñ */\n[style*="color: var(--color-text)"],\n[style*="color: var(--color-text-secondary)"],\n[style*="color: var(--color-text-muted)"] {\n  color: var(--tech-primary) !important;\n}\n\n[style*="color: var(--color-primary)"],\n[style*="color: var(--color-accent)"],\n[style*="color: var(--color-success)"] {\n  color: var(--tech-primary) !important;\n}\n\n[style*="color: var(--color-error)"],\n[style*="color: var(--color-danger)"] {\n  color: var(--tech-danger) !important;\n}\n\n[style*="color: var(--color-warning)"] {\n  color: var(--tech-warning) !important;\n}\n\n/* ËæπÊ°ÜËâ≤Ë¶ÜÁõñ */\n[style*="border: 1px solid var(--color-border)"],\n[style*="border-color: var(--color-border)"],\n[style*="border-bottom: 1px solid var(--color-border)"],\n[style*="border-top: 1px solid var(--color-border)"],\n[style*="border-left: 1px solid var(--color-border)"],\n[style*="border-right: 1px solid var(--color-border)"] {\n  border-color: var(--tech-border) !important;\n}\n\n/* === ÂÖ®Â±ÄÁªÑ‰ª∂Ê†∑Âºè‰ºòÂåñ === */\n\n/* ÊåâÈíÆÁªü‰∏ÄÊ†∑Âºè */\nbutton,\n[role="button"],\ninput[type="button"],\ninput[type="submit"],\ninput[type="reset"] {\n  border-radius: 4px;\n  transition: all 0.3s ease;\n  font-weight: 500;\n}\n\nbutton:not(.fab):not([class*="close"]):not([style*="background: transparent"]) {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.08)) !important;\n  border: 1px solid var(--tech-border) !important;\n  color: var(--tech-primary) !important;\n}\n\nbutton:hover:not(:disabled):not(.fab):not([class*="close"]) {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(157, 0, 255, 0.1)) !important;\n  border-color: var(--tech-primary) !important;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.3) !important;\n}\n\n/* ËæìÂÖ•Ê°ÜÁªü‰∏ÄÊ†∑Âºè */\ninput:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not([type="hidden"]),\ntextarea,\nselect {\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.6), rgba(15, 21, 53, 0.6)) !important;\n  border: 1px solid var(--tech-border) !important;\n  color: var(--tech-primary) !important;\n  border-radius: 4px !important;\n  padding: 8px 12px !important;\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  color: rgba(0, 217, 255, 0.3) !important;\n}\n\ninput:focus:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not([type="hidden"]),\ntextarea:focus,\nselect:focus {\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.8), rgba(15, 21, 53, 0.8)) !important;\n  border-color: var(--tech-primary) !important;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3), inset 0 0 10px rgba(0, 217, 255, 0.1) !important;\n  outline: none !important;\n}\n\n/* Âç°Áâá/Èù¢ÊùøÁªü‰∏ÄÊ†∑Âºè */\n.card,\n.panel,\n[class*="panel"],\n[class*="card"],\n[class*="modal"],\n[class*="dialog"] {\n  border-radius: 4px;\n}\n\n.card,\n.panel,\n[class*="card"]:not([class*="skill-card"]):not([class*="character-card"]) {\n  background: linear-gradient(135deg, rgba(15, 21, 53, 0.8), rgba(10, 14, 39, 0.8));\n  border: 1px solid var(--tech-border);\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.1);\n}\n\n.card:hover,\n.panel:hover,\n[class*="card"]:hover {\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 25px rgba(0, 217, 255, 0.2);\n}\n\n/* Ê†áÁ≠æ/ÂæΩÁ´†Áªü‰∏ÄÊ†∑Âºè */\n[class*="tag"],\n[class*="badge"],\n[class*="label"] {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(157, 0, 255, 0.08));\n  border: 1px solid var(--tech-border);\n  color: var(--tech-primary);\n  border-radius: 3px;\n  padding: 4px 8px;\n}\n\n[class*="tag"]:hover,\n[class*="badge"]:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(157, 0, 255, 0.1));\n  border-color: var(--tech-primary);\n}\n\n/* === Â§çÈÄâÊ°ÜÂíåÂçïÈÄâÊ°Ü === */\n\ninput[type="checkbox"],\ninput[type="radio"] {\n  appearance: none;\n  -webkit-appearance: none;\n  width: 18px;\n  height: 18px;\n  border: 2px solid var(--tech-border);\n  border-radius: 3px;\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.6), rgba(15, 21, 53, 0.6));\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n}\n\ninput[type="checkbox"]:hover,\ninput[type="radio"]:hover {\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.2);\n}\n\ninput[type="checkbox"]:checked,\ninput[type="radio"]:checked {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15));\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.3), inset 0 0 10px rgba(0, 217, 255, 0.1);\n}\n\ninput[type="radio"] {\n  border-radius: 50%;\n}\n\ninput[type="checkbox"]::after {\n  content: \'\';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 6px;\n  height: 3px;\n  border-bottom: 2px solid var(--tech-primary);\n  border-left: 2px solid var(--tech-primary);\n  transform: translate(-50%, -60%) rotate(-45deg);\n  opacity: 0;\n  transition: opacity 0.2s ease;\n}\n\ninput[type="checkbox"]:checked::after {\n  opacity: 1;\n}\n\ninput[type="radio"]::after {\n  content: \'\';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 6px;\n  height: 6px;\n  background: var(--tech-primary);\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n  opacity: 0;\n  transition: opacity 0.2s ease;\n}\n\ninput[type="radio"]:checked::after {\n  opacity: 1;\n}\n\n/* === ËåÉÂõ¥/ÊªëÂùóÁæéÂåñ === */\n\ninput[type="range"] {\n  appearance: none;\n  -webkit-appearance: none;\n  width: 100%;\n  height: 6px;\n  border-radius: 3px;\n  background: linear-gradient(90deg, var(--tech-primary), var(--tech-secondary));\n  outline: none;\n  cursor: pointer;\n}\n\ninput[type="range"]::-webkit-slider-thumb {\n  appearance: none;\n  -webkit-appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, var(--tech-primary), var(--tech-secondary));\n  border: 2px solid var(--tech-primary);\n  cursor: pointer;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.4);\n  transition: all 0.2s ease;\n}\n\ninput[type="range"]::-webkit-slider-thumb:hover {\n  transform: scale(1.2);\n  box-shadow: 0 0 25px rgba(0, 217, 255, 0.6);\n}\n\ninput[type="range"]::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, var(--tech-primary), var(--tech-secondary));\n  border: 2px solid var(--tech-primary);\n  cursor: pointer;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.4);\n  transition: all 0.2s ease;\n}\n\ninput[type="range"]::-moz-range-track {\n  background: transparent;\n  border: none;\n}\n\n/* ÊªöÂä®Êù°ÁæéÂåñ */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: rgba(0, 217, 255, 0.05);\n}\n\n::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, var(--tech-primary), var(--tech-secondary));\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: linear-gradient(180deg, var(--tech-secondary), var(--tech-primary));\n}\n\n/* Firefox ÊªöÂä®Êù° */\n* {\n  scrollbar-color: var(--tech-primary) rgba(0, 217, 255, 0.05);\n  scrollbar-width: thin;\n}\n\n/* === ÂìçÂ∫îÂºè === */\n\n@media (max-width: 768px) {\n  button,\n  input,\n  textarea,\n  select {\n    padding: 10px 16px !important;\n  }\n\n  .card,\n  [class*="panel"],\n  [class*="modal"] {\n    max-width: 100%;\n  }\n}\n\n@media (max-width: 480px) {\n  button,\n  input,\n  textarea,\n  select {\n    font-size: 16px;\n    padding: 12px 16px !important;\n  }\n\n  .card,\n  [class*="panel"],\n  [class*="modal"] {\n    border-radius: 3px;\n    padding: 12px;\n  }\n}\n',""]);const s=i},9353:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,a=function(e,t){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,i=function(e){for(var t=[],n=1,a=0;n<e.length;n+=1,a+=1)t[a]=e[n];return t}(arguments),s=n(0,r.length-i.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(l)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var t=r.apply(this,a(i,arguments));return Object(t)===t?t:this}return r.apply(e,a(i,arguments))}),r.prototype){var d=function(){};d.prototype=r.prototype,o.prototype=new d,d.prototype=null}return o}},9383:e=>{"use strict";e.exports=Error},9433:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,'\n/* ÂÆπÂô® - ÁªùÂØπÂÆö‰ΩçÂ∏ÉÂ±Ä */\n.mode-selection-container[data-v-2f096032] {\n  width: 100%;\n  height: 100vh;\n  height: 100svh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n\n/* Â∑¶‰∏äËßíÔºöÊ†áÈ¢ò */\n.top-left-section[data-v-2f096032] {\n  position: absolute;\n  top: 2rem;\n  left: 2rem;\n  z-index: 10;\n}\n.main-title[data-v-2f096032] {\n  font-family: var(--font-family-serif);\n  font-size: 7.5rem;\n  font-weight: 400;\n  letter-spacing: 0.5em;\n  color: var(--tech-primary);\n  margin: 0 0 0.5rem 0;\n  text-shadow: 0 0 30px rgba(0, 217, 255, 0.6), 0 0 60px rgba(0, 217, 255, 0.3);\n  animation: neon-glow 3s ease-in-out infinite;\n}\n.sub-title[data-v-2f096032] {\n  font-size: 2rem;\n  color: rgba(0, 217, 255, 0.8);\n  letter-spacing: 0.15em;\n  margin: 0;\n  text-shadow: 0 0 20px rgba(0, 217, 255, 0.4);\n}\n\n/* Â∑¶‰∏ãËßíÔºöÂäüËÉΩÊåâÈíÆ„ÄÅÂ∑≤ËøûÊé•„ÄÅÁâàÊú¨Âè∑ */\n.bottom-left-section[data-v-2f096032] {\n  position: absolute;\n  bottom: 2rem;\n  left: 2rem;\n  z-index: 10;\n}\n.left-bottom-content[data-v-2f096032] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.info-group[data-v-2f096032] {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 0.75rem;\n}\n\n/* ÁâàÊú¨Âè∑ - ÁßëÊäÄÂèëÂÖâÈ£éÊ†º */\n.version-tag[data-v-2f096032] {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--tech-primary);\n  padding: 0.25rem 0.6rem;\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(0, 217, 255, 0.08));\n  border: 1px solid var(--tech-border);\n  border-radius: 6px;\n  text-shadow: 0 0 10px rgba(0, 217, 255, 0.6);\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.3), inset 0 0 10px rgba(0, 217, 255, 0.1);\n  transition: all 0.3s ease;\n  display: inline-block;\n  width: fit-content;\n}\n.version-tag[data-v-2f096032]:hover {\n  color: #fff;\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 25px rgba(0, 217, 255, 0.5), inset 0 0 15px rgba(0, 217, 255, 0.2);\n  text-shadow: 0 0 15px rgba(0, 217, 255, 0.8);\n}\n\n/* Áä∂ÊÄÅÊåáÁ§∫Âô® */\n.status-indicator[data-v-2f096032] {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  padding: 0.25rem 0.6rem;\n  border-radius: 6px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  border: 1px solid;\n}\n.status-indicator.online[data-v-2f096032] {\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.15), rgba(0, 255, 136, 0.08));\n  border-color: rgba(0, 255, 136, 0.4);\n  color: var(--tech-success);\n  box-shadow: 0 0 15px rgba(0, 255, 136, 0.2);\n}\n.status-indicator.offline[data-v-2f096032] {\n  background: linear-gradient(135deg, rgba(255, 0, 85, 0.15), rgba(255, 0, 85, 0.08));\n  border-color: rgba(255, 0, 85, 0.4);\n  color: var(--tech-danger);\n  box-shadow: 0 0 15px rgba(255, 0, 85, 0.2);\n}\n.status-dot[data-v-2f096032] {\n  width: 5px;\n  height: 5px;\n  border-radius: 50%;\n  background: currentColor;\n  animation: pulse-2f096032 2s ease-in-out infinite;\n}\n@keyframes pulse-2f096032 {\n0%, 100% { opacity: 1;\n}\n50% { opacity: 0.5;\n}\n}\n\n/* Âè≥‰∏ãËßíÔºöÊ®°ÂºèÈÄâÊã©ÂíåÊåâÈíÆ */\n.bottom-right-section[data-v-2f096032] {\n  position: absolute;\n  bottom: 2rem;\n  right: 2rem;\n  z-index: 10;\n}\n\n/* Âç°ÁâáÂÆπÂô® */\n.gate-container[data-v-2f096032] {\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  gap: 1rem;\n  align-items: center;\n}\n\n/* Âç°Áâá */\n.gate-card[data-v-2f096032] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem 1rem;\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.08), rgba(157, 0, 255, 0.05));\n  border: 2px solid var(--tech-border);\n  border-radius: 4px;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  min-height: 96px;\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.1), inset 0 0 15px rgba(0, 217, 255, 0.05);\n}\n.gate-card[data-v-2f096032]::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, var(--tech-primary), transparent);\n  opacity: 0.5;\n}\n.gate-card[data-v-2f096032]:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(157, 0, 255, 0.1));\n  border-color: var(--tech-primary);\n  transform: translateY(-3px);\n  box-shadow: 0 0 40px rgba(0, 217, 255, 0.3), inset 0 0 20px rgba(0, 217, 255, 0.1);\n}\n.gate-card.selected[data-v-2f096032] {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.15));\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 50px rgba(0, 217, 255, 0.4), inset 0 0 25px rgba(0, 217, 255, 0.15);\n}\n.gate-card.disabled[data-v-2f096032] {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.gate-card.disabled[data-v-2f096032]:hover {\n  transform: none;\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.05), rgba(157, 0, 255, 0.03));\n  border-color: var(--tech-border);\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.08);\n}\n\n/* Âç°ÁâáÂõæÊ†á */\n.gate-icon[data-v-2f096032] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--tech-primary);\n  flex-shrink: 0;\n  position: relative;\n  width: 48px;\n  height: 48px;\n}\n.icon-bg[data-v-2f096032] {\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.1));\n  border: 1px solid rgba(0, 217, 255, 0.3);\n  border-radius: 4px;\n  box-shadow: 0 0 15px rgba(0, 217, 255, 0.2), inset 0 0 10px rgba(0, 217, 255, 0.1);\n}\n.gate-icon svg[data-v-2f096032] {\n  position: relative;\n  z-index: 1;\n}\n.gate-card:hover .gate-icon[data-v-2f096032],\n.gate-card.selected .gate-icon[data-v-2f096032] {\n  color: #fff;\n  text-shadow: 0 0 10px rgba(0, 217, 255, 0.8);\n}\n.gate-card:hover .icon-bg[data-v-2f096032],\n.gate-card.selected .icon-bg[data-v-2f096032] {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.3), rgba(157, 0, 255, 0.2));\n  border-color: rgba(0, 217, 255, 0.5);\n  box-shadow: 0 0 25px rgba(0, 217, 255, 0.3), inset 0 0 15px rgba(0, 217, 255, 0.15);\n}\n\n/* Âç°Áâá‰ø°ÊÅØ */\n.gate-info[data-v-2f096032] {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n}\n.gate-title[data-v-2f096032] {\n  font-family: var(--font-family-serif);\n  font-size: 1rem;\n  font-weight: 400;\n  margin: 0;\n  color: var(--tech-primary);\n  letter-spacing: 0.1em;\n  text-shadow: 0 0 8px rgba(0, 217, 255, 0.4);\n}\n.gate-tags[data-v-2f096032] {\n  display: flex;\n  gap: 0.4rem;\n}\n.gate-tags span[data-v-2f096032] {\n  font-size: 0.65rem;\n  padding: 0.15rem 0.4rem;\n  border-radius: 4px;\n  font-weight: 500;\n  border: 1px solid;\n}\n\n/* Êú¨Âú∞Â≠òÂÇ® - Ê©ôËâ≤ÁßëÊäÄ */\n.tag-local[data-v-2f096032] {\n  color: var(--tech-warning);\n  background: linear-gradient(135deg, rgba(255, 107, 0, 0.15), rgba(255, 107, 0, 0.08));\n  border-color: rgba(255, 107, 0, 0.4);\n  box-shadow: 0 0 10px rgba(255, 107, 0, 0.2);\n}\n\n/* ÈöêÁßÅ‰øùÈöú - ÈùíËâ≤ÁßëÊäÄ */\n.tag-offline[data-v-2f096032] {\n  color: var(--tech-primary);\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.15), rgba(0, 217, 255, 0.08));\n  border-color: rgba(0, 217, 255, 0.4);\n  box-shadow: 0 0 10px rgba(0, 217, 255, 0.2);\n}\n\n/* ‰∫ëÁ´ØÂêåÊ≠• - Á¥´Ëâ≤ÁßëÊäÄ */\n.tag-cloud[data-v-2f096032] {\n  color: var(--tech-secondary);\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.15), rgba(157, 0, 255, 0.08));\n  border-color: rgba(157, 0, 255, 0.4);\n  box-shadow: 0 0 10px rgba(157, 0, 255, 0.2);\n}\n\n/* Êï∞ÊçÆÂÆâÂÖ® - ÁªøËâ≤ÁßëÊäÄ */\n.tag-secure[data-v-2f096032] {\n  color: var(--tech-success);\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.15), rgba(0, 255, 136, 0.08));\n  border-color: rgba(0, 255, 136, 0.4);\n  box-shadow: 0 0 10px rgba(0, 255, 136, 0.2);\n}\n\n/* ÈÄâ‰∏≠Ê†áËÆ∞ */\n.check-mark[data-v-2f096032] {\n  position: absolute;\n  top: 0.75rem;\n  right: 0.75rem;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 255, 136, 0.1));\n  border: 1px solid var(--tech-success);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--tech-success);\n  box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);\n  animation: pulse-2f096032 2s ease-in-out infinite;\n}\n\n/* Á¶ÅÁî®ÈÅÆÁΩ© */\n.disabled-mask[data-v-2f096032] {\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(135deg, rgba(10, 14, 39, 0.85), rgba(10, 14, 39, 0.9));\n  backdrop-filter: blur(4px);\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 0.4rem;\n  color: rgba(0, 217, 255, 0.5);\n  font-size: 0.8rem;\n}\n\n/* Êìç‰ΩúÊåâÈíÆÂå∫Âüü */\n.actions-section[data-v-2f096032] {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 1rem;\n}\n.action-group[data-v-2f096032] {\n  display: flex;\n  gap: 1rem;\n}\n\n/* ÊåâÈíÆÂü∫Á°Ä */\nbutton[data-v-2f096032] {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.6rem;\n  font-family: var(--font-family-serif);\n  font-size: 1rem;\n  letter-spacing: 0.08em;\n  padding: 0.85rem 1.75rem;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.25s ease;\n  border: 2px solid transparent;\n}\n.btn-primary[data-v-2f096032] {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(157, 0, 255, 0.12));\n  color: var(--tech-primary);\n  border-color: var(--tech-primary);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);\n}\n.btn-primary[data-v-2f096032]:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.3), rgba(157, 0, 255, 0.2));\n  box-shadow: 0 0 30px rgba(0, 217, 255, 0.5);\n  transform: translateY(-1px);\n}\n.btn-secondary[data-v-2f096032] {\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.1), rgba(157, 0, 255, 0.05));\n  border-color: var(--tech-secondary);\n  color: var(--tech-secondary);\n}\n.btn-secondary[data-v-2f096032]:hover {\n  background: linear-gradient(135deg, rgba(157, 0, 255, 0.2), rgba(157, 0, 255, 0.1));\n  box-shadow: 0 0 25px rgba(157, 0, 255, 0.4);\n}\n.btn-ghost[data-v-2f096032] {\n  background: transparent;\n  border-color: var(--tech-border);\n  color: rgba(0, 217, 255, 0.7);\n}\n.btn-ghost[data-v-2f096032]:hover {\n  background: linear-gradient(135deg, rgba(0, 217, 255, 0.08), rgba(157, 0, 255, 0.05));\n  border-color: var(--tech-primary);\n  color: var(--tech-primary);\n  box-shadow: 0 0 20px rgba(0, 217, 255, 0.25);\n}\n\n/* ËøáÊ∏°Âä®Áîª */\n.fade-up-enter-active[data-v-2f096032],\n.fade-up-leave-active[data-v-2f096032] {\n  transition: all 0.3s ease;\n}\n.fade-up-enter-from[data-v-2f096032],\n.fade-up-leave-to[data-v-2f096032] {\n  opacity: 0;\n  transform: translateY(8px);\n}\n\n/* ‰∫ÆËâ≤‰∏ªÈ¢ò */\n[data-theme="light"] .main-title[data-v-2f096032] {\n  color: #1e293b;\n  text-shadow: none;\n}\n[data-theme="light"] .sub-title[data-v-2f096032] {\n  color: #64748b;\n}\n[data-theme="light"] .gate-card[data-v-2f096032] {\n  background: rgba(248, 250, 252, 0.8);\n  border-color: rgba(0, 0, 0, 0.06);\n}\n[data-theme="light"] .gate-card[data-v-2f096032]:hover,\n[data-theme="light"] .gate-card.selected[data-v-2f096032] {\n  background: rgba(239, 246, 255, 0.9);\n}\n[data-theme="light"] .gate-title[data-v-2f096032] {\n  color: #1e293b;\n}\n[data-theme="light"] .gate-icon[data-v-2f096032] {\n  color: #3b82f6;\n}\n[data-theme="light"] .icon-bg[data-v-2f096032] {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(37, 99, 235, 0.04) 100%);\n  border-color: rgba(59, 130, 246, 0.15);\n}\n[data-theme="light"] .gate-detail[data-v-2f096032] {\n  color: #94a3b8;\n}\n[data-theme="light"] .btn-secondary[data-v-2f096032] {\n  background: rgba(248, 250, 252, 0.9);\n  border-color: rgba(0, 0, 0, 0.08);\n  color: #475569;\n}\n[data-theme="light"] .btn-ghost[data-v-2f096032] {\n  color: #64748b;\n  border-color: rgba(0, 0, 0, 0.08);\n}\n[data-theme="light"] .version-tag[data-v-2f096032] {\n  color: #0891b2;\n  background: linear-gradient(135deg, rgba(34, 211, 238, 0.15) 0%, rgba(56, 189, 248, 0.1) 100%);\n  border-color: rgba(34, 211, 238, 0.35);\n  text-shadow: none;\n  box-shadow: 0 0 8px rgba(34, 211, 238, 0.1);\n}\n\n/* ÂìçÂ∫îÂºè */\n@media (max-width: 1024px) {\n.mode-selection-container[data-v-2f096032] {\n    padding: 1.5rem;\n}\n.top-left-section[data-v-2f096032] {\n    top: 1.5rem;\n    left: 1.5rem;\n}\n.bottom-left-section[data-v-2f096032] {\n    bottom: 1.5rem;\n    left: 1.5rem;\n}\n.bottom-right-section[data-v-2f096032] {\n    bottom: 1.5rem;\n    right: 1.5rem;\n    max-width: calc(100% - 3rem);\n}\n.main-title[data-v-2f096032] {\n    font-size: 2.5rem;\n    letter-spacing: 0.4em;\n}\n.sub-title[data-v-2f096032] {\n    font-size: 1rem;\n}\n.gate-container[data-v-2f096032] {\n    flex-direction: column;\n}\n.gate-card[data-v-2f096032] {\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n    padding: 1.5rem 1.5rem;\n    min-height: auto;\n}\n.gate-icon[data-v-2f096032] {\n    width: 60px;\n    height: 60px;\n}\n.gate-info[data-v-2f096032] {\n    width: 100%;\n}\n.gate-detail[data-v-2f096032] {\n    display: none;\n}\n.gate-tags[data-v-2f096032] {\n    justify-content: center;\n    flex-wrap: wrap;\n}\n.actions-section[data-v-2f096032] {\n    justify-content: center;\n    flex-wrap: wrap;\n}\n.action-group[data-v-2f096032] {\n    flex-direction: column;\n    width: 100%;\n}\nbutton[data-v-2f096032] {\n    width: 100%;\n    min-height: 46px;\n}\n}\n@media (max-width: 768px) {\n.mode-selection-container[data-v-2f096032] {\n    padding: 1rem;\n}\n.top-left-section[data-v-2f096032] {\n    top: 1rem;\n    left: 1rem;\n}\n.bottom-left-section[data-v-2f096032] {\n    bottom: 1rem;\n    left: 1rem;\n}\n.bottom-right-section[data-v-2f096032] {\n    bottom: 1rem;\n    right: 1rem;\n    max-width: calc(100% - 2rem);\n}\n.main-title[data-v-2f096032] {\n    font-size: 2rem;\n    letter-spacing: 0.35em;\n}\n.sub-title[data-v-2f096032] {\n    font-size: 0.9rem;\n}\n.gate-title[data-v-2f096032] {\n    font-size: 1.2rem;\n}\n.gate-desc[data-v-2f096032] {\n    font-size: 0.85rem;\n}\n.info-group[data-v-2f096032] {\n    gap: 0.5rem;\n}\nbutton[data-v-2f096032] {\n    padding: 0.75rem 1.5rem;\n    font-size: 0.95rem;\n}\n.version-tag[data-v-2f096032],\n  .status-indicator[data-v-2f096032] {\n    font-size: 0.7rem;\n    padding: 0.2rem 0.5rem;\n}\n}\n@media (max-width: 480px) {\n.mode-selection-container[data-v-2f096032] {\n    padding: 0.75rem;\n}\n.top-left-section[data-v-2f096032] {\n    top: 0.75rem;\n    left: 0.75rem;\n}\n.bottom-left-section[data-v-2f096032] {\n    bottom: 0.75rem;\n    left: 0.75rem;\n}\n.bottom-right-section[data-v-2f096032] {\n    bottom: 0.75rem;\n    right: 0.75rem;\n    max-width: calc(100% - 1.5rem);\n}\n.main-title[data-v-2f096032] {\n    font-size: 1.5rem;\n    letter-spacing: 0.3em;\n}\n.sub-title[data-v-2f096032] {\n    font-size: 0.8rem;\n}\n.gate-card[data-v-2f096032] {\n    padding: 1.25rem 1rem;\n}\n.gate-icon[data-v-2f096032] {\n    width: 50px;\n    height: 50px;\n}\n.gate-title[data-v-2f096032] {\n    font-size: 1.1rem;\n}\n.actions-section[data-v-2f096032] {\n    flex-direction: column;\n    gap: 0.75rem;\n}\nbutton[data-v-2f096032] {\n    padding: 0.65rem 1.25rem;\n    font-size: 0.9rem;\n}\n}\n',""]);const s=i},9531:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.modal-overlay[data-v-3fadd167] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n}\n.modal-container[data-v-3fadd167] {\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  width: 90%;\n  max-width: 600px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  animation: slideUp-3fadd167 0.3s ease-out;\n}\n@keyframes slideUp-3fadd167 {\nfrom {\n    opacity: 0;\n    transform: translateY(20px);\n}\nto {\n    opacity: 1;\n    transform: translateY(0);\n}\n}\n.modal-header[data-v-3fadd167] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.modal-title[data-v-3fadd167] {\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--color-text);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.modal-close[data-v-3fadd167] {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n.modal-close[data-v-3fadd167]:hover {\n  background: rgba(var(--color-primary-rgb), 0.1);\n  color: var(--color-text);\n}\n.modal-content[data-v-3fadd167] {\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n}\n\n/* Upload Area */\n.upload-area[data-v-3fadd167] {\n  border: 2px dashed var(--color-border);\n  border-radius: 12px;\n  padding: 2rem;\n  text-align: center;\n  transition: all 0.3s ease;\n  cursor: pointer;\n  background: var(--color-surface-light);\n}\n.upload-area[data-v-3fadd167]:hover {\n  border-color: var(--color-primary);\n  background: var(--color-surface-lighter);\n}\n.upload-area.drag-over[data-v-3fadd167] {\n  border-color: var(--color-primary);\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.1));\n  transform: scale(1.02);\n}\n.file-input[data-v-3fadd167] {\n  display: none;\n}\n.upload-content[data-v-3fadd167] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n}\n.upload-icon[data-v-3fadd167] {\n  font-size: 3rem;\n  opacity: 0.6;\n}\n.upload-text[data-v-3fadd167] {\n  margin: 0;\n  color: var(--color-text);\n  font-size: 1rem;\n}\n.btn-select[data-v-3fadd167] {\n  padding: 0.6rem 1.5rem;\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: #fff;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n.btn-select[data-v-3fadd167]:hover {\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);\n  transform: translateY(-2px);\n}\n.upload-hint[data-v-3fadd167] {\n  margin: 0;\n  font-size: 0.8rem;\n  color: var(--color-text-secondary);\n  opacity: 0.7;\n}\n\n/* File Info */\n.file-info[data-v-3fadd167] {\n  margin-top: 1rem;\n  padding: 1rem;\n  background: var(--color-surface-lighter);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n}\n.file-header[data-v-3fadd167] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.file-icon[data-v-3fadd167] {\n  font-size: 1.5rem;\n}\n.file-name[data-v-3fadd167] {\n  flex: 1;\n  font-weight: 500;\n  color: var(--color-text);\n  word-break: break-all;\n}\n.file-size[data-v-3fadd167] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n}\n.btn-remove[data-v-3fadd167] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  font-size: 1.2rem;\n  padding: 0.25rem;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n.btn-remove[data-v-3fadd167]:hover {\n  background-color: rgba(var(--color-danger-rgb), 0.1);\n  color: var(--color-danger);\n}\n\n/* Import Options */\n.import-options[data-v-3fadd167] {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-top: 1.5rem;\n}\n.option-label[data-v-3fadd167] {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 1rem;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.option-label[data-v-3fadd167]:hover {\n  border-color: var(--color-primary);\n  background: var(--color-surface-lighter);\n}\n.radio-input[data-v-3fadd167] {\n  margin-top: 0.2rem;\n  cursor: pointer;\n}\n.option-text[data-v-3fadd167] {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  flex: 1;\n}\n.option-title[data-v-3fadd167] {\n  font-weight: 600;\n  color: var(--color-text);\n}\n.option-desc[data-v-3fadd167] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.option-desc.warning[data-v-3fadd167] {\n  color: var(--color-warning);\n}\n\n/* Import Result */\n.import-result[data-v-3fadd167] {\n  margin-top: 1.5rem;\n  padding: 1rem;\n  border-radius: 8px;\n  display: flex;\n  gap: 0.75rem;\n  align-items: flex-start;\n}\n.import-result.success[data-v-3fadd167] {\n  background: rgba(var(--color-success-rgb), 0.1);\n  border: 1px solid rgba(var(--color-success-rgb), 0.3);\n}\n.import-result.warning[data-v-3fadd167] {\n  background: rgba(var(--color-warning-rgb), 0.1);\n  border: 1px solid rgba(var(--color-warning-rgb), 0.3);\n}\n.import-result.error[data-v-3fadd167] {\n  background: rgba(var(--color-danger-rgb), 0.1);\n  border: 1px solid rgba(var(--color-danger-rgb), 0.3);\n}\n.result-icon[data-v-3fadd167] {\n  font-size: 1.5rem;\n  flex-shrink: 0;\n}\n.result-content[data-v-3fadd167] {\n  flex: 1;\n}\n.result-message[data-v-3fadd167] {\n  margin: 0 0 0.5rem 0;\n  font-weight: 500;\n  color: var(--color-text);\n}\n.result-details[data-v-3fadd167] {\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n.detail-item[data-v-3fadd167] {\n  font-size: 0.85rem;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n}\n.detail-item.success[data-v-3fadd167] {\n  background: rgba(var(--color-success-rgb), 0.2);\n  color: var(--color-success);\n}\n.detail-item.error[data-v-3fadd167] {\n  background: rgba(var(--color-danger-rgb), 0.2);\n  color: var(--color-danger);\n}\n.modal-footer[data-v-3fadd167] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding: 1.5rem;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n}\n.btn[data-v-3fadd167] {\n  padding: 0.7rem 1.5rem;\n  border-radius: 6px;\n  border: none;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n.btn-cancel[data-v-3fadd167] {\n  background: var(--color-surface-lighter);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-cancel[data-v-3fadd167]:hover:not(:disabled) {\n  background: rgba(var(--color-text-rgb), 0.05);\n  border-color: var(--color-text-secondary);\n}\n.btn-confirm[data-v-3fadd167] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: #fff;\n  border: none;\n  min-width: 120px;\n}\n.btn-confirm[data-v-3fadd167]:hover:not(:disabled) {\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);\n  transform: translateY(-2px);\n}\n.btn-confirm[data-v-3fadd167]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* ÁßªÂä®Á´ØÈÄÇÈÖç */\n@media (max-width: 768px) {\n.modal-container[data-v-3fadd167] {\n    width: 95%;\n    max-width: 100%;\n    border-radius: 8px;\n}\n.modal-header[data-v-3fadd167] {\n    padding: 1rem;\n}\n.modal-title[data-v-3fadd167] {\n    font-size: 1.1rem;\n}\n.modal-content[data-v-3fadd167] {\n    padding: 1rem;\n}\n.upload-area[data-v-3fadd167] {\n    padding: 1.5rem;\n}\n.modal-footer[data-v-3fadd167] {\n    padding: 1rem;\n    flex-direction: column-reverse;\n    gap: 0.75rem;\n}\n.btn[data-v-3fadd167] {\n    width: 100%;\n    padding: 0.8rem 1rem;\n}\n}\n",""]);const s=i},9538:e=>{"use strict";e.exports=ReferenceError},9596:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(4061);const r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),s=e=>""===e;var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const c=({name:e,iconNode:t,absoluteStrokeWidth:n,"absolute-stroke-width":c,strokeWidth:d,"stroke-width":u,size:m=l.width,color:p=l.stroke,...g},{slots:h})=>(0,a.h)("svg",{...l,...g,width:m,height:m,stroke:p,"stroke-width":s(n)||s(c)||!0===n||!0===c?24*Number(d||u||l["stroke-width"])/Number(m):d||u||l["stroke-width"],class:i("lucide",g.class,...e?[`lucide-${r(o(e))}-icon`,`lucide-${r(e)}`]:["lucide-icon"])},[...t.map(e=>(0,a.h)(...e)),...h.default?[h.default()]:[]]),d=(e,t)=>(n,{slots:r,attrs:o})=>(0,a.h)(c,{...o,...n,iconNode:t,name:e},r)},9612:e=>{"use strict";e.exports=Object},9675:e=>{"use strict";e.exports=TypeError},9716:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.legacy-modal-overlay[data-v-08dba163] {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.55);\n  backdrop-filter: blur(6px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10050;\n  padding: 1rem;\n}\n.legacy-modal[data-v-08dba163] {\n  width: 100%;\n  max-width: 860px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 14px 40px rgba(0, 0, 0, 0.35);\n}\n.legacy-modal-header[data-v-08dba163] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.9rem 1rem;\n  border-bottom: 1px solid var(--color-border);\n}\n.title[data-v-08dba163] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-weight: 700;\n}\n.icon-btn[data-v-08dba163] {\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  color: var(--color-text-secondary);\n  padding: 0.25rem;\n  border-radius: 8px;\n}\n.icon-btn[data-v-08dba163]:hover {\n  background: rgba(255, 255, 255, 0.06);\n  color: var(--color-text);\n}\n.legacy-modal-body[data-v-08dba163] {\n  padding: 1rem;\n}\n.hint[data-v-08dba163] {\n  margin: 0 0 0.75rem;\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n  line-height: 1.5;\n}\n.file-row[data-v-08dba163] {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  margin-bottom: 0.75rem;\n}\n.file-name[data-v-08dba163] {\n  font-size: 0.9rem;\n  color: var(--color-text);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.file-name.muted[data-v-08dba163] {\n  color: var(--color-text-secondary);\n}\n.result[data-v-08dba163] {\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  padding: 0.9rem;\n  background: rgba(255, 255, 255, 0.02);\n}\n.summary-grid[data-v-08dba163] {\n  display: grid;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n  gap: 0.6rem;\n  margin-bottom: 0.75rem;\n}\n.kv[data-v-08dba163] {\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  padding: 0.6rem 0.7rem;\n  background: rgba(0, 0, 0, 0.12);\n}\n.k[data-v-08dba163] {\n  display: block;\n  font-size: 0.75rem;\n  color: var(--color-text-secondary);\n}\n.v[data-v-08dba163] {\n  display: block;\n  font-weight: 700;\n  margin-top: 0.15rem;\n}\n.details[data-v-08dba163] {\n  margin-top: 0.6rem;\n}\n.chips[data-v-08dba163] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.35rem;\n  margin-top: 0.5rem;\n}\n.chip[data-v-08dba163] {\n  border: 1px solid var(--color-border);\n  padding: 0.2rem 0.5rem;\n  border-radius: 999px;\n  font-size: 0.8rem;\n}\n.errors[data-v-08dba163] {\n  margin: 0.5rem 0 0;\n  padding-left: 1.1rem;\n  color: #ffb4b4;\n}\n.json-preview[data-v-08dba163] {\n  margin: 0.5rem 0 0;\n  max-height: 220px;\n  overflow: auto;\n  padding: 0.75rem;\n  background: var(--color-code-bg);\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;\n  font-size: 0.8rem;\n}\n.legacy-modal-actions[data-v-08dba163] {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  padding: 0.9rem 1rem;\n  border-top: 1px solid var(--color-border);\n}\n.btn[data-v-08dba163] {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.4rem;\n  padding: 0.55rem 0.8rem;\n  border-radius: 10px;\n  border: 1px solid var(--color-border);\n  background: var(--color-primary);\n  color: #fff;\n  cursor: pointer;\n  font-size: 0.9rem;\n}\n.btn[data-v-08dba163]:disabled {\n  opacity: 0.45;\n  cursor: not-allowed;\n}\n.btn.btn-secondary[data-v-08dba163] {\n  background: transparent;\n  color: var(--color-text);\n}\n.btn.btn-secondary[data-v-08dba163]:hover {\n  background: rgba(255, 255, 255, 0.06);\n}\n@media (max-width: 760px) {\n.summary-grid[data-v-08dba163] {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n}\n",""]);const s=i},9778:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(1601),r=n.n(a),o=n(6314),i=n.n(o)()(r());i.push([e.id,"\n.modal-overlay[data-v-28d63219] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 3000;\n  padding: 20px;\n  backdrop-filter: blur(4px);\n  animation: fadeIn-28d63219 0.2s ease-out;\n}\n@keyframes fadeIn-28d63219 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n.deep-cultivation-modal[data-v-28d63219] {\n  background: var(--color-surface);\n  border-radius: 16px;\n  width: 100%;\n  max-width: 600px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n  animation: slideUp-28d63219 0.3s cubic-bezier(0.16, 1, 0.3, 1);\n}\n@keyframes slideUp-28d63219 {\nfrom {\n    opacity: 0;\n    transform: translateY(30px) scale(0.95);\n}\nto {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n}\n}\n.modal-header[data-v-28d63219] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px;\n  border-bottom: 1px solid var(--color-border);\n  background: linear-gradient(135deg, var(--color-surface-light), rgba(var(--color-primary-rgb), 0.05));\n}\n.modal-header h3[data-v-28d63219] {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text);\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n.close-btn[data-v-28d63219] {\n  background: none;\n  border: none;\n  color: var(--color-text-secondary);\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 8px;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-btn[data-v-28d63219]:hover {\n  background: var(--color-danger);\n  color: white;\n}\n.modal-content[data-v-28d63219] {\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n/* Ê®°Âùó‰ø°ÊÅØÂå∫Âüü */\n.technique-info-section[data-v-28d63219] {\n  background: var(--color-surface-light);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.info-header[data-v-28d63219] {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.technique-icon[data-v-28d63219] {\n  font-size: 2.5rem;\n  width: 60px;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 12px;\n  background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.1), rgba(var(--color-accent-rgb), 0.1));\n}\n.technique-icon.quality-Á•û[data-v-28d63219] { background: linear-gradient(135deg, rgba(220, 38, 38, 0.2), rgba(248, 113, 113, 0.2));\n}\n.technique-icon.quality-‰ªô[data-v-28d63219] { background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(251, 191, 36, 0.2));\n}\n.technique-icon.quality-Â§©[data-v-28d63219] { background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(192, 132, 252, 0.2));\n}\n.technique-icon.quality-Âú∞[data-v-28d63219] { background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.2));\n}\n.technique-icon.quality-ÁéÑ[data-v-28d63219] { background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(52, 211, 153, 0.2));\n}\n.technique-icon.quality-ÈªÑ[data-v-28d63219] { background: linear-gradient(135deg, rgba(250, 204, 21, 0.2), rgba(253, 224, 71, 0.2));\n}\n.technique-details[data-v-28d63219] {\n  flex: 1;\n}\n.technique-name[data-v-28d63219] {\n  font-size: 1.25rem;\n  font-weight: 700;\n  margin: 0 0 8px 0;\n  color: var(--color-text);\n}\n.technique-name.quality-Á•û[data-v-28d63219] { color: #dc2626;\n}\n.technique-name.quality-‰ªô[data-v-28d63219] { color: #f59e0b;\n}\n.technique-name.quality-Â§©[data-v-28d63219] { color: #a855f7;\n}\n.technique-name.quality-Âú∞[data-v-28d63219] { color: #3b82f6;\n}\n.technique-name.quality-ÁéÑ[data-v-28d63219] { color: #10b981;\n}\n.technique-name.quality-ÈªÑ[data-v-28d63219] { color: #facc15;\n}\n.technique-quality[data-v-28d63219] {\n  font-size: 0.9rem;\n  color: var(--color-text-secondary);\n  font-weight: 500;\n}\n\n/* ËøõÂ∫¶Êù° */\n.progress-section[data-v-28d63219] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.progress-label[data-v-28d63219] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.progress-percent[data-v-28d63219] {\n  color: var(--color-primary);\n  font-size: 1rem;\n}\n.progress-bar-bg[data-v-28d63219] {\n  height: 12px;\n  background: rgba(var(--color-border-rgb), 0.3);\n  border-radius: 999px;\n  overflow: hidden;\n  position: relative;\n}\n.progress-bar-fill[data-v-28d63219] {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-primary), var(--color-accent));\n  border-radius: 999px;\n  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n}\n.progress-bar-fill[data-v-28d63219]::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  animation: shine-28d63219 2s infinite;\n}\n@keyframes shine-28d63219 {\nto {\n    left: 100%;\n}\n}\n\n/* ÊïàÊûúÂàóË°® */\n.effects-section[data-v-28d63219] {\n  border-top: 1px solid var(--color-border);\n  padding-top: 12px;\n}\n.effects-section h5[data-v-28d63219] {\n  margin: 0 0 8px 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: var(--color-text);\n}\n.effects-list[data-v-28d63219] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n.effects-list li[data-v-28d63219] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.effect-icon[data-v-28d63219] {\n  font-size: 1rem;\n}\n.attr-bonus[data-v-28d63219] {\n  padding: 2px 8px;\n  background: rgba(var(--color-success-rgb), 0.1);\n  color: var(--color-success);\n  border-radius: 4px;\n  font-weight: 500;\n  margin-left: 4px;\n}\n\n/* ËÆ≠ÁªÉÂ§©Êï∞ÈÄâÊã©Âå∫Âüü */\n.cultivation-days-section[data-v-28d63219] {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.section-label[data-v-28d63219] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text);\n  margin: 0;\n}\n.section-hint[data-v-28d63219] {\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n  margin: 0;\n  line-height: 1.5;\n}\n.input-group[data-v-28d63219] {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n.days-input[data-v-28d63219] {\n  flex: 1;\n  padding: 12px 16px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  transition: all 0.2s;\n}\n.days-input[data-v-28d63219]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  background: var(--color-surface);\n}\n.input-unit[data-v-28d63219] {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--color-text-secondary);\n}\n\n/* Âø´Êç∑ÊåâÈíÆ */\n.preset-buttons[data-v-28d63219] {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n}\n.preset-btn[data-v-28d63219] {\n  padding: 10px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface-light);\n  color: var(--color-text);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.preset-btn[data-v-28d63219]:hover {\n  background: var(--color-surface-hover);\n  border-color: var(--color-primary);\n}\n.preset-btn.active[data-v-28d63219] {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n\n/* ÊèêÁ§∫‰ø°ÊÅØ */\n.cultivation-hints[data-v-28d63219] {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 16px;\n  background: rgba(var(--color-info-rgb), 0.05);\n  border: 1px solid rgba(var(--color-info-rgb), 0.2);\n  border-radius: 8px;\n}\n.hint-item[data-v-28d63219] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 0.85rem;\n  color: var(--color-text-secondary);\n}\n.hint-icon[data-v-28d63219] {\n  font-size: 1rem;\n}\n\n/* Â∫ïÈÉ®ÊåâÈíÆ */\n.modal-footer[data-v-28d63219] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding: 20px 24px;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-surface-light);\n  border-radius: 0 0 16px 16px;\n}\n.btn[data-v-28d63219] {\n  padding: 10px 24px;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 0.95rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n}\n.btn-cancel[data-v-28d63219] {\n  background: var(--color-surface-hover);\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n}\n.btn-cancel[data-v-28d63219]:hover {\n  background: var(--color-border);\n}\n.btn-confirm[data-v-28d63219] {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));\n  color: white;\n}\n.btn-confirm[data-v-28d63219]:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);\n}\n.btn-confirm[data-v-28d63219]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\n@media (max-width: 640px) {\n.deep-cultivation-modal[data-v-28d63219] {\n    max-width: 100%;\n    border-radius: 16px 16px 0 0;\n    max-height: 95vh;\n}\n.modal-header[data-v-28d63219] {\n    padding: 20px;\n}\n.modal-content[data-v-28d63219] {\n    padding: 20px;\n}\n.preset-buttons[data-v-28d63219] {\n    grid-template-columns: repeat(2, 1fr);\n}\n.modal-footer[data-v-28d63219] {\n    padding: 16px 20px;\n}\n}\n",""]);const s=i},9852:(e,t,n)=>{"use strict";n.d(t,{J:()=>v,f:()=>r.getTavernHelper});var a=n(2224),r=n(8651),o=n(4270),i=n(1184),s=n(4582),l=n(9173),c=n(8708),d=n(1513),u=n(7203),m=n(3943),p=n(9207),g=n(406),h=n(4530);class f{static instance=null;stateHistory=[];isSummarizing=!1;compareGameTime(e,t){const n=["Âπ¥","Êúà","Êó•","Â∞èÊó∂","ÂàÜÈíü"];for(const a of n){const n=Number(e?.[a]??0),r=Number(t?.[a]??0);if(n>r)return 1;if(n<r)return-1}return 0}addYears(e,t){return{...e,Âπ¥:Number(e.Âπ¥??0)+t}}randomIntInclusive(e,t){const n=Math.ceil(e),a=Math.floor(t);return Math.floor(Math.random()*(a-n+1))+n}normalizeEventConfig(e){const t=!1!==e?.ÂêØÁî®ÈöèÊú∫‰∫ã‰ª∂,n=Math.max(1,Number(e?.ÊúÄÂ∞èÈó¥ÈöîÂπ¥??1));return{enabled:t,minYears:n,maxYears:Math.max(n,Number(e?.ÊúÄÂ§ßÈó¥ÈöîÂπ¥??10)),customPrompt:String(e?.‰∫ã‰ª∂ÊèêÁ§∫ËØç??"").trim()}}scheduleNextEventTime(e,t,n){const a=this.randomIntInclusive(t,n);return this.addYears(e,a)}async maybeTriggerScheduledWorldEvent(e){const{v3:t,stateForAI:a,shortTermMemoryForPrompt:r}=e,o=t?.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥??null;if(!o)return;const s=t?.Á§æ‰∫§?.‰∫ã‰ª∂??null;if(!s||"object"!=typeof s)return;const{enabled:l,minYears:c,maxYears:d,customPrompt:u}=this.normalizeEventConfig(s.ÈÖçÁΩÆ);if(!l)return;const m=s.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥;if(!m){const e=this.scheduleNextEventTime(o,c,d);s.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=e,a?.Á§æ‰∫§?.‰∫ã‰ª∂&&(a.Á§æ‰∫§.‰∫ã‰ª∂.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=e);const t=(0,i.useGameStateStore)();return void(t.eventSystem&&(t.eventSystem.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=e))}if(!(this.compareGameTime(o,m)<0))try{const{generateWorldEvent:e}=await Promise.resolve().then(n.bind(n,4954)),l=await e({saveData:t,now:o,customPrompt:u}),m=this.scheduleNextEventTime(o,c,d);if(!l){s.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=m,a?.Á§æ‰∫§?.‰∫ã‰ª∂&&(a.Á§æ‰∫§.‰∫ã‰ª∂.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=m);const e=(0,i.useGameStateStore)();return void(e.eventSystem&&(e.eventSystem.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=m))}const p={...l.event,ÂèëÁîüÊó∂Èó¥:o,‰∫ã‰ª∂Êù•Ê∫ê:l.event.‰∫ã‰ª∂Êù•Ê∫ê||"ÈöèÊú∫"};Array.isArray(s.‰∫ã‰ª∂ËÆ∞ÂΩï)||(s.‰∫ã‰ª∂ËÆ∞ÂΩï=[]),s.‰∫ã‰ª∂ËÆ∞ÂΩï.push(p),s.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=m,a?.Á§æ‰∫§?.‰∫ã‰ª∂&&(Array.isArray(a.Á§æ‰∫§.‰∫ã‰ª∂.‰∫ã‰ª∂ËÆ∞ÂΩï)||(a.Á§æ‰∫§.‰∫ã‰ª∂.‰∫ã‰ª∂ËÆ∞ÂΩï=[]),a.Á§æ‰∫§.‰∫ã‰ª∂.‰∫ã‰ª∂ËÆ∞ÂΩï.push(p),a.Á§æ‰∫§.‰∫ã‰ª∂.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=m);const g=(0,i.useGameStateStore)();if(g.eventSystem){const e=g.eventSystem;Array.isArray(e.‰∫ã‰ª∂ËÆ∞ÂΩï)||(e.‰∫ã‰ª∂ËÆ∞ÂΩï=[]),e.‰∫ã‰ª∂ËÆ∞ÂΩï.push(p),e.‰∏ãÊ¨°‰∫ã‰ª∂Êó∂Èó¥=m}r.push(`„ÄêÂàöÂàöÂèëÁîüÁöÑ‰∏ñÁïå‰∫ã‰ª∂„Äë${l.prompt_addition}`)}catch(e){console.warn("[‰∏ñÁïå‰∫ã‰ª∂] Ë∞ÉÂ∫¶/ÁîüÊàêÂ§±Ë¥•:",e)}}extractNarrativeText(e){const t=String(e||"").replace(/<(?:ant[-_]?)?thinking>[\s\S]*?<\/(?:ant[-_]?)?thinking>/gi,"").replace(/<\/?(?:ant[-_]?)?thinking>/gi,"").replace(/<reasoning>[\s\S]*?<\/reasoning>/gi,"").replace(/<\/?reasoning>/gi,"").replace(/<thought>[\s\S]*?<\/thought>/gi,"").replace(/<\/?thought>/gi,"").trim();if(!t)return"";if(t.startsWith("{")||t.includes("```"))try{const e=this.parseAIResponse(t);return e?.text?.trim()||""}catch{const e=t.match(/```(?:json)?\s*([\s\S]*?)```/i);if(e?.[1])try{const t=JSON.parse(e[1].trim());return String(t.text||t.Âèô‰∫ãÊñáÊú¨||t.narrative||"").trim()}catch{return e[1].trim()}}return t}sanitizeActionOptionsForDisplay(e){return Array.isArray(e)?e.filter(e=>"string"==typeof e).map(e=>(0,p.E)(e).trim()).filter(e=>e.length>0):[]}constructor(){}static getInstance(){return this.instance||(this.instance=new f),this.instance}async processPlayerAction(e,t,o){console.log("[AIÂèåÂêëÁ≥ªÁªü] processPlayerAction Êé•Êî∂Âà∞ÁöÑoptions:",{hasOnStreamChunk:!!o?.onStreamChunk,useStreaming:o?.useStreaming,splitResponseGeneration:o?.splitResponseGeneration});const s=(0,i.useGameStateStore)(),c=(0,r.getTavernHelper)(),m=(0,l.useUIStore)();if(!c){const{aiService:e}=await Promise.resolve().then(n.bind(n,7445)),t=e.checkAvailability();if(!t.available)throw new Error(t.message)}const p=o?.generation_id||`gen_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;o?.onProgressUpdate?.("Ëé∑ÂèñÂ≠òÊ°£Êï∞ÊçÆ‚Ä¶");const f=s.toSaveData();if(!f){const e=s.onlineState;if("ËÅîÊú∫"===e?.Ê®°Âºè)throw console.error("[AIÂèåÂêëÁ≥ªÁªü-ËÅîÊú∫Ê®°Âºè] Ê∏∏ÊàèÊï∞ÊçÆ‰∏çÂÆåÊï¥ÔºåÊó†Ê≥ïËøõË°åAIÊé®Êºî"),console.error("[AIÂèåÂêëÁ≥ªÁªü-ËÅîÊú∫Ê®°Âºè] ËØ∑Á°Æ‰øùÔºö"),console.error("  1. Â∑≤ÁªèÊàêÂäüÁ©øË∂äÂà∞ÁõÆÊ†á‰∏ñÁïå"),console.error("  2. ËßíËâ≤Êï∞ÊçÆÂ∑≤Ê≠£Á°ÆÂä†ËΩΩ"),console.error("  3. ‰∏ñÁïåÊï∞ÊçÆÂ∑≤‰ªéÊúçÂä°Âô®ÂêåÊ≠•"),new Error("ËÅîÊú∫Ê®°Âºè‰∏ãÊ∏∏ÊàèÊï∞ÊçÆ‰∏çÂÆåÊï¥ÔºåÊó†Ê≥ïËøõË°åAIÊé®Êºî„ÄÇËØ∑ËøîÂõû‰∏ª‰∏ñÁïåÊàñÈáçÊñ∞Á©øË∂ä„ÄÇ");throw new Error("Êó†Ê≥ïËé∑ÂèñÂ≠òÊ°£Êï∞ÊçÆÔºåËØ∑Á°Æ‰øùËßíËâ≤Â∑≤Âä†ËΩΩ")}o?.onProgressUpdate?.("ÊûÑÂª∫ÊèêÁ§∫ËØçÂπ∂ËØ∑Ê±ÇAIÁîüÊàê‚Ä¶");let v={text:"",mid_term_memory:"",tavern_commands:[],action_options:[]};try{const t=(0,h.ru)(f)?f:(0,h.jj)(f).migrated,r=(0,a.cloneDeep)(t);r.Á§æ‰∫§?.ËÆ∞ÂøÜ&&(delete r.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ,delete r.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ),r.Á≥ªÁªü?.ÂéÜÂè≤?.Âèô‰∫ã&&delete r.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã;let i="";try{const{vectorMemoryService:a}=await Promise.resolve().then(n.bind(n,5184)),o=r.Á§æ‰∫§?.ËÆ∞ÂøÜ?.ÈïøÊúüËÆ∞ÂøÜ||[];if(a.isEnabled()&&Array.isArray(o)&&o.length>0){const n=await a.getStats();if(0===n.total)console.warn("[ÂêëÈáèËÆ∞ÂøÜ] ÂêëÈáèÂ∫ì‰∏∫Á©∫ÔºöËØ∑ÂÖàÂú®„ÄêËÆ∞ÂøÜ‰∏≠ÂøÉ -> ÂêëÈáèÂ∫ì„Äë‰∏ÄÈîÆËΩ¨ÂåñÈïøÊúüËÆ∞ÂøÜ");else{const o=[e||"",(t?.Á§æ‰∫§?.ËÆ∞ÂøÜ?.Áü≠ÊúüËÆ∞ÂøÜ||[]).slice(-2).join("\n")].filter(Boolean).join("\n"),s={currentLocation:r.ËßíËâ≤?.‰ΩçÁΩÆ?.ÊèèËø∞},l=await a.searchMemories(o,s);i=a.formatForAI(l),r.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈïøÊúüËÆ∞ÂøÜ=[],console.log(`[ÂêëÈáèËÆ∞ÂøÜ] Â∑≤Ê≥®ÂÖ• ${l.length} Êù°Áõ∏ÂÖ≥ÈïøÊúüËÆ∞ÂøÜÔºàÂêëÈáèÂ∫ìÊÄªÊï∞Ôºö${n.total}Ôºâ`)}}}catch(e){console.warn("[ÂêëÈáèËÆ∞ÂøÜ] Ê£ÄÁ¥¢Â§±Ë¥•Ôºå‰ΩøÁî®ÂÖ®ÈáèÊ®°Âºè:",e)}const s=t?.Á§æ‰∫§?.ËÆ∞ÂøÜ?.Áü≠ÊúüËÆ∞ÂøÜ||[],l=r.ËßíËâ≤?.Â±ûÊÄß,b=r.ËßíËâ≤?.Ë∫´‰ªΩ,y=e=>e?"string"==typeof e?e:Array.isArray(e)?e.map(e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&(e.name||e.ÂêçÁß∞)||"").filter(Boolean).join(", ")||"Êó†":"Êú™Áü•Ê†ºÂºè":"Êó†";let x="# ËßíËâ≤Ê†∏ÂøÉÁä∂ÊÄÅÈÄüËßà\n";if(l){if(x+=`\n- ÁîüÂëΩ: ÁîüÂëΩÂÄº${l.ÁîüÂëΩÂÄº?.ÂΩìÂâç}/${l.ÁîüÂëΩÂÄº?.‰∏äÈôê} ÁîµÈáè${l.ÁîµÈáè?.ÂΩìÂâç}/${l.ÁîµÈáè?.‰∏äÈôê} Â∏¶ÂÆΩ${l.Â∏¶ÂÆΩ?.ÂΩìÂâç}/${l.Â∏¶ÂÆΩ?.‰∏äÈôê} ÂØøÂëΩ${l.ÂØøÂëΩ?.ÂΩìÂâç}/${l.ÂØøÂëΩ?.‰∏äÈôê}`,l.Èò∂‰Ωç){const e=l.Èò∂‰Ωç;x+=`\n- Èò∂‰Ωç: ${e.ÂêçÁß∞}-${e.Èò∂ÊÆµ} (${e.ÂΩìÂâçËøõÂ∫¶}/${e.‰∏ã‰∏ÄÁ∫ßÊâÄÈúÄ})`}l.Â£∞Êúõ&&(x+=`\n- Â£∞Êúõ: ${l.Â£∞Êúõ}`);const e=r.ËßíËâ≤?.ÊïàÊûú??[];Array.isArray(e)&&e.length>0&&(x+=`\n- ÊïàÊûú: ${e.filter(e=>e&&"object"==typeof e&&e.Áä∂ÊÄÅÂêçÁß∞).map(e=>e.Áä∂ÊÄÅÂêçÁß∞).join(", ")}`)}b?.Ê®°Âùó&&(x+=`\n- Ê®°Âùó: ${y(b.Ê®°Âùó)}`);const k=Math.floor(100*Math.random())+1,w=b?.ÂàùÂßãÂÖ≠Áª¥||{},E=b?.ÊàêÈïøÂÖ≠Áª¥||{},N=(w.ËµÑÊ∫êÊÑüÁü•||5)+(E.ËµÑÊ∫êÊÑüÁü•||0),S=1+N/100,_=Math.round(k*S),V=Math.round((_-50)/5),C=r.ËßíËâ≤?.‰ΩçÁΩÆ,A=C?.‰ø°Âè∑Âº∫Â∫¶||50,D={È™∞Â≠ê:{ÂéüÂßãÂÄº:k,ËµÑÊ∫êÊÑüÁü•ÊÄªÂíå:N,ËµÑÊ∫êÊÑüÁü•Á≥ªÊï∞:S,‰øÆÊ≠£ÂêéÂÄº:_,ÊúÄÁªàÂä†Êàê:V},ÁéØÂ¢É:{‰ø°Âè∑Âº∫Â∫¶:A,ËÆ≠ÁªÉ‰øÆÊ≠£:Math.round((A-50)/10),Âà∂ÈÄ†‰øÆÊ≠£:Math.round((A-50)/15),ÊàòÊñó‰øÆÊ≠£:Math.round((A-50)/20)}};x+=`\n\n# Êú¨ÂõûÂêàÂà§ÂÆöÊï∞ÊçÆÔºàÂâçÁ´ØÂ∑≤ËÆ°ÁÆóÔºâ\n**È™∞Â≠êÂä†Êàê**: ${V>=0?"+":""}${V} (ÂéüÂßãÈ™∞Â≠ê${k} √ó ËµÑÊ∫êÊÑüÁü•Á≥ªÊï∞${S.toFixed(2)} = ${_})\n**ÁéØÂ¢É‰øÆÊ≠£**:\n  - ‰ø°Âè∑Âº∫Â∫¶: ${A}\n  - ËÆ≠ÁªÉ/ÂçáÁ∫ß: ${D.ÁéØÂ¢É.ËÆ≠ÁªÉ‰øÆÊ≠£>=0?"+":""}${D.ÁéØÂ¢É.ËÆ≠ÁªÉ‰øÆÊ≠£}\n  - Âà∂ÈÄ†/ÊîπË£Ö: ${D.ÁéØÂ¢É.Âà∂ÈÄ†‰øÆÊ≠£>=0?"+":""}${D.ÁéØÂ¢É.Âà∂ÈÄ†‰øÆÊ≠£}\n  - ÊàòÊñóË°åÂä®: ${D.ÁéØÂ¢É.ÊàòÊñó‰øÆÊ≠£>=0?"+":""}${D.ÁéØÂ¢É.ÊàòÊñó‰øÆÊ≠£}\n\n‚ö†Ô∏è **ÈáçË¶Å**ÔºöÂà§ÂÆöÊó∂Áõ¥Êé•‰ΩøÁî®‰ª•‰∏äÊï∞ÂÄºÔºå‰∏çË¶ÅËá™Â∑±ËÆ°ÁÆóÔºÅ\n- È™∞Â≠êÂä†ÊàêÂõ∫ÂÆö‰∏∫: ${V>=0?"+":""}${V}\n- ÁéØÂ¢É‰øÆÊ≠£Ê†πÊçÆÂà§ÂÆöÁ±ªÂûãÈÄâÊã©ÂØπÂ∫îÁöÑÂÄº`;const T=JSON.stringify(r),B=[];m.enableActionOptions&&B.push("actionOptions"),B.push("eventSystem");const I=Array.isArray(s)?[...s]:[];await this.maybeTriggerScheduledWorldEvent({v3:t,stateForAI:r,shortTermMemoryForPrompt:I});const M=`\n${await(0,d.q)(B,m.actionOptionsPrompt)}\n\n${x}\n${i?`\n${i}\n`:""}\n# Ê∏∏ÊàèÁä∂ÊÄÅ\n‰Ω†Ê≠£Âú®ËµõÂçö‰∏ñÁïå„ÄäË∂ÖÂá°Êñ∞Áîü„Äã‰∏≠ÊâÆÊºîGM„ÄÇ‰ª•‰∏ãÊòØÂΩìÂâçÂÆåÊï¥Ê∏∏ÊàèÂ≠òÊ°£(JSONÊ†ºÂºè):\n${T}\n`.trim(),z=e&&e.toString().trim()||"ÁªßÁª≠ÂΩìÂâçÊ¥ªÂä®";console.log("[AIÂèåÂêëÁ≥ªÁªü] Áî®Êà∑ËæìÂÖ• userMessage:",e),console.log("[AIÂèåÂêëÁ≥ªÁªü] Â§ÑÁêÜÂêé userActionForAI:",z);const P=[{content:M,role:"system",depth:4,position:"in_chat"}],R=void 0!==I?I:s;if(R.length>0&&P.push({content:`# „ÄêÊúÄËøë‰∫ã‰ª∂„Äë\n${R.join("\n")}„ÄÇÊ†πÊçÆËøôÂàöÂàöÂèëÁîüÁöÑÊñáÊú¨‰∫ã‰ª∂ÔºåÂêàÁêÜÁîüÊàê‰∏ã‰∏ÄÊ¨°ÊñáÊú¨‰ø°ÊÅØÔºåË¶Å‰øùËØÅË°îÊé•ÊµÅÁïÖ„ÄÅ‰∏çÊñ≠Â±ÇÔºåÁ¨¶Âêà‰∏äÊñáÁöÑÊñáÊú¨‰ø°ÊÅØ`,role:"assistant",depth:2,position:"in_chat"}),m.useSystemCot){const e=await(0,u.XH)("cotCore");P.push({content:e.replace("{{Áî®Êà∑ËæìÂÖ•}}",z),role:"system",depth:1,position:"in_chat"})}const $=r?.Á≥ªÁªü?.ËÅîÊú∫?.Á©øË∂äÁõÆÊ†á;if($?.Á¶ªÁ∫ø‰ª£ÁêÜÊèêÁ§∫ËØç){const e=$.ËßíËâ≤‰ø°ÊÅØ;let t="# „ÄêÁ¶ªÁ∫øÁé©ÂÆ∂‰ª£ÁêÜ„Äë\n‰Ω†Ê≠£Âú®ÊâÆÊºîÂè¶‰∏Ä‰ΩçÁé©ÂÆ∂ÁöÑËßíËâ≤„ÄÇ";e&&(t+="\nËØ•ËßíËâ≤‰ø°ÊÅØÔºö",e.name&&(t+=`\n- ÂêçÁß∞Ôºö${e.name}`),e.cultivation_level&&(t+=`\n- Á≠âÁ∫ßÔºö${e.cultivation_level}`),e.sect&&(t+=`\n- ÁªÑÁªáÔºö${e.sect}`),e.personality&&(t+=`\n- ÊÄßÊ†ºÔºö${e.personality}`)),t+=`\n\nËØ•Áé©ÂÆ∂ËÆæÂÆöÁöÑË°å‰∏∫ÊåáÂçóÔºö\n${$.Á¶ªÁ∫ø‰ª£ÁêÜÊèêÁ§∫ËØç}`,t+="\n\nËØ∑Ê†πÊçÆ‰ª•‰∏äËÆæÂÆöÊù•ÊâÆÊºîËøô‰ΩçÁ¶ªÁ∫øÁé©ÂÆ∂ÁöÑËßíËâ≤Ôºå‰∏éÂΩìÂâçÁé©ÂÆ∂‰∫íÂä®„ÄÇ",P.push({content:t,role:"system",depth:2,position:"in_chat"})}const O=z;P.push({content:"</input>",role:"assistant",depth:0,position:"in_chat"});const{aiService:L}=await Promise.resolve().then(n.bind(n,7445)),F=L.getConfig(),j=o?.useStreaming??F.streaming??!0,U=(()=>{if("boolean"==typeof o?.splitResponseGeneration)return o.splitResponseGeneration;try{const e=localStorage.getItem("dad_game_settings");if(!e)return!1;const t=JSON.parse(e);return!0===t?.splitResponseGeneration}catch{return!1}})();let q="";if(U){const e=async e=>{const t=(await(0,u.XH)(1===e?"splitGenerationStep1":"splitGenerationStep2")).trim(),n=!!c,[a,r,o,i,s]=await Promise.all([(0,u.XH)("coreOutputRules"),(0,u.XH)("businessRules"),(0,u.XH)("dataDefinitions"),(0,u.XH)("textFormatRules"),(0,u.XH)("worldStandards")]),l=n?o:(0,g.qh)(o),d=[t];if(1===e)return d.push(i,s),`\n${d.join("\n\n---\n\n")}\n\n${x}\n`.trim();if(d.push(a,r,l,i,s),2===e&&m.enableActionOptions){const e=await(0,u.XH)("actionOptions"),t=m.actionOptionsPrompt?`**Áî®Êà∑Ëá™ÂÆö‰πâË¶ÅÊ±Ç**Ôºö${m.actionOptionsPrompt}\n\nËØ∑‰∏•Ê†ºÊåâ‰ª•‰∏äË¶ÅÊ±ÇÁîüÊàêË°åÂä®ÈÄâÈ°π„ÄÇ`:"ÔºàÊó†ÁâπÊÆäË¶ÅÊ±ÇÔºåÊåâÈªòËÆ§ËßÑÂàôÁîüÊàêÔºâ";d.push(e.replace("{{CUSTOM_ACTION_PROMPT}}",t))}return 2===e&&d.push(await(0,u.XH)("eventSystemRules")),`\n${d.join("\n\n---\n\n")}\n\n${x}\n\n# Ê∏∏ÊàèÁä∂ÊÄÅÔºàJSONÔºâ\n${T}\n`.trim()},t=(e,t=!1)=>{const n=[{content:e,role:"system",depth:4,position:"in_chat"}],a=void 0!==I?I:s;return t&&a.length>0&&n.push({content:`# „ÄêÊúÄËøë‰∫ã‰ª∂„Äë\n${a.join("\n")}„ÄÇÊ†πÊçÆËøôÂàöÂàöÂèëÁîüÁöÑÊñáÊú¨‰∫ã‰ª∂ÔºåÂêàÁêÜÁîüÊàê‰∏ã‰∏ÄÊ¨°ÊñáÊú¨‰ø°ÊÅØÔºåË¶Å‰øùËØÅË°îÊé•ÊµÅÁïÖ„ÄÅ‰∏çÊñ≠Â±ÇÔºåÁ¨¶Âêà‰∏äÊñáÁöÑÊñáÊú¨‰ø°ÊÅØ`,role:"assistant",depth:2,position:"in_chat"}),n.push({content:"</input>",role:"assistant",depth:0,position:"in_chat"}),n},n=async e=>c?await c.generate({user_input:e.user_input,should_stream:e.should_stream,generation_id:e.generation_id,usageType:"main",injects:e.injects}):await L.generate({user_input:e.user_input,should_stream:e.should_stream,generation_id:e.generation_id,usageType:"main",injects:e.injects,onStreamChunk:e.onStreamChunk});o?.onProgressUpdate?.("ÂàÜÊ≠•ÁîüÊàêÔºöÁ¨¨1Ê≠•ÔºàÊ≠£ÊñáÔºâ‚Ä¶");const a=t(await e(1),!0),r=await n({user_input:O,should_stream:j,generation_id:`${p}_step1`,injects:a,onStreamChunk:o?.onStreamChunk}),i=this.extractNarrativeText(String(r));o?.onProgressUpdate?.("ÂàÜÊ≠•ÁîüÊàêÔºöÁ¨¨2Ê≠•ÔºàËÆ∞ÂøÜ/Êåá‰ª§/Ë°åÂä®ÈÄâÈ°πÔºâ‚Ä¶");const l=t(await e(2),!1),d=`\n„ÄêÁî®Êà∑Êú¨Ê¨°Êìç‰Ωú„Äë\n${O}\n\n„ÄêÁ¨¨1Ê≠•Ê≠£Êñá„Äë\n${i}\n\nËØ∑Êåâ"ÂàÜÊ≠•ÁîüÊàêÔºàÁ¨¨2Ê≠•Ôºâ"ËßÑÂàôËæìÂá∫ JSON„ÄÇ\n`.trim();let h;q=await n({user_input:d,should_stream:!1,generation_id:`${p}_step2`,injects:l,onStreamChunk:void 0});try{h=this.parseAIResponse(String(q))}catch{h={text:"",mid_term_memory:"",tavern_commands:[],action_options:[]}}v={text:i,mid_term_memory:h.mid_term_memory||"",tavern_commands:h.tavern_commands||[],action_options:m.enableActionOptions?this.sanitizeActionOptionsForDisplay(h.action_options||[]):[]}}else if(c)q=await c.generate({user_input:O,should_stream:j,generation_id:p,usageType:"main",injects:P});else{const{aiService:e}=await Promise.resolve().then(n.bind(n,7445));q=await e.generate({user_input:O,should_stream:j,generation_id:p,usageType:"main",injects:P,onStreamChunk:o?.onStreamChunk})}if(!U)try{v=this.parseAIResponse(q)}catch(e){console.error("[AIÂèåÂêëÁ≥ªÁªü] ÂìçÂ∫îËß£ÊûêÂ§±Ë¥•ÔºåÂ∞ùËØïÂÆπÈîôÂ§ÑÁêÜ:",e);const t=String(q).trim();let n="",a="",r=[],o=[];const i=t.match(/```(?:json)?\s*\n?([\s\S]*?)\n?```/);if(i&&i[1])try{const e=JSON.parse(i[1].trim());n=e.text||e.Âèô‰∫ãÊñáÊú¨||e.narrative||"",a=e.mid_term_memory||e.‰∏≠ÊúüËÆ∞ÂøÜ||"",r=e.tavern_commands||e.Êåá‰ª§||[],o=e.action_options||[]}catch(e){console.warn("[AIÂèåÂêëÁ≥ªÁªü] JSON‰ª£Á†ÅÂùóËß£ÊûêÂ§±Ë¥•:",e)}if(!n)try{const e=JSON.parse(t);n=e.text||e.Âèô‰∫ãÊñáÊú¨||e.narrative||"",a=e.mid_term_memory||e.‰∏≠ÊúüËÆ∞ÂøÜ||"",r=e.tavern_commands||e.Êåá‰ª§||[],o=e.action_options||[]}catch{const e=t.match(/"(?:text|Âèô‰∫ãÊñáÊú¨|narrative)"\s*:\s*"((?:[^"\\]|\\.)*)"/);if(e&&e[1])n=e[1].replace(/\\n/g,"\n").replace(/\\"/g,'"');else{const e=t.match(/\{[\s\S]*"text"[\s\S]*\}/);if(e)try{const t=JSON.parse(e[0]);n=t.text||"",a=t.mid_term_memory||"",r=t.tavern_commands||[],o=t.action_options||[]}catch{n=t}}}o&&0!==o.length||(console.warn("[AIÂèåÂêëÁ≥ªÁªü] ‚ö†Ô∏è ÂÆπÈîôÊ®°ÂºèÔºöaction_options‰∏∫Á©∫Ôºå‰ΩøÁî®ÈªòËÆ§ÈÄâÈ°π"),o=["ÁªßÁª≠ÂΩìÂâçÊ¥ªÂä®","ËßÇÂØüÂë®Âõ¥ÁéØÂ¢É","‰∏éÈôÑËøëÁöÑ‰∫∫‰∫§Ë∞à","Êü•ÁúãËá™Ë∫´Áä∂ÊÄÅ","Á®ç‰Ωú‰ºëÊÅØË∞ÉÊï¥"]),v={text:n,mid_term_memory:a,tavern_commands:r,action_options:this.sanitizeActionOptionsForDisplay(o)},console.warn("[AIÂèåÂêëÁ≥ªÁªü] ‰ΩøÁî®ÂÆπÈîôÊ®°ÂºèÊèêÂèñÂÜÖÂÆπ - ÊñáÊú¨ÈïøÂ∫¶:",n.length,"ËÆ∞ÂøÜ:",a.length,"Êåá‰ª§Êï∞:",r.length,"Ë°åÂä®ÈÄâÈ°π:",o.length)}if(!v||!v.text||""===v.text.trim())throw console.error("[AIÂèåÂêëÁ≥ªÁªü] AIÂìçÂ∫î‰∏∫Á©∫ÔºåÂéüÂßãÂìçÂ∫î:",String(q).substring(0,200)),new Error("AIÂìçÂ∫î‰∏∫Á©∫ÊàñÊ†ºÂºèÈîôËØØ");j&&o?.onStreamComplete&&o.onStreamComplete()}catch(e){console.error("[AIÂèåÂêëÁ≥ªÁªü] AIÁîüÊàêÂ§±Ë¥•:",e),v={text:"ÔºàAIÁîüÊàêÂ§±Ë¥•Ôºâ",mid_term_memory:"",tavern_commands:[],action_options:["ÈáçËØïÂΩìÂâçÊìç‰Ωú","Êü•ÁúãËá™Ë∫´Áä∂ÊÄÅ","Á®ç‰Ωú‰ºëÊÅØ"]}}o?.onProgressUpdate?.("ÊâßË°åAIÊåá‰ª§‚Ä¶");try{const{saveData:e}=await this.processGmResponse(v,f);return o?.onStateChange&&o.onStateChange(e),v}catch(e){return console.error("[AIÂèåÂêëÁ≥ªÁªü] Êåá‰ª§ÊâßË°åÂ§±Ë¥•:",e),v}}async generateInitialMessage(e,t,a){const o=(0,r.getTavernHelper)(),i=(0,l.useUIStore)();if(!o){const{aiService:e}=await Promise.resolve().then(n.bind(n,7445)),t=e.checkAvailability();if(!t.available)throw new Error(t.message)}let s;a?.onProgressUpdate?.("ÊûÑÂª∫ÊèêÁ§∫ËØçÂπ∂ËØ∑Ê±ÇAIÁîüÊàê‚Ä¶");try{const{aiService:r}=await Promise.resolve().then(n.bind(n,7445)),l=r.getConfig(),c=a?.useStreaming??l.streaming??!0,d=a?.generateMode||"generate",m=(()=>{if("boolean"==typeof a?.splitResponseGeneration)return a.splitResponseGeneration;try{const e=localStorage.getItem("dad_game_settings");if(!e)return!1;const t=JSON.parse(e);return!0===t?.splitResponseGeneration}catch{return!1}})();let p="";if(m){const n=async t=>`\n${(await(0,u.XH)(1===t?"splitInitStep1":"splitInitStep2")).trim()}\n\n---\n\n# ÂéüÂßãÁ≥ªÁªüÊèêÁ§∫ËØçÔºà‰æõÂèÇËÄÉÔºõËã•‰∏éÊú¨Ê≠•ÁõÆÊ†áÂÜ≤Á™ÅÔºå‰ª•Êú¨Ê≠•ËßÑÂàô‰∏∫ÂáÜÔºâ\n${e}\n          `.trim(),l=async e=>{const t=`initial_message_split_step${e.step}_${Date.now()}`;if(o){if("generateRaw"===d)return String(await o.generateRaw({ordered_prompts:[{role:"system",content:e.system},{role:"user",content:e.user}],should_stream:e.should_stream,generation_id:t,usageType:"main"}));const n=[{content:e.system,role:"user",depth:4,position:"in_chat"}];return await o.generate({user_input:e.user,should_stream:e.should_stream,generation_id:t,usageType:"main",injects:n})}if("generateRaw"===d)return await r.generateRaw({ordered_prompts:[{role:"system",content:e.system},{role:"user",content:e.user}],should_stream:e.should_stream,generation_id:t,usageType:"main",onStreamChunk:e.onStreamChunk});const n=[{content:e.system,role:"user",depth:4,position:"in_chat"}];return await r.generate({user_input:e.user,should_stream:e.should_stream,generation_id:t,usageType:"main",injects:n,onStreamChunk:e.onStreamChunk})};a?.onProgressUpdate?.("ÂàÜÊ≠•ÁîüÊàêÔºöÁ¨¨1Ê≠•ÔºàÂºÄÂ±ÄÊ≠£ÊñáÔºâ‚Ä¶");const m=await l({step:1,system:await n(1),user:t,should_stream:c,onStreamChunk:a?.onStreamChunk}),p=this.extractNarrativeText(String(m));c&&a?.onStreamComplete&&a.onStreamComplete(),a?.onProgressUpdate?.("ÂàÜÊ≠•ÁîüÊàêÔºöÁ¨¨2Ê≠•ÔºàÂºÄÂ±ÄËÆ∞ÂøÜ/Êåá‰ª§/Ë°åÂä®ÈÄâÈ°πÔºâ‚Ä¶");const g=`\n„ÄêÂºÄÂ±ÄÁî®Êà∑ÊèêÁ§∫„Äë\n${t}\n\n„ÄêÁ¨¨1Ê≠•Ê≠£Êñá„Äë\n${p}\n\nËØ∑Êåâ‚ÄúÂàÜÊ≠•ÁîüÊàêÔºàÂºÄÂ±Ä-Á¨¨2Ê≠•Ôºâ‚ÄùËßÑÂàôËæìÂá∫ JSON„ÄÇ\n        `.trim(),h=await l({step:2,system:await n(2),user:g,should_stream:!1,onStreamChunk:void 0});let f;try{f=this.parseAIResponse(String(h))}catch{f={text:"",mid_term_memory:"",tavern_commands:[],action_options:[]}}const v=["ÂõõÂ§ÑËµ∞Âä®ÁÜüÊÇâÁéØÂ¢É","Êü•ÁúãËá™Ë∫´Áä∂ÊÄÅ","‰∏éÈôÑËøëÁöÑ‰∫∫‰∫§Ë∞à","ÂØªÊâæËÆ≠ÁªÉÁÇπ","ÊâìÂê¨Âë®Âõ¥Ê∂àÊÅØ"];if(s={text:p,mid_term_memory:f.mid_term_memory||"",tavern_commands:f.tavern_commands||[],action_options:i.enableActionOptions?this.sanitizeActionOptionsForDisplay(f.action_options?.length?f.action_options:v):[]},!s||!s.text)throw new Error("AIÂìçÂ∫îËß£ÊûêÂ§±Ë¥•Êàñ‰∏∫Á©∫");return s}if(o)if("generateRaw"===d)console.log("[AIÂèåÂêëÁ≥ªÁªü] ÈÖíÈ¶ÜÊ®°Âºè - ‰ΩøÁî® generateRaw Ê®°ÂºèÁîüÊàêÂàùÂßãÊ∂àÊÅØ"),p=String(await o.generateRaw({ordered_prompts:[{role:"system",content:e},{role:"user",content:t}],should_stream:c,generation_id:`initial_message_raw_${Date.now()}`,usageType:"main"}));else{console.log("[AIÂèåÂêëÁ≥ªÁªü] ÈÖíÈ¶ÜÊ®°Âºè - ‰ΩøÁî® generate Ê®°ÂºèÁîüÊàêÂàùÂßãÊ∂àÊÅØ");const n=[{content:e,role:"user",depth:4,position:"in_chat"}];p=await o.generate({user_input:t,should_stream:c,generation_id:`initial_message_${Date.now()}`,usageType:"main",injects:n})}else{const{aiService:r}=await Promise.resolve().then(n.bind(n,7445));if("generateRaw"===d)console.log("[AIÂèåÂêëÁ≥ªÁªü] Ëá™ÂÆö‰πâAPIÊ®°Âºè - ‰ΩøÁî® generateRaw Ê®°ÂºèÁîüÊàêÂàùÂßãÊ∂àÊÅØ"),p=await r.generateRaw({ordered_prompts:[{role:"system",content:e},{role:"user",content:t}],should_stream:c,generation_id:`initial_message_raw_${Date.now()}`,usageType:"main",onStreamChunk:a?.onStreamChunk});else{console.log("[AIÂèåÂêëÁ≥ªÁªü] Ëá™ÂÆö‰πâAPIÊ®°Âºè - ‰ΩøÁî® generate Ê®°ÂºèÁîüÊàêÂàùÂßãÊ∂àÊÅØ");const n=[{content:e,role:"user",depth:4,position:"in_chat"}];p=await r.generate({user_input:t,should_stream:c,generation_id:`initial_message_${Date.now()}`,usageType:"main",injects:n,onStreamChunk:a?.onStreamChunk})}}try{s=this.parseAIResponse(String(p))}catch(e){console.error("[AIÂèåÂêëÁ≥ªÁªü] ÂàùÂßãÊ∂àÊÅØËß£ÊûêÂ§±Ë¥•ÔºåÂ∞ùËØïÂÆπÈîôÂ§ÑÁêÜ:",e);const t=String(p).trim();let n="",a="",r=[];const o=t.match(/```(?:json)?\s*\n?([\s\S]*?)\n?```/);if(o&&o[1])try{const e=JSON.parse(o[1].trim());n=e.text||e.Âèô‰∫ãÊñáÊú¨||e.narrative||"",a=e.mid_term_memory||e.‰∏≠ÊúüËÆ∞ÂøÜ||"",r=e.tavern_commands||e.Êåá‰ª§||[]}catch(e){console.warn("[AIÂèåÂêëÁ≥ªÁªü] JSON‰ª£Á†ÅÂùóËß£ÊûêÂ§±Ë¥•:",e)}if(!n)try{const e=JSON.parse(t);n=e.text||e.Âèô‰∫ãÊñáÊú¨||e.narrative||"",a=e.mid_term_memory||e.‰∏≠ÊúüËÆ∞ÂøÜ||"",r=e.tavern_commands||e.Êåá‰ª§||[]}catch{const e=t.match(/"(?:text|Âèô‰∫ãÊñáÊú¨|narrative)"\s*:\s*"((?:[^"\\]|\\.)*)"/);if(e&&e[1])n=e[1].replace(/\\n/g,"\n").replace(/\\"/g,'"');else{const e=t.match(/\{[\s\S]*"text"[\s\S]*\}/);if(e)try{const t=JSON.parse(e[0]);n=t.text||"",a=t.mid_term_memory||"",r=t.tavern_commands||[]}catch{n=t}}}let i=[];try{const e=t.match(/```(?:json)?\s*\n?([\s\S]*?)\n?```/);e&&e[1]&&(i=JSON.parse(e[1].trim()).action_options||[])}catch{}i&&0!==i.length||(console.warn("[AIÂèåÂêëÁ≥ªÁªü] ‚ö†Ô∏è ÂàùÂßãÊ∂àÊÅØÔºöaction_options‰∏∫Á©∫Ôºå‰ΩøÁî®ÈªòËÆ§ÈÄâÈ°π"),i=["ÂõõÂ§ÑËµ∞Âä®ÁÜüÊÇâÁéØÂ¢É","Êü•ÁúãËá™Ë∫´Áä∂ÊÄÅ","‰∏éÈôÑËøëÁöÑ‰∫∫‰∫§Ë∞à","ÂØªÊâæÂÆâÂÖ®ÊçÆÁÇπ","ÊâìÂê¨Âë®Âõ¥ÊÉÖÊä•"]),s={text:n,mid_term_memory:a,tavern_commands:r,action_options:this.sanitizeActionOptionsForDisplay(i)},console.warn("[AIÂèåÂêëÁ≥ªÁªü] ‰ΩøÁî®ÂÆπÈîôÊ®°ÂºèÊèêÂèñÂàùÂßãÊ∂àÊÅØ - ÊñáÊú¨ÈïøÂ∫¶:",n.length,"ËÆ∞ÂøÜ:",a.length,"Êåá‰ª§Êï∞:",r.length,"Ë°åÂä®ÈÄâÈ°π:",i.length)}if(!s||!s.text)throw new Error("AIÂìçÂ∫îËß£ÊûêÂ§±Ë¥•Êàñ‰∏∫Á©∫");return c&&a?.onStreamComplete&&a.onStreamComplete(),s}catch(e){throw console.error("[AIÂèåÂêëÁ≥ªÁªü] ÂàùÂßãÊ∂àÊÅØÁîüÊàêÂ§±Ë¥•:",e),new Error(`ÂàùÂßãÊ∂àÊÅØÁîüÊàêÂ§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}}_getMinutes(e){return e.ÂàÜÈíü??0}_formatGameTime(e){if(!e)return"„ÄêÈúìËôπÁ∫™ÂÖÉÂÖÉÂπ¥„Äë";const t=this._getMinutes(e);return`„ÄêÈúìËôπÁ∫™ÂÖÉ${e.Âπ¥}Âπ¥${e.Êúà}Êúà${e.Êó•}Êó• ${String(e.Â∞èÊó∂).padStart(2,"0")}:${String(t).padStart(2,"0")}„Äë`}async processGmResponse(e,t,r=!1){const{repairSaveData:o}=await Promise.resolve().then(n.bind(n,6588)),s=o(t),l=(0,a.cloneDeep)(s),d=[];if(l.Á≥ªÁªü||(l.Á≥ªÁªü={}),l.Á≥ªÁªü.ÂéÜÂè≤||(l.Á≥ªÁªü.ÂéÜÂè≤={Âèô‰∫ã:[]}),Array.isArray(l.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã)||(l.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã=[]),e.text?.trim()){const t=this._formatGameTime(l.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥),n=(0,p.E)(e.text).trim(),r={type:"gm",role:"assistant",content:`${t}${n}`,time:t,actionOptions:this.sanitizeActionOptionsForDisplay(e.action_options||[])};l.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã.push(r),d.push({key:`Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã[${l.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã.length-1}]`,action:"push",oldValue:void 0,newValue:(0,a.cloneDeep)(r)}),l.Á§æ‰∫§||(l.Á§æ‰∫§={}),l.Á§æ‰∫§.ËÆ∞ÂøÜ||(l.Á§æ‰∫§.ËÆ∞ÂøÜ={Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]}),Array.isArray(l.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ)||(l.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ=[]),l.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ.push(`${t}${n}`)}const u=(0,p.E)(e.mid_term_memory||"").trim();if(u){l.Á§æ‰∫§||(l.Á§æ‰∫§={}),l.Á§æ‰∫§.ËÆ∞ÂøÜ||(l.Á§æ‰∫§.ËÆ∞ÂøÜ={Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]}),Array.isArray(l.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ)||(l.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ=[]);const e=this._formatGameTime(l.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥);l.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ.push(`${e}${u}`)}let g=10;try{const e=localStorage.getItem("memory-settings");if(e){const t=JSON.parse(e);"number"==typeof t.shortTermLimit&&t.shortTermLimit>0&&(g=t.shortTermLimit)}}catch(e){console.warn("[AIÂèåÂêëÁ≥ªÁªü] ËØªÂèñËÆ∞ÂøÜÈÖçÁΩÆÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÂÄº:",e)}for(;l.Á§æ‰∫§?.ËÆ∞ÂøÜ?.Áü≠ÊúüËÆ∞ÂøÜ&&l.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ.length>g;)if(l.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ.shift(),console.log(`[AIÂèåÂêëÁ≥ªÁªü] Áü≠ÊúüËÆ∞ÂøÜË∂ÖËøá‰∏äÈôêÔºà${g}Êù°ÔºâÔºåÂ∑≤Âà†Èô§ÊúÄÊóßÁöÑÁü≠ÊúüËÆ∞ÂøÜ„ÄÇÂΩìÂâçÁü≠ÊúüËÆ∞ÂøÜÊï∞Èáè: ${l.Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ.length}`),l.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ&&l.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ.length>0){const e=l.Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ.shift();e&&(Array.isArray(l.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ)||(l.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ=[]),l.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ.push(e),console.log(`[AIÂèåÂêëÁ≥ªÁªü] Â∑≤Â∞ÜÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜËΩ¨Âåñ‰∏∫Ê≠£Âºè‰∏≠ÊúüËÆ∞ÂøÜ„ÄÇÂΩìÂâç‰∏≠ÊúüËÆ∞ÂøÜÊï∞Èáè: ${l.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ.length}`))}try{const e=JSON.parse(localStorage.getItem("memory-settings")||"{}").midTermTrigger??25;l.Á§æ‰∫§?.ËÆ∞ÂøÜ?.‰∏≠ÊúüËÆ∞ÂøÜ&&l.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ.length>=e&&this.triggerMemorySummary().catch(e=>{console.error("[AIÂèåÂêëÁ≥ªÁªü] Ëá™Âä®ËÆ∞ÂøÜÊÄªÁªìÂú®ÂêéÂè∞Â§±Ë¥•:",e)})}catch(e){console.warn("[AIÂèåÂêëÁ≥ªÁªü] Ê£ÄÊü•Ëá™Âä®ÊÄªÁªìÈòàÂÄºÊó∂Âá∫Èîô:",e)}if(!e.tavern_commands?.length)return{saveData:l,stateChanges:{changes:d,timestamp:(new Date).toISOString()}};const h=this._preprocessCommands(e.tavern_commands),{validateCommands:f,cleanCommands:v}=await Promise.resolve().then(n.bind(n,4820)),b=f(h),{validateAndRepairCommandValue:y}=await Promise.resolve().then(n.bind(n,5269)),x=[],k=[];h.forEach((e,t)=>{const n=y(e);n.valid?x.push(e):(console.error(`[AIÂèåÂêëÁ≥ªÁªü] ‚ùå ÊãíÁªùÊâßË°åÊåá‰ª§[${t}]ÔºåÊ†ºÂºèÈîôËØØ:`,n.errors),k.push({command:e,errors:n.errors}))}),k.length>0&&(console.error(`[AIÂèåÂêëÁ≥ªÁªü] ÂÖ±ÊãíÁªù ${k.length} Êù°Ê†ºÂºèÈîôËØØÁöÑÊåá‰ª§`),k.forEach(({command:e,errors:t})=>{d.unshift({key:"‚ùå Ê†ºÂºèÈîôËØØÔºàÂ∑≤ÊãíÁªùÔºâ",action:"validation_error",oldValue:void 0,newValue:{command:JSON.stringify(e,null,2),errors:t}})})),b.valid||(console.error("[AIÂèåÂêëÁ≥ªÁªü] Êåá‰ª§Ê†ºÂºèÈ™åËØÅÂ§±Ë¥•:",b.errors),b.errors.forEach(e=>console.error(`  - ${e}`)),b.invalidCommands&&b.invalidCommands.length>0&&b.invalidCommands.forEach(({command:e,errors:t})=>{d.unshift({key:"‚ùå ÈîôËØØÊåá‰ª§",action:"validation_error",oldValue:void 0,newValue:{command:JSON.stringify(e,null,2),errors:t}})})),b.warnings.length>0&&b.warnings.forEach(e=>console.warn(`[AIÂèåÂêëÁ≥ªÁªü] ${e}`));const w=[...v(x)].sort((e,t)=>{const n="set"===e.action&&e.key.endsWith(".‰∏äÈôê"),a="set"===t.action&&t.key.endsWith(".‰∏äÈôê");return n&&!a?-1:!n&&a?1:0});console.log(`[AIÂèåÂêëÁ≥ªÁªü] ÊâßË°å ${w.length} Êù°ÊúâÊïàÊåá‰ª§ÔºåÊãíÁªù ${k.length} Êù°Êó†ÊïàÊåá‰ª§`);for(const e of w)try{const t=(0,a.get)(l,e.key);this.executeCommand(e,l);const n=(0,a.get)(l,e.key);d.push({key:e.key,action:e.action,oldValue:this._summarizeValue(t),newValue:this._summarizeValue(n)})}catch(t){console.error("[AIÂèåÂêëÁ≥ªÁªü] Êåá‰ª§ÊâßË°åÂ§±Ë¥•:",e,t)}(0,c.F)(l),l.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥&&(l.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥=function(e){let{Âπ¥:t,Êúà:n,Êó•:a,Â∞èÊó∂:r,ÂàÜÈíü:o}=e;for(o>=60&&(r+=Math.floor(o/60),o%=60),r>=24&&(a+=Math.floor(r/24),r%=24);a>30;)n+=1,a-=30;return n>12&&(t+=Math.floor((n-1)/12),n=(n-1)%12+1),{Âπ¥:t,Êúà:n,Êó•:a,Â∞èÊó∂:r,ÂàÜÈíü:o}}(l.ÂÖÉÊï∞ÊçÆ.Êó∂Èó¥));const{removedEffects:E}=(0,m.UZ)(l);E.length>0&&console.log(`[AIÂèåÂêëÁ≥ªÁªü] PiniaÁä∂ÊÄÅÊõ¥Êñ∞Ââç: ÁßªÈô§‰∫Ü ${E.length} ‰∏™ËøáÊúüÊïàÊûú: ${E.join(", ")}`);const N={changes:d,timestamp:(new Date).toISOString()};return l.Á≥ªÁªü?.ÂéÜÂè≤?.Âèô‰∫ã&&l.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã.length>0&&(l.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã[l.Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã.length-1].stateChanges=N),r||(0,i.useGameStateStore)().loadFromSaveData(l),{saveData:l,stateChanges:N}}async triggerMemorySummary(e){if(this.isSummarizing)return o.o.warning("Â∑≤Êúâ‰∏Ä‰∏™ÊÄªÁªì‰ªªÂä°Ê≠£Âú®ËøõË°å‰∏≠ÔºåËØ∑Á®çÂÄô..."),void console.log("[AIÂèåÂêëÁ≥ªÁªü] Ê£ÄÊµãÂà∞Â∑≤ÊúâÊÄªÁªì‰ªªÂä°Âú®ËøêË°åÔºåÊú¨Ê¨°Ëß¶ÂèëË¢´Ë∑≥Ëøá„ÄÇ");this.isSummarizing=!0,console.log("[AIÂèåÂêëÁ≥ªÁªü] ÂºÄÂßãËÆ∞ÂøÜÊÄªÁªìÊµÅÁ®ã..."),o.o.loading("Ê≠£Âú®Ë∞ÉÁî®AIÊÄªÁªì‰∏≠ÊúüËÆ∞ÂøÜ...",{id:"memory-summary"});try{const e=(0,i.useGameStateStore)(),t=(0,s.useCharacterStore)(),a=e.toSaveData();if(!a||!a.Á§æ‰∫§?.ËÆ∞ÂøÜ)throw new Error("Êó†Ê≥ïËé∑ÂèñÂ≠òÊ°£Êï∞ÊçÆÊàñËÆ∞ÂøÜÊ®°Âùó");const l=JSON.parse(localStorage.getItem("memory-settings")||"{}"),c=l.midTermTrigger??25,d=l.midTermKeep??8,m=(l.longTermFormat,a.Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ||[]);if(m.length<c)return console.log(`[AIÂèåÂêëÁ≥ªÁªü] ‰∏≠ÊúüËÆ∞ÂøÜÊï∞Èáè(${m.length})Êú™ËææÂà∞Ëß¶ÂèëÈòàÂÄº(${c})ÔºåÂèñÊ∂àÊÄªÁªì„ÄÇ`),void o.o.info(`‰∏≠ÊúüËÆ∞ÂøÜÊú™ËææÂà∞Ëß¶ÂèëÈòàÂÄº(${c}Êù°)ÔºåÂ∑≤ÂèñÊ∂àÊÄªÁªì`,{id:"memory-summary"});const p=c-d;if(p<=0)return console.log("[AIÂèåÂêëÁ≥ªÁªü] ËÆ°ÁÆóÂá∫ÁöÑÊÄªÁªìÊï∞Èáè <= 0ÔºåÈÖçÁΩÆÈîôËØØÔºåÂèñÊ∂àÊìç‰Ωú„ÄÇ"),void o.o.error("ËÆ∞ÂøÜÈÖçÁΩÆÈîôËØØÔºöËß¶ÂèëÈòàÂÄºÂøÖÈ°ªÂ§ß‰∫é‰øùÁïôÊï∞Èáè",{id:"memory-summary"});if(m.length<p)return console.log(`[AIÂèåÂêëÁ≥ªÁªü] ‰∏≠ÊúüËÆ∞ÂøÜÊï∞Èáè(${m.length})‰∏çË∂≥‰ª•ÊÄªÁªì${p}Êù°ÔºåÂèñÊ∂àÊÄªÁªì„ÄÇ`),void o.o.info(`‰∏≠ÊúüËÆ∞ÂøÜ‰∏çË∂≥${p}Êù°ÔºåÂ∑≤ÂèñÊ∂àÊÄªÁªì`,{id:"memory-summary"});const g=m.slice(0,p),h=m.slice(p),f=g.map((e,t)=>`${t+1}. ${e}`).join("\n");console.log(`[AIÂèåÂêëÁ≥ªÁªü] ÂáÜÂ§áÊÄªÁªìÔºö‰ªé${m.length}Êù°‰∏≠ÊúüËÆ∞ÂøÜ‰∏≠ÔºåÊÄªÁªìÊúÄÊóßÁöÑ${p}Êù°Ôºå‰øùÁïôÊúÄÊñ∞ÁöÑ${h.length}Êù°`),console.log(`[AIÂèåÂêëÁ≥ªÁªü] ÈÖçÁΩÆÔºöËß¶ÂèëÈòàÂÄº=${c}, ‰øùÁïôÊï∞Èáè=${d}, ÊÄªÁªìÊï∞Èáè=${p}`);const v=await(0,u.XH)("memorySummary"),b=v.replace("{{ËÆ∞ÂøÜÂÜÖÂÆπ}}",f),y=(0,r.getTavernHelper)(),{aiService:x}=await Promise.resolve().then(n.bind(n,7445)),k=x.getConfig(),w=!1!==k.streaming;let E=!0;try{const{useAPIManagementStore:e}=n(100);E="raw"===e().getFunctionMode("memory_summary")}catch{E="raw"===k.memorySummaryMode}if(!y){const e=x.checkAvailability();if(!e.available)throw new Error(e.message)}const N=this._extractEssentialDataForSummary(a),S=JSON.stringify(N,null,2);let _,V;if(console.log(`[AIÂèåÂêëÁ≥ªÁªü] ËÆ∞ÂøÜÊÄªÁªìÊ®°Âºè: ${E?"RawÊ®°ÂºèÔºàÁ∫ØÂáÄÊÄªÁªìÔºâ":"Ê†áÂáÜÊ®°ÂºèÔºàÂ∏¶È¢ÑËÆæÔºâ"}, ‰º†ËæìÊñπÂºè: ${w?"ÊµÅÂºè":"ÈùûÊµÅÂºè"}`),y)if(E){const e=await y.generateRaw({ordered_prompts:[{role:"system",content:`„ÄêÊ∏∏ÊàèÂ≠òÊ°£Êï∞ÊçÆ„ÄëÔºà‰æõÂèÇËÄÉÔºâÔºö\n${S}`},{role:"user",content:b},{role:"user",content:["Continue.","Proceed.","Next.","Go on.","Resume."][Math.floor(5*Math.random())]},{role:"assistant",content:"</input>"}],should_stream:w,usageType:"memory_summary"});_=String(e)}else{const e=`${v}\n\n„ÄêÊ∏∏ÊàèÂ≠òÊ°£Êï∞ÊçÆ„ÄëÔºà‰æõÂèÇËÄÉÔºâÔºö\n${S}`,t=await y.generate({user_input:b,should_stream:w,generation_id:`memory_summary_${Date.now()}`,usageType:"memory_summary",injects:[{content:e,role:"system",depth:4,position:"in_chat"},{content:"</input>",role:"assistant",depth:0,position:"in_chat"}]});_=String(t)}else if(E)console.log("[AIÂèåÂêëÁ≥ªÁªü] Ëá™ÂÆö‰πâAPIÊ®°Âºè - RawÊ®°ÂºèËÆ∞ÂøÜÊÄªÁªì"),_=await x.generateRaw({ordered_prompts:[{role:"system",content:`„ÄêÊ∏∏ÊàèÂ≠òÊ°£Êï∞ÊçÆ„ÄëÔºà‰æõÂèÇËÄÉÔºâÔºö\n${S}`},{role:"user",content:b},{role:"user",content:["Continue.","Proceed.","Next.","Go on.","Resume."][Math.floor(5*Math.random())]}],should_stream:w,usageType:"memory_summary"});else{console.log("[AIÂèåÂêëÁ≥ªÁªü] Ëá™ÂÆö‰πâAPIÊ®°Âºè - Ê†áÂáÜÊ®°ÂºèËÆ∞ÂøÜÊÄªÁªì");const e=`${v}\n\n„ÄêÊ∏∏ÊàèÂ≠òÊ°£Êï∞ÊçÆ„ÄëÔºà‰æõÂèÇËÄÉÔºâÔºö\n${S}`;_=await x.generate({user_input:b,should_stream:w,generation_id:`memory_summary_${Date.now()}`,usageType:"memory_summary",injects:[{content:e,role:"system",depth:4,position:"in_chat"}]})}const C=String(_).trim(),A=C.match(/```(?:json)?\s*\n?([\s\S]*?)\n?```/);if(A?.[1])try{V=JSON.parse(A[1].trim()).text?.trim()||""}catch{V=""}else try{V=JSON.parse(C).text?.trim()||""}catch{V=C.trim()}if(!V||0===V.length)throw new Error("AIËøîÂõû‰∫ÜÁ©∫ÁöÑÊÄªÁªìÁªìÊûú");console.log("[AIÂèåÂêëÁ≥ªÁªü] ÊÄªÁªìÊñáÊú¨ÈïøÂ∫¶:",V.length,"È¢ÑËßà:",V.substring(0,100));const D=V;e.memory||(e.memory={Áü≠ÊúüËÆ∞ÂøÜ:[],‰∏≠ÊúüËÆ∞ÂøÜ:[],ÈïøÊúüËÆ∞ÂøÜ:[],ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ:[]}),e.memory.ÈïøÊúüËÆ∞ÂøÜ.push(D),e.memory.‰∏≠ÊúüËÆ∞ÂøÜ=h;try{const{vectorMemoryService:e}=await Promise.resolve().then(n.bind(n,5184));e.canAutoIndex()&&(await e.addMemory(D,7),console.log("[ÂêëÈáèËÆ∞ÂøÜ] Êñ∞ÈïøÊúüËÆ∞ÂøÜÂ∑≤Ê∑ªÂä†Âà∞ÂêëÈáèÂ∫ì"))}catch(e){console.warn("[ÂêëÈáèËÆ∞ÂøÜ] Ê∑ªÂä†Âà∞ÂêëÈáèÂ∫ìÂ§±Ë¥•:",e)}await t.saveCurrentGame(),console.log(`[AIÂèåÂêëÁ≥ªÁªü] ‚úÖ ÊÄªÁªìÂÆåÊàêÔºö${p}Êù°‰∏≠ÊúüËÆ∞ÂøÜ -> 1Êù°ÈïøÊúüËÆ∞ÂøÜ„ÄÇ‰øùÁïô ${h.length} Êù°„ÄÇ`),o.o.success(`ÊàêÂäüÊÄªÁªì ${p} Êù°ËÆ∞ÂøÜÔºÅ`,{id:"memory-summary"})}catch(e){const t=e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ";console.error("[AIÂèåÂêëÁ≥ªÁªü] ËÆ∞ÂøÜÊÄªÁªìÂ§±Ë¥•:",e),o.o.error(`ËÆ∞ÂøÜÊÄªÁªìÂ§±Ë¥•: ${t}`,{id:"memory-summary"})}finally{this.isSummarizing=!1,console.log("[AIÂèåÂêëÁ≥ªÁªü] ËÆ∞ÂøÜÊÄªÁªìÊµÅÁ®ãÁªìÊùüÔºåÂ∑≤ÈáäÊîæÈîÅ„ÄÇ")}}_preprocessCommands(e){if(!Array.isArray(e))return[];const t=new Set(["ËÉåÂåÖ.Áâ©ÂìÅ","Áâ©ÂìÅÊ†è.Áâ©ÂìÅ"]);return e.map(e=>{if(!e||"object"!=typeof e)return e;if("push"===e.action&&t.has(e.key)&&"string"==typeof e.value){console.warn(`[AIÂèåÂêëÁ≥ªÁªü] È¢ÑÂ§ÑÁêÜ: Â∞ÜÂ≠óÁ¨¶‰∏≤Áâ©ÂìÅ "${e.value}" ËΩ¨Êç¢‰∏∫ÂØπË±°„ÄÇ`);const t=e.value;return{...e,value:{Áâ©ÂìÅID:`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,ÂêçÁß∞:t,Á±ªÂûã:"ÊùÇÁâ©",ÂìÅË¥®:{quality:"Ê†áÂáÜÁ∫ß",grade:0},Êï∞Èáè:1,ÊèèËø∞:`‰∏Ä‰∏™ÊôÆÈÄöÁöÑ${t}„ÄÇ`}}}return("push"===e.action&&t.has(e.key)||"set"===e.action&&"string"==typeof e.key&&Array.from(t).some(t=>e.key.startsWith(t+".")))&&e.value&&"object"==typeof e.value&&"Á®ãÂ∫è"===e.value.Á±ªÂûã?{...e,value:this._repairProgramItem(e.value)}:e})}_repairProgramItem(e){if(!e||"object"!=typeof e)return e;if("Á®ãÂ∫è"!==e.Á±ªÂûã)return e;const t={...e},n="string"==typeof t.ÂêçÁß∞&&t.ÂêçÁß∞.trim()?t.ÂêçÁß∞.trim():"Êú™Áü•Á®ãÂ∫è",a="number"==typeof t.ËÆ≠ÁªÉËøõÂ∫¶&&Number.isFinite(t.ËÆ≠ÁªÉËøõÂ∫¶)?t.ËÆ≠ÁªÉËøõÂ∫¶:0;t.ËÆ≠ÁªÉËøõÂ∫¶=a,Array.isArray(t.Á®ãÂ∫èÊäÄËÉΩ)||(t.Á®ãÂ∫èÊäÄËÉΩ=[]),t.Á®ãÂ∫èÊäÄËÉΩ=t.Á®ãÂ∫èÊäÄËÉΩ.filter(e=>e&&"object"==typeof e).map((e,t)=>{const a="string"==typeof e.ÊäÄËÉΩÂêçÁß∞&&e.ÊäÄËÉΩÂêçÁß∞.trim()?e.ÊäÄËÉΩÂêçÁß∞.trim():`${n}¬∑Êåá‰ª§${t+1}`,r="string"==typeof e.ÊäÄËÉΩÊèèËø∞?e.ÊäÄËÉΩÊèèËø∞:"",o="number"==typeof e.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç&&Number.isFinite(e.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç)?e.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç:0,i="string"==typeof e.Ê∂àËÄó?e.Ê∂àËÄó:"";return{...e,ÊäÄËÉΩÂêçÁß∞:a,ÊäÄËÉΩÊèèËø∞:r,ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç:o,Ê∂àËÄó:i}}),0===t.Á®ãÂ∫èÊäÄËÉΩ.length&&(console.warn(`[AIÂèåÂêëÁ≥ªÁªü] È¢ÑÂ§ÑÁêÜ: Á®ãÂ∫è "${n}" Áº∫Â∞ëÊäÄËÉΩÔºåÂ∑≤Ëá™Âä®Ë°•ÈΩêÂü∫Á°ÄÊäÄËÉΩ‰ª•Èò≤Êä•Èîô„ÄÇ`),t.Á®ãÂ∫èÊäÄËÉΩ=[{ÊäÄËÉΩÂêçÁß∞:`${n}¬∑Ë∞ÉÊ†°`,ÊäÄËÉΩÊèèËø∞:`Ë∞ÉÊ†°${n}ÁöÑÂü∫Á°ÄÂçèËÆÆÔºåÁ®≥ÂÆöÁîµÈáèÂπ∂‰ºòÂåñËæìÂá∫„ÄÇ`,ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç:0,Ê∂àËÄó:"ÁîµÈáè10"}]),Array.isArray(t.Â∑≤Ëß£ÈîÅÊäÄËÉΩ)||(t.Â∑≤Ëß£ÈîÅÊäÄËÉΩ=[]),t.Â∑≤Ëß£ÈîÅÊäÄËÉΩ=t.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.filter(e=>"string"==typeof e&&e.trim().length>0).map(e=>e.trim());for(const e of t.Á®ãÂ∫èÊäÄËÉΩ)a>=("number"==typeof e.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç?e.ÁÜüÁªÉÂ∫¶Ë¶ÅÊ±Ç:0)&&"string"==typeof e.ÊäÄËÉΩÂêçÁß∞&&!t.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.includes(e.ÊäÄËÉΩÂêçÁß∞)&&t.Â∑≤Ëß£ÈîÅÊäÄËÉΩ.push(e.ÊäÄËÉΩÂêçÁß∞);return"boolean"!=typeof t.Â∑≤Ë£ÖÂ§á&&(t.Â∑≤Ë£ÖÂ§á=!1),t}executeCommand(e,t){const{action:n,key:r,value:o}=e;if(!n||!r)throw new Error("Êåá‰ª§Ê†ºÂºèÈîôËØØÔºöÁº∫Â∞ë action Êàñ key");const i=r.toString(),s=["ÂÖÉÊï∞ÊçÆ","ËßíËâ≤","Á§æ‰∫§","‰∏ñÁïå","Á≥ªÁªü"];if(!s.some(e=>i===e||i.startsWith(`${e}.`)))throw new Error(`Êåá‰ª§keyÂøÖÈ°ª‰ª• ${s.join(" / ")} ÂºÄÂ§¥ÔºàV3Áü≠Ë∑ØÂæÑÔºâÔºåÂΩìÂâç: ${i}`);const l=["ËßíËâ≤.ÊïàÊûú","Á§æ‰∫§.‰ªªÂä°.ÂΩìÂâç‰ªªÂä°ÂàóË°®","Á§æ‰∫§.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ","Á§æ‰∫§.ËÆ∞ÂøÜ.‰∏≠ÊúüËÆ∞ÂøÜ","Á§æ‰∫§.ËÆ∞ÂøÜ.ÈïøÊúüËÆ∞ÂøÜ","Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ","Á≥ªÁªü.ÂéÜÂè≤.Âèô‰∫ã"].some(e=>i===e||!(!i.startsWith(e+"[")||i.includes(".",e.length)));if("set"===n&&l){if(null==o)return console.warn(`[AIÂèåÂêëÁ≥ªÁªü] ÈòªÊ≠¢Â∞ÜÊï∞ÁªÑÂ≠óÊÆµ ${i} ËÆæ‰∏∫ null/undefinedÔºåÊîπ‰∏∫Á©∫Êï∞ÁªÑ`),void(0,a.set)(t,i,[]);if(!Array.isArray(o))return void console.warn(`[AIÂèåÂêëÁ≥ªÁªü] ÈòªÊ≠¢Â∞ÜÊï∞ÁªÑÂ≠óÊÆµ ${i} ËÆæ‰∏∫ÈùûÊï∞ÁªÑÂÄºÔºå‰øùÊåÅÂéüÂÄº`)}switch(n){case"set":(0,a.set)(t,i,o);break;case"add":{const e=(0,a.get)(t,i,0);if("number"!=typeof e||"number"!=typeof o)throw new Error(`ADDÊìç‰ΩúË¶ÅÊ±ÇÊï∞ÂÄºÁ±ªÂûãÔºå‰ΩÜÂæóÂà∞: ${typeof e}, ${typeof o}`);const n=e+o;i.includes("‰ø°Áî®ÁÇπ")&&n<0?(console.warn(`[AIÂèåÂêëÁ≥ªÁªü] ${i} ÊâßË°åaddÂêé‰ºöÂèòÊàêË¥üÊï∞ (${e} + ${o} = ${n})ÔºåÂ∑≤ÈôêÂà∂‰∏∫0`),(0,a.set)(t,i,0)):(0,a.set)(t,i,n);break}case"push":{const e=(0,a.get)(t,i,[]);if(!Array.isArray(e))throw new Error(`PUSHÊìç‰ΩúË¶ÅÊ±ÇÊï∞ÁªÑÁ±ªÂûãÔºå‰ΩÜ ${i} ÊòØ ${typeof e}`);let n=o??null;const r=i.startsWith("Á§æ‰∫§.ËÆ∞ÂøÜ.")||i.startsWith("ËÆ∞ÂøÜ.");if("string"==typeof n&&r&&"Á§æ‰∫§.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ"!==i&&"ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ"!==i){if(!n.trim())break;n=`${this._formatGameTime(t.ÂÖÉÊï∞ÊçÆ?.Êó∂Èó¥)}${n}`}e.push(n),(0,a.set)(t,i,e);break}case"delete":(0,a.unset)(t,i);break;case"pull":{const e=(0,a.get)(t,i,[]);if(!Array.isArray(e))throw new Error(`PULLÊìç‰ΩúË¶ÅÊ±ÇÊï∞ÁªÑÁ±ªÂûãÔºå‰ΩÜ ${i} ÊòØ ${typeof e}`);if(!o||"object"!=typeof o)throw new Error("PULLÊìç‰ΩúË¶ÅÊ±ÇvalueÊòØÂØπË±°Á±ªÂûãÔºåÁî®‰∫éÂåπÈÖçË¶ÅÁßªÈô§ÁöÑÂÖÉÁ¥†");const n=o,r=e.filter(e=>{if(!e||"object"!=typeof e)return!0;for(const[t,a]of Object.entries(n))if(e[t]!==a)return!0;return!1});(0,a.set)(t,i,r),console.log(`[AIÂèåÂêëÁ≥ªÁªü] PULLÊìç‰Ωú: ‰ªé ${i} ÁßªÈô§‰∫Ü ${e.length-r.length} ‰∏™ÂÖÉÁ¥†`);break}default:throw new Error(`Êú™Áü•ÁöÑÊìç‰ΩúÁ±ªÂûã: ${n}`)}}_extractEssentialDataForSummary(e){const t=(0,a.cloneDeep)(e);return t.ÂéÜÂè≤?.Âèô‰∫ã&&delete t.ÂéÜÂè≤.Âèô‰∫ã,t.ËÆ∞ÂøÜ&&(delete t.ËÆ∞ÂøÜ.Áü≠ÊúüËÆ∞ÂøÜ,delete t.ËÆ∞ÂøÜ.ÈöêÂºè‰∏≠ÊúüËÆ∞ÂøÜ),t}_summarizeValue(e){if(null==e)return e;if("object"!=typeof e)return e;if(Array.isArray(e))return e.length<=3?(0,a.cloneDeep)(e):{__type:"Array",__length:e.length,__summary:`[Êï∞ÁªÑ: ${e.length}‰∏™ÂÖÉÁ¥†]`,__first:e[0]?this._summarizeValue(e[0]):void 0,__last:e[e.length-1]?this._summarizeValue(e[e.length-1]):void 0};const t=Object.keys(e);if(t.length<=5)return(0,a.cloneDeep)(e);const n={__type:"Object",__keys:t.length,__summary:`[ÂØπË±°: ${t.length}‰∏™Â±ûÊÄß]`};return t.slice(0,3).forEach(t=>{n[t]=this._summarizeValue(e[t])}),n}parseAIResponse(e){if(!e||"string"!=typeof e)throw new Error("AIÂìçÂ∫î‰∏∫Á©∫ÊàñÊ†ºÂºèÈîôËØØ");const t=e.trim();console.log("[parseAIResponse] ÂéüÂßãÂìçÂ∫îÈïøÂ∫¶:",t.length),console.log("[parseAIResponse] ÂéüÂßãÂìçÂ∫îÂâç500Â≠óÁ¨¶:",t.substring(0,500));const n=t.replace(/<(?:ant[-_]?)?thinking>[\s\S]*?<\/(?:ant[-_]?)?thinking>/gi,"").replace(/<\/?(?:ant[-_]?)?thinking>/gi,"").replace(/<reasoning>[\s\S]*?<\/reasoning>/gi,"").replace(/<\/?reasoning>/gi,"").replace(/<thought>[\s\S]*?<\/thought>/gi,"").replace(/<\/?thought>/gi,"").trim(),a=e=>{try{return JSON.parse(e)}catch{return null}},r=e=>{const t=(Array.isArray(e.tavern_commands)?e.tavern_commands:Array.isArray(e.Êåá‰ª§)?e.Êåá‰ª§:Array.isArray(e.commands)?e.commands:[]).map(e=>({action:e.action||"set",key:e.key||"",value:e.value}));let n=Array.isArray(e.action_options)?e.action_options:Array.isArray(e.Ë°åÂä®ÈÄâÈ°π)?e.Ë°åÂä®ÈÄâÈ°π:[];return n=n.filter(e=>"string"==typeof e&&e.trim().length>0),0===n.length&&(console.warn("[parseAIResponse] ‚ö†Ô∏è action_options‰∏∫Á©∫Ôºå‰ΩøÁî®ÈªòËÆ§ÈÄâÈ°π"),n=["ÁªßÁª≠ÂΩìÂâçÊ¥ªÂä®","ËßÇÂØüÂë®Âõ¥ÁéØÂ¢É","‰∏éÈôÑËøëÁöÑ‰∫∫‰∫§Ë∞à","Êü•ÁúãËá™Ë∫´Áä∂ÊÄÅ","Á®ç‰Ωú‰ºëÊÅØË∞ÉÊï¥"]),{text:String(e.text||e.Âèô‰∫ãÊñáÊú¨||e.narrative||""),mid_term_memory:String(e.mid_term_memory||e.‰∏≠ÊúüËÆ∞ÂøÜ||e.memory||""),tavern_commands:t,action_options:this.sanitizeActionOptionsForDisplay(n)}};let o=a(n);if(o)return r(o);const i=n.match(/```(?:json)?\s*([\s\S]*?)```/i);if(i?.[1]&&(o=a(i[1].trim()),o))return r(o);const s=(e=>{const t=e.indexOf("{");if(-1===t)return null;let n=0,a=!1,r=!1;for(let o=t;o<e.length;o++){const i=e[o];if(r)r=!1;else if("\\"!==i)if('"'!==i){if(!a&&("{"===i&&n++,"}"===i&&(n--,0===n)))return e.substring(t,o+1)}else a=!a;else r=!0}return null})(n);if(s&&(o=a(s),o))return console.log("[parseAIResponse] ‚úÖ ÊàêÂäüÊèêÂèñÁ¨¨‰∏Ä‰∏™JSONÂØπË±°"),r(o);throw new Error("Êó†Ê≥ïËß£ÊûêAIÂìçÂ∫îÔºöÊú™ÊâæÂà∞ÊúâÊïàÁöÑJSONÊ†ºÂºè")}}const v=f.getInstance()},9957:(e,t,n)=>{"use strict";var a=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=n(6743);e.exports=o.call(a,r)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=n(4061),t=n(810),a=n(3992);const r=$;var o=n.n(r),i=n(9037),s=n(1412),l=n(7754),c=n(4449),d=n(9596);const u=(0,d.A)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),m=(0,d.A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var p=n(2794),g=n(6494),h=n(4270);const f={class:"toast-container"},v={key:0,class:"toast-icon"},b=["innerHTML"],y=(0,e.defineComponent)({__name:"ToastContainer",setup:t=>(t,n)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",f,[(0,e.createVNode)(e.TransitionGroup,{name:"toast-fade",tag:"div"},{default:(0,e.withCtx)(()=>[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)((0,e.unref)(h.T),t=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.id,class:(0,e.normalizeClass)(["toast",`toast-${t.type}`])},["loading"===t.type?((0,e.openBlock)(),(0,e.createElementBlock)("div",v,n[0]||(n[0]=[(0,e.createElementVNode)("div",{class:"spinner"},null,-1)]))):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",{class:"toast-message",innerHTML:t.message},null,8,b)],2))),128))]),_:1})]))});var x=n(5072),k=n.n(x),w=n(7825),E=n.n(w),N=n(7659),S=n.n(N),_=n(5056),V=n.n(_),C=n(540),A=n.n(C),D=n(1113),T=n.n(D),B=n(40),I={};I.styleTagTransform=T(),I.setAttributes=V(),I.insert=S().bind(null,"head"),I.domAPI=E(),I.insertStyleElement=A(),k()(B.A,I),B.A&&B.A.locals&&B.A.locals;var M=n(6262);const z=(0,M.A)(y,[["__scopeId","data-v-3b7b835b"]]);var P=n(9173);const R={key:0,class:"loading-overlay"},O={class:"loading-content"},L=["innerHTML"],F=(0,e.defineComponent)({__name:"GlobalLoadingOverlay",setup(t){const n=(0,P.useUIStore)();return(t,a)=>((0,e.openBlock)(),(0,e.createBlock)(e.Transition,{name:"fade"},{default:(0,e.withCtx)(()=>[(0,e.unref)(n).isLoading?((0,e.openBlock)(),(0,e.createElementBlock)("div",R,[(0,e.createElementVNode)("div",O,[a[0]||(a[0]=(0,e.createElementVNode)("div",{class:"spinner"},null,-1)),(0,e.createElementVNode)("p",{class:"loading-text",innerHTML:(0,e.unref)(n).loadingText},null,8,L)])])):(0,e.createCommentVNode)("v-if",!0)]),_:1}))}});var j=n(2914),U={};U.styleTagTransform=T(),U.setAttributes=V(),U.insert=S().bind(null,"head"),U.domAPI=E(),U.insertStyleElement=A(),k()(j.A,U),j.A&&j.A.locals&&j.A.locals;const q=(0,M.A)(F,[["__scopeId","data-v-23d51e69"]]);var G=n(31);const H={class:"dialog-header"},Y={class:"dialog-content"},W={class:"error-icon"},X={class:"message"},J={class:"dialog-actions"},K=(0,e.defineComponent)({__name:"RetryConfirmDialog",setup(t){const n=(0,P.useUIStore)(),a=(0,e.computed)(()=>n.showRetryDialogState),r=(0,e.computed)(()=>n.retryDialogConfig),o=()=>{n.confirmRetry()},i=()=>{n.cancelRetry()};return(t,n)=>a.value?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"retry-dialog-overlay",onClick:i},[(0,e.createElementVNode)("div",{class:"retry-dialog",onClick:n[0]||(n[0]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createElementVNode)("div",H,[(0,e.createElementVNode)("h3",null,(0,e.toDisplayString)(r.value?.title||t.$t("AIÁîüÊàêÂ§±Ë¥•")),1)]),(0,e.createElementVNode)("div",Y,[(0,e.createElementVNode)("div",W,[(0,e.createVNode)((0,e.unref)(G.A),{size:48})]),(0,e.createElementVNode)("p",X,(0,e.toDisplayString)(r.value?.message||t.$t("ÁîüÊàêËøáÁ®ãÈÅáÂà∞ÈóÆÈ¢ò")),1)]),(0,e.createElementVNode)("div",J,[(0,e.createElementVNode)("button",{class:"btn-secondary",onClick:i},(0,e.toDisplayString)(r.value?.cancelText||t.$t("ÂèñÊ∂à")),1),(0,e.createElementVNode)("button",{class:"btn-primary",onClick:o},(0,e.toDisplayString)(r.value?.confirmText||t.$t("ÈáçËØï")),1)])])])):(0,e.createCommentVNode)("v-if",!0)}});var Z=n(5218),Q={};Q.styleTagTransform=T(),Q.setAttributes=V(),Q.insert=S().bind(null,"head"),Q.domAPI=E(),Q.insertStyleElement=A(),k()(Z.A,Q),Z.A&&Z.A.locals&&Z.A.locals;const ee=(0,M.A)(K,[["__scopeId","data-v-67dbe82b"]]);var te=n(8684);const ne={key:0,class:"dialog-overlay"},ae={class:"dialog-container"},re={class:"dialog-header"},oe={class:"dialog-content"},ie={class:"error-list-container"},se={class:"error-list"},le={class:"content-suggestion"},ce={class:"dialog-actions"},de=(0,e.defineComponent)({__name:"DataValidationErrorDialog",setup(t){const n=(0,P.useUIStore)(),a=()=>{n.confirmDataValidationError()},r=(0,e.computed)(()=>"loading"===n.dataValidationContext?{suggestion:"Êàë‰ª¨Âª∫ËÆÆÊÇ®Á´ãÂç≥‰øÆÂ§çÊ≠§ÈóÆÈ¢ò„ÄÇ‰øÆÂ§çËøáÁ®ãÂ∞ÜÂ∞ùËØïÂú®‰øùÁïôÊÇ®Ê†∏ÂøÉËøõÂ∫¶ÁöÑÂâçÊèê‰∏ãÔºå‰øÆÊ≠£Â≠òÊ°£ÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ",warning:"Ê≥®ÊÑèÔºö‰øÆÂ§ç‰∏ªË¶ÅÈíàÂØπÁªìÊûÑÊÄßÈóÆÈ¢òÔºåÊó†Ê≥ïÊÅ¢Â§çÂ∑≤ÊçüÂùèÊàñ‰∏¢Â§±ÁöÑÊï∞ÊçÆ„ÄÇÂª∫ËÆÆÊÇ®Âú®‰øÆÂ§çÂâçÂ§á‰ªΩÂ≠òÊ°£„ÄÇ",buttonText:"‰øÆÂ§çÂ≠òÊ°£Âπ∂ÁªßÁª≠"}:{suggestion:"Êàë‰ª¨Âª∫ËÆÆÊÇ®Á´ãÂç≥‰øÆÂ§çÊ≠§ÈóÆÈ¢ò„ÄÇ‰øÆÂ§çËøáÁ®ãÂ∞ÜÊ†πÊçÆÊÇ®Áé∞ÊúâÁöÑËßíËâ≤Âü∫Á°Ä‰ø°ÊÅØÔºåÈáçÊñ∞ÁîüÊàê‰∏Ä‰ªΩÂÅ•Â∫∑ÁöÑÂàùÂßãÂ≠òÊ°£Êï∞ÊçÆ„ÄÇ",warning:"Ê≥®ÊÑèÔºöËøôÂ∞Ü‰ºöÈáçÁΩÆÊÇ®ÁöÑÊ∏∏ÊàèËøõÂ∫¶ÔºàÂ¶ÇÈò∂‰Ωç„ÄÅËÉåÂåÖÁâ©ÂìÅÁ≠âÔºâÔºå‰ΩÜËßíËâ≤Ê†∏ÂøÉËÆæÂÆöÔºàÂ¶ÇÂßìÂêç„ÄÅÂ§©Ëµã„ÄÅÊîπÈÄ†Ê†∏ÂøÉÔºâÂ∞Ü‰øùÁïô„ÄÇ",buttonText:"ÈáçÊñ∞ÂàùÂßãÂåñÂπ∂‰øÆÂ§ç"});return(t,o)=>(0,e.unref)(n).showDataValidationError?((0,e.openBlock)(),(0,e.createElementBlock)("div",ne,[(0,e.createElementVNode)("div",ae,[(0,e.createElementVNode)("div",re,[(0,e.createVNode)((0,e.unref)(G.A),{size:28,class:"header-icon"}),o[0]||(o[0]=(0,e.createElementVNode)("h2",{class:"header-title"},"Â≠òÊ°£Êï∞ÊçÆÂºÇÂ∏∏",-1))]),(0,e.createElementVNode)("div",oe,[o[2]||(o[2]=(0,e.createElementVNode)("p",{class:"content-lead"},"Á≥ªÁªüÊ£ÄÊµãÂà∞ÊÇ®ÁöÑÂ≠òÊ°£Êñá‰ª∂Â≠òÂú®‰∏•ÈáçÁªìÊûÑÈóÆÈ¢òÔºåÂèØËÉΩÂØºËá¥Ê∏∏ÊàèÊó†Ê≥ïÊ≠£Â∏∏ËøêË°å„ÄÇËøôÈÄöÂ∏∏ÊòØÁî±‰∫éÁâàÊú¨Êõ¥Êñ∞ÊàñÊï∞ÊçÆÊçüÂùèÂØºËá¥ÁöÑ„ÄÇ",-1)),(0,e.createElementVNode)("div",ie,[o[1]||(o[1]=(0,e.createElementVNode)("strong",{class:"error-list-title"},"ÂÖ∑‰ΩìÈóÆÈ¢òÂ¶Ç‰∏ãÔºö",-1)),(0,e.createElementVNode)("ul",se,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)((0,e.unref)(n).dataValidationErrorMessages,(t,n)=>((0,e.openBlock)(),(0,e.createElementBlock)("li",{key:n,class:"error-item"},(0,e.toDisplayString)(t),1))),128))])]),(0,e.createElementVNode)("p",le,[(0,e.createTextVNode)((0,e.toDisplayString)(r.value.suggestion)+" ",1),(0,e.createElementVNode)("strong",null,(0,e.toDisplayString)(r.value.warning),1)])]),(0,e.createElementVNode)("div",ce,[(0,e.createElementVNode)("button",{class:"action-button confirm-button",onClick:a},[(0,e.createVNode)((0,e.unref)(te.A),{size:16}),(0,e.createTextVNode)(" "+(0,e.toDisplayString)(r.value.buttonText),1)])])])])):(0,e.createCommentVNode)("v-if",!0)}});var ue=n(3901),me={};me.styleTagTransform=T(),me.setAttributes=V(),me.insert=S().bind(null,"head"),me.domAPI=E(),me.insertStyleElement=A(),k()(ue.A,me),ue.A&&ue.A.locals&&ue.A.locals;const pe=(0,M.A)(de,[["__scopeId","data-v-fc41b826"]]);var ge=n(2224);function he(e){return(0,ge.isObject)(e)?e.ÂêçÁß∞||e.name||"Êó†ÂêçÁâ©ÂìÅ":"Êú™Áü•Áâ©ÂìÅ"}function fe(e){return(0,ge.isObject)(e)&&e.Êï∞Èáè||1}function ve(e){const{key:t,action:n,oldValue:a,newValue:r}=e;if(t.includes("ËßíËâ≤.ËÉåÂåÖ.Áâ©ÂìÅ")){if("set"===n&&r&&!a){const e=r;return{icon:"add",color:"green",title:"Ëé∑ÂæóÁâ©ÂìÅ",description:`„Äê${he(e)}„Äëx ${fe(e)}`}}if("push"===n){const e=r;return{icon:"add",color:"green",title:"Ëé∑ÂæóÁâ©ÂìÅ",description:`„Äê${he(e)}„Äëx ${fe(e)}`}}if("delete"===n||"pull"===n||"set"===n&&!r&&a){const e=a;return{icon:"remove",color:"red",title:"Â§±ÂéªÁâ©ÂìÅ",description:`„Äê${he(e)}„Äëx ${fe(e)}`}}if("set"===n&&a&&r){const e=fe(a),t=fe(r);if(e!==t){const n=t-e;return{icon:n>0?"add":"remove",color:n>0?"green":"red",title:n>0?"Ëé∑ÂæóÁâ©ÂìÅ":"Ê∂àËÄóÁâ©ÂìÅ",description:`„Äê${he(r)}„Äë${n>0?"+":""}${n}`}}}}if(t.startsWith("ËßíËâ≤.ËÉåÂåÖ.‰ø°Áî®ÁÇπ.")||t.includes(".ËÉåÂåÖ.‰ø°Áî®ÁÇπ.")){const e=t.split(".").pop()||"‰ø°Áî®ÁÇπ",n=("number"==typeof r?r:0)-("number"==typeof a?a:0);if(n>0)return{icon:"add",color:"green",title:`Ëé∑Âæó${e}`,description:`+ ${n}`};if(n<0)return{icon:"remove",color:"red",title:`Ê∂àËÄó${e}`,description:`${n}`}}return null}function be(e){const{key:t,action:n,oldValue:a,newValue:r}=e;if(!(t.startsWith("ËßíËâ≤.Â±ûÊÄß.")||t.startsWith("ËßíËâ≤.‰ΩçÁΩÆ.")||t.includes(".ËßíËâ≤.Â±ûÊÄß.")||t.includes(".ËßíËâ≤.‰ΩçÁΩÆ.")||t.includes(".ÁîüÂëΩÂÄº")||t.includes(".ÁîµÈáè")||t.includes(".Â∏¶ÂÆΩ")||t.includes(".ÂØøÂëΩ")))return null;const o=t.split(".").pop()||"Â±ûÊÄß";if("ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç.ÂêçÁß∞"===t||t.endsWith(".Èò∂‰Ωç.ÂêçÁß∞"))return{icon:"add",color:"green",title:"Èò∂‰ΩçÂçáÁ∫ß",description:`${a||"Âá°‰∫∫"} ‚Üí ${r}`};if("ËßíËâ≤.Â±ûÊÄß.Èò∂‰Ωç.Èò∂ÊÆµ"===t||t.endsWith(".Èò∂‰Ωç.Èò∂ÊÆµ"))return{icon:"update",color:"blue",title:"Èò∂‰ΩçÈò∂ÊÆµÊèêÂçá",description:`${a||"Êó†"} ‚Üí ${r}`};if("ËßíËâ≤.‰ΩçÁΩÆ.ÊèèËø∞"===t||t.endsWith(".‰ΩçÁΩÆ.ÊèèËø∞")){const e=e=>{if(!e)return"Êú™Áü•";if("string"==typeof e)return e;if("object"==typeof e&&null!==e){const t=e;if("string"==typeof t.ÊèèËø∞)return t.ÊèèËø∞;if("string"==typeof t.description)return t.description}return String(e)};return{icon:"update",color:"blue",title:"‰ΩçÁΩÆÂèòÊõ¥",description:`${e(a)} ‚Üí ${e(r)}`}}const i=t.split("."),s=i[i.length-1],l=i[i.length-2]||o;if(("‰∏äÈôê"===s||"ÊúÄÂ§ß"===s)&&"number"==typeof r){const e="number"==typeof a?r-a:r;let t="";return"number"==typeof a?(t=`${a} -> ${r}`,e>0&&(t+=` (+${e})`)):t=`ËÆæ‰∏∫ ${r}`,{icon:"update",color:"blue",title:`${l}‰∏äÈôêÂèòÂåñ`,description:t}}if("ÂΩìÂâç"===s&&"number"==typeof r){const e="number"==typeof a?r-a:r;let t="";return"number"==typeof a?(t=`${a} -> ${r}`,e>0&&(t+=` (+${e})`),e<0&&(t+=` (${e})`)):t=`ËÆæ‰∏∫ ${r}`,{icon:"update",color:"blue",title:`${l}ÂΩìÂâçÂÄºÂèòÂåñ`,description:t}}if((0,ge.isObject)(r)&&"ÂΩìÂâç"in r&&(0,ge.isObject)(a)&&"ÂΩìÂâç"in a){const e=r.ÂΩìÂâç-a.ÂΩìÂâç,t=r.ÊúÄÂ§ß!==a.ÊúÄÂ§ß;let n=`${a.ÂΩìÂâç} -> ${r.ÂΩìÂâç}`;return e>0&&(n+=` (+${e})`),e<0&&(n+=` (${e})`),t&&(n+=` (‰∏äÈôêÂèò‰∏∫ ${r.ÊúÄÂ§ß})`),{icon:"update",color:"blue",title:`${o}ÂèòÂåñ`,description:n}}if("number"==typeof r&&"number"==typeof a){const e=r-a;let t=`${a} -> ${r}`;return e>0&&(t+=` (+${e})`),e<0&&(t+=` (${e})`),{icon:"update",color:"blue",title:`${o}ÂèòÂåñ`,description:t}}return null}function ye(e){const{key:t,action:n,oldValue:a,newValue:r}=e;if(t.startsWith("Á§æ‰∫§.ÂÖ≥Á≥ª.")||t.includes(".Á§æ‰∫§.ÂÖ≥Á≥ª.")){const e=t.split("."),o=e[2]||"Êüê‰∫∫",i=e[e.length-1];if("Â•ΩÊÑüÂ∫¶"===i&&"number"==typeof a&&"number"==typeof r){const e=r-a;return{icon:e>0?"add":"remove",color:e>0?"green":"red",title:`„Äê${o}„ÄëÂ•ΩÊÑüÂ∫¶ÂèòÂåñ`,description:`${a} ‚Üí ${r} (${e>0?"+":""}${e})`}}if("‰∫∫Áâ©ËÆ∞ÂøÜ"===i&&"push"===n)return{icon:"add",color:"blue",title:`„Äê${o}„ÄëËÆ∞ÂøÜÊõ¥Êñ∞`,description:"Êñ∞Â¢û‰∫ÜÂÖ≥‰∫é‰Ω†ÁöÑËÆ∞ÂøÜ"};if("ÂÖ≥Á≥ªÁä∂ÊÄÅ"===i)return{icon:"update",color:"blue",title:`„Äê${o}„ÄëÂÖ≥Á≥ªÂèòÂåñ`,description:`${a||"ÂàùËØÜ"} ‚Üí ${r}`};const s=e.slice(2);if(s.length>0){const e=s.join(".").replace(/\.([0-9]+)(?=\.|$)/g,"[$1]");let t=`'${e}' Â∑≤Êõ¥Êñ∞`;return"object"==typeof r&&null!==r||"object"==typeof a&&null!==a||(t=`'${e}' ‰ªé ${JSON.stringify(a)} Âèò‰∏∫ ${JSON.stringify(r)}`),{icon:"update",color:"blue",title:`„Äê${o}„Äë‰ø°ÊÅØÊõ¥Êñ∞`,description:t}}}return null}function xe(e){const{key:t,action:n,newValue:a}=e;if("validation_error"===n&&("‚ùå ÈîôËØØÊåá‰ª§"===t||"‚ùå Ê†ºÂºèÈîôËØØÔºàÂ∑≤ÊãíÁªùÔºâ"===t)){const e=a,t=e?.errors||[];return{icon:"error",color:"red",title:"‚ùå AIÊåá‰ª§Ê†ºÂºèÈîôËØØ",description:"‰ª•‰∏ãÊåá‰ª§È™åËØÅÂ§±Ë¥•ÔºåÊú™Ë¢´ÊâßË°å",details:[`Êåá‰ª§ÂÜÖÂÆπ:\n${e?.command||"Êú™Áü•Êåá‰ª§"}`,"\nÈîôËØØÂéüÂõ†:",...t.map(e=>`  ‚Ä¢ ${e}`)]}}return null}function ke(e){const{key:t,action:n,oldValue:a,newValue:r}=e;let o="";return o="set"===n||"update"===n?`ÂÄº‰ªé ${JSON.stringify(a)} Âèò‰∏∫ ${JSON.stringify(r)}`:"add"===n?`Êï∞ÂÄºÂ¢ûÂä†‰∫Ü ${r}`:"delete"===n?"ÁßªÈô§‰∫ÜËØ•Â≠óÊÆµ":`ÊâßË°å‰∫Ü ${n} Êìç‰Ωú`,{icon:"info",color:"gray",title:`Êï∞ÊçÆÂèòÊõ¥: ${t}`,description:o}}var we=n(8381);const Ee=(0,d.A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Ne=(0,d.A)("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);var Se=n(6680);const _e=(0,d.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var Ve=n(5976);const Ce={class:"state-change-viewer"},Ae={class:"viewer-header"},De={class:"viewer-summary"},Te={class:"summary-item added"},Be={class:"summary-item removed"},Ie={class:"summary-item updated"},Me={key:0,class:"summary-item errors"},ze={class:"viewer-content"},Pe={key:0,class:"no-changes"},Re={key:1,class:"changes-list"},$e={class:"item-icon"},Oe={class:"item-content"},Le={class:"item-title"},Fe={class:"item-description"},je={key:0,class:"item-details"},Ue=(0,e.defineComponent)({__name:"StateChangeViewer",props:{log:{}},emits:["close"],setup(t){const n=t,a=(0,e.computed)(()=>function(e){const t={summary:{added:0,removed:0,updated:0,errors:0},changes:[]};if(!e||!(0,ge.isArray)(e.changes))return t;for(const n of e.changes){let e=null;e=xe(n),e||(e=ve(n)),e||(e=be(n)),e||(e=ye(n)),e||(e=ke(n)),t.changes.push(e),"add"===e.icon?t.summary.added++:"remove"===e.icon?t.summary.removed++:"update"===e.icon?t.summary.updated++:"error"===e.icon&&t.summary.errors++}return t}(n.log));return(t,n)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{class:"state-change-overlay",onClick:n[1]||(n[1]=(0,e.withModifiers)(e=>t.$emit("close"),["self"]))},[(0,e.createElementVNode)("div",Ce,[(0,e.createElementVNode)("div",Ae,[(0,e.createElementVNode)("h3",null,[(0,e.createVNode)((0,e.unref)(we.A),{size:18}),(0,e.createTextVNode)(" "+(0,e.toDisplayString)(t.$t("ÂèòÊõ¥Êó•Âøó")),1)]),(0,e.createElementVNode)("button",{onClick:n[0]||(n[0]=e=>t.$emit("close")),class:"close-btn"},[(0,e.createVNode)((0,e.unref)(g.A),{size:20})])]),(0,e.createElementVNode)("div",De,[(0,e.createElementVNode)("div",Te,[(0,e.createVNode)((0,e.unref)(Ee),{size:16}),(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(t.$t("Êñ∞Â¢û"))+" "+(0,e.toDisplayString)(a.value.summary.added),1)]),(0,e.createElementVNode)("div",Be,[(0,e.createVNode)((0,e.unref)(Ne),{size:16}),(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(t.$t("ÁßªÈô§"))+" "+(0,e.toDisplayString)(a.value.summary.removed),1)]),(0,e.createElementVNode)("div",Ie,[(0,e.createVNode)((0,e.unref)(te.A),{size:16}),(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(t.$t("Êõ¥Êñ∞"))+" "+(0,e.toDisplayString)(a.value.summary.updated),1)]),a.value.summary.errors>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",Me,[(0,e.createVNode)((0,e.unref)(g.A),{size:16}),(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(t.$t("ÈîôËØØ"))+" "+(0,e.toDisplayString)(a.value.summary.errors),1)])):(0,e.createCommentVNode)("v-if",!0)]),(0,e.createElementVNode)("div",ze,[0===a.value.changes.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",Pe,[(0,e.createElementVNode)("p",null,(0,e.toDisplayString)(t.$t("Êú¨Ê¨°Êìç‰ΩúÊ≤°Êúâ‰∫ßÁîüÂèØËßÅÁöÑÁä∂ÊÄÅÂèòÊõ¥„ÄÇ")),1)])):((0,e.openBlock)(),(0,e.createElementBlock)("div",Re,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(a.value.changes,(t,n)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:n,class:(0,e.normalizeClass)(["change-item",`item-${t.color}`])},[(0,e.createElementVNode)("div",$e,["add"===t.icon?((0,e.openBlock)(),(0,e.createBlock)((0,e.unref)(Se.A),{key:0,size:18})):"remove"===t.icon?((0,e.openBlock)(),(0,e.createBlock)((0,e.unref)(_e),{key:1,size:18})):"update"===t.icon?((0,e.openBlock)(),(0,e.createBlock)((0,e.unref)(te.A),{key:2,size:18})):"error"===t.icon?((0,e.openBlock)(),(0,e.createBlock)((0,e.unref)(g.A),{key:3,size:18})):((0,e.openBlock)(),(0,e.createBlock)((0,e.unref)(Ve.A),{key:4,size:18}))]),(0,e.createElementVNode)("div",Oe,[(0,e.createElementVNode)("p",Le,(0,e.toDisplayString)(t.title),1),(0,e.createElementVNode)("p",Fe,(0,e.toDisplayString)(t.description),1),t.details&&t.details.length>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",je,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.details,(t,n)=>((0,e.openBlock)(),(0,e.createElementBlock)("p",{key:n},(0,e.toDisplayString)(t),1))),128))])):(0,e.createCommentVNode)("v-if",!0)])],2))),128))]))])])]))}});var qe=n(3353),Ge={};Ge.styleTagTransform=T(),Ge.setAttributes=V(),Ge.insert=S().bind(null,"head"),Ge.domAPI=E(),Ge.insertStyleElement=A(),k()(qe.A,Ge),qe.A&&qe.A.locals&&qe.A.locals;const He=(0,M.A)(Ue,[["__scopeId","data-v-a2a95590"]]);var Ye=n(8275);const We=(0,d.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Xe=["title","aria-label","aria-expanded"],Je=(0,e.defineComponent)({__name:"ActionMenu",props:{position:{default:"bottom-right"},offsetPx:{default:24},openTitle:{default:"ËèúÂçï"},closeTitle:{default:"ÂÖ≥Èó≠"}},setup(t){const n=t,a=(0,e.ref)(!1),r=()=>{a.value=!1},o=()=>{a.value=!a.value},i=(0,e.computed)(()=>"top-right"===n.position?"pos-top-right":"pos-bottom-right"),s=(0,e.computed)(()=>{const e=`${n.offsetPx}px`;return"top-right"===n.position?{top:e,right:e}:{bottom:e,right:e}});return(t,n)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)(["action-menu",i.value]),style:(0,e.normalizeStyle)(s.value)},[(0,e.createVNode)(e.Transition,{name:"menu-fade"},{default:(0,e.withCtx)(()=>[a.value?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"overlay",onClick:r})):(0,e.createCommentVNode)("v-if",!0)]),_:1}),(0,e.createVNode)(e.Transition,{name:"menu-pop"},{default:(0,e.withCtx)(()=>[a.value?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"menu",onClick:n[0]||(n[0]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.renderSlot)(t.$slots,"menu",{close:r})])):(0,e.createCommentVNode)("v-if",!0)]),_:3}),(0,e.createElementVNode)("button",{class:"fab",title:a.value?t.closeTitle:t.openTitle,"aria-label":a.value?t.closeTitle:t.openTitle,"aria-expanded":a.value,onClick:o},[((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(a.value?(0,e.unref)(g.A):(0,e.unref)(We)),{size:22}))],8,Xe)],6))}});var Ke=n(112),Ze={};Ze.styleTagTransform=T(),Ze.setAttributes=V(),Ze.insert=S().bind(null,"head"),Ze.domAPI=E(),Ze.insertStyleElement=A(),k()(Ke.A,Ze),Ke.A&&Ke.A.locals&&Ke.A.locals;const Qe=(0,M.A)(Je,[["__scopeId","data-v-7abf98f0"]]);var et=n(9132),tt=n(7832),nt=(n(4511),n(1211)),at=n(4582),rt=n(100),ot=n(8651),it=n(4459),st=n(9333),lt=n(8546);async function ct(){if(!(0,lt.isBackendConfigured)())return;const e=localStorage.getItem("access_token");if(!e)return;const t=(0,lt.mh)("/api/v1/presence/heartbeat");if(t)try{await fetch(t,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:"{}"})}catch{}}var dt=n(1040);const ut={id:"app-container"},mt=["onClick"],pt=["onClick"],gt=["onClick"],ht=["onClick"],ft=["onClick"],vt=["onClick"],bt={class:"settings-modal-content"},yt={class:"settings-modal-header"},xt={class:"settings-modal-body"},kt={class:"settings-modal-content"},wt={class:"settings-modal-header"},Et={class:"settings-modal-body"},Nt={class:"help-modal"},St={class:"help-header"},_t={class:"help-body"},Vt={class:"help-version"},Ct=(0,e.defineComponent)({__name:"App",setup(t){const n=(0,e.ref)(null),r=(0,e.ref)(!1),d=(0,e.ref)("light"!==localStorage.getItem("theme")),f=(0,e.ref)("true"===localStorage.getItem("fullscreen")),v=(0,e.ref)(!1),b=(0,e.ref)(!1),y=(0,e.ref)(!1),x=(0,e.ref)((0,lt.isBackendConfigured)()),k=(0,e.computed)(()=>"true"===localStorage.getItem("is_admin")),w=(0,e.computed)(()=>x.value?n.value??"ÂêåÊ≠•‰∏≠":""),E=(0,rt.useAPIManagementStore)(),N=(0,a.useRouter)(),S=(0,a.useRoute)(),_=(0,e.computed)(()=>S.path.startsWith("/game"));(0,e.watch)(_,e=>{e&&(b.value=!1)});const V=e=>{const t={ModeSelection:"/",CharacterCreation:"/creation",Login:"/login",CharacterManagement:"/management",GameView:"/game"}[e];t?N.push(t):(console.warn(`Êú™Áü•ÁöÑËßÜÂõæÂêçÁß∞: ${e}ÔºåÂ∞ÜÂØºËà™Ëá≥È¶ñÈ°µ„ÄÇ`),N.push("/"))},C=(0,nt.N)(),A=(0,at.useCharacterStore)(),D=(0,P.useUIStore)(),T=(0,e.ref)(null),B=(0,e.computed)(()=>_.value&&"ËÅîÊú∫"===A.activeCharacterProfile?.Ê®°Âºè),I=()=>{T.value&&(clearInterval(T.value),T.value=null)};(0,e.watch)([B,x],()=>{B.value&&x.value?(I(),x.value&&B.value&&(ct(),T.value=window.setInterval(()=>{ct()},15e3))):I()});const M=async e=>{try{if("cloud"===e&&!x.value)return h.o.info("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåËÅîÊú∫ÂÖ±‰øÆ‰∏çÂèØÁî®"),void V("ModeSelection");const t="cloud"===e?"cloud":"single";C.setMode(t),V("CharacterCreation")}catch(e){console.error("Failed to initialize creation data:",e),h.o.error("ÂàùÂßãÂåñÂàõËßíÊï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï„ÄÇ"),V("ModeSelection")}},R=()=>{N.push("/management")},$=()=>{C.resetCharacter(),V("ModeSelection")},O=()=>{r.value=!0,E.loadFromBackend(),A.loadLocalDataFromBackend(),L(),V("ModeSelection")},L=async()=>{if(x.value&&localStorage.getItem("access_token"))try{const e=await st.Em.get("/api/v1/user/prompts"),t=e?.prompts||{};await it.promptStorage.resetAll(),Object.keys(t).length&&await it.promptStorage.importPrompts(t)}catch(e){console.error("ÂêåÊ≠•Áî®Êà∑ÊèêÁ§∫ËØçÂ§±Ë¥•",e)}},F=()=>{x.value?V("Login"):h.o.info("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåÁôªÂΩï‰∏çÂèØÁî®")},j=async e=>{if(console.log("Êé•Êî∂Âà∞ÂàõËßíÊåá‰ª§...",e),console.log("[App.vue] ÁßçÊóèÂ≠óÊÆµÊ£ÄÊü•:",e.race),D.isLoading)return void console.warn("[App.vue] ËßíËâ≤ÂàõÂª∫Â∑≤Âú®ËøõË°å‰∏≠ÔºåÂøΩÁï•ÈáçÂ§çËØ∑Ê±Ç");A.initialized||(console.log("[App.vue] characterStore Êú™ÂàùÂßãÂåñÔºåÁ≠âÂæÖÂàùÂßãÂåñÂÆåÊàê..."),await A.initializeStore()),D.startLoading("ÂºÄÂßãÈì∏ÈÄ†Ê≥ïË∫´...");const t=`char_${Date.now()}`,n=async()=>{try{A.rootState.ËßíËâ≤ÂàóË°®[t]&&(console.log("[ËßíËâ≤ÂàõÂª∫] Ê£ÄÊµãÂà∞ÊÆãÁïôÊï∞ÊçÆÔºåÊ∏ÖÁêÜ‰∏≠..."),delete A.rootState.ËßíËâ≤ÂàóË°®[t],await A.commitMetadataToStorage());let n="Êó†ÂêçÊ∏∏Ê∞ë";try{const t=(0,ot.getTavernHelper)();if(t){const a=await t.getVariables({type:"global"}),r=a["persona.name"]||a.name||e.characterName;n=("string"==typeof r?r:e.characterName)||"Êó†ÂêçÊ∏∏Ê∞ë",console.log("[ÂàõËßíÂÆåÊàê] ‰ªéÈÖíÈ¶ÜPersonasËé∑ÂèñÂêçÂ≠ó:",n)}}catch(t){console.warn("[ÂàõËßíÂÆåÊàê] Êó†Ê≥ï‰ªéÈÖíÈ¶ÜËé∑ÂèñPersonaÂêçÂ≠óÔºå‰ΩøÁî®Áî®Êà∑ËæìÂÖ•:",t),n=e.characterName||"Êó†ÂêçË°åËÄÖ"}const a=e.baseAttributes?{‰ΩìË¥®:e.baseAttributes.root_bone??0,ËÉΩÊ∫ê:e.baseAttributes.spirituality??0,ÁÆóÊ≥ï:e.baseAttributes.comprehension??0,ËµÑÊ∫êÊÑüÁü•:e.baseAttributes.fortune??0,È≠ÖÂäõ:e.baseAttributes.charm??0,ÂøÉÊô∫:e.baseAttributes.temperament??0}:{‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0},r={ÂêçÂ≠ó:n,ÊÄßÂà´:"Â•≥"===e.gender||"ÂÖ∂‰ªñ"===e.gender?e.gender:"Áî∑",Âá∫ÁîüÊó•Êúü:{Âπ¥:0,Êúà:1,Êó•:1},ÁßçÊóè:e.race??"‰∫∫Êóè",‰∏ñÁïå:e.world||{name:"Êú™Áü•‰∏ñÁïå"},Ê®°ÂùóÈò∂‰Ωç:e.talentTier||{name:"Âü∫Á°ÄÁ∫ß"},Âá∫Áîü:e.origin||"ÈöèÊú∫Âá∫Ë∫´",ÊîπÈÄ†Ê†∏ÂøÉ:e.spiritRoot||"ÈöèÊú∫ÊîπÈÄ†",Ê®°Âùó:e.talents?.map(e=>({id:e.id,name:e.name,description:e.description||"",talent_cost:e.talent_cost,rarity:e.rarity}))||[],ÂàùÂßãÂÖ≠Áª¥:a,ÊàêÈïøÂÖ≠Áª¥:{‰ΩìË¥®:0,ËÉΩÊ∫ê:0,ÁÆóÊ≥ï:0,ËµÑÊ∫êÊÑüÁü•:0,È≠ÖÂäõ:0,ÂøÉÊô∫:0}},o={charId:t,baseInfo:r,world:e.world,mode:e.mode,age:e.age},i=await A.createNewCharacter(o);if(!i)throw new Error("ËßíËâ≤ÂàõÂª∫Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü• characterStore ÁöÑÊó•Âøó„ÄÇ");const s=A.rootState.ËßíËâ≤ÂàóË°®[t];if(!s)throw new Error("‰∏•ÈáçÈîôËØØÔºöËßíËâ≤ÂàõÂª∫ÂêéÊó†Ê≥ïÂú®ËßíËâ≤ÂàóË°®‰∏≠ÊâæÂà∞ÔºÅ");const l="ÂçïÊú∫"===s.Ê®°Âºè?"Â≠òÊ°£1":"Â≠òÊ°£";return A.rootState.ÂΩìÂâçÊøÄÊ¥ªÂ≠òÊ°£={ËßíËâ≤ID:t,Â≠òÊ°£ÊßΩ‰Ωç:l},await A.commitMetadataToStorage(),await new Promise(e=>setTimeout(e,500)),h.o.success(`„Äê${i.ÂêçÂ≠ó}„ÄëÂ∑≤ÊàêÂäüË∏èÂÖ•‰øÆË°å‰πãË∑ØÔºÅ`),await N.push("/game"),await new Promise(e=>setTimeout(e,100)),U(),!0}catch(e){console.error("ËßíËâ≤ÂàõÂª∫ËøáÁ®ãÂá∫ÈîôÔºö",e);const a=e instanceof Error?e.message:"Ê≥ïË∫´Èì∏ÈÄ†ËøáÁ®ã‰∏≠Âá∫Áé∞ÊÑèÂ§ñ";return A.rootState.ËßíËâ≤ÂàóË°®[t]&&(console.log("[ËßíËâ≤ÂàõÂª∫] ÂàõÂª∫Â§±Ë¥•ÔºåÊ∏ÖÁêÜÊÆãÁïôÊï∞ÊçÆ..."),delete A.rootState.ËßíËâ≤ÂàóË°®[t],await A.commitMetadataToStorage()),a.includes("Áî®Êà∑ÈÄâÊã©ÁªàÊ≠¢ËßíËâ≤ÂàõÂª∫")||a.includes("Áî®Êà∑ÈÄâÊã©‰∏çÁªßÁª≠ÈáçËØï")?(console.log("[ËßíËâ≤ÂàõÂª∫] Áî®Êà∑‰∏ªÂä®ÂèñÊ∂àÂàõÂª∫ÊµÅÁ®ã"),h.o.info("ËßíËâ≤ÂàõÂª∫Â∑≤ÂèñÊ∂à"),!1):new Promise(e=>{D.showRetryDialog({title:"ËßíËâ≤ÂàõÂª∫Â§±Ë¥•",message:`ËßíËâ≤ÂàõÂª∫ËøáÁ®ã‰∏≠ÈÅáÂà∞ÈóÆÈ¢òÔºö\n\n${a}\n\nÊòØÂê¶ÈáçÊñ∞Â∞ùËØïÂàõÂª∫ËßíËâ≤Ôºü`,confirmText:"ÈáçÊñ∞ÂàõÂª∫",cancelText:"ËøîÂõû‰∏ªÈ°µÈáçÊñ∞ÂºÄÂßã",onConfirm:async()=>{console.log("[ËßíËâ≤ÂàõÂª∫] Áî®Êà∑ÈÄâÊã©ÈáçÊñ∞ÂàõÂª∫"),e(await n())},onCancel:()=>{console.log("[ËßíËâ≤ÂàõÂª∫] Áî®Êà∑ÈÄâÊã©ËøîÂõû‰∏ªÈ°µÈáçÊñ∞ÂºÄÂßã"),h.o.info("Â∑≤ËøîÂõû‰∏ªÈ°µÔºåÂèØÈáçÊñ∞ÂºÄÂßãÁîüÊàê"),C.resetCharacter(),N.push("/"),e(!1)}})})}};try{console.log("[App.vue] ÂºÄÂßãÊâßË°åattemptCreation...");const e=await n();console.log("[App.vue] attemptCreationÊâßË°åÂÆåÊàê,ÁªìÊûú:",e),e||console.log("[ËßíËâ≤ÂàõÂª∫] ‰øùÊåÅÂú®ËßíËâ≤ÂàõÂª∫È°µÈù¢")}catch(e){console.error("[App.vue] ËßíËâ≤ÂàõÂª∫ÊµÅÁ®ãÂá∫Áé∞‰∏•ÈáçÈîôËØØÔºö",e);const t=e instanceof Error?e.message:String(e);h.o.error(`ËßíËâ≤ÂàõÂª∫Â§±Ë¥•: ${t}`),t.includes("Ë∂ÖÊó∂")&&h.o.error("ÂàõÂª∫ËøáÁ®ãË∂ÖÊó∂,ËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•ÂíåSillyTavernÁä∂ÊÄÅ")}finally{console.log("[App.vue] finally: ÂÅúÊ≠¢loading"),D.stopLoading()}};(0,e.watchEffect)(()=>{const e=d.value?"dark":"light";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)});const U=()=>{f.value&&!(0,dt.Kn)()&&(console.log("[ÂÖ®Â±è] Ê£ÄÊµãÂà∞ÈúÄË¶ÅÊÅ¢Â§çÂÖ®Â±èÁä∂ÊÄÅ"),console.warn("[ÂÖ®Â±è] ÊµèËßàÂô®ÈôêÂà∂ÔºöÊó†Ê≥ïËá™Âä®ÊÅ¢Â§çÂÖ®Â±èÔºåËØ∑ÊâãÂä®ÁÇπÂáªÂÖ®Â±èÊåâÈíÆ„ÄÇ"),f.value=!1,localStorage.setItem("fullscreen","false"))},G=()=>{v.value=!0};return(0,e.onMounted)(async()=>{if(x.value){const e=await(0,lt.d9)();e&&(n.value=e)}console.log("[App] Á≠âÂæÖ characterStore ÂàùÂßãÂåñ..."),await A.initializeStore(),console.log("[App] ‚úÖ characterStore ÂàùÂßãÂåñÂÆåÊàê");let t=null;const a=()=>{try{if(window.parent===window)return;document.documentElement.classList.add("is-iframe");let e=window;for(let n=0;n<5;n++)try{if(!e.parent||e.parent===e)break;{const a=o()("#chat",e.parent.document);if(a.length>0){const r=a.height();if(r){const a=.9*r+"px";return document.documentElement.style.minHeight=a,console.log(`[App.vue] Âú®Á¨¨${n+1}Â±ÇÁà∂Á™óÂè£ÊâæÂà∞#chatÔºåÂ∫îÁî®min-height: ${a}`),void(t=e.parent)}}e=e.parent}}catch{break}console.warn("[App.vue] Âú®ÊâÄÊúâÂèØËÆøÈóÆÁöÑÁà∂Á™óÂè£‰∏≠Êú™ÊâæÂà∞ #chat ÂÖÉÁ¥†ÔºåÊó†Ê≥ïËá™Âä®Ë∞ÉÊï¥È´òÂ∫¶„ÄÇ")}catch(e){console.error("[App.vue] ËÆøÈóÆÁà∂Á™óÂè£DOMÂ§±Ë¥•ÔºåÂèØËÉΩÊòØË∑®ÂüüÈôêÂà∂„ÄÇ",e)}};a();try{t?o()(t).on("resize",a):window.parent!==window&&o()(parent.window).on("resize",a)}catch{}const r=()=>{const e=!!(0,dt.Kn)();f.value=e,localStorage.setItem("fullscreen",e.toString())};document.addEventListener("fullscreenchange",r),document.addEventListener("webkitfullscreenchange",r),document.addEventListener("mozfullscreenchange",r),document.addEventListener("MSFullscreenChange",r),r(),setTimeout(()=>{U()},500);const i=setInterval(async()=>{try{const e=A.activeSaveSlot;e?.Â≠òÊ°£Êï∞ÊçÆ&&(console.log("[ÂÆöÊó∂‰øùÂ≠ò] ‰øùÂ≠òÂΩìÂâçÂ≠òÊ°£..."),await A.saveCurrentGame(),console.log("[ÂÆöÊó∂‰øùÂ≠ò] ‰øùÂ≠òÊàêÂäü"))}catch(e){console.error("[ÂÆöÊó∂‰øùÂ≠ò] ‰øùÂ≠òÂ§±Ë¥•:",e)}},3e5);(0,e.onUnmounted)(()=>{I(),clearInterval(i);try{t?o()(t).off("resize",a):window.parent!==window&&o()(parent.window).off("resize",a)}catch{}document.removeEventListener("fullscreenchange",r),document.removeEventListener("webkitfullscreenchange",r),document.removeEventListener("mozfullscreenchange",r),document.removeEventListener("MSFullscreenChange",r)})}),(0,e.watch)(S,(e,t)=>{e.path!==t?.path&&(console.log(`[ÂÖ®Â±è] Ë∑ØÁî±‰ªé ${t?.path} ÂàáÊç¢Âà∞ ${e.path}`),setTimeout(()=>{U()},200))},{immediate:!1}),(t,n)=>{const a=(0,e.resolveComponent)("router-view");return(0,e.openBlock)(),(0,e.createElementBlock)("div",ut,[(0,e.createVNode)(z),(0,e.createVNode)(q),(0,e.createVNode)(ee),(0,e.createVNode)(pe),(0,e.unref)(D).showStateChangeViewer?((0,e.openBlock)(),(0,e.createBlock)(He,{key:0,log:(0,e.unref)(D).stateChangeLogToShow,onClose:(0,e.unref)(D).closeStateChangeViewer},null,8,["log","onClose"])):(0,e.createCommentVNode)("v-if",!0),(0,e.createVNode)(Ye.A),(0,e.createCommentVNode)(" ÂÖ®Â±ÄÊìç‰ΩúÊåâÈíÆ - Âè™Âú®ÈùûÊ∏∏ÊàèÁïåÈù¢ÊòæÁ§∫ "),(0,e.createCommentVNode)('\n    <div v-if="!isInGameView" class="global-actions">\n      <label class="theme-toggle" @click.prevent="toggleTheme">\n        <input type="checkbox" ref="globalThemeCheckbox" :checked="!isDarkMode" />\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="moon">\n          <path\n            d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"\n          ></path>\n        </svg>\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="sun">\n          <path\n            d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"\n          ></path>\n        </svg>\n      </label>\n      <label class="fullscreen-toggle" @click.prevent="toggleFullscreen">\n        <input type="checkbox" ref="globalFullscreenCheckbox" />\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="expand">\n          <path\n            d="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"\n          ></path>\n        </svg>\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="compress">\n          <path\n            d="M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"\n          ></path>\n        </svg>\n      </label>\n      <a\n        href="https://ddct.top"\n        target="_blank"\n        rel="noopener noreferrer"\n        class="theme-toggle"\n        title="ÊïôÁ®ã"\n      >\n        <HelpCircle :size="24" />\n      </a>\n    </div>\n    '),(0,e.createCommentVNode)(" ÂÖ®Â±ÄÊìç‰ΩúÊåâÈíÆÔºàÂêàÂπ∂ËèúÂçïÔºâ - Âè™Âú®ÈùûÊ∏∏ÊàèÁïåÈù¢ÊòæÁ§∫ "),_.value?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)(Qe,{key:1,position:"top-right",openTitle:"ÂäüËÉΩ",closeTitle:"ÂÖ≥Èó≠"},{menu:(0,e.withCtx)(({close:t})=>[(0,e.createElementVNode)("button",{class:"action-menu-item",onClick:e=>{b.value=!0,t()}},[(0,e.createVNode)((0,e.unref)(i.A),{size:18}),n[6]||(n[6]=(0,e.createElementVNode)("span",null,"ËÆæÁΩÆ",-1))],8,mt),(0,e.createElementVNode)("button",{class:"action-menu-item",onClick:e=>(e=>{if(!localStorage.getItem("access_token"))return h.o.info("ËØ∑ÂÖàÁôªÂΩï"),void e();y.value=!0,E.loadFromBackend(),e()})(t)},[(0,e.createVNode)((0,e.unref)(s.A),{size:18}),n[7]||(n[7]=(0,e.createElementVNode)("span",null,"APIÈÖçÁΩÆ",-1))],8,pt),(0,e.createElementVNode)("button",{class:(0,e.normalizeClass)(["action-menu-item",{"is-disabled":!x.value}]),onClick:e=>(e=>{x.value?(N.push("/account"),e()):h.o.info("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåË¥¶Âè∑‰∏≠ÂøÉ‰∏çÂèØÁî®")})(t)},[(0,e.createVNode)((0,e.unref)(l.A),{size:18}),n[8]||(n[8]=(0,e.createElementVNode)("span",null,"ÊàëÁöÑË¥¶Âè∑",-1))],10,gt),k.value?((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:0,class:(0,e.normalizeClass)(["action-menu-item",{"is-disabled":!x.value}]),onClick:e=>(e=>{x.value?"true"===localStorage.getItem("is_admin")?(window.location.href="http://35.212.207.57:12345/admin",e()):h.o.error("ÈúÄË¶ÅÁÆ°ÁêÜÂëòÊùÉÈôêÊâçËÉΩËÆøÈóÆÂêéÁ´ØÁÆ°ÁêÜ"):h.o.info("Êú™ÈÖçÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÔºåÂêéÁ´ØÁÆ°ÁêÜ‰∏çÂèØÁî®")})(t)},[(0,e.createVNode)((0,e.unref)(c.A),{size:18}),n[9]||(n[9]=(0,e.createElementVNode)("span",null,"ÂêéÁ´ØÁÆ°ÁêÜ",-1))],10,ht)):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("button",{class:"action-menu-item",onClick:e=>{(0,dt.Kn)()?(0,dt.Eh)().then(()=>{f.value=!1,localStorage.setItem("fullscreen","false"),console.log("[ÂÖ®Â±è] Â∑≤ÈÄÄÂá∫ÂÖ®Â±èÊ®°ÂºèÂπ∂‰øùÂ≠òÁä∂ÊÄÅ")}).catch(e=>{console.error("Êó†Ê≥ïÈÄÄÂá∫ÂÖ®Â±èÊ®°Âºè:",e),h.o.error((0,dt.zp)(e))}):(0,dt.lh)(document.documentElement).then(()=>{f.value=!0,localStorage.setItem("fullscreen","true"),console.log("[ÂÖ®Â±è] Â∑≤ËøõÂÖ•ÂÖ®Â±èÊ®°ÂºèÂπ∂‰øùÂ≠òÁä∂ÊÄÅ")}).catch(e=>{console.error("Êó†Ê≥ïËøõÂÖ•ÂÖ®Â±èÊ®°Âºè:",e),h.o.error((0,dt.zp)(e))}),t()}},[((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(f.value?(0,e.unref)(u):(0,e.unref)(m)),{size:18})),(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(f.value?"ÈÄÄÂá∫ÂÖ®Â±è":"ËøõÂÖ•ÂÖ®Â±è"),1)],8,ft),(0,e.createElementVNode)("button",{class:"action-menu-item",onClick:e=>{G(),t()}},[(0,e.createVNode)((0,e.unref)(p.A),{size:18}),n[10]||(n[10]=(0,e.createElementVNode)("span",null,"ÂÖ≥‰∫é",-1))],8,vt)]),_:1})),(0,e.createCommentVNode)(" Ë∑ØÁî±ËßÜÂõæÂ∞ÜÂú®ËøôÈáåÊ∏≤ÊüìÊâÄÊúâÈ°µÈù¢ "),(0,e.createVNode)(a,null,{default:(0,e.withCtx)(({Component:t})=>[((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(t),{onStartCreation:M,onShowCharacterList:R,onGoToLogin:F,onBack:$,onCreationComplete:j,onLoggedIn:O,onLogin:F,onShowHelp:G},null,32))]),_:1}),(0,e.createCommentVNode)(" Settings Modal "),b.value?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:2,class:"settings-modal-overlay",onClick:n[1]||(n[1]=(0,e.withModifiers)(e=>b.value=!1,["self"]))},[(0,e.createElementVNode)("div",bt,[(0,e.createElementVNode)("div",yt,[n[11]||(n[11]=(0,e.createElementVNode)("h3",null,"ËÆæÁΩÆ",-1)),(0,e.createElementVNode)("button",{class:"close-btn",onClick:n[0]||(n[0]=e=>b.value=!1)},"√ó")]),(0,e.createElementVNode)("div",xt,[(0,e.createVNode)(et.A)])])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" APIÁÆ°ÁêÜÂºπÁ™ó "),y.value?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:3,class:"settings-modal-overlay",onClick:n[3]||(n[3]=(0,e.withModifiers)(e=>y.value=!1,["self"]))},[(0,e.createElementVNode)("div",kt,[(0,e.createElementVNode)("div",wt,[n[12]||(n[12]=(0,e.createElementVNode)("h3",null,"APIÁÆ°ÁêÜ",-1)),(0,e.createElementVNode)("button",{class:"close-btn",onClick:n[2]||(n[2]=e=>y.value=!1)},"√ó")]),(0,e.createElementVNode)("div",Et,[(0,e.createVNode)(tt.A)])])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" ÊïôÁ®ãÂºπÁ™ó "),v.value?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:4,class:"help-overlay",onClick:n[5]||(n[5]=(0,e.withModifiers)(e=>v.value=!1,["self"]))},[(0,e.createElementVNode)("div",Nt,[(0,e.createElementVNode)("div",St,[n[13]||(n[13]=(0,e.createElementVNode)("h2",{class:"help-title"},"ÂÖ≥‰∫é",-1)),(0,e.createElementVNode)("button",{class:"help-close",onClick:n[4]||(n[4]=e=>v.value=!1)},[(0,e.createVNode)((0,e.unref)(g.A),{size:18})])]),(0,e.createElementVNode)("div",_t,[(0,e.createElementVNode)("div",Vt,"v"+(0,e.toDisplayString)(w.value),1),n[14]||(n[14]=(0,e.createElementVNode)("p",{class:"help-desc"},"AIÈ©±Âä®ÁöÑÊ≤âÊµ∏ÂºèÊñáÂ≠óÂÜíÈô©Ê∏∏Êàè",-1)),n[15]||(n[15]=(0,e.createElementVNode)("p",{class:"help-desc"},"Êúâ‰ªª‰ΩïÈóÆÈ¢òËØ∑ËÅîÁ≥ªÔºösupport@advapute.com",-1)),n[16]||(n[16]=(0,e.createElementVNode)("div",{class:"help-warning"},[(0,e.createElementVNode)("span",null,"‚ö†Ô∏è Ê≥®ÊÑèÔºÅËØ∑ÊÇ®Â∞ΩÈáè‰ΩøÁî®Êé®ËçêÈÖçÁΩÆÔºåÂ¶ÇÈúÄËá™Ë°åË∞ÉÊï¥ËØ∑Á°Æ‰øùÊÇ®‰∫ÜËß£Ê∏∏ÊàèÂéüÁêÜ")],-1))])])])):(0,e.createCommentVNode)("v-if",!0)])}}});var At=n(6686),Dt={};Dt.styleTagTransform=T(),Dt.setAttributes=V(),Dt.insert=S().bind(null,"head"),Dt.domAPI=E(),Dt.insertStyleElement=A(),k()(At.A,Dt),At.A&&At.A.locals&&At.A.locals;const Tt=(0,M.A)(Ct,[["__scopeId","data-v-43bbeb86"]]);var Bt=n(2143),It=n(9352),Mt={};Mt.styleTagTransform=T(),Mt.setAttributes=V(),Mt.insert=S().bind(null,"head"),Mt.domAPI=E(),Mt.insertStyleElement=A(),k()(It.A,Mt),It.A&&It.A.locals&&It.A.locals;var zt=n(1606),Pt={};Pt.styleTagTransform=T(),Pt.setAttributes=V(),Pt.insert=S().bind(null,"head"),Pt.domAPI=E(),Pt.insertStyleElement=A(),k()(zt.A,Pt),zt.A&&zt.A.locals&&zt.A.locals;var Rt=n(6627),$t={};$t.styleTagTransform=T(),$t.setAttributes=V(),$t.insert=S().bind(null,"head"),$t.domAPI=E(),$t.insertStyleElement=A(),k()(Rt.A,$t),Rt.A&&Rt.A.locals&&Rt.A.locals;var Ot=n(8396),Lt={};Lt.styleTagTransform=T(),Lt.setAttributes=V(),Lt.insert=S().bind(null,"head"),Lt.domAPI=E(),Lt.insertStyleElement=A(),k()(Ot.A,Lt),Ot.A&&Ot.A.locals&&Ot.A.locals;var Ft=n(5954),jt={};jt.styleTagTransform=T(),jt.setAttributes=V(),jt.insert=S().bind(null,"head"),jt.domAPI=E(),jt.insertStyleElement=A(),k()(Ft.A,jt),Ft.A&&Ft.A.locals&&Ft.A.locals;var Ut=n(8507),qt={};qt.styleTagTransform=T(),qt.setAttributes=V(),qt.insert=S().bind(null,"head"),qt.domAPI=E(),qt.insertStyleElement=A(),k()(Ut.A,qt),Ut.A&&Ut.A.locals&&Ut.A.locals;var Gt=n(6254),Ht={};Ht.styleTagTransform=T(),Ht.setAttributes=V(),Ht.insert=S().bind(null,"head"),Ht.domAPI=E(),Ht.insertStyleElement=A(),k()(Gt.A,Ht),Gt.A&&Gt.A.locals&&Gt.A.locals;var Yt=n(3302);const Wt={log:console.log.bind(console),warn:console.warn.bind(console),info:console.info.bind(console),debug:console.debug?console.debug.bind(console):void 0,table:console.table?console.table.bind(console):void 0,group:console.group?console.group.bind(console):void 0,groupCollapsed:console.groupCollapsed?console.groupCollapsed.bind(console):void 0,groupEnd:console.groupEnd?console.groupEnd.bind(console):void 0,error:console.error.bind(console)},Xt=()=>Yt.w9.isConsoleDebugEnabled();console.log=(...e)=>{Xt()&&Wt.log(...e)},console.warn=(...e)=>{Xt()&&Wt.warn(...e)},console.info=(...e)=>{Yt.w9.isDebugMode()&&Wt.info(...e)},Wt.debug&&(console.debug=(...e)=>{Xt()&&Wt.debug(...e)}),Wt.table&&(console.table=(...e)=>{Xt()&&Wt.table(...e)}),Wt.group&&(console.group=(...e)=>{Xt()&&Wt.group(...e)}),Wt.groupCollapsed&&(console.groupCollapsed=(...e)=>{Xt()&&Wt.groupCollapsed(...e)}),Wt.groupEnd&&(console.groupEnd=(...e)=>{Xt()&&Wt.groupEnd(...e)});var Jt=n(5099),Kt=n(876);!async function(){console.log("„ÄêÂ∫îÁî®ÂêØÂä®„ÄëÂºÄÂßãÂàùÂßãÂåñÊµÅÁ®ã..."),document.documentElement.getAttribute("data-theme")||document.documentElement.setAttribute("data-theme","dark"),await(0,Jt.YK)(),console.log("„ÄêÂ∫îÁî®ÂêØÂä®„ÄëÊï∞ÊçÆËøÅÁßªÊ£ÄÊü•ÂÆåÊàêÔºåÂºÄÂßãÊåÇËΩΩVueÂ∫îÁî®");const n=(0,e.createApp)(Tt),{t:a}=(0,Kt.s)();n.config.globalProperties.$t=a,n.mixin({methods:{t:e=>a(e)}}),n.use((0,t.Ey)()),n.use(Bt.default),n.mount("#app"),console.log("„ÄêÂ∫îÁî®ÂêØÂä®„Äë‚úÖ VueÂ∫îÁî®Â∑≤ÊàêÂäüÊåÇËΩΩ")}()})()})();